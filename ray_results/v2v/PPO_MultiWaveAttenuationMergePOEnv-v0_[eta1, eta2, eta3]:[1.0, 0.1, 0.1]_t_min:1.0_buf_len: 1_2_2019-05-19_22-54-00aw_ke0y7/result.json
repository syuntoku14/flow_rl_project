{"hostname": "flow-main", "episode_reward_mean": 358.69190613968226, "experiment_id": "383e98f8614b4235818372cc4d63f9e0", "config": {"use_gae": true, "tf_session_args": {"allow_soft_placement": true, "gpu_options": {"allow_growth": true}, "inter_op_parallelism_threads": 2, "device_count": {"CPU": 1}, "intra_op_parallelism_threads": 2, "log_device_placement": false}, "entropy_coeff": 0.0, "kl_coeff": 0.2, "num_gpus_per_worker": 0, "monitor": false, "input_evaluation": null, "clip_rewards": null, "vf_share_layers": false, "straggler_mitigation": false, "log_level": "INFO", "clip_actions": false, "simple_optimizer": false, "sample_batch_size": 750, "vf_clip_param": 1000000.0, "custom_resources_per_worker": {}, "lr": 0.0005, "num_sgd_iter": 10, "model": {"grayscale": false, "dim": 84, "custom_model": null, "free_log_std": false, "custom_options": {}, "lstm_cell_size": 256, "framestack": true, "squash_to_range": false, "conv_filters": null, "channel_major": false, "custom_preprocessor": null, "fcnet_hiddens": [128, 64, 32], "max_seq_len": 20, "lstm_use_prev_action_reward": false, "conv_activation": "relu", "use_lstm": false, "zero_mean": true, "fcnet_activation": "tanh"}, "input": "sampler", "horizon": 1500, "vf_loss_coeff": 1.0, "compress_observations": false, "num_envs_per_worker": 1, "sample_async": false, "num_gpus": 0, "output_max_file_size": 67108864, "lambda": 0.97, "multiagent": {"policy_graphs": {}, "policies_to_train": null, "policy_mapping_fn": null}, "output": null, "num_cpus_per_worker": 1, "preprocessor_pref": "deepmind", "clip_param": 0.3, "kl_target": 0.01, "output_compress_columns": ["obs", "new_obs"], "collect_metrics_timeout": 180, "sgd_minibatch_size": 128, "train_batch_size": 30000, "callbacks": {"on_sample_end": null, "on_train_result": null, "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7f2c02d47358>", "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7f2c02d47390>", "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7f2c02d473c8>"}, "observation_filter": "MeanStdFilter", "synchronize_filters": true, "gamma": 0.99, "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "env_config": {"flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"buf_length\": 1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.1,\n            \"eta3\": 0.1,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 1.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnv\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 600,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}", "run": "PPO"}, "env": "MultiWaveAttenuationMergePOEnv-v0_[eta1, eta2, eta3]:[1.0, 0.1, 0.1]_t_min:1.0_buf_len: 1", "optimizer": {}, "num_workers": 20, "num_cpus_for_driver": 1, "lr_schedule": null, "batch_mode": "truncate_episodes"}, "time_this_iter_s": 49.64501976966858, "timesteps_since_restore": 64895, "info": {"update_time_ms": 740.177, "num_steps_sampled": 64895, "sample_time_ms": 32793.983, "grad_time_ms": 15863.313, "default": {"entropy": 1.4138522148132324, "kl": 0.0012605302035808563, "vf_loss": 1.0955817699432373, "vf_explained_var": 0.8944520354270935, "policy_loss": -0.0005548886256292462, "total_loss": 1.0952789783477783, "cur_lr": 0.0005000000237487257, "cur_kl_coeff": 0.20000001788139343}, "num_steps_trained": 64895, "load_time_ms": 46.926}, "time_total_s": 49.64501976966858, "num_metric_batches_dropped": 0, "timestamp": 1558306537, "episode_reward_max": 527.1603017074907, "timesteps_this_iter": 64895, "episode_reward_min": 226.46625565614107, "date": "2019-05-19_22-55-37", "policy_reward_mean": {}, "time_since_restore": 49.64501976966858, "episodes_total": 27, "iterations_since_restore": 1, "pid": 46880, "episodes_this_iter": 27, "episode_len_mean": 700.0, "done": false, "training_iteration": 1, "custom_metrics": {"cost2_mean": -0.0028953123193045044, "outflow_rate_mean": 609.1232303143121, "cost2_min": -0.07817343262122162, "system_level_velocity_mean": 7.683327873813206, "cost1_min": 159.16229297208196, "cost1_mean": 198.34870882821798, "cost1_max": 225.1219497661358, "outflow_rate_max": 739.5141018927127, "system_level_velocity_max": 8.753620509070394, "outflow_rate_min": 438.86757808552215, "cost2_max": 0.0, "system_level_velocity_min": 6.250203165922586}, "node_ip": "10.138.0.2", "timesteps_total": 64895}
{"hostname": "flow-main", "episode_reward_mean": 382.71754427689405, "experiment_id": "383e98f8614b4235818372cc4d63f9e0", "config": {"use_gae": true, "tf_session_args": {"allow_soft_placement": true, "gpu_options": {"allow_growth": true}, "inter_op_parallelism_threads": 2, "device_count": {"CPU": 1}, "intra_op_parallelism_threads": 2, "log_device_placement": false}, "entropy_coeff": 0.0, "kl_coeff": 0.2, "num_gpus_per_worker": 0, "monitor": false, "input_evaluation": null, "clip_rewards": null, "vf_share_layers": false, "straggler_mitigation": false, "log_level": "INFO", "clip_actions": false, "simple_optimizer": false, "sample_batch_size": 750, "vf_clip_param": 1000000.0, "custom_resources_per_worker": {}, "lr": 0.0005, "num_sgd_iter": 10, "model": {"grayscale": false, "dim": 84, "custom_model": null, "free_log_std": false, "custom_options": {}, "lstm_cell_size": 256, "framestack": true, "squash_to_range": false, "conv_filters": null, "channel_major": false, "custom_preprocessor": null, "fcnet_hiddens": [128, 64, 32], "max_seq_len": 20, "lstm_use_prev_action_reward": false, "conv_activation": "relu", "use_lstm": false, "zero_mean": true, "fcnet_activation": "tanh"}, "input": "sampler", "horizon": 1500, "vf_loss_coeff": 1.0, "compress_observations": false, "num_envs_per_worker": 1, "sample_async": false, "num_gpus": 0, "output_max_file_size": 67108864, "lambda": 0.97, "multiagent": {"policy_graphs": {}, "policies_to_train": null, "policy_mapping_fn": null}, "output": null, "num_cpus_per_worker": 1, "preprocessor_pref": "deepmind", "clip_param": 0.3, "kl_target": 0.01, "output_compress_columns": ["obs", "new_obs"], "collect_metrics_timeout": 180, "sgd_minibatch_size": 128, "train_batch_size": 30000, "callbacks": {"on_sample_end": null, "on_train_result": null, "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7f2c02ce8908>", "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7f2c02ce88d0>", "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7f2c02ce89e8>"}, "observation_filter": "MeanStdFilter", "synchronize_filters": true, "gamma": 0.99, "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "env_config": {"flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"buf_length\": 1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.1,\n            \"eta3\": 0.1,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 1.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnv\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 600,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}", "run": "PPO"}, "env": "MultiWaveAttenuationMergePOEnv-v0_[eta1, eta2, eta3]:[1.0, 0.1, 0.1]_t_min:1.0_buf_len: 1", "optimizer": {}, "num_workers": 20, "num_cpus_for_driver": 1, "lr_schedule": null, "batch_mode": "truncate_episodes"}, "time_this_iter_s": 49.05394196510315, "timesteps_since_restore": 134716, "info": {"update_time_ms": 373.848, "num_steps_sampled": 134716, "sample_time_ms": 32712.689, "grad_time_ms": 16079.659, "default": {"entropy": 1.411310076713562, "kl": 0.00878151971846819, "vf_loss": 1.0452686548233032, "vf_explained_var": 0.9536440968513489, "policy_loss": -0.00316813075914979, "total_loss": 1.0429786443710327, "cur_lr": 0.0005000000237487257, "cur_kl_coeff": 0.10000001639127731}, "num_steps_trained": 134716, "load_time_ms": 28.067}, "time_total_s": 98.69896173477173, "num_metric_batches_dropped": 0, "timestamp": 1558306586, "episode_reward_max": 596.7219526044821, "timesteps_this_iter": 69821, "episode_reward_min": 226.46625565614107, "date": "2019-05-19_22-56-26", "policy_reward_mean": {}, "time_since_restore": 98.69896173477173, "episodes_total": 54, "iterations_since_restore": 2, "pid": 46880, "episodes_this_iter": 27, "episode_len_mean": 700.0, "done": false, "training_iteration": 2, "custom_metrics": {"cost2_mean": -0.0014476561596522522, "outflow_rate_mean": 615.4477156610541, "cost2_min": -0.07817343262122162, "system_level_velocity_mean": 7.668373673777478, "cost1_min": 150.00923074048103, "cost1_mean": 198.55463471425574, "cost1_max": 248.2416123316122, "outflow_rate_max": 846.8614193040321, "system_level_velocity_max": 9.319267624362034, "outflow_rate_min": 438.86757808552215, "cost2_max": 0.0, "system_level_velocity_min": 5.900765149629871}, "node_ip": "10.138.0.2", "timesteps_total": 134716}
{"hostname": "flow-main", "episode_reward_mean": 475.72727528212255, "experiment_id": "383e98f8614b4235818372cc4d63f9e0", "config": {"use_gae": true, "tf_session_args": {"allow_soft_placement": true, "gpu_options": {"allow_growth": true}, "inter_op_parallelism_threads": 2, "device_count": {"CPU": 1}, "intra_op_parallelism_threads": 2, "log_device_placement": false}, "entropy_coeff": 0.0, "kl_coeff": 0.2, "num_gpus_per_worker": 0, "monitor": false, "input_evaluation": null, "clip_rewards": null, "vf_share_layers": false, "straggler_mitigation": false, "log_level": "INFO", "clip_actions": false, "simple_optimizer": false, "sample_batch_size": 750, "vf_clip_param": 1000000.0, "custom_resources_per_worker": {}, "lr": 0.0005, "num_sgd_iter": 10, "model": {"grayscale": false, "dim": 84, "custom_model": null, "free_log_std": false, "custom_options": {}, "lstm_cell_size": 256, "framestack": true, "squash_to_range": false, "conv_filters": null, "channel_major": false, "custom_preprocessor": null, "fcnet_hiddens": [128, 64, 32], "max_seq_len": 20, "lstm_use_prev_action_reward": false, "conv_activation": "relu", "use_lstm": false, "zero_mean": true, "fcnet_activation": "tanh"}, "input": "sampler", "horizon": 1500, "vf_loss_coeff": 1.0, "compress_observations": false, "num_envs_per_worker": 1, "sample_async": false, "num_gpus": 0, "output_max_file_size": 67108864, "lambda": 0.97, "multiagent": {"policy_graphs": {}, "policies_to_train": null, "policy_mapping_fn": null}, "output": null, "num_cpus_per_worker": 1, "preprocessor_pref": "deepmind", "clip_param": 0.3, "kl_target": 0.01, "output_compress_columns": ["obs", "new_obs"], "collect_metrics_timeout": 180, "sgd_minibatch_size": 128, "train_batch_size": 30000, "callbacks": {"on_sample_end": null, "on_train_result": null, "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7f2c02cecef0>", "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7f2c02cec390>", "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7f2c02cece48>"}, "observation_filter": "MeanStdFilter", "synchronize_filters": true, "gamma": 0.99, "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "env_config": {"flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"buf_length\": 1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.1,\n            \"eta3\": 0.1,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 1.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnv\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 600,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}", "run": "PPO"}, "env": "MultiWaveAttenuationMergePOEnv-v0_[eta1, eta2, eta3]:[1.0, 0.1, 0.1]_t_min:1.0_buf_len: 1", "optimizer": {}, "num_workers": 20, "num_cpus_for_driver": 1, "lr_schedule": null, "batch_mode": "truncate_episodes"}, "time_this_iter_s": 51.45301938056946, "timesteps_since_restore": 207398, "info": {"update_time_ms": 251.68, "num_steps_sampled": 207398, "sample_time_ms": 33636.361, "grad_time_ms": 15997.97, "default": {"entropy": 1.3907227516174316, "kl": 0.012853334657847881, "vf_loss": 2.711923837661743, "vf_explained_var": 0.944559633731842, "policy_loss": -0.0052329422906041145, "total_loss": 2.7079761028289795, "cur_lr": 0.0005000000237487257, "cur_kl_coeff": 0.10000000894069672}, "num_steps_trained": 207398, "load_time_ms": 22.311}, "time_total_s": 150.1519811153412, "num_metric_batches_dropped": 0, "timestamp": 1558306638, "episode_reward_max": 931.3950432866098, "timesteps_this_iter": 72682, "episode_reward_min": 226.46625565614107, "date": "2019-05-19_22-57-18", "policy_reward_mean": {}, "time_since_restore": 150.1519811153412, "episodes_total": 80, "iterations_since_restore": 3, "pid": 46880, "episodes_this_iter": 26, "episode_len_mean": 700.0, "done": false, "training_iteration": 3, "custom_metrics": {"cost2_mean": -0.0009771679077652702, "outflow_rate_mean": 671.2419988028156, "cost2_min": -0.07817343262122162, "system_level_velocity_mean": 8.118382767670614, "cost1_min": 150.00923074048103, "cost1_mean": 211.66898316020814, "cost1_max": 315.8100818474875, "outflow_rate_max": 1027.8057866474671, "system_level_velocity_max": 11.752335078038081, "outflow_rate_min": 438.86757808552215, "cost2_max": 0.0, "system_level_velocity_min": 5.8035120966708265}, "node_ip": "10.138.0.2", "timesteps_total": 207398}
{"hostname": "flow-main", "episode_reward_mean": 568.4554947828608, "experiment_id": "383e98f8614b4235818372cc4d63f9e0", "config": {"use_gae": true, "tf_session_args": {"allow_soft_placement": true, "gpu_options": {"allow_growth": true}, "inter_op_parallelism_threads": 2, "device_count": {"CPU": 1}, "intra_op_parallelism_threads": 2, "log_device_placement": false}, "entropy_coeff": 0.0, "kl_coeff": 0.2, "num_gpus_per_worker": 0, "monitor": false, "input_evaluation": null, "clip_rewards": null, "vf_share_layers": false, "straggler_mitigation": false, "log_level": "INFO", "clip_actions": false, "simple_optimizer": false, "sample_batch_size": 750, "vf_clip_param": 1000000.0, "custom_resources_per_worker": {}, "lr": 0.0005, "num_sgd_iter": 10, "model": {"grayscale": false, "dim": 84, "custom_model": null, "free_log_std": false, "custom_options": {}, "lstm_cell_size": 256, "framestack": true, "squash_to_range": false, "conv_filters": null, "channel_major": false, "custom_preprocessor": null, "fcnet_hiddens": [128, 64, 32], "max_seq_len": 20, "lstm_use_prev_action_reward": false, "conv_activation": "relu", "use_lstm": false, "zero_mean": true, "fcnet_activation": "tanh"}, "input": "sampler", "horizon": 1500, "vf_loss_coeff": 1.0, "compress_observations": false, "num_envs_per_worker": 1, "sample_async": false, "num_gpus": 0, "output_max_file_size": 67108864, "lambda": 0.97, "multiagent": {"policy_graphs": {}, "policies_to_train": null, "policy_mapping_fn": null}, "output": null, "num_cpus_per_worker": 1, "preprocessor_pref": "deepmind", "clip_param": 0.3, "kl_target": 0.01, "output_compress_columns": ["obs", "new_obs"], "collect_metrics_timeout": 180, "sgd_minibatch_size": 128, "train_batch_size": 30000, "callbacks": {"on_sample_end": null, "on_train_result": null, "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7f2c02cec940>", "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7f2c02cec780>", "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7f2c02cec748>"}, "observation_filter": "MeanStdFilter", "synchronize_filters": true, "gamma": 0.99, "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "env_config": {"flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"buf_length\": 1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.1,\n            \"eta3\": 0.1,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 1.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnv\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 600,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}", "run": "PPO"}, "env": "MultiWaveAttenuationMergePOEnv-v0_[eta1, eta2, eta3]:[1.0, 0.1, 0.1]_t_min:1.0_buf_len: 1", "optimizer": {}, "num_workers": 20, "num_cpus_for_driver": 1, "lr_schedule": null, "batch_mode": "truncate_episodes"}, "time_this_iter_s": 55.87651252746582, "timesteps_since_restore": 283971, "info": {"update_time_ms": 190.482, "num_steps_sampled": 283971, "sample_time_ms": 34476.998, "grad_time_ms": 16682.462, "default": {"entropy": 1.3823530673980713, "kl": 0.010520156472921371, "vf_loss": 4.718489170074463, "vf_explained_var": 0.9339277148246765, "policy_loss": -0.005138039588928223, "total_loss": 4.714402675628662, "cur_lr": 0.0005000000237487257, "cur_kl_coeff": 0.10000000894069672}, "num_steps_trained": 283971, "load_time_ms": 19.364}, "time_total_s": 206.028493642807, "num_metric_batches_dropped": 0, "timestamp": 1558306694, "episode_reward_max": 1000.600182449017, "timesteps_this_iter": 76573, "episode_reward_min": 69.94850578290193, "date": "2019-05-19_22-58-14", "policy_reward_mean": {}, "time_since_restore": 206.028493642807, "episodes_total": 106, "iterations_since_restore": 4, "pid": 46880, "episodes_this_iter": 26, "episode_len_mean": 693.41, "done": false, "training_iteration": 4, "custom_metrics": {"cost2_mean": -0.007398325591374589, "outflow_rate_mean": 731.6344361249201, "cost2_min": -0.38461538461538464, "system_level_velocity_mean": 8.701825507503768, "cost1_min": 26.51324457437416, "cost1_mean": 223.98681859327186, "cost1_max": 315.8100818474875, "outflow_rate_max": 1027.8057866474671, "system_level_velocity_max": 17.825724932014403, "outflow_rate_min": 438.86757808552215, "cost2_max": 0.0, "system_level_velocity_min": 5.8035120966708265}, "node_ip": "10.138.0.2", "timesteps_total": 283971}
{"hostname": "flow-main", "episode_reward_mean": 704.3982367245221, "experiment_id": "383e98f8614b4235818372cc4d63f9e0", "config": {"use_gae": true, "tf_session_args": {"allow_soft_placement": true, "gpu_options": {"allow_growth": true}, "inter_op_parallelism_threads": 2, "device_count": {"CPU": 1}, "intra_op_parallelism_threads": 2, "log_device_placement": false}, "entropy_coeff": 0.0, "kl_coeff": 0.2, "num_gpus_per_worker": 0, "monitor": false, "input_evaluation": null, "clip_rewards": null, "vf_share_layers": false, "straggler_mitigation": false, "log_level": "INFO", "clip_actions": false, "simple_optimizer": false, "sample_batch_size": 750, "vf_clip_param": 1000000.0, "custom_resources_per_worker": {}, "lr": 0.0005, "num_sgd_iter": 10, "model": {"grayscale": false, "dim": 84, "custom_model": null, "free_log_std": false, "custom_options": {}, "lstm_cell_size": 256, "framestack": true, "squash_to_range": false, "conv_filters": null, "channel_major": false, "custom_preprocessor": null, "fcnet_hiddens": [128, 64, 32], "max_seq_len": 20, "lstm_use_prev_action_reward": false, "conv_activation": "relu", "use_lstm": false, "zero_mean": true, "fcnet_activation": "tanh"}, "input": "sampler", "horizon": 1500, "vf_loss_coeff": 1.0, "compress_observations": false, "num_envs_per_worker": 1, "sample_async": false, "num_gpus": 0, "output_max_file_size": 67108864, "lambda": 0.97, "multiagent": {"policy_graphs": {}, "policies_to_train": null, "policy_mapping_fn": null}, "output": null, "num_cpus_per_worker": 1, "preprocessor_pref": "deepmind", "clip_param": 0.3, "kl_target": 0.01, "output_compress_columns": ["obs", "new_obs"], "collect_metrics_timeout": 180, "sgd_minibatch_size": 128, "train_batch_size": 30000, "callbacks": {"on_sample_end": null, "on_train_result": null, "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7f2c02cf5320>", "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7f2c02cf5240>", "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7f2c02cf5048>"}, "observation_filter": "MeanStdFilter", "synchronize_filters": true, "gamma": 0.99, "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "env_config": {"flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"buf_length\": 1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.1,\n            \"eta3\": 0.1,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 1.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnv\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 600,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}", "run": "PPO"}, "env": "MultiWaveAttenuationMergePOEnv-v0_[eta1, eta2, eta3]:[1.0, 0.1, 0.1]_t_min:1.0_buf_len: 1", "optimizer": {}, "num_workers": 20, "num_cpus_for_driver": 1, "lr_schedule": null, "batch_mode": "truncate_episodes"}, "time_this_iter_s": 55.216267824172974, "timesteps_since_restore": 357887, "info": {"update_time_ms": 153.823, "num_steps_sampled": 357887, "sample_time_ms": 34775.327, "grad_time_ms": 17167.053, "default": {"entropy": 1.3652966022491455, "kl": 0.008563659153878689, "vf_loss": 7.282663345336914, "vf_explained_var": 0.8985549211502075, "policy_loss": -0.0034936824813485146, "total_loss": 7.280026435852051, "cur_lr": 0.0005000000237487257, "cur_kl_coeff": 0.10000000894069672}, "num_steps_trained": 357887, "load_time_ms": 17.2}, "time_total_s": 261.24476146698, "num_metric_batches_dropped": 0, "timestamp": 1558306749, "episode_reward_max": 1091.6077751462774, "timesteps_this_iter": 73916, "episode_reward_min": 69.94850578290193, "date": "2019-05-19_22-59-09", "policy_reward_mean": {}, "time_since_restore": 261.24476146698, "episodes_total": 131, "iterations_since_restore": 5, "pid": 46880, "episodes_this_iter": 25, "episode_len_mean": 693.41, "done": false, "training_iteration": 5, "custom_metrics": {"cost2_mean": -0.008555172497187413, "outflow_rate_mean": 819.0562355000504, "cost2_min": -0.38461538461538464, "system_level_velocity_mean": 9.486650864102325, "cost1_min": 26.51324457437416, "cost1_mean": 246.11685202116075, "cost1_max": 340.29563960007715, "outflow_rate_max": 1079.3918207880886, "system_level_velocity_max": 17.825724932014403, "outflow_rate_min": 463.5181641857197, "cost2_max": 0.0, "system_level_velocity_min": 5.8035120966708265}, "node_ip": "10.138.0.2", "timesteps_total": 357887}
{"hostname": "flow-main", "episode_reward_mean": 834.1026779050087, "experiment_id": "383e98f8614b4235818372cc4d63f9e0", "config": {"use_gae": true, "tf_session_args": {"allow_soft_placement": true, "gpu_options": {"allow_growth": true}, "inter_op_parallelism_threads": 2, "device_count": {"CPU": 1}, "intra_op_parallelism_threads": 2, "log_device_placement": false}, "entropy_coeff": 0.0, "kl_coeff": 0.2, "num_gpus_per_worker": 0, "monitor": false, "input_evaluation": null, "clip_rewards": null, "vf_share_layers": false, "straggler_mitigation": false, "log_level": "INFO", "clip_actions": false, "simple_optimizer": false, "sample_batch_size": 750, "vf_clip_param": 1000000.0, "custom_resources_per_worker": {}, "lr": 0.0005, "num_sgd_iter": 10, "model": {"grayscale": false, "dim": 84, "custom_model": null, "free_log_std": false, "custom_options": {}, "lstm_cell_size": 256, "framestack": true, "squash_to_range": false, "conv_filters": null, "channel_major": false, "custom_preprocessor": null, "fcnet_hiddens": [128, 64, 32], "max_seq_len": 20, "lstm_use_prev_action_reward": false, "conv_activation": "relu", "use_lstm": false, "zero_mean": true, "fcnet_activation": "tanh"}, "input": "sampler", "horizon": 1500, "vf_loss_coeff": 1.0, "compress_observations": false, "num_envs_per_worker": 1, "sample_async": false, "num_gpus": 0, "output_max_file_size": 67108864, "lambda": 0.97, "multiagent": {"policy_graphs": {}, "policies_to_train": null, "policy_mapping_fn": null}, "output": null, "num_cpus_per_worker": 1, "preprocessor_pref": "deepmind", "clip_param": 0.3, "kl_target": 0.01, "output_compress_columns": ["obs", "new_obs"], "collect_metrics_timeout": 180, "sgd_minibatch_size": 128, "train_batch_size": 30000, "callbacks": {"on_sample_end": null, "on_train_result": null, "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7f2c02ce8208>", "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7f2c02cdbb70>", "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7f2c02ce8438>"}, "observation_filter": "MeanStdFilter", "synchronize_filters": true, "gamma": 0.99, "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "env_config": {"flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"buf_length\": 1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.1,\n            \"eta3\": 0.1,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 1.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnv\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 600,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}", "run": "PPO"}, "env": "MultiWaveAttenuationMergePOEnv-v0_[eta1, eta2, eta3]:[1.0, 0.1, 0.1]_t_min:1.0_buf_len: 1", "optimizer": {}, "num_workers": 20, "num_cpus_for_driver": 1, "lr_schedule": null, "batch_mode": "truncate_episodes"}, "time_this_iter_s": 53.79890751838684, "timesteps_since_restore": 430969, "info": {"update_time_ms": 129.758, "num_steps_sampled": 430969, "sample_time_ms": 34942.848, "grad_time_ms": 17286.729, "default": {"entropy": 1.351335048675537, "kl": 0.0075880978256464005, "vf_loss": 9.342547416687012, "vf_explained_var": 0.856423020362854, "policy_loss": -0.003272061236202717, "total_loss": 9.340033531188965, "cur_lr": 0.0005000000237487257, "cur_kl_coeff": 0.10000001639127731}, "num_steps_trained": 430969, "load_time_ms": 15.861}, "time_total_s": 315.0436689853668, "num_metric_batches_dropped": 0, "timestamp": 1558306803, "episode_reward_max": 1152.5492548834507, "timesteps_this_iter": 73082, "episode_reward_min": 49.15100565514938, "date": "2019-05-19_23-00-03", "policy_reward_mean": {}, "time_since_restore": 315.0436689853668, "episodes_total": 158, "iterations_since_restore": 6, "pid": 46880, "episodes_this_iter": 27, "episode_len_mean": 686.74, "done": false, "training_iteration": 6, "custom_metrics": {"cost2_mean": -0.02693358744505777, "outflow_rate_mean": 910.9355732636005, "cost2_min": -0.4564252754833012, "system_level_velocity_mean": 10.512438547178853, "cost1_min": 22.2266508536303, "cost1_mean": 269.6384281401639, "cost1_max": 426.10376871150925, "outflow_rate_max": 1231.2338822070424, "system_level_velocity_max": 18.447294354589125, "outflow_rate_min": 487.6005439627261, "cost2_max": 0.0, "system_level_velocity_min": 5.8035120966708265}, "node_ip": "10.138.0.2", "timesteps_total": 430969}
{"hostname": "flow-main", "episode_reward_mean": 888.2639958679657, "experiment_id": "383e98f8614b4235818372cc4d63f9e0", "config": {"use_gae": true, "tf_session_args": {"allow_soft_placement": true, "gpu_options": {"allow_growth": true}, "inter_op_parallelism_threads": 2, "device_count": {"CPU": 1}, "intra_op_parallelism_threads": 2, "log_device_placement": false}, "entropy_coeff": 0.0, "kl_coeff": 0.2, "num_gpus_per_worker": 0, "monitor": false, "input_evaluation": null, "clip_rewards": null, "vf_share_layers": false, "straggler_mitigation": false, "log_level": "INFO", "clip_actions": false, "simple_optimizer": false, "sample_batch_size": 750, "vf_clip_param": 1000000.0, "custom_resources_per_worker": {}, "lr": 0.0005, "num_sgd_iter": 10, "model": {"grayscale": false, "dim": 84, "custom_model": null, "free_log_std": false, "custom_options": {}, "lstm_cell_size": 256, "framestack": true, "squash_to_range": false, "conv_filters": null, "channel_major": false, "custom_preprocessor": null, "fcnet_hiddens": [128, 64, 32], "max_seq_len": 20, "lstm_use_prev_action_reward": false, "conv_activation": "relu", "use_lstm": false, "zero_mean": true, "fcnet_activation": "tanh"}, "input": "sampler", "horizon": 1500, "vf_loss_coeff": 1.0, "compress_observations": false, "num_envs_per_worker": 1, "sample_async": false, "num_gpus": 0, "output_max_file_size": 67108864, "lambda": 0.97, "multiagent": {"policy_graphs": {}, "policies_to_train": null, "policy_mapping_fn": null}, "output": null, "num_cpus_per_worker": 1, "preprocessor_pref": "deepmind", "clip_param": 0.3, "kl_target": 0.01, "output_compress_columns": ["obs", "new_obs"], "collect_metrics_timeout": 180, "sgd_minibatch_size": 128, "train_batch_size": 30000, "callbacks": {"on_sample_end": null, "on_train_result": null, "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7f2c02ceca58>", "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7f2c02cecba8>", "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7f2c02cecb00>"}, "observation_filter": "MeanStdFilter", "synchronize_filters": true, "gamma": 0.99, "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "env_config": {"flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"buf_length\": 1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.1,\n            \"eta3\": 0.1,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 1.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnv\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 600,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}", "run": "PPO"}, "env": "MultiWaveAttenuationMergePOEnv-v0_[eta1, eta2, eta3]:[1.0, 0.1, 0.1]_t_min:1.0_buf_len: 1", "optimizer": {}, "num_workers": 20, "num_cpus_for_driver": 1, "lr_schedule": null, "batch_mode": "truncate_episodes"}, "time_this_iter_s": 54.74986481666565, "timesteps_since_restore": 503751, "info": {"update_time_ms": 112.464, "num_steps_sampled": 503751, "sample_time_ms": 35217.901, "grad_time_ms": 17352.124, "default": {"entropy": 1.3484050035476685, "kl": 0.008441521786153316, "vf_loss": 9.768150329589844, "vf_explained_var": 0.8519560098648071, "policy_loss": -0.004436538089066744, "total_loss": 9.764557838439941, "cur_lr": 0.0005000000237487257, "cur_kl_coeff": 0.10000000894069672}, "num_steps_trained": 503751, "load_time_ms": 14.97}, "time_total_s": 369.79353380203247, "num_metric_batches_dropped": 0, "timestamp": 1558306857, "episode_reward_max": 1152.5492548834507, "timesteps_this_iter": 72782, "episode_reward_min": 49.15100565514938, "date": "2019-05-19_23-00-57", "policy_reward_mean": {}, "time_since_restore": 369.79353380203247, "episodes_total": 185, "iterations_since_restore": 7, "pid": 46880, "episodes_this_iter": 27, "episode_len_mean": 680.12, "done": false, "training_iteration": 7, "custom_metrics": {"cost2_mean": -0.044549574087973755, "outflow_rate_mean": 957.3169822355031, "cost2_min": -0.5755741928087679, "system_level_velocity_mean": 11.106261905640308, "cost1_min": 22.2266508536303, "cost1_mean": 280.51851013739747, "cost1_max": 426.10376871150925, "outflow_rate_max": 1231.2338822070424, "system_level_velocity_max": 18.447294354589125, "outflow_rate_min": 487.6005439627261, "cost2_max": 0.0, "system_level_velocity_min": 6.943828729226433}, "node_ip": "10.138.0.2", "timesteps_total": 503751}
{"hostname": "flow-main", "episode_reward_mean": 928.3867926262283, "experiment_id": "383e98f8614b4235818372cc4d63f9e0", "config": {"use_gae": true, "tf_session_args": {"allow_soft_placement": true, "gpu_options": {"allow_growth": true}, "inter_op_parallelism_threads": 2, "device_count": {"CPU": 1}, "intra_op_parallelism_threads": 2, "log_device_placement": false}, "entropy_coeff": 0.0, "kl_coeff": 0.2, "num_gpus_per_worker": 0, "monitor": false, "input_evaluation": null, "clip_rewards": null, "vf_share_layers": false, "straggler_mitigation": false, "log_level": "INFO", "clip_actions": false, "simple_optimizer": false, "sample_batch_size": 750, "vf_clip_param": 1000000.0, "custom_resources_per_worker": {}, "lr": 0.0005, "num_sgd_iter": 10, "model": {"grayscale": false, "dim": 84, "custom_model": null, "free_log_std": false, "custom_options": {}, "lstm_cell_size": 256, "framestack": true, "squash_to_range": false, "conv_filters": null, "channel_major": false, "custom_preprocessor": null, "fcnet_hiddens": [128, 64, 32], "max_seq_len": 20, "lstm_use_prev_action_reward": false, "conv_activation": "relu", "use_lstm": false, "zero_mean": true, "fcnet_activation": "tanh"}, "input": "sampler", "horizon": 1500, "vf_loss_coeff": 1.0, "compress_observations": false, "num_envs_per_worker": 1, "sample_async": false, "num_gpus": 0, "output_max_file_size": 67108864, "lambda": 0.97, "multiagent": {"policy_graphs": {}, "policies_to_train": null, "policy_mapping_fn": null}, "output": null, "num_cpus_per_worker": 1, "preprocessor_pref": "deepmind", "clip_param": 0.3, "kl_target": 0.01, "output_compress_columns": ["obs", "new_obs"], "collect_metrics_timeout": 180, "sgd_minibatch_size": 128, "train_batch_size": 30000, "callbacks": {"on_sample_end": null, "on_train_result": null, "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7f2c02cec358>", "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7f2c02cec400>", "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7f2c02cec8d0>"}, "observation_filter": "MeanStdFilter", "synchronize_filters": true, "gamma": 0.99, "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "env_config": {"flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"buf_length\": 1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.1,\n            \"eta3\": 0.1,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 1.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnv\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 600,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}", "run": "PPO"}, "env": "MultiWaveAttenuationMergePOEnv-v0_[eta1, eta2, eta3]:[1.0, 0.1, 0.1]_t_min:1.0_buf_len: 1", "optimizer": {}, "num_workers": 20, "num_cpus_for_driver": 1, "lr_schedule": null, "batch_mode": "truncate_episodes"}, "time_this_iter_s": 55.2838499546051, "timesteps_since_restore": 575239, "info": {"update_time_ms": 99.338, "num_steps_sampled": 575239, "sample_time_ms": 35331.845, "grad_time_ms": 17561.734, "default": {"entropy": 1.340635895729065, "kl": 0.007570382207632065, "vf_loss": 11.352302551269531, "vf_explained_var": 0.8431093692779541, "policy_loss": -0.0035816605668514967, "total_loss": 11.349477767944336, "cur_lr": 0.0005000000237487257, "cur_kl_coeff": 0.10000000894069672}, "num_steps_trained": 575239, "load_time_ms": 14.137}, "time_total_s": 425.0773837566376, "num_metric_batches_dropped": 0, "timestamp": 1558306913, "episode_reward_max": 1204.2175722255347, "timesteps_this_iter": 71488, "episode_reward_min": 49.15100565514938, "date": "2019-05-19_23-01-53", "policy_reward_mean": {}, "time_since_restore": 425.0773837566376, "episodes_total": 214, "iterations_since_restore": 8, "pid": 46880, "episodes_this_iter": 29, "episode_len_mean": 680.09, "done": false, "training_iteration": 8, "custom_metrics": {"cost2_mean": -0.06566364678906486, "outflow_rate_mean": 990.8399612604463, "cost2_min": -0.9325486466393479, "system_level_velocity_mean": 11.533280393406198, "cost1_min": 22.2266508536303, "cost1_mean": 291.4356468205285, "cost1_max": 426.10376871150925, "outflow_rate_max": 1251.2513649389168, "system_level_velocity_max": 18.447294354589125, "outflow_rate_min": 500.67222808090827, "cost2_max": 0.0, "system_level_velocity_min": 6.943828729226433}, "node_ip": "10.138.0.2", "timesteps_total": 575239}
{"hostname": "flow-main", "episode_reward_mean": 943.5740803971914, "experiment_id": "383e98f8614b4235818372cc4d63f9e0", "config": {"use_gae": true, "tf_session_args": {"allow_soft_placement": true, "gpu_options": {"allow_growth": true}, "inter_op_parallelism_threads": 2, "device_count": {"CPU": 1}, "intra_op_parallelism_threads": 2, "log_device_placement": false}, "entropy_coeff": 0.0, "kl_coeff": 0.2, "num_gpus_per_worker": 0, "monitor": false, "input_evaluation": null, "clip_rewards": null, "vf_share_layers": false, "straggler_mitigation": false, "log_level": "INFO", "clip_actions": false, "simple_optimizer": false, "sample_batch_size": 750, "vf_clip_param": 1000000.0, "custom_resources_per_worker": {}, "lr": 0.0005, "num_sgd_iter": 10, "model": {"grayscale": false, "dim": 84, "custom_model": null, "free_log_std": false, "custom_options": {}, "lstm_cell_size": 256, "framestack": true, "squash_to_range": false, "conv_filters": null, "channel_major": false, "custom_preprocessor": null, "fcnet_hiddens": [128, 64, 32], "max_seq_len": 20, "lstm_use_prev_action_reward": false, "conv_activation": "relu", "use_lstm": false, "zero_mean": true, "fcnet_activation": "tanh"}, "input": "sampler", "horizon": 1500, "vf_loss_coeff": 1.0, "compress_observations": false, "num_envs_per_worker": 1, "sample_async": false, "num_gpus": 0, "output_max_file_size": 67108864, "lambda": 0.97, "multiagent": {"policy_graphs": {}, "policies_to_train": null, "policy_mapping_fn": null}, "output": null, "num_cpus_per_worker": 1, "preprocessor_pref": "deepmind", "clip_param": 0.3, "kl_target": 0.01, "output_compress_columns": ["obs", "new_obs"], "collect_metrics_timeout": 180, "sgd_minibatch_size": 128, "train_batch_size": 30000, "callbacks": {"on_sample_end": null, "on_train_result": null, "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7f2c02ce8a20>", "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7f2c02ce8ba8>", "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7f2c02ce8b70>"}, "observation_filter": "MeanStdFilter", "synchronize_filters": true, "gamma": 0.99, "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "env_config": {"flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"buf_length\": 1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.1,\n            \"eta3\": 0.1,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 1.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnv\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 600,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}", "run": "PPO"}, "env": "MultiWaveAttenuationMergePOEnv-v0_[eta1, eta2, eta3]:[1.0, 0.1, 0.1]_t_min:1.0_buf_len: 1", "optimizer": {}, "num_workers": 20, "num_cpus_for_driver": 1, "lr_schedule": null, "batch_mode": "truncate_episodes"}, "time_this_iter_s": 53.606361389160156, "timesteps_since_restore": 645625, "info": {"update_time_ms": 89.206, "num_steps_sampled": 645625, "sample_time_ms": 35211.578, "grad_time_ms": 17747.572, "default": {"entropy": 1.3460615873336792, "kl": 0.008872603066265583, "vf_loss": 10.673900604248047, "vf_explained_var": 0.8217222094535828, "policy_loss": -0.004439635202288628, "total_loss": 10.67034912109375, "cur_lr": 0.0005000000237487257, "cur_kl_coeff": 0.10000000149011612}, "num_steps_trained": 645625, "load_time_ms": 13.567}, "time_total_s": 478.68374514579773, "num_metric_batches_dropped": 0, "timestamp": 1558306966, "episode_reward_max": 1204.2175722255347, "timesteps_this_iter": 70386, "episode_reward_min": 49.15100565514938, "date": "2019-05-19_23-02-46", "policy_reward_mean": {}, "time_since_restore": 478.68374514579773, "episodes_total": 239, "iterations_since_restore": 9, "pid": 46880, "episodes_this_iter": 25, "episode_len_mean": 680.09, "done": false, "training_iteration": 9, "custom_metrics": {"cost2_mean": -0.06828310739925061, "outflow_rate_mean": 1012.5320132412155, "cost2_min": -0.9325486466393479, "system_level_velocity_mean": 11.828083765760342, "cost1_min": 22.2266508536303, "cost1_mean": 298.8685121165228, "cost1_max": 426.10376871150925, "outflow_rate_max": 1251.2513649389168, "system_level_velocity_max": 18.447294354589125, "outflow_rate_min": 500.67222808090827, "cost2_max": 0.0, "system_level_velocity_min": 7.977379872038643}, "node_ip": "10.138.0.2", "timesteps_total": 645625}
{"hostname": "flow-main", "episode_reward_mean": 953.4198977497481, "experiment_id": "383e98f8614b4235818372cc4d63f9e0", "config": {"use_gae": true, "tf_session_args": {"allow_soft_placement": true, "gpu_options": {"allow_growth": true}, "inter_op_parallelism_threads": 2, "device_count": {"CPU": 1}, "intra_op_parallelism_threads": 2, "log_device_placement": false}, "entropy_coeff": 0.0, "kl_coeff": 0.2, "num_gpus_per_worker": 0, "monitor": false, "input_evaluation": null, "clip_rewards": null, "vf_share_layers": false, "straggler_mitigation": false, "log_level": "INFO", "clip_actions": false, "simple_optimizer": false, "sample_batch_size": 750, "vf_clip_param": 1000000.0, "custom_resources_per_worker": {}, "lr": 0.0005, "num_sgd_iter": 10, "model": {"grayscale": false, "dim": 84, "custom_model": null, "free_log_std": false, "custom_options": {}, "lstm_cell_size": 256, "framestack": true, "squash_to_range": false, "conv_filters": null, "channel_major": false, "custom_preprocessor": null, "fcnet_hiddens": [128, 64, 32], "max_seq_len": 20, "lstm_use_prev_action_reward": false, "conv_activation": "relu", "use_lstm": false, "zero_mean": true, "fcnet_activation": "tanh"}, "input": "sampler", "horizon": 1500, "vf_loss_coeff": 1.0, "compress_observations": false, "num_envs_per_worker": 1, "sample_async": false, "num_gpus": 0, "output_max_file_size": 67108864, "lambda": 0.97, "multiagent": {"policy_graphs": {}, "policies_to_train": null, "policy_mapping_fn": null}, "output": null, "num_cpus_per_worker": 1, "preprocessor_pref": "deepmind", "clip_param": 0.3, "kl_target": 0.01, "output_compress_columns": ["obs", "new_obs"], "collect_metrics_timeout": 180, "sgd_minibatch_size": 128, "train_batch_size": 30000, "callbacks": {"on_sample_end": null, "on_train_result": null, "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7f2c02cf5470>", "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7f2c02cf5400>", "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7f2c02cf5438>"}, "observation_filter": "MeanStdFilter", "synchronize_filters": true, "gamma": 0.99, "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "env_config": {"flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"buf_length\": 1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.1,\n            \"eta3\": 0.1,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 1.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnv\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 600,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}", "run": "PPO"}, "env": "MultiWaveAttenuationMergePOEnv-v0_[eta1, eta2, eta3]:[1.0, 0.1, 0.1]_t_min:1.0_buf_len: 1", "optimizer": {}, "num_workers": 20, "num_cpus_for_driver": 1, "lr_schedule": null, "batch_mode": "truncate_episodes"}, "time_this_iter_s": 53.69435238838196, "timesteps_since_restore": 714954, "info": {"update_time_ms": 81.037, "num_steps_sampled": 714954, "sample_time_ms": 35166.461, "grad_time_ms": 17853.693, "default": {"entropy": 1.338642954826355, "kl": 0.00968126580119133, "vf_loss": 12.858078956604004, "vf_explained_var": 0.8258493542671204, "policy_loss": -0.005161268636584282, "total_loss": 12.853885650634766, "cur_lr": 0.0005000000237487257, "cur_kl_coeff": 0.10000000894069672}, "num_steps_trained": 714954, "load_time_ms": 13.154}, "time_total_s": 532.3780975341797, "num_metric_batches_dropped": 0, "timestamp": 1558307020, "episode_reward_max": 1244.8367537277893, "timesteps_this_iter": 69329, "episode_reward_min": 64.23970166173835, "date": "2019-05-19_23-03-40", "policy_reward_mean": {}, "time_since_restore": 532.3780975341797, "episodes_total": 270, "iterations_since_restore": 10, "pid": 46880, "episodes_this_iter": 31, "episode_len_mean": 693.38, "done": false, "training_iteration": 10, "custom_metrics": {"cost2_mean": -0.06679091663139082, "outflow_rate_mean": 1018.9504633394532, "cost2_min": -0.9325486466393479, "system_level_velocity_mean": 11.60003915422748, "cost1_min": 25.160165661538127, "cost1_mean": 301.5123796364246, "cost1_max": 405.8320012282338, "outflow_rate_max": 1251.2513649389168, "system_level_velocity_max": 18.22104712742404, "outflow_rate_min": 520.6905966089835, "cost2_max": 0.0, "system_level_velocity_min": 7.977379872038643}, "node_ip": "10.138.0.2", "timesteps_total": 714954}
{"hostname": "flow-main", "episode_reward_mean": 968.8079804774003, "experiment_id": "383e98f8614b4235818372cc4d63f9e0", "config": {"use_gae": true, "tf_session_args": {"allow_soft_placement": true, "gpu_options": {"allow_growth": true}, "inter_op_parallelism_threads": 2, "device_count": {"CPU": 1}, "intra_op_parallelism_threads": 2, "log_device_placement": false}, "entropy_coeff": 0.0, "kl_coeff": 0.2, "num_gpus_per_worker": 0, "monitor": false, "input_evaluation": null, "clip_rewards": null, "vf_share_layers": false, "straggler_mitigation": false, "log_level": "INFO", "clip_actions": false, "simple_optimizer": false, "sample_batch_size": 750, "vf_clip_param": 1000000.0, "custom_resources_per_worker": {}, "lr": 0.0005, "num_sgd_iter": 10, "model": {"grayscale": false, "dim": 84, "custom_model": null, "free_log_std": false, "custom_options": {}, "lstm_cell_size": 256, "framestack": true, "squash_to_range": false, "conv_filters": null, "channel_major": false, "custom_preprocessor": null, "fcnet_hiddens": [128, 64, 32], "max_seq_len": 20, "lstm_use_prev_action_reward": false, "conv_activation": "relu", "use_lstm": false, "zero_mean": true, "fcnet_activation": "tanh"}, "input": "sampler", "horizon": 1500, "vf_loss_coeff": 1.0, "compress_observations": false, "num_envs_per_worker": 1, "sample_async": false, "num_gpus": 0, "output_max_file_size": 67108864, "lambda": 0.97, "multiagent": {"policy_graphs": {}, "policies_to_train": null, "policy_mapping_fn": null}, "output": null, "num_cpus_per_worker": 1, "preprocessor_pref": "deepmind", "clip_param": 0.3, "kl_target": 0.01, "output_compress_columns": ["obs", "new_obs"], "collect_metrics_timeout": 180, "sgd_minibatch_size": 128, "train_batch_size": 30000, "callbacks": {"on_sample_end": null, "on_train_result": null, "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7f2c02ce85c0>", "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7f2c02ce8438>", "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7f2c02ce8390>"}, "observation_filter": "MeanStdFilter", "synchronize_filters": true, "gamma": 0.99, "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "env_config": {"flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"buf_length\": 1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.1,\n            \"eta3\": 0.1,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 1.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnv\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 600,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}", "run": "PPO"}, "env": "MultiWaveAttenuationMergePOEnv-v0_[eta1, eta2, eta3]:[1.0, 0.1, 0.1]_t_min:1.0_buf_len: 1", "optimizer": {}, "num_workers": 20, "num_cpus_for_driver": 1, "lr_schedule": null, "batch_mode": "truncate_episodes"}, "time_this_iter_s": 52.02077388763428, "timesteps_since_restore": 784565, "info": {"update_time_ms": 7.96, "num_steps_sampled": 784565, "sample_time_ms": 35169.874, "grad_time_ms": 18170.298, "default": {"entropy": 1.3431010246276855, "kl": 0.009262076579034328, "vf_loss": 13.726688385009766, "vf_explained_var": 0.8340321183204651, "policy_loss": -0.005136655643582344, "total_loss": 13.722476959228516, "cur_lr": 0.0005000000237487257, "cur_kl_coeff": 0.10000000894069672}, "num_steps_trained": 784565, "load_time_ms": 9.393}, "time_total_s": 584.398871421814, "num_metric_batches_dropped": 0, "timestamp": 1558307072, "episode_reward_max": 1244.8367537277893, "timesteps_this_iter": 69611, "episode_reward_min": 64.23970166173835, "date": "2019-05-19_23-04-32", "policy_reward_mean": {}, "time_since_restore": 584.398871421814, "episodes_total": 300, "iterations_since_restore": 11, "pid": 46880, "episodes_this_iter": 30, "episode_len_mean": 693.38, "done": false, "training_iteration": 11, "custom_metrics": {"cost2_mean": -0.05338085632935208, "outflow_rate_mean": 1034.6060780034882, "cost2_min": -0.5324152424884403, "system_level_velocity_mean": 11.794066035698709, "cost1_min": 25.160165661538127, "cost1_mean": 306.9415572700398, "cost1_max": 405.8320012282338, "outflow_rate_max": 1251.2513649389168, "system_level_velocity_max": 18.22104712742404, "outflow_rate_min": 520.6905966089835, "cost2_max": 0.0, "system_level_velocity_min": 7.977379872038643}, "node_ip": "10.138.0.2", "timesteps_total": 784565}
{"hostname": "flow-main", "episode_reward_mean": 983.2410708177958, "experiment_id": "383e98f8614b4235818372cc4d63f9e0", "config": {"use_gae": true, "tf_session_args": {"allow_soft_placement": true, "gpu_options": {"allow_growth": true}, "inter_op_parallelism_threads": 2, "device_count": {"CPU": 1}, "intra_op_parallelism_threads": 2, "log_device_placement": false}, "entropy_coeff": 0.0, "kl_coeff": 0.2, "num_gpus_per_worker": 0, "monitor": false, "input_evaluation": null, "clip_rewards": null, "vf_share_layers": false, "straggler_mitigation": false, "log_level": "INFO", "clip_actions": false, "simple_optimizer": false, "sample_batch_size": 750, "vf_clip_param": 1000000.0, "custom_resources_per_worker": {}, "lr": 0.0005, "num_sgd_iter": 10, "model": {"grayscale": false, "dim": 84, "custom_model": null, "free_log_std": false, "custom_options": {}, "lstm_cell_size": 256, "framestack": true, "squash_to_range": false, "conv_filters": null, "channel_major": false, "custom_preprocessor": null, "fcnet_hiddens": [128, 64, 32], "max_seq_len": 20, "lstm_use_prev_action_reward": false, "conv_activation": "relu", "use_lstm": false, "zero_mean": true, "fcnet_activation": "tanh"}, "input": "sampler", "horizon": 1500, "vf_loss_coeff": 1.0, "compress_observations": false, "num_envs_per_worker": 1, "sample_async": false, "num_gpus": 0, "output_max_file_size": 67108864, "lambda": 0.97, "multiagent": {"policy_graphs": {}, "policies_to_train": null, "policy_mapping_fn": null}, "output": null, "num_cpus_per_worker": 1, "preprocessor_pref": "deepmind", "clip_param": 0.3, "kl_target": 0.01, "output_compress_columns": ["obs", "new_obs"], "collect_metrics_timeout": 180, "sgd_minibatch_size": 128, "train_batch_size": 30000, "callbacks": {"on_sample_end": null, "on_train_result": null, "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7f2c02cec4e0>", "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7f2c02cec6d8>", "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7f2c02cec780>"}, "observation_filter": "MeanStdFilter", "synchronize_filters": true, "gamma": 0.99, "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "env_config": {"flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"buf_length\": 1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.1,\n            \"eta3\": 0.1,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 1.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnv\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 600,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}", "run": "PPO"}, "env": "MultiWaveAttenuationMergePOEnv-v0_[eta1, eta2, eta3]:[1.0, 0.1, 0.1]_t_min:1.0_buf_len: 1", "optimizer": {}, "num_workers": 20, "num_cpus_for_driver": 1, "lr_schedule": null, "batch_mode": "truncate_episodes"}, "time_this_iter_s": 52.7132465839386, "timesteps_since_restore": 854532, "info": {"update_time_ms": 8.179, "num_steps_sampled": 854532, "sample_time_ms": 35253.144, "grad_time_ms": 18452.116, "default": {"entropy": 1.3571292161941528, "kl": 0.009495274163782597, "vf_loss": 14.172738075256348, "vf_explained_var": 0.8216260075569153, "policy_loss": -0.00529979495331645, "total_loss": 14.168388366699219, "cur_lr": 0.0005000000237487257, "cur_kl_coeff": 0.10000000894069672}, "num_steps_trained": 854532, "load_time_ms": 9.584}, "time_total_s": 637.1121180057526, "num_metric_batches_dropped": 0, "timestamp": 1558307125, "episode_reward_max": 1244.8367537277893, "timesteps_this_iter": 69967, "episode_reward_min": 764.4385445945443, "date": "2019-05-19_23-05-25", "policy_reward_mean": {}, "time_since_restore": 637.1121180057526, "episodes_total": 330, "iterations_since_restore": 12, "pid": 46880, "episodes_this_iter": 30, "episode_len_mean": 700.0, "done": false, "training_iteration": 12, "custom_metrics": {"cost2_mean": -0.05275559325283274, "outflow_rate_mean": 1049.3331760009548, "cost2_min": -0.5324152424884403, "system_level_velocity_mean": 11.847013361323713, "cost1_min": 217.34504396763052, "cost1_mean": 312.80016241912324, "cost1_max": 450.23375015924546, "outflow_rate_max": 1305.8405682867608, "system_level_velocity_max": 16.855638655049226, "outflow_rate_min": 873.059113136163, "cost2_max": 0.0, "system_level_velocity_min": 8.156982740979007}, "node_ip": "10.138.0.2", "timesteps_total": 854532}
{"hostname": "flow-main", "episode_reward_mean": 996.7281200752518, "experiment_id": "383e98f8614b4235818372cc4d63f9e0", "config": {"use_gae": true, "tf_session_args": {"allow_soft_placement": true, "gpu_options": {"allow_growth": true}, "inter_op_parallelism_threads": 2, "device_count": {"CPU": 1}, "intra_op_parallelism_threads": 2, "log_device_placement": false}, "entropy_coeff": 0.0, "kl_coeff": 0.2, "num_gpus_per_worker": 0, "monitor": false, "input_evaluation": null, "clip_rewards": null, "vf_share_layers": false, "straggler_mitigation": false, "log_level": "INFO", "clip_actions": false, "simple_optimizer": false, "sample_batch_size": 750, "vf_clip_param": 1000000.0, "custom_resources_per_worker": {}, "lr": 0.0005, "num_sgd_iter": 10, "model": {"grayscale": false, "dim": 84, "custom_model": null, "free_log_std": false, "custom_options": {}, "lstm_cell_size": 256, "framestack": true, "squash_to_range": false, "conv_filters": null, "channel_major": false, "custom_preprocessor": null, "fcnet_hiddens": [128, 64, 32], "max_seq_len": 20, "lstm_use_prev_action_reward": false, "conv_activation": "relu", "use_lstm": false, "zero_mean": true, "fcnet_activation": "tanh"}, "input": "sampler", "horizon": 1500, "vf_loss_coeff": 1.0, "compress_observations": false, "num_envs_per_worker": 1, "sample_async": false, "num_gpus": 0, "output_max_file_size": 67108864, "lambda": 0.97, "multiagent": {"policy_graphs": {}, "policies_to_train": null, "policy_mapping_fn": null}, "output": null, "num_cpus_per_worker": 1, "preprocessor_pref": "deepmind", "clip_param": 0.3, "kl_target": 0.01, "output_compress_columns": ["obs", "new_obs"], "collect_metrics_timeout": 180, "sgd_minibatch_size": 128, "train_batch_size": 30000, "callbacks": {"on_sample_end": null, "on_train_result": null, "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7f2c02cf5780>", "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7f2c02cf59e8>", "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7f2c02cf5f60>"}, "observation_filter": "MeanStdFilter", "synchronize_filters": true, "gamma": 0.99, "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "env_config": {"flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"buf_length\": 1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.1,\n            \"eta3\": 0.1,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 1.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnv\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 600,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}", "run": "PPO"}, "env": "MultiWaveAttenuationMergePOEnv-v0_[eta1, eta2, eta3]:[1.0, 0.1, 0.1]_t_min:1.0_buf_len: 1", "optimizer": {}, "num_workers": 20, "num_cpus_for_driver": 1, "lr_schedule": null, "batch_mode": "truncate_episodes"}, "time_this_iter_s": 50.87943458557129, "timesteps_since_restore": 922869, "info": {"update_time_ms": 8.323, "num_steps_sampled": 922869, "sample_time_ms": 34936.058, "grad_time_ms": 18712.781, "default": {"entropy": 1.3393266201019287, "kl": 0.011887047439813614, "vf_loss": 16.173433303833008, "vf_explained_var": 0.8292838931083679, "policy_loss": -0.006827398203313351, "total_loss": 16.167795181274414, "cur_lr": 0.0005000000237487257, "cur_kl_coeff": 0.10000000894069672}, "num_steps_trained": 922869, "load_time_ms": 9.395}, "time_total_s": 687.9915525913239, "num_metric_batches_dropped": 0, "timestamp": 1558307176, "episode_reward_max": 1244.8367537277893, "timesteps_this_iter": 68337, "episode_reward_min": 70.50402998675008, "date": "2019-05-19_23-06-16", "policy_reward_mean": {}, "time_since_restore": 687.9915525913239, "episodes_total": 361, "iterations_since_restore": 13, "pid": 46880, "episodes_this_iter": 31, "episode_len_mean": 693.42, "done": false, "training_iteration": 13, "custom_metrics": {"cost2_mean": -0.048453888320432, "outflow_rate_mean": 1060.963485933693, "cost2_min": -0.40128169842942185, "system_level_velocity_mean": 12.197139927831186, "cost1_min": 27.677545023633872, "cost1_mean": 317.64109837418766, "cost1_max": 453.965630043985, "outflow_rate_max": 1305.8405682867608, "system_level_velocity_max": 18.238763088482813, "outflow_rate_min": 483.1970485759947, "cost2_max": 0.0, "system_level_velocity_min": 7.9726492862821265}, "node_ip": "10.138.0.2", "timesteps_total": 922869}
{"hostname": "flow-main", "episode_reward_mean": 1007.6186683188461, "experiment_id": "383e98f8614b4235818372cc4d63f9e0", "config": {"use_gae": true, "tf_session_args": {"allow_soft_placement": true, "gpu_options": {"allow_growth": true}, "inter_op_parallelism_threads": 2, "device_count": {"CPU": 1}, "intra_op_parallelism_threads": 2, "log_device_placement": false}, "entropy_coeff": 0.0, "kl_coeff": 0.2, "num_gpus_per_worker": 0, "monitor": false, "input_evaluation": null, "clip_rewards": null, "vf_share_layers": false, "straggler_mitigation": false, "log_level": "INFO", "clip_actions": false, "simple_optimizer": false, "sample_batch_size": 750, "vf_clip_param": 1000000.0, "custom_resources_per_worker": {}, "lr": 0.0005, "num_sgd_iter": 10, "model": {"grayscale": false, "dim": 84, "custom_model": null, "free_log_std": false, "custom_options": {}, "lstm_cell_size": 256, "framestack": true, "squash_to_range": false, "conv_filters": null, "channel_major": false, "custom_preprocessor": null, "fcnet_hiddens": [128, 64, 32], "max_seq_len": 20, "lstm_use_prev_action_reward": false, "conv_activation": "relu", "use_lstm": false, "zero_mean": true, "fcnet_activation": "tanh"}, "input": "sampler", "horizon": 1500, "vf_loss_coeff": 1.0, "compress_observations": false, "num_envs_per_worker": 1, "sample_async": false, "num_gpus": 0, "output_max_file_size": 67108864, "lambda": 0.97, "multiagent": {"policy_graphs": {}, "policies_to_train": null, "policy_mapping_fn": null}, "output": null, "num_cpus_per_worker": 1, "preprocessor_pref": "deepmind", "clip_param": 0.3, "kl_target": 0.01, "output_compress_columns": ["obs", "new_obs"], "collect_metrics_timeout": 180, "sgd_minibatch_size": 128, "train_batch_size": 30000, "callbacks": {"on_sample_end": null, "on_train_result": null, "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7f2c02cf5128>", "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7f2c02cf51d0>", "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7f2c02cf5390>"}, "observation_filter": "MeanStdFilter", "synchronize_filters": true, "gamma": 0.99, "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "env_config": {"flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"buf_length\": 1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.1,\n            \"eta3\": 0.1,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 1.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnv\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 600,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}", "run": "PPO"}, "env": "MultiWaveAttenuationMergePOEnv-v0_[eta1, eta2, eta3]:[1.0, 0.1, 0.1]_t_min:1.0_buf_len: 1", "optimizer": {}, "num_workers": 20, "num_cpus_for_driver": 1, "lr_schedule": null, "batch_mode": "truncate_episodes"}, "time_this_iter_s": 49.13220763206482, "timesteps_since_restore": 991923, "info": {"update_time_ms": 8.312, "num_steps_sampled": 991923, "sample_time_ms": 34329.365, "grad_time_ms": 18645.266, "default": {"entropy": 1.3237816095352173, "kl": 0.013194411061704159, "vf_loss": 14.408803939819336, "vf_explained_var": 0.841660737991333, "policy_loss": -0.0071772378869354725, "total_loss": 14.402945518493652, "cur_lr": 0.0005000000237487257, "cur_kl_coeff": 0.10000001639127731}, "num_steps_trained": 991923, "load_time_ms": 9.367}, "time_total_s": 737.1237602233887, "num_metric_batches_dropped": 0, "timestamp": 1558307225, "episode_reward_max": 1214.4320062808401, "timesteps_this_iter": 69054, "episode_reward_min": 70.50402998675008, "date": "2019-05-19_23-07-05", "policy_reward_mean": {}, "time_since_restore": 737.1237602233887, "episodes_total": 388, "iterations_since_restore": 14, "pid": 46880, "episodes_this_iter": 27, "episode_len_mean": 693.42, "done": false, "training_iteration": 14, "custom_metrics": {"cost2_mean": -0.05270550043204207, "outflow_rate_mean": 1069.7156621739427, "cost2_min": -0.40128169842942185, "system_level_velocity_mean": 12.3603202750687, "cost1_min": 27.677545023633872, "cost1_mean": 321.69944777317124, "cost1_max": 453.965630043985, "outflow_rate_max": 1305.8405682867608, "system_level_velocity_max": 18.238763088482813, "outflow_rate_min": 483.1970485759947, "cost2_max": 0.0, "system_level_velocity_min": 7.9726492862821265}, "node_ip": "10.138.0.2", "timesteps_total": 991923}
{"hostname": "flow-main", "episode_reward_mean": 1006.6212098344826, "experiment_id": "383e98f8614b4235818372cc4d63f9e0", "config": {"use_gae": true, "tf_session_args": {"allow_soft_placement": true, "gpu_options": {"allow_growth": true}, "inter_op_parallelism_threads": 2, "device_count": {"CPU": 1}, "intra_op_parallelism_threads": 2, "log_device_placement": false}, "entropy_coeff": 0.0, "kl_coeff": 0.2, "num_gpus_per_worker": 0, "monitor": false, "input_evaluation": null, "clip_rewards": null, "vf_share_layers": false, "straggler_mitigation": false, "log_level": "INFO", "clip_actions": false, "simple_optimizer": false, "sample_batch_size": 750, "vf_clip_param": 1000000.0, "custom_resources_per_worker": {}, "lr": 0.0005, "num_sgd_iter": 10, "model": {"grayscale": false, "dim": 84, "custom_model": null, "free_log_std": false, "custom_options": {}, "lstm_cell_size": 256, "framestack": true, "squash_to_range": false, "conv_filters": null, "channel_major": false, "custom_preprocessor": null, "fcnet_hiddens": [128, 64, 32], "max_seq_len": 20, "lstm_use_prev_action_reward": false, "conv_activation": "relu", "use_lstm": false, "zero_mean": true, "fcnet_activation": "tanh"}, "input": "sampler", "horizon": 1500, "vf_loss_coeff": 1.0, "compress_observations": false, "num_envs_per_worker": 1, "sample_async": false, "num_gpus": 0, "output_max_file_size": 67108864, "lambda": 0.97, "multiagent": {"policy_graphs": {}, "policies_to_train": null, "policy_mapping_fn": null}, "output": null, "num_cpus_per_worker": 1, "preprocessor_pref": "deepmind", "clip_param": 0.3, "kl_target": 0.01, "output_compress_columns": ["obs", "new_obs"], "collect_metrics_timeout": 180, "sgd_minibatch_size": 128, "train_batch_size": 30000, "callbacks": {"on_sample_end": null, "on_train_result": null, "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7f2c02ceceb8>", "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7f2c02cec4e0>", "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7f2c02cecbe0>"}, "observation_filter": "MeanStdFilter", "synchronize_filters": true, "gamma": 0.99, "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "env_config": {"flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"buf_length\": 1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.1,\n            \"eta3\": 0.1,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 1.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnv\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 600,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}", "run": "PPO"}, "env": "MultiWaveAttenuationMergePOEnv-v0_[eta1, eta2, eta3]:[1.0, 0.1, 0.1]_t_min:1.0_buf_len: 1", "optimizer": {}, "num_workers": 20, "num_cpus_for_driver": 1, "lr_schedule": null, "batch_mode": "truncate_episodes"}, "time_this_iter_s": 49.3954119682312, "timesteps_since_restore": 1061644, "info": {"update_time_ms": 8.234, "num_steps_sampled": 1061644, "sample_time_ms": 33997.826, "grad_time_ms": 18395.787, "default": {"entropy": 1.3303028345108032, "kl": 0.012071914039552212, "vf_loss": 16.19904327392578, "vf_explained_var": 0.831667423248291, "policy_loss": -0.006289118900895119, "total_loss": 16.193958282470703, "cur_lr": 0.0005000000237487257, "cur_kl_coeff": 0.10000000894069672}, "num_steps_trained": 1061644, "load_time_ms": 9.49}, "time_total_s": 786.5191721916199, "num_metric_batches_dropped": 0, "timestamp": 1558307275, "episode_reward_max": 1395.804202936122, "timesteps_this_iter": 69721, "episode_reward_min": 70.50402998675008, "date": "2019-05-19_23-07-55", "policy_reward_mean": {}, "time_since_restore": 786.5191721916199, "episodes_total": 415, "iterations_since_restore": 15, "pid": 46880, "episodes_this_iter": 27, "episode_len_mean": 687.68, "done": false, "training_iteration": 15, "custom_metrics": {"cost2_mean": -0.053478782332524476, "outflow_rate_mean": 1073.746451242982, "cost2_min": -0.5095055108791754, "system_level_velocity_mean": 12.54028102638869, "cost1_min": 27.677545023633872, "cost1_mean": 322.4001743518201, "cost1_max": 453.965630043985, "outflow_rate_max": 1312.8495685025423, "system_level_velocity_max": 18.238763088482813, "outflow_rate_min": 483.1970485759947, "cost2_max": 0.0, "system_level_velocity_min": 7.9726492862821265}, "node_ip": "10.138.0.2", "timesteps_total": 1061644}
{"hostname": "flow-main", "episode_reward_mean": 995.8261452821239, "experiment_id": "383e98f8614b4235818372cc4d63f9e0", "config": {"use_gae": true, "tf_session_args": {"allow_soft_placement": true, "gpu_options": {"allow_growth": true}, "inter_op_parallelism_threads": 2, "device_count": {"CPU": 1}, "intra_op_parallelism_threads": 2, "log_device_placement": false}, "entropy_coeff": 0.0, "kl_coeff": 0.2, "num_gpus_per_worker": 0, "monitor": false, "input_evaluation": null, "clip_rewards": null, "vf_share_layers": false, "straggler_mitigation": false, "log_level": "INFO", "clip_actions": false, "simple_optimizer": false, "sample_batch_size": 750, "vf_clip_param": 1000000.0, "custom_resources_per_worker": {}, "lr": 0.0005, "num_sgd_iter": 10, "model": {"grayscale": false, "dim": 84, "custom_model": null, "free_log_std": false, "custom_options": {}, "lstm_cell_size": 256, "framestack": true, "squash_to_range": false, "conv_filters": null, "channel_major": false, "custom_preprocessor": null, "fcnet_hiddens": [128, 64, 32], "max_seq_len": 20, "lstm_use_prev_action_reward": false, "conv_activation": "relu", "use_lstm": false, "zero_mean": true, "fcnet_activation": "tanh"}, "input": "sampler", "horizon": 1500, "vf_loss_coeff": 1.0, "compress_observations": false, "num_envs_per_worker": 1, "sample_async": false, "num_gpus": 0, "output_max_file_size": 67108864, "lambda": 0.97, "multiagent": {"policy_graphs": {}, "policies_to_train": null, "policy_mapping_fn": null}, "output": null, "num_cpus_per_worker": 1, "preprocessor_pref": "deepmind", "clip_param": 0.3, "kl_target": 0.01, "output_compress_columns": ["obs", "new_obs"], "collect_metrics_timeout": 180, "sgd_minibatch_size": 128, "train_batch_size": 30000, "callbacks": {"on_sample_end": null, "on_train_result": null, "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7f2c02ce8cc0>", "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7f2c02ce80f0>", "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7f2c02ce8208>"}, "observation_filter": "MeanStdFilter", "synchronize_filters": true, "gamma": 0.99, "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "env_config": {"flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"buf_length\": 1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.1,\n            \"eta3\": 0.1,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 1.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnv\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 600,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}", "run": "PPO"}, "env": "MultiWaveAttenuationMergePOEnv-v0_[eta1, eta2, eta3]:[1.0, 0.1, 0.1]_t_min:1.0_buf_len: 1", "optimizer": {}, "num_workers": 20, "num_cpus_for_driver": 1, "lr_schedule": null, "batch_mode": "truncate_episodes"}, "time_this_iter_s": 49.357144832611084, "timesteps_since_restore": 1131103, "info": {"update_time_ms": 7.943, "num_steps_sampled": 1131103, "sample_time_ms": 33624.577, "grad_time_ms": 18324.554, "default": {"entropy": 1.3287254571914673, "kl": 0.013343563303351402, "vf_loss": 15.03618335723877, "vf_explained_var": 0.8343570828437805, "policy_loss": -0.007137362379580736, "total_loss": 15.030381202697754, "cur_lr": 0.0005000000237487257, "cur_kl_coeff": 0.10000000894069672}, "num_steps_trained": 1131103, "load_time_ms": 9.588}, "time_total_s": 835.876317024231, "num_metric_batches_dropped": 0, "timestamp": 1558307324, "episode_reward_max": 1395.804202936122, "timesteps_this_iter": 69459, "episode_reward_min": 27.89129737959379, "date": "2019-05-19_23-08-44", "policy_reward_mean": {}, "time_since_restore": 835.876317024231, "episodes_total": 442, "iterations_since_restore": 16, "pid": 46880, "episodes_this_iter": 27, "episode_len_mean": 680.88, "done": false, "training_iteration": 16, "custom_metrics": {"cost2_mean": -0.049488735326586805, "outflow_rate_mean": 1070.4262004784355, "cost2_min": -0.5095055108791754, "system_level_velocity_mean": 12.640875724358255, "cost1_min": 13.16073435645058, "cost1_mean": 320.34548045239205, "cost1_max": 448.9573404269947, "outflow_rate_max": 1312.8495685025423, "system_level_velocity_max": 18.238763088482813, "outflow_rate_min": 454.74024246423585, "cost2_max": 0.0, "system_level_velocity_min": 8.121472233191067}, "node_ip": "10.138.0.2", "timesteps_total": 1131103}
{"hostname": "flow-main", "episode_reward_mean": 1008.3180992569369, "experiment_id": "383e98f8614b4235818372cc4d63f9e0", "config": {"use_gae": true, "tf_session_args": {"allow_soft_placement": true, "gpu_options": {"allow_growth": true}, "inter_op_parallelism_threads": 2, "device_count": {"CPU": 1}, "intra_op_parallelism_threads": 2, "log_device_placement": false}, "entropy_coeff": 0.0, "kl_coeff": 0.2, "num_gpus_per_worker": 0, "monitor": false, "input_evaluation": null, "clip_rewards": null, "vf_share_layers": false, "straggler_mitigation": false, "log_level": "INFO", "clip_actions": false, "simple_optimizer": false, "sample_batch_size": 750, "vf_clip_param": 1000000.0, "custom_resources_per_worker": {}, "lr": 0.0005, "num_sgd_iter": 10, "model": {"grayscale": false, "dim": 84, "custom_model": null, "free_log_std": false, "custom_options": {}, "lstm_cell_size": 256, "framestack": true, "squash_to_range": false, "conv_filters": null, "channel_major": false, "custom_preprocessor": null, "fcnet_hiddens": [128, 64, 32], "max_seq_len": 20, "lstm_use_prev_action_reward": false, "conv_activation": "relu", "use_lstm": false, "zero_mean": true, "fcnet_activation": "tanh"}, "input": "sampler", "horizon": 1500, "vf_loss_coeff": 1.0, "compress_observations": false, "num_envs_per_worker": 1, "sample_async": false, "num_gpus": 0, "output_max_file_size": 67108864, "lambda": 0.97, "multiagent": {"policy_graphs": {}, "policies_to_train": null, "policy_mapping_fn": null}, "output": null, "num_cpus_per_worker": 1, "preprocessor_pref": "deepmind", "clip_param": 0.3, "kl_target": 0.01, "output_compress_columns": ["obs", "new_obs"], "collect_metrics_timeout": 180, "sgd_minibatch_size": 128, "train_batch_size": 30000, "callbacks": {"on_sample_end": null, "on_train_result": null, "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7f2c02ce8668>", "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7f2c02d1cb00>", "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7f2c02ce8da0>"}, "observation_filter": "MeanStdFilter", "synchronize_filters": true, "gamma": 0.99, "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "env_config": {"flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"buf_length\": 1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.1,\n            \"eta3\": 0.1,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 1.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnv\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 600,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}", "run": "PPO"}, "env": "MultiWaveAttenuationMergePOEnv-v0_[eta1, eta2, eta3]:[1.0, 0.1, 0.1]_t_min:1.0_buf_len: 1", "optimizer": {}, "num_workers": 20, "num_cpus_for_driver": 1, "lr_schedule": null, "batch_mode": "truncate_episodes"}, "time_this_iter_s": 50.17624616622925, "timesteps_since_restore": 1199911, "info": {"update_time_ms": 7.758, "num_steps_sampled": 1199911, "sample_time_ms": 33238.122, "grad_time_ms": 18254.425, "default": {"entropy": 1.3324294090270996, "kl": 0.011538797058165073, "vf_loss": 16.079927444458008, "vf_explained_var": 0.8256839513778687, "policy_loss": -0.006570637691766024, "total_loss": 16.07451057434082, "cur_lr": 0.0005000000237487257, "cur_kl_coeff": 0.10000000894069672}, "num_steps_trained": 1199911, "load_time_ms": 9.605}, "time_total_s": 886.0525631904602, "num_metric_batches_dropped": 0, "timestamp": 1558307374, "episode_reward_max": 1395.804202936122, "timesteps_this_iter": 68808, "episode_reward_min": 27.89129737959379, "date": "2019-05-19_23-09-34", "policy_reward_mean": {}, "time_since_restore": 886.0525631904602, "episodes_total": 468, "iterations_since_restore": 17, "pid": 46880, "episodes_this_iter": 26, "episode_len_mean": 687.46, "done": false, "training_iteration": 17, "custom_metrics": {"cost2_mean": -0.04785819664635055, "outflow_rate_mean": 1073.587220328817, "cost2_min": -0.5095055108791754, "system_level_velocity_mean": 12.55103033692565, "cost1_min": 13.16073435645058, "cost1_mean": 322.4441781136527, "cost1_max": 448.9573404269947, "outflow_rate_max": 1312.8495685025423, "system_level_velocity_max": 18.183427053524614, "outflow_rate_min": 454.74024246423585, "cost2_max": 0.0, "system_level_velocity_min": 8.121472233191067}, "node_ip": "10.138.0.2", "timesteps_total": 1199911}
{"hostname": "flow-main", "episode_reward_mean": 1013.9091245881881, "experiment_id": "383e98f8614b4235818372cc4d63f9e0", "config": {"use_gae": true, "tf_session_args": {"allow_soft_placement": true, "gpu_options": {"allow_growth": true}, "inter_op_parallelism_threads": 2, "device_count": {"CPU": 1}, "intra_op_parallelism_threads": 2, "log_device_placement": false}, "entropy_coeff": 0.0, "kl_coeff": 0.2, "num_gpus_per_worker": 0, "monitor": false, "input_evaluation": null, "clip_rewards": null, "vf_share_layers": false, "straggler_mitigation": false, "log_level": "INFO", "clip_actions": false, "simple_optimizer": false, "sample_batch_size": 750, "vf_clip_param": 1000000.0, "custom_resources_per_worker": {}, "lr": 0.0005, "num_sgd_iter": 10, "model": {"grayscale": false, "dim": 84, "custom_model": null, "free_log_std": false, "custom_options": {}, "lstm_cell_size": 256, "framestack": true, "squash_to_range": false, "conv_filters": null, "channel_major": false, "custom_preprocessor": null, "fcnet_hiddens": [128, 64, 32], "max_seq_len": 20, "lstm_use_prev_action_reward": false, "conv_activation": "relu", "use_lstm": false, "zero_mean": true, "fcnet_activation": "tanh"}, "input": "sampler", "horizon": 1500, "vf_loss_coeff": 1.0, "compress_observations": false, "num_envs_per_worker": 1, "sample_async": false, "num_gpus": 0, "output_max_file_size": 67108864, "lambda": 0.97, "multiagent": {"policy_graphs": {}, "policies_to_train": null, "policy_mapping_fn": null}, "output": null, "num_cpus_per_worker": 1, "preprocessor_pref": "deepmind", "clip_param": 0.3, "kl_target": 0.01, "output_compress_columns": ["obs", "new_obs"], "collect_metrics_timeout": 180, "sgd_minibatch_size": 128, "train_batch_size": 30000, "callbacks": {"on_sample_end": null, "on_train_result": null, "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7f2c02cf5390>", "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7f2c02cf5cc0>", "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7f2c02cf5320>"}, "observation_filter": "MeanStdFilter", "synchronize_filters": true, "gamma": 0.99, "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "env_config": {"flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"buf_length\": 1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.1,\n            \"eta3\": 0.1,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 1.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnv\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 600,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}", "run": "PPO"}, "env": "MultiWaveAttenuationMergePOEnv-v0_[eta1, eta2, eta3]:[1.0, 0.1, 0.1]_t_min:1.0_buf_len: 1", "optimizer": {}, "num_workers": 20, "num_cpus_for_driver": 1, "lr_schedule": null, "batch_mode": "truncate_episodes"}, "time_this_iter_s": 50.61147356033325, "timesteps_since_restore": 1268023, "info": {"update_time_ms": 7.683, "num_steps_sampled": 1268023, "sample_time_ms": 32984.426, "grad_time_ms": 18039.629, "default": {"entropy": 1.3283149003982544, "kl": 0.013106091879308224, "vf_loss": 16.704076766967773, "vf_explained_var": 0.7962455153465271, "policy_loss": -0.006585980765521526, "total_loss": 16.698802947998047, "cur_lr": 0.0005000000237487257, "cur_kl_coeff": 0.10000000894069672}, "num_steps_trained": 1268023, "load_time_ms": 9.81}, "time_total_s": 936.6640367507935, "num_metric_batches_dropped": 0, "timestamp": 1558307425, "episode_reward_max": 1395.804202936122, "timesteps_this_iter": 68112, "episode_reward_min": 27.89129737959379, "date": "2019-05-19_23-10-25", "policy_reward_mean": {}, "time_since_restore": 936.6640367507935, "episodes_total": 496, "iterations_since_restore": 18, "pid": 46880, "episodes_this_iter": 28, "episode_len_mean": 687.46, "done": false, "training_iteration": 18, "custom_metrics": {"cost2_mean": -0.05801948126125099, "outflow_rate_mean": 1083.8061356993865, "cost2_min": -0.5095055108791754, "system_level_velocity_mean": 12.795038218555993, "cost1_min": 13.16073435645058, "cost1_mean": 328.9184448377567, "cost1_max": 448.9573404269947, "outflow_rate_max": 1312.8495685025423, "system_level_velocity_max": 18.183427053524614, "outflow_rate_min": 454.74024246423585, "cost2_max": 0.0, "system_level_velocity_min": 8.121472233191067}, "node_ip": "10.138.0.2", "timesteps_total": 1268023}
{"hostname": "flow-main", "episode_reward_mean": 1007.4926562784906, "experiment_id": "383e98f8614b4235818372cc4d63f9e0", "config": {"use_gae": true, "tf_session_args": {"allow_soft_placement": true, "gpu_options": {"allow_growth": true}, "inter_op_parallelism_threads": 2, "device_count": {"CPU": 1}, "intra_op_parallelism_threads": 2, "log_device_placement": false}, "entropy_coeff": 0.0, "kl_coeff": 0.2, "num_gpus_per_worker": 0, "monitor": false, "input_evaluation": null, "clip_rewards": null, "vf_share_layers": false, "straggler_mitigation": false, "log_level": "INFO", "clip_actions": false, "simple_optimizer": false, "sample_batch_size": 750, "vf_clip_param": 1000000.0, "custom_resources_per_worker": {}, "lr": 0.0005, "num_sgd_iter": 10, "model": {"grayscale": false, "dim": 84, "custom_model": null, "free_log_std": false, "custom_options": {}, "lstm_cell_size": 256, "framestack": true, "squash_to_range": false, "conv_filters": null, "channel_major": false, "custom_preprocessor": null, "fcnet_hiddens": [128, 64, 32], "max_seq_len": 20, "lstm_use_prev_action_reward": false, "conv_activation": "relu", "use_lstm": false, "zero_mean": true, "fcnet_activation": "tanh"}, "input": "sampler", "horizon": 1500, "vf_loss_coeff": 1.0, "compress_observations": false, "num_envs_per_worker": 1, "sample_async": false, "num_gpus": 0, "output_max_file_size": 67108864, "lambda": 0.97, "multiagent": {"policy_graphs": {}, "policies_to_train": null, "policy_mapping_fn": null}, "output": null, "num_cpus_per_worker": 1, "preprocessor_pref": "deepmind", "clip_param": 0.3, "kl_target": 0.01, "output_compress_columns": ["obs", "new_obs"], "collect_metrics_timeout": 180, "sgd_minibatch_size": 128, "train_batch_size": 30000, "callbacks": {"on_sample_end": null, "on_train_result": null, "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7f2c02ce82e8>", "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7f2c02ce8898>", "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7f2c02cf5fd0>"}, "observation_filter": "MeanStdFilter", "synchronize_filters": true, "gamma": 0.99, "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "env_config": {"flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"buf_length\": 1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.1,\n            \"eta3\": 0.1,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 1.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnv\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 600,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}", "run": "PPO"}, "env": "MultiWaveAttenuationMergePOEnv-v0_[eta1, eta2, eta3]:[1.0, 0.1, 0.1]_t_min:1.0_buf_len: 1", "optimizer": {}, "num_workers": 20, "num_cpus_for_driver": 1, "lr_schedule": null, "batch_mode": "truncate_episodes"}, "time_this_iter_s": 49.47402215003967, "timesteps_since_restore": 1332163, "info": {"update_time_ms": 7.601, "num_steps_sampled": 1332163, "sample_time_ms": 32818.657, "grad_time_ms": 17792.887, "default": {"entropy": 1.31486976146698, "kl": 0.014102483168244362, "vf_loss": 19.86103057861328, "vf_explained_var": 0.8263409733772278, "policy_loss": -0.00827154889702797, "total_loss": 19.854167938232422, "cur_lr": 0.0005000000237487257, "cur_kl_coeff": 0.10000000894069672}, "num_steps_trained": 1332163, "load_time_ms": 9.612}, "time_total_s": 986.1380589008331, "num_metric_batches_dropped": 0, "timestamp": 1558307474, "episode_reward_max": 1375.3840408042583, "timesteps_this_iter": 64140, "episode_reward_min": 27.89129737959379, "date": "2019-05-19_23-11-14", "policy_reward_mean": {}, "time_since_restore": 986.1380589008331, "episodes_total": 525, "iterations_since_restore": 19, "pid": 46880, "episodes_this_iter": 29, "episode_len_mean": 681.84, "done": false, "training_iteration": 19, "custom_metrics": {"cost2_mean": -0.061366961025898455, "outflow_rate_mean": 1085.1879397891705, "cost2_min": -0.48719743374168023, "system_level_velocity_mean": 12.990689579312937, "cost1_min": 13.16073435645058, "cost1_mean": 330.25253613055423, "cost1_max": 455.2320228586866, "outflow_rate_max": 1333.7299844695383, "system_level_velocity_max": 17.71339272110009, "outflow_rate_min": 454.74024246423585, "cost2_max": 0.0, "system_level_velocity_min": 8.121472233191067}, "node_ip": "10.138.0.2", "timesteps_total": 1332163}
{"hostname": "flow-main", "episode_reward_mean": 1003.1694758995542, "experiment_id": "383e98f8614b4235818372cc4d63f9e0", "config": {"use_gae": true, "tf_session_args": {"allow_soft_placement": true, "gpu_options": {"allow_growth": true}, "inter_op_parallelism_threads": 2, "device_count": {"CPU": 1}, "intra_op_parallelism_threads": 2, "log_device_placement": false}, "entropy_coeff": 0.0, "kl_coeff": 0.2, "num_gpus_per_worker": 0, "monitor": false, "input_evaluation": null, "clip_rewards": null, "vf_share_layers": false, "straggler_mitigation": false, "log_level": "INFO", "clip_actions": false, "simple_optimizer": false, "sample_batch_size": 750, "vf_clip_param": 1000000.0, "custom_resources_per_worker": {}, "lr": 0.0005, "num_sgd_iter": 10, "model": {"grayscale": false, "dim": 84, "custom_model": null, "free_log_std": false, "custom_options": {}, "lstm_cell_size": 256, "framestack": true, "squash_to_range": false, "conv_filters": null, "channel_major": false, "custom_preprocessor": null, "fcnet_hiddens": [128, 64, 32], "max_seq_len": 20, "lstm_use_prev_action_reward": false, "conv_activation": "relu", "use_lstm": false, "zero_mean": true, "fcnet_activation": "tanh"}, "input": "sampler", "horizon": 1500, "vf_loss_coeff": 1.0, "compress_observations": false, "num_envs_per_worker": 1, "sample_async": false, "num_gpus": 0, "output_max_file_size": 67108864, "lambda": 0.97, "multiagent": {"policy_graphs": {}, "policies_to_train": null, "policy_mapping_fn": null}, "output": null, "num_cpus_per_worker": 1, "preprocessor_pref": "deepmind", "clip_param": 0.3, "kl_target": 0.01, "output_compress_columns": ["obs", "new_obs"], "collect_metrics_timeout": 180, "sgd_minibatch_size": 128, "train_batch_size": 30000, "callbacks": {"on_sample_end": null, "on_train_result": null, "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7f2c02cec278>", "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7f2c02cec860>", "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7f2c02cecbe0>"}, "observation_filter": "MeanStdFilter", "synchronize_filters": true, "gamma": 0.99, "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "env_config": {"flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"buf_length\": 1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.1,\n            \"eta3\": 0.1,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 1.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnv\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 600,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}", "run": "PPO"}, "env": "MultiWaveAttenuationMergePOEnv-v0_[eta1, eta2, eta3]:[1.0, 0.1, 0.1]_t_min:1.0_buf_len: 1", "optimizer": {}, "num_workers": 20, "num_cpus_for_driver": 1, "lr_schedule": null, "batch_mode": "truncate_episodes"}, "time_this_iter_s": 48.76156258583069, "timesteps_since_restore": 1396655, "info": {"update_time_ms": 7.676, "num_steps_sampled": 1396655, "sample_time_ms": 32503.919, "grad_time_ms": 17614.421, "default": {"entropy": 1.3255150318145752, "kl": 0.013770884834229946, "vf_loss": 18.60323143005371, "vf_explained_var": 0.8056378364562988, "policy_loss": -0.008087358437478542, "total_loss": 18.59652328491211, "cur_lr": 0.0005000000237487257, "cur_kl_coeff": 0.10000000894069672}, "num_steps_trained": 1396655, "load_time_ms": 9.591}, "time_total_s": 1034.8996214866638, "num_metric_batches_dropped": 0, "timestamp": 1558307523, "episode_reward_max": 1324.2437698473686, "timesteps_this_iter": 64492, "episode_reward_min": 36.36666247948373, "date": "2019-05-19_23-12-03", "policy_reward_mean": {}, "time_since_restore": 1034.8996214866638, "episodes_total": 551, "iterations_since_restore": 20, "pid": 46880, "episodes_this_iter": 26, "episode_len_mean": 688.64, "done": false, "training_iteration": 20, "custom_metrics": {"cost2_mean": -0.08808480147905903, "outflow_rate_mean": 1085.7621452827943, "cost2_min": -0.5237415094196584, "system_level_velocity_mean": 12.941102024235574, "cost1_min": 15.824403085668132, "cost1_mean": 332.6139403939711, "cost1_max": 464.6312633307093, "outflow_rate_max": 1333.7299844695383, "system_level_velocity_max": 17.71339272110009, "outflow_rate_min": 477.8911634321994, "cost2_max": 0.0, "system_level_velocity_min": 9.271479569231104}, "node_ip": "10.138.0.2", "timesteps_total": 1396655}
{"hostname": "flow-main", "episode_reward_mean": 999.3363322284356, "experiment_id": "383e98f8614b4235818372cc4d63f9e0", "config": {"use_gae": true, "tf_session_args": {"allow_soft_placement": true, "gpu_options": {"allow_growth": true}, "inter_op_parallelism_threads": 2, "device_count": {"CPU": 1}, "intra_op_parallelism_threads": 2, "log_device_placement": false}, "entropy_coeff": 0.0, "kl_coeff": 0.2, "num_gpus_per_worker": 0, "monitor": false, "input_evaluation": null, "clip_rewards": null, "vf_share_layers": false, "straggler_mitigation": false, "log_level": "INFO", "clip_actions": false, "simple_optimizer": false, "sample_batch_size": 750, "vf_clip_param": 1000000.0, "custom_resources_per_worker": {}, "lr": 0.0005, "num_sgd_iter": 10, "model": {"grayscale": false, "dim": 84, "custom_model": null, "free_log_std": false, "custom_options": {}, "lstm_cell_size": 256, "framestack": true, "squash_to_range": false, "conv_filters": null, "channel_major": false, "custom_preprocessor": null, "fcnet_hiddens": [128, 64, 32], "max_seq_len": 20, "lstm_use_prev_action_reward": false, "conv_activation": "relu", "use_lstm": false, "zero_mean": true, "fcnet_activation": "tanh"}, "input": "sampler", "horizon": 1500, "vf_loss_coeff": 1.0, "compress_observations": false, "num_envs_per_worker": 1, "sample_async": false, "num_gpus": 0, "output_max_file_size": 67108864, "lambda": 0.97, "multiagent": {"policy_graphs": {}, "policies_to_train": null, "policy_mapping_fn": null}, "output": null, "num_cpus_per_worker": 1, "preprocessor_pref": "deepmind", "clip_param": 0.3, "kl_target": 0.01, "output_compress_columns": ["obs", "new_obs"], "collect_metrics_timeout": 180, "sgd_minibatch_size": 128, "train_batch_size": 30000, "callbacks": {"on_sample_end": null, "on_train_result": null, "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7f2c02cec630>", "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7f2c02cdbda0>", "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7f2c02cdbba8>"}, "observation_filter": "MeanStdFilter", "synchronize_filters": true, "gamma": 0.99, "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "env_config": {"flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"buf_length\": 1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.1,\n            \"eta3\": 0.1,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 1.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnv\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 600,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}", "run": "PPO"}, "env": "MultiWaveAttenuationMergePOEnv-v0_[eta1, eta2, eta3]:[1.0, 0.1, 0.1]_t_min:1.0_buf_len: 1", "optimizer": {}, "num_workers": 20, "num_cpus_for_driver": 1, "lr_schedule": null, "batch_mode": "truncate_episodes"}, "time_this_iter_s": 48.69813084602356, "timesteps_since_restore": 1460373, "info": {"update_time_ms": 7.651, "num_steps_sampled": 1460373, "sample_time_ms": 32458.247, "grad_time_ms": 17330.855, "default": {"entropy": 1.3288377523422241, "kl": 0.015206507407128811, "vf_loss": 21.22796630859375, "vf_explained_var": 0.7944442629814148, "policy_loss": -0.00772487698122859, "total_loss": 21.221759796142578, "cur_lr": 0.0005000000237487257, "cur_kl_coeff": 0.10000000894069672}, "num_steps_trained": 1460373, "load_time_ms": 9.542}, "time_total_s": 1083.5977523326874, "num_metric_batches_dropped": 0, "timestamp": 1558307572, "episode_reward_max": 1324.2437698473686, "timesteps_this_iter": 63718, "episode_reward_min": 36.36666247948373, "date": "2019-05-19_23-12-52", "policy_reward_mean": {}, "time_since_restore": 1083.5977523326874, "episodes_total": 580, "iterations_since_restore": 21, "pid": 46880, "episodes_this_iter": 29, "episode_len_mean": 682.03, "done": false, "training_iteration": 21, "custom_metrics": {"cost2_mean": -0.10126631316342484, "outflow_rate_mean": 1091.2832897853073, "cost2_min": -0.5237415094196584, "system_level_velocity_mean": 13.197783905715484, "cost1_min": 15.824403085668132, "cost1_mean": 334.50231474743646, "cost1_max": 467.1889070927091, "outflow_rate_max": 1335.4636970227277, "system_level_velocity_max": 18.163090983926846, "outflow_rate_min": 477.8911634321994, "cost2_max": 0.0, "system_level_velocity_min": 9.271479569231104}, "node_ip": "10.138.0.2", "timesteps_total": 1460373}
{"hostname": "flow-main", "episode_reward_mean": 993.1509316882343, "experiment_id": "383e98f8614b4235818372cc4d63f9e0", "config": {"use_gae": true, "tf_session_args": {"allow_soft_placement": true, "gpu_options": {"allow_growth": true}, "inter_op_parallelism_threads": 2, "device_count": {"CPU": 1}, "intra_op_parallelism_threads": 2, "log_device_placement": false}, "entropy_coeff": 0.0, "kl_coeff": 0.2, "num_gpus_per_worker": 0, "monitor": false, "input_evaluation": null, "clip_rewards": null, "vf_share_layers": false, "straggler_mitigation": false, "log_level": "INFO", "clip_actions": false, "simple_optimizer": false, "sample_batch_size": 750, "vf_clip_param": 1000000.0, "custom_resources_per_worker": {}, "lr": 0.0005, "num_sgd_iter": 10, "model": {"grayscale": false, "dim": 84, "custom_model": null, "free_log_std": false, "custom_options": {}, "lstm_cell_size": 256, "framestack": true, "squash_to_range": false, "conv_filters": null, "channel_major": false, "custom_preprocessor": null, "fcnet_hiddens": [128, 64, 32], "max_seq_len": 20, "lstm_use_prev_action_reward": false, "conv_activation": "relu", "use_lstm": false, "zero_mean": true, "fcnet_activation": "tanh"}, "input": "sampler", "horizon": 1500, "vf_loss_coeff": 1.0, "compress_observations": false, "num_envs_per_worker": 1, "sample_async": false, "num_gpus": 0, "output_max_file_size": 67108864, "lambda": 0.97, "multiagent": {"policy_graphs": {}, "policies_to_train": null, "policy_mapping_fn": null}, "output": null, "num_cpus_per_worker": 1, "preprocessor_pref": "deepmind", "clip_param": 0.3, "kl_target": 0.01, "output_compress_columns": ["obs", "new_obs"], "collect_metrics_timeout": 180, "sgd_minibatch_size": 128, "train_batch_size": 30000, "callbacks": {"on_sample_end": null, "on_train_result": null, "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7f2c02ce87f0>", "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7f2c02cdb2b0>", "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7f2c02cdbe10>"}, "observation_filter": "MeanStdFilter", "synchronize_filters": true, "gamma": 0.99, "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "env_config": {"flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"buf_length\": 1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.1,\n            \"eta3\": 0.1,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 1.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnv\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 600,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}", "run": "PPO"}, "env": "MultiWaveAttenuationMergePOEnv-v0_[eta1, eta2, eta3]:[1.0, 0.1, 0.1]_t_min:1.0_buf_len: 1", "optimizer": {}, "num_workers": 20, "num_cpus_for_driver": 1, "lr_schedule": null, "batch_mode": "truncate_episodes"}, "time_this_iter_s": 47.25310802459717, "timesteps_since_restore": 1524321, "info": {"update_time_ms": 7.462, "num_steps_sampled": 1524321, "sample_time_ms": 32283.65, "grad_time_ms": 16960.781, "default": {"entropy": 1.3333580493927002, "kl": 0.014189783483743668, "vf_loss": 22.52886390686035, "vf_explained_var": 0.7774625420570374, "policy_loss": -0.006821710616350174, "total_loss": 22.523462295532227, "cur_lr": 0.0005000000237487257, "cur_kl_coeff": 0.10000000894069672}, "num_steps_trained": 1524321, "load_time_ms": 9.158}, "time_total_s": 1130.8508603572845, "num_metric_batches_dropped": 0, "timestamp": 1558307619, "episode_reward_max": 1264.0408076688434, "timesteps_this_iter": 63948, "episode_reward_min": 36.36666247948373, "date": "2019-05-19_23-13-39", "policy_reward_mean": {}, "time_since_restore": 1130.8508603572845, "episodes_total": 613, "iterations_since_restore": 22, "pid": 46880, "episodes_this_iter": 33, "episode_len_mean": 686.63, "done": false, "training_iteration": 22, "custom_metrics": {"cost2_mean": -0.10123192852102961, "outflow_rate_mean": 1090.8101196774787, "cost2_min": -0.7512026668177281, "system_level_velocity_mean": 13.171976693377674, "cost1_min": 15.824403085668132, "cost1_mean": 336.2153292090198, "cost1_max": 467.1889070927091, "outflow_rate_max": 1335.4636970227277, "system_level_velocity_max": 18.163090983926846, "outflow_rate_min": 477.8911634321994, "cost2_max": 0.0, "system_level_velocity_min": 9.271479569231104}, "node_ip": "10.138.0.2", "timesteps_total": 1524321}
{"hostname": "flow-main", "episode_reward_mean": 991.5805653717057, "experiment_id": "383e98f8614b4235818372cc4d63f9e0", "config": {"use_gae": true, "tf_session_args": {"allow_soft_placement": true, "gpu_options": {"allow_growth": true}, "inter_op_parallelism_threads": 2, "device_count": {"CPU": 1}, "intra_op_parallelism_threads": 2, "log_device_placement": false}, "entropy_coeff": 0.0, "kl_coeff": 0.2, "num_gpus_per_worker": 0, "monitor": false, "input_evaluation": null, "clip_rewards": null, "vf_share_layers": false, "straggler_mitigation": false, "log_level": "INFO", "clip_actions": false, "simple_optimizer": false, "sample_batch_size": 750, "vf_clip_param": 1000000.0, "custom_resources_per_worker": {}, "lr": 0.0005, "num_sgd_iter": 10, "model": {"grayscale": false, "dim": 84, "custom_model": null, "free_log_std": false, "custom_options": {}, "lstm_cell_size": 256, "framestack": true, "squash_to_range": false, "conv_filters": null, "channel_major": false, "custom_preprocessor": null, "fcnet_hiddens": [128, 64, 32], "max_seq_len": 20, "lstm_use_prev_action_reward": false, "conv_activation": "relu", "use_lstm": false, "zero_mean": true, "fcnet_activation": "tanh"}, "input": "sampler", "horizon": 1500, "vf_loss_coeff": 1.0, "compress_observations": false, "num_envs_per_worker": 1, "sample_async": false, "num_gpus": 0, "output_max_file_size": 67108864, "lambda": 0.97, "multiagent": {"policy_graphs": {}, "policies_to_train": null, "policy_mapping_fn": null}, "output": null, "num_cpus_per_worker": 1, "preprocessor_pref": "deepmind", "clip_param": 0.3, "kl_target": 0.01, "output_compress_columns": ["obs", "new_obs"], "collect_metrics_timeout": 180, "sgd_minibatch_size": 128, "train_batch_size": 30000, "callbacks": {"on_sample_end": null, "on_train_result": null, "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7f2c02cec5c0>", "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7f2c02cecb00>", "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7f2c02cecc18>"}, "observation_filter": "MeanStdFilter", "synchronize_filters": true, "gamma": 0.99, "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "env_config": {"flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"buf_length\": 1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.1,\n            \"eta3\": 0.1,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 1.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnv\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 600,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}", "run": "PPO"}, "env": "MultiWaveAttenuationMergePOEnv-v0_[eta1, eta2, eta3]:[1.0, 0.1, 0.1]_t_min:1.0_buf_len: 1", "optimizer": {}, "num_workers": 20, "num_cpus_for_driver": 1, "lr_schedule": null, "batch_mode": "truncate_episodes"}, "time_this_iter_s": 50.55119013786316, "timesteps_since_restore": 1590613, "info": {"update_time_ms": 7.231, "num_steps_sampled": 1590613, "sample_time_ms": 32269.352, "grad_time_ms": 16942.259, "default": {"entropy": 1.3436261415481567, "kl": 0.014462140388786793, "vf_loss": 19.31540870666504, "vf_explained_var": 0.780197262763977, "policy_loss": -0.007732315454632044, "total_loss": 19.30912208557129, "cur_lr": 0.0005000000237487257, "cur_kl_coeff": 0.10000000894069672}, "num_steps_trained": 1590613, "load_time_ms": 9.141}, "time_total_s": 1181.4020504951477, "num_metric_batches_dropped": 0, "timestamp": 1558307670, "episode_reward_max": 1264.0408076688434, "timesteps_this_iter": 66292, "episode_reward_min": 63.46511538696335, "date": "2019-05-19_23-14-30", "policy_reward_mean": {}, "time_since_restore": 1181.4020504951477, "episodes_total": 641, "iterations_since_restore": 23, "pid": 46880, "episodes_this_iter": 28, "episode_len_mean": 693.39, "done": false, "training_iteration": 23, "custom_metrics": {"cost2_mean": -0.08529990649620536, "outflow_rate_mean": 1082.7709718758335, "cost2_min": -0.7512026668177281, "system_level_velocity_mean": 12.880806885236193, "cost1_min": 26.065082501398074, "cost1_mean": 332.5336298374691, "cost1_max": 467.1889070927091, "outflow_rate_max": 1335.4636970227277, "system_level_velocity_max": 18.163090983926846, "outflow_rate_min": 520.3443137681405, "cost2_max": 0.0, "system_level_velocity_min": 9.271479569231104}, "node_ip": "10.138.0.2", "timesteps_total": 1590613}
{"hostname": "flow-main", "episode_reward_mean": 988.7680435216796, "experiment_id": "383e98f8614b4235818372cc4d63f9e0", "config": {"use_gae": true, "tf_session_args": {"allow_soft_placement": true, "gpu_options": {"allow_growth": true}, "inter_op_parallelism_threads": 2, "device_count": {"CPU": 1}, "intra_op_parallelism_threads": 2, "log_device_placement": false}, "entropy_coeff": 0.0, "kl_coeff": 0.2, "num_gpus_per_worker": 0, "monitor": false, "input_evaluation": null, "clip_rewards": null, "vf_share_layers": false, "straggler_mitigation": false, "log_level": "INFO", "clip_actions": false, "simple_optimizer": false, "sample_batch_size": 750, "vf_clip_param": 1000000.0, "custom_resources_per_worker": {}, "lr": 0.0005, "num_sgd_iter": 10, "model": {"grayscale": false, "dim": 84, "custom_model": null, "free_log_std": false, "custom_options": {}, "lstm_cell_size": 256, "framestack": true, "squash_to_range": false, "conv_filters": null, "channel_major": false, "custom_preprocessor": null, "fcnet_hiddens": [128, 64, 32], "max_seq_len": 20, "lstm_use_prev_action_reward": false, "conv_activation": "relu", "use_lstm": false, "zero_mean": true, "fcnet_activation": "tanh"}, "input": "sampler", "horizon": 1500, "vf_loss_coeff": 1.0, "compress_observations": false, "num_envs_per_worker": 1, "sample_async": false, "num_gpus": 0, "output_max_file_size": 67108864, "lambda": 0.97, "multiagent": {"policy_graphs": {}, "policies_to_train": null, "policy_mapping_fn": null}, "output": null, "num_cpus_per_worker": 1, "preprocessor_pref": "deepmind", "clip_param": 0.3, "kl_target": 0.01, "output_compress_columns": ["obs", "new_obs"], "collect_metrics_timeout": 180, "sgd_minibatch_size": 128, "train_batch_size": 30000, "callbacks": {"on_sample_end": null, "on_train_result": null, "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7f2c02cfecf8>", "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7f2c02cfe828>", "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7f2c02cfed30>"}, "observation_filter": "MeanStdFilter", "synchronize_filters": true, "gamma": 0.99, "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "env_config": {"flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"buf_length\": 1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.1,\n            \"eta3\": 0.1,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 1.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnv\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 600,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}", "run": "PPO"}, "env": "MultiWaveAttenuationMergePOEnv-v0_[eta1, eta2, eta3]:[1.0, 0.1, 0.1]_t_min:1.0_buf_len: 1", "optimizer": {}, "num_workers": 20, "num_cpus_for_driver": 1, "lr_schedule": null, "batch_mode": "truncate_episodes"}, "time_this_iter_s": 48.647114515304565, "timesteps_since_restore": 1654617, "info": {"update_time_ms": 7.691, "num_steps_sampled": 1654617, "sample_time_ms": 32342.903, "grad_time_ms": 16822.0, "default": {"entropy": 1.3485898971557617, "kl": 0.01587536372244358, "vf_loss": 19.70736312866211, "vf_explained_var": 0.7715286016464233, "policy_loss": -0.008863916620612144, "total_loss": 19.70008659362793, "cur_lr": 0.0005000000237487257, "cur_kl_coeff": 0.10000001639127731}, "num_steps_trained": 1654617, "load_time_ms": 8.92}, "time_total_s": 1230.0491650104523, "num_metric_batches_dropped": 0, "timestamp": 1558307719, "episode_reward_max": 1264.0408076688434, "timesteps_this_iter": 64004, "episode_reward_min": 797.8734903884703, "date": "2019-05-19_23-15-19", "policy_reward_mean": {}, "time_since_restore": 1230.0491650104523, "episodes_total": 670, "iterations_since_restore": 24, "pid": 46880, "episodes_this_iter": 29, "episode_len_mean": 700.0, "done": false, "training_iteration": 24, "custom_metrics": {"cost2_mean": -0.059752253176777514, "outflow_rate_mean": 1081.002690519472, "cost2_min": -0.7512026668177281, "system_level_velocity_mean": 12.719605664297871, "cost1_min": 231.56589656346756, "cost1_mean": 332.5778900920618, "cost1_max": 464.59760260675057, "outflow_rate_max": 1302.4302061732906, "system_level_velocity_max": 17.71804763804207, "outflow_rate_min": 907.7520853601021, "cost2_max": 0.0, "system_level_velocity_min": 9.002450629429976}, "node_ip": "10.138.0.2", "timesteps_total": 1654617}
{"hostname": "flow-main", "episode_reward_mean": 978.4899952225148, "experiment_id": "383e98f8614b4235818372cc4d63f9e0", "config": {"use_gae": true, "tf_session_args": {"allow_soft_placement": true, "gpu_options": {"allow_growth": true}, "inter_op_parallelism_threads": 2, "device_count": {"CPU": 1}, "intra_op_parallelism_threads": 2, "log_device_placement": false}, "entropy_coeff": 0.0, "kl_coeff": 0.2, "num_gpus_per_worker": 0, "monitor": false, "input_evaluation": null, "clip_rewards": null, "vf_share_layers": false, "straggler_mitigation": false, "log_level": "INFO", "clip_actions": false, "simple_optimizer": false, "sample_batch_size": 750, "vf_clip_param": 1000000.0, "custom_resources_per_worker": {}, "lr": 0.0005, "num_sgd_iter": 10, "model": {"grayscale": false, "dim": 84, "custom_model": null, "free_log_std": false, "custom_options": {}, "lstm_cell_size": 256, "framestack": true, "squash_to_range": false, "conv_filters": null, "channel_major": false, "custom_preprocessor": null, "fcnet_hiddens": [128, 64, 32], "max_seq_len": 20, "lstm_use_prev_action_reward": false, "conv_activation": "relu", "use_lstm": false, "zero_mean": true, "fcnet_activation": "tanh"}, "input": "sampler", "horizon": 1500, "vf_loss_coeff": 1.0, "compress_observations": false, "num_envs_per_worker": 1, "sample_async": false, "num_gpus": 0, "output_max_file_size": 67108864, "lambda": 0.97, "multiagent": {"policy_graphs": {}, "policies_to_train": null, "policy_mapping_fn": null}, "output": null, "num_cpus_per_worker": 1, "preprocessor_pref": "deepmind", "clip_param": 0.3, "kl_target": 0.01, "output_compress_columns": ["obs", "new_obs"], "collect_metrics_timeout": 180, "sgd_minibatch_size": 128, "train_batch_size": 30000, "callbacks": {"on_sample_end": null, "on_train_result": null, "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7f2c02ce8668>", "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7f2c02ce82e8>", "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7f2c02ce8240>"}, "observation_filter": "MeanStdFilter", "synchronize_filters": true, "gamma": 0.99, "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "env_config": {"flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"buf_length\": 1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.1,\n            \"eta3\": 0.1,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 1.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnv\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 600,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}", "run": "PPO"}, "env": "MultiWaveAttenuationMergePOEnv-v0_[eta1, eta2, eta3]:[1.0, 0.1, 0.1]_t_min:1.0_buf_len: 1", "optimizer": {}, "num_workers": 20, "num_cpus_for_driver": 1, "lr_schedule": null, "batch_mode": "truncate_episodes"}, "time_this_iter_s": 46.57552766799927, "timesteps_since_restore": 1718861, "info": {"update_time_ms": 7.773, "num_steps_sampled": 1718861, "sample_time_ms": 32118.798, "grad_time_ms": 16765.117, "default": {"entropy": 1.343113660812378, "kl": 0.0174129456281662, "vf_loss": 21.423913955688477, "vf_explained_var": 0.7908123135566711, "policy_loss": -0.010006489232182503, "total_loss": 21.415647506713867, "cur_lr": 0.0005000000237487257, "cur_kl_coeff": 0.10000000894069672}, "num_steps_trained": 1718861, "load_time_ms": 8.838}, "time_total_s": 1276.6246926784515, "num_metric_batches_dropped": 0, "timestamp": 1558307765, "episode_reward_max": 1264.0408076688434, "timesteps_this_iter": 64244, "episode_reward_min": 57.56345878308166, "date": "2019-05-19_23-16-05", "policy_reward_mean": {}, "time_since_restore": 1276.6246926784515, "episodes_total": 699, "iterations_since_restore": 25, "pid": 46880, "episodes_this_iter": 29, "episode_len_mean": 693.4, "done": false, "training_iteration": 25, "custom_metrics": {"cost2_mean": -0.062388910404630786, "outflow_rate_mean": 1072.7984577050368, "cost2_min": -0.4975764140158646, "system_level_velocity_mean": 12.770253603118947, "cost1_min": 26.213842499891634, "cost1_mean": 329.2402877057081, "cost1_max": 464.59760260675057, "outflow_rate_max": 1302.4302061732906, "system_level_velocity_max": 18.18326024715294, "outflow_rate_min": 478.84201469171313, "cost2_max": 0.0, "system_level_velocity_min": 9.002450629429976}, "node_ip": "10.138.0.2", "timesteps_total": 1718861}
{"hostname": "flow-main", "episode_reward_mean": 967.4550066313278, "experiment_id": "383e98f8614b4235818372cc4d63f9e0", "config": {"use_gae": true, "tf_session_args": {"allow_soft_placement": true, "gpu_options": {"allow_growth": true}, "inter_op_parallelism_threads": 2, "device_count": {"CPU": 1}, "intra_op_parallelism_threads": 2, "log_device_placement": false}, "entropy_coeff": 0.0, "kl_coeff": 0.2, "num_gpus_per_worker": 0, "monitor": false, "input_evaluation": null, "clip_rewards": null, "vf_share_layers": false, "straggler_mitigation": false, "log_level": "INFO", "clip_actions": false, "simple_optimizer": false, "sample_batch_size": 750, "vf_clip_param": 1000000.0, "custom_resources_per_worker": {}, "lr": 0.0005, "num_sgd_iter": 10, "model": {"grayscale": false, "dim": 84, "custom_model": null, "free_log_std": false, "custom_options": {}, "lstm_cell_size": 256, "framestack": true, "squash_to_range": false, "conv_filters": null, "channel_major": false, "custom_preprocessor": null, "fcnet_hiddens": [128, 64, 32], "max_seq_len": 20, "lstm_use_prev_action_reward": false, "conv_activation": "relu", "use_lstm": false, "zero_mean": true, "fcnet_activation": "tanh"}, "input": "sampler", "horizon": 1500, "vf_loss_coeff": 1.0, "compress_observations": false, "num_envs_per_worker": 1, "sample_async": false, "num_gpus": 0, "output_max_file_size": 67108864, "lambda": 0.97, "multiagent": {"policy_graphs": {}, "policies_to_train": null, "policy_mapping_fn": null}, "output": null, "num_cpus_per_worker": 1, "preprocessor_pref": "deepmind", "clip_param": 0.3, "kl_target": 0.01, "output_compress_columns": ["obs", "new_obs"], "collect_metrics_timeout": 180, "sgd_minibatch_size": 128, "train_batch_size": 30000, "callbacks": {"on_sample_end": null, "on_train_result": null, "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7f2c02cfea90>", "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7f2c02cfeb00>", "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7f2c02cfe828>"}, "observation_filter": "MeanStdFilter", "synchronize_filters": true, "gamma": 0.99, "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "env_config": {"flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"buf_length\": 1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.1,\n            \"eta3\": 0.1,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 1.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnv\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 600,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}", "run": "PPO"}, "env": "MultiWaveAttenuationMergePOEnv-v0_[eta1, eta2, eta3]:[1.0, 0.1, 0.1]_t_min:1.0_buf_len: 1", "optimizer": {}, "num_workers": 20, "num_cpus_for_driver": 1, "lr_schedule": null, "batch_mode": "truncate_episodes"}, "time_this_iter_s": 50.19670391082764, "timesteps_since_restore": 1785196, "info": {"update_time_ms": 7.84, "num_steps_sampled": 1785196, "sample_time_ms": 32101.684, "grad_time_ms": 16864.935, "default": {"entropy": 1.3422064781188965, "kl": 0.017631996423006058, "vf_loss": 20.07032012939453, "vf_explained_var": 0.7789750695228577, "policy_loss": -0.009082742966711521, "total_loss": 20.062999725341797, "cur_lr": 0.0005000000237487257, "cur_kl_coeff": 0.10000001639127731}, "num_steps_trained": 1785196, "load_time_ms": 8.583}, "time_total_s": 1326.8213965892792, "num_metric_batches_dropped": 0, "timestamp": 1558307815, "episode_reward_max": 1318.4104206514069, "timesteps_this_iter": 66335, "episode_reward_min": 57.56345878308166, "date": "2019-05-19_23-16-55", "policy_reward_mean": {}, "time_since_restore": 1326.8213965892792, "episodes_total": 726, "iterations_since_restore": 26, "pid": 46880, "episodes_this_iter": 27, "episode_len_mean": 686.87, "done": false, "training_iteration": 26, "custom_metrics": {"cost2_mean": -0.06726908704247468, "outflow_rate_mean": 1060.082885350369, "cost2_min": -0.4975764140158646, "system_level_velocity_mean": 12.71244020988204, "cost1_min": 26.213842499891634, "cost1_mean": 323.275808023397, "cost1_max": 454.06394046532523, "outflow_rate_max": 1277.5453892821606, "system_level_velocity_max": 18.843781468952617, "outflow_rate_min": 478.84201469171313, "cost2_max": 0.0, "system_level_velocity_min": 9.002450629429976}, "node_ip": "10.138.0.2", "timesteps_total": 1785196}
{"hostname": "flow-main", "episode_reward_mean": 974.2301065679183, "experiment_id": "383e98f8614b4235818372cc4d63f9e0", "config": {"use_gae": true, "tf_session_args": {"allow_soft_placement": true, "gpu_options": {"allow_growth": true}, "inter_op_parallelism_threads": 2, "device_count": {"CPU": 1}, "intra_op_parallelism_threads": 2, "log_device_placement": false}, "entropy_coeff": 0.0, "kl_coeff": 0.2, "num_gpus_per_worker": 0, "monitor": false, "input_evaluation": null, "clip_rewards": null, "vf_share_layers": false, "straggler_mitigation": false, "log_level": "INFO", "clip_actions": false, "simple_optimizer": false, "sample_batch_size": 750, "vf_clip_param": 1000000.0, "custom_resources_per_worker": {}, "lr": 0.0005, "num_sgd_iter": 10, "model": {"grayscale": false, "dim": 84, "custom_model": null, "free_log_std": false, "custom_options": {}, "lstm_cell_size": 256, "framestack": true, "squash_to_range": false, "conv_filters": null, "channel_major": false, "custom_preprocessor": null, "fcnet_hiddens": [128, 64, 32], "max_seq_len": 20, "lstm_use_prev_action_reward": false, "conv_activation": "relu", "use_lstm": false, "zero_mean": true, "fcnet_activation": "tanh"}, "input": "sampler", "horizon": 1500, "vf_loss_coeff": 1.0, "compress_observations": false, "num_envs_per_worker": 1, "sample_async": false, "num_gpus": 0, "output_max_file_size": 67108864, "lambda": 0.97, "multiagent": {"policy_graphs": {}, "policies_to_train": null, "policy_mapping_fn": null}, "output": null, "num_cpus_per_worker": 1, "preprocessor_pref": "deepmind", "clip_param": 0.3, "kl_target": 0.01, "output_compress_columns": ["obs", "new_obs"], "collect_metrics_timeout": 180, "sgd_minibatch_size": 128, "train_batch_size": 30000, "callbacks": {"on_sample_end": null, "on_train_result": null, "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7f2c02cf5a58>", "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7f2c02cf5f28>", "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7f2c02cf5b38>"}, "observation_filter": "MeanStdFilter", "synchronize_filters": true, "gamma": 0.99, "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "env_config": {"flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"buf_length\": 1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.1,\n            \"eta3\": 0.1,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 1.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnv\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 600,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}", "run": "PPO"}, "env": "MultiWaveAttenuationMergePOEnv-v0_[eta1, eta2, eta3]:[1.0, 0.1, 0.1]_t_min:1.0_buf_len: 1", "optimizer": {}, "num_workers": 20, "num_cpus_for_driver": 1, "lr_schedule": null, "batch_mode": "truncate_episodes"}, "time_this_iter_s": 48.81657934188843, "timesteps_since_restore": 1849016, "info": {"update_time_ms": 8.083, "num_steps_sampled": 1849016, "sample_time_ms": 32006.637, "grad_time_ms": 16823.988, "default": {"entropy": 1.3367353677749634, "kl": 0.01877911388874054, "vf_loss": 21.50078773498535, "vf_explained_var": 0.8144625425338745, "policy_loss": -0.009965423494577408, "total_loss": 21.492700576782227, "cur_lr": 0.0005000000237487257, "cur_kl_coeff": 0.10000001639127731}, "num_steps_trained": 1849016, "load_time_ms": 8.579}, "time_total_s": 1375.6379759311676, "num_metric_batches_dropped": 0, "timestamp": 1558307864, "episode_reward_max": 1318.4104206514069, "timesteps_this_iter": 63820, "episode_reward_min": 57.56345878308166, "date": "2019-05-19_23-17-44", "policy_reward_mean": {}, "time_since_restore": 1375.6379759311676, "episodes_total": 753, "iterations_since_restore": 27, "pid": 46880, "episodes_this_iter": 27, "episode_len_mean": 686.87, "done": false, "training_iteration": 27, "custom_metrics": {"cost2_mean": -0.06419474579650647, "outflow_rate_mean": 1061.7200867266986, "cost2_min": -0.4975764140158646, "system_level_velocity_mean": 12.784521772390868, "cost1_min": 26.213842499891634, "cost1_mean": 325.17939948806793, "cost1_max": 454.06394046532523, "outflow_rate_max": 1277.1768740848763, "system_level_velocity_max": 18.843781468952617, "outflow_rate_min": 478.84201469171313, "cost2_max": 0.0, "system_level_velocity_min": 8.59561836083538}, "node_ip": "10.138.0.2", "timesteps_total": 1849016}
{"hostname": "flow-main", "episode_reward_mean": 991.6187959888932, "experiment_id": "383e98f8614b4235818372cc4d63f9e0", "config": {"use_gae": true, "tf_session_args": {"allow_soft_placement": true, "gpu_options": {"allow_growth": true}, "inter_op_parallelism_threads": 2, "device_count": {"CPU": 1}, "intra_op_parallelism_threads": 2, "log_device_placement": false}, "entropy_coeff": 0.0, "kl_coeff": 0.2, "num_gpus_per_worker": 0, "monitor": false, "input_evaluation": null, "clip_rewards": null, "vf_share_layers": false, "straggler_mitigation": false, "log_level": "INFO", "clip_actions": false, "simple_optimizer": false, "sample_batch_size": 750, "vf_clip_param": 1000000.0, "custom_resources_per_worker": {}, "lr": 0.0005, "num_sgd_iter": 10, "model": {"grayscale": false, "dim": 84, "custom_model": null, "free_log_std": false, "custom_options": {}, "lstm_cell_size": 256, "framestack": true, "squash_to_range": false, "conv_filters": null, "channel_major": false, "custom_preprocessor": null, "fcnet_hiddens": [128, 64, 32], "max_seq_len": 20, "lstm_use_prev_action_reward": false, "conv_activation": "relu", "use_lstm": false, "zero_mean": true, "fcnet_activation": "tanh"}, "input": "sampler", "horizon": 1500, "vf_loss_coeff": 1.0, "compress_observations": false, "num_envs_per_worker": 1, "sample_async": false, "num_gpus": 0, "output_max_file_size": 67108864, "lambda": 0.97, "multiagent": {"policy_graphs": {}, "policies_to_train": null, "policy_mapping_fn": null}, "output": null, "num_cpus_per_worker": 1, "preprocessor_pref": "deepmind", "clip_param": 0.3, "kl_target": 0.01, "output_compress_columns": ["obs", "new_obs"], "collect_metrics_timeout": 180, "sgd_minibatch_size": 128, "train_batch_size": 30000, "callbacks": {"on_sample_end": null, "on_train_result": null, "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7f2c02d027b8>", "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7f2c02d02588>", "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7f2c02d02390>"}, "observation_filter": "MeanStdFilter", "synchronize_filters": true, "gamma": 0.99, "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "env_config": {"flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"buf_length\": 1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.1,\n            \"eta3\": 0.1,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 1.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnv\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 600,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}", "run": "PPO"}, "env": "MultiWaveAttenuationMergePOEnv-v0_[eta1, eta2, eta3]:[1.0, 0.1, 0.1]_t_min:1.0_buf_len: 1", "optimizer": {}, "num_workers": 20, "num_cpus_for_driver": 1, "lr_schedule": null, "batch_mode": "truncate_episodes"}, "time_this_iter_s": 47.601375341415405, "timesteps_since_restore": 1913914, "info": {"update_time_ms": 8.252, "num_steps_sampled": 1913914, "sample_time_ms": 31733.18, "grad_time_ms": 16797.281, "default": {"entropy": 1.3350750207901, "kl": 0.01895810104906559, "vf_loss": 21.945953369140625, "vf_explained_var": 0.8053014874458313, "policy_loss": -0.009021054022014141, "total_loss": 21.93882942199707, "cur_lr": 0.0005000000237487257, "cur_kl_coeff": 0.10000000894069672}, "num_steps_trained": 1913914, "load_time_ms": 8.415}, "time_total_s": 1423.239351272583, "num_metric_batches_dropped": 0, "timestamp": 1558307912, "episode_reward_max": 1318.4104206514069, "timesteps_this_iter": 64898, "episode_reward_min": 57.56345878308166, "date": "2019-05-19_23-18-32", "policy_reward_mean": {}, "time_since_restore": 1423.239351272583, "episodes_total": 780, "iterations_since_restore": 28, "pid": 46880, "episodes_this_iter": 27, "episode_len_mean": 686.87, "done": false, "training_iteration": 28, "custom_metrics": {"cost2_mean": -0.04991494915667286, "outflow_rate_mean": 1071.9638573854857, "cost2_min": -0.4369035806822832, "system_level_velocity_mean": 12.987916539803814, "cost1_min": 26.213842499891634, "cost1_mean": 330.79750823603376, "cost1_max": 439.6079494374262, "outflow_rate_max": 1277.1768740848763, "system_level_velocity_max": 18.843781468952617, "outflow_rate_min": 478.84201469171313, "cost2_max": 0.0, "system_level_velocity_min": 8.59561836083538}, "node_ip": "10.138.0.2", "timesteps_total": 1913914}
{"hostname": "flow-main", "episode_reward_mean": 1006.9275333538266, "experiment_id": "383e98f8614b4235818372cc4d63f9e0", "config": {"use_gae": true, "tf_session_args": {"allow_soft_placement": true, "gpu_options": {"allow_growth": true}, "inter_op_parallelism_threads": 2, "device_count": {"CPU": 1}, "intra_op_parallelism_threads": 2, "log_device_placement": false}, "entropy_coeff": 0.0, "kl_coeff": 0.2, "num_gpus_per_worker": 0, "monitor": false, "input_evaluation": null, "clip_rewards": null, "vf_share_layers": false, "straggler_mitigation": false, "log_level": "INFO", "clip_actions": false, "simple_optimizer": false, "sample_batch_size": 750, "vf_clip_param": 1000000.0, "custom_resources_per_worker": {}, "lr": 0.0005, "num_sgd_iter": 10, "model": {"grayscale": false, "dim": 84, "custom_model": null, "free_log_std": false, "custom_options": {}, "lstm_cell_size": 256, "framestack": true, "squash_to_range": false, "conv_filters": null, "channel_major": false, "custom_preprocessor": null, "fcnet_hiddens": [128, 64, 32], "max_seq_len": 20, "lstm_use_prev_action_reward": false, "conv_activation": "relu", "use_lstm": false, "zero_mean": true, "fcnet_activation": "tanh"}, "input": "sampler", "horizon": 1500, "vf_loss_coeff": 1.0, "compress_observations": false, "num_envs_per_worker": 1, "sample_async": false, "num_gpus": 0, "output_max_file_size": 67108864, "lambda": 0.97, "multiagent": {"policy_graphs": {}, "policies_to_train": null, "policy_mapping_fn": null}, "output": null, "num_cpus_per_worker": 1, "preprocessor_pref": "deepmind", "clip_param": 0.3, "kl_target": 0.01, "output_compress_columns": ["obs", "new_obs"], "collect_metrics_timeout": 180, "sgd_minibatch_size": 128, "train_batch_size": 30000, "callbacks": {"on_sample_end": null, "on_train_result": null, "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7f2c02cfe978>", "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7f2c02cfefd0>", "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7f2c02cfe438>"}, "observation_filter": "MeanStdFilter", "synchronize_filters": true, "gamma": 0.99, "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "env_config": {"flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"buf_length\": 1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.1,\n            \"eta3\": 0.1,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 1.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnv\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 600,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}", "run": "PPO"}, "env": "MultiWaveAttenuationMergePOEnv-v0_[eta1, eta2, eta3]:[1.0, 0.1, 0.1]_t_min:1.0_buf_len: 1", "optimizer": {}, "num_workers": 20, "num_cpus_for_driver": 1, "lr_schedule": null, "batch_mode": "truncate_episodes"}, "time_this_iter_s": 48.56135129928589, "timesteps_since_restore": 1978096, "info": {"update_time_ms": 8.28, "num_steps_sampled": 1978096, "sample_time_ms": 31552.95, "grad_time_ms": 16885.671, "default": {"entropy": 1.3345520496368408, "kl": 0.01914036087691784, "vf_loss": 22.556922912597656, "vf_explained_var": 0.8145689964294434, "policy_loss": -0.008254222571849823, "total_loss": 22.55058479309082, "cur_lr": 0.0005000000237487257, "cur_kl_coeff": 0.10000000894069672}, "num_steps_trained": 1978096, "load_time_ms": 8.586}, "time_total_s": 1471.800702571869, "num_metric_batches_dropped": 0, "timestamp": 1558307960, "episode_reward_max": 1318.4104206514069, "timesteps_this_iter": 64182, "episode_reward_min": 73.9125567908288, "date": "2019-05-19_23-19-20", "policy_reward_mean": {}, "time_since_restore": 1471.800702571869, "episodes_total": 807, "iterations_since_restore": 29, "pid": 46880, "episodes_this_iter": 27, "episode_len_mean": 693.47, "done": false, "training_iteration": 29, "custom_metrics": {"cost2_mean": -0.052767915260025396, "outflow_rate_mean": 1082.4710501399736, "cost2_min": -0.6666666666666666, "system_level_velocity_mean": 13.036798578821555, "cost1_min": 31.257527679530018, "cost1_mean": 336.4272750007998, "cost1_max": 439.6079494374262, "outflow_rate_max": 1277.1768740848763, "system_level_velocity_max": 18.843781468952617, "outflow_rate_min": 545.4572211564074, "cost2_max": 0.0, "system_level_velocity_min": 8.59561836083538}, "node_ip": "10.138.0.2", "timesteps_total": 1978096}
{"hostname": "flow-main", "episode_reward_mean": 1002.1273780757883, "experiment_id": "383e98f8614b4235818372cc4d63f9e0", "config": {"use_gae": true, "tf_session_args": {"allow_soft_placement": true, "gpu_options": {"allow_growth": true}, "inter_op_parallelism_threads": 2, "device_count": {"CPU": 1}, "intra_op_parallelism_threads": 2, "log_device_placement": false}, "entropy_coeff": 0.0, "kl_coeff": 0.2, "num_gpus_per_worker": 0, "monitor": false, "input_evaluation": null, "clip_rewards": null, "vf_share_layers": false, "straggler_mitigation": false, "log_level": "INFO", "clip_actions": false, "simple_optimizer": false, "sample_batch_size": 750, "vf_clip_param": 1000000.0, "custom_resources_per_worker": {}, "lr": 0.0005, "num_sgd_iter": 10, "model": {"grayscale": false, "dim": 84, "custom_model": null, "free_log_std": false, "custom_options": {}, "lstm_cell_size": 256, "framestack": true, "squash_to_range": false, "conv_filters": null, "channel_major": false, "custom_preprocessor": null, "fcnet_hiddens": [128, 64, 32], "max_seq_len": 20, "lstm_use_prev_action_reward": false, "conv_activation": "relu", "use_lstm": false, "zero_mean": true, "fcnet_activation": "tanh"}, "input": "sampler", "horizon": 1500, "vf_loss_coeff": 1.0, "compress_observations": false, "num_envs_per_worker": 1, "sample_async": false, "num_gpus": 0, "output_max_file_size": 67108864, "lambda": 0.97, "multiagent": {"policy_graphs": {}, "policies_to_train": null, "policy_mapping_fn": null}, "output": null, "num_cpus_per_worker": 1, "preprocessor_pref": "deepmind", "clip_param": 0.3, "kl_target": 0.01, "output_compress_columns": ["obs", "new_obs"], "collect_metrics_timeout": 180, "sgd_minibatch_size": 128, "train_batch_size": 30000, "callbacks": {"on_sample_end": null, "on_train_result": null, "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7f2c02cfeb00>", "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7f2c02cfe7f0>", "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7f2c02cfe1d0>"}, "observation_filter": "MeanStdFilter", "synchronize_filters": true, "gamma": 0.99, "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "env_config": {"flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"buf_length\": 1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.1,\n            \"eta3\": 0.1,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 1.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnv\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 600,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}", "run": "PPO"}, "env": "MultiWaveAttenuationMergePOEnv-v0_[eta1, eta2, eta3]:[1.0, 0.1, 0.1]_t_min:1.0_buf_len: 1", "optimizer": {}, "num_workers": 20, "num_cpus_for_driver": 1, "lr_schedule": null, "batch_mode": "truncate_episodes"}, "time_this_iter_s": 49.39814352989197, "timesteps_since_restore": 2044792, "info": {"update_time_ms": 8.28, "num_steps_sampled": 2044792, "sample_time_ms": 31629.048, "grad_time_ms": 16872.423, "default": {"entropy": 1.329609751701355, "kl": 0.019173884764313698, "vf_loss": 22.158039093017578, "vf_explained_var": 0.7894530296325684, "policy_loss": -0.009210909716784954, "total_loss": 22.150747299194336, "cur_lr": 0.0005000000237487257, "cur_kl_coeff": 0.10000000894069672}, "num_steps_trained": 2044792, "load_time_ms": 8.653}, "time_total_s": 1521.1988461017609, "num_metric_batches_dropped": 0, "timestamp": 1558308010, "episode_reward_max": 1238.3818856893142, "timesteps_this_iter": 66696, "episode_reward_min": 32.00647395886166, "date": "2019-05-19_23-20-10", "policy_reward_mean": {}, "time_since_restore": 1521.1988461017609, "episodes_total": 834, "iterations_since_restore": 30, "pid": 46880, "episodes_this_iter": 27, "episode_len_mean": 693.19, "done": false, "training_iteration": 30, "custom_metrics": {"cost2_mean": -0.05148009974195995, "outflow_rate_mean": 1083.5717403835924, "cost2_min": -0.6666666666666666, "system_level_velocity_mean": 13.049742180229599, "cost1_min": 12.360224017024573, "cost1_mean": 336.7860229313655, "cost1_max": 438.7559115763574, "outflow_rate_max": 1264.4160160300403, "system_level_velocity_max": 16.84062534608818, "outflow_rate_min": 467.7500288525429, "cost2_max": 0.0, "system_level_velocity_min": 8.761656804292723}, "node_ip": "10.138.0.2", "timesteps_total": 2044792}
{"hostname": "flow-main", "episode_reward_mean": 997.3188623843479, "experiment_id": "383e98f8614b4235818372cc4d63f9e0", "config": {"use_gae": true, "tf_session_args": {"allow_soft_placement": true, "gpu_options": {"allow_growth": true}, "inter_op_parallelism_threads": 2, "device_count": {"CPU": 1}, "intra_op_parallelism_threads": 2, "log_device_placement": false}, "entropy_coeff": 0.0, "kl_coeff": 0.2, "num_gpus_per_worker": 0, "monitor": false, "input_evaluation": null, "clip_rewards": null, "vf_share_layers": false, "straggler_mitigation": false, "log_level": "INFO", "clip_actions": false, "simple_optimizer": false, "sample_batch_size": 750, "vf_clip_param": 1000000.0, "custom_resources_per_worker": {}, "lr": 0.0005, "num_sgd_iter": 10, "model": {"grayscale": false, "dim": 84, "custom_model": null, "free_log_std": false, "custom_options": {}, "lstm_cell_size": 256, "framestack": true, "squash_to_range": false, "conv_filters": null, "channel_major": false, "custom_preprocessor": null, "fcnet_hiddens": [128, 64, 32], "max_seq_len": 20, "lstm_use_prev_action_reward": false, "conv_activation": "relu", "use_lstm": false, "zero_mean": true, "fcnet_activation": "tanh"}, "input": "sampler", "horizon": 1500, "vf_loss_coeff": 1.0, "compress_observations": false, "num_envs_per_worker": 1, "sample_async": false, "num_gpus": 0, "output_max_file_size": 67108864, "lambda": 0.97, "multiagent": {"policy_graphs": {}, "policies_to_train": null, "policy_mapping_fn": null}, "output": null, "num_cpus_per_worker": 1, "preprocessor_pref": "deepmind", "clip_param": 0.3, "kl_target": 0.01, "output_compress_columns": ["obs", "new_obs"], "collect_metrics_timeout": 180, "sgd_minibatch_size": 128, "train_batch_size": 30000, "callbacks": {"on_sample_end": null, "on_train_result": null, "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7f2c02cfe390>", "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7f2c02cfe978>", "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7f2c02cfe9b0>"}, "observation_filter": "MeanStdFilter", "synchronize_filters": true, "gamma": 0.99, "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "env_config": {"flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"buf_length\": 1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.1,\n            \"eta3\": 0.1,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 1.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnv\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 600,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}", "run": "PPO"}, "env": "MultiWaveAttenuationMergePOEnv-v0_[eta1, eta2, eta3]:[1.0, 0.1, 0.1]_t_min:1.0_buf_len: 1", "optimizer": {}, "num_workers": 20, "num_cpus_for_driver": 1, "lr_schedule": null, "batch_mode": "truncate_episodes"}, "time_this_iter_s": 49.269843339920044, "timesteps_since_restore": 2110595, "info": {"update_time_ms": 8.261, "num_steps_sampled": 2110595, "sample_time_ms": 31537.673, "grad_time_ms": 17020.937, "default": {"entropy": 1.3243482112884521, "kl": 0.0217019971460104, "vf_loss": 25.8051815032959, "vf_explained_var": 0.8126152753829956, "policy_loss": -0.010084699839353561, "total_loss": 25.797266006469727, "cur_lr": 0.0005000000237487257, "cur_kl_coeff": 0.10000001639127731}, "num_steps_trained": 2110595, "load_time_ms": 8.604}, "time_total_s": 1570.468689441681, "num_metric_batches_dropped": 0, "timestamp": 1558308059, "episode_reward_max": 1242.3165799338753, "timesteps_this_iter": 65803, "episode_reward_min": 32.00647395886166, "date": "2019-05-19_23-20-59", "policy_reward_mean": {}, "time_since_restore": 1570.468689441681, "episodes_total": 864, "iterations_since_restore": 31, "pid": 46880, "episodes_this_iter": 30, "episode_len_mean": 686.58, "done": false, "training_iteration": 31, "custom_metrics": {"cost2_mean": -0.062297689775875756, "outflow_rate_mean": 1083.0896828833177, "cost2_min": -0.6666666666666666, "system_level_velocity_mean": 13.148451814873503, "cost1_min": 12.360224017024573, "cost1_mean": 334.4237148674433, "cost1_max": 445.29199383772783, "outflow_rate_max": 1283.8606445679845, "system_level_velocity_max": 18.439483633716005, "outflow_rate_min": 467.7500288525429, "cost2_max": 0.0, "system_level_velocity_min": 8.761656804292723}, "node_ip": "10.138.0.2", "timesteps_total": 2110595}
{"hostname": "flow-main", "episode_reward_mean": 1002.1937386993802, "experiment_id": "383e98f8614b4235818372cc4d63f9e0", "config": {"use_gae": true, "tf_session_args": {"allow_soft_placement": true, "gpu_options": {"allow_growth": true}, "inter_op_parallelism_threads": 2, "device_count": {"CPU": 1}, "intra_op_parallelism_threads": 2, "log_device_placement": false}, "entropy_coeff": 0.0, "kl_coeff": 0.2, "num_gpus_per_worker": 0, "monitor": false, "input_evaluation": null, "clip_rewards": null, "vf_share_layers": false, "straggler_mitigation": false, "log_level": "INFO", "clip_actions": false, "simple_optimizer": false, "sample_batch_size": 750, "vf_clip_param": 1000000.0, "custom_resources_per_worker": {}, "lr": 0.0005, "num_sgd_iter": 10, "model": {"grayscale": false, "dim": 84, "custom_model": null, "free_log_std": false, "custom_options": {}, "lstm_cell_size": 256, "framestack": true, "squash_to_range": false, "conv_filters": null, "channel_major": false, "custom_preprocessor": null, "fcnet_hiddens": [128, 64, 32], "max_seq_len": 20, "lstm_use_prev_action_reward": false, "conv_activation": "relu", "use_lstm": false, "zero_mean": true, "fcnet_activation": "tanh"}, "input": "sampler", "horizon": 1500, "vf_loss_coeff": 1.0, "compress_observations": false, "num_envs_per_worker": 1, "sample_async": false, "num_gpus": 0, "output_max_file_size": 67108864, "lambda": 0.97, "multiagent": {"policy_graphs": {}, "policies_to_train": null, "policy_mapping_fn": null}, "output": null, "num_cpus_per_worker": 1, "preprocessor_pref": "deepmind", "clip_param": 0.3, "kl_target": 0.01, "output_compress_columns": ["obs", "new_obs"], "collect_metrics_timeout": 180, "sgd_minibatch_size": 128, "train_batch_size": 30000, "callbacks": {"on_sample_end": null, "on_train_result": null, "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7f2c02d02c50>", "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7f2c02d022e8>", "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7f2c02d02978>"}, "observation_filter": "MeanStdFilter", "synchronize_filters": true, "gamma": 0.99, "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "env_config": {"flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"buf_length\": 1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.1,\n            \"eta3\": 0.1,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 1.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnv\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 600,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}", "run": "PPO"}, "env": "MultiWaveAttenuationMergePOEnv-v0_[eta1, eta2, eta3]:[1.0, 0.1, 0.1]_t_min:1.0_buf_len: 1", "optimizer": {}, "num_workers": 20, "num_cpus_for_driver": 1, "lr_schedule": null, "batch_mode": "truncate_episodes"}, "time_this_iter_s": 49.5345344543457, "timesteps_since_restore": 2176780, "info": {"update_time_ms": 8.475, "num_steps_sampled": 2176780, "sample_time_ms": 31569.616, "grad_time_ms": 17213.97, "default": {"entropy": 1.3233840465545654, "kl": 0.017035819590091705, "vf_loss": 26.36646842956543, "vf_explained_var": 0.8241363167762756, "policy_loss": -0.009040169417858124, "total_loss": 26.359983444213867, "cur_lr": 0.0005000000237487257, "cur_kl_coeff": 0.15000000596046448}, "num_steps_trained": 2176780, "load_time_ms": 8.808}, "time_total_s": 1620.0032238960266, "num_metric_batches_dropped": 0, "timestamp": 1558308109, "episode_reward_max": 1279.5557615273883, "timesteps_this_iter": 66185, "episode_reward_min": 32.00647395886166, "date": "2019-05-19_23-21-49", "policy_reward_mean": {}, "time_since_restore": 1620.0032238960266, "episodes_total": 895, "iterations_since_restore": 32, "pid": 46880, "episodes_this_iter": 31, "episode_len_mean": 686.58, "done": false, "training_iteration": 32, "custom_metrics": {"cost2_mean": -0.07401893217856487, "outflow_rate_mean": 1095.376008839132, "cost2_min": -0.6666666666666666, "system_level_velocity_mean": 13.319245710850502, "cost1_min": 12.360224017024573, "cost1_mean": 339.28793286425747, "cost1_max": 457.8440024013881, "outflow_rate_max": 1299.4641675250343, "system_level_velocity_max": 18.439483633716005, "outflow_rate_min": 467.7500288525429, "cost2_max": 0.0, "system_level_velocity_min": 8.761656804292723}, "node_ip": "10.138.0.2", "timesteps_total": 2176780}
{"hostname": "flow-main", "episode_reward_mean": 1004.0587430027576, "experiment_id": "383e98f8614b4235818372cc4d63f9e0", "config": {"use_gae": true, "tf_session_args": {"allow_soft_placement": true, "gpu_options": {"allow_growth": true}, "inter_op_parallelism_threads": 2, "device_count": {"CPU": 1}, "intra_op_parallelism_threads": 2, "log_device_placement": false}, "entropy_coeff": 0.0, "kl_coeff": 0.2, "num_gpus_per_worker": 0, "monitor": false, "input_evaluation": null, "clip_rewards": null, "vf_share_layers": false, "straggler_mitigation": false, "log_level": "INFO", "clip_actions": false, "simple_optimizer": false, "sample_batch_size": 750, "vf_clip_param": 1000000.0, "custom_resources_per_worker": {}, "lr": 0.0005, "num_sgd_iter": 10, "model": {"grayscale": false, "dim": 84, "custom_model": null, "free_log_std": false, "custom_options": {}, "lstm_cell_size": 256, "framestack": true, "squash_to_range": false, "conv_filters": null, "channel_major": false, "custom_preprocessor": null, "fcnet_hiddens": [128, 64, 32], "max_seq_len": 20, "lstm_use_prev_action_reward": false, "conv_activation": "relu", "use_lstm": false, "zero_mean": true, "fcnet_activation": "tanh"}, "input": "sampler", "horizon": 1500, "vf_loss_coeff": 1.0, "compress_observations": false, "num_envs_per_worker": 1, "sample_async": false, "num_gpus": 0, "output_max_file_size": 67108864, "lambda": 0.97, "multiagent": {"policy_graphs": {}, "policies_to_train": null, "policy_mapping_fn": null}, "output": null, "num_cpus_per_worker": 1, "preprocessor_pref": "deepmind", "clip_param": 0.3, "kl_target": 0.01, "output_compress_columns": ["obs", "new_obs"], "collect_metrics_timeout": 180, "sgd_minibatch_size": 128, "train_batch_size": 30000, "callbacks": {"on_sample_end": null, "on_train_result": null, "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7f2c02cfe2b0>", "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7f2c02cfe978>", "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7f2c02d02320>"}, "observation_filter": "MeanStdFilter", "synchronize_filters": true, "gamma": 0.99, "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "env_config": {"flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"buf_length\": 1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.1,\n            \"eta3\": 0.1,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 1.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnv\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 600,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}", "run": "PPO"}, "env": "MultiWaveAttenuationMergePOEnv-v0_[eta1, eta2, eta3]:[1.0, 0.1, 0.1]_t_min:1.0_buf_len: 1", "optimizer": {}, "num_workers": 20, "num_cpus_for_driver": 1, "lr_schedule": null, "batch_mode": "truncate_episodes"}, "time_this_iter_s": 50.79135203361511, "timesteps_since_restore": 2243917, "info": {"update_time_ms": 8.82, "num_steps_sampled": 2243917, "sample_time_ms": 31564.364, "grad_time_ms": 17240.012, "default": {"entropy": 1.339321255683899, "kl": 0.016411084681749344, "vf_loss": 25.764909744262695, "vf_explained_var": 0.828912079334259, "policy_loss": -0.008792883716523647, "total_loss": 25.758577346801758, "cur_lr": 0.0005000000237487257, "cur_kl_coeff": 0.14999999105930328}, "num_steps_trained": 2243917, "load_time_ms": 8.818}, "time_total_s": 1670.7945759296417, "num_metric_batches_dropped": 0, "timestamp": 1558308160, "episode_reward_max": 1279.5557615273883, "timesteps_this_iter": 67137, "episode_reward_min": 32.00647395886166, "date": "2019-05-19_23-22-40", "policy_reward_mean": {}, "time_since_restore": 1670.7945759296417, "episodes_total": 924, "iterations_since_restore": 33, "pid": 46880, "episodes_this_iter": 29, "episode_len_mean": 686.58, "done": false, "training_iteration": 33, "custom_metrics": {"cost2_mean": -0.08193543916057307, "outflow_rate_mean": 1101.1245425854647, "cost2_min": -0.9113376758055667, "system_level_velocity_mean": 13.413079724052443, "cost1_min": 12.360224017024573, "cost1_mean": 341.60934502617704, "cost1_max": 468.97287921900613, "outflow_rate_max": 1299.4641675250343, "system_level_velocity_max": 18.439483633716005, "outflow_rate_min": 467.7500288525429, "cost2_max": 0.0, "system_level_velocity_min": 9.116383128740237}, "node_ip": "10.138.0.2", "timesteps_total": 2243917}
{"hostname": "flow-main", "episode_reward_mean": 1027.35464846973, "experiment_id": "383e98f8614b4235818372cc4d63f9e0", "config": {"use_gae": true, "tf_session_args": {"allow_soft_placement": true, "gpu_options": {"allow_growth": true}, "inter_op_parallelism_threads": 2, "device_count": {"CPU": 1}, "intra_op_parallelism_threads": 2, "log_device_placement": false}, "entropy_coeff": 0.0, "kl_coeff": 0.2, "num_gpus_per_worker": 0, "monitor": false, "input_evaluation": null, "clip_rewards": null, "vf_share_layers": false, "straggler_mitigation": false, "log_level": "INFO", "clip_actions": false, "simple_optimizer": false, "sample_batch_size": 750, "vf_clip_param": 1000000.0, "custom_resources_per_worker": {}, "lr": 0.0005, "num_sgd_iter": 10, "model": {"grayscale": false, "dim": 84, "custom_model": null, "free_log_std": false, "custom_options": {}, "lstm_cell_size": 256, "framestack": true, "squash_to_range": false, "conv_filters": null, "channel_major": false, "custom_preprocessor": null, "fcnet_hiddens": [128, 64, 32], "max_seq_len": 20, "lstm_use_prev_action_reward": false, "conv_activation": "relu", "use_lstm": false, "zero_mean": true, "fcnet_activation": "tanh"}, "input": "sampler", "horizon": 1500, "vf_loss_coeff": 1.0, "compress_observations": false, "num_envs_per_worker": 1, "sample_async": false, "num_gpus": 0, "output_max_file_size": 67108864, "lambda": 0.97, "multiagent": {"policy_graphs": {}, "policies_to_train": null, "policy_mapping_fn": null}, "output": null, "num_cpus_per_worker": 1, "preprocessor_pref": "deepmind", "clip_param": 0.3, "kl_target": 0.01, "output_compress_columns": ["obs", "new_obs"], "collect_metrics_timeout": 180, "sgd_minibatch_size": 128, "train_batch_size": 30000, "callbacks": {"on_sample_end": null, "on_train_result": null, "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7f2c02cfe630>", "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7f2c02cfecc0>", "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7f2c02cfe7b8>"}, "observation_filter": "MeanStdFilter", "synchronize_filters": true, "gamma": 0.99, "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "env_config": {"flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"buf_length\": 1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.1,\n            \"eta3\": 0.1,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 1.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnv\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 600,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}", "run": "PPO"}, "env": "MultiWaveAttenuationMergePOEnv-v0_[eta1, eta2, eta3]:[1.0, 0.1, 0.1]_t_min:1.0_buf_len: 1", "optimizer": {}, "num_workers": 20, "num_cpus_for_driver": 1, "lr_schedule": null, "batch_mode": "truncate_episodes"}, "time_this_iter_s": 50.02935433387756, "timesteps_since_restore": 2310420, "info": {"update_time_ms": 8.663, "num_steps_sampled": 2310420, "sample_time_ms": 31649.52, "grad_time_ms": 17291.572, "default": {"entropy": 1.3416237831115723, "kl": 0.0174514539539814, "vf_loss": 26.776641845703125, "vf_explained_var": 0.8130687475204468, "policy_loss": -0.008820072747766972, "total_loss": 26.77043914794922, "cur_lr": 0.0005000000237487257, "cur_kl_coeff": 0.14999999105930328}, "num_steps_trained": 2310420, "load_time_ms": 8.923}, "time_total_s": 1720.8239302635193, "num_metric_batches_dropped": 0, "timestamp": 1558308210, "episode_reward_max": 1279.5557615273883, "timesteps_this_iter": 66503, "episode_reward_min": 840.6360816938065, "date": "2019-05-19_23-23-30", "policy_reward_mean": {}, "time_since_restore": 1720.8239302635193, "episodes_total": 956, "iterations_since_restore": 34, "pid": 46880, "episodes_this_iter": 32, "episode_len_mean": 700.0, "done": false, "training_iteration": 34, "custom_metrics": {"cost2_mean": -0.08098083444507012, "outflow_rate_mean": 1119.9459691367354, "cost2_min": -0.9113376758055667, "system_level_velocity_mean": 13.385566971384197, "cost1_min": 234.98766123440885, "cost1_mean": 350.33904134890855, "cost1_max": 468.97287921900613, "outflow_rate_max": 1299.4641675250343, "system_level_velocity_max": 17.79232592327206, "outflow_rate_min": 915.4355594431026, "cost2_max": 0.0, "system_level_velocity_min": 9.116383128740237}, "node_ip": "10.138.0.2", "timesteps_total": 2310420}
{"hostname": "flow-main", "episode_reward_mean": 1011.6152324901012, "experiment_id": "383e98f8614b4235818372cc4d63f9e0", "config": {"use_gae": true, "tf_session_args": {"allow_soft_placement": true, "gpu_options": {"allow_growth": true}, "inter_op_parallelism_threads": 2, "device_count": {"CPU": 1}, "intra_op_parallelism_threads": 2, "log_device_placement": false}, "entropy_coeff": 0.0, "kl_coeff": 0.2, "num_gpus_per_worker": 0, "monitor": false, "input_evaluation": null, "clip_rewards": null, "vf_share_layers": false, "straggler_mitigation": false, "log_level": "INFO", "clip_actions": false, "simple_optimizer": false, "sample_batch_size": 750, "vf_clip_param": 1000000.0, "custom_resources_per_worker": {}, "lr": 0.0005, "num_sgd_iter": 10, "model": {"grayscale": false, "dim": 84, "custom_model": null, "free_log_std": false, "custom_options": {}, "lstm_cell_size": 256, "framestack": true, "squash_to_range": false, "conv_filters": null, "channel_major": false, "custom_preprocessor": null, "fcnet_hiddens": [128, 64, 32], "max_seq_len": 20, "lstm_use_prev_action_reward": false, "conv_activation": "relu", "use_lstm": false, "zero_mean": true, "fcnet_activation": "tanh"}, "input": "sampler", "horizon": 1500, "vf_loss_coeff": 1.0, "compress_observations": false, "num_envs_per_worker": 1, "sample_async": false, "num_gpus": 0, "output_max_file_size": 67108864, "lambda": 0.97, "multiagent": {"policy_graphs": {}, "policies_to_train": null, "policy_mapping_fn": null}, "output": null, "num_cpus_per_worker": 1, "preprocessor_pref": "deepmind", "clip_param": 0.3, "kl_target": 0.01, "output_compress_columns": ["obs", "new_obs"], "collect_metrics_timeout": 180, "sgd_minibatch_size": 128, "train_batch_size": 30000, "callbacks": {"on_sample_end": null, "on_train_result": null, "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7f2c02cf5208>", "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7f2c02cf5f98>", "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7f2c02cf5eb8>"}, "observation_filter": "MeanStdFilter", "synchronize_filters": true, "gamma": 0.99, "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "env_config": {"flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"buf_length\": 1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.1,\n            \"eta3\": 0.1,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 1.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnv\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 600,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}", "run": "PPO"}, "env": "MultiWaveAttenuationMergePOEnv-v0_[eta1, eta2, eta3]:[1.0, 0.1, 0.1]_t_min:1.0_buf_len: 1", "optimizer": {}, "num_workers": 20, "num_cpus_for_driver": 1, "lr_schedule": null, "batch_mode": "truncate_episodes"}, "time_this_iter_s": 48.265631675720215, "timesteps_since_restore": 2374783, "info": {"update_time_ms": 8.783, "num_steps_sampled": 2374783, "sample_time_ms": 31658.444, "grad_time_ms": 17448.268, "default": {"entropy": 1.3512498140335083, "kl": 0.017068544402718544, "vf_loss": 23.547903060913086, "vf_explained_var": 0.8444784879684448, "policy_loss": -0.009065298363566399, "total_loss": 23.541397094726562, "cur_lr": 0.0005000000237487257, "cur_kl_coeff": 0.15000000596046448}, "num_steps_trained": 2374783, "load_time_ms": 8.875}, "time_total_s": 1769.0895619392395, "num_metric_batches_dropped": 0, "timestamp": 1558308258, "episode_reward_max": 1279.5557615273883, "timesteps_this_iter": 64363, "episode_reward_min": 806.5552637253151, "date": "2019-05-19_23-24-18", "policy_reward_mean": {}, "time_since_restore": 1769.0895619392395, "episodes_total": 984, "iterations_since_restore": 35, "pid": 46880, "episodes_this_iter": 28, "episode_len_mean": 700.0, "done": false, "training_iteration": 35, "custom_metrics": {"cost2_mean": -0.08128298345394608, "outflow_rate_mean": 1102.6632521023223, "cost2_min": -0.9113376758055667, "system_level_velocity_mean": 13.089440372680594, "cost1_min": 219.57983738617932, "cost1_mean": 342.0690529379068, "cost1_max": 468.97287921900613, "outflow_rate_max": 1299.4641675250343, "system_level_velocity_max": 17.79232592327206, "outflow_rate_min": 881.7054160826898, "cost2_max": 0.0, "system_level_velocity_min": 8.5996371777984}, "node_ip": "10.138.0.2", "timesteps_total": 2374783}
{"hostname": "flow-main", "episode_reward_mean": 1019.8043535907465, "experiment_id": "383e98f8614b4235818372cc4d63f9e0", "config": {"use_gae": true, "tf_session_args": {"allow_soft_placement": true, "gpu_options": {"allow_growth": true}, "inter_op_parallelism_threads": 2, "device_count": {"CPU": 1}, "intra_op_parallelism_threads": 2, "log_device_placement": false}, "entropy_coeff": 0.0, "kl_coeff": 0.2, "num_gpus_per_worker": 0, "monitor": false, "input_evaluation": null, "clip_rewards": null, "vf_share_layers": false, "straggler_mitigation": false, "log_level": "INFO", "clip_actions": false, "simple_optimizer": false, "sample_batch_size": 750, "vf_clip_param": 1000000.0, "custom_resources_per_worker": {}, "lr": 0.0005, "num_sgd_iter": 10, "model": {"grayscale": false, "dim": 84, "custom_model": null, "free_log_std": false, "custom_options": {}, "lstm_cell_size": 256, "framestack": true, "squash_to_range": false, "conv_filters": null, "channel_major": false, "custom_preprocessor": null, "fcnet_hiddens": [128, 64, 32], "max_seq_len": 20, "lstm_use_prev_action_reward": false, "conv_activation": "relu", "use_lstm": false, "zero_mean": true, "fcnet_activation": "tanh"}, "input": "sampler", "horizon": 1500, "vf_loss_coeff": 1.0, "compress_observations": false, "num_envs_per_worker": 1, "sample_async": false, "num_gpus": 0, "output_max_file_size": 67108864, "lambda": 0.97, "multiagent": {"policy_graphs": {}, "policies_to_train": null, "policy_mapping_fn": null}, "output": null, "num_cpus_per_worker": 1, "preprocessor_pref": "deepmind", "clip_param": 0.3, "kl_target": 0.01, "output_compress_columns": ["obs", "new_obs"], "collect_metrics_timeout": 180, "sgd_minibatch_size": 128, "train_batch_size": 30000, "callbacks": {"on_sample_end": null, "on_train_result": null, "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7f2c02d02c50>", "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7f2c02d02b70>", "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7f2c02d022e8>"}, "observation_filter": "MeanStdFilter", "synchronize_filters": true, "gamma": 0.99, "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "env_config": {"flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"buf_length\": 1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.1,\n            \"eta3\": 0.1,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 1.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnv\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 600,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}", "run": "PPO"}, "env": "MultiWaveAttenuationMergePOEnv-v0_[eta1, eta2, eta3]:[1.0, 0.1, 0.1]_t_min:1.0_buf_len: 1", "optimizer": {}, "num_workers": 20, "num_cpus_for_driver": 1, "lr_schedule": null, "batch_mode": "truncate_episodes"}, "time_this_iter_s": 50.11712408065796, "timesteps_since_restore": 2441397, "info": {"update_time_ms": 8.932, "num_steps_sampled": 2441397, "sample_time_ms": 31708.418, "grad_time_ms": 17391.996, "default": {"entropy": 1.3557777404785156, "kl": 0.0172591470181942, "vf_loss": 24.722137451171875, "vf_explained_var": 0.826164960861206, "policy_loss": -0.009564869105815887, "total_loss": 24.715160369873047, "cur_lr": 0.0005000000237487257, "cur_kl_coeff": 0.15000000596046448}, "num_steps_trained": 2441397, "load_time_ms": 9.017}, "time_total_s": 1819.2066860198975, "num_metric_batches_dropped": 0, "timestamp": 1558308308, "episode_reward_max": 1348.6950215262877, "timesteps_this_iter": 66614, "episode_reward_min": 806.5552637253151, "date": "2019-05-19_23-25-08", "policy_reward_mean": {}, "time_since_restore": 1819.2066860198975, "episodes_total": 1010, "iterations_since_restore": 36, "pid": 46880, "episodes_this_iter": 26, "episode_len_mean": 700.0, "done": false, "training_iteration": 36, "custom_metrics": {"cost2_mean": -0.07994933875903981, "outflow_rate_mean": 1106.8424663974731, "cost2_min": -0.9113376758055667, "system_level_velocity_mean": 13.100368754543036, "cost1_min": 219.57983738617932, "cost1_mean": 342.6730760674273, "cost1_max": 462.10398679098967, "outflow_rate_max": 1324.0210078713872, "system_level_velocity_max": 17.538460262601426, "outflow_rate_min": 881.7054160826898, "cost2_max": 0.0, "system_level_velocity_min": 8.5996371777984}, "node_ip": "10.138.0.2", "timesteps_total": 2441397}
{"hostname": "flow-main", "episode_reward_mean": 1011.1358749554803, "experiment_id": "383e98f8614b4235818372cc4d63f9e0", "config": {"use_gae": true, "tf_session_args": {"allow_soft_placement": true, "gpu_options": {"allow_growth": true}, "inter_op_parallelism_threads": 2, "device_count": {"CPU": 1}, "intra_op_parallelism_threads": 2, "log_device_placement": false}, "entropy_coeff": 0.0, "kl_coeff": 0.2, "num_gpus_per_worker": 0, "monitor": false, "input_evaluation": null, "clip_rewards": null, "vf_share_layers": false, "straggler_mitigation": false, "log_level": "INFO", "clip_actions": false, "simple_optimizer": false, "sample_batch_size": 750, "vf_clip_param": 1000000.0, "custom_resources_per_worker": {}, "lr": 0.0005, "num_sgd_iter": 10, "model": {"grayscale": false, "dim": 84, "custom_model": null, "free_log_std": false, "custom_options": {}, "lstm_cell_size": 256, "framestack": true, "squash_to_range": false, "conv_filters": null, "channel_major": false, "custom_preprocessor": null, "fcnet_hiddens": [128, 64, 32], "max_seq_len": 20, "lstm_use_prev_action_reward": false, "conv_activation": "relu", "use_lstm": false, "zero_mean": true, "fcnet_activation": "tanh"}, "input": "sampler", "horizon": 1500, "vf_loss_coeff": 1.0, "compress_observations": false, "num_envs_per_worker": 1, "sample_async": false, "num_gpus": 0, "output_max_file_size": 67108864, "lambda": 0.97, "multiagent": {"policy_graphs": {}, "policies_to_train": null, "policy_mapping_fn": null}, "output": null, "num_cpus_per_worker": 1, "preprocessor_pref": "deepmind", "clip_param": 0.3, "kl_target": 0.01, "output_compress_columns": ["obs", "new_obs"], "collect_metrics_timeout": 180, "sgd_minibatch_size": 128, "train_batch_size": 30000, "callbacks": {"on_sample_end": null, "on_train_result": null, "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7f2c02ce8780>", "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7f2c02cec748>", "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7f2c02cfe588>"}, "observation_filter": "MeanStdFilter", "synchronize_filters": true, "gamma": 0.99, "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "env_config": {"flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"buf_length\": 1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.1,\n            \"eta3\": 0.1,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 1.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnv\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 600,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}", "run": "PPO"}, "env": "MultiWaveAttenuationMergePOEnv-v0_[eta1, eta2, eta3]:[1.0, 0.1, 0.1]_t_min:1.0_buf_len: 1", "optimizer": {}, "num_workers": 20, "num_cpus_for_driver": 1, "lr_schedule": null, "batch_mode": "truncate_episodes"}, "time_this_iter_s": 50.340487480163574, "timesteps_since_restore": 2509022, "info": {"update_time_ms": 8.678, "num_steps_sampled": 2509022, "sample_time_ms": 31710.611, "grad_time_ms": 17542.219, "default": {"entropy": 1.3722760677337646, "kl": 0.01540049072355032, "vf_loss": 23.279706954956055, "vf_explained_var": 0.8187283873558044, "policy_loss": -0.007547261193394661, "total_loss": 23.27446937561035, "cur_lr": 0.0005000000237487257, "cur_kl_coeff": 0.14999999105930328}, "num_steps_trained": 2509022, "load_time_ms": 8.843}, "time_total_s": 1869.547173500061, "num_metric_batches_dropped": 0, "timestamp": 1558308359, "episode_reward_max": 1348.6950215262877, "timesteps_this_iter": 67625, "episode_reward_min": 806.5552637253151, "date": "2019-05-19_23-25-59", "policy_reward_mean": {}, "time_since_restore": 1869.547173500061, "episodes_total": 1036, "iterations_since_restore": 37, "pid": 46880, "episodes_this_iter": 26, "episode_len_mean": 700.0, "done": false, "training_iteration": 37, "custom_metrics": {"cost2_mean": -0.059198062931999786, "outflow_rate_mean": 1092.645853852238, "cost2_min": -0.6442405872647212, "system_level_velocity_mean": 12.800642661259426, "cost1_min": 219.57983738617932, "cost1_mean": 334.39311535434734, "cost1_max": 462.10398679098967, "outflow_rate_max": 1324.0210078713872, "system_level_velocity_max": 17.538460262601426, "outflow_rate_min": 881.7054160826898, "cost2_max": 0.0, "system_level_velocity_min": 8.5996371777984}, "node_ip": "10.138.0.2", "timesteps_total": 2509022}
{"hostname": "flow-main", "episode_reward_mean": 1016.324925044265, "experiment_id": "383e98f8614b4235818372cc4d63f9e0", "config": {"use_gae": true, "tf_session_args": {"allow_soft_placement": true, "gpu_options": {"allow_growth": true}, "inter_op_parallelism_threads": 2, "device_count": {"CPU": 1}, "intra_op_parallelism_threads": 2, "log_device_placement": false}, "entropy_coeff": 0.0, "kl_coeff": 0.2, "num_gpus_per_worker": 0, "monitor": false, "input_evaluation": null, "clip_rewards": null, "vf_share_layers": false, "straggler_mitigation": false, "log_level": "INFO", "clip_actions": false, "simple_optimizer": false, "sample_batch_size": 750, "vf_clip_param": 1000000.0, "custom_resources_per_worker": {}, "lr": 0.0005, "num_sgd_iter": 10, "model": {"grayscale": false, "dim": 84, "custom_model": null, "free_log_std": false, "custom_options": {}, "lstm_cell_size": 256, "framestack": true, "squash_to_range": false, "conv_filters": null, "channel_major": false, "custom_preprocessor": null, "fcnet_hiddens": [128, 64, 32], "max_seq_len": 20, "lstm_use_prev_action_reward": false, "conv_activation": "relu", "use_lstm": false, "zero_mean": true, "fcnet_activation": "tanh"}, "input": "sampler", "horizon": 1500, "vf_loss_coeff": 1.0, "compress_observations": false, "num_envs_per_worker": 1, "sample_async": false, "num_gpus": 0, "output_max_file_size": 67108864, "lambda": 0.97, "multiagent": {"policy_graphs": {}, "policies_to_train": null, "policy_mapping_fn": null}, "output": null, "num_cpus_per_worker": 1, "preprocessor_pref": "deepmind", "clip_param": 0.3, "kl_target": 0.01, "output_compress_columns": ["obs", "new_obs"], "collect_metrics_timeout": 180, "sgd_minibatch_size": 128, "train_batch_size": 30000, "callbacks": {"on_sample_end": null, "on_train_result": null, "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7f2c02d02978>", "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7f2c02d02358>", "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7f2c02d022e8>"}, "observation_filter": "MeanStdFilter", "synchronize_filters": true, "gamma": 0.99, "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "env_config": {"flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"buf_length\": 1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.1,\n            \"eta3\": 0.1,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 1.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnv\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 600,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}", "run": "PPO"}, "env": "MultiWaveAttenuationMergePOEnv-v0_[eta1, eta2, eta3]:[1.0, 0.1, 0.1]_t_min:1.0_buf_len: 1", "optimizer": {}, "num_workers": 20, "num_cpus_for_driver": 1, "lr_schedule": null, "batch_mode": "truncate_episodes"}, "time_this_iter_s": 49.084559202194214, "timesteps_since_restore": 2575978, "info": {"update_time_ms": 8.552, "num_steps_sampled": 2575978, "sample_time_ms": 31870.876, "grad_time_ms": 17530.628, "default": {"entropy": 1.3697726726531982, "kl": 0.016523554921150208, "vf_loss": 24.29591941833496, "vf_explained_var": 0.8184447884559631, "policy_loss": -0.008608692325651646, "total_loss": 24.28978729248047, "cur_lr": 0.0005000000237487257, "cur_kl_coeff": 0.14999999105930328}, "num_steps_trained": 2575978, "load_time_ms": 8.826}, "time_total_s": 1918.6317327022552, "num_metric_batches_dropped": 0, "timestamp": 1558308408, "episode_reward_max": 1348.6950215262877, "timesteps_this_iter": 66956, "episode_reward_min": 841.1896720438915, "date": "2019-05-19_23-26-48", "policy_reward_mean": {}, "time_since_restore": 1918.6317327022552, "episodes_total": 1063, "iterations_since_restore": 38, "pid": 46880, "episodes_this_iter": 27, "episode_len_mean": 700.0, "done": false, "training_iteration": 38, "custom_metrics": {"cost2_mean": -0.06324364943101916, "outflow_rate_mean": 1091.942774316286, "cost2_min": -0.4282711485391616, "system_level_velocity_mean": 12.804811582831316, "cost1_min": 255.77739087779278, "cost1_mean": 334.4676012657964, "cost1_max": 462.10398679098967, "outflow_rate_max": 1324.0210078713872, "system_level_velocity_max": 17.538460262601426, "outflow_rate_min": 941.7489909942528, "cost2_max": 0.0, "system_level_velocity_min": 9.763653882160467}, "node_ip": "10.138.0.2", "timesteps_total": 2575978}
{"hostname": "flow-main", "episode_reward_mean": 1002.9120599176075, "experiment_id": "383e98f8614b4235818372cc4d63f9e0", "config": {"use_gae": true, "tf_session_args": {"allow_soft_placement": true, "gpu_options": {"allow_growth": true}, "inter_op_parallelism_threads": 2, "device_count": {"CPU": 1}, "intra_op_parallelism_threads": 2, "log_device_placement": false}, "entropy_coeff": 0.0, "kl_coeff": 0.2, "num_gpus_per_worker": 0, "monitor": false, "input_evaluation": null, "clip_rewards": null, "vf_share_layers": false, "straggler_mitigation": false, "log_level": "INFO", "clip_actions": false, "simple_optimizer": false, "sample_batch_size": 750, "vf_clip_param": 1000000.0, "custom_resources_per_worker": {}, "lr": 0.0005, "num_sgd_iter": 10, "model": {"grayscale": false, "dim": 84, "custom_model": null, "free_log_std": false, "custom_options": {}, "lstm_cell_size": 256, "framestack": true, "squash_to_range": false, "conv_filters": null, "channel_major": false, "custom_preprocessor": null, "fcnet_hiddens": [128, 64, 32], "max_seq_len": 20, "lstm_use_prev_action_reward": false, "conv_activation": "relu", "use_lstm": false, "zero_mean": true, "fcnet_activation": "tanh"}, "input": "sampler", "horizon": 1500, "vf_loss_coeff": 1.0, "compress_observations": false, "num_envs_per_worker": 1, "sample_async": false, "num_gpus": 0, "output_max_file_size": 67108864, "lambda": 0.97, "multiagent": {"policy_graphs": {}, "policies_to_train": null, "policy_mapping_fn": null}, "output": null, "num_cpus_per_worker": 1, "preprocessor_pref": "deepmind", "clip_param": 0.3, "kl_target": 0.01, "output_compress_columns": ["obs", "new_obs"], "collect_metrics_timeout": 180, "sgd_minibatch_size": 128, "train_batch_size": 30000, "callbacks": {"on_sample_end": null, "on_train_result": null, "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7f2c0288e240>", "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7f2c0288e080>", "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7f2c0288edd8>"}, "observation_filter": "MeanStdFilter", "synchronize_filters": true, "gamma": 0.99, "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "env_config": {"flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"buf_length\": 1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.1,\n            \"eta3\": 0.1,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 1.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnv\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 600,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}", "run": "PPO"}, "env": "MultiWaveAttenuationMergePOEnv-v0_[eta1, eta2, eta3]:[1.0, 0.1, 0.1]_t_min:1.0_buf_len: 1", "optimizer": {}, "num_workers": 20, "num_cpus_for_driver": 1, "lr_schedule": null, "batch_mode": "truncate_episodes"}, "time_this_iter_s": 50.86567544937134, "timesteps_since_restore": 2643257, "info": {"update_time_ms": 8.582, "num_steps_sampled": 2643257, "sample_time_ms": 32264.063, "grad_time_ms": 17367.494, "default": {"entropy": 1.380018949508667, "kl": 0.01903870701789856, "vf_loss": 27.211715698242188, "vf_explained_var": 0.793031632900238, "policy_loss": -0.00954530481249094, "total_loss": 27.20502471923828, "cur_lr": 0.0005000000237487257, "cur_kl_coeff": 0.15000000596046448}, "num_steps_trained": 2643257, "load_time_ms": 8.945}, "time_total_s": 1969.4974081516266, "num_metric_batches_dropped": 0, "timestamp": 1558308459, "episode_reward_max": 1348.6950215262877, "timesteps_this_iter": 67279, "episode_reward_min": 19.59454158260281, "date": "2019-05-19_23-27-39", "policy_reward_mean": {}, "time_since_restore": 1969.4974081516266, "episodes_total": 1094, "iterations_since_restore": 39, "pid": 46880, "episodes_this_iter": 31, "episode_len_mean": 693.15, "done": false, "training_iteration": 39, "custom_metrics": {"cost2_mean": -0.060639596785000506, "outflow_rate_mean": 1077.345868918436, "cost2_min": -0.3333333333333333, "system_level_velocity_mean": 12.676524424154952, "cost1_min": 9.503834457427004, "cost1_mean": 326.4354930646097, "cost1_max": 462.10398679098967, "outflow_rate_max": 1311.906505298823, "system_level_velocity_max": 18.244065781117296, "outflow_rate_min": 417.44931852831456, "cost2_max": 0.0, "system_level_velocity_min": 9.763653882160467}, "node_ip": "10.138.0.2", "timesteps_total": 2643257}
{"hostname": "flow-main", "episode_reward_mean": 989.6051817301524, "experiment_id": "383e98f8614b4235818372cc4d63f9e0", "config": {"use_gae": true, "tf_session_args": {"allow_soft_placement": true, "gpu_options": {"allow_growth": true}, "inter_op_parallelism_threads": 2, "device_count": {"CPU": 1}, "intra_op_parallelism_threads": 2, "log_device_placement": false}, "entropy_coeff": 0.0, "kl_coeff": 0.2, "num_gpus_per_worker": 0, "monitor": false, "input_evaluation": null, "clip_rewards": null, "vf_share_layers": false, "straggler_mitigation": false, "log_level": "INFO", "clip_actions": false, "simple_optimizer": false, "sample_batch_size": 750, "vf_clip_param": 1000000.0, "custom_resources_per_worker": {}, "lr": 0.0005, "num_sgd_iter": 10, "model": {"grayscale": false, "dim": 84, "custom_model": null, "free_log_std": false, "custom_options": {}, "lstm_cell_size": 256, "framestack": true, "squash_to_range": false, "conv_filters": null, "channel_major": false, "custom_preprocessor": null, "fcnet_hiddens": [128, 64, 32], "max_seq_len": 20, "lstm_use_prev_action_reward": false, "conv_activation": "relu", "use_lstm": false, "zero_mean": true, "fcnet_activation": "tanh"}, "input": "sampler", "horizon": 1500, "vf_loss_coeff": 1.0, "compress_observations": false, "num_envs_per_worker": 1, "sample_async": false, "num_gpus": 0, "output_max_file_size": 67108864, "lambda": 0.97, "multiagent": {"policy_graphs": {}, "policies_to_train": null, "policy_mapping_fn": null}, "output": null, "num_cpus_per_worker": 1, "preprocessor_pref": "deepmind", "clip_param": 0.3, "kl_target": 0.01, "output_compress_columns": ["obs", "new_obs"], "collect_metrics_timeout": 180, "sgd_minibatch_size": 128, "train_batch_size": 30000, "callbacks": {"on_sample_end": null, "on_train_result": null, "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7f2c02d02198>", "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7f2c02d02f98>", "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7f2c02d02358>"}, "observation_filter": "MeanStdFilter", "synchronize_filters": true, "gamma": 0.99, "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "env_config": {"flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"buf_length\": 1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.1,\n            \"eta3\": 0.1,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 1.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnv\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 600,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}", "run": "PPO"}, "env": "MultiWaveAttenuationMergePOEnv-v0_[eta1, eta2, eta3]:[1.0, 0.1, 0.1]_t_min:1.0_buf_len: 1", "optimizer": {}, "num_workers": 20, "num_cpus_for_driver": 1, "lr_schedule": null, "batch_mode": "truncate_episodes"}, "time_this_iter_s": 49.981066942214966, "timesteps_since_restore": 2709201, "info": {"update_time_ms": 8.437, "num_steps_sampled": 2709201, "sample_time_ms": 32306.789, "grad_time_ms": 17382.471, "default": {"entropy": 1.3650155067443848, "kl": 0.018733985722064972, "vf_loss": 25.040054321289062, "vf_explained_var": 0.826569676399231, "policy_loss": -0.00819985568523407, "total_loss": 25.034664154052734, "cur_lr": 0.0005000000237487257, "cur_kl_coeff": 0.15000000596046448}, "num_steps_trained": 2709201, "load_time_ms": 8.952}, "time_total_s": 2019.4784750938416, "num_metric_batches_dropped": 0, "timestamp": 1558308509, "episode_reward_max": 1214.4713468703017, "timesteps_this_iter": 65944, "episode_reward_min": 19.59454158260281, "date": "2019-05-19_23-28-29", "policy_reward_mean": {}, "time_since_restore": 2019.4784750938416, "episodes_total": 1121, "iterations_since_restore": 40, "pid": 46880, "episodes_this_iter": 27, "episode_len_mean": 686.35, "done": false, "training_iteration": 40, "custom_metrics": {"cost2_mean": -0.0807714039204652, "outflow_rate_mean": 1072.8120207100953, "cost2_min": -0.546875014650479, "system_level_velocity_mean": 12.746959822686346, "cost1_min": 9.503834457427004, "cost1_mean": 323.86032341495184, "cost1_max": 426.5224094312571, "outflow_rate_max": 1266.1625242870664, "system_level_velocity_max": 18.244065781117296, "outflow_rate_min": 417.44931852831456, "cost2_max": 0.0, "system_level_velocity_min": 9.871676176811832}, "node_ip": "10.138.0.2", "timesteps_total": 2709201}
{"hostname": "flow-main", "episode_reward_mean": 980.6689592248456, "experiment_id": "383e98f8614b4235818372cc4d63f9e0", "config": {"use_gae": true, "tf_session_args": {"allow_soft_placement": true, "gpu_options": {"allow_growth": true}, "inter_op_parallelism_threads": 2, "device_count": {"CPU": 1}, "intra_op_parallelism_threads": 2, "log_device_placement": false}, "entropy_coeff": 0.0, "kl_coeff": 0.2, "num_gpus_per_worker": 0, "monitor": false, "input_evaluation": null, "clip_rewards": null, "vf_share_layers": false, "straggler_mitigation": false, "log_level": "INFO", "clip_actions": false, "simple_optimizer": false, "sample_batch_size": 750, "vf_clip_param": 1000000.0, "custom_resources_per_worker": {}, "lr": 0.0005, "num_sgd_iter": 10, "model": {"grayscale": false, "dim": 84, "custom_model": null, "free_log_std": false, "custom_options": {}, "lstm_cell_size": 256, "framestack": true, "squash_to_range": false, "conv_filters": null, "channel_major": false, "custom_preprocessor": null, "fcnet_hiddens": [128, 64, 32], "max_seq_len": 20, "lstm_use_prev_action_reward": false, "conv_activation": "relu", "use_lstm": false, "zero_mean": true, "fcnet_activation": "tanh"}, "input": "sampler", "horizon": 1500, "vf_loss_coeff": 1.0, "compress_observations": false, "num_envs_per_worker": 1, "sample_async": false, "num_gpus": 0, "output_max_file_size": 67108864, "lambda": 0.97, "multiagent": {"policy_graphs": {}, "policies_to_train": null, "policy_mapping_fn": null}, "output": null, "num_cpus_per_worker": 1, "preprocessor_pref": "deepmind", "clip_param": 0.3, "kl_target": 0.01, "output_compress_columns": ["obs", "new_obs"], "collect_metrics_timeout": 180, "sgd_minibatch_size": 128, "train_batch_size": 30000, "callbacks": {"on_sample_end": null, "on_train_result": null, "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7f2c0288ee10>", "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7f2c0288e9e8>", "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7f2c0288e128>"}, "observation_filter": "MeanStdFilter", "synchronize_filters": true, "gamma": 0.99, "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "env_config": {"flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"buf_length\": 1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.1,\n            \"eta3\": 0.1,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 1.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnv\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 600,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}", "run": "PPO"}, "env": "MultiWaveAttenuationMergePOEnv-v0_[eta1, eta2, eta3]:[1.0, 0.1, 0.1]_t_min:1.0_buf_len: 1", "optimizer": {}, "num_workers": 20, "num_cpus_for_driver": 1, "lr_schedule": null, "batch_mode": "truncate_episodes"}, "time_this_iter_s": 50.51121401786804, "timesteps_since_restore": 2776211, "info": {"update_time_ms": 8.389, "num_steps_sampled": 2776211, "sample_time_ms": 32666.441, "grad_time_ms": 17147.854, "default": {"entropy": 1.3561358451843262, "kl": 0.01829417608678341, "vf_loss": 27.14054298400879, "vf_explained_var": 0.8204323053359985, "policy_loss": -0.009197450242936611, "total_loss": 27.134090423583984, "cur_lr": 0.0005000000237487257, "cur_kl_coeff": 0.14999999105930328}, "num_steps_trained": 2776211, "load_time_ms": 8.928}, "time_total_s": 2069.9896891117096, "num_metric_batches_dropped": 0, "timestamp": 1558308559, "episode_reward_max": 1214.4713468703017, "timesteps_this_iter": 67010, "episode_reward_min": 19.59454158260281, "date": "2019-05-19_23-29-19", "policy_reward_mean": {}, "time_since_restore": 2069.9896891117096, "episodes_total": 1150, "iterations_since_restore": 41, "pid": 46880, "episodes_this_iter": 29, "episode_len_mean": 679.73, "done": false, "training_iteration": 41, "custom_metrics": {"cost2_mean": -0.0848821893461862, "outflow_rate_mean": 1071.2220949867185, "cost2_min": -0.546875014650479, "system_level_velocity_mean": 12.925659410237836, "cost1_min": 9.503834457427004, "cost1_mean": 323.8761239460979, "cost1_max": 477.3609985013402, "outflow_rate_max": 1287.5673840609468, "system_level_velocity_max": 18.552658466257345, "outflow_rate_min": 417.44931852831456, "cost2_max": 0.0, "system_level_velocity_min": 9.871676176811832}, "node_ip": "10.138.0.2", "timesteps_total": 2776211}
{"hostname": "flow-main", "episode_reward_mean": 969.2205084643632, "experiment_id": "383e98f8614b4235818372cc4d63f9e0", "config": {"use_gae": true, "tf_session_args": {"allow_soft_placement": true, "gpu_options": {"allow_growth": true}, "inter_op_parallelism_threads": 2, "device_count": {"CPU": 1}, "intra_op_parallelism_threads": 2, "log_device_placement": false}, "entropy_coeff": 0.0, "kl_coeff": 0.2, "num_gpus_per_worker": 0, "monitor": false, "input_evaluation": null, "clip_rewards": null, "vf_share_layers": false, "straggler_mitigation": false, "log_level": "INFO", "clip_actions": false, "simple_optimizer": false, "sample_batch_size": 750, "vf_clip_param": 1000000.0, "custom_resources_per_worker": {}, "lr": 0.0005, "num_sgd_iter": 10, "model": {"grayscale": false, "dim": 84, "custom_model": null, "free_log_std": false, "custom_options": {}, "lstm_cell_size": 256, "framestack": true, "squash_to_range": false, "conv_filters": null, "channel_major": false, "custom_preprocessor": null, "fcnet_hiddens": [128, 64, 32], "max_seq_len": 20, "lstm_use_prev_action_reward": false, "conv_activation": "relu", "use_lstm": false, "zero_mean": true, "fcnet_activation": "tanh"}, "input": "sampler", "horizon": 1500, "vf_loss_coeff": 1.0, "compress_observations": false, "num_envs_per_worker": 1, "sample_async": false, "num_gpus": 0, "output_max_file_size": 67108864, "lambda": 0.97, "multiagent": {"policy_graphs": {}, "policies_to_train": null, "policy_mapping_fn": null}, "output": null, "num_cpus_per_worker": 1, "preprocessor_pref": "deepmind", "clip_param": 0.3, "kl_target": 0.01, "output_compress_columns": ["obs", "new_obs"], "collect_metrics_timeout": 180, "sgd_minibatch_size": 128, "train_batch_size": 30000, "callbacks": {"on_sample_end": null, "on_train_result": null, "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7f2c02d02320>", "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7f2c02d02278>", "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7f2c02d02eb8>"}, "observation_filter": "MeanStdFilter", "synchronize_filters": true, "gamma": 0.99, "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "env_config": {"flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"buf_length\": 1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.1,\n            \"eta3\": 0.1,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 1.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnv\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 600,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}", "run": "PPO"}, "env": "MultiWaveAttenuationMergePOEnv-v0_[eta1, eta2, eta3]:[1.0, 0.1, 0.1]_t_min:1.0_buf_len: 1", "optimizer": {}, "num_workers": 20, "num_cpus_for_driver": 1, "lr_schedule": null, "batch_mode": "truncate_episodes"}, "time_this_iter_s": 51.53919792175293, "timesteps_since_restore": 2843140, "info": {"update_time_ms": 8.228, "num_steps_sampled": 2843140, "sample_time_ms": 32824.232, "grad_time_ms": 17192.856, "default": {"entropy": 1.3609815835952759, "kl": 0.018336158245801926, "vf_loss": 25.8244686126709, "vf_explained_var": 0.8449546098709106, "policy_loss": -0.008973193354904652, "total_loss": 25.81824493408203, "cur_lr": 0.0005000000237487257, "cur_kl_coeff": 0.15000000596046448}, "num_steps_trained": 2843140, "load_time_ms": 8.883}, "time_total_s": 2121.5288870334625, "num_metric_batches_dropped": 0, "timestamp": 1558308611, "episode_reward_max": 1235.0974879879714, "timesteps_this_iter": 66929, "episode_reward_min": 19.59454158260281, "date": "2019-05-19_23-30-11", "policy_reward_mean": {}, "time_since_restore": 2121.5288870334625, "episodes_total": 1179, "iterations_since_restore": 42, "pid": 46880, "episodes_this_iter": 29, "episode_len_mean": 679.73, "done": false, "training_iteration": 42, "custom_metrics": {"cost2_mean": -0.09496227602258482, "outflow_rate_mean": 1075.0587162759916, "cost2_min": -0.546875014650479, "system_level_velocity_mean": 12.988277570379518, "cost1_min": 9.503834457427004, "cost1_mean": 325.1245090527727, "cost1_max": 477.3609985013402, "outflow_rate_max": 1290.6309970828127, "system_level_velocity_max": 18.552658466257345, "outflow_rate_min": 417.44931852831456, "cost2_max": 0.0, "system_level_velocity_min": 8.988898481507567}, "node_ip": "10.138.0.2", "timesteps_total": 2843140}
{"hostname": "flow-main", "episode_reward_mean": 984.2077393986021, "experiment_id": "383e98f8614b4235818372cc4d63f9e0", "config": {"use_gae": true, "tf_session_args": {"allow_soft_placement": true, "gpu_options": {"allow_growth": true}, "inter_op_parallelism_threads": 2, "device_count": {"CPU": 1}, "intra_op_parallelism_threads": 2, "log_device_placement": false}, "entropy_coeff": 0.0, "kl_coeff": 0.2, "num_gpus_per_worker": 0, "monitor": false, "input_evaluation": null, "clip_rewards": null, "vf_share_layers": false, "straggler_mitigation": false, "log_level": "INFO", "clip_actions": false, "simple_optimizer": false, "sample_batch_size": 750, "vf_clip_param": 1000000.0, "custom_resources_per_worker": {}, "lr": 0.0005, "num_sgd_iter": 10, "model": {"grayscale": false, "dim": 84, "custom_model": null, "free_log_std": false, "custom_options": {}, "lstm_cell_size": 256, "framestack": true, "squash_to_range": false, "conv_filters": null, "channel_major": false, "custom_preprocessor": null, "fcnet_hiddens": [128, 64, 32], "max_seq_len": 20, "lstm_use_prev_action_reward": false, "conv_activation": "relu", "use_lstm": false, "zero_mean": true, "fcnet_activation": "tanh"}, "input": "sampler", "horizon": 1500, "vf_loss_coeff": 1.0, "compress_observations": false, "num_envs_per_worker": 1, "sample_async": false, "num_gpus": 0, "output_max_file_size": 67108864, "lambda": 0.97, "multiagent": {"policy_graphs": {}, "policies_to_train": null, "policy_mapping_fn": null}, "output": null, "num_cpus_per_worker": 1, "preprocessor_pref": "deepmind", "clip_param": 0.3, "kl_target": 0.01, "output_compress_columns": ["obs", "new_obs"], "collect_metrics_timeout": 180, "sgd_minibatch_size": 128, "train_batch_size": 30000, "callbacks": {"on_sample_end": null, "on_train_result": null, "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7f2c0288e4a8>", "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7f2c0288eac8>", "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7f2c0288e128>"}, "observation_filter": "MeanStdFilter", "synchronize_filters": true, "gamma": 0.99, "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "env_config": {"flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"buf_length\": 1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.1,\n            \"eta3\": 0.1,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 1.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnv\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 600,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}", "run": "PPO"}, "env": "MultiWaveAttenuationMergePOEnv-v0_[eta1, eta2, eta3]:[1.0, 0.1, 0.1]_t_min:1.0_buf_len: 1", "optimizer": {}, "num_workers": 20, "num_cpus_for_driver": 1, "lr_schedule": null, "batch_mode": "truncate_episodes"}, "time_this_iter_s": 48.71947360038757, "timesteps_since_restore": 2909225, "info": {"update_time_ms": 7.904, "num_steps_sampled": 2909225, "sample_time_ms": 32906.988, "grad_time_ms": 16905.769, "default": {"entropy": 1.3616770505905151, "kl": 0.019727708771824837, "vf_loss": 27.39560317993164, "vf_explained_var": 0.8313591480255127, "policy_loss": -0.010157170705497265, "total_loss": 27.388402938842773, "cur_lr": 0.0005000000237487257, "cur_kl_coeff": 0.15000000596046448}, "num_steps_trained": 2909225, "load_time_ms": 8.827}, "time_total_s": 2170.24836063385, "num_metric_batches_dropped": 0, "timestamp": 1558308660, "episode_reward_max": 1235.0974879879714, "timesteps_this_iter": 66085, "episode_reward_min": 30.42550135233065, "date": "2019-05-19_23-31-00", "policy_reward_mean": {}, "time_since_restore": 2170.24836063385, "episodes_total": 1206, "iterations_since_restore": 43, "pid": 46880, "episodes_this_iter": 27, "episode_len_mean": 686.58, "done": false, "training_iteration": 43, "custom_metrics": {"cost2_mean": -0.09435007427921958, "outflow_rate_mean": 1082.9056716527155, "cost2_min": -0.6623376623376623, "system_level_velocity_mean": 12.97232744136711, "cost1_min": 12.982017051037896, "cost1_mean": 329.2801649049504, "cost1_max": 477.3609985013402, "outflow_rate_max": 1290.6309970828127, "system_level_velocity_max": 18.552658466257345, "outflow_rate_min": 470.5008371641972, "cost2_max": 0.0, "system_level_velocity_min": 8.988898481507567}, "node_ip": "10.138.0.2", "timesteps_total": 2909225}
{"hostname": "flow-main", "episode_reward_mean": 1003.8976537618274, "experiment_id": "383e98f8614b4235818372cc4d63f9e0", "config": {"use_gae": true, "tf_session_args": {"allow_soft_placement": true, "gpu_options": {"allow_growth": true}, "inter_op_parallelism_threads": 2, "device_count": {"CPU": 1}, "intra_op_parallelism_threads": 2, "log_device_placement": false}, "entropy_coeff": 0.0, "kl_coeff": 0.2, "num_gpus_per_worker": 0, "monitor": false, "input_evaluation": null, "clip_rewards": null, "vf_share_layers": false, "straggler_mitigation": false, "log_level": "INFO", "clip_actions": false, "simple_optimizer": false, "sample_batch_size": 750, "vf_clip_param": 1000000.0, "custom_resources_per_worker": {}, "lr": 0.0005, "num_sgd_iter": 10, "model": {"grayscale": false, "dim": 84, "custom_model": null, "free_log_std": false, "custom_options": {}, "lstm_cell_size": 256, "framestack": true, "squash_to_range": false, "conv_filters": null, "channel_major": false, "custom_preprocessor": null, "fcnet_hiddens": [128, 64, 32], "max_seq_len": 20, "lstm_use_prev_action_reward": false, "conv_activation": "relu", "use_lstm": false, "zero_mean": true, "fcnet_activation": "tanh"}, "input": "sampler", "horizon": 1500, "vf_loss_coeff": 1.0, "compress_observations": false, "num_envs_per_worker": 1, "sample_async": false, "num_gpus": 0, "output_max_file_size": 67108864, "lambda": 0.97, "multiagent": {"policy_graphs": {}, "policies_to_train": null, "policy_mapping_fn": null}, "output": null, "num_cpus_per_worker": 1, "preprocessor_pref": "deepmind", "clip_param": 0.3, "kl_target": 0.01, "output_compress_columns": ["obs", "new_obs"], "collect_metrics_timeout": 180, "sgd_minibatch_size": 128, "train_batch_size": 30000, "callbacks": {"on_sample_end": null, "on_train_result": null, "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7f2c02d022e8>", "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7f2c02d022b0>", "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7f2c02d023c8>"}, "observation_filter": "MeanStdFilter", "synchronize_filters": true, "gamma": 0.99, "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "env_config": {"flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"buf_length\": 1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.1,\n            \"eta3\": 0.1,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 1.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnv\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 600,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}", "run": "PPO"}, "env": "MultiWaveAttenuationMergePOEnv-v0_[eta1, eta2, eta3]:[1.0, 0.1, 0.1]_t_min:1.0_buf_len: 1", "optimizer": {}, "num_workers": 20, "num_cpus_for_driver": 1, "lr_schedule": null, "batch_mode": "truncate_episodes"}, "time_this_iter_s": 49.90182662010193, "timesteps_since_restore": 2976656, "info": {"update_time_ms": 7.667, "num_steps_sampled": 2976656, "sample_time_ms": 33070.881, "grad_time_ms": 16729.422, "default": {"entropy": 1.3687807321548462, "kl": 0.019332200288772583, "vf_loss": 27.70701789855957, "vf_explained_var": 0.826813280582428, "policy_loss": -0.01001484040170908, "total_loss": 27.699905395507812, "cur_lr": 0.0005000000237487257, "cur_kl_coeff": 0.14999999105930328}, "num_steps_trained": 2976656, "load_time_ms": 8.923}, "time_total_s": 2220.150187253952, "num_metric_batches_dropped": 0, "timestamp": 1558308710, "episode_reward_max": 1235.0974879879714, "timesteps_this_iter": 67431, "episode_reward_min": 760.610566043473, "date": "2019-05-19_23-31-50", "policy_reward_mean": {}, "time_since_restore": 2220.150187253952, "episodes_total": 1235, "iterations_since_restore": 44, "pid": 46880, "episodes_this_iter": 29, "episode_len_mean": 700.0, "done": false, "training_iteration": 44, "custom_metrics": {"cost2_mean": -0.08837215283710222, "outflow_rate_mean": 1097.9941224823506, "cost2_min": -0.6623376623376623, "system_level_velocity_mean": 12.9594584066391, "cost1_min": 231.1641589458696, "cost1_mean": 337.5359787639702, "cost1_max": 477.3609985013402, "outflow_rate_max": 1290.6309970828127, "system_level_velocity_max": 18.092711721272668, "outflow_rate_min": 897.8856989271723, "cost2_max": 0.0, "system_level_velocity_min": 8.988898481507567}, "node_ip": "10.138.0.2", "timesteps_total": 2976656}
{"hostname": "flow-main", "episode_reward_mean": 1009.313966316391, "experiment_id": "383e98f8614b4235818372cc4d63f9e0", "config": {"use_gae": true, "tf_session_args": {"allow_soft_placement": true, "gpu_options": {"allow_growth": true}, "inter_op_parallelism_threads": 2, "device_count": {"CPU": 1}, "intra_op_parallelism_threads": 2, "log_device_placement": false}, "entropy_coeff": 0.0, "kl_coeff": 0.2, "num_gpus_per_worker": 0, "monitor": false, "input_evaluation": null, "clip_rewards": null, "vf_share_layers": false, "straggler_mitigation": false, "log_level": "INFO", "clip_actions": false, "simple_optimizer": false, "sample_batch_size": 750, "vf_clip_param": 1000000.0, "custom_resources_per_worker": {}, "lr": 0.0005, "num_sgd_iter": 10, "model": {"grayscale": false, "dim": 84, "custom_model": null, "free_log_std": false, "custom_options": {}, "lstm_cell_size": 256, "framestack": true, "squash_to_range": false, "conv_filters": null, "channel_major": false, "custom_preprocessor": null, "fcnet_hiddens": [128, 64, 32], "max_seq_len": 20, "lstm_use_prev_action_reward": false, "conv_activation": "relu", "use_lstm": false, "zero_mean": true, "fcnet_activation": "tanh"}, "input": "sampler", "horizon": 1500, "vf_loss_coeff": 1.0, "compress_observations": false, "num_envs_per_worker": 1, "sample_async": false, "num_gpus": 0, "output_max_file_size": 67108864, "lambda": 0.97, "multiagent": {"policy_graphs": {}, "policies_to_train": null, "policy_mapping_fn": null}, "output": null, "num_cpus_per_worker": 1, "preprocessor_pref": "deepmind", "clip_param": 0.3, "kl_target": 0.01, "output_compress_columns": ["obs", "new_obs"], "collect_metrics_timeout": 180, "sgd_minibatch_size": 128, "train_batch_size": 30000, "callbacks": {"on_sample_end": null, "on_train_result": null, "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7f2c0288e048>", "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7f2c0288eac8>", "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7f2c0288e4a8>"}, "observation_filter": "MeanStdFilter", "synchronize_filters": true, "gamma": 0.99, "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "env_config": {"flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"buf_length\": 1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.1,\n            \"eta3\": 0.1,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 1.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnv\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 600,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}", "run": "PPO"}, "env": "MultiWaveAttenuationMergePOEnv-v0_[eta1, eta2, eta3]:[1.0, 0.1, 0.1]_t_min:1.0_buf_len: 1", "optimizer": {}, "num_workers": 20, "num_cpus_for_driver": 1, "lr_schedule": null, "batch_mode": "truncate_episodes"}, "time_this_iter_s": 51.043335914611816, "timesteps_since_restore": 3042490, "info": {"update_time_ms": 7.54, "num_steps_sampled": 3042490, "sample_time_ms": 33437.98, "grad_time_ms": 16642.212, "default": {"entropy": 1.35623300075531, "kl": 0.019441645592451096, "vf_loss": 28.99649429321289, "vf_explained_var": 0.8307270407676697, "policy_loss": -0.009687320329248905, "total_loss": 28.98972511291504, "cur_lr": 0.0005000000237487257, "cur_kl_coeff": 0.14999999105930328}, "num_steps_trained": 3042490, "load_time_ms": 8.991}, "time_total_s": 2271.193523168564, "num_metric_batches_dropped": 0, "timestamp": 1558308761, "episode_reward_max": 1254.609291044755, "timesteps_this_iter": 65834, "episode_reward_min": 760.610566043473, "date": "2019-05-19_23-32-41", "policy_reward_mean": {}, "time_since_restore": 2271.193523168564, "episodes_total": 1264, "iterations_since_restore": 45, "pid": 46880, "episodes_this_iter": 29, "episode_len_mean": 700.0, "done": false, "training_iteration": 45, "custom_metrics": {"cost2_mean": -0.08917907979406847, "outflow_rate_mean": 1097.7281516691862, "cost2_min": -0.6623376623376623, "system_level_velocity_mean": 12.915378280666737, "cost1_min": 245.35686462265284, "cost1_mean": 336.463194837371, "cost1_max": 451.1030424006103, "outflow_rate_max": 1292.4049944909693, "system_level_velocity_max": 17.109844045554222, "outflow_rate_min": 897.8856989271723, "cost2_max": 0.0, "system_level_velocity_min": 9.55789409037216}, "node_ip": "10.138.0.2", "timesteps_total": 3042490}
{"hostname": "flow-main", "episode_reward_mean": 1018.7868048532733, "experiment_id": "383e98f8614b4235818372cc4d63f9e0", "config": {"use_gae": true, "tf_session_args": {"allow_soft_placement": true, "gpu_options": {"allow_growth": true}, "inter_op_parallelism_threads": 2, "device_count": {"CPU": 1}, "intra_op_parallelism_threads": 2, "log_device_placement": false}, "entropy_coeff": 0.0, "kl_coeff": 0.2, "num_gpus_per_worker": 0, "monitor": false, "input_evaluation": null, "clip_rewards": null, "vf_share_layers": false, "straggler_mitigation": false, "log_level": "INFO", "clip_actions": false, "simple_optimizer": false, "sample_batch_size": 750, "vf_clip_param": 1000000.0, "custom_resources_per_worker": {}, "lr": 0.0005, "num_sgd_iter": 10, "model": {"grayscale": false, "dim": 84, "custom_model": null, "free_log_std": false, "custom_options": {}, "lstm_cell_size": 256, "framestack": true, "squash_to_range": false, "conv_filters": null, "channel_major": false, "custom_preprocessor": null, "fcnet_hiddens": [128, 64, 32], "max_seq_len": 20, "lstm_use_prev_action_reward": false, "conv_activation": "relu", "use_lstm": false, "zero_mean": true, "fcnet_activation": "tanh"}, "input": "sampler", "horizon": 1500, "vf_loss_coeff": 1.0, "compress_observations": false, "num_envs_per_worker": 1, "sample_async": false, "num_gpus": 0, "output_max_file_size": 67108864, "lambda": 0.97, "multiagent": {"policy_graphs": {}, "policies_to_train": null, "policy_mapping_fn": null}, "output": null, "num_cpus_per_worker": 1, "preprocessor_pref": "deepmind", "clip_param": 0.3, "kl_target": 0.01, "output_compress_columns": ["obs", "new_obs"], "collect_metrics_timeout": 180, "sgd_minibatch_size": 128, "train_batch_size": 30000, "callbacks": {"on_sample_end": null, "on_train_result": null, "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7f2c02cfe710>", "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7f2c02cfea58>", "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7f2c02cfe550>"}, "observation_filter": "MeanStdFilter", "synchronize_filters": true, "gamma": 0.99, "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "env_config": {"flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"buf_length\": 1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.1,\n            \"eta3\": 0.1,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 1.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnv\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 600,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}", "run": "PPO"}, "env": "MultiWaveAttenuationMergePOEnv-v0_[eta1, eta2, eta3]:[1.0, 0.1, 0.1]_t_min:1.0_buf_len: 1", "optimizer": {}, "num_workers": 20, "num_cpus_for_driver": 1, "lr_schedule": null, "batch_mode": "truncate_episodes"}, "time_this_iter_s": 49.44173216819763, "timesteps_since_restore": 3109349, "info": {"update_time_ms": 7.402, "num_steps_sampled": 3109349, "sample_time_ms": 33599.118, "grad_time_ms": 16414.539, "default": {"entropy": 1.3430051803588867, "kl": 0.019507085904479027, "vf_loss": 28.17280387878418, "vf_explained_var": 0.8442206382751465, "policy_loss": -0.009188681840896606, "total_loss": 28.166545867919922, "cur_lr": 0.0005000000237487257, "cur_kl_coeff": 0.15000000596046448}, "num_steps_trained": 3109349, "load_time_ms": 9.055}, "time_total_s": 2320.6352553367615, "num_metric_batches_dropped": 0, "timestamp": 1558308810, "episode_reward_max": 1276.895531502874, "timesteps_this_iter": 66859, "episode_reward_min": 760.610566043473, "date": "2019-05-19_23-33-30", "policy_reward_mean": {}, "time_since_restore": 2320.6352553367615, "episodes_total": 1294, "iterations_since_restore": 46, "pid": 46880, "episodes_this_iter": 30, "episode_len_mean": 700.0, "done": false, "training_iteration": 46, "custom_metrics": {"cost2_mean": -0.08210736393573277, "outflow_rate_mean": 1106.616510844384, "cost2_min": -0.6182878563527587, "system_level_velocity_mean": 13.09572396885431, "cost1_min": 246.292517985567, "cost1_mean": 341.5867142342551, "cost1_max": 471.7449297610915, "outflow_rate_max": 1297.4205721639728, "system_level_velocity_max": 17.944563848360957, "outflow_rate_min": 897.8856989271723, "cost2_max": 0.0, "system_level_velocity_min": 9.620890777488551}, "node_ip": "10.138.0.2", "timesteps_total": 3109349}
{"hostname": "flow-main", "episode_reward_mean": 1016.9259994311747, "experiment_id": "383e98f8614b4235818372cc4d63f9e0", "config": {"use_gae": true, "tf_session_args": {"allow_soft_placement": true, "gpu_options": {"allow_growth": true}, "inter_op_parallelism_threads": 2, "device_count": {"CPU": 1}, "intra_op_parallelism_threads": 2, "log_device_placement": false}, "entropy_coeff": 0.0, "kl_coeff": 0.2, "num_gpus_per_worker": 0, "monitor": false, "input_evaluation": null, "clip_rewards": null, "vf_share_layers": false, "straggler_mitigation": false, "log_level": "INFO", "clip_actions": false, "simple_optimizer": false, "sample_batch_size": 750, "vf_clip_param": 1000000.0, "custom_resources_per_worker": {}, "lr": 0.0005, "num_sgd_iter": 10, "model": {"grayscale": false, "dim": 84, "custom_model": null, "free_log_std": false, "custom_options": {}, "lstm_cell_size": 256, "framestack": true, "squash_to_range": false, "conv_filters": null, "channel_major": false, "custom_preprocessor": null, "fcnet_hiddens": [128, 64, 32], "max_seq_len": 20, "lstm_use_prev_action_reward": false, "conv_activation": "relu", "use_lstm": false, "zero_mean": true, "fcnet_activation": "tanh"}, "input": "sampler", "horizon": 1500, "vf_loss_coeff": 1.0, "compress_observations": false, "num_envs_per_worker": 1, "sample_async": false, "num_gpus": 0, "output_max_file_size": 67108864, "lambda": 0.97, "multiagent": {"policy_graphs": {}, "policies_to_train": null, "policy_mapping_fn": null}, "output": null, "num_cpus_per_worker": 1, "preprocessor_pref": "deepmind", "clip_param": 0.3, "kl_target": 0.01, "output_compress_columns": ["obs", "new_obs"], "collect_metrics_timeout": 180, "sgd_minibatch_size": 128, "train_batch_size": 30000, "callbacks": {"on_sample_end": null, "on_train_result": null, "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7f2c02d025f8>", "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7f2c02d02978>", "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7f2c02d027b8>"}, "observation_filter": "MeanStdFilter", "synchronize_filters": true, "gamma": 0.99, "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "env_config": {"flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"buf_length\": 1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.1,\n            \"eta3\": 0.1,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 1.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnv\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 600,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}", "run": "PPO"}, "env": "MultiWaveAttenuationMergePOEnv-v0_[eta1, eta2, eta3]:[1.0, 0.1, 0.1]_t_min:1.0_buf_len: 1", "optimizer": {}, "num_workers": 20, "num_cpus_for_driver": 1, "lr_schedule": null, "batch_mode": "truncate_episodes"}, "time_this_iter_s": 49.96082401275635, "timesteps_since_restore": 3175012, "info": {"update_time_ms": 7.459, "num_steps_sampled": 3175012, "sample_time_ms": 33809.829, "grad_time_ms": 16165.404, "default": {"entropy": 1.3508456945419312, "kl": 0.018858235329389572, "vf_loss": 27.017501831054688, "vf_explained_var": 0.8375059366226196, "policy_loss": -0.008947682566940784, "total_loss": 27.011383056640625, "cur_lr": 0.0005000000237487257, "cur_kl_coeff": 0.15000000596046448}, "num_steps_trained": 3175012, "load_time_ms": 9.11}, "time_total_s": 2370.596079349518, "num_metric_batches_dropped": 0, "timestamp": 1558308860, "episode_reward_max": 1364.7710966830437, "timesteps_this_iter": 65663, "episode_reward_min": 825.8569639142295, "date": "2019-05-19_23-34-20", "policy_reward_mean": {}, "time_since_restore": 2370.596079349518, "episodes_total": 1320, "iterations_since_restore": 47, "pid": 46880, "episodes_this_iter": 26, "episode_len_mean": 700.0, "done": false, "training_iteration": 47, "custom_metrics": {"cost2_mean": -0.0711578290811141, "outflow_rate_mean": 1106.5145995199764, "cost2_min": -0.5, "system_level_velocity_mean": 13.08957747093156, "cost1_min": 254.82218816436568, "cost1_mean": 341.30604552176686, "cost1_max": 471.7449297610915, "outflow_rate_max": 1310.9908863405544, "system_level_velocity_max": 17.944563848360957, "outflow_rate_min": 936.2820713824858, "cost2_max": 0.0, "system_level_velocity_min": 9.784164722313603}, "node_ip": "10.138.0.2", "timesteps_total": 3175012}
{"hostname": "flow-main", "episode_reward_mean": 1012.5207443413319, "experiment_id": "383e98f8614b4235818372cc4d63f9e0", "config": {"use_gae": true, "tf_session_args": {"allow_soft_placement": true, "gpu_options": {"allow_growth": true}, "inter_op_parallelism_threads": 2, "device_count": {"CPU": 1}, "intra_op_parallelism_threads": 2, "log_device_placement": false}, "entropy_coeff": 0.0, "kl_coeff": 0.2, "num_gpus_per_worker": 0, "monitor": false, "input_evaluation": null, "clip_rewards": null, "vf_share_layers": false, "straggler_mitigation": false, "log_level": "INFO", "clip_actions": false, "simple_optimizer": false, "sample_batch_size": 750, "vf_clip_param": 1000000.0, "custom_resources_per_worker": {}, "lr": 0.0005, "num_sgd_iter": 10, "model": {"grayscale": false, "dim": 84, "custom_model": null, "free_log_std": false, "custom_options": {}, "lstm_cell_size": 256, "framestack": true, "squash_to_range": false, "conv_filters": null, "channel_major": false, "custom_preprocessor": null, "fcnet_hiddens": [128, 64, 32], "max_seq_len": 20, "lstm_use_prev_action_reward": false, "conv_activation": "relu", "use_lstm": false, "zero_mean": true, "fcnet_activation": "tanh"}, "input": "sampler", "horizon": 1500, "vf_loss_coeff": 1.0, "compress_observations": false, "num_envs_per_worker": 1, "sample_async": false, "num_gpus": 0, "output_max_file_size": 67108864, "lambda": 0.97, "multiagent": {"policy_graphs": {}, "policies_to_train": null, "policy_mapping_fn": null}, "output": null, "num_cpus_per_worker": 1, "preprocessor_pref": "deepmind", "clip_param": 0.3, "kl_target": 0.01, "output_compress_columns": ["obs", "new_obs"], "collect_metrics_timeout": 180, "sgd_minibatch_size": 128, "train_batch_size": 30000, "callbacks": {"on_sample_end": null, "on_train_result": null, "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7f2c0288e898>", "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7f2c0288e2b0>", "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7f2c0288e400>"}, "observation_filter": "MeanStdFilter", "synchronize_filters": true, "gamma": 0.99, "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "env_config": {"flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"buf_length\": 1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.1,\n            \"eta3\": 0.1,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 1.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnv\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 600,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}", "run": "PPO"}, "env": "MultiWaveAttenuationMergePOEnv-v0_[eta1, eta2, eta3]:[1.0, 0.1, 0.1]_t_min:1.0_buf_len: 1", "optimizer": {}, "num_workers": 20, "num_cpus_for_driver": 1, "lr_schedule": null, "batch_mode": "truncate_episodes"}, "time_this_iter_s": 52.952085971832275, "timesteps_since_restore": 3242779, "info": {"update_time_ms": 7.457, "num_steps_sampled": 3242779, "sample_time_ms": 34049.001, "grad_time_ms": 16313.14, "default": {"entropy": 1.359004259109497, "kl": 0.02030046656727791, "vf_loss": 27.30309295654297, "vf_explained_var": 0.8192227482795715, "policy_loss": -0.009085285477340221, "total_loss": 27.297054290771484, "cur_lr": 0.0005000000237487257, "cur_kl_coeff": 0.14999999105930328}, "num_steps_trained": 3242779, "load_time_ms": 9.174}, "time_total_s": 2423.54816532135, "num_metric_batches_dropped": 0, "timestamp": 1558308913, "episode_reward_max": 1364.7710966830437, "timesteps_this_iter": 67767, "episode_reward_min": 845.5635834935948, "date": "2019-05-19_23-35-13", "policy_reward_mean": {}, "time_since_restore": 2423.54816532135, "episodes_total": 1349, "iterations_since_restore": 48, "pid": 46880, "episodes_this_iter": 29, "episode_len_mean": 700.0, "done": false, "training_iteration": 48, "custom_metrics": {"cost2_mean": -0.07089277971898979, "outflow_rate_mean": 1103.7912600610207, "cost2_min": -0.6289920311256917, "system_level_velocity_mean": 13.007943704843726, "cost1_min": 244.5544014254146, "cost1_mean": 339.1567649811162, "cost1_max": 471.7449297610915, "outflow_rate_max": 1310.9908863405544, "system_level_velocity_max": 17.944563848360957, "outflow_rate_min": 940.0875086977323, "cost2_max": 0.0, "system_level_velocity_min": 9.759315243294175}, "node_ip": "10.138.0.2", "timesteps_total": 3242779}
{"hostname": "flow-main", "episode_reward_mean": 1013.6678984637546, "experiment_id": "383e98f8614b4235818372cc4d63f9e0", "config": {"use_gae": true, "tf_session_args": {"allow_soft_placement": true, "gpu_options": {"allow_growth": true}, "inter_op_parallelism_threads": 2, "device_count": {"CPU": 1}, "intra_op_parallelism_threads": 2, "log_device_placement": false}, "entropy_coeff": 0.0, "kl_coeff": 0.2, "num_gpus_per_worker": 0, "monitor": false, "input_evaluation": null, "clip_rewards": null, "vf_share_layers": false, "straggler_mitigation": false, "log_level": "INFO", "clip_actions": false, "simple_optimizer": false, "sample_batch_size": 750, "vf_clip_param": 1000000.0, "custom_resources_per_worker": {}, "lr": 0.0005, "num_sgd_iter": 10, "model": {"grayscale": false, "dim": 84, "custom_model": null, "free_log_std": false, "custom_options": {}, "lstm_cell_size": 256, "framestack": true, "squash_to_range": false, "conv_filters": null, "channel_major": false, "custom_preprocessor": null, "fcnet_hiddens": [128, 64, 32], "max_seq_len": 20, "lstm_use_prev_action_reward": false, "conv_activation": "relu", "use_lstm": false, "zero_mean": true, "fcnet_activation": "tanh"}, "input": "sampler", "horizon": 1500, "vf_loss_coeff": 1.0, "compress_observations": false, "num_envs_per_worker": 1, "sample_async": false, "num_gpus": 0, "output_max_file_size": 67108864, "lambda": 0.97, "multiagent": {"policy_graphs": {}, "policies_to_train": null, "policy_mapping_fn": null}, "output": null, "num_cpus_per_worker": 1, "preprocessor_pref": "deepmind", "clip_param": 0.3, "kl_target": 0.01, "output_compress_columns": ["obs", "new_obs"], "collect_metrics_timeout": 180, "sgd_minibatch_size": 128, "train_batch_size": 30000, "callbacks": {"on_sample_end": null, "on_train_result": null, "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7f2c02d02b70>", "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7f2c02d022b0>", "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7f2c02d02f98>"}, "observation_filter": "MeanStdFilter", "synchronize_filters": true, "gamma": 0.99, "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "env_config": {"flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"buf_length\": 1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.1,\n            \"eta3\": 0.1,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 1.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnv\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 600,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}", "run": "PPO"}, "env": "MultiWaveAttenuationMergePOEnv-v0_[eta1, eta2, eta3]:[1.0, 0.1, 0.1]_t_min:1.0_buf_len: 1", "optimizer": {}, "num_workers": 20, "num_cpus_for_driver": 1, "lr_schedule": null, "batch_mode": "truncate_episodes"}, "time_this_iter_s": 50.54710125923157, "timesteps_since_restore": 3309492, "info": {"update_time_ms": 7.436, "num_steps_sampled": 3309492, "sample_time_ms": 34007.906, "grad_time_ms": 16321.534, "default": {"entropy": 1.3589755296707153, "kl": 0.01563715748488903, "vf_loss": 27.57538604736328, "vf_explained_var": 0.8335736393928528, "policy_loss": -0.008426733314990997, "total_loss": 27.570476531982422, "cur_lr": 0.0005000000237487257, "cur_kl_coeff": 0.22499997913837433}, "num_steps_trained": 3309492, "load_time_ms": 9.0}, "time_total_s": 2474.0952665805817, "num_metric_batches_dropped": 0, "timestamp": 1558308964, "episode_reward_max": 1364.7710966830437, "timesteps_this_iter": 66713, "episode_reward_min": 845.5635834935948, "date": "2019-05-19_23-36-04", "policy_reward_mean": {}, "time_since_restore": 2474.0952665805817, "episodes_total": 1375, "iterations_since_restore": 49, "pid": 46880, "episodes_this_iter": 26, "episode_len_mean": 700.0, "done": false, "training_iteration": 49, "custom_metrics": {"cost2_mean": -0.06658260918703961, "outflow_rate_mean": 1106.0491809612531, "cost2_min": -0.6289920311256917, "system_level_velocity_mean": 13.028517163800686, "cost1_min": 244.5544014254146, "cost1_mean": 339.5202192581661, "cost1_max": 471.7449297610915, "outflow_rate_max": 1310.9908863405544, "system_level_velocity_max": 17.868792936407022, "outflow_rate_min": 941.4191866032766, "cost2_max": 0.0, "system_level_velocity_min": 9.759315243294175}, "node_ip": "10.138.0.2", "timesteps_total": 3309492}
{"hostname": "flow-main", "episode_reward_mean": 1018.9781169422303, "experiment_id": "383e98f8614b4235818372cc4d63f9e0", "config": {"use_gae": true, "tf_session_args": {"allow_soft_placement": true, "gpu_options": {"allow_growth": true}, "inter_op_parallelism_threads": 2, "device_count": {"CPU": 1}, "intra_op_parallelism_threads": 2, "log_device_placement": false}, "entropy_coeff": 0.0, "kl_coeff": 0.2, "num_gpus_per_worker": 0, "monitor": false, "input_evaluation": null, "clip_rewards": null, "vf_share_layers": false, "straggler_mitigation": false, "log_level": "INFO", "clip_actions": false, "simple_optimizer": false, "sample_batch_size": 750, "vf_clip_param": 1000000.0, "custom_resources_per_worker": {}, "lr": 0.0005, "num_sgd_iter": 10, "model": {"grayscale": false, "dim": 84, "custom_model": null, "free_log_std": false, "custom_options": {}, "lstm_cell_size": 256, "framestack": true, "squash_to_range": false, "conv_filters": null, "channel_major": false, "custom_preprocessor": null, "fcnet_hiddens": [128, 64, 32], "max_seq_len": 20, "lstm_use_prev_action_reward": false, "conv_activation": "relu", "use_lstm": false, "zero_mean": true, "fcnet_activation": "tanh"}, "input": "sampler", "horizon": 1500, "vf_loss_coeff": 1.0, "compress_observations": false, "num_envs_per_worker": 1, "sample_async": false, "num_gpus": 0, "output_max_file_size": 67108864, "lambda": 0.97, "multiagent": {"policy_graphs": {}, "policies_to_train": null, "policy_mapping_fn": null}, "output": null, "num_cpus_per_worker": 1, "preprocessor_pref": "deepmind", "clip_param": 0.3, "kl_target": 0.01, "output_compress_columns": ["obs", "new_obs"], "collect_metrics_timeout": 180, "sgd_minibatch_size": 128, "train_batch_size": 30000, "callbacks": {"on_sample_end": null, "on_train_result": null, "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7f2c02ce8470>", "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7f2c0288e940>", "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7f2c0288e048>"}, "observation_filter": "MeanStdFilter", "synchronize_filters": true, "gamma": 0.99, "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "env_config": {"flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"buf_length\": 1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.1,\n            \"eta3\": 0.1,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 1.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnv\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 600,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}", "run": "PPO"}, "env": "MultiWaveAttenuationMergePOEnv-v0_[eta1, eta2, eta3]:[1.0, 0.1, 0.1]_t_min:1.0_buf_len: 1", "optimizer": {}, "num_workers": 20, "num_cpus_for_driver": 1, "lr_schedule": null, "batch_mode": "truncate_episodes"}, "time_this_iter_s": 52.92172932624817, "timesteps_since_restore": 3377176, "info": {"update_time_ms": 7.472, "num_steps_sampled": 3377176, "sample_time_ms": 34257.637, "grad_time_ms": 16367.547, "default": {"entropy": 1.3657950162887573, "kl": 0.016208352521061897, "vf_loss": 24.87328338623047, "vf_explained_var": 0.8517065048217773, "policy_loss": -0.00951156485825777, "total_loss": 24.86741828918457, "cur_lr": 0.0005000000237487257, "cur_kl_coeff": 0.22499999403953552}, "num_steps_trained": 3377176, "load_time_ms": 8.951}, "time_total_s": 2527.01699590683, "num_metric_batches_dropped": 0, "timestamp": 1558309017, "episode_reward_max": 1364.7710966830437, "timesteps_this_iter": 67684, "episode_reward_min": 854.7016682410497, "date": "2019-05-19_23-36-57", "policy_reward_mean": {}, "time_since_restore": 2527.01699590683, "episodes_total": 1402, "iterations_since_restore": 50, "pid": 46880, "episodes_this_iter": 27, "episode_len_mean": 700.0, "done": false, "training_iteration": 50, "custom_metrics": {"cost2_mean": -0.0737881755451503, "outflow_rate_mean": 1100.6390248686494, "cost2_min": -0.9756293539869213, "system_level_velocity_mean": 12.89207948209189, "cost1_min": 244.5544014254146, "cost1_mean": 335.8418909283114, "cost1_max": 446.8194402184571, "outflow_rate_max": 1310.9908863405544, "system_level_velocity_max": 16.951976466096955, "outflow_rate_min": 929.5211157077279, "cost2_max": 0.0, "system_level_velocity_min": 9.712842992094075}, "node_ip": "10.138.0.2", "timesteps_total": 3377176}
{"hostname": "flow-main", "episode_reward_mean": 1007.6426586155023, "experiment_id": "383e98f8614b4235818372cc4d63f9e0", "config": {"use_gae": true, "tf_session_args": {"allow_soft_placement": true, "gpu_options": {"allow_growth": true}, "inter_op_parallelism_threads": 2, "device_count": {"CPU": 1}, "intra_op_parallelism_threads": 2, "log_device_placement": false}, "entropy_coeff": 0.0, "kl_coeff": 0.2, "num_gpus_per_worker": 0, "monitor": false, "input_evaluation": null, "clip_rewards": null, "vf_share_layers": false, "straggler_mitigation": false, "log_level": "INFO", "clip_actions": false, "simple_optimizer": false, "sample_batch_size": 750, "vf_clip_param": 1000000.0, "custom_resources_per_worker": {}, "lr": 0.0005, "num_sgd_iter": 10, "model": {"grayscale": false, "dim": 84, "custom_model": null, "free_log_std": false, "custom_options": {}, "lstm_cell_size": 256, "framestack": true, "squash_to_range": false, "conv_filters": null, "channel_major": false, "custom_preprocessor": null, "fcnet_hiddens": [128, 64, 32], "max_seq_len": 20, "lstm_use_prev_action_reward": false, "conv_activation": "relu", "use_lstm": false, "zero_mean": true, "fcnet_activation": "tanh"}, "input": "sampler", "horizon": 1500, "vf_loss_coeff": 1.0, "compress_observations": false, "num_envs_per_worker": 1, "sample_async": false, "num_gpus": 0, "output_max_file_size": 67108864, "lambda": 0.97, "multiagent": {"policy_graphs": {}, "policies_to_train": null, "policy_mapping_fn": null}, "output": null, "num_cpus_per_worker": 1, "preprocessor_pref": "deepmind", "clip_param": 0.3, "kl_target": 0.01, "output_compress_columns": ["obs", "new_obs"], "collect_metrics_timeout": 180, "sgd_minibatch_size": 128, "train_batch_size": 30000, "callbacks": {"on_sample_end": null, "on_train_result": null, "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7f2c02cec9b0>", "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7f2c02cec390>", "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7f2c02cec908>"}, "observation_filter": "MeanStdFilter", "synchronize_filters": true, "gamma": 0.99, "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "env_config": {"flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"buf_length\": 1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.1,\n            \"eta3\": 0.1,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 1.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnv\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 600,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}", "run": "PPO"}, "env": "MultiWaveAttenuationMergePOEnv-v0_[eta1, eta2, eta3]:[1.0, 0.1, 0.1]_t_min:1.0_buf_len: 1", "optimizer": {}, "num_workers": 20, "num_cpus_for_driver": 1, "lr_schedule": null, "batch_mode": "truncate_episodes"}, "time_this_iter_s": 53.229596853256226, "timesteps_since_restore": 3444902, "info": {"update_time_ms": 7.334, "num_steps_sampled": 3444902, "sample_time_ms": 34312.575, "grad_time_ms": 16583.659, "default": {"entropy": 1.3780511617660522, "kl": 0.016615672037005424, "vf_loss": 27.997268676757812, "vf_explained_var": 0.8337416052818298, "policy_loss": -0.010442925617098808, "total_loss": 27.990564346313477, "cur_lr": 0.0005000000237487257, "cur_kl_coeff": 0.22499999403953552}, "num_steps_trained": 3444902, "load_time_ms": 9.245}, "time_total_s": 2580.246592760086, "num_metric_batches_dropped": 0, "timestamp": 1558309070, "episode_reward_max": 1283.5652062554775, "timesteps_this_iter": 67726, "episode_reward_min": 55.99011669218809, "date": "2019-05-19_23-37-50", "policy_reward_mean": {}, "time_since_restore": 2580.246592760086, "episodes_total": 1433, "iterations_since_restore": 51, "pid": 46880, "episodes_this_iter": 31, "episode_len_mean": 693.3, "done": false, "training_iteration": 51, "custom_metrics": {"cost2_mean": -0.0719193215348554, "outflow_rate_mean": 1090.7333212225503, "cost2_min": -0.9756293539869213, "system_level_velocity_mean": 12.852208710359294, "cost1_min": 20.0871776574817, "cost1_mean": 330.45694073266003, "cost1_max": 449.81440564212727, "outflow_rate_max": 1305.5299444796815, "system_level_velocity_max": 17.98594062743248, "outflow_rate_min": 466.7653683418011, "cost2_max": 0.0, "system_level_velocity_min": 9.631917502664669}, "node_ip": "10.138.0.2", "timesteps_total": 3444902}
{"hostname": "flow-main", "episode_reward_mean": 1003.0555315759171, "experiment_id": "383e98f8614b4235818372cc4d63f9e0", "config": {"use_gae": true, "tf_session_args": {"allow_soft_placement": true, "gpu_options": {"allow_growth": true}, "inter_op_parallelism_threads": 2, "device_count": {"CPU": 1}, "intra_op_parallelism_threads": 2, "log_device_placement": false}, "entropy_coeff": 0.0, "kl_coeff": 0.2, "num_gpus_per_worker": 0, "monitor": false, "input_evaluation": null, "clip_rewards": null, "vf_share_layers": false, "straggler_mitigation": false, "log_level": "INFO", "clip_actions": false, "simple_optimizer": false, "sample_batch_size": 750, "vf_clip_param": 1000000.0, "custom_resources_per_worker": {}, "lr": 0.0005, "num_sgd_iter": 10, "model": {"grayscale": false, "dim": 84, "custom_model": null, "free_log_std": false, "custom_options": {}, "lstm_cell_size": 256, "framestack": true, "squash_to_range": false, "conv_filters": null, "channel_major": false, "custom_preprocessor": null, "fcnet_hiddens": [128, 64, 32], "max_seq_len": 20, "lstm_use_prev_action_reward": false, "conv_activation": "relu", "use_lstm": false, "zero_mean": true, "fcnet_activation": "tanh"}, "input": "sampler", "horizon": 1500, "vf_loss_coeff": 1.0, "compress_observations": false, "num_envs_per_worker": 1, "sample_async": false, "num_gpus": 0, "output_max_file_size": 67108864, "lambda": 0.97, "multiagent": {"policy_graphs": {}, "policies_to_train": null, "policy_mapping_fn": null}, "output": null, "num_cpus_per_worker": 1, "preprocessor_pref": "deepmind", "clip_param": 0.3, "kl_target": 0.01, "output_compress_columns": ["obs", "new_obs"], "collect_metrics_timeout": 180, "sgd_minibatch_size": 128, "train_batch_size": 30000, "callbacks": {"on_sample_end": null, "on_train_result": null, "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7f2c02ce84e0>", "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7f2c02ce8da0>", "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7f2c02ce8d30>"}, "observation_filter": "MeanStdFilter", "synchronize_filters": true, "gamma": 0.99, "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "env_config": {"flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"buf_length\": 1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.1,\n            \"eta3\": 0.1,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 1.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnv\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 600,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}", "run": "PPO"}, "env": "MultiWaveAttenuationMergePOEnv-v0_[eta1, eta2, eta3]:[1.0, 0.1, 0.1]_t_min:1.0_buf_len: 1", "optimizer": {}, "num_workers": 20, "num_cpus_for_driver": 1, "lr_schedule": null, "batch_mode": "truncate_episodes"}, "time_this_iter_s": 49.44589972496033, "timesteps_since_restore": 3511578, "info": {"update_time_ms": 7.213, "num_steps_sampled": 3511578, "sample_time_ms": 34399.735, "grad_time_ms": 16286.678, "default": {"entropy": 1.3737521171569824, "kl": 0.014467373490333557, "vf_loss": 27.613981246948242, "vf_explained_var": 0.8279780149459839, "policy_loss": -0.008871816098690033, "total_loss": 27.60836410522461, "cur_lr": 0.0005000000237487257, "cur_kl_coeff": 0.22499996423721313}, "num_steps_trained": 3511578, "load_time_ms": 9.276}, "time_total_s": 2629.6924924850464, "num_metric_batches_dropped": 0, "timestamp": 1558309119, "episode_reward_max": 1283.5652062554775, "timesteps_this_iter": 66676, "episode_reward_min": 55.99011669218809, "date": "2019-05-19_23-38-39", "policy_reward_mean": {}, "time_since_restore": 2629.6924924850464, "episodes_total": 1460, "iterations_since_restore": 52, "pid": 46880, "episodes_this_iter": 27, "episode_len_mean": 693.3, "done": false, "training_iteration": 52, "custom_metrics": {"cost2_mean": -0.07368271623734124, "outflow_rate_mean": 1086.0289177390925, "cost2_min": -0.9756293539869213, "system_level_velocity_mean": 12.787788597093037, "cost1_min": 20.0871776574817, "cost1_mean": 328.5420157182363, "cost1_max": 449.81440564212727, "outflow_rate_max": 1305.5299444796815, "system_level_velocity_max": 17.98594062743248, "outflow_rate_min": 466.7653683418011, "cost2_max": 0.0, "system_level_velocity_min": 9.430813761048661}, "node_ip": "10.138.0.2", "timesteps_total": 3511578}
{"hostname": "flow-main", "episode_reward_mean": 997.7590239812927, "experiment_id": "383e98f8614b4235818372cc4d63f9e0", "config": {"use_gae": true, "tf_session_args": {"allow_soft_placement": true, "gpu_options": {"allow_growth": true}, "inter_op_parallelism_threads": 2, "device_count": {"CPU": 1}, "intra_op_parallelism_threads": 2, "log_device_placement": false}, "entropy_coeff": 0.0, "kl_coeff": 0.2, "num_gpus_per_worker": 0, "monitor": false, "input_evaluation": null, "clip_rewards": null, "vf_share_layers": false, "straggler_mitigation": false, "log_level": "INFO", "clip_actions": false, "simple_optimizer": false, "sample_batch_size": 750, "vf_clip_param": 1000000.0, "custom_resources_per_worker": {}, "lr": 0.0005, "num_sgd_iter": 10, "model": {"grayscale": false, "dim": 84, "custom_model": null, "free_log_std": false, "custom_options": {}, "lstm_cell_size": 256, "framestack": true, "squash_to_range": false, "conv_filters": null, "channel_major": false, "custom_preprocessor": null, "fcnet_hiddens": [128, 64, 32], "max_seq_len": 20, "lstm_use_prev_action_reward": false, "conv_activation": "relu", "use_lstm": false, "zero_mean": true, "fcnet_activation": "tanh"}, "input": "sampler", "horizon": 1500, "vf_loss_coeff": 1.0, "compress_observations": false, "num_envs_per_worker": 1, "sample_async": false, "num_gpus": 0, "output_max_file_size": 67108864, "lambda": 0.97, "multiagent": {"policy_graphs": {}, "policies_to_train": null, "policy_mapping_fn": null}, "output": null, "num_cpus_per_worker": 1, "preprocessor_pref": "deepmind", "clip_param": 0.3, "kl_target": 0.01, "output_compress_columns": ["obs", "new_obs"], "collect_metrics_timeout": 180, "sgd_minibatch_size": 128, "train_batch_size": 30000, "callbacks": {"on_sample_end": null, "on_train_result": null, "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7f2c02d02048>", "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7f2c02d024a8>", "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7f2c02d02278>"}, "observation_filter": "MeanStdFilter", "synchronize_filters": true, "gamma": 0.99, "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "env_config": {"flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"buf_length\": 1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.1,\n            \"eta3\": 0.1,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 1.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnv\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 600,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}", "run": "PPO"}, "env": "MultiWaveAttenuationMergePOEnv-v0_[eta1, eta2, eta3]:[1.0, 0.1, 0.1]_t_min:1.0_buf_len: 1", "optimizer": {}, "num_workers": 20, "num_cpus_for_driver": 1, "lr_schedule": null, "batch_mode": "truncate_episodes"}, "time_this_iter_s": 50.77145481109619, "timesteps_since_restore": 3576921, "info": {"update_time_ms": 7.304, "num_steps_sampled": 3576921, "sample_time_ms": 34441.672, "grad_time_ms": 16451.534, "default": {"entropy": 1.3595740795135498, "kl": 0.01681569218635559, "vf_loss": 29.108905792236328, "vf_explained_var": 0.8211403489112854, "policy_loss": -0.010645437985658646, "total_loss": 29.1020450592041, "cur_lr": 0.0005000000237487257, "cur_kl_coeff": 0.22499996423721313}, "num_steps_trained": 3576921, "load_time_ms": 9.336}, "time_total_s": 2680.4639472961426, "num_metric_batches_dropped": 0, "timestamp": 1558309170, "episode_reward_max": 1283.5652062554775, "timesteps_this_iter": 65343, "episode_reward_min": 55.99011669218809, "date": "2019-05-19_23-39-30", "policy_reward_mean": {}, "time_since_restore": 2680.4639472961426, "episodes_total": 1488, "iterations_since_restore": 53, "pid": 46880, "episodes_this_iter": 28, "episode_len_mean": 693.3, "done": false, "training_iteration": 53, "custom_metrics": {"cost2_mean": -0.077693384233566, "outflow_rate_mean": 1084.4797431531754, "cost2_min": -0.4686220852512889, "system_level_velocity_mean": 12.749855810946688, "cost1_min": 20.0871776574817, "cost1_mean": 327.73804403148574, "cost1_max": 449.81440564212727, "outflow_rate_max": 1297.8671847469302, "system_level_velocity_max": 17.98594062743248, "outflow_rate_min": 466.7653683418011, "cost2_max": 0.0, "system_level_velocity_min": 9.430813761048661}, "node_ip": "10.138.0.2", "timesteps_total": 3576921}
{"hostname": "flow-main", "episode_reward_mean": 997.2373592229039, "experiment_id": "383e98f8614b4235818372cc4d63f9e0", "config": {"use_gae": true, "tf_session_args": {"allow_soft_placement": true, "gpu_options": {"allow_growth": true}, "inter_op_parallelism_threads": 2, "device_count": {"CPU": 1}, "intra_op_parallelism_threads": 2, "log_device_placement": false}, "entropy_coeff": 0.0, "kl_coeff": 0.2, "num_gpus_per_worker": 0, "monitor": false, "input_evaluation": null, "clip_rewards": null, "vf_share_layers": false, "straggler_mitigation": false, "log_level": "INFO", "clip_actions": false, "simple_optimizer": false, "sample_batch_size": 750, "vf_clip_param": 1000000.0, "custom_resources_per_worker": {}, "lr": 0.0005, "num_sgd_iter": 10, "model": {"grayscale": false, "dim": 84, "custom_model": null, "free_log_std": false, "custom_options": {}, "lstm_cell_size": 256, "framestack": true, "squash_to_range": false, "conv_filters": null, "channel_major": false, "custom_preprocessor": null, "fcnet_hiddens": [128, 64, 32], "max_seq_len": 20, "lstm_use_prev_action_reward": false, "conv_activation": "relu", "use_lstm": false, "zero_mean": true, "fcnet_activation": "tanh"}, "input": "sampler", "horizon": 1500, "vf_loss_coeff": 1.0, "compress_observations": false, "num_envs_per_worker": 1, "sample_async": false, "num_gpus": 0, "output_max_file_size": 67108864, "lambda": 0.97, "multiagent": {"policy_graphs": {}, "policies_to_train": null, "policy_mapping_fn": null}, "output": null, "num_cpus_per_worker": 1, "preprocessor_pref": "deepmind", "clip_param": 0.3, "kl_target": 0.01, "output_compress_columns": ["obs", "new_obs"], "collect_metrics_timeout": 180, "sgd_minibatch_size": 128, "train_batch_size": 30000, "callbacks": {"on_sample_end": null, "on_train_result": null, "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7f2c02cec4a8>", "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7f2c02cf5940>", "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7f2c02cece80>"}, "observation_filter": "MeanStdFilter", "synchronize_filters": true, "gamma": 0.99, "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "env_config": {"flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"buf_length\": 1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.1,\n            \"eta3\": 0.1,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 1.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnv\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 600,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}", "run": "PPO"}, "env": "MultiWaveAttenuationMergePOEnv-v0_[eta1, eta2, eta3]:[1.0, 0.1, 0.1]_t_min:1.0_buf_len: 1", "optimizer": {}, "num_workers": 20, "num_cpus_for_driver": 1, "lr_schedule": null, "batch_mode": "truncate_episodes"}, "time_this_iter_s": 51.07295370101929, "timesteps_since_restore": 3643100, "info": {"update_time_ms": 7.299, "num_steps_sampled": 3643100, "sample_time_ms": 34405.835, "grad_time_ms": 16604.355, "default": {"entropy": 1.369138240814209, "kl": 0.016321873292326927, "vf_loss": 24.552310943603516, "vf_explained_var": 0.8466681241989136, "policy_loss": -0.010512092150747776, "total_loss": 24.54547119140625, "cur_lr": 0.0005000000237487257, "cur_kl_coeff": 0.22499997913837433}, "num_steps_trained": 3643100, "load_time_ms": 9.316}, "time_total_s": 2731.536900997162, "num_metric_batches_dropped": 0, "timestamp": 1558309221, "episode_reward_max": 1212.61337887238, "timesteps_this_iter": 66179, "episode_reward_min": 55.99011669218809, "date": "2019-05-19_23-40-21", "policy_reward_mean": {}, "time_since_restore": 2731.536900997162, "episodes_total": 1514, "iterations_since_restore": 54, "pid": 46880, "episodes_this_iter": 26, "episode_len_mean": 693.3, "done": false, "training_iteration": 54, "custom_metrics": {"cost2_mean": -0.09440920545288226, "outflow_rate_mean": 1084.2647795212295, "cost2_min": -0.8267705139148531, "system_level_velocity_mean": 12.773766903544228, "cost1_min": 20.0871776574817, "cost1_mean": 328.2974537663572, "cost1_max": 449.81440564212727, "outflow_rate_max": 1297.8671847469302, "system_level_velocity_max": 17.98594062743248, "outflow_rate_min": 466.7653683418011, "cost2_max": 0.0, "system_level_velocity_min": 9.128405928499024}, "node_ip": "10.138.0.2", "timesteps_total": 3643100}
{"hostname": "flow-main", "episode_reward_mean": 1002.6384283001629, "experiment_id": "383e98f8614b4235818372cc4d63f9e0", "config": {"use_gae": true, "tf_session_args": {"allow_soft_placement": true, "gpu_options": {"allow_growth": true}, "inter_op_parallelism_threads": 2, "device_count": {"CPU": 1}, "intra_op_parallelism_threads": 2, "log_device_placement": false}, "entropy_coeff": 0.0, "kl_coeff": 0.2, "num_gpus_per_worker": 0, "monitor": false, "input_evaluation": null, "clip_rewards": null, "vf_share_layers": false, "straggler_mitigation": false, "log_level": "INFO", "clip_actions": false, "simple_optimizer": false, "sample_batch_size": 750, "vf_clip_param": 1000000.0, "custom_resources_per_worker": {}, "lr": 0.0005, "num_sgd_iter": 10, "model": {"grayscale": false, "dim": 84, "custom_model": null, "free_log_std": false, "custom_options": {}, "lstm_cell_size": 256, "framestack": true, "squash_to_range": false, "conv_filters": null, "channel_major": false, "custom_preprocessor": null, "fcnet_hiddens": [128, 64, 32], "max_seq_len": 20, "lstm_use_prev_action_reward": false, "conv_activation": "relu", "use_lstm": false, "zero_mean": true, "fcnet_activation": "tanh"}, "input": "sampler", "horizon": 1500, "vf_loss_coeff": 1.0, "compress_observations": false, "num_envs_per_worker": 1, "sample_async": false, "num_gpus": 0, "output_max_file_size": 67108864, "lambda": 0.97, "multiagent": {"policy_graphs": {}, "policies_to_train": null, "policy_mapping_fn": null}, "output": null, "num_cpus_per_worker": 1, "preprocessor_pref": "deepmind", "clip_param": 0.3, "kl_target": 0.01, "output_compress_columns": ["obs", "new_obs"], "collect_metrics_timeout": 180, "sgd_minibatch_size": 128, "train_batch_size": 30000, "callbacks": {"on_sample_end": null, "on_train_result": null, "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7f2c02898978>", "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7f2c02898630>", "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7f2c02898400>"}, "observation_filter": "MeanStdFilter", "synchronize_filters": true, "gamma": 0.99, "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "env_config": {"flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"buf_length\": 1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.1,\n            \"eta3\": 0.1,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 1.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnv\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 600,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}", "run": "PPO"}, "env": "MultiWaveAttenuationMergePOEnv-v0_[eta1, eta2, eta3]:[1.0, 0.1, 0.1]_t_min:1.0_buf_len: 1", "optimizer": {}, "num_workers": 20, "num_cpus_for_driver": 1, "lr_schedule": null, "batch_mode": "truncate_episodes"}, "time_this_iter_s": 51.270548582077026, "timesteps_since_restore": 3710935, "info": {"update_time_ms": 7.722, "num_steps_sampled": 3710935, "sample_time_ms": 34465.087, "grad_time_ms": 16569.133, "default": {"entropy": 1.3780707120895386, "kl": 0.014858592301607132, "vf_loss": 26.73771095275879, "vf_explained_var": 0.8314396142959595, "policy_loss": -0.008317438885569572, "total_loss": 26.732736587524414, "cur_lr": 0.0005000000237487257, "cur_kl_coeff": 0.22499999403953552}, "num_steps_trained": 3710935, "load_time_ms": 9.272}, "time_total_s": 2782.807449579239, "num_metric_batches_dropped": 0, "timestamp": 1558309273, "episode_reward_max": 1197.1638975625053, "timesteps_this_iter": 67835, "episode_reward_min": 832.8088079299822, "date": "2019-05-19_23-41-13", "policy_reward_mean": {}, "time_since_restore": 2782.807449579239, "episodes_total": 1542, "iterations_since_restore": 55, "pid": 46880, "episodes_this_iter": 28, "episode_len_mean": 700.0, "done": false, "training_iteration": 55, "custom_metrics": {"cost2_mean": -0.08380464833880258, "outflow_rate_mean": 1086.3197754530008, "cost2_min": -0.8267705139148531, "system_level_velocity_mean": 12.634954258749767, "cost1_min": 235.91296884935014, "cost1_mean": 328.89345623991, "cost1_max": 436.549342124699, "outflow_rate_max": 1286.3033218845246, "system_level_velocity_max": 16.57060007296738, "outflow_rate_min": 917.0135974177508, "cost2_max": 0.0, "system_level_velocity_min": 9.128405928499024}, "node_ip": "10.138.0.2", "timesteps_total": 3710935}
{"hostname": "flow-main", "episode_reward_mean": 997.9432820957024, "experiment_id": "383e98f8614b4235818372cc4d63f9e0", "config": {"use_gae": true, "tf_session_args": {"allow_soft_placement": true, "gpu_options": {"allow_growth": true}, "inter_op_parallelism_threads": 2, "device_count": {"CPU": 1}, "intra_op_parallelism_threads": 2, "log_device_placement": false}, "entropy_coeff": 0.0, "kl_coeff": 0.2, "num_gpus_per_worker": 0, "monitor": false, "input_evaluation": null, "clip_rewards": null, "vf_share_layers": false, "straggler_mitigation": false, "log_level": "INFO", "clip_actions": false, "simple_optimizer": false, "sample_batch_size": 750, "vf_clip_param": 1000000.0, "custom_resources_per_worker": {}, "lr": 0.0005, "num_sgd_iter": 10, "model": {"grayscale": false, "dim": 84, "custom_model": null, "free_log_std": false, "custom_options": {}, "lstm_cell_size": 256, "framestack": true, "squash_to_range": false, "conv_filters": null, "channel_major": false, "custom_preprocessor": null, "fcnet_hiddens": [128, 64, 32], "max_seq_len": 20, "lstm_use_prev_action_reward": false, "conv_activation": "relu", "use_lstm": false, "zero_mean": true, "fcnet_activation": "tanh"}, "input": "sampler", "horizon": 1500, "vf_loss_coeff": 1.0, "compress_observations": false, "num_envs_per_worker": 1, "sample_async": false, "num_gpus": 0, "output_max_file_size": 67108864, "lambda": 0.97, "multiagent": {"policy_graphs": {}, "policies_to_train": null, "policy_mapping_fn": null}, "output": null, "num_cpus_per_worker": 1, "preprocessor_pref": "deepmind", "clip_param": 0.3, "kl_target": 0.01, "output_compress_columns": ["obs", "new_obs"], "collect_metrics_timeout": 180, "sgd_minibatch_size": 128, "train_batch_size": 30000, "callbacks": {"on_sample_end": null, "on_train_result": null, "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7f2c02898828>", "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7f2c02898668>", "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7f2c02898d68>"}, "observation_filter": "MeanStdFilter", "synchronize_filters": true, "gamma": 0.99, "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "env_config": {"flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"buf_length\": 1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.1,\n            \"eta3\": 0.1,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 1.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnv\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 600,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}", "run": "PPO"}, "env": "MultiWaveAttenuationMergePOEnv-v0_[eta1, eta2, eta3]:[1.0, 0.1, 0.1]_t_min:1.0_buf_len: 1", "optimizer": {}, "num_workers": 20, "num_cpus_for_driver": 1, "lr_schedule": null, "batch_mode": "truncate_episodes"}, "time_this_iter_s": 52.43396043777466, "timesteps_since_restore": 3776881, "info": {"update_time_ms": 7.681, "num_steps_sampled": 3776881, "sample_time_ms": 34543.491, "grad_time_ms": 16789.266, "default": {"entropy": 1.3740324974060059, "kl": 0.015519634820520878, "vf_loss": 32.8763313293457, "vf_explained_var": 0.8121514916419983, "policy_loss": -0.009309787303209305, "total_loss": 32.870513916015625, "cur_lr": 0.0005000000237487257, "cur_kl_coeff": 0.22499996423721313}, "num_steps_trained": 3776881, "load_time_ms": 9.123}, "time_total_s": 2835.2414100170135, "num_metric_batches_dropped": 0, "timestamp": 1558309325, "episode_reward_max": 1304.3413734020985, "timesteps_this_iter": 65946, "episode_reward_min": 78.59564686725548, "date": "2019-05-19_23-42-05", "policy_reward_mean": {}, "time_since_restore": 2835.2414100170135, "episodes_total": 1573, "iterations_since_restore": 56, "pid": 46880, "episodes_this_iter": 31, "episode_len_mean": 693.5, "done": false, "training_iteration": 56, "custom_metrics": {"cost2_mean": -0.09495927317125054, "outflow_rate_mean": 1084.464449841011, "cost2_min": -0.8267705139148531, "system_level_velocity_mean": 12.79633141136779, "cost1_min": 33.516922725916984, "cost1_mean": 328.34058140814886, "cost1_max": 450.01539256124033, "outflow_rate_max": 1299.25854949454, "system_level_velocity_max": 19.13837961064964, "outflow_rate_min": 552.1986287369375, "cost2_max": 0.0, "system_level_velocity_min": 9.128405928499024}, "node_ip": "10.138.0.2", "timesteps_total": 3776881}
{"hostname": "flow-main", "episode_reward_mean": 980.737288305392, "experiment_id": "383e98f8614b4235818372cc4d63f9e0", "config": {"use_gae": true, "tf_session_args": {"allow_soft_placement": true, "gpu_options": {"allow_growth": true}, "inter_op_parallelism_threads": 2, "device_count": {"CPU": 1}, "intra_op_parallelism_threads": 2, "log_device_placement": false}, "entropy_coeff": 0.0, "kl_coeff": 0.2, "num_gpus_per_worker": 0, "monitor": false, "input_evaluation": null, "clip_rewards": null, "vf_share_layers": false, "straggler_mitigation": false, "log_level": "INFO", "clip_actions": false, "simple_optimizer": false, "sample_batch_size": 750, "vf_clip_param": 1000000.0, "custom_resources_per_worker": {}, "lr": 0.0005, "num_sgd_iter": 10, "model": {"grayscale": false, "dim": 84, "custom_model": null, "free_log_std": false, "custom_options": {}, "lstm_cell_size": 256, "framestack": true, "squash_to_range": false, "conv_filters": null, "channel_major": false, "custom_preprocessor": null, "fcnet_hiddens": [128, 64, 32], "max_seq_len": 20, "lstm_use_prev_action_reward": false, "conv_activation": "relu", "use_lstm": false, "zero_mean": true, "fcnet_activation": "tanh"}, "input": "sampler", "horizon": 1500, "vf_loss_coeff": 1.0, "compress_observations": false, "num_envs_per_worker": 1, "sample_async": false, "num_gpus": 0, "output_max_file_size": 67108864, "lambda": 0.97, "multiagent": {"policy_graphs": {}, "policies_to_train": null, "policy_mapping_fn": null}, "output": null, "num_cpus_per_worker": 1, "preprocessor_pref": "deepmind", "clip_param": 0.3, "kl_target": 0.01, "output_compress_columns": ["obs", "new_obs"], "collect_metrics_timeout": 180, "sgd_minibatch_size": 128, "train_batch_size": 30000, "callbacks": {"on_sample_end": null, "on_train_result": null, "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7f2c02cec080>", "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7f2c02cec908>", "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7f2c02cec6d8>"}, "observation_filter": "MeanStdFilter", "synchronize_filters": true, "gamma": 0.99, "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "env_config": {"flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"buf_length\": 1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.1,\n            \"eta3\": 0.1,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 1.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnv\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 600,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}", "run": "PPO"}, "env": "MultiWaveAttenuationMergePOEnv-v0_[eta1, eta2, eta3]:[1.0, 0.1, 0.1]_t_min:1.0_buf_len: 1", "optimizer": {}, "num_workers": 20, "num_cpus_for_driver": 1, "lr_schedule": null, "batch_mode": "truncate_episodes"}, "time_this_iter_s": 49.585899353027344, "timesteps_since_restore": 3841946, "info": {"update_time_ms": 7.745, "num_steps_sampled": 3841946, "sample_time_ms": 34578.354, "grad_time_ms": 16717.361, "default": {"entropy": 1.378212809562683, "kl": 0.01777583919465542, "vf_loss": 30.49578094482422, "vf_explained_var": 0.8410876989364624, "policy_loss": -0.010506353341042995, "total_loss": 30.489273071289062, "cur_lr": 0.0005000000237487257, "cur_kl_coeff": 0.22499997913837433}, "num_steps_trained": 3841946, "load_time_ms": 9.531}, "time_total_s": 2884.827309370041, "num_metric_batches_dropped": 0, "timestamp": 1558309375, "episode_reward_max": 1304.3413734020985, "timesteps_this_iter": 65065, "episode_reward_min": 57.931170853005746, "date": "2019-05-19_23-42-55", "policy_reward_mean": {}, "time_since_restore": 2884.827309370041, "episodes_total": 1602, "iterations_since_restore": 57, "pid": 46880, "episodes_this_iter": 29, "episode_len_mean": 680.31, "done": false, "training_iteration": 57, "custom_metrics": {"cost2_mean": -0.08248638721480289, "outflow_rate_mean": 1078.5523589977652, "cost2_min": -0.5959948527043485, "system_level_velocity_mean": 12.975437453114022, "cost1_min": 25.42081417558405, "cost1_mean": 323.8956752016301, "cost1_max": 463.22127034395737, "outflow_rate_max": 1324.6673528739816, "system_level_velocity_max": 19.13837961064964, "outflow_rate_min": 521.1008894014334, "cost2_max": 0.0, "system_level_velocity_min": 8.954154933375033}, "node_ip": "10.138.0.2", "timesteps_total": 3841946}
{"hostname": "flow-main", "episode_reward_mean": 982.9736521891813, "experiment_id": "383e98f8614b4235818372cc4d63f9e0", "config": {"use_gae": true, "tf_session_args": {"allow_soft_placement": true, "gpu_options": {"allow_growth": true}, "inter_op_parallelism_threads": 2, "device_count": {"CPU": 1}, "intra_op_parallelism_threads": 2, "log_device_placement": false}, "entropy_coeff": 0.0, "kl_coeff": 0.2, "num_gpus_per_worker": 0, "monitor": false, "input_evaluation": null, "clip_rewards": null, "vf_share_layers": false, "straggler_mitigation": false, "log_level": "INFO", "clip_actions": false, "simple_optimizer": false, "sample_batch_size": 750, "vf_clip_param": 1000000.0, "custom_resources_per_worker": {}, "lr": 0.0005, "num_sgd_iter": 10, "model": {"grayscale": false, "dim": 84, "custom_model": null, "free_log_std": false, "custom_options": {}, "lstm_cell_size": 256, "framestack": true, "squash_to_range": false, "conv_filters": null, "channel_major": false, "custom_preprocessor": null, "fcnet_hiddens": [128, 64, 32], "max_seq_len": 20, "lstm_use_prev_action_reward": false, "conv_activation": "relu", "use_lstm": false, "zero_mean": true, "fcnet_activation": "tanh"}, "input": "sampler", "horizon": 1500, "vf_loss_coeff": 1.0, "compress_observations": false, "num_envs_per_worker": 1, "sample_async": false, "num_gpus": 0, "output_max_file_size": 67108864, "lambda": 0.97, "multiagent": {"policy_graphs": {}, "policies_to_train": null, "policy_mapping_fn": null}, "output": null, "num_cpus_per_worker": 1, "preprocessor_pref": "deepmind", "clip_param": 0.3, "kl_target": 0.01, "output_compress_columns": ["obs", "new_obs"], "collect_metrics_timeout": 180, "sgd_minibatch_size": 128, "train_batch_size": 30000, "callbacks": {"on_sample_end": null, "on_train_result": null, "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7f2c02ce8d30>", "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7f2c02cfe320>", "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7f2c02cfeba8>"}, "observation_filter": "MeanStdFilter", "synchronize_filters": true, "gamma": 0.99, "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "env_config": {"flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"buf_length\": 1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.1,\n            \"eta3\": 0.1,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 1.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnv\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 600,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}", "run": "PPO"}, "env": "MultiWaveAttenuationMergePOEnv-v0_[eta1, eta2, eta3]:[1.0, 0.1, 0.1]_t_min:1.0_buf_len: 1", "optimizer": {}, "num_workers": 20, "num_cpus_for_driver": 1, "lr_schedule": null, "batch_mode": "truncate_episodes"}, "time_this_iter_s": 52.569156885147095, "timesteps_since_restore": 3909542, "info": {"update_time_ms": 7.881, "num_steps_sampled": 3909542, "sample_time_ms": 34594.572, "grad_time_ms": 16662.031, "default": {"entropy": 1.3898166418075562, "kl": 0.01671522669494152, "vf_loss": 27.60107421875, "vf_explained_var": 0.8287559151649475, "policy_loss": -0.009095747023820877, "total_loss": 27.595739364624023, "cur_lr": 0.0005000000237487257, "cur_kl_coeff": 0.22499999403953552}, "num_steps_trained": 3909542, "load_time_ms": 9.63}, "time_total_s": 2937.396466255188, "num_metric_batches_dropped": 0, "timestamp": 1558309427, "episode_reward_max": 1304.3413734020985, "timesteps_this_iter": 67596, "episode_reward_min": 57.931170853005746, "date": "2019-05-19_23-43-47", "policy_reward_mean": {}, "time_since_restore": 2937.396466255188, "episodes_total": 1630, "iterations_since_restore": 58, "pid": 46880, "episodes_this_iter": 28, "episode_len_mean": 680.01, "done": false, "training_iteration": 58, "custom_metrics": {"cost2_mean": -0.10319333405241794, "outflow_rate_mean": 1085.6762309940839, "cost2_min": -0.7148586479744934, "system_level_velocity_mean": 13.124895300056997, "cost1_min": 25.42081417558405, "cost1_mean": 327.79515422623956, "cost1_max": 463.22127034395737, "outflow_rate_max": 1324.6673528739816, "system_level_velocity_max": 19.13837961064964, "outflow_rate_min": 521.1008894014334, "cost2_max": 0.0, "system_level_velocity_min": 8.954154933375033}, "node_ip": "10.138.0.2", "timesteps_total": 3909542}
{"hostname": "flow-main", "episode_reward_mean": 981.3557167598487, "experiment_id": "383e98f8614b4235818372cc4d63f9e0", "config": {"use_gae": true, "tf_session_args": {"allow_soft_placement": true, "gpu_options": {"allow_growth": true}, "inter_op_parallelism_threads": 2, "device_count": {"CPU": 1}, "intra_op_parallelism_threads": 2, "log_device_placement": false}, "entropy_coeff": 0.0, "kl_coeff": 0.2, "num_gpus_per_worker": 0, "monitor": false, "input_evaluation": null, "clip_rewards": null, "vf_share_layers": false, "straggler_mitigation": false, "log_level": "INFO", "clip_actions": false, "simple_optimizer": false, "sample_batch_size": 750, "vf_clip_param": 1000000.0, "custom_resources_per_worker": {}, "lr": 0.0005, "num_sgd_iter": 10, "model": {"grayscale": false, "dim": 84, "custom_model": null, "free_log_std": false, "custom_options": {}, "lstm_cell_size": 256, "framestack": true, "squash_to_range": false, "conv_filters": null, "channel_major": false, "custom_preprocessor": null, "fcnet_hiddens": [128, 64, 32], "max_seq_len": 20, "lstm_use_prev_action_reward": false, "conv_activation": "relu", "use_lstm": false, "zero_mean": true, "fcnet_activation": "tanh"}, "input": "sampler", "horizon": 1500, "vf_loss_coeff": 1.0, "compress_observations": false, "num_envs_per_worker": 1, "sample_async": false, "num_gpus": 0, "output_max_file_size": 67108864, "lambda": 0.97, "multiagent": {"policy_graphs": {}, "policies_to_train": null, "policy_mapping_fn": null}, "output": null, "num_cpus_per_worker": 1, "preprocessor_pref": "deepmind", "clip_param": 0.3, "kl_target": 0.01, "output_compress_columns": ["obs", "new_obs"], "collect_metrics_timeout": 180, "sgd_minibatch_size": 128, "train_batch_size": 30000, "callbacks": {"on_sample_end": null, "on_train_result": null, "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7f2c02d02780>", "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7f2c02d02ac8>", "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7f2c02d02358>"}, "observation_filter": "MeanStdFilter", "synchronize_filters": true, "gamma": 0.99, "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "env_config": {"flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"buf_length\": 1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.1,\n            \"eta3\": 0.1,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 1.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnv\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 600,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}", "run": "PPO"}, "env": "MultiWaveAttenuationMergePOEnv-v0_[eta1, eta2, eta3]:[1.0, 0.1, 0.1]_t_min:1.0_buf_len: 1", "optimizer": {}, "num_workers": 20, "num_cpus_for_driver": 1, "lr_schedule": null, "batch_mode": "truncate_episodes"}, "time_this_iter_s": 51.393878698349, "timesteps_since_restore": 3974630, "info": {"update_time_ms": 7.855, "num_steps_sampled": 3974630, "sample_time_ms": 34568.764, "grad_time_ms": 16773.212, "default": {"entropy": 1.3685927391052246, "kl": 0.016591666266322136, "vf_loss": 29.613561630249023, "vf_explained_var": 0.845831573009491, "policy_loss": -0.010698468424379826, "total_loss": 29.606599807739258, "cur_lr": 0.0005000000237487257, "cur_kl_coeff": 0.22499997913837433}, "num_steps_trained": 3974630, "load_time_ms": 9.869}, "time_total_s": 2988.790344953537, "num_metric_batches_dropped": 0, "timestamp": 1558309479, "episode_reward_max": 1304.3413734020985, "timesteps_this_iter": 65088, "episode_reward_min": 24.969096069367446, "date": "2019-05-19_23-44-39", "policy_reward_mean": {}, "time_since_restore": 2988.790344953537, "episodes_total": 1658, "iterations_since_restore": 59, "pid": 46880, "episodes_this_iter": 28, "episode_len_mean": 679.7, "done": false, "training_iteration": 59, "custom_metrics": {"cost2_mean": -0.09670251449861152, "outflow_rate_mean": 1086.4431809372102, "cost2_min": -0.7148586479744934, "system_level_velocity_mean": 13.098443286274712, "cost1_min": 12.06676778575482, "cost1_mean": 327.73734717734516, "cost1_max": 479.5962067793677, "outflow_rate_max": 1327.6017848913382, "system_level_velocity_max": 18.473429341753388, "outflow_rate_min": 467.7500288525429, "cost2_max": 0.0, "system_level_velocity_min": 8.954154933375033}, "node_ip": "10.138.0.2", "timesteps_total": 3974630}
{"hostname": "flow-main", "episode_reward_mean": 982.4372988737571, "experiment_id": "383e98f8614b4235818372cc4d63f9e0", "config": {"use_gae": true, "tf_session_args": {"allow_soft_placement": true, "gpu_options": {"allow_growth": true}, "inter_op_parallelism_threads": 2, "device_count": {"CPU": 1}, "intra_op_parallelism_threads": 2, "log_device_placement": false}, "entropy_coeff": 0.0, "kl_coeff": 0.2, "num_gpus_per_worker": 0, "monitor": false, "input_evaluation": null, "clip_rewards": null, "vf_share_layers": false, "straggler_mitigation": false, "log_level": "INFO", "clip_actions": false, "simple_optimizer": false, "sample_batch_size": 750, "vf_clip_param": 1000000.0, "custom_resources_per_worker": {}, "lr": 0.0005, "num_sgd_iter": 10, "model": {"grayscale": false, "dim": 84, "custom_model": null, "free_log_std": false, "custom_options": {}, "lstm_cell_size": 256, "framestack": true, "squash_to_range": false, "conv_filters": null, "channel_major": false, "custom_preprocessor": null, "fcnet_hiddens": [128, 64, 32], "max_seq_len": 20, "lstm_use_prev_action_reward": false, "conv_activation": "relu", "use_lstm": false, "zero_mean": true, "fcnet_activation": "tanh"}, "input": "sampler", "horizon": 1500, "vf_loss_coeff": 1.0, "compress_observations": false, "num_envs_per_worker": 1, "sample_async": false, "num_gpus": 0, "output_max_file_size": 67108864, "lambda": 0.97, "multiagent": {"policy_graphs": {}, "policies_to_train": null, "policy_mapping_fn": null}, "output": null, "num_cpus_per_worker": 1, "preprocessor_pref": "deepmind", "clip_param": 0.3, "kl_target": 0.01, "output_compress_columns": ["obs", "new_obs"], "collect_metrics_timeout": 180, "sgd_minibatch_size": 128, "train_batch_size": 30000, "callbacks": {"on_sample_end": null, "on_train_result": null, "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7f2c02cec240>", "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7f2c02ce8a20>", "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7f2c02cecbe0>"}, "observation_filter": "MeanStdFilter", "synchronize_filters": true, "gamma": 0.99, "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "env_config": {"flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"buf_length\": 1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.1,\n            \"eta3\": 0.1,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 1.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnv\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 600,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}", "run": "PPO"}, "env": "MultiWaveAttenuationMergePOEnv-v0_[eta1, eta2, eta3]:[1.0, 0.1, 0.1]_t_min:1.0_buf_len: 1", "optimizer": {}, "num_workers": 20, "num_cpus_for_driver": 1, "lr_schedule": null, "batch_mode": "truncate_episodes"}, "time_this_iter_s": 51.552544832229614, "timesteps_since_restore": 4041553, "info": {"update_time_ms": 8.049, "num_steps_sampled": 4041553, "sample_time_ms": 34566.496, "grad_time_ms": 16634.936, "default": {"entropy": 1.3855060338974, "kl": 0.01594962179660797, "vf_loss": 28.402111053466797, "vf_explained_var": 0.8256180286407471, "policy_loss": -0.009252944961190224, "total_loss": 28.396446228027344, "cur_lr": 0.0005000000237487257, "cur_kl_coeff": 0.22499997913837433}, "num_steps_trained": 4041553, "load_time_ms": 10.001}, "time_total_s": 3040.3428897857666, "num_metric_batches_dropped": 0, "timestamp": 1558309530, "episode_reward_max": 1285.453604223618, "timesteps_this_iter": 66923, "episode_reward_min": 24.969096069367446, "date": "2019-05-19_23-45-30", "policy_reward_mean": {}, "time_since_restore": 3040.3428897857666, "episodes_total": 1686, "iterations_since_restore": 60, "pid": 46880, "episodes_this_iter": 28, "episode_len_mean": 679.7, "done": false, "training_iteration": 60, "custom_metrics": {"cost2_mean": -0.08508168258665952, "outflow_rate_mean": 1087.1191632416276, "cost2_min": -0.7148586479744934, "system_level_velocity_mean": 13.095605239048247, "cost1_min": 12.06676778575482, "cost1_mean": 327.69571333158876, "cost1_max": 479.5962067793677, "outflow_rate_max": 1327.6017848913382, "system_level_velocity_max": 18.473429341753388, "outflow_rate_min": 467.7500288525429, "cost2_max": 0.0, "system_level_velocity_min": 9.056540627531906}, "node_ip": "10.138.0.2", "timesteps_total": 4041553}
{"hostname": "flow-main", "episode_reward_mean": 987.981419101548, "experiment_id": "383e98f8614b4235818372cc4d63f9e0", "config": {"use_gae": true, "tf_session_args": {"allow_soft_placement": true, "gpu_options": {"allow_growth": true}, "inter_op_parallelism_threads": 2, "device_count": {"CPU": 1}, "intra_op_parallelism_threads": 2, "log_device_placement": false}, "entropy_coeff": 0.0, "kl_coeff": 0.2, "num_gpus_per_worker": 0, "monitor": false, "input_evaluation": null, "clip_rewards": null, "vf_share_layers": false, "straggler_mitigation": false, "log_level": "INFO", "clip_actions": false, "simple_optimizer": false, "sample_batch_size": 750, "vf_clip_param": 1000000.0, "custom_resources_per_worker": {}, "lr": 0.0005, "num_sgd_iter": 10, "model": {"grayscale": false, "dim": 84, "custom_model": null, "free_log_std": false, "custom_options": {}, "lstm_cell_size": 256, "framestack": true, "squash_to_range": false, "conv_filters": null, "channel_major": false, "custom_preprocessor": null, "fcnet_hiddens": [128, 64, 32], "max_seq_len": 20, "lstm_use_prev_action_reward": false, "conv_activation": "relu", "use_lstm": false, "zero_mean": true, "fcnet_activation": "tanh"}, "input": "sampler", "horizon": 1500, "vf_loss_coeff": 1.0, "compress_observations": false, "num_envs_per_worker": 1, "sample_async": false, "num_gpus": 0, "output_max_file_size": 67108864, "lambda": 0.97, "multiagent": {"policy_graphs": {}, "policies_to_train": null, "policy_mapping_fn": null}, "output": null, "num_cpus_per_worker": 1, "preprocessor_pref": "deepmind", "clip_param": 0.3, "kl_target": 0.01, "output_compress_columns": ["obs", "new_obs"], "collect_metrics_timeout": 180, "sgd_minibatch_size": 128, "train_batch_size": 30000, "callbacks": {"on_sample_end": null, "on_train_result": null, "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7f2c02d02390>", "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7f2c02d02d68>", "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7f2c02d1cb00>"}, "observation_filter": "MeanStdFilter", "synchronize_filters": true, "gamma": 0.99, "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "env_config": {"flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"buf_length\": 1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.1,\n            \"eta3\": 0.1,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 1.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnv\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 600,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}", "run": "PPO"}, "env": "MultiWaveAttenuationMergePOEnv-v0_[eta1, eta2, eta3]:[1.0, 0.1, 0.1]_t_min:1.0_buf_len: 1", "optimizer": {}, "num_workers": 20, "num_cpus_for_driver": 1, "lr_schedule": null, "batch_mode": "truncate_episodes"}, "time_this_iter_s": 55.039578914642334, "timesteps_since_restore": 4109422, "info": {"update_time_ms": 8.59, "num_steps_sampled": 4109422, "sample_time_ms": 34700.816, "grad_time_ms": 16679.02, "default": {"entropy": 1.3931020498275757, "kl": 0.016854679211974144, "vf_loss": 28.776470184326172, "vf_explained_var": 0.8278109431266785, "policy_loss": -0.009938732720911503, "total_loss": 28.770322799682617, "cur_lr": 0.0005000000237487257, "cur_kl_coeff": 0.22499999403953552}, "num_steps_trained": 4109422, "load_time_ms": 10.046}, "time_total_s": 3095.382468700409, "num_metric_batches_dropped": 0, "timestamp": 1558309586, "episode_reward_max": 1285.453604223618, "timesteps_this_iter": 67869, "episode_reward_min": 24.969096069367446, "date": "2019-05-19_23-46-26", "policy_reward_mean": {}, "time_since_restore": 3095.382468700409, "episodes_total": 1716, "iterations_since_restore": 61, "pid": 46880, "episodes_this_iter": 30, "episode_len_mean": 686.5, "done": false, "training_iteration": 61, "custom_metrics": {"cost2_mean": -0.08871480425396654, "outflow_rate_mean": 1085.213544092083, "cost2_min": -0.7148586479744934, "system_level_velocity_mean": 12.90983399157195, "cost1_min": 12.06676778575482, "cost1_mean": 327.2665151579147, "cost1_max": 479.5962067793677, "outflow_rate_max": 1327.6017848913382, "system_level_velocity_max": 18.17962494103112, "outflow_rate_min": 467.2141301482744, "cost2_max": 0.0, "system_level_velocity_min": 9.056540627531906}, "node_ip": "10.138.0.2", "timesteps_total": 4109422}
{"hostname": "flow-main", "episode_reward_mean": 976.3363649029421, "experiment_id": "383e98f8614b4235818372cc4d63f9e0", "config": {"use_gae": true, "tf_session_args": {"allow_soft_placement": true, "gpu_options": {"allow_growth": true}, "inter_op_parallelism_threads": 2, "device_count": {"CPU": 1}, "intra_op_parallelism_threads": 2, "log_device_placement": false}, "entropy_coeff": 0.0, "kl_coeff": 0.2, "num_gpus_per_worker": 0, "monitor": false, "input_evaluation": null, "clip_rewards": null, "vf_share_layers": false, "straggler_mitigation": false, "log_level": "INFO", "clip_actions": false, "simple_optimizer": false, "sample_batch_size": 750, "vf_clip_param": 1000000.0, "custom_resources_per_worker": {}, "lr": 0.0005, "num_sgd_iter": 10, "model": {"grayscale": false, "dim": 84, "custom_model": null, "free_log_std": false, "custom_options": {}, "lstm_cell_size": 256, "framestack": true, "squash_to_range": false, "conv_filters": null, "channel_major": false, "custom_preprocessor": null, "fcnet_hiddens": [128, 64, 32], "max_seq_len": 20, "lstm_use_prev_action_reward": false, "conv_activation": "relu", "use_lstm": false, "zero_mean": true, "fcnet_activation": "tanh"}, "input": "sampler", "horizon": 1500, "vf_loss_coeff": 1.0, "compress_observations": false, "num_envs_per_worker": 1, "sample_async": false, "num_gpus": 0, "output_max_file_size": 67108864, "lambda": 0.97, "multiagent": {"policy_graphs": {}, "policies_to_train": null, "policy_mapping_fn": null}, "output": null, "num_cpus_per_worker": 1, "preprocessor_pref": "deepmind", "clip_param": 0.3, "kl_target": 0.01, "output_compress_columns": ["obs", "new_obs"], "collect_metrics_timeout": 180, "sgd_minibatch_size": 128, "train_batch_size": 30000, "callbacks": {"on_sample_end": null, "on_train_result": null, "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7f2c02ce87f0>", "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7f2c02ce8dd8>", "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7f2c02ce84e0>"}, "observation_filter": "MeanStdFilter", "synchronize_filters": true, "gamma": 0.99, "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "env_config": {"flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"buf_length\": 1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.1,\n            \"eta3\": 0.1,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 1.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnv\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 600,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}", "run": "PPO"}, "env": "MultiWaveAttenuationMergePOEnv-v0_[eta1, eta2, eta3]:[1.0, 0.1, 0.1]_t_min:1.0_buf_len: 1", "optimizer": {}, "num_workers": 20, "num_cpus_for_driver": 1, "lr_schedule": null, "batch_mode": "truncate_episodes"}, "time_this_iter_s": 50.82424783706665, "timesteps_since_restore": 4175390, "info": {"update_time_ms": 8.651, "num_steps_sampled": 4175390, "sample_time_ms": 34556.96, "grad_time_ms": 16960.351, "default": {"entropy": 1.3888968229293823, "kl": 0.01672227680683136, "vf_loss": 30.92443084716797, "vf_explained_var": 0.8345344066619873, "policy_loss": -0.010249926708638668, "total_loss": 30.917945861816406, "cur_lr": 0.0005000000237487257, "cur_kl_coeff": 0.22499996423721313}, "num_steps_trained": 4175390, "load_time_ms": 10.232}, "time_total_s": 3146.2067165374756, "num_metric_batches_dropped": 0, "timestamp": 1558309636, "episode_reward_max": 1281.004891618603, "timesteps_this_iter": 65968, "episode_reward_min": 24.969096069367446, "date": "2019-05-19_23-47-16", "policy_reward_mean": {}, "time_since_restore": 3146.2067165374756, "episodes_total": 1746, "iterations_since_restore": 62, "pid": 46880, "episodes_this_iter": 30, "episode_len_mean": 674.34, "done": false, "training_iteration": 62, "custom_metrics": {"cost2_mean": -0.06553707136447948, "outflow_rate_mean": 1076.7951809516762, "cost2_min": -0.5656981383097068, "system_level_velocity_mean": 12.968799804308999, "cost1_min": 12.06676778575482, "cost1_mean": 320.63243383826926, "cost1_max": 458.44232512820133, "outflow_rate_max": 1337.98331441962, "system_level_velocity_max": 18.203482108378633, "outflow_rate_min": 467.2141301482744, "cost2_max": 0.0, "system_level_velocity_min": 9.673631373223737}, "node_ip": "10.138.0.2", "timesteps_total": 4175390}
{"hostname": "flow-main", "episode_reward_mean": 981.5922454309091, "experiment_id": "383e98f8614b4235818372cc4d63f9e0", "config": {"use_gae": true, "tf_session_args": {"allow_soft_placement": true, "gpu_options": {"allow_growth": true}, "inter_op_parallelism_threads": 2, "device_count": {"CPU": 1}, "intra_op_parallelism_threads": 2, "log_device_placement": false}, "entropy_coeff": 0.0, "kl_coeff": 0.2, "num_gpus_per_worker": 0, "monitor": false, "input_evaluation": null, "clip_rewards": null, "vf_share_layers": false, "straggler_mitigation": false, "log_level": "INFO", "clip_actions": false, "simple_optimizer": false, "sample_batch_size": 750, "vf_clip_param": 1000000.0, "custom_resources_per_worker": {}, "lr": 0.0005, "num_sgd_iter": 10, "model": {"grayscale": false, "dim": 84, "custom_model": null, "free_log_std": false, "custom_options": {}, "lstm_cell_size": 256, "framestack": true, "squash_to_range": false, "conv_filters": null, "channel_major": false, "custom_preprocessor": null, "fcnet_hiddens": [128, 64, 32], "max_seq_len": 20, "lstm_use_prev_action_reward": false, "conv_activation": "relu", "use_lstm": false, "zero_mean": true, "fcnet_activation": "tanh"}, "input": "sampler", "horizon": 1500, "vf_loss_coeff": 1.0, "compress_observations": false, "num_envs_per_worker": 1, "sample_async": false, "num_gpus": 0, "output_max_file_size": 67108864, "lambda": 0.97, "multiagent": {"policy_graphs": {}, "policies_to_train": null, "policy_mapping_fn": null}, "output": null, "num_cpus_per_worker": 1, "preprocessor_pref": "deepmind", "clip_param": 0.3, "kl_target": 0.01, "output_compress_columns": ["obs", "new_obs"], "collect_metrics_timeout": 180, "sgd_minibatch_size": 128, "train_batch_size": 30000, "callbacks": {"on_sample_end": null, "on_train_result": null, "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7f2c02cec860>", "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7f2c02d023c8>", "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7f2c02d02630>"}, "observation_filter": "MeanStdFilter", "synchronize_filters": true, "gamma": 0.99, "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "env_config": {"flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"buf_length\": 1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.1,\n            \"eta3\": 0.1,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 1.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnv\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 600,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}", "run": "PPO"}, "env": "MultiWaveAttenuationMergePOEnv-v0_[eta1, eta2, eta3]:[1.0, 0.1, 0.1]_t_min:1.0_buf_len: 1", "optimizer": {}, "num_workers": 20, "num_cpus_for_driver": 1, "lr_schedule": null, "batch_mode": "truncate_episodes"}, "time_this_iter_s": 51.56956601142883, "timesteps_since_restore": 4240701, "info": {"update_time_ms": 8.938, "num_steps_sampled": 4240701, "sample_time_ms": 34595.851, "grad_time_ms": 16994.614, "default": {"entropy": 1.4019997119903564, "kl": 0.015118888579308987, "vf_loss": 27.984683990478516, "vf_explained_var": 0.8443564176559448, "policy_loss": -0.0084001449868083, "total_loss": 27.97968292236328, "cur_lr": 0.0005000000237487257, "cur_kl_coeff": 0.22499996423721313}, "num_steps_trained": 4240701, "load_time_ms": 10.379}, "time_total_s": 3197.7762825489044, "num_metric_batches_dropped": 0, "timestamp": 1558309688, "episode_reward_max": 1281.004891618603, "timesteps_this_iter": 65311, "episode_reward_min": 44.2524570405084, "date": "2019-05-19_23-48-08", "policy_reward_mean": {}, "time_since_restore": 3197.7762825489044, "episodes_total": 1774, "iterations_since_restore": 63, "pid": 46880, "episodes_this_iter": 28, "episode_len_mean": 674.53, "done": false, "training_iteration": 63, "custom_metrics": {"cost2_mean": -0.07580928692129, "outflow_rate_mean": 1087.403177492059, "cost2_min": -0.5656981383097068, "system_level_velocity_mean": 13.21071583714794, "cost1_min": 17.17321702271835, "cost1_mean": 326.3747764773202, "cost1_max": 475.15377363659564, "outflow_rate_max": 1342.1306571673304, "system_level_velocity_max": 18.7954755482391, "outflow_rate_min": 467.2141301482744, "cost2_max": 0.0, "system_level_velocity_min": 9.673631373223737}, "node_ip": "10.138.0.2", "timesteps_total": 4240701}
{"hostname": "flow-main", "episode_reward_mean": 980.0617202970385, "experiment_id": "383e98f8614b4235818372cc4d63f9e0", "config": {"use_gae": true, "tf_session_args": {"allow_soft_placement": true, "gpu_options": {"allow_growth": true}, "inter_op_parallelism_threads": 2, "device_count": {"CPU": 1}, "intra_op_parallelism_threads": 2, "log_device_placement": false}, "entropy_coeff": 0.0, "kl_coeff": 0.2, "num_gpus_per_worker": 0, "monitor": false, "input_evaluation": null, "clip_rewards": null, "vf_share_layers": false, "straggler_mitigation": false, "log_level": "INFO", "clip_actions": false, "simple_optimizer": false, "sample_batch_size": 750, "vf_clip_param": 1000000.0, "custom_resources_per_worker": {}, "lr": 0.0005, "num_sgd_iter": 10, "model": {"grayscale": false, "dim": 84, "custom_model": null, "free_log_std": false, "custom_options": {}, "lstm_cell_size": 256, "framestack": true, "squash_to_range": false, "conv_filters": null, "channel_major": false, "custom_preprocessor": null, "fcnet_hiddens": [128, 64, 32], "max_seq_len": 20, "lstm_use_prev_action_reward": false, "conv_activation": "relu", "use_lstm": false, "zero_mean": true, "fcnet_activation": "tanh"}, "input": "sampler", "horizon": 1500, "vf_loss_coeff": 1.0, "compress_observations": false, "num_envs_per_worker": 1, "sample_async": false, "num_gpus": 0, "output_max_file_size": 67108864, "lambda": 0.97, "multiagent": {"policy_graphs": {}, "policies_to_train": null, "policy_mapping_fn": null}, "output": null, "num_cpus_per_worker": 1, "preprocessor_pref": "deepmind", "clip_param": 0.3, "kl_target": 0.01, "output_compress_columns": ["obs", "new_obs"], "collect_metrics_timeout": 180, "sgd_minibatch_size": 128, "train_batch_size": 30000, "callbacks": {"on_sample_end": null, "on_train_result": null, "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7f2c028981d0>", "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7f2c02898390>", "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7f2c02898f60>"}, "observation_filter": "MeanStdFilter", "synchronize_filters": true, "gamma": 0.99, "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "env_config": {"flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"buf_length\": 1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.1,\n            \"eta3\": 0.1,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 1.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnv\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 600,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}", "run": "PPO"}, "env": "MultiWaveAttenuationMergePOEnv-v0_[eta1, eta2, eta3]:[1.0, 0.1, 0.1]_t_min:1.0_buf_len: 1", "optimizer": {}, "num_workers": 20, "num_cpus_for_driver": 1, "lr_schedule": null, "batch_mode": "truncate_episodes"}, "time_this_iter_s": 50.89746689796448, "timesteps_since_restore": 4307824, "info": {"update_time_ms": 9.245, "num_steps_sampled": 4307824, "sample_time_ms": 34521.43, "grad_time_ms": 17051.725, "default": {"entropy": 1.3960652351379395, "kl": 0.01673024706542492, "vf_loss": 27.137531280517578, "vf_explained_var": 0.8387294411659241, "policy_loss": -0.00969870574772358, "total_loss": 27.1315975189209, "cur_lr": 0.0005000000237487257, "cur_kl_coeff": 0.22499999403953552}, "num_steps_trained": 4307824, "load_time_ms": 10.309}, "time_total_s": 3248.673749446869, "num_metric_batches_dropped": 0, "timestamp": 1558309739, "episode_reward_max": 1247.945019656523, "timesteps_this_iter": 67123, "episode_reward_min": 44.2524570405084, "date": "2019-05-19_23-48-59", "policy_reward_mean": {}, "time_since_restore": 3248.673749446869, "episodes_total": 1800, "iterations_since_restore": 64, "pid": 46880, "episodes_this_iter": 26, "episode_len_mean": 674.53, "done": false, "training_iteration": 64, "custom_metrics": {"cost2_mean": -0.08243677735616119, "outflow_rate_mean": 1096.8441782921766, "cost2_min": -0.5298477258741443, "system_level_velocity_mean": 13.379810087825444, "cost1_min": 17.17321702271835, "cost1_mean": 330.612363946006, "cost1_max": 475.15377363659564, "outflow_rate_max": 1345.013465308425, "system_level_velocity_max": 18.7954755482391, "outflow_rate_min": 467.2141301482744, "cost2_max": 0.0, "system_level_velocity_min": 9.673631373223737}, "node_ip": "10.138.0.2", "timesteps_total": 4307824}
{"hostname": "flow-main", "episode_reward_mean": 993.6137768499376, "experiment_id": "383e98f8614b4235818372cc4d63f9e0", "config": {"use_gae": true, "tf_session_args": {"allow_soft_placement": true, "gpu_options": {"allow_growth": true}, "inter_op_parallelism_threads": 2, "device_count": {"CPU": 1}, "intra_op_parallelism_threads": 2, "log_device_placement": false}, "entropy_coeff": 0.0, "kl_coeff": 0.2, "num_gpus_per_worker": 0, "monitor": false, "input_evaluation": null, "clip_rewards": null, "vf_share_layers": false, "straggler_mitigation": false, "log_level": "INFO", "clip_actions": false, "simple_optimizer": false, "sample_batch_size": 750, "vf_clip_param": 1000000.0, "custom_resources_per_worker": {}, "lr": 0.0005, "num_sgd_iter": 10, "model": {"grayscale": false, "dim": 84, "custom_model": null, "free_log_std": false, "custom_options": {}, "lstm_cell_size": 256, "framestack": true, "squash_to_range": false, "conv_filters": null, "channel_major": false, "custom_preprocessor": null, "fcnet_hiddens": [128, 64, 32], "max_seq_len": 20, "lstm_use_prev_action_reward": false, "conv_activation": "relu", "use_lstm": false, "zero_mean": true, "fcnet_activation": "tanh"}, "input": "sampler", "horizon": 1500, "vf_loss_coeff": 1.0, "compress_observations": false, "num_envs_per_worker": 1, "sample_async": false, "num_gpus": 0, "output_max_file_size": 67108864, "lambda": 0.97, "multiagent": {"policy_graphs": {}, "policies_to_train": null, "policy_mapping_fn": null}, "output": null, "num_cpus_per_worker": 1, "preprocessor_pref": "deepmind", "clip_param": 0.3, "kl_target": 0.01, "output_compress_columns": ["obs", "new_obs"], "collect_metrics_timeout": 180, "sgd_minibatch_size": 128, "train_batch_size": 30000, "callbacks": {"on_sample_end": null, "on_train_result": null, "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7f2c028985c0>", "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7f2c02898f98>", "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7f2c02898cc0>"}, "observation_filter": "MeanStdFilter", "synchronize_filters": true, "gamma": 0.99, "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "env_config": {"flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"buf_length\": 1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.1,\n            \"eta3\": 0.1,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 1.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnv\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 600,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}", "run": "PPO"}, "env": "MultiWaveAttenuationMergePOEnv-v0_[eta1, eta2, eta3]:[1.0, 0.1, 0.1]_t_min:1.0_buf_len: 1", "optimizer": {}, "num_workers": 20, "num_cpus_for_driver": 1, "lr_schedule": null, "batch_mode": "truncate_episodes"}, "time_this_iter_s": 52.019238233566284, "timesteps_since_restore": 4376708, "info": {"update_time_ms": 8.793, "num_steps_sampled": 4376708, "sample_time_ms": 34355.559, "grad_time_ms": 17289.054, "default": {"entropy": 1.3974950313568115, "kl": 0.01662314683198929, "vf_loss": 31.995956420898438, "vf_explained_var": 0.8294774293899536, "policy_loss": -0.009752281941473484, "total_loss": 31.989944458007812, "cur_lr": 0.0005000000237487257, "cur_kl_coeff": 0.22500000894069672}, "num_steps_trained": 4376708, "load_time_ms": 10.498}, "time_total_s": 3300.692987680435, "num_metric_batches_dropped": 0, "timestamp": 1558309791, "episode_reward_max": 1244.2266359812486, "timesteps_this_iter": 68884, "episode_reward_min": 41.547452615788096, "date": "2019-05-19_23-49-51", "policy_reward_mean": {}, "time_since_restore": 3300.692987680435, "episodes_total": 1831, "iterations_since_restore": 65, "pid": 46880, "episodes_this_iter": 31, "episode_len_mean": 686.63, "done": false, "training_iteration": 65, "custom_metrics": {"cost2_mean": -0.0872046164029336, "outflow_rate_mean": 1096.947547312518, "cost2_min": -0.6974029327832427, "system_level_velocity_mean": 13.097597029284476, "cost1_min": 16.61101029793215, "cost1_mean": 330.8790570525732, "cost1_max": 475.15377363659564, "outflow_rate_max": 1345.013465308425, "system_level_velocity_max": 18.7954755482391, "outflow_rate_min": 456.8665541157755, "cost2_max": 0.0, "system_level_velocity_min": 10.197583866783798}, "node_ip": "10.138.0.2", "timesteps_total": 4376708}
{"hostname": "flow-main", "episode_reward_mean": 981.9987060044399, "experiment_id": "383e98f8614b4235818372cc4d63f9e0", "config": {"use_gae": true, "tf_session_args": {"allow_soft_placement": true, "gpu_options": {"allow_growth": true}, "inter_op_parallelism_threads": 2, "device_count": {"CPU": 1}, "intra_op_parallelism_threads": 2, "log_device_placement": false}, "entropy_coeff": 0.0, "kl_coeff": 0.2, "num_gpus_per_worker": 0, "monitor": false, "input_evaluation": null, "clip_rewards": null, "vf_share_layers": false, "straggler_mitigation": false, "log_level": "INFO", "clip_actions": false, "simple_optimizer": false, "sample_batch_size": 750, "vf_clip_param": 1000000.0, "custom_resources_per_worker": {}, "lr": 0.0005, "num_sgd_iter": 10, "model": {"grayscale": false, "dim": 84, "custom_model": null, "free_log_std": false, "custom_options": {}, "lstm_cell_size": 256, "framestack": true, "squash_to_range": false, "conv_filters": null, "channel_major": false, "custom_preprocessor": null, "fcnet_hiddens": [128, 64, 32], "max_seq_len": 20, "lstm_use_prev_action_reward": false, "conv_activation": "relu", "use_lstm": false, "zero_mean": true, "fcnet_activation": "tanh"}, "input": "sampler", "horizon": 1500, "vf_loss_coeff": 1.0, "compress_observations": false, "num_envs_per_worker": 1, "sample_async": false, "num_gpus": 0, "output_max_file_size": 67108864, "lambda": 0.97, "multiagent": {"policy_graphs": {}, "policies_to_train": null, "policy_mapping_fn": null}, "output": null, "num_cpus_per_worker": 1, "preprocessor_pref": "deepmind", "clip_param": 0.3, "kl_target": 0.01, "output_compress_columns": ["obs", "new_obs"], "collect_metrics_timeout": 180, "sgd_minibatch_size": 128, "train_batch_size": 30000, "callbacks": {"on_sample_end": null, "on_train_result": null, "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7f2c02898f60>", "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7f2c02898160>", "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7f2c02898208>"}, "observation_filter": "MeanStdFilter", "synchronize_filters": true, "gamma": 0.99, "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "env_config": {"flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"buf_length\": 1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.1,\n            \"eta3\": 0.1,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 1.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnv\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 600,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}", "run": "PPO"}, "env": "MultiWaveAttenuationMergePOEnv-v0_[eta1, eta2, eta3]:[1.0, 0.1, 0.1]_t_min:1.0_buf_len: 1", "optimizer": {}, "num_workers": 20, "num_cpus_for_driver": 1, "lr_schedule": null, "batch_mode": "truncate_episodes"}, "time_this_iter_s": 51.770577907562256, "timesteps_since_restore": 4445330, "info": {"update_time_ms": 8.79, "num_steps_sampled": 4445330, "sample_time_ms": 34257.208, "grad_time_ms": 17319.349, "default": {"entropy": 1.396256923675537, "kl": 0.015385592356324196, "vf_loss": 32.033164978027344, "vf_explained_var": 0.8226798176765442, "policy_loss": -0.009347500279545784, "total_loss": 32.027278900146484, "cur_lr": 0.0005000000237487257, "cur_kl_coeff": 0.22500000894069672}, "num_steps_trained": 4445330, "load_time_ms": 10.8}, "time_total_s": 3352.4635655879974, "num_metric_batches_dropped": 0, "timestamp": 1558309843, "episode_reward_max": 1228.170754467183, "timesteps_this_iter": 68622, "episode_reward_min": 29.412076301566394, "date": "2019-05-19_23-50-43", "policy_reward_mean": {}, "time_since_restore": 3352.4635655879974, "episodes_total": 1862, "iterations_since_restore": 66, "pid": 46880, "episodes_this_iter": 31, "episode_len_mean": 679.88, "done": false, "training_iteration": 66, "custom_metrics": {"cost2_mean": -0.07979967489305283, "outflow_rate_mean": 1087.9959915502075, "cost2_min": -0.6974029327832427, "system_level_velocity_mean": 13.103968307854684, "cost1_min": 12.487478659495098, "cost1_mean": 326.35771857427926, "cost1_max": 477.1183402286989, "outflow_rate_max": 1355.2506578967286, "system_level_velocity_max": 18.81356956936656, "outflow_rate_min": 456.8665541157755, "cost2_max": 0.0, "system_level_velocity_min": 10.197583866783798}, "node_ip": "10.138.0.2", "timesteps_total": 4445330}
{"hostname": "flow-main", "episode_reward_mean": 982.3759184450257, "experiment_id": "383e98f8614b4235818372cc4d63f9e0", "config": {"use_gae": true, "tf_session_args": {"allow_soft_placement": true, "gpu_options": {"allow_growth": true}, "inter_op_parallelism_threads": 2, "device_count": {"CPU": 1}, "intra_op_parallelism_threads": 2, "log_device_placement": false}, "entropy_coeff": 0.0, "kl_coeff": 0.2, "num_gpus_per_worker": 0, "monitor": false, "input_evaluation": null, "clip_rewards": null, "vf_share_layers": false, "straggler_mitigation": false, "log_level": "INFO", "clip_actions": false, "simple_optimizer": false, "sample_batch_size": 750, "vf_clip_param": 1000000.0, "custom_resources_per_worker": {}, "lr": 0.0005, "num_sgd_iter": 10, "model": {"grayscale": false, "dim": 84, "custom_model": null, "free_log_std": false, "custom_options": {}, "lstm_cell_size": 256, "framestack": true, "squash_to_range": false, "conv_filters": null, "channel_major": false, "custom_preprocessor": null, "fcnet_hiddens": [128, 64, 32], "max_seq_len": 20, "lstm_use_prev_action_reward": false, "conv_activation": "relu", "use_lstm": false, "zero_mean": true, "fcnet_activation": "tanh"}, "input": "sampler", "horizon": 1500, "vf_loss_coeff": 1.0, "compress_observations": false, "num_envs_per_worker": 1, "sample_async": false, "num_gpus": 0, "output_max_file_size": 67108864, "lambda": 0.97, "multiagent": {"policy_graphs": {}, "policies_to_train": null, "policy_mapping_fn": null}, "output": null, "num_cpus_per_worker": 1, "preprocessor_pref": "deepmind", "clip_param": 0.3, "kl_target": 0.01, "output_compress_columns": ["obs", "new_obs"], "collect_metrics_timeout": 180, "sgd_minibatch_size": 128, "train_batch_size": 30000, "callbacks": {"on_sample_end": null, "on_train_result": null, "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7f2c02ce87f0>", "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7f2c02ce8080>", "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7f2c02ce8b70>"}, "observation_filter": "MeanStdFilter", "synchronize_filters": true, "gamma": 0.99, "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "env_config": {"flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"buf_length\": 1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.1,\n            \"eta3\": 0.1,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 1.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnv\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 600,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}", "run": "PPO"}, "env": "MultiWaveAttenuationMergePOEnv-v0_[eta1, eta2, eta3]:[1.0, 0.1, 0.1]_t_min:1.0_buf_len: 1", "optimizer": {}, "num_workers": 20, "num_cpus_for_driver": 1, "lr_schedule": null, "batch_mode": "truncate_episodes"}, "time_this_iter_s": 52.50056576728821, "timesteps_since_restore": 4513116, "info": {"update_time_ms": 8.867, "num_steps_sampled": 4513116, "sample_time_ms": 34443.383, "grad_time_ms": 17424.323, "default": {"entropy": 1.4139622449874878, "kl": 0.014977768994867802, "vf_loss": 30.5943546295166, "vf_explained_var": 0.8176172375679016, "policy_loss": -0.008775810711085796, "total_loss": 30.588951110839844, "cur_lr": 0.0005000000237487257, "cur_kl_coeff": 0.22499999403953552}, "num_steps_trained": 4513116, "load_time_ms": 10.545}, "time_total_s": 3404.9641313552856, "num_metric_batches_dropped": 0, "timestamp": 1558309895, "episode_reward_max": 1294.3102524094984, "timesteps_this_iter": 67786, "episode_reward_min": 29.412076301566394, "date": "2019-05-19_23-51-35", "policy_reward_mean": {}, "time_since_restore": 3404.9641313552856, "episodes_total": 1891, "iterations_since_restore": 67, "pid": 46880, "episodes_this_iter": 29, "episode_len_mean": 679.88, "done": false, "training_iteration": 67, "custom_metrics": {"cost2_mean": -0.08408893256836175, "outflow_rate_mean": 1087.9526075956453, "cost2_min": -0.6974029327832427, "system_level_velocity_mean": 13.103230177788841, "cost1_min": 12.487478659495098, "cost1_mean": 325.97409703075294, "cost1_max": 477.1183402286989, "outflow_rate_max": 1355.2506578967286, "system_level_velocity_max": 18.81356956936656, "outflow_rate_min": 456.8665541157755, "cost2_max": 0.0, "system_level_velocity_min": 10.197583866783798}, "node_ip": "10.138.0.2", "timesteps_total": 4513116}
{"hostname": "flow-main", "episode_reward_mean": 958.814588241374, "experiment_id": "383e98f8614b4235818372cc4d63f9e0", "config": {"use_gae": true, "tf_session_args": {"allow_soft_placement": true, "gpu_options": {"allow_growth": true}, "inter_op_parallelism_threads": 2, "device_count": {"CPU": 1}, "intra_op_parallelism_threads": 2, "log_device_placement": false}, "entropy_coeff": 0.0, "kl_coeff": 0.2, "num_gpus_per_worker": 0, "monitor": false, "input_evaluation": null, "clip_rewards": null, "vf_share_layers": false, "straggler_mitigation": false, "log_level": "INFO", "clip_actions": false, "simple_optimizer": false, "sample_batch_size": 750, "vf_clip_param": 1000000.0, "custom_resources_per_worker": {}, "lr": 0.0005, "num_sgd_iter": 10, "model": {"grayscale": false, "dim": 84, "custom_model": null, "free_log_std": false, "custom_options": {}, "lstm_cell_size": 256, "framestack": true, "squash_to_range": false, "conv_filters": null, "channel_major": false, "custom_preprocessor": null, "fcnet_hiddens": [128, 64, 32], "max_seq_len": 20, "lstm_use_prev_action_reward": false, "conv_activation": "relu", "use_lstm": false, "zero_mean": true, "fcnet_activation": "tanh"}, "input": "sampler", "horizon": 1500, "vf_loss_coeff": 1.0, "compress_observations": false, "num_envs_per_worker": 1, "sample_async": false, "num_gpus": 0, "output_max_file_size": 67108864, "lambda": 0.97, "multiagent": {"policy_graphs": {}, "policies_to_train": null, "policy_mapping_fn": null}, "output": null, "num_cpus_per_worker": 1, "preprocessor_pref": "deepmind", "clip_param": 0.3, "kl_target": 0.01, "output_compress_columns": ["obs", "new_obs"], "collect_metrics_timeout": 180, "sgd_minibatch_size": 128, "train_batch_size": 30000, "callbacks": {"on_sample_end": null, "on_train_result": null, "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7f2c02898828>", "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7f2c02898a20>", "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7f2c028983c8>"}, "observation_filter": "MeanStdFilter", "synchronize_filters": true, "gamma": 0.99, "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "env_config": {"flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"buf_length\": 1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.1,\n            \"eta3\": 0.1,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 1.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnv\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 600,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}", "run": "PPO"}, "env": "MultiWaveAttenuationMergePOEnv-v0_[eta1, eta2, eta3]:[1.0, 0.1, 0.1]_t_min:1.0_buf_len: 1", "optimizer": {}, "num_workers": 20, "num_cpus_for_driver": 1, "lr_schedule": null, "batch_mode": "truncate_episodes"}, "time_this_iter_s": 50.64010834693909, "timesteps_since_restore": 4580713, "info": {"update_time_ms": 8.695, "num_steps_sampled": 4580713, "sample_time_ms": 34270.658, "grad_time_ms": 17404.799, "default": {"entropy": 1.4238585233688354, "kl": 0.01674782857298851, "vf_loss": 28.73876953125, "vf_explained_var": 0.8322378396987915, "policy_loss": -0.009587977081537247, "total_loss": 28.73295021057129, "cur_lr": 0.0005000000237487257, "cur_kl_coeff": 0.22499999403953552}, "num_steps_trained": 4580713, "load_time_ms": 10.535}, "time_total_s": 3455.6042397022247, "num_metric_batches_dropped": 0, "timestamp": 1558309946, "episode_reward_max": 1294.3102524094984, "timesteps_this_iter": 67597, "episode_reward_min": 29.412076301566394, "date": "2019-05-19_23-52-26", "policy_reward_mean": {}, "time_since_restore": 3455.6042397022247, "episodes_total": 1920, "iterations_since_restore": 68, "pid": 46880, "episodes_this_iter": 29, "episode_len_mean": 666.34, "done": false, "training_iteration": 68, "custom_metrics": {"cost2_mean": -0.08200970773509215, "outflow_rate_mean": 1074.6683762621215, "cost2_min": -0.5628333020541969, "system_level_velocity_mean": 13.198134954754712, "cost1_min": 11.779850130187988, "cost1_mean": 319.59362008136503, "cost1_max": 477.1183402286989, "outflow_rate_max": 1355.2506578967286, "system_level_velocity_max": 18.931251200637373, "outflow_rate_min": 456.8665541157755, "cost2_max": 0.0, "system_level_velocity_min": 10.46609129182533}, "node_ip": "10.138.0.2", "timesteps_total": 4580713}
{"hostname": "flow-main", "episode_reward_mean": 983.1344751415817, "experiment_id": "383e98f8614b4235818372cc4d63f9e0", "config": {"use_gae": true, "tf_session_args": {"allow_soft_placement": true, "gpu_options": {"allow_growth": true}, "inter_op_parallelism_threads": 2, "device_count": {"CPU": 1}, "intra_op_parallelism_threads": 2, "log_device_placement": false}, "entropy_coeff": 0.0, "kl_coeff": 0.2, "num_gpus_per_worker": 0, "monitor": false, "input_evaluation": null, "clip_rewards": null, "vf_share_layers": false, "straggler_mitigation": false, "log_level": "INFO", "clip_actions": false, "simple_optimizer": false, "sample_batch_size": 750, "vf_clip_param": 1000000.0, "custom_resources_per_worker": {}, "lr": 0.0005, "num_sgd_iter": 10, "model": {"grayscale": false, "dim": 84, "custom_model": null, "free_log_std": false, "custom_options": {}, "lstm_cell_size": 256, "framestack": true, "squash_to_range": false, "conv_filters": null, "channel_major": false, "custom_preprocessor": null, "fcnet_hiddens": [128, 64, 32], "max_seq_len": 20, "lstm_use_prev_action_reward": false, "conv_activation": "relu", "use_lstm": false, "zero_mean": true, "fcnet_activation": "tanh"}, "input": "sampler", "horizon": 1500, "vf_loss_coeff": 1.0, "compress_observations": false, "num_envs_per_worker": 1, "sample_async": false, "num_gpus": 0, "output_max_file_size": 67108864, "lambda": 0.97, "multiagent": {"policy_graphs": {}, "policies_to_train": null, "policy_mapping_fn": null}, "output": null, "num_cpus_per_worker": 1, "preprocessor_pref": "deepmind", "clip_param": 0.3, "kl_target": 0.01, "output_compress_columns": ["obs", "new_obs"], "collect_metrics_timeout": 180, "sgd_minibatch_size": 128, "train_batch_size": 30000, "callbacks": {"on_sample_end": null, "on_train_result": null, "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7f2c02ce8080>", "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7f2c02ce89e8>", "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7f2c02ce8b70>"}, "observation_filter": "MeanStdFilter", "synchronize_filters": true, "gamma": 0.99, "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "env_config": {"flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"buf_length\": 1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.1,\n            \"eta3\": 0.1,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 1.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnv\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 600,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}", "run": "PPO"}, "env": "MultiWaveAttenuationMergePOEnv-v0_[eta1, eta2, eta3]:[1.0, 0.1, 0.1]_t_min:1.0_buf_len: 1", "optimizer": {}, "num_workers": 20, "num_cpus_for_driver": 1, "lr_schedule": null, "batch_mode": "truncate_episodes"}, "time_this_iter_s": 47.090970039367676, "timesteps_since_restore": 4646447, "info": {"update_time_ms": 8.86, "num_steps_sampled": 4646447, "sample_time_ms": 34231.219, "grad_time_ms": 17012.618, "default": {"entropy": 1.4095796346664429, "kl": 0.01650087535381317, "vf_loss": 28.368627548217773, "vf_explained_var": 0.8381956815719604, "policy_loss": -0.010413550771772861, "total_loss": 28.36192512512207, "cur_lr": 0.0005000000237487257, "cur_kl_coeff": 0.22499997913837433}, "num_steps_trained": 4646447, "load_time_ms": 10.654}, "time_total_s": 3502.6952097415924, "num_metric_batches_dropped": 0, "timestamp": 1558309993, "episode_reward_max": 1294.3102524094984, "timesteps_this_iter": 65734, "episode_reward_min": 32.980698946477496, "date": "2019-05-19_23-53-13", "policy_reward_mean": {}, "time_since_restore": 3502.6952097415924, "episodes_total": 1947, "iterations_since_restore": 69, "pid": 46880, "episodes_this_iter": 27, "episode_len_mean": 686.46, "done": false, "training_iteration": 69, "custom_metrics": {"cost2_mean": -0.08334905367491813, "outflow_rate_mean": 1094.5172638731676, "cost2_min": -0.6748789437116637, "system_level_velocity_mean": 13.086587157778665, "cost1_min": 11.779850130187988, "cost1_mean": 329.67395796586817, "cost1_max": 477.1183402286989, "outflow_rate_max": 1332.5374230308985, "system_level_velocity_max": 18.931251200637373, "outflow_rate_min": 464.2002765876701, "cost2_max": 0.0, "system_level_velocity_min": 10.451807104813051}, "node_ip": "10.138.0.2", "timesteps_total": 4646447}
{"hostname": "flow-main", "episode_reward_mean": 974.1433231082337, "experiment_id": "383e98f8614b4235818372cc4d63f9e0", "config": {"use_gae": true, "tf_session_args": {"allow_soft_placement": true, "gpu_options": {"allow_growth": true}, "inter_op_parallelism_threads": 2, "device_count": {"CPU": 1}, "intra_op_parallelism_threads": 2, "log_device_placement": false}, "entropy_coeff": 0.0, "kl_coeff": 0.2, "num_gpus_per_worker": 0, "monitor": false, "input_evaluation": null, "clip_rewards": null, "vf_share_layers": false, "straggler_mitigation": false, "log_level": "INFO", "clip_actions": false, "simple_optimizer": false, "sample_batch_size": 750, "vf_clip_param": 1000000.0, "custom_resources_per_worker": {}, "lr": 0.0005, "num_sgd_iter": 10, "model": {"grayscale": false, "dim": 84, "custom_model": null, "free_log_std": false, "custom_options": {}, "lstm_cell_size": 256, "framestack": true, "squash_to_range": false, "conv_filters": null, "channel_major": false, "custom_preprocessor": null, "fcnet_hiddens": [128, 64, 32], "max_seq_len": 20, "lstm_use_prev_action_reward": false, "conv_activation": "relu", "use_lstm": false, "zero_mean": true, "fcnet_activation": "tanh"}, "input": "sampler", "horizon": 1500, "vf_loss_coeff": 1.0, "compress_observations": false, "num_envs_per_worker": 1, "sample_async": false, "num_gpus": 0, "output_max_file_size": 67108864, "lambda": 0.97, "multiagent": {"policy_graphs": {}, "policies_to_train": null, "policy_mapping_fn": null}, "output": null, "num_cpus_per_worker": 1, "preprocessor_pref": "deepmind", "clip_param": 0.3, "kl_target": 0.01, "output_compress_columns": ["obs", "new_obs"], "collect_metrics_timeout": 180, "sgd_minibatch_size": 128, "train_batch_size": 30000, "callbacks": {"on_sample_end": null, "on_train_result": null, "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7f2c02cec400>", "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7f2c02898b38>", "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7f2c02898d68>"}, "observation_filter": "MeanStdFilter", "synchronize_filters": true, "gamma": 0.99, "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "env_config": {"flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"buf_length\": 1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.1,\n            \"eta3\": 0.1,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 1.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnv\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 600,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}", "run": "PPO"}, "env": "MultiWaveAttenuationMergePOEnv-v0_[eta1, eta2, eta3]:[1.0, 0.1, 0.1]_t_min:1.0_buf_len: 1", "optimizer": {}, "num_workers": 20, "num_cpus_for_driver": 1, "lr_schedule": null, "batch_mode": "truncate_episodes"}, "time_this_iter_s": 51.222209453582764, "timesteps_since_restore": 4715315, "info": {"update_time_ms": 8.973, "num_steps_sampled": 4715315, "sample_time_ms": 34203.96, "grad_time_ms": 17009.04, "default": {"entropy": 1.4113125801086426, "kl": 0.01578640751540661, "vf_loss": 27.848371505737305, "vf_explained_var": 0.8367828726768494, "policy_loss": -0.009948482736945152, "total_loss": 27.841970443725586, "cur_lr": 0.0005000000237487257, "cur_kl_coeff": 0.22500000894069672}, "num_steps_trained": 4715315, "load_time_ms": 10.634}, "time_total_s": 3553.917419195175, "num_metric_batches_dropped": 0, "timestamp": 1558310045, "episode_reward_max": 1294.3102524094984, "timesteps_this_iter": 68868, "episode_reward_min": 32.980698946477496, "date": "2019-05-19_23-54-05", "policy_reward_mean": {}, "time_since_restore": 3553.917419195175, "episodes_total": 1975, "iterations_since_restore": 70, "pid": 46880, "episodes_this_iter": 28, "episode_len_mean": 679.83, "done": false, "training_iteration": 70, "custom_metrics": {"cost2_mean": -0.08051795475822283, "outflow_rate_mean": 1087.5975489701234, "cost2_min": -0.6748789437116637, "system_level_velocity_mean": 13.083104269276559, "cost1_min": 11.779850130187988, "cost1_mean": 324.94870957877833, "cost1_max": 456.0788989341779, "outflow_rate_max": 1340.3180785945035, "system_level_velocity_max": 18.990480987930177, "outflow_rate_min": 464.2002765876701, "cost2_max": 0.0, "system_level_velocity_min": 10.451807104813051}, "node_ip": "10.138.0.2", "timesteps_total": 4715315}
{"hostname": "flow-main", "episode_reward_mean": 965.6361964448056, "experiment_id": "383e98f8614b4235818372cc4d63f9e0", "config": {"use_gae": true, "tf_session_args": {"allow_soft_placement": true, "gpu_options": {"allow_growth": true}, "inter_op_parallelism_threads": 2, "device_count": {"CPU": 1}, "intra_op_parallelism_threads": 2, "log_device_placement": false}, "entropy_coeff": 0.0, "kl_coeff": 0.2, "num_gpus_per_worker": 0, "monitor": false, "input_evaluation": null, "clip_rewards": null, "vf_share_layers": false, "straggler_mitigation": false, "log_level": "INFO", "clip_actions": false, "simple_optimizer": false, "sample_batch_size": 750, "vf_clip_param": 1000000.0, "custom_resources_per_worker": {}, "lr": 0.0005, "num_sgd_iter": 10, "model": {"grayscale": false, "dim": 84, "custom_model": null, "free_log_std": false, "custom_options": {}, "lstm_cell_size": 256, "framestack": true, "squash_to_range": false, "conv_filters": null, "channel_major": false, "custom_preprocessor": null, "fcnet_hiddens": [128, 64, 32], "max_seq_len": 20, "lstm_use_prev_action_reward": false, "conv_activation": "relu", "use_lstm": false, "zero_mean": true, "fcnet_activation": "tanh"}, "input": "sampler", "horizon": 1500, "vf_loss_coeff": 1.0, "compress_observations": false, "num_envs_per_worker": 1, "sample_async": false, "num_gpus": 0, "output_max_file_size": 67108864, "lambda": 0.97, "multiagent": {"policy_graphs": {}, "policies_to_train": null, "policy_mapping_fn": null}, "output": null, "num_cpus_per_worker": 1, "preprocessor_pref": "deepmind", "clip_param": 0.3, "kl_target": 0.01, "output_compress_columns": ["obs", "new_obs"], "collect_metrics_timeout": 180, "sgd_minibatch_size": 128, "train_batch_size": 30000, "callbacks": {"on_sample_end": null, "on_train_result": null, "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7f2c02d02eb8>", "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7f2c02d02390>", "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7f2c02897518>"}, "observation_filter": "MeanStdFilter", "synchronize_filters": true, "gamma": 0.99, "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "env_config": {"flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"buf_length\": 1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.1,\n            \"eta3\": 0.1,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 1.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnv\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 600,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}", "run": "PPO"}, "env": "MultiWaveAttenuationMergePOEnv-v0_[eta1, eta2, eta3]:[1.0, 0.1, 0.1]_t_min:1.0_buf_len: 1", "optimizer": {}, "num_workers": 20, "num_cpus_for_driver": 1, "lr_schedule": null, "batch_mode": "truncate_episodes"}, "time_this_iter_s": 53.54610466957092, "timesteps_since_restore": 4782146, "info": {"update_time_ms": 8.453, "num_steps_sampled": 4782146, "sample_time_ms": 34091.991, "grad_time_ms": 16975.05, "default": {"entropy": 1.410435676574707, "kl": 0.015317300334572792, "vf_loss": 31.9020938873291, "vf_explained_var": 0.8316702246665955, "policy_loss": -0.009203629568219185, "total_loss": 31.896337509155273, "cur_lr": 0.0005000000237487257, "cur_kl_coeff": 0.22499997913837433}, "num_steps_trained": 4782146, "load_time_ms": 10.546}, "time_total_s": 3607.463523864746, "num_metric_batches_dropped": 0, "timestamp": 1558310098, "episode_reward_max": 1285.0052353524343, "timesteps_this_iter": 66831, "episode_reward_min": 32.980698946477496, "date": "2019-05-19_23-54-58", "policy_reward_mean": {}, "time_since_restore": 3607.463523864746, "episodes_total": 2006, "iterations_since_restore": 71, "pid": 46880, "episodes_this_iter": 31, "episode_len_mean": 676.91, "done": false, "training_iteration": 71, "custom_metrics": {"cost2_mean": -0.08404900047361583, "outflow_rate_mean": 1082.658598838128, "cost2_min": -0.6748789437116637, "system_level_velocity_mean": 13.041907126911543, "cost1_min": 11.779850130187988, "cost1_mean": 321.2959331443535, "cost1_max": 458.5790643565872, "outflow_rate_max": 1340.3180785945035, "system_level_velocity_max": 18.990480987930177, "outflow_rate_min": 464.2002765876701, "cost2_max": 0.0, "system_level_velocity_min": 10.227438047023552}, "node_ip": "10.138.0.2", "timesteps_total": 4782146}
{"hostname": "flow-main", "episode_reward_mean": 978.6883098147674, "experiment_id": "383e98f8614b4235818372cc4d63f9e0", "config": {"use_gae": true, "tf_session_args": {"allow_soft_placement": true, "gpu_options": {"allow_growth": true}, "inter_op_parallelism_threads": 2, "device_count": {"CPU": 1}, "intra_op_parallelism_threads": 2, "log_device_placement": false}, "entropy_coeff": 0.0, "kl_coeff": 0.2, "num_gpus_per_worker": 0, "monitor": false, "input_evaluation": null, "clip_rewards": null, "vf_share_layers": false, "straggler_mitigation": false, "log_level": "INFO", "clip_actions": false, "simple_optimizer": false, "sample_batch_size": 750, "vf_clip_param": 1000000.0, "custom_resources_per_worker": {}, "lr": 0.0005, "num_sgd_iter": 10, "model": {"grayscale": false, "dim": 84, "custom_model": null, "free_log_std": false, "custom_options": {}, "lstm_cell_size": 256, "framestack": true, "squash_to_range": false, "conv_filters": null, "channel_major": false, "custom_preprocessor": null, "fcnet_hiddens": [128, 64, 32], "max_seq_len": 20, "lstm_use_prev_action_reward": false, "conv_activation": "relu", "use_lstm": false, "zero_mean": true, "fcnet_activation": "tanh"}, "input": "sampler", "horizon": 1500, "vf_loss_coeff": 1.0, "compress_observations": false, "num_envs_per_worker": 1, "sample_async": false, "num_gpus": 0, "output_max_file_size": 67108864, "lambda": 0.97, "multiagent": {"policy_graphs": {}, "policies_to_train": null, "policy_mapping_fn": null}, "output": null, "num_cpus_per_worker": 1, "preprocessor_pref": "deepmind", "clip_param": 0.3, "kl_target": 0.01, "output_compress_columns": ["obs", "new_obs"], "collect_metrics_timeout": 180, "sgd_minibatch_size": 128, "train_batch_size": 30000, "callbacks": {"on_sample_end": null, "on_train_result": null, "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7f2c02cf5cf8>", "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7f2c02cf5c18>", "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7f2c02cf5e48>"}, "observation_filter": "MeanStdFilter", "synchronize_filters": true, "gamma": 0.99, "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "env_config": {"flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"buf_length\": 1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.1,\n            \"eta3\": 0.1,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 1.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnv\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 600,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}", "run": "PPO"}, "env": "MultiWaveAttenuationMergePOEnv-v0_[eta1, eta2, eta3]:[1.0, 0.1, 0.1]_t_min:1.0_buf_len: 1", "optimizer": {}, "num_workers": 20, "num_cpus_for_driver": 1, "lr_schedule": null, "batch_mode": "truncate_episodes"}, "time_this_iter_s": 47.871840476989746, "timesteps_since_restore": 4846813, "info": {"update_time_ms": 8.409, "num_steps_sampled": 4846813, "sample_time_ms": 34116.084, "grad_time_ms": 16657.619, "default": {"entropy": 1.402290940284729, "kl": 0.016375001519918442, "vf_loss": 29.581117630004883, "vf_explained_var": 0.8512374758720398, "policy_loss": -0.011402703821659088, "total_loss": 29.57339859008789, "cur_lr": 0.0005000000237487257, "cur_kl_coeff": 0.22499996423721313}, "num_steps_trained": 4846813, "load_time_ms": 10.444}, "time_total_s": 3655.335364341736, "num_metric_batches_dropped": 0, "timestamp": 1558310146, "episode_reward_max": 1330.7206712638474, "timesteps_this_iter": 64667, "episode_reward_min": 52.034018633282805, "date": "2019-05-19_23-55-46", "policy_reward_mean": {}, "time_since_restore": 3655.335364341736, "episodes_total": 2033, "iterations_since_restore": 72, "pid": 46880, "episodes_this_iter": 27, "episode_len_mean": 683.73, "done": false, "training_iteration": 72, "custom_metrics": {"cost2_mean": -0.07320366102034295, "outflow_rate_mean": 1093.4117952214617, "cost2_min": -0.5177981875131155, "system_level_velocity_mean": 13.102872148877015, "cost1_min": 24.4929775541009, "cost1_mean": 327.00048785198, "cost1_max": 477.21355479422743, "outflow_rate_max": 1348.2358526623846, "system_level_velocity_max": 18.990480987930177, "outflow_rate_min": 518.5981561985975, "cost2_max": 0.0, "system_level_velocity_min": 10.227438047023552}, "node_ip": "10.138.0.2", "timesteps_total": 4846813}
{"hostname": "flow-main", "episode_reward_mean": 989.0353671144611, "experiment_id": "383e98f8614b4235818372cc4d63f9e0", "config": {"use_gae": true, "tf_session_args": {"allow_soft_placement": true, "gpu_options": {"allow_growth": true}, "inter_op_parallelism_threads": 2, "device_count": {"CPU": 1}, "intra_op_parallelism_threads": 2, "log_device_placement": false}, "entropy_coeff": 0.0, "kl_coeff": 0.2, "num_gpus_per_worker": 0, "monitor": false, "input_evaluation": null, "clip_rewards": null, "vf_share_layers": false, "straggler_mitigation": false, "log_level": "INFO", "clip_actions": false, "simple_optimizer": false, "sample_batch_size": 750, "vf_clip_param": 1000000.0, "custom_resources_per_worker": {}, "lr": 0.0005, "num_sgd_iter": 10, "model": {"grayscale": false, "dim": 84, "custom_model": null, "free_log_std": false, "custom_options": {}, "lstm_cell_size": 256, "framestack": true, "squash_to_range": false, "conv_filters": null, "channel_major": false, "custom_preprocessor": null, "fcnet_hiddens": [128, 64, 32], "max_seq_len": 20, "lstm_use_prev_action_reward": false, "conv_activation": "relu", "use_lstm": false, "zero_mean": true, "fcnet_activation": "tanh"}, "input": "sampler", "horizon": 1500, "vf_loss_coeff": 1.0, "compress_observations": false, "num_envs_per_worker": 1, "sample_async": false, "num_gpus": 0, "output_max_file_size": 67108864, "lambda": 0.97, "multiagent": {"policy_graphs": {}, "policies_to_train": null, "policy_mapping_fn": null}, "output": null, "num_cpus_per_worker": 1, "preprocessor_pref": "deepmind", "clip_param": 0.3, "kl_target": 0.01, "output_compress_columns": ["obs", "new_obs"], "collect_metrics_timeout": 180, "sgd_minibatch_size": 128, "train_batch_size": 30000, "callbacks": {"on_sample_end": null, "on_train_result": null, "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7f2c02ce8128>", "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7f2c02898438>", "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7f2c02898ef0>"}, "observation_filter": "MeanStdFilter", "synchronize_filters": true, "gamma": 0.99, "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "env_config": {"flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"buf_length\": 1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.1,\n            \"eta3\": 0.1,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 1.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnv\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 600,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}", "run": "PPO"}, "env": "MultiWaveAttenuationMergePOEnv-v0_[eta1, eta2, eta3]:[1.0, 0.1, 0.1]_t_min:1.0_buf_len: 1", "optimizer": {}, "num_workers": 20, "num_cpus_for_driver": 1, "lr_schedule": null, "batch_mode": "truncate_episodes"}, "time_this_iter_s": 50.657312870025635, "timesteps_since_restore": 4913805, "info": {"update_time_ms": 8.103, "num_steps_sampled": 4913805, "sample_time_ms": 34233.307, "grad_time_ms": 16453.559, "default": {"entropy": 1.4087905883789062, "kl": 0.015235700644552708, "vf_loss": 27.7132568359375, "vf_explained_var": 0.8437928557395935, "policy_loss": -0.0098330182954669, "total_loss": 27.706851959228516, "cur_lr": 0.0005000000237487257, "cur_kl_coeff": 0.22499997913837433}, "num_steps_trained": 4913805, "load_time_ms": 10.649}, "time_total_s": 3705.9926772117615, "num_metric_batches_dropped": 0, "timestamp": 1558310197, "episode_reward_max": 1330.7206712638474, "timesteps_this_iter": 66992, "episode_reward_min": 179.30382460780962, "date": "2019-05-19_23-56-37", "policy_reward_mean": {}, "time_since_restore": 3705.9926772117615, "episodes_total": 2060, "iterations_since_restore": 73, "pid": 46880, "episodes_this_iter": 27, "episode_len_mean": 690.36, "done": false, "training_iteration": 73, "custom_metrics": {"cost2_mean": -0.07055312184640458, "outflow_rate_mean": 1095.4903678885428, "cost2_min": -0.5177981875131155, "system_level_velocity_mean": 12.986205535947105, "cost1_min": 75.04712565113687, "cost1_mean": 328.4027908317876, "cost1_max": 477.21355479422743, "outflow_rate_max": 1348.2358526623846, "system_level_velocity_max": 18.575049298464897, "outflow_rate_min": 696.5949902809538, "cost2_max": 0.0, "system_level_velocity_min": 9.502554149389631}, "node_ip": "10.138.0.2", "timesteps_total": 4913805}
{"hostname": "flow-main", "episode_reward_mean": 980.3521626721108, "experiment_id": "383e98f8614b4235818372cc4d63f9e0", "config": {"use_gae": true, "tf_session_args": {"allow_soft_placement": true, "gpu_options": {"allow_growth": true}, "inter_op_parallelism_threads": 2, "device_count": {"CPU": 1}, "intra_op_parallelism_threads": 2, "log_device_placement": false}, "entropy_coeff": 0.0, "kl_coeff": 0.2, "num_gpus_per_worker": 0, "monitor": false, "input_evaluation": null, "clip_rewards": null, "vf_share_layers": false, "straggler_mitigation": false, "log_level": "INFO", "clip_actions": false, "simple_optimizer": false, "sample_batch_size": 750, "vf_clip_param": 1000000.0, "custom_resources_per_worker": {}, "lr": 0.0005, "num_sgd_iter": 10, "model": {"grayscale": false, "dim": 84, "custom_model": null, "free_log_std": false, "custom_options": {}, "lstm_cell_size": 256, "framestack": true, "squash_to_range": false, "conv_filters": null, "channel_major": false, "custom_preprocessor": null, "fcnet_hiddens": [128, 64, 32], "max_seq_len": 20, "lstm_use_prev_action_reward": false, "conv_activation": "relu", "use_lstm": false, "zero_mean": true, "fcnet_activation": "tanh"}, "input": "sampler", "horizon": 1500, "vf_loss_coeff": 1.0, "compress_observations": false, "num_envs_per_worker": 1, "sample_async": false, "num_gpus": 0, "output_max_file_size": 67108864, "lambda": 0.97, "multiagent": {"policy_graphs": {}, "policies_to_train": null, "policy_mapping_fn": null}, "output": null, "num_cpus_per_worker": 1, "preprocessor_pref": "deepmind", "clip_param": 0.3, "kl_target": 0.01, "output_compress_columns": ["obs", "new_obs"], "collect_metrics_timeout": 180, "sgd_minibatch_size": 128, "train_batch_size": 30000, "callbacks": {"on_sample_end": null, "on_train_result": null, "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7f2c02d02390>", "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7f2c02d02ac8>", "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7f2c02d02828>"}, "observation_filter": "MeanStdFilter", "synchronize_filters": true, "gamma": 0.99, "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "env_config": {"flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"buf_length\": 1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.1,\n            \"eta3\": 0.1,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 1.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnv\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 600,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}", "run": "PPO"}, "env": "MultiWaveAttenuationMergePOEnv-v0_[eta1, eta2, eta3]:[1.0, 0.1, 0.1]_t_min:1.0_buf_len: 1", "optimizer": {}, "num_workers": 20, "num_cpus_for_driver": 1, "lr_schedule": null, "batch_mode": "truncate_episodes"}, "time_this_iter_s": 51.90109705924988, "timesteps_since_restore": 4982480, "info": {"update_time_ms": 7.757, "num_steps_sampled": 4982480, "sample_time_ms": 34370.754, "grad_time_ms": 16417.767, "default": {"entropy": 1.4283984899520874, "kl": 0.016500448808073997, "vf_loss": 25.465648651123047, "vf_explained_var": 0.8496881723403931, "policy_loss": -0.009223883040249348, "total_loss": 25.460140228271484, "cur_lr": 0.0005000000237487257, "cur_kl_coeff": 0.22500000894069672}, "num_steps_trained": 4982480, "load_time_ms": 10.764}, "time_total_s": 3757.8937742710114, "num_metric_batches_dropped": 0, "timestamp": 1558310249, "episode_reward_max": 1330.7206712638474, "timesteps_this_iter": 68675, "episode_reward_min": 179.30382460780962, "date": "2019-05-19_23-57-29", "policy_reward_mean": {}, "time_since_restore": 3757.8937742710114, "episodes_total": 2087, "iterations_since_restore": 74, "pid": 46880, "episodes_this_iter": 27, "episode_len_mean": 690.36, "done": false, "training_iteration": 74, "custom_metrics": {"cost2_mean": -0.06225733647266241, "outflow_rate_mean": 1091.3302349810906, "cost2_min": -0.5729610358542665, "system_level_velocity_mean": 12.945029951582422, "cost1_min": 75.04712565113687, "cost1_mean": 327.4426345467962, "cost1_max": 479.6537543391487, "outflow_rate_max": 1348.2358526623846, "system_level_velocity_max": 18.575049298464897, "outflow_rate_min": 696.5949902809538, "cost2_max": 0.0, "system_level_velocity_min": 9.502554149389631}, "node_ip": "10.138.0.2", "timesteps_total": 4982480}
{"hostname": "flow-main", "episode_reward_mean": 1004.3611678349356, "experiment_id": "383e98f8614b4235818372cc4d63f9e0", "config": {"use_gae": true, "tf_session_args": {"allow_soft_placement": true, "gpu_options": {"allow_growth": true}, "inter_op_parallelism_threads": 2, "device_count": {"CPU": 1}, "intra_op_parallelism_threads": 2, "log_device_placement": false}, "entropy_coeff": 0.0, "kl_coeff": 0.2, "num_gpus_per_worker": 0, "monitor": false, "input_evaluation": null, "clip_rewards": null, "vf_share_layers": false, "straggler_mitigation": false, "log_level": "INFO", "clip_actions": false, "simple_optimizer": false, "sample_batch_size": 750, "vf_clip_param": 1000000.0, "custom_resources_per_worker": {}, "lr": 0.0005, "num_sgd_iter": 10, "model": {"grayscale": false, "dim": 84, "custom_model": null, "free_log_std": false, "custom_options": {}, "lstm_cell_size": 256, "framestack": true, "squash_to_range": false, "conv_filters": null, "channel_major": false, "custom_preprocessor": null, "fcnet_hiddens": [128, 64, 32], "max_seq_len": 20, "lstm_use_prev_action_reward": false, "conv_activation": "relu", "use_lstm": false, "zero_mean": true, "fcnet_activation": "tanh"}, "input": "sampler", "horizon": 1500, "vf_loss_coeff": 1.0, "compress_observations": false, "num_envs_per_worker": 1, "sample_async": false, "num_gpus": 0, "output_max_file_size": 67108864, "lambda": 0.97, "multiagent": {"policy_graphs": {}, "policies_to_train": null, "policy_mapping_fn": null}, "output": null, "num_cpus_per_worker": 1, "preprocessor_pref": "deepmind", "clip_param": 0.3, "kl_target": 0.01, "output_compress_columns": ["obs", "new_obs"], "collect_metrics_timeout": 180, "sgd_minibatch_size": 128, "train_batch_size": 30000, "callbacks": {"on_sample_end": null, "on_train_result": null, "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7f2c02897320>", "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7f2c02897e48>", "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7f2c02897668>"}, "observation_filter": "MeanStdFilter", "synchronize_filters": true, "gamma": 0.99, "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "env_config": {"flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"buf_length\": 1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.1,\n            \"eta3\": 0.1,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 1.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnv\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 600,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}", "run": "PPO"}, "env": "MultiWaveAttenuationMergePOEnv-v0_[eta1, eta2, eta3]:[1.0, 0.1, 0.1]_t_min:1.0_buf_len: 1", "optimizer": {}, "num_workers": 20, "num_cpus_for_driver": 1, "lr_schedule": null, "batch_mode": "truncate_episodes"}, "time_this_iter_s": 49.825324296951294, "timesteps_since_restore": 5048360, "info": {"update_time_ms": 7.809, "num_steps_sampled": 5048360, "sample_time_ms": 34506.78, "grad_time_ms": 16064.398, "default": {"entropy": 1.415282964706421, "kl": 0.016672909259796143, "vf_loss": 30.40418243408203, "vf_explained_var": 0.8513886332511902, "policy_loss": -0.010598260909318924, "total_loss": 30.397335052490234, "cur_lr": 0.0005000000237487257, "cur_kl_coeff": 0.22499997913837433}, "num_steps_trained": 5048360, "load_time_ms": 10.639}, "time_total_s": 3807.7190985679626, "num_metric_batches_dropped": 0, "timestamp": 1558310299, "episode_reward_max": 1330.7206712638474, "timesteps_this_iter": 65880, "episode_reward_min": 810.6187283764466, "date": "2019-05-19_23-58-19", "policy_reward_mean": {}, "time_since_restore": 3807.7190985679626, "episodes_total": 2114, "iterations_since_restore": 75, "pid": 46880, "episodes_this_iter": 27, "episode_len_mean": 700.0, "done": false, "training_iteration": 75, "custom_metrics": {"cost2_mean": -0.07470100994770626, "outflow_rate_mean": 1100.7284992007203, "cost2_min": -0.744629045649843, "system_level_velocity_mean": 12.952736180682646, "cost1_min": 244.73894519230572, "cost1_mean": 334.05779410402, "cost1_max": 487.98615624010375, "outflow_rate_max": 1364.7688941567496, "system_level_velocity_max": 18.723626921351602, "outflow_rate_min": 936.5165822428095, "cost2_max": 0.0, "system_level_velocity_min": 9.502554149389631}, "node_ip": "10.138.0.2", "timesteps_total": 5048360}
{"hostname": "flow-main", "episode_reward_mean": 1011.4822424635496, "experiment_id": "383e98f8614b4235818372cc4d63f9e0", "config": {"use_gae": true, "tf_session_args": {"allow_soft_placement": true, "gpu_options": {"allow_growth": true}, "inter_op_parallelism_threads": 2, "device_count": {"CPU": 1}, "intra_op_parallelism_threads": 2, "log_device_placement": false}, "entropy_coeff": 0.0, "kl_coeff": 0.2, "num_gpus_per_worker": 0, "monitor": false, "input_evaluation": null, "clip_rewards": null, "vf_share_layers": false, "straggler_mitigation": false, "log_level": "INFO", "clip_actions": false, "simple_optimizer": false, "sample_batch_size": 750, "vf_clip_param": 1000000.0, "custom_resources_per_worker": {}, "lr": 0.0005, "num_sgd_iter": 10, "model": {"grayscale": false, "dim": 84, "custom_model": null, "free_log_std": false, "custom_options": {}, "lstm_cell_size": 256, "framestack": true, "squash_to_range": false, "conv_filters": null, "channel_major": false, "custom_preprocessor": null, "fcnet_hiddens": [128, 64, 32], "max_seq_len": 20, "lstm_use_prev_action_reward": false, "conv_activation": "relu", "use_lstm": false, "zero_mean": true, "fcnet_activation": "tanh"}, "input": "sampler", "horizon": 1500, "vf_loss_coeff": 1.0, "compress_observations": false, "num_envs_per_worker": 1, "sample_async": false, "num_gpus": 0, "output_max_file_size": 67108864, "lambda": 0.97, "multiagent": {"policy_graphs": {}, "policies_to_train": null, "policy_mapping_fn": null}, "output": null, "num_cpus_per_worker": 1, "preprocessor_pref": "deepmind", "clip_param": 0.3, "kl_target": 0.01, "output_compress_columns": ["obs", "new_obs"], "collect_metrics_timeout": 180, "sgd_minibatch_size": 128, "train_batch_size": 30000, "callbacks": {"on_sample_end": null, "on_train_result": null, "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7f2c02cfe2b0>", "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7f2c02cfe1d0>", "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7f2c02cfe518>"}, "observation_filter": "MeanStdFilter", "synchronize_filters": true, "gamma": 0.99, "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "env_config": {"flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"buf_length\": 1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.1,\n            \"eta3\": 0.1,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 1.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnv\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 600,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}", "run": "PPO"}, "env": "MultiWaveAttenuationMergePOEnv-v0_[eta1, eta2, eta3]:[1.0, 0.1, 0.1]_t_min:1.0_buf_len: 1", "optimizer": {}, "num_workers": 20, "num_cpus_for_driver": 1, "lr_schedule": null, "batch_mode": "truncate_episodes"}, "time_this_iter_s": 51.065420627593994, "timesteps_since_restore": 5114020, "info": {"update_time_ms": 7.798, "num_steps_sampled": 5114020, "sample_time_ms": 34613.22, "grad_time_ms": 15890.515, "default": {"entropy": 1.417219877243042, "kl": 0.017551828175783157, "vf_loss": 32.526611328125, "vf_explained_var": 0.8375824689865112, "policy_loss": -0.010608110576868057, "total_loss": 32.51995086669922, "cur_lr": 0.0005000000237487257, "cur_kl_coeff": 0.22499996423721313}, "num_steps_trained": 5114020, "load_time_ms": 10.462}, "time_total_s": 3858.7845191955566, "num_metric_batches_dropped": 0, "timestamp": 1558310350, "episode_reward_max": 1303.4236627055855, "timesteps_this_iter": 65660, "episode_reward_min": 810.6187283764466, "date": "2019-05-19_23-59-10", "policy_reward_mean": {}, "time_since_restore": 3858.7845191955566, "episodes_total": 2144, "iterations_since_restore": 76, "pid": 46880, "episodes_this_iter": 30, "episode_len_mean": 698.52, "done": false, "training_iteration": 76, "custom_metrics": {"cost2_mean": -0.09288205291382105, "outflow_rate_mean": 1103.2534394762076, "cost2_min": -0.744629045649843, "system_level_velocity_mean": 13.029042851845572, "cost1_min": 244.73894519230572, "cost1_mean": 335.07625568520933, "cost1_max": 487.98615624010375, "outflow_rate_max": 1364.7688941567496, "system_level_velocity_max": 18.723626921351602, "outflow_rate_min": 936.5165822428095, "cost2_max": 0.0, "system_level_velocity_min": 9.502554149389631}, "node_ip": "10.138.0.2", "timesteps_total": 5114020}
{"hostname": "flow-main", "episode_reward_mean": 985.2211912814014, "experiment_id": "383e98f8614b4235818372cc4d63f9e0", "config": {"use_gae": true, "tf_session_args": {"allow_soft_placement": true, "gpu_options": {"allow_growth": true}, "inter_op_parallelism_threads": 2, "device_count": {"CPU": 1}, "intra_op_parallelism_threads": 2, "log_device_placement": false}, "entropy_coeff": 0.0, "kl_coeff": 0.2, "num_gpus_per_worker": 0, "monitor": false, "input_evaluation": null, "clip_rewards": null, "vf_share_layers": false, "straggler_mitigation": false, "log_level": "INFO", "clip_actions": false, "simple_optimizer": false, "sample_batch_size": 750, "vf_clip_param": 1000000.0, "custom_resources_per_worker": {}, "lr": 0.0005, "num_sgd_iter": 10, "model": {"grayscale": false, "dim": 84, "custom_model": null, "free_log_std": false, "custom_options": {}, "lstm_cell_size": 256, "framestack": true, "squash_to_range": false, "conv_filters": null, "channel_major": false, "custom_preprocessor": null, "fcnet_hiddens": [128, 64, 32], "max_seq_len": 20, "lstm_use_prev_action_reward": false, "conv_activation": "relu", "use_lstm": false, "zero_mean": true, "fcnet_activation": "tanh"}, "input": "sampler", "horizon": 1500, "vf_loss_coeff": 1.0, "compress_observations": false, "num_envs_per_worker": 1, "sample_async": false, "num_gpus": 0, "output_max_file_size": 67108864, "lambda": 0.97, "multiagent": {"policy_graphs": {}, "policies_to_train": null, "policy_mapping_fn": null}, "output": null, "num_cpus_per_worker": 1, "preprocessor_pref": "deepmind", "clip_param": 0.3, "kl_target": 0.01, "output_compress_columns": ["obs", "new_obs"], "collect_metrics_timeout": 180, "sgd_minibatch_size": 128, "train_batch_size": 30000, "callbacks": {"on_sample_end": null, "on_train_result": null, "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7f2c02cf5128>", "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7f2c0288ee10>", "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7f2c0288e7b8>"}, "observation_filter": "MeanStdFilter", "synchronize_filters": true, "gamma": 0.99, "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "env_config": {"flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"buf_length\": 1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.1,\n            \"eta3\": 0.1,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 1.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnv\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 600,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}", "run": "PPO"}, "env": "MultiWaveAttenuationMergePOEnv-v0_[eta1, eta2, eta3]:[1.0, 0.1, 0.1]_t_min:1.0_buf_len: 1", "optimizer": {}, "num_workers": 20, "num_cpus_for_driver": 1, "lr_schedule": null, "batch_mode": "truncate_episodes"}, "time_this_iter_s": 53.31169247627258, "timesteps_since_restore": 5181566, "info": {"update_time_ms": 7.592, "num_steps_sampled": 5181566, "sample_time_ms": 34509.616, "grad_time_ms": 16076.502, "default": {"entropy": 1.4192487001419067, "kl": 0.016676176339387894, "vf_loss": 31.215778350830078, "vf_explained_var": 0.8460603952407837, "policy_loss": -0.010122663341462612, "total_loss": 31.209407806396484, "cur_lr": 0.0005000000237487257, "cur_kl_coeff": 0.22499997913837433}, "num_steps_trained": 5181566, "load_time_ms": 10.489}, "time_total_s": 3912.096211671829, "num_metric_batches_dropped": 0, "timestamp": 1558310403, "episode_reward_max": 1247.5554460854692, "timesteps_this_iter": 67546, "episode_reward_min": 39.03354974155306, "date": "2019-05-20_00-00-03", "policy_reward_mean": {}, "time_since_restore": 3912.096211671829, "episodes_total": 2174, "iterations_since_restore": 77, "pid": 46880, "episodes_this_iter": 30, "episode_len_mean": 685.12, "done": false, "training_iteration": 77, "custom_metrics": {"cost2_mean": -0.09637056467312533, "outflow_rate_mean": 1093.845836887032, "cost2_min": -0.744629045649843, "system_level_velocity_mean": 13.202874410347892, "cost1_min": 15.76129291966556, "cost1_mean": 330.19898220480286, "cost1_max": 487.98615624010375, "outflow_rate_max": 1364.7688941567496, "system_level_velocity_max": 18.723626921351602, "outflow_rate_min": 478.9342030958992, "cost2_max": 0.0, "system_level_velocity_min": 9.928859617826316}, "node_ip": "10.138.0.2", "timesteps_total": 5181566}
{"hostname": "flow-main", "episode_reward_mean": 973.5278335915889, "experiment_id": "383e98f8614b4235818372cc4d63f9e0", "config": {"use_gae": true, "tf_session_args": {"allow_soft_placement": true, "gpu_options": {"allow_growth": true}, "inter_op_parallelism_threads": 2, "device_count": {"CPU": 1}, "intra_op_parallelism_threads": 2, "log_device_placement": false}, "entropy_coeff": 0.0, "kl_coeff": 0.2, "num_gpus_per_worker": 0, "monitor": false, "input_evaluation": null, "clip_rewards": null, "vf_share_layers": false, "straggler_mitigation": false, "log_level": "INFO", "clip_actions": false, "simple_optimizer": false, "sample_batch_size": 750, "vf_clip_param": 1000000.0, "custom_resources_per_worker": {}, "lr": 0.0005, "num_sgd_iter": 10, "model": {"grayscale": false, "dim": 84, "custom_model": null, "free_log_std": false, "custom_options": {}, "lstm_cell_size": 256, "framestack": true, "squash_to_range": false, "conv_filters": null, "channel_major": false, "custom_preprocessor": null, "fcnet_hiddens": [128, 64, 32], "max_seq_len": 20, "lstm_use_prev_action_reward": false, "conv_activation": "relu", "use_lstm": false, "zero_mean": true, "fcnet_activation": "tanh"}, "input": "sampler", "horizon": 1500, "vf_loss_coeff": 1.0, "compress_observations": false, "num_envs_per_worker": 1, "sample_async": false, "num_gpus": 0, "output_max_file_size": 67108864, "lambda": 0.97, "multiagent": {"policy_graphs": {}, "policies_to_train": null, "policy_mapping_fn": null}, "output": null, "num_cpus_per_worker": 1, "preprocessor_pref": "deepmind", "clip_param": 0.3, "kl_target": 0.01, "output_compress_columns": ["obs", "new_obs"], "collect_metrics_timeout": 180, "sgd_minibatch_size": 128, "train_batch_size": 30000, "callbacks": {"on_sample_end": null, "on_train_result": null, "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7f2c02cfe208>", "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7f2c02cfe518>", "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7f2c02cfe710>"}, "observation_filter": "MeanStdFilter", "synchronize_filters": true, "gamma": 0.99, "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "env_config": {"flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"buf_length\": 1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.1,\n            \"eta3\": 0.1,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 1.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnv\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 600,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}", "run": "PPO"}, "env": "MultiWaveAttenuationMergePOEnv-v0_[eta1, eta2, eta3]:[1.0, 0.1, 0.1]_t_min:1.0_buf_len: 1", "optimizer": {}, "num_workers": 20, "num_cpus_for_driver": 1, "lr_schedule": null, "batch_mode": "truncate_episodes"}, "time_this_iter_s": 53.23026967048645, "timesteps_since_restore": 5249748, "info": {"update_time_ms": 7.74, "num_steps_sampled": 5249748, "sample_time_ms": 34819.795, "grad_time_ms": 16020.442, "default": {"entropy": 1.4161103963851929, "kl": 0.015863187611103058, "vf_loss": 31.532007217407227, "vf_explained_var": 0.8238362073898315, "policy_loss": -0.009172366000711918, "total_loss": 31.526403427124023, "cur_lr": 0.0005000000237487257, "cur_kl_coeff": 0.22499999403953552}, "num_steps_trained": 5249748, "load_time_ms": 10.564}, "time_total_s": 3965.3264813423157, "num_metric_batches_dropped": 0, "timestamp": 1558310456, "episode_reward_max": 1206.318215293812, "timesteps_this_iter": 68182, "episode_reward_min": 39.03354974155306, "date": "2019-05-20_00-00-56", "policy_reward_mean": {}, "time_since_restore": 3965.3264813423157, "episodes_total": 2205, "iterations_since_restore": 78, "pid": 46880, "episodes_this_iter": 31, "episode_len_mean": 678.37, "done": false, "training_iteration": 78, "custom_metrics": {"cost2_mean": -0.10413768300506138, "outflow_rate_mean": 1087.017309781656, "cost2_min": -0.5, "system_level_velocity_mean": 13.253002812681604, "cost1_min": 15.76129291966556, "cost1_mean": 326.9297307019176, "cost1_max": 487.98615624010375, "outflow_rate_max": 1364.7688941567496, "system_level_velocity_max": 18.723626921351602, "outflow_rate_min": 458.9024344111505, "cost2_max": 0.0, "system_level_velocity_min": 9.928859617826316}, "node_ip": "10.138.0.2", "timesteps_total": 5249748}
{"hostname": "flow-main", "episode_reward_mean": 949.7716975034313, "experiment_id": "383e98f8614b4235818372cc4d63f9e0", "config": {"use_gae": true, "tf_session_args": {"allow_soft_placement": true, "gpu_options": {"allow_growth": true}, "inter_op_parallelism_threads": 2, "device_count": {"CPU": 1}, "intra_op_parallelism_threads": 2, "log_device_placement": false}, "entropy_coeff": 0.0, "kl_coeff": 0.2, "num_gpus_per_worker": 0, "monitor": false, "input_evaluation": null, "clip_rewards": null, "vf_share_layers": false, "straggler_mitigation": false, "log_level": "INFO", "clip_actions": false, "simple_optimizer": false, "sample_batch_size": 750, "vf_clip_param": 1000000.0, "custom_resources_per_worker": {}, "lr": 0.0005, "num_sgd_iter": 10, "model": {"grayscale": false, "dim": 84, "custom_model": null, "free_log_std": false, "custom_options": {}, "lstm_cell_size": 256, "framestack": true, "squash_to_range": false, "conv_filters": null, "channel_major": false, "custom_preprocessor": null, "fcnet_hiddens": [128, 64, 32], "max_seq_len": 20, "lstm_use_prev_action_reward": false, "conv_activation": "relu", "use_lstm": false, "zero_mean": true, "fcnet_activation": "tanh"}, "input": "sampler", "horizon": 1500, "vf_loss_coeff": 1.0, "compress_observations": false, "num_envs_per_worker": 1, "sample_async": false, "num_gpus": 0, "output_max_file_size": 67108864, "lambda": 0.97, "multiagent": {"policy_graphs": {}, "policies_to_train": null, "policy_mapping_fn": null}, "output": null, "num_cpus_per_worker": 1, "preprocessor_pref": "deepmind", "clip_param": 0.3, "kl_target": 0.01, "output_compress_columns": ["obs", "new_obs"], "collect_metrics_timeout": 180, "sgd_minibatch_size": 128, "train_batch_size": 30000, "callbacks": {"on_sample_end": null, "on_train_result": null, "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7f2c02898d30>", "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7f2c02898898>", "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7f2c028987f0>"}, "observation_filter": "MeanStdFilter", "synchronize_filters": true, "gamma": 0.99, "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "env_config": {"flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"buf_length\": 1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.1,\n            \"eta3\": 0.1,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 1.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnv\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 600,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}", "run": "PPO"}, "env": "MultiWaveAttenuationMergePOEnv-v0_[eta1, eta2, eta3]:[1.0, 0.1, 0.1]_t_min:1.0_buf_len: 1", "optimizer": {}, "num_workers": 20, "num_cpus_for_driver": 1, "lr_schedule": null, "batch_mode": "truncate_episodes"}, "time_this_iter_s": 54.38993835449219, "timesteps_since_restore": 5318354, "info": {"update_time_ms": 7.776, "num_steps_sampled": 5318354, "sample_time_ms": 35031.687, "grad_time_ms": 16535.238, "default": {"entropy": 1.4275463819503784, "kl": 0.017077967524528503, "vf_loss": 28.427438735961914, "vf_explained_var": 0.8471546173095703, "policy_loss": -0.00932707916945219, "total_loss": 28.421955108642578, "cur_lr": 0.0005000000237487257, "cur_kl_coeff": 0.22499999403953552}, "num_steps_trained": 5318354, "load_time_ms": 10.514}, "time_total_s": 4019.716419696808, "num_metric_batches_dropped": 0, "timestamp": 1558310511, "episode_reward_max": 1190.220802948028, "timesteps_this_iter": 68606, "episode_reward_min": 39.03354974155306, "date": "2019-05-20_00-01-51", "policy_reward_mean": {}, "time_since_restore": 4019.716419696808, "episodes_total": 2234, "iterations_since_restore": 79, "pid": 46880, "episodes_this_iter": 29, "episode_len_mean": 666.79, "done": false, "training_iteration": 79, "custom_metrics": {"cost2_mean": -0.09339904815775237, "outflow_rate_mean": 1069.5583657635818, "cost2_min": -0.4262097016795994, "system_level_velocity_mean": 13.153587355080706, "cost1_min": 15.76129291966556, "cost1_mean": 316.4185799924111, "cost1_max": 483.7667917851452, "outflow_rate_max": 1287.440129026251, "system_level_velocity_max": 18.691707333908482, "outflow_rate_min": 458.9024344111505, "cost2_max": 0.0, "system_level_velocity_min": 10.112686544016233}, "node_ip": "10.138.0.2", "timesteps_total": 5318354}
{"hostname": "flow-main", "episode_reward_mean": 939.2323669508736, "experiment_id": "383e98f8614b4235818372cc4d63f9e0", "config": {"use_gae": true, "tf_session_args": {"allow_soft_placement": true, "gpu_options": {"allow_growth": true}, "inter_op_parallelism_threads": 2, "device_count": {"CPU": 1}, "intra_op_parallelism_threads": 2, "log_device_placement": false}, "entropy_coeff": 0.0, "kl_coeff": 0.2, "num_gpus_per_worker": 0, "monitor": false, "input_evaluation": null, "clip_rewards": null, "vf_share_layers": false, "straggler_mitigation": false, "log_level": "INFO", "clip_actions": false, "simple_optimizer": false, "sample_batch_size": 750, "vf_clip_param": 1000000.0, "custom_resources_per_worker": {}, "lr": 0.0005, "num_sgd_iter": 10, "model": {"grayscale": false, "dim": 84, "custom_model": null, "free_log_std": false, "custom_options": {}, "lstm_cell_size": 256, "framestack": true, "squash_to_range": false, "conv_filters": null, "channel_major": false, "custom_preprocessor": null, "fcnet_hiddens": [128, 64, 32], "max_seq_len": 20, "lstm_use_prev_action_reward": false, "conv_activation": "relu", "use_lstm": false, "zero_mean": true, "fcnet_activation": "tanh"}, "input": "sampler", "horizon": 1500, "vf_loss_coeff": 1.0, "compress_observations": false, "num_envs_per_worker": 1, "sample_async": false, "num_gpus": 0, "output_max_file_size": 67108864, "lambda": 0.97, "multiagent": {"policy_graphs": {}, "policies_to_train": null, "policy_mapping_fn": null}, "output": null, "num_cpus_per_worker": 1, "preprocessor_pref": "deepmind", "clip_param": 0.3, "kl_target": 0.01, "output_compress_columns": ["obs", "new_obs"], "collect_metrics_timeout": 180, "sgd_minibatch_size": 128, "train_batch_size": 30000, "callbacks": {"on_sample_end": null, "on_train_result": null, "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7f2c02898390>", "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7f2c02898668>", "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7f2c02898a58>"}, "observation_filter": "MeanStdFilter", "synchronize_filters": true, "gamma": 0.99, "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "env_config": {"flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"buf_length\": 1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.1,\n            \"eta3\": 0.1,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 1.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnv\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 600,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}", "run": "PPO"}, "env": "MultiWaveAttenuationMergePOEnv-v0_[eta1, eta2, eta3]:[1.0, 0.1, 0.1]_t_min:1.0_buf_len: 1", "optimizer": {}, "num_workers": 20, "num_cpus_for_driver": 1, "lr_schedule": null, "batch_mode": "truncate_episodes"}, "time_this_iter_s": 53.683000802993774, "timesteps_since_restore": 5385874, "info": {"update_time_ms": 7.593, "num_steps_sampled": 5385874, "sample_time_ms": 35057.569, "grad_time_ms": 16755.645, "default": {"entropy": 1.4200191497802734, "kl": 0.01784924417734146, "vf_loss": 29.538618087768555, "vf_explained_var": 0.8307234644889832, "policy_loss": -0.010521091520786285, "total_loss": 29.532114028930664, "cur_lr": 0.0005000000237487257, "cur_kl_coeff": 0.22499997913837433}, "num_steps_trained": 5385874, "load_time_ms": 10.501}, "time_total_s": 4073.3994204998016, "num_metric_batches_dropped": 0, "timestamp": 1558310564, "episode_reward_max": 1190.220802948028, "timesteps_this_iter": 67520, "episode_reward_min": 32.61595216417061, "date": "2019-05-20_00-02-44", "policy_reward_mean": {}, "time_since_restore": 4073.3994204998016, "episodes_total": 2263, "iterations_since_restore": 80, "pid": 46880, "episodes_this_iter": 29, "episode_len_mean": 666.75, "done": false, "training_iteration": 80, "custom_metrics": {"cost2_mean": -0.09979684509963546, "outflow_rate_mean": 1060.8938917865082, "cost2_min": -0.797749618037961, "system_level_velocity_mean": 12.960862493820896, "cost1_min": 13.69476436597273, "cost1_mean": 311.82135614218777, "cost1_max": 476.84610197667416, "outflow_rate_max": 1285.9745300462, "system_level_velocity_max": 18.691707333908482, "outflow_rate_min": 458.9024344111505, "cost2_max": 0.0, "system_level_velocity_min": 10.112479919661341}, "node_ip": "10.138.0.2", "timesteps_total": 5385874}
{"hostname": "flow-main", "episode_reward_mean": 954.8421902470311, "experiment_id": "383e98f8614b4235818372cc4d63f9e0", "config": {"use_gae": true, "tf_session_args": {"allow_soft_placement": true, "gpu_options": {"allow_growth": true}, "inter_op_parallelism_threads": 2, "device_count": {"CPU": 1}, "intra_op_parallelism_threads": 2, "log_device_placement": false}, "entropy_coeff": 0.0, "kl_coeff": 0.2, "num_gpus_per_worker": 0, "monitor": false, "input_evaluation": null, "clip_rewards": null, "vf_share_layers": false, "straggler_mitigation": false, "log_level": "INFO", "clip_actions": false, "simple_optimizer": false, "sample_batch_size": 750, "vf_clip_param": 1000000.0, "custom_resources_per_worker": {}, "lr": 0.0005, "num_sgd_iter": 10, "model": {"grayscale": false, "dim": 84, "custom_model": null, "free_log_std": false, "custom_options": {}, "lstm_cell_size": 256, "framestack": true, "squash_to_range": false, "conv_filters": null, "channel_major": false, "custom_preprocessor": null, "fcnet_hiddens": [128, 64, 32], "max_seq_len": 20, "lstm_use_prev_action_reward": false, "conv_activation": "relu", "use_lstm": false, "zero_mean": true, "fcnet_activation": "tanh"}, "input": "sampler", "horizon": 1500, "vf_loss_coeff": 1.0, "compress_observations": false, "num_envs_per_worker": 1, "sample_async": false, "num_gpus": 0, "output_max_file_size": 67108864, "lambda": 0.97, "multiagent": {"policy_graphs": {}, "policies_to_train": null, "policy_mapping_fn": null}, "output": null, "num_cpus_per_worker": 1, "preprocessor_pref": "deepmind", "clip_param": 0.3, "kl_target": 0.01, "output_compress_columns": ["obs", "new_obs"], "collect_metrics_timeout": 180, "sgd_minibatch_size": 128, "train_batch_size": 30000, "callbacks": {"on_sample_end": null, "on_train_result": null, "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7f2c02898400>", "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7f2c02898898>", "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7f2c028987f0>"}, "observation_filter": "MeanStdFilter", "synchronize_filters": true, "gamma": 0.99, "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "env_config": {"flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"buf_length\": 1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.1,\n            \"eta3\": 0.1,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 1.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnv\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 600,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}", "run": "PPO"}, "env": "MultiWaveAttenuationMergePOEnv-v0_[eta1, eta2, eta3]:[1.0, 0.1, 0.1]_t_min:1.0_buf_len: 1", "optimizer": {}, "num_workers": 20, "num_cpus_for_driver": 1, "lr_schedule": null, "batch_mode": "truncate_episodes"}, "time_this_iter_s": 50.957186460494995, "timesteps_since_restore": 5451181, "info": {"update_time_ms": 7.584, "num_steps_sampled": 5451181, "sample_time_ms": 34714.529, "grad_time_ms": 16837.449, "default": {"entropy": 1.4052441120147705, "kl": 0.017560577020049095, "vf_loss": 33.94294738769531, "vf_explained_var": 0.8398540019989014, "policy_loss": -0.009305180050432682, "total_loss": 33.937591552734375, "cur_lr": 0.0005000000237487257, "cur_kl_coeff": 0.22499996423721313}, "num_steps_trained": 5451181, "load_time_ms": 10.421}, "time_total_s": 4124.356606960297, "num_metric_batches_dropped": 0, "timestamp": 1558310615, "episode_reward_max": 1174.1564490806945, "timesteps_this_iter": 65307, "episode_reward_min": 32.61595216417061, "date": "2019-05-20_00-03-35", "policy_reward_mean": {}, "time_since_restore": 4124.356606960297, "episodes_total": 2291, "iterations_since_restore": 81, "pid": 46880, "episodes_this_iter": 28, "episode_len_mean": 673.6, "done": false, "training_iteration": 81, "custom_metrics": {"cost2_mean": -0.08942828398453402, "outflow_rate_mean": 1068.097654374036, "cost2_min": -0.797749618037961, "system_level_velocity_mean": 12.894486435333409, "cost1_min": 13.69476436597273, "cost1_mean": 314.8820462738893, "cost1_max": 450.1563878314083, "outflow_rate_max": 1329.092811927972, "system_level_velocity_max": 18.432523286078638, "outflow_rate_min": 472.99230095463946, "cost2_max": 0.0, "system_level_velocity_min": 10.112479919661341}, "node_ip": "10.138.0.2", "timesteps_total": 5451181}
{"hostname": "flow-main", "episode_reward_mean": 955.7701737795866, "experiment_id": "383e98f8614b4235818372cc4d63f9e0", "config": {"use_gae": true, "tf_session_args": {"allow_soft_placement": true, "gpu_options": {"allow_growth": true}, "inter_op_parallelism_threads": 2, "device_count": {"CPU": 1}, "intra_op_parallelism_threads": 2, "log_device_placement": false}, "entropy_coeff": 0.0, "kl_coeff": 0.2, "num_gpus_per_worker": 0, "monitor": false, "input_evaluation": null, "clip_rewards": null, "vf_share_layers": false, "straggler_mitigation": false, "log_level": "INFO", "clip_actions": false, "simple_optimizer": false, "sample_batch_size": 750, "vf_clip_param": 1000000.0, "custom_resources_per_worker": {}, "lr": 0.0005, "num_sgd_iter": 10, "model": {"grayscale": false, "dim": 84, "custom_model": null, "free_log_std": false, "custom_options": {}, "lstm_cell_size": 256, "framestack": true, "squash_to_range": false, "conv_filters": null, "channel_major": false, "custom_preprocessor": null, "fcnet_hiddens": [128, 64, 32], "max_seq_len": 20, "lstm_use_prev_action_reward": false, "conv_activation": "relu", "use_lstm": false, "zero_mean": true, "fcnet_activation": "tanh"}, "input": "sampler", "horizon": 1500, "vf_loss_coeff": 1.0, "compress_observations": false, "num_envs_per_worker": 1, "sample_async": false, "num_gpus": 0, "output_max_file_size": 67108864, "lambda": 0.97, "multiagent": {"policy_graphs": {}, "policies_to_train": null, "policy_mapping_fn": null}, "output": null, "num_cpus_per_worker": 1, "preprocessor_pref": "deepmind", "clip_param": 0.3, "kl_target": 0.01, "output_compress_columns": ["obs", "new_obs"], "collect_metrics_timeout": 180, "sgd_minibatch_size": 128, "train_batch_size": 30000, "callbacks": {"on_sample_end": null, "on_train_result": null, "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7f2c0288e4a8>", "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7f2c0288eda0>", "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7f2c0288e898>"}, "observation_filter": "MeanStdFilter", "synchronize_filters": true, "gamma": 0.99, "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "env_config": {"flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"buf_length\": 1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.1,\n            \"eta3\": 0.1,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 1.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnv\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 600,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}", "run": "PPO"}, "env": "MultiWaveAttenuationMergePOEnv-v0_[eta1, eta2, eta3]:[1.0, 0.1, 0.1]_t_min:1.0_buf_len: 1", "optimizer": {}, "num_workers": 20, "num_cpus_for_driver": 1, "lr_schedule": null, "batch_mode": "truncate_episodes"}, "time_this_iter_s": 50.253007650375366, "timesteps_since_restore": 5518403, "info": {"update_time_ms": 7.871, "num_steps_sampled": 5518403, "sample_time_ms": 34758.582, "grad_time_ms": 17029.064, "default": {"entropy": 1.398828148841858, "kl": 0.01663321815431118, "vf_loss": 33.13734436035156, "vf_explained_var": 0.8350184559822083, "policy_loss": -0.009493883699178696, "total_loss": 33.131591796875, "cur_lr": 0.0005000000237487257, "cur_kl_coeff": 0.22499996423721313}, "num_steps_trained": 5518403, "load_time_ms": 10.438}, "time_total_s": 4174.609614610672, "num_metric_batches_dropped": 0, "timestamp": 1558310666, "episode_reward_max": 1174.1564490806945, "timesteps_this_iter": 67222, "episode_reward_min": 32.61595216417061, "date": "2019-05-20_00-04-26", "policy_reward_mean": {}, "time_since_restore": 4174.609614610672, "episodes_total": 2322, "iterations_since_restore": 82, "pid": 46880, "episodes_this_iter": 31, "episode_len_mean": 673.43, "done": false, "training_iteration": 82, "custom_metrics": {"cost2_mean": -0.09507602229745435, "outflow_rate_mean": 1076.408764760863, "cost2_min": -0.797749618037961, "system_level_velocity_mean": 13.077112601072999, "cost1_min": 13.69476436597273, "cost1_mean": 319.94708779854534, "cost1_max": 450.1563878314083, "outflow_rate_max": 1329.092811927972, "system_level_velocity_max": 18.432523286078638, "outflow_rate_min": 472.99230095463946, "cost2_max": 0.0, "system_level_velocity_min": 9.492346203638226}, "node_ip": "10.138.0.2", "timesteps_total": 5518403}
{"hostname": "flow-main", "episode_reward_mean": 954.6730108193433, "experiment_id": "383e98f8614b4235818372cc4d63f9e0", "config": {"use_gae": true, "tf_session_args": {"allow_soft_placement": true, "gpu_options": {"allow_growth": true}, "inter_op_parallelism_threads": 2, "device_count": {"CPU": 1}, "intra_op_parallelism_threads": 2, "log_device_placement": false}, "entropy_coeff": 0.0, "kl_coeff": 0.2, "num_gpus_per_worker": 0, "monitor": false, "input_evaluation": null, "clip_rewards": null, "vf_share_layers": false, "straggler_mitigation": false, "log_level": "INFO", "clip_actions": false, "simple_optimizer": false, "sample_batch_size": 750, "vf_clip_param": 1000000.0, "custom_resources_per_worker": {}, "lr": 0.0005, "num_sgd_iter": 10, "model": {"grayscale": false, "dim": 84, "custom_model": null, "free_log_std": false, "custom_options": {}, "lstm_cell_size": 256, "framestack": true, "squash_to_range": false, "conv_filters": null, "channel_major": false, "custom_preprocessor": null, "fcnet_hiddens": [128, 64, 32], "max_seq_len": 20, "lstm_use_prev_action_reward": false, "conv_activation": "relu", "use_lstm": false, "zero_mean": true, "fcnet_activation": "tanh"}, "input": "sampler", "horizon": 1500, "vf_loss_coeff": 1.0, "compress_observations": false, "num_envs_per_worker": 1, "sample_async": false, "num_gpus": 0, "output_max_file_size": 67108864, "lambda": 0.97, "multiagent": {"policy_graphs": {}, "policies_to_train": null, "policy_mapping_fn": null}, "output": null, "num_cpus_per_worker": 1, "preprocessor_pref": "deepmind", "clip_param": 0.3, "kl_target": 0.01, "output_compress_columns": ["obs", "new_obs"], "collect_metrics_timeout": 180, "sgd_minibatch_size": 128, "train_batch_size": 30000, "callbacks": {"on_sample_end": null, "on_train_result": null, "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7f2c02898b00>", "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7f2c02898748>", "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7f2c02898da0>"}, "observation_filter": "MeanStdFilter", "synchronize_filters": true, "gamma": 0.99, "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "env_config": {"flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"buf_length\": 1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.1,\n            \"eta3\": 0.1,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 1.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnv\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 600,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}", "run": "PPO"}, "env": "MultiWaveAttenuationMergePOEnv-v0_[eta1, eta2, eta3]:[1.0, 0.1, 0.1]_t_min:1.0_buf_len: 1", "optimizer": {}, "num_workers": 20, "num_cpus_for_driver": 1, "lr_schedule": null, "batch_mode": "truncate_episodes"}, "time_this_iter_s": 50.222187995910645, "timesteps_since_restore": 5585721, "info": {"update_time_ms": 7.826, "num_steps_sampled": 5585721, "sample_time_ms": 34507.964, "grad_time_ms": 17237.261, "default": {"entropy": 1.4204834699630737, "kl": 0.018271833658218384, "vf_loss": 31.454069137573242, "vf_explained_var": 0.8324889540672302, "policy_loss": -0.009225132875144482, "total_loss": 31.448957443237305, "cur_lr": 0.0005000000237487257, "cur_kl_coeff": 0.22499996423721313}, "num_steps_trained": 5585721, "load_time_ms": 9.9}, "time_total_s": 4224.831802606583, "num_metric_batches_dropped": 0, "timestamp": 1558310716, "episode_reward_max": 1162.8583960276153, "timesteps_this_iter": 67318, "episode_reward_min": 32.61595216417061, "date": "2019-05-20_00-05-16", "policy_reward_mean": {}, "time_since_restore": 4224.831802606583, "episodes_total": 2352, "iterations_since_restore": 83, "pid": 46880, "episodes_this_iter": 30, "episode_len_mean": 673.38, "done": false, "training_iteration": 83, "custom_metrics": {"cost2_mean": -0.09395923422799457, "outflow_rate_mean": 1078.227456682997, "cost2_min": -0.6311346604189824, "system_level_velocity_mean": 13.125790666795792, "cost1_min": 13.69476436597273, "cost1_mean": 321.02818399227203, "cost1_max": 462.5140942278015, "outflow_rate_max": 1329.092811927972, "system_level_velocity_max": 18.87036042618446, "outflow_rate_min": 472.99230095463946, "cost2_max": 0.0, "system_level_velocity_min": 9.320785342508612}, "node_ip": "10.138.0.2", "timesteps_total": 5585721}
{"hostname": "flow-main", "episode_reward_mean": 955.3703225976423, "experiment_id": "383e98f8614b4235818372cc4d63f9e0", "config": {"use_gae": true, "tf_session_args": {"allow_soft_placement": true, "gpu_options": {"allow_growth": true}, "inter_op_parallelism_threads": 2, "device_count": {"CPU": 1}, "intra_op_parallelism_threads": 2, "log_device_placement": false}, "entropy_coeff": 0.0, "kl_coeff": 0.2, "num_gpus_per_worker": 0, "monitor": false, "input_evaluation": null, "clip_rewards": null, "vf_share_layers": false, "straggler_mitigation": false, "log_level": "INFO", "clip_actions": false, "simple_optimizer": false, "sample_batch_size": 750, "vf_clip_param": 1000000.0, "custom_resources_per_worker": {}, "lr": 0.0005, "num_sgd_iter": 10, "model": {"grayscale": false, "dim": 84, "custom_model": null, "free_log_std": false, "custom_options": {}, "lstm_cell_size": 256, "framestack": true, "squash_to_range": false, "conv_filters": null, "channel_major": false, "custom_preprocessor": null, "fcnet_hiddens": [128, 64, 32], "max_seq_len": 20, "lstm_use_prev_action_reward": false, "conv_activation": "relu", "use_lstm": false, "zero_mean": true, "fcnet_activation": "tanh"}, "input": "sampler", "horizon": 1500, "vf_loss_coeff": 1.0, "compress_observations": false, "num_envs_per_worker": 1, "sample_async": false, "num_gpus": 0, "output_max_file_size": 67108864, "lambda": 0.97, "multiagent": {"policy_graphs": {}, "policies_to_train": null, "policy_mapping_fn": null}, "output": null, "num_cpus_per_worker": 1, "preprocessor_pref": "deepmind", "clip_param": 0.3, "kl_target": 0.01, "output_compress_columns": ["obs", "new_obs"], "collect_metrics_timeout": 180, "sgd_minibatch_size": 128, "train_batch_size": 30000, "callbacks": {"on_sample_end": null, "on_train_result": null, "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7f2c02897208>", "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7f2c02898908>", "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7f2c02898630>"}, "observation_filter": "MeanStdFilter", "synchronize_filters": true, "gamma": 0.99, "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "env_config": {"flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"buf_length\": 1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.1,\n            \"eta3\": 0.1,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 1.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnv\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 600,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}", "run": "PPO"}, "env": "MultiWaveAttenuationMergePOEnv-v0_[eta1, eta2, eta3]:[1.0, 0.1, 0.1]_t_min:1.0_buf_len: 1", "optimizer": {}, "num_workers": 20, "num_cpus_for_driver": 1, "lr_schedule": null, "batch_mode": "truncate_episodes"}, "time_this_iter_s": 49.03410768508911, "timesteps_since_restore": 5653289, "info": {"update_time_ms": 7.928, "num_steps_sampled": 5653289, "sample_time_ms": 34453.886, "grad_time_ms": 17004.378, "default": {"entropy": 1.413317084312439, "kl": 0.017960168421268463, "vf_loss": 28.034700393676758, "vf_explained_var": 0.8588561415672302, "policy_loss": -0.01177062839269638, "total_loss": 28.02696990966797, "cur_lr": 0.0005000000237487257, "cur_kl_coeff": 0.22499997913837433}, "num_steps_trained": 5653289, "load_time_ms": 9.97}, "time_total_s": 4273.865910291672, "num_metric_batches_dropped": 0, "timestamp": 1558310765, "episode_reward_max": 1162.8583960276153, "timesteps_this_iter": 67568, "episode_reward_min": 34.729250999127984, "date": "2019-05-20_00-06-05", "policy_reward_mean": {}, "time_since_restore": 4273.865910291672, "episodes_total": 2379, "iterations_since_restore": 84, "pid": 46880, "episodes_this_iter": 27, "episode_len_mean": 673.57, "done": false, "training_iteration": 84, "custom_metrics": {"cost2_mean": -0.08561241249158044, "outflow_rate_mean": 1078.8914415939869, "cost2_min": -0.6311346604189824, "system_level_velocity_mean": 13.183027482479394, "cost1_min": 15.967291752872395, "cost1_mean": 322.25655981887536, "cost1_max": 497.7192339979064, "outflow_rate_max": 1345.4443433327772, "system_level_velocity_max": 19.178370472631485, "outflow_rate_min": 469.45283342166806, "cost2_max": 0.0, "system_level_velocity_min": 9.320785342508612}, "node_ip": "10.138.0.2", "timesteps_total": 5653289}
{"hostname": "flow-main", "episode_reward_mean": 963.2166960192532, "experiment_id": "383e98f8614b4235818372cc4d63f9e0", "config": {"use_gae": true, "tf_session_args": {"allow_soft_placement": true, "gpu_options": {"allow_growth": true}, "inter_op_parallelism_threads": 2, "device_count": {"CPU": 1}, "intra_op_parallelism_threads": 2, "log_device_placement": false}, "entropy_coeff": 0.0, "kl_coeff": 0.2, "num_gpus_per_worker": 0, "monitor": false, "input_evaluation": null, "clip_rewards": null, "vf_share_layers": false, "straggler_mitigation": false, "log_level": "INFO", "clip_actions": false, "simple_optimizer": false, "sample_batch_size": 750, "vf_clip_param": 1000000.0, "custom_resources_per_worker": {}, "lr": 0.0005, "num_sgd_iter": 10, "model": {"grayscale": false, "dim": 84, "custom_model": null, "free_log_std": false, "custom_options": {}, "lstm_cell_size": 256, "framestack": true, "squash_to_range": false, "conv_filters": null, "channel_major": false, "custom_preprocessor": null, "fcnet_hiddens": [128, 64, 32], "max_seq_len": 20, "lstm_use_prev_action_reward": false, "conv_activation": "relu", "use_lstm": false, "zero_mean": true, "fcnet_activation": "tanh"}, "input": "sampler", "horizon": 1500, "vf_loss_coeff": 1.0, "compress_observations": false, "num_envs_per_worker": 1, "sample_async": false, "num_gpus": 0, "output_max_file_size": 67108864, "lambda": 0.97, "multiagent": {"policy_graphs": {}, "policies_to_train": null, "policy_mapping_fn": null}, "output": null, "num_cpus_per_worker": 1, "preprocessor_pref": "deepmind", "clip_param": 0.3, "kl_target": 0.01, "output_compress_columns": ["obs", "new_obs"], "collect_metrics_timeout": 180, "sgd_minibatch_size": 128, "train_batch_size": 30000, "callbacks": {"on_sample_end": null, "on_train_result": null, "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7f2c02898d30>", "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7f2c02898400>", "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7f2c028985f8>"}, "observation_filter": "MeanStdFilter", "synchronize_filters": true, "gamma": 0.99, "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "env_config": {"flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"buf_length\": 1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.1,\n            \"eta3\": 0.1,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 1.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnv\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 600,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}", "run": "PPO"}, "env": "MultiWaveAttenuationMergePOEnv-v0_[eta1, eta2, eta3]:[1.0, 0.1, 0.1]_t_min:1.0_buf_len: 1", "optimizer": {}, "num_workers": 20, "num_cpus_for_driver": 1, "lr_schedule": null, "batch_mode": "truncate_episodes"}, "time_this_iter_s": 51.58961534500122, "timesteps_since_restore": 5720723, "info": {"update_time_ms": 7.87, "num_steps_sampled": 5720723, "sample_time_ms": 34458.218, "grad_time_ms": 17178.048, "default": {"entropy": 1.4113075733184814, "kl": 0.017050405964255333, "vf_loss": 27.450946807861328, "vf_explained_var": 0.8582251071929932, "policy_loss": -0.01073762122541666, "total_loss": 27.444046020507812, "cur_lr": 0.0005000000237487257, "cur_kl_coeff": 0.22499997913837433}, "num_steps_trained": 5720723, "load_time_ms": 9.955}, "time_total_s": 4325.455525636673, "num_metric_batches_dropped": 0, "timestamp": 1558310817, "episode_reward_max": 1162.8583960276153, "timesteps_this_iter": 67434, "episode_reward_min": 34.729250999127984, "date": "2019-05-20_00-06-57", "policy_reward_mean": {}, "time_since_restore": 4325.455525636673, "episodes_total": 2405, "iterations_since_restore": 85, "pid": 46880, "episodes_this_iter": 26, "episode_len_mean": 680.12, "done": false, "training_iteration": 85, "custom_metrics": {"cost2_mean": -0.09430791355708608, "outflow_rate_mean": 1083.2195002667456, "cost2_min": -0.5845318005670662, "system_level_velocity_mean": 13.11101203400339, "cost1_min": 15.967291752872395, "cost1_mean": 324.59877784598945, "cost1_max": 497.7192339979064, "outflow_rate_max": 1345.4443433327772, "system_level_velocity_max": 19.178370472631485, "outflow_rate_min": 469.45283342166806, "cost2_max": 0.0, "system_level_velocity_min": 9.320785342508612}, "node_ip": "10.138.0.2", "timesteps_total": 5720723}
{"hostname": "flow-main", "episode_reward_mean": 974.9344996602855, "experiment_id": "383e98f8614b4235818372cc4d63f9e0", "config": {"use_gae": true, "tf_session_args": {"allow_soft_placement": true, "gpu_options": {"allow_growth": true}, "inter_op_parallelism_threads": 2, "device_count": {"CPU": 1}, "intra_op_parallelism_threads": 2, "log_device_placement": false}, "entropy_coeff": 0.0, "kl_coeff": 0.2, "num_gpus_per_worker": 0, "monitor": false, "input_evaluation": null, "clip_rewards": null, "vf_share_layers": false, "straggler_mitigation": false, "log_level": "INFO", "clip_actions": false, "simple_optimizer": false, "sample_batch_size": 750, "vf_clip_param": 1000000.0, "custom_resources_per_worker": {}, "lr": 0.0005, "num_sgd_iter": 10, "model": {"grayscale": false, "dim": 84, "custom_model": null, "free_log_std": false, "custom_options": {}, "lstm_cell_size": 256, "framestack": true, "squash_to_range": false, "conv_filters": null, "channel_major": false, "custom_preprocessor": null, "fcnet_hiddens": [128, 64, 32], "max_seq_len": 20, "lstm_use_prev_action_reward": false, "conv_activation": "relu", "use_lstm": false, "zero_mean": true, "fcnet_activation": "tanh"}, "input": "sampler", "horizon": 1500, "vf_loss_coeff": 1.0, "compress_observations": false, "num_envs_per_worker": 1, "sample_async": false, "num_gpus": 0, "output_max_file_size": 67108864, "lambda": 0.97, "multiagent": {"policy_graphs": {}, "policies_to_train": null, "policy_mapping_fn": null}, "output": null, "num_cpus_per_worker": 1, "preprocessor_pref": "deepmind", "clip_param": 0.3, "kl_target": 0.01, "output_compress_columns": ["obs", "new_obs"], "collect_metrics_timeout": 180, "sgd_minibatch_size": 128, "train_batch_size": 30000, "callbacks": {"on_sample_end": null, "on_train_result": null, "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7f2c02d02550>", "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7f2c02d02e10>", "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7f2c028a82e8>"}, "observation_filter": "MeanStdFilter", "synchronize_filters": true, "gamma": 0.99, "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "env_config": {"flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"buf_length\": 1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.1,\n            \"eta3\": 0.1,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 1.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnv\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 600,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}", "run": "PPO"}, "env": "MultiWaveAttenuationMergePOEnv-v0_[eta1, eta2, eta3]:[1.0, 0.1, 0.1]_t_min:1.0_buf_len: 1", "optimizer": {}, "num_workers": 20, "num_cpus_for_driver": 1, "lr_schedule": null, "batch_mode": "truncate_episodes"}, "time_this_iter_s": 47.90936994552612, "timesteps_since_restore": 5785219, "info": {"update_time_ms": 7.916, "num_steps_sampled": 5785219, "sample_time_ms": 34251.97, "grad_time_ms": 17066.279, "default": {"entropy": 1.4071061611175537, "kl": 0.01866832934319973, "vf_loss": 28.72735595703125, "vf_explained_var": 0.8684076070785522, "policy_loss": -0.012007958255708218, "total_loss": 28.71954917907715, "cur_lr": 0.0005000000237487257, "cur_kl_coeff": 0.22499997913837433}, "num_steps_trained": 5785219, "load_time_ms": 9.924}, "time_total_s": 4373.364895582199, "num_metric_batches_dropped": 0, "timestamp": 1558310865, "episode_reward_max": 1171.025532264302, "timesteps_this_iter": 64496, "episode_reward_min": 71.03686694216064, "date": "2019-05-20_00-07-45", "policy_reward_mean": {}, "time_since_restore": 4373.364895582199, "episodes_total": 2432, "iterations_since_restore": 86, "pid": 46880, "episodes_this_iter": 27, "episode_len_mean": 686.88, "done": false, "training_iteration": 86, "custom_metrics": {"cost2_mean": -0.08015602507565131, "outflow_rate_mean": 1091.9346358704474, "cost2_min": -0.5213235973364033, "system_level_velocity_mean": 13.036304947012232, "cost1_min": 26.53256831289567, "cost1_mean": 327.09702463777603, "cost1_max": 497.7192339979064, "outflow_rate_max": 1345.4443433327772, "system_level_velocity_max": 19.178370472631485, "outflow_rate_min": 469.45283342166806, "cost2_max": 0.0, "system_level_velocity_min": 9.320785342508612}, "node_ip": "10.138.0.2", "timesteps_total": 5785219}
{"hostname": "flow-main", "episode_reward_mean": 971.6843214451593, "experiment_id": "383e98f8614b4235818372cc4d63f9e0", "config": {"use_gae": true, "tf_session_args": {"allow_soft_placement": true, "gpu_options": {"allow_growth": true}, "inter_op_parallelism_threads": 2, "device_count": {"CPU": 1}, "intra_op_parallelism_threads": 2, "log_device_placement": false}, "entropy_coeff": 0.0, "kl_coeff": 0.2, "num_gpus_per_worker": 0, "monitor": false, "input_evaluation": null, "clip_rewards": null, "vf_share_layers": false, "straggler_mitigation": false, "log_level": "INFO", "clip_actions": false, "simple_optimizer": false, "sample_batch_size": 750, "vf_clip_param": 1000000.0, "custom_resources_per_worker": {}, "lr": 0.0005, "num_sgd_iter": 10, "model": {"grayscale": false, "dim": 84, "custom_model": null, "free_log_std": false, "custom_options": {}, "lstm_cell_size": 256, "framestack": true, "squash_to_range": false, "conv_filters": null, "channel_major": false, "custom_preprocessor": null, "fcnet_hiddens": [128, 64, 32], "max_seq_len": 20, "lstm_use_prev_action_reward": false, "conv_activation": "relu", "use_lstm": false, "zero_mean": true, "fcnet_activation": "tanh"}, "input": "sampler", "horizon": 1500, "vf_loss_coeff": 1.0, "compress_observations": false, "num_envs_per_worker": 1, "sample_async": false, "num_gpus": 0, "output_max_file_size": 67108864, "lambda": 0.97, "multiagent": {"policy_graphs": {}, "policies_to_train": null, "policy_mapping_fn": null}, "output": null, "num_cpus_per_worker": 1, "preprocessor_pref": "deepmind", "clip_param": 0.3, "kl_target": 0.01, "output_compress_columns": ["obs", "new_obs"], "collect_metrics_timeout": 180, "sgd_minibatch_size": 128, "train_batch_size": 30000, "callbacks": {"on_sample_end": null, "on_train_result": null, "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7f2c028975f8>", "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7f2c02897b00>", "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7f2c02897b70>"}, "observation_filter": "MeanStdFilter", "synchronize_filters": true, "gamma": 0.99, "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "env_config": {"flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"buf_length\": 1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.1,\n            \"eta3\": 0.1,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 1.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnv\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 600,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}", "run": "PPO"}, "env": "MultiWaveAttenuationMergePOEnv-v0_[eta1, eta2, eta3]:[1.0, 0.1, 0.1]_t_min:1.0_buf_len: 1", "optimizer": {}, "num_workers": 20, "num_cpus_for_driver": 1, "lr_schedule": null, "batch_mode": "truncate_episodes"}, "time_this_iter_s": 48.94396734237671, "timesteps_since_restore": 5850605, "info": {"update_time_ms": 8.293, "num_steps_sampled": 5850605, "sample_time_ms": 34067.029, "grad_time_ms": 16814.602, "default": {"entropy": 1.4095449447631836, "kl": 0.017162363976240158, "vf_loss": 33.64778518676758, "vf_explained_var": 0.8340238928794861, "policy_loss": -0.009576758369803429, "total_loss": 33.64207077026367, "cur_lr": 0.0005000000237487257, "cur_kl_coeff": 0.22499996423721313}, "num_steps_trained": 5850605, "load_time_ms": 9.938}, "time_total_s": 4422.308862924576, "num_metric_batches_dropped": 0, "timestamp": 1558310914, "episode_reward_max": 1171.025532264302, "timesteps_this_iter": 65386, "episode_reward_min": 71.03686694216064, "date": "2019-05-20_00-08-34", "policy_reward_mean": {}, "time_since_restore": 4422.308862924576, "episodes_total": 2461, "iterations_since_restore": 87, "pid": 46880, "episodes_this_iter": 29, "episode_len_mean": 686.89, "done": false, "training_iteration": 87, "custom_metrics": {"cost2_mean": -0.07531750087507849, "outflow_rate_mean": 1101.677393660391, "cost2_min": -0.49108735754619487, "system_level_velocity_mean": 13.272586833340185, "cost1_min": 26.53256831289567, "cost1_mean": 332.83096178060333, "cost1_max": 497.7192339979064, "outflow_rate_max": 1345.4443433327772, "system_level_velocity_max": 19.178370472631485, "outflow_rate_min": 469.45283342166806, "cost2_max": 0.0, "system_level_velocity_min": 9.704998507152414}, "node_ip": "10.138.0.2", "timesteps_total": 5850605}
{"hostname": "flow-main", "episode_reward_mean": 981.3327649217009, "experiment_id": "383e98f8614b4235818372cc4d63f9e0", "config": {"use_gae": true, "tf_session_args": {"allow_soft_placement": true, "gpu_options": {"allow_growth": true}, "inter_op_parallelism_threads": 2, "device_count": {"CPU": 1}, "intra_op_parallelism_threads": 2, "log_device_placement": false}, "entropy_coeff": 0.0, "kl_coeff": 0.2, "num_gpus_per_worker": 0, "monitor": false, "input_evaluation": null, "clip_rewards": null, "vf_share_layers": false, "straggler_mitigation": false, "log_level": "INFO", "clip_actions": false, "simple_optimizer": false, "sample_batch_size": 750, "vf_clip_param": 1000000.0, "custom_resources_per_worker": {}, "lr": 0.0005, "num_sgd_iter": 10, "model": {"grayscale": false, "dim": 84, "custom_model": null, "free_log_std": false, "custom_options": {}, "lstm_cell_size": 256, "framestack": true, "squash_to_range": false, "conv_filters": null, "channel_major": false, "custom_preprocessor": null, "fcnet_hiddens": [128, 64, 32], "max_seq_len": 20, "lstm_use_prev_action_reward": false, "conv_activation": "relu", "use_lstm": false, "zero_mean": true, "fcnet_activation": "tanh"}, "input": "sampler", "horizon": 1500, "vf_loss_coeff": 1.0, "compress_observations": false, "num_envs_per_worker": 1, "sample_async": false, "num_gpus": 0, "output_max_file_size": 67108864, "lambda": 0.97, "multiagent": {"policy_graphs": {}, "policies_to_train": null, "policy_mapping_fn": null}, "output": null, "num_cpus_per_worker": 1, "preprocessor_pref": "deepmind", "clip_param": 0.3, "kl_target": 0.01, "output_compress_columns": ["obs", "new_obs"], "collect_metrics_timeout": 180, "sgd_minibatch_size": 128, "train_batch_size": 30000, "callbacks": {"on_sample_end": null, "on_train_result": null, "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7f2c02d02ac8>", "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7f2c02d02128>", "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7f2c02d024a8>"}, "observation_filter": "MeanStdFilter", "synchronize_filters": true, "gamma": 0.99, "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "env_config": {"flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"buf_length\": 1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.1,\n            \"eta3\": 0.1,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 1.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnv\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 600,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}", "run": "PPO"}, "env": "MultiWaveAttenuationMergePOEnv-v0_[eta1, eta2, eta3]:[1.0, 0.1, 0.1]_t_min:1.0_buf_len: 1", "optimizer": {}, "num_workers": 20, "num_cpus_for_driver": 1, "lr_schedule": null, "batch_mode": "truncate_episodes"}, "time_this_iter_s": 50.731175661087036, "timesteps_since_restore": 5917652, "info": {"update_time_ms": 8.222, "num_steps_sampled": 5917652, "sample_time_ms": 33820.109, "grad_time_ms": 16816.256, "default": {"entropy": 1.3989397287368774, "kl": 0.01733584888279438, "vf_loss": 31.338985443115234, "vf_explained_var": 0.8422365784645081, "policy_loss": -0.010565907694399357, "total_loss": 31.332319259643555, "cur_lr": 0.0005000000237487257, "cur_kl_coeff": 0.22499997913837433}, "num_steps_trained": 5917652, "load_time_ms": 10.061}, "time_total_s": 4473.040038585663, "num_metric_batches_dropped": 0, "timestamp": 1558310964, "episode_reward_max": 1171.025532264302, "timesteps_this_iter": 67047, "episode_reward_min": 79.8880892385396, "date": "2019-05-20_00-09-24", "policy_reward_mean": {}, "time_since_restore": 4473.040038585663, "episodes_total": 2490, "iterations_since_restore": 88, "pid": 46880, "episodes_this_iter": 29, "episode_len_mean": 693.49, "done": false, "training_iteration": 88, "custom_metrics": {"cost2_mean": -0.09376589557389423, "outflow_rate_mean": 1103.0689773420752, "cost2_min": -0.8, "system_level_velocity_mean": 13.118238768951676, "cost1_min": 32.47654647287963, "cost1_mean": 333.0433015867725, "cost1_max": 485.5440537448475, "outflow_rate_max": 1314.071464368524, "system_level_velocity_max": 18.805675704662324, "outflow_rate_min": 542.5997784428433, "cost2_max": 0.0, "system_level_velocity_min": 9.704998507152414}, "node_ip": "10.138.0.2", "timesteps_total": 5917652}
{"hostname": "flow-main", "episode_reward_mean": 983.056728998718, "experiment_id": "383e98f8614b4235818372cc4d63f9e0", "config": {"use_gae": true, "tf_session_args": {"allow_soft_placement": true, "gpu_options": {"allow_growth": true}, "inter_op_parallelism_threads": 2, "device_count": {"CPU": 1}, "intra_op_parallelism_threads": 2, "log_device_placement": false}, "entropy_coeff": 0.0, "kl_coeff": 0.2, "num_gpus_per_worker": 0, "monitor": false, "input_evaluation": null, "clip_rewards": null, "vf_share_layers": false, "straggler_mitigation": false, "log_level": "INFO", "clip_actions": false, "simple_optimizer": false, "sample_batch_size": 750, "vf_clip_param": 1000000.0, "custom_resources_per_worker": {}, "lr": 0.0005, "num_sgd_iter": 10, "model": {"grayscale": false, "dim": 84, "custom_model": null, "free_log_std": false, "custom_options": {}, "lstm_cell_size": 256, "framestack": true, "squash_to_range": false, "conv_filters": null, "channel_major": false, "custom_preprocessor": null, "fcnet_hiddens": [128, 64, 32], "max_seq_len": 20, "lstm_use_prev_action_reward": false, "conv_activation": "relu", "use_lstm": false, "zero_mean": true, "fcnet_activation": "tanh"}, "input": "sampler", "horizon": 1500, "vf_loss_coeff": 1.0, "compress_observations": false, "num_envs_per_worker": 1, "sample_async": false, "num_gpus": 0, "output_max_file_size": 67108864, "lambda": 0.97, "multiagent": {"policy_graphs": {}, "policies_to_train": null, "policy_mapping_fn": null}, "output": null, "num_cpus_per_worker": 1, "preprocessor_pref": "deepmind", "clip_param": 0.3, "kl_target": 0.01, "output_compress_columns": ["obs", "new_obs"], "collect_metrics_timeout": 180, "sgd_minibatch_size": 128, "train_batch_size": 30000, "callbacks": {"on_sample_end": null, "on_train_result": null, "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7f2c02898a20>", "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7f2c02898da0>", "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7f2c02897208>"}, "observation_filter": "MeanStdFilter", "synchronize_filters": true, "gamma": 0.99, "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "env_config": {"flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"buf_length\": 1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.1,\n            \"eta3\": 0.1,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 1.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnv\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 600,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}", "run": "PPO"}, "env": "MultiWaveAttenuationMergePOEnv-v0_[eta1, eta2, eta3]:[1.0, 0.1, 0.1]_t_min:1.0_buf_len: 1", "optimizer": {}, "num_workers": 20, "num_cpus_for_driver": 1, "lr_schedule": null, "batch_mode": "truncate_episodes"}, "time_this_iter_s": 50.63256645202637, "timesteps_since_restore": 5985689, "info": {"update_time_ms": 8.06, "num_steps_sampled": 5985689, "sample_time_ms": 33731.105, "grad_time_ms": 16534.612, "default": {"entropy": 1.4111578464508057, "kl": 0.017708314582705498, "vf_loss": 31.649864196777344, "vf_explained_var": 0.8400182127952576, "policy_loss": -0.010657062754034996, "total_loss": 31.643192291259766, "cur_lr": 0.0005000000237487257, "cur_kl_coeff": 0.22499997913837433}, "num_steps_trained": 5985689, "load_time_ms": 9.932}, "time_total_s": 4523.672605037689, "num_metric_batches_dropped": 0, "timestamp": 1558311015, "episode_reward_max": 1258.6904750470271, "timesteps_this_iter": 68037, "episode_reward_min": 79.8880892385396, "date": "2019-05-20_00-10-15", "policy_reward_mean": {}, "time_since_restore": 4523.672605037689, "episodes_total": 2519, "iterations_since_restore": 89, "pid": 46880, "episodes_this_iter": 29, "episode_len_mean": 693.49, "done": false, "training_iteration": 89, "custom_metrics": {"cost2_mean": -0.08902737638855857, "outflow_rate_mean": 1097.1956859070026, "cost2_min": -0.8, "system_level_velocity_mean": 13.048632241478277, "cost1_min": 32.47654647287963, "cost1_mean": 330.96266133058737, "cost1_max": 485.5440537448475, "outflow_rate_max": 1336.99891505909, "system_level_velocity_max": 18.805675704662324, "outflow_rate_min": 542.5997784428433, "cost2_max": 0.0, "system_level_velocity_min": 9.704998507152414}, "node_ip": "10.138.0.2", "timesteps_total": 5985689}
{"hostname": "flow-main", "episode_reward_mean": 988.8478258644806, "experiment_id": "383e98f8614b4235818372cc4d63f9e0", "config": {"use_gae": true, "tf_session_args": {"allow_soft_placement": true, "gpu_options": {"allow_growth": true}, "inter_op_parallelism_threads": 2, "device_count": {"CPU": 1}, "intra_op_parallelism_threads": 2, "log_device_placement": false}, "entropy_coeff": 0.0, "kl_coeff": 0.2, "num_gpus_per_worker": 0, "monitor": false, "input_evaluation": null, "clip_rewards": null, "vf_share_layers": false, "straggler_mitigation": false, "log_level": "INFO", "clip_actions": false, "simple_optimizer": false, "sample_batch_size": 750, "vf_clip_param": 1000000.0, "custom_resources_per_worker": {}, "lr": 0.0005, "num_sgd_iter": 10, "model": {"grayscale": false, "dim": 84, "custom_model": null, "free_log_std": false, "custom_options": {}, "lstm_cell_size": 256, "framestack": true, "squash_to_range": false, "conv_filters": null, "channel_major": false, "custom_preprocessor": null, "fcnet_hiddens": [128, 64, 32], "max_seq_len": 20, "lstm_use_prev_action_reward": false, "conv_activation": "relu", "use_lstm": false, "zero_mean": true, "fcnet_activation": "tanh"}, "input": "sampler", "horizon": 1500, "vf_loss_coeff": 1.0, "compress_observations": false, "num_envs_per_worker": 1, "sample_async": false, "num_gpus": 0, "output_max_file_size": 67108864, "lambda": 0.97, "multiagent": {"policy_graphs": {}, "policies_to_train": null, "policy_mapping_fn": null}, "output": null, "num_cpus_per_worker": 1, "preprocessor_pref": "deepmind", "clip_param": 0.3, "kl_target": 0.01, "output_compress_columns": ["obs", "new_obs"], "collect_metrics_timeout": 180, "sgd_minibatch_size": 128, "train_batch_size": 30000, "callbacks": {"on_sample_end": null, "on_train_result": null, "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7f2c02d02358>", "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7f2c02ce8128>", "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7f2c02d02ac8>"}, "observation_filter": "MeanStdFilter", "synchronize_filters": true, "gamma": 0.99, "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "env_config": {"flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"buf_length\": 1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.1,\n            \"eta3\": 0.1,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 1.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnv\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 600,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}", "run": "PPO"}, "env": "MultiWaveAttenuationMergePOEnv-v0_[eta1, eta2, eta3]:[1.0, 0.1, 0.1]_t_min:1.0_buf_len: 1", "optimizer": {}, "num_workers": 20, "num_cpus_for_driver": 1, "lr_schedule": null, "batch_mode": "truncate_episodes"}, "time_this_iter_s": 53.25810933113098, "timesteps_since_restore": 6053471, "info": {"update_time_ms": 7.931, "num_steps_sampled": 6053471, "sample_time_ms": 33720.943, "grad_time_ms": 16502.296, "default": {"entropy": 1.4110376834869385, "kl": 0.018093189224600792, "vf_loss": 35.32768249511719, "vf_explained_var": 0.8304889798164368, "policy_loss": -0.009181045927107334, "total_loss": 35.32257080078125, "cur_lr": 0.0005000000237487257, "cur_kl_coeff": 0.22499999403953552}, "num_steps_trained": 6053471, "load_time_ms": 9.806}, "time_total_s": 4576.93071436882, "num_metric_batches_dropped": 0, "timestamp": 1558311068, "episode_reward_max": 1258.6904750470271, "timesteps_this_iter": 67782, "episode_reward_min": 57.558286302886, "date": "2019-05-20_00-11-08", "policy_reward_mean": {}, "time_since_restore": 4576.93071436882, "episodes_total": 2549, "iterations_since_restore": 90, "pid": 46880, "episodes_this_iter": 30, "episode_len_mean": 693.38, "done": false, "training_iteration": 90, "custom_metrics": {"cost2_mean": -0.08876018388525737, "outflow_rate_mean": 1094.893922197086, "cost2_min": -0.8, "system_level_velocity_mean": 12.993970017306976, "cost1_min": 25.46785427142263, "cost1_mean": 329.85579675735585, "cost1_max": 485.5440537448475, "outflow_rate_max": 1336.99891505909, "system_level_velocity_max": 18.980822433840185, "outflow_rate_min": 495.7203085918034, "cost2_max": 0.0, "system_level_velocity_min": 10.023202251117306}, "node_ip": "10.138.0.2", "timesteps_total": 6053471}
{"hostname": "flow-main", "episode_reward_mean": 994.4365906915097, "experiment_id": "383e98f8614b4235818372cc4d63f9e0", "config": {"use_gae": true, "tf_session_args": {"allow_soft_placement": true, "gpu_options": {"allow_growth": true}, "inter_op_parallelism_threads": 2, "device_count": {"CPU": 1}, "intra_op_parallelism_threads": 2, "log_device_placement": false}, "entropy_coeff": 0.0, "kl_coeff": 0.2, "num_gpus_per_worker": 0, "monitor": false, "input_evaluation": null, "clip_rewards": null, "vf_share_layers": false, "straggler_mitigation": false, "log_level": "INFO", "clip_actions": false, "simple_optimizer": false, "sample_batch_size": 750, "vf_clip_param": 1000000.0, "custom_resources_per_worker": {}, "lr": 0.0005, "num_sgd_iter": 10, "model": {"grayscale": false, "dim": 84, "custom_model": null, "free_log_std": false, "custom_options": {}, "lstm_cell_size": 256, "framestack": true, "squash_to_range": false, "conv_filters": null, "channel_major": false, "custom_preprocessor": null, "fcnet_hiddens": [128, 64, 32], "max_seq_len": 20, "lstm_use_prev_action_reward": false, "conv_activation": "relu", "use_lstm": false, "zero_mean": true, "fcnet_activation": "tanh"}, "input": "sampler", "horizon": 1500, "vf_loss_coeff": 1.0, "compress_observations": false, "num_envs_per_worker": 1, "sample_async": false, "num_gpus": 0, "output_max_file_size": 67108864, "lambda": 0.97, "multiagent": {"policy_graphs": {}, "policies_to_train": null, "policy_mapping_fn": null}, "output": null, "num_cpus_per_worker": 1, "preprocessor_pref": "deepmind", "clip_param": 0.3, "kl_target": 0.01, "output_compress_columns": ["obs", "new_obs"], "collect_metrics_timeout": 180, "sgd_minibatch_size": 128, "train_batch_size": 30000, "callbacks": {"on_sample_end": null, "on_train_result": null, "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7f2c02cfe2b0>", "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7f2c02cfe518>", "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7f2c02cfe978>"}, "observation_filter": "MeanStdFilter", "synchronize_filters": true, "gamma": 0.99, "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "env_config": {"flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"buf_length\": 1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.1,\n            \"eta3\": 0.1,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 1.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnv\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 600,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}", "run": "PPO"}, "env": "MultiWaveAttenuationMergePOEnv-v0_[eta1, eta2, eta3]:[1.0, 0.1, 0.1]_t_min:1.0_buf_len: 1", "optimizer": {}, "num_workers": 20, "num_cpus_for_driver": 1, "lr_schedule": null, "batch_mode": "truncate_episodes"}, "time_this_iter_s": 52.091792345047, "timesteps_since_restore": 6119904, "info": {"update_time_ms": 7.941, "num_steps_sampled": 6119904, "sample_time_ms": 33970.376, "grad_time_ms": 16364.868, "default": {"entropy": 1.4056493043899536, "kl": 0.01871064491569996, "vf_loss": 32.40666961669922, "vf_explained_var": 0.8521997928619385, "policy_loss": -0.010687063448131084, "total_loss": 32.40019989013672, "cur_lr": 0.0005000000237487257, "cur_kl_coeff": 0.22499999403953552}, "num_steps_trained": 6119904, "load_time_ms": 9.916}, "time_total_s": 4629.022506713867, "num_metric_batches_dropped": 0, "timestamp": 1558311121, "episode_reward_max": 1268.5319922645106, "timesteps_this_iter": 66433, "episode_reward_min": 57.558286302886, "date": "2019-05-20_00-12-01", "policy_reward_mean": {}, "time_since_restore": 4629.022506713867, "episodes_total": 2577, "iterations_since_restore": 91, "pid": 46880, "episodes_this_iter": 28, "episode_len_mean": 693.38, "done": false, "training_iteration": 91, "custom_metrics": {"cost2_mean": -0.06749307420195783, "outflow_rate_mean": 1094.5337853372941, "cost2_min": -0.7134151703026764, "system_level_velocity_mean": 12.975279635379469, "cost1_min": 25.46785427142263, "cost1_mean": 329.77652385707404, "cost1_max": 485.5440537448475, "outflow_rate_max": 1346.2330434039688, "system_level_velocity_max": 18.980822433840185, "outflow_rate_min": 495.7203085918034, "cost2_max": 0.0, "system_level_velocity_min": 10.023202251117306}, "node_ip": "10.138.0.2", "timesteps_total": 6119904}
{"hostname": "flow-main", "episode_reward_mean": 997.2893790469028, "experiment_id": "383e98f8614b4235818372cc4d63f9e0", "config": {"use_gae": true, "tf_session_args": {"allow_soft_placement": true, "gpu_options": {"allow_growth": true}, "inter_op_parallelism_threads": 2, "device_count": {"CPU": 1}, "intra_op_parallelism_threads": 2, "log_device_placement": false}, "entropy_coeff": 0.0, "kl_coeff": 0.2, "num_gpus_per_worker": 0, "monitor": false, "input_evaluation": null, "clip_rewards": null, "vf_share_layers": false, "straggler_mitigation": false, "log_level": "INFO", "clip_actions": false, "simple_optimizer": false, "sample_batch_size": 750, "vf_clip_param": 1000000.0, "custom_resources_per_worker": {}, "lr": 0.0005, "num_sgd_iter": 10, "model": {"grayscale": false, "dim": 84, "custom_model": null, "free_log_std": false, "custom_options": {}, "lstm_cell_size": 256, "framestack": true, "squash_to_range": false, "conv_filters": null, "channel_major": false, "custom_preprocessor": null, "fcnet_hiddens": [128, 64, 32], "max_seq_len": 20, "lstm_use_prev_action_reward": false, "conv_activation": "relu", "use_lstm": false, "zero_mean": true, "fcnet_activation": "tanh"}, "input": "sampler", "horizon": 1500, "vf_loss_coeff": 1.0, "compress_observations": false, "num_envs_per_worker": 1, "sample_async": false, "num_gpus": 0, "output_max_file_size": 67108864, "lambda": 0.97, "multiagent": {"policy_graphs": {}, "policies_to_train": null, "policy_mapping_fn": null}, "output": null, "num_cpus_per_worker": 1, "preprocessor_pref": "deepmind", "clip_param": 0.3, "kl_target": 0.01, "output_compress_columns": ["obs", "new_obs"], "collect_metrics_timeout": 180, "sgd_minibatch_size": 128, "train_batch_size": 30000, "callbacks": {"on_sample_end": null, "on_train_result": null, "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7f2c02d02630>", "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7f2c02cf5e48>", "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7f2c02d02128>"}, "observation_filter": "MeanStdFilter", "synchronize_filters": true, "gamma": 0.99, "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "env_config": {"flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"buf_length\": 1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.1,\n            \"eta3\": 0.1,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 1.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnv\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 600,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}", "run": "PPO"}, "env": "MultiWaveAttenuationMergePOEnv-v0_[eta1, eta2, eta3]:[1.0, 0.1, 0.1]_t_min:1.0_buf_len: 1", "optimizer": {}, "num_workers": 20, "num_cpus_for_driver": 1, "lr_schedule": null, "batch_mode": "truncate_episodes"}, "time_this_iter_s": 51.5692880153656, "timesteps_since_restore": 6187392, "info": {"update_time_ms": 7.764, "num_steps_sampled": 6187392, "sample_time_ms": 34147.375, "grad_time_ms": 16320.928, "default": {"entropy": 1.4211055040359497, "kl": 0.018682077527046204, "vf_loss": 34.209266662597656, "vf_explained_var": 0.8386551737785339, "policy_loss": -0.010368925519287586, "total_loss": 34.203102111816406, "cur_lr": 0.0005000000237487257, "cur_kl_coeff": 0.22499997913837433}, "num_steps_trained": 6187392, "load_time_ms": 9.64}, "time_total_s": 4680.591794729233, "num_metric_batches_dropped": 0, "timestamp": 1558311172, "episode_reward_max": 1268.5319922645106, "timesteps_this_iter": 67488, "episode_reward_min": 57.558286302886, "date": "2019-05-20_00-12-52", "policy_reward_mean": {}, "time_since_restore": 4680.591794729233, "episodes_total": 2606, "iterations_since_restore": 92, "pid": 46880, "episodes_this_iter": 29, "episode_len_mean": 693.38, "done": false, "training_iteration": 92, "custom_metrics": {"cost2_mean": -0.08229286999721895, "outflow_rate_mean": 1095.6931598194676, "cost2_min": -0.6272841760165044, "system_level_velocity_mean": 12.986520221082095, "cost1_min": 25.46785427142263, "cost1_mean": 330.39935973835, "cost1_max": 468.0610461119163, "outflow_rate_max": 1346.2330434039688, "system_level_velocity_max": 18.980822433840185, "outflow_rate_min": 495.7203085918034, "cost2_max": 0.0, "system_level_velocity_min": 10.023202251117306}, "node_ip": "10.138.0.2", "timesteps_total": 6187392}
{"hostname": "flow-main", "episode_reward_mean": 995.4049997890896, "experiment_id": "383e98f8614b4235818372cc4d63f9e0", "config": {"use_gae": true, "tf_session_args": {"allow_soft_placement": true, "gpu_options": {"allow_growth": true}, "inter_op_parallelism_threads": 2, "device_count": {"CPU": 1}, "intra_op_parallelism_threads": 2, "log_device_placement": false}, "entropy_coeff": 0.0, "kl_coeff": 0.2, "num_gpus_per_worker": 0, "monitor": false, "input_evaluation": null, "clip_rewards": null, "vf_share_layers": false, "straggler_mitigation": false, "log_level": "INFO", "clip_actions": false, "simple_optimizer": false, "sample_batch_size": 750, "vf_clip_param": 1000000.0, "custom_resources_per_worker": {}, "lr": 0.0005, "num_sgd_iter": 10, "model": {"grayscale": false, "dim": 84, "custom_model": null, "free_log_std": false, "custom_options": {}, "lstm_cell_size": 256, "framestack": true, "squash_to_range": false, "conv_filters": null, "channel_major": false, "custom_preprocessor": null, "fcnet_hiddens": [128, 64, 32], "max_seq_len": 20, "lstm_use_prev_action_reward": false, "conv_activation": "relu", "use_lstm": false, "zero_mean": true, "fcnet_activation": "tanh"}, "input": "sampler", "horizon": 1500, "vf_loss_coeff": 1.0, "compress_observations": false, "num_envs_per_worker": 1, "sample_async": false, "num_gpus": 0, "output_max_file_size": 67108864, "lambda": 0.97, "multiagent": {"policy_graphs": {}, "policies_to_train": null, "policy_mapping_fn": null}, "output": null, "num_cpus_per_worker": 1, "preprocessor_pref": "deepmind", "clip_param": 0.3, "kl_target": 0.01, "output_compress_columns": ["obs", "new_obs"], "collect_metrics_timeout": 180, "sgd_minibatch_size": 128, "train_batch_size": 30000, "callbacks": {"on_sample_end": null, "on_train_result": null, "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7f2c02cf55c0>", "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7f2c02ce8240>", "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7f2c02cec240>"}, "observation_filter": "MeanStdFilter", "synchronize_filters": true, "gamma": 0.99, "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "env_config": {"flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"buf_length\": 1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.1,\n            \"eta3\": 0.1,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 1.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnv\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 600,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}", "run": "PPO"}, "env": "MultiWaveAttenuationMergePOEnv-v0_[eta1, eta2, eta3]:[1.0, 0.1, 0.1]_t_min:1.0_buf_len: 1", "optimizer": {}, "num_workers": 20, "num_cpus_for_driver": 1, "lr_schedule": null, "batch_mode": "truncate_episodes"}, "time_this_iter_s": 51.3296582698822, "timesteps_since_restore": 6252884, "info": {"update_time_ms": 7.743, "num_steps_sampled": 6252884, "sample_time_ms": 34247.08, "grad_time_ms": 16331.3, "default": {"entropy": 1.3885962963104248, "kl": 0.019265301525592804, "vf_loss": 35.414772033691406, "vf_explained_var": 0.8495980501174927, "policy_loss": -0.010641206055879593, "total_loss": 35.40846633911133, "cur_lr": 0.0005000000237487257, "cur_kl_coeff": 0.22499997913837433}, "num_steps_trained": 6252884, "load_time_ms": 9.92}, "time_total_s": 4731.921452999115, "num_metric_batches_dropped": 0, "timestamp": 1558311224, "episode_reward_max": 1303.7814515302882, "timesteps_this_iter": 65492, "episode_reward_min": 33.59425828239116, "date": "2019-05-20_00-13-44", "policy_reward_mean": {}, "time_since_restore": 4731.921452999115, "episodes_total": 2635, "iterations_since_restore": 93, "pid": 46880, "episodes_this_iter": 29, "episode_len_mean": 686.56, "done": false, "training_iteration": 93, "custom_metrics": {"cost2_mean": -0.0754029014296341, "outflow_rate_mean": 1099.5899278353268, "cost2_min": -0.6000000000000001, "system_level_velocity_mean": 13.186945840973946, "cost1_min": 11.7455819683841, "cost1_mean": 331.0694574251467, "cost1_max": 464.39363668752014, "outflow_rate_max": 1346.2330434039688, "system_level_velocity_max": 18.980822433840185, "outflow_rate_min": 464.32649368107076, "cost2_max": 0.0, "system_level_velocity_min": 9.68157948189724}, "node_ip": "10.138.0.2", "timesteps_total": 6252884}
{"hostname": "flow-main", "episode_reward_mean": 1004.2686998064419, "experiment_id": "383e98f8614b4235818372cc4d63f9e0", "config": {"use_gae": true, "tf_session_args": {"allow_soft_placement": true, "gpu_options": {"allow_growth": true}, "inter_op_parallelism_threads": 2, "device_count": {"CPU": 1}, "intra_op_parallelism_threads": 2, "log_device_placement": false}, "entropy_coeff": 0.0, "kl_coeff": 0.2, "num_gpus_per_worker": 0, "monitor": false, "input_evaluation": null, "clip_rewards": null, "vf_share_layers": false, "straggler_mitigation": false, "log_level": "INFO", "clip_actions": false, "simple_optimizer": false, "sample_batch_size": 750, "vf_clip_param": 1000000.0, "custom_resources_per_worker": {}, "lr": 0.0005, "num_sgd_iter": 10, "model": {"grayscale": false, "dim": 84, "custom_model": null, "free_log_std": false, "custom_options": {}, "lstm_cell_size": 256, "framestack": true, "squash_to_range": false, "conv_filters": null, "channel_major": false, "custom_preprocessor": null, "fcnet_hiddens": [128, 64, 32], "max_seq_len": 20, "lstm_use_prev_action_reward": false, "conv_activation": "relu", "use_lstm": false, "zero_mean": true, "fcnet_activation": "tanh"}, "input": "sampler", "horizon": 1500, "vf_loss_coeff": 1.0, "compress_observations": false, "num_envs_per_worker": 1, "sample_async": false, "num_gpus": 0, "output_max_file_size": 67108864, "lambda": 0.97, "multiagent": {"policy_graphs": {}, "policies_to_train": null, "policy_mapping_fn": null}, "output": null, "num_cpus_per_worker": 1, "preprocessor_pref": "deepmind", "clip_param": 0.3, "kl_target": 0.01, "output_compress_columns": ["obs", "new_obs"], "collect_metrics_timeout": 180, "sgd_minibatch_size": 128, "train_batch_size": 30000, "callbacks": {"on_sample_end": null, "on_train_result": null, "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7f2c0288ee10>", "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7f2c02ce8128>", "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7f2c0288eda0>"}, "observation_filter": "MeanStdFilter", "synchronize_filters": true, "gamma": 0.99, "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "env_config": {"flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"buf_length\": 1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.1,\n            \"eta3\": 0.1,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 1.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnv\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 600,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}", "run": "PPO"}, "env": "MultiWaveAttenuationMergePOEnv-v0_[eta1, eta2, eta3]:[1.0, 0.1, 0.1]_t_min:1.0_buf_len: 1", "optimizer": {}, "num_workers": 20, "num_cpus_for_driver": 1, "lr_schedule": null, "batch_mode": "truncate_episodes"}, "time_this_iter_s": 50.95759725570679, "timesteps_since_restore": 6319108, "info": {"update_time_ms": 7.788, "num_steps_sampled": 6319108, "sample_time_ms": 34286.316, "grad_time_ms": 16483.487, "default": {"entropy": 1.407562494277954, "kl": 0.01868012547492981, "vf_loss": 32.64250564575195, "vf_explained_var": 0.8433017730712891, "policy_loss": -0.009678027592599392, "total_loss": 32.63703155517578, "cur_lr": 0.0005000000237487257, "cur_kl_coeff": 0.22499997913837433}, "num_steps_trained": 6319108, "load_time_ms": 9.682}, "time_total_s": 4782.879050254822, "num_metric_batches_dropped": 0, "timestamp": 1558311275, "episode_reward_max": 1303.7814515302882, "timesteps_this_iter": 66224, "episode_reward_min": 33.59425828239116, "date": "2019-05-20_00-14-35", "policy_reward_mean": {}, "time_since_restore": 4782.879050254822, "episodes_total": 2661, "iterations_since_restore": 94, "pid": 46880, "episodes_this_iter": 26, "episode_len_mean": 693.18, "done": false, "training_iteration": 94, "custom_metrics": {"cost2_mean": -0.0900254685178962, "outflow_rate_mean": 1102.1396111171437, "cost2_min": -0.6000000000000001, "system_level_velocity_mean": 13.113485166130369, "cost1_min": 11.7455819683841, "cost1_mean": 333.6548086868687, "cost1_max": 496.04486047378214, "outflow_rate_max": 1360.8636325639773, "system_level_velocity_max": 19.146902083830614, "outflow_rate_min": 464.32649368107076, "cost2_max": 0.0, "system_level_velocity_min": 9.68157948189724}, "node_ip": "10.138.0.2", "timesteps_total": 6319108}
{"hostname": "flow-main", "episode_reward_mean": 1010.2391809692901, "experiment_id": "383e98f8614b4235818372cc4d63f9e0", "config": {"use_gae": true, "tf_session_args": {"allow_soft_placement": true, "gpu_options": {"allow_growth": true}, "inter_op_parallelism_threads": 2, "device_count": {"CPU": 1}, "intra_op_parallelism_threads": 2, "log_device_placement": false}, "entropy_coeff": 0.0, "kl_coeff": 0.2, "num_gpus_per_worker": 0, "monitor": false, "input_evaluation": null, "clip_rewards": null, "vf_share_layers": false, "straggler_mitigation": false, "log_level": "INFO", "clip_actions": false, "simple_optimizer": false, "sample_batch_size": 750, "vf_clip_param": 1000000.0, "custom_resources_per_worker": {}, "lr": 0.0005, "num_sgd_iter": 10, "model": {"grayscale": false, "dim": 84, "custom_model": null, "free_log_std": false, "custom_options": {}, "lstm_cell_size": 256, "framestack": true, "squash_to_range": false, "conv_filters": null, "channel_major": false, "custom_preprocessor": null, "fcnet_hiddens": [128, 64, 32], "max_seq_len": 20, "lstm_use_prev_action_reward": false, "conv_activation": "relu", "use_lstm": false, "zero_mean": true, "fcnet_activation": "tanh"}, "input": "sampler", "horizon": 1500, "vf_loss_coeff": 1.0, "compress_observations": false, "num_envs_per_worker": 1, "sample_async": false, "num_gpus": 0, "output_max_file_size": 67108864, "lambda": 0.97, "multiagent": {"policy_graphs": {}, "policies_to_train": null, "policy_mapping_fn": null}, "output": null, "num_cpus_per_worker": 1, "preprocessor_pref": "deepmind", "clip_param": 0.3, "kl_target": 0.01, "output_compress_columns": ["obs", "new_obs"], "collect_metrics_timeout": 180, "sgd_minibatch_size": 128, "train_batch_size": 30000, "callbacks": {"on_sample_end": null, "on_train_result": null, "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7f2c028a8978>", "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7f2c028a8e80>", "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7f2c02898588>"}, "observation_filter": "MeanStdFilter", "synchronize_filters": true, "gamma": 0.99, "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "env_config": {"flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"buf_length\": 1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.1,\n            \"eta3\": 0.1,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 1.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnv\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 600,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}", "run": "PPO"}, "env": "MultiWaveAttenuationMergePOEnv-v0_[eta1, eta2, eta3]:[1.0, 0.1, 0.1]_t_min:1.0_buf_len: 1", "optimizer": {}, "num_workers": 20, "num_cpus_for_driver": 1, "lr_schedule": null, "batch_mode": "truncate_episodes"}, "time_this_iter_s": 52.52043533325195, "timesteps_since_restore": 6387244, "info": {"update_time_ms": 8.1, "num_steps_sampled": 6387244, "sample_time_ms": 34255.133, "grad_time_ms": 16605.314, "default": {"entropy": 1.431919813156128, "kl": 0.017466863617300987, "vf_loss": 30.556486129760742, "vf_explained_var": 0.8464094996452332, "policy_loss": -0.00864265114068985, "total_loss": 30.551773071289062, "cur_lr": 0.0005000000237487257, "cur_kl_coeff": 0.22499999403953552}, "num_steps_trained": 6387244, "load_time_ms": 10.048}, "time_total_s": 4835.399485588074, "num_metric_batches_dropped": 0, "timestamp": 1558311327, "episode_reward_max": 1303.7814515302882, "timesteps_this_iter": 68136, "episode_reward_min": 33.59425828239116, "date": "2019-05-20_00-15-27", "policy_reward_mean": {}, "time_since_restore": 4835.399485588074, "episodes_total": 2687, "iterations_since_restore": 95, "pid": 46880, "episodes_this_iter": 26, "episode_len_mean": 693.18, "done": false, "training_iteration": 95, "custom_metrics": {"cost2_mean": -0.08252996633789927, "outflow_rate_mean": 1105.4027198775293, "cost2_min": -0.47600754793637445, "system_level_velocity_mean": 13.16692096168987, "cost1_min": 11.7455819683841, "cost1_mean": 334.9907298806488, "cost1_max": 496.04486047378214, "outflow_rate_max": 1360.8636325639773, "system_level_velocity_max": 19.146902083830614, "outflow_rate_min": 464.32649368107076, "cost2_max": 0.0, "system_level_velocity_min": 9.68157948189724}, "node_ip": "10.138.0.2", "timesteps_total": 6387244}
{"hostname": "flow-main", "episode_reward_mean": 1011.4430862103379, "experiment_id": "383e98f8614b4235818372cc4d63f9e0", "config": {"use_gae": true, "tf_session_args": {"allow_soft_placement": true, "gpu_options": {"allow_growth": true}, "inter_op_parallelism_threads": 2, "device_count": {"CPU": 1}, "intra_op_parallelism_threads": 2, "log_device_placement": false}, "entropy_coeff": 0.0, "kl_coeff": 0.2, "num_gpus_per_worker": 0, "monitor": false, "input_evaluation": null, "clip_rewards": null, "vf_share_layers": false, "straggler_mitigation": false, "log_level": "INFO", "clip_actions": false, "simple_optimizer": false, "sample_batch_size": 750, "vf_clip_param": 1000000.0, "custom_resources_per_worker": {}, "lr": 0.0005, "num_sgd_iter": 10, "model": {"grayscale": false, "dim": 84, "custom_model": null, "free_log_std": false, "custom_options": {}, "lstm_cell_size": 256, "framestack": true, "squash_to_range": false, "conv_filters": null, "channel_major": false, "custom_preprocessor": null, "fcnet_hiddens": [128, 64, 32], "max_seq_len": 20, "lstm_use_prev_action_reward": false, "conv_activation": "relu", "use_lstm": false, "zero_mean": true, "fcnet_activation": "tanh"}, "input": "sampler", "horizon": 1500, "vf_loss_coeff": 1.0, "compress_observations": false, "num_envs_per_worker": 1, "sample_async": false, "num_gpus": 0, "output_max_file_size": 67108864, "lambda": 0.97, "multiagent": {"policy_graphs": {}, "policies_to_train": null, "policy_mapping_fn": null}, "output": null, "num_cpus_per_worker": 1, "preprocessor_pref": "deepmind", "clip_param": 0.3, "kl_target": 0.01, "output_compress_columns": ["obs", "new_obs"], "collect_metrics_timeout": 180, "sgd_minibatch_size": 128, "train_batch_size": 30000, "callbacks": {"on_sample_end": null, "on_train_result": null, "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7f2c028a8fd0>", "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7f2c028a8cf8>", "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7f2c028a8b00>"}, "observation_filter": "MeanStdFilter", "synchronize_filters": true, "gamma": 0.99, "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "env_config": {"flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"buf_length\": 1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.1,\n            \"eta3\": 0.1,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 1.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnv\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 600,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}", "run": "PPO"}, "env": "MultiWaveAttenuationMergePOEnv-v0_[eta1, eta2, eta3]:[1.0, 0.1, 0.1]_t_min:1.0_buf_len: 1", "optimizer": {}, "num_workers": 20, "num_cpus_for_driver": 1, "lr_schedule": null, "batch_mode": "truncate_episodes"}, "time_this_iter_s": 50.005691051483154, "timesteps_since_restore": 6452277, "info": {"update_time_ms": 8.167, "num_steps_sampled": 6452277, "sample_time_ms": 34200.126, "grad_time_ms": 16869.592, "default": {"entropy": 1.413337230682373, "kl": 0.01780509389936924, "vf_loss": 30.94931983947754, "vf_explained_var": 0.8530558347702026, "policy_loss": -0.01008934248238802, "total_loss": 30.943235397338867, "cur_lr": 0.0005000000237487257, "cur_kl_coeff": 0.22499997913837433}, "num_steps_trained": 6452277, "load_time_ms": 10.155}, "time_total_s": 4885.405176639557, "num_metric_batches_dropped": 0, "timestamp": 1558311377, "episode_reward_max": 1304.302150615957, "timesteps_this_iter": 65033, "episode_reward_min": 851.8100542882455, "date": "2019-05-20_00-16-17", "policy_reward_mean": {}, "time_since_restore": 4885.405176639557, "episodes_total": 2713, "iterations_since_restore": 96, "pid": 46880, "episodes_this_iter": 26, "episode_len_mean": 700.0, "done": false, "training_iteration": 96, "custom_metrics": {"cost2_mean": -0.0932394309757634, "outflow_rate_mean": 1113.2991756497488, "cost2_min": -0.8694989712554413, "system_level_velocity_mean": 13.181720882026031, "cost1_min": 253.57740297182147, "cost1_mean": 339.7141102440305, "cost1_max": 496.04486047378214, "outflow_rate_max": 1361.0372896102472, "system_level_velocity_max": 19.146902083830614, "outflow_rate_min": 958.0880024354369, "cost2_max": 0.0, "system_level_velocity_min": 9.68157948189724}, "node_ip": "10.138.0.2", "timesteps_total": 6452277}
{"hostname": "flow-main", "episode_reward_mean": 1010.752083764117, "experiment_id": "383e98f8614b4235818372cc4d63f9e0", "config": {"use_gae": true, "tf_session_args": {"allow_soft_placement": true, "gpu_options": {"allow_growth": true}, "inter_op_parallelism_threads": 2, "device_count": {"CPU": 1}, "intra_op_parallelism_threads": 2, "log_device_placement": false}, "entropy_coeff": 0.0, "kl_coeff": 0.2, "num_gpus_per_worker": 0, "monitor": false, "input_evaluation": null, "clip_rewards": null, "vf_share_layers": false, "straggler_mitigation": false, "log_level": "INFO", "clip_actions": false, "simple_optimizer": false, "sample_batch_size": 750, "vf_clip_param": 1000000.0, "custom_resources_per_worker": {}, "lr": 0.0005, "num_sgd_iter": 10, "model": {"grayscale": false, "dim": 84, "custom_model": null, "free_log_std": false, "custom_options": {}, "lstm_cell_size": 256, "framestack": true, "squash_to_range": false, "conv_filters": null, "channel_major": false, "custom_preprocessor": null, "fcnet_hiddens": [128, 64, 32], "max_seq_len": 20, "lstm_use_prev_action_reward": false, "conv_activation": "relu", "use_lstm": false, "zero_mean": true, "fcnet_activation": "tanh"}, "input": "sampler", "horizon": 1500, "vf_loss_coeff": 1.0, "compress_observations": false, "num_envs_per_worker": 1, "sample_async": false, "num_gpus": 0, "output_max_file_size": 67108864, "lambda": 0.97, "multiagent": {"policy_graphs": {}, "policies_to_train": null, "policy_mapping_fn": null}, "output": null, "num_cpus_per_worker": 1, "preprocessor_pref": "deepmind", "clip_param": 0.3, "kl_target": 0.01, "output_compress_columns": ["obs", "new_obs"], "collect_metrics_timeout": 180, "sgd_minibatch_size": 128, "train_batch_size": 30000, "callbacks": {"on_sample_end": null, "on_train_result": null, "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7f2c028989e8>", "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7f2c02898588>", "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7f2c02898898>"}, "observation_filter": "MeanStdFilter", "synchronize_filters": true, "gamma": 0.99, "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "env_config": {"flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"buf_length\": 1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.1,\n            \"eta3\": 0.1,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 1.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnv\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 600,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}", "run": "PPO"}, "env": "MultiWaveAttenuationMergePOEnv-v0_[eta1, eta2, eta3]:[1.0, 0.1, 0.1]_t_min:1.0_buf_len: 1", "optimizer": {}, "num_workers": 20, "num_cpus_for_driver": 1, "lr_schedule": null, "batch_mode": "truncate_episodes"}, "time_this_iter_s": 52.67825126647949, "timesteps_since_restore": 6518374, "info": {"update_time_ms": 8.051, "num_steps_sampled": 6518374, "sample_time_ms": 34346.272, "grad_time_ms": 17092.215, "default": {"entropy": 1.416227102279663, "kl": 0.017377838492393494, "vf_loss": 31.943979263305664, "vf_explained_var": 0.8376171588897705, "policy_loss": -0.008519762195646763, "total_loss": 31.939373016357422, "cur_lr": 0.0005000000237487257, "cur_kl_coeff": 0.22499997913837433}, "num_steps_trained": 6518374, "load_time_ms": 10.109}, "time_total_s": 4938.083427906036, "num_metric_batches_dropped": 0, "timestamp": 1558311430, "episode_reward_max": 1304.302150615957, "timesteps_this_iter": 66097, "episode_reward_min": 806.8935456441542, "date": "2019-05-20_00-17-10", "policy_reward_mean": {}, "time_since_restore": 4938.083427906036, "episodes_total": 2741, "iterations_since_restore": 97, "pid": 46880, "episodes_this_iter": 28, "episode_len_mean": 700.0, "done": false, "training_iteration": 97, "custom_metrics": {"cost2_mean": -0.09770800688220688, "outflow_rate_mean": 1118.054719745786, "cost2_min": -0.8694989712554413, "system_level_velocity_mean": 13.274968039731805, "cost1_min": 263.59227890762963, "cost1_mean": 342.26194908576826, "cost1_max": 496.04486047378214, "outflow_rate_max": 1361.0372896102472, "system_level_velocity_max": 19.146902083830614, "outflow_rate_min": 961.1153384920723, "cost2_max": 0.0, "system_level_velocity_min": 10.262175193627158}, "node_ip": "10.138.0.2", "timesteps_total": 6518374}
{"hostname": "flow-main", "episode_reward_mean": 993.0372278546681, "experiment_id": "383e98f8614b4235818372cc4d63f9e0", "config": {"use_gae": true, "tf_session_args": {"allow_soft_placement": true, "gpu_options": {"allow_growth": true}, "inter_op_parallelism_threads": 2, "device_count": {"CPU": 1}, "intra_op_parallelism_threads": 2, "log_device_placement": false}, "entropy_coeff": 0.0, "kl_coeff": 0.2, "num_gpus_per_worker": 0, "monitor": false, "input_evaluation": null, "clip_rewards": null, "vf_share_layers": false, "straggler_mitigation": false, "log_level": "INFO", "clip_actions": false, "simple_optimizer": false, "sample_batch_size": 750, "vf_clip_param": 1000000.0, "custom_resources_per_worker": {}, "lr": 0.0005, "num_sgd_iter": 10, "model": {"grayscale": false, "dim": 84, "custom_model": null, "free_log_std": false, "custom_options": {}, "lstm_cell_size": 256, "framestack": true, "squash_to_range": false, "conv_filters": null, "channel_major": false, "custom_preprocessor": null, "fcnet_hiddens": [128, 64, 32], "max_seq_len": 20, "lstm_use_prev_action_reward": false, "conv_activation": "relu", "use_lstm": false, "zero_mean": true, "fcnet_activation": "tanh"}, "input": "sampler", "horizon": 1500, "vf_loss_coeff": 1.0, "compress_observations": false, "num_envs_per_worker": 1, "sample_async": false, "num_gpus": 0, "output_max_file_size": 67108864, "lambda": 0.97, "multiagent": {"policy_graphs": {}, "policies_to_train": null, "policy_mapping_fn": null}, "output": null, "num_cpus_per_worker": 1, "preprocessor_pref": "deepmind", "clip_param": 0.3, "kl_target": 0.01, "output_compress_columns": ["obs", "new_obs"], "collect_metrics_timeout": 180, "sgd_minibatch_size": 128, "train_batch_size": 30000, "callbacks": {"on_sample_end": null, "on_train_result": null, "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7f2c02d02dd8>", "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7f2c02d022b0>", "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7f2c02d02390>"}, "observation_filter": "MeanStdFilter", "synchronize_filters": true, "gamma": 0.99, "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "env_config": {"flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"buf_length\": 1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.1,\n            \"eta3\": 0.1,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 1.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnv\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 600,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}", "run": "PPO"}, "env": "MultiWaveAttenuationMergePOEnv-v0_[eta1, eta2, eta3]:[1.0, 0.1, 0.1]_t_min:1.0_buf_len: 1", "optimizer": {}, "num_workers": 20, "num_cpus_for_driver": 1, "lr_schedule": null, "batch_mode": "truncate_episodes"}, "time_this_iter_s": 50.148717641830444, "timesteps_since_restore": 6585046, "info": {"update_time_ms": 8.348, "num_steps_sampled": 6585046, "sample_time_ms": 34242.973, "grad_time_ms": 17133.588, "default": {"entropy": 1.437408208847046, "kl": 0.019198153167963028, "vf_loss": 32.23234939575195, "vf_explained_var": 0.8259455561637878, "policy_loss": -0.011549483053386211, "total_loss": 32.22512435913086, "cur_lr": 0.0005000000237487257, "cur_kl_coeff": 0.22499996423721313}, "num_steps_trained": 6585046, "load_time_ms": 10.035}, "time_total_s": 4988.232145547867, "num_metric_batches_dropped": 0, "timestamp": 1558311480, "episode_reward_max": 1304.302150615957, "timesteps_this_iter": 66672, "episode_reward_min": 42.692207775756145, "date": "2019-05-20_00-18-00", "policy_reward_mean": {}, "time_since_restore": 4988.232145547867, "episodes_total": 2769, "iterations_since_restore": 98, "pid": 46880, "episodes_this_iter": 28, "episode_len_mean": 693.27, "done": false, "training_iteration": 98, "custom_metrics": {"cost2_mean": -0.09743219538879108, "outflow_rate_mean": 1108.098224590641, "cost2_min": -0.8694989712554413, "system_level_velocity_mean": 13.188745079239496, "cost1_min": 17.88597636413101, "cost1_mean": 335.81456779720867, "cost1_max": 474.0600426272332, "outflow_rate_max": 1361.0372896102472, "system_level_velocity_max": 18.341650031468202, "outflow_rate_min": 440.0776462457383, "cost2_max": 0.0, "system_level_velocity_min": 10.262175193627158}, "node_ip": "10.138.0.2", "timesteps_total": 6585046}
{"hostname": "flow-main", "episode_reward_mean": 984.9918602730654, "experiment_id": "383e98f8614b4235818372cc4d63f9e0", "config": {"use_gae": true, "tf_session_args": {"allow_soft_placement": true, "gpu_options": {"allow_growth": true}, "inter_op_parallelism_threads": 2, "device_count": {"CPU": 1}, "intra_op_parallelism_threads": 2, "log_device_placement": false}, "entropy_coeff": 0.0, "kl_coeff": 0.2, "num_gpus_per_worker": 0, "monitor": false, "input_evaluation": null, "clip_rewards": null, "vf_share_layers": false, "straggler_mitigation": false, "log_level": "INFO", "clip_actions": false, "simple_optimizer": false, "sample_batch_size": 750, "vf_clip_param": 1000000.0, "custom_resources_per_worker": {}, "lr": 0.0005, "num_sgd_iter": 10, "model": {"grayscale": false, "dim": 84, "custom_model": null, "free_log_std": false, "custom_options": {}, "lstm_cell_size": 256, "framestack": true, "squash_to_range": false, "conv_filters": null, "channel_major": false, "custom_preprocessor": null, "fcnet_hiddens": [128, 64, 32], "max_seq_len": 20, "lstm_use_prev_action_reward": false, "conv_activation": "relu", "use_lstm": false, "zero_mean": true, "fcnet_activation": "tanh"}, "input": "sampler", "horizon": 1500, "vf_loss_coeff": 1.0, "compress_observations": false, "num_envs_per_worker": 1, "sample_async": false, "num_gpus": 0, "output_max_file_size": 67108864, "lambda": 0.97, "multiagent": {"policy_graphs": {}, "policies_to_train": null, "policy_mapping_fn": null}, "output": null, "num_cpus_per_worker": 1, "preprocessor_pref": "deepmind", "clip_param": 0.3, "kl_target": 0.01, "output_compress_columns": ["obs", "new_obs"], "collect_metrics_timeout": 180, "sgd_minibatch_size": 128, "train_batch_size": 30000, "callbacks": {"on_sample_end": null, "on_train_result": null, "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7f2c0288eef0>", "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7f2c02898160>", "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7f2c028982b0>"}, "observation_filter": "MeanStdFilter", "synchronize_filters": true, "gamma": 0.99, "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "env_config": {"flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"buf_length\": 1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.1,\n            \"eta3\": 0.1,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 1.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnv\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 600,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}", "run": "PPO"}, "env": "MultiWaveAttenuationMergePOEnv-v0_[eta1, eta2, eta3]:[1.0, 0.1, 0.1]_t_min:1.0_buf_len: 1", "optimizer": {}, "num_workers": 20, "num_cpus_for_driver": 1, "lr_schedule": null, "batch_mode": "truncate_episodes"}, "time_this_iter_s": 51.00214624404907, "timesteps_since_restore": 6651354, "info": {"update_time_ms": 8.393, "num_steps_sampled": 6651354, "sample_time_ms": 34012.852, "grad_time_ms": 17399.54, "default": {"entropy": 1.4278277158737183, "kl": 0.017989836633205414, "vf_loss": 33.11595916748047, "vf_explained_var": 0.8268717527389526, "policy_loss": -0.010311717167496681, "total_loss": 33.10969161987305, "cur_lr": 0.0005000000237487257, "cur_kl_coeff": 0.22499997913837433}, "num_steps_trained": 6651354, "load_time_ms": 10.013}, "time_total_s": 5039.234291791916, "num_metric_batches_dropped": 0, "timestamp": 1558311531, "episode_reward_max": 1304.302150615957, "timesteps_this_iter": 66308, "episode_reward_min": 42.692207775756145, "date": "2019-05-20_00-18-51", "policy_reward_mean": {}, "time_since_restore": 5039.234291791916, "episodes_total": 2799, "iterations_since_restore": 99, "pid": 46880, "episodes_this_iter": 30, "episode_len_mean": 686.62, "done": false, "training_iteration": 99, "custom_metrics": {"cost2_mean": -0.10096493444139977, "outflow_rate_mean": 1098.6530575245613, "cost2_min": -0.8744915366887471, "system_level_velocity_mean": 13.15626913236796, "cost1_min": 17.88597636413101, "cost1_mean": 330.6211992086418, "cost1_max": 485.05600323312706, "outflow_rate_max": 1371.5456712393948, "system_level_velocity_max": 18.807136755713675, "outflow_rate_min": 440.0776462457383, "cost2_max": 0.0, "system_level_velocity_min": 10.262175193627158}, "node_ip": "10.138.0.2", "timesteps_total": 6651354}
{"hostname": "flow-main", "episode_reward_mean": 970.6266794614262, "experiment_id": "383e98f8614b4235818372cc4d63f9e0", "config": {"use_gae": true, "tf_session_args": {"allow_soft_placement": true, "gpu_options": {"allow_growth": true}, "inter_op_parallelism_threads": 2, "device_count": {"CPU": 1}, "intra_op_parallelism_threads": 2, "log_device_placement": false}, "entropy_coeff": 0.0, "kl_coeff": 0.2, "num_gpus_per_worker": 0, "monitor": false, "input_evaluation": null, "clip_rewards": null, "vf_share_layers": false, "straggler_mitigation": false, "log_level": "INFO", "clip_actions": false, "simple_optimizer": false, "sample_batch_size": 750, "vf_clip_param": 1000000.0, "custom_resources_per_worker": {}, "lr": 0.0005, "num_sgd_iter": 10, "model": {"grayscale": false, "dim": 84, "custom_model": null, "free_log_std": false, "custom_options": {}, "lstm_cell_size": 256, "framestack": true, "squash_to_range": false, "conv_filters": null, "channel_major": false, "custom_preprocessor": null, "fcnet_hiddens": [128, 64, 32], "max_seq_len": 20, "lstm_use_prev_action_reward": false, "conv_activation": "relu", "use_lstm": false, "zero_mean": true, "fcnet_activation": "tanh"}, "input": "sampler", "horizon": 1500, "vf_loss_coeff": 1.0, "compress_observations": false, "num_envs_per_worker": 1, "sample_async": false, "num_gpus": 0, "output_max_file_size": 67108864, "lambda": 0.97, "multiagent": {"policy_graphs": {}, "policies_to_train": null, "policy_mapping_fn": null}, "output": null, "num_cpus_per_worker": 1, "preprocessor_pref": "deepmind", "clip_param": 0.3, "kl_target": 0.01, "output_compress_columns": ["obs", "new_obs"], "collect_metrics_timeout": 180, "sgd_minibatch_size": 128, "train_batch_size": 30000, "callbacks": {"on_sample_end": null, "on_train_result": null, "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7f2c02cfef28>", "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7f2c02cfe048>", "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7f2c02cfe7f0>"}, "observation_filter": "MeanStdFilter", "synchronize_filters": true, "gamma": 0.99, "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "env_config": {"flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"buf_length\": 1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.1,\n            \"eta3\": 0.1,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 1.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnv\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 600,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}", "run": "PPO"}, "env": "MultiWaveAttenuationMergePOEnv-v0_[eta1, eta2, eta3]:[1.0, 0.1, 0.1]_t_min:1.0_buf_len: 1", "optimizer": {}, "num_workers": 20, "num_cpus_for_driver": 1, "lr_schedule": null, "batch_mode": "truncate_episodes"}, "time_this_iter_s": 49.92481708526611, "timesteps_since_restore": 6717935, "info": {"update_time_ms": 8.42, "num_steps_sampled": 6717935, "sample_time_ms": 33797.075, "grad_time_ms": 17278.307, "default": {"entropy": 1.4413917064666748, "kl": 0.017912039533257484, "vf_loss": 37.27996826171875, "vf_explained_var": 0.8033796548843384, "policy_loss": -0.010990101844072342, "total_loss": 37.27301025390625, "cur_lr": 0.0005000000237487257, "cur_kl_coeff": 0.22499996423721313}, "num_steps_trained": 6717935, "load_time_ms": 10.212}, "time_total_s": 5089.159108877182, "num_metric_batches_dropped": 0, "timestamp": 1558311581, "episode_reward_max": 1229.1017894451825, "timesteps_this_iter": 66581, "episode_reward_min": 42.692207775756145, "date": "2019-05-20_00-19-41", "policy_reward_mean": {}, "time_since_restore": 5089.159108877182, "episodes_total": 2832, "iterations_since_restore": 100, "pid": 46880, "episodes_this_iter": 33, "episode_len_mean": 680.73, "done": false, "training_iteration": 100, "custom_metrics": {"cost2_mean": -0.09503598734082136, "outflow_rate_mean": 1088.8164433867503, "cost2_min": -0.8744915366887471, "system_level_velocity_mean": 13.099798959736999, "cost1_min": 17.88597636413101, "cost1_mean": 325.133543552608, "cost1_max": 485.3367375060121, "outflow_rate_max": 1371.5456712393948, "system_level_velocity_max": 18.807136755713675, "outflow_rate_min": 440.0776462457383, "cost2_max": 0.0, "system_level_velocity_min": 9.439911190533538}, "node_ip": "10.138.0.2", "timesteps_total": 6717935}
{"hostname": "flow-main", "episode_reward_mean": 960.9146028902817, "experiment_id": "383e98f8614b4235818372cc4d63f9e0", "config": {"use_gae": true, "tf_session_args": {"allow_soft_placement": true, "gpu_options": {"allow_growth": true}, "inter_op_parallelism_threads": 2, "device_count": {"CPU": 1}, "intra_op_parallelism_threads": 2, "log_device_placement": false}, "entropy_coeff": 0.0, "kl_coeff": 0.2, "num_gpus_per_worker": 0, "monitor": false, "input_evaluation": null, "clip_rewards": null, "vf_share_layers": false, "straggler_mitigation": false, "log_level": "INFO", "clip_actions": false, "simple_optimizer": false, "sample_batch_size": 750, "vf_clip_param": 1000000.0, "custom_resources_per_worker": {}, "lr": 0.0005, "num_sgd_iter": 10, "model": {"grayscale": false, "dim": 84, "custom_model": null, "free_log_std": false, "custom_options": {}, "lstm_cell_size": 256, "framestack": true, "squash_to_range": false, "conv_filters": null, "channel_major": false, "custom_preprocessor": null, "fcnet_hiddens": [128, 64, 32], "max_seq_len": 20, "lstm_use_prev_action_reward": false, "conv_activation": "relu", "use_lstm": false, "zero_mean": true, "fcnet_activation": "tanh"}, "input": "sampler", "horizon": 1500, "vf_loss_coeff": 1.0, "compress_observations": false, "num_envs_per_worker": 1, "sample_async": false, "num_gpus": 0, "output_max_file_size": 67108864, "lambda": 0.97, "multiagent": {"policy_graphs": {}, "policies_to_train": null, "policy_mapping_fn": null}, "output": null, "num_cpus_per_worker": 1, "preprocessor_pref": "deepmind", "clip_param": 0.3, "kl_target": 0.01, "output_compress_columns": ["obs", "new_obs"], "collect_metrics_timeout": 180, "sgd_minibatch_size": 128, "train_batch_size": 30000, "callbacks": {"on_sample_end": null, "on_train_result": null, "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7f2c028982e8>", "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7f2c028984a8>", "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7f2c02898a58>"}, "observation_filter": "MeanStdFilter", "synchronize_filters": true, "gamma": 0.99, "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "env_config": {"flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"buf_length\": 1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.1,\n            \"eta3\": 0.1,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 1.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnv\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 600,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}", "run": "PPO"}, "env": "MultiWaveAttenuationMergePOEnv-v0_[eta1, eta2, eta3]:[1.0, 0.1, 0.1]_t_min:1.0_buf_len: 1", "optimizer": {}, "num_workers": 20, "num_cpus_for_driver": 1, "lr_schedule": null, "batch_mode": "truncate_episodes"}, "time_this_iter_s": 48.15376305580139, "timesteps_since_restore": 6781466, "info": {"update_time_ms": 8.489, "num_steps_sampled": 6781466, "sample_time_ms": 33541.755, "grad_time_ms": 17143.272, "default": {"entropy": 1.4141494035720825, "kl": 0.01821712963283062, "vf_loss": 35.33787155151367, "vf_explained_var": 0.8311963081359863, "policy_loss": -0.011876172386109829, "total_loss": 35.33009338378906, "cur_lr": 0.0005000000237487257, "cur_kl_coeff": 0.22499996423721313}, "num_steps_trained": 6781466, "load_time_ms": 9.953}, "time_total_s": 5137.312871932983, "num_metric_batches_dropped": 0, "timestamp": 1558311629, "episode_reward_max": 1244.4939462154332, "timesteps_this_iter": 63531, "episode_reward_min": 24.210386782694947, "date": "2019-05-20_00-20-29", "policy_reward_mean": {}, "time_since_restore": 5137.312871932983, "episodes_total": 2862, "iterations_since_restore": 101, "pid": 46880, "episodes_this_iter": 30, "episode_len_mean": 674.63, "done": false, "training_iteration": 101, "custom_metrics": {"cost2_mean": -0.10982659469198794, "outflow_rate_mean": 1078.7336302400292, "cost2_min": -0.8744915366887471, "system_level_velocity_mean": 13.11741667332561, "cost1_min": 11.714108057672812, "cost1_mean": 321.23894120753897, "cost1_max": 485.3367375060121, "outflow_rate_max": 1371.5456712393948, "system_level_velocity_max": 18.810928733366918, "outflow_rate_min": 464.32649368107076, "cost2_max": 0.0, "system_level_velocity_min": 9.439911190533538}, "node_ip": "10.138.0.2", "timesteps_total": 6781466}
{"hostname": "flow-main", "episode_reward_mean": 949.0623920924195, "experiment_id": "383e98f8614b4235818372cc4d63f9e0", "config": {"use_gae": true, "tf_session_args": {"allow_soft_placement": true, "gpu_options": {"allow_growth": true}, "inter_op_parallelism_threads": 2, "device_count": {"CPU": 1}, "intra_op_parallelism_threads": 2, "log_device_placement": false}, "entropy_coeff": 0.0, "kl_coeff": 0.2, "num_gpus_per_worker": 0, "monitor": false, "input_evaluation": null, "clip_rewards": null, "vf_share_layers": false, "straggler_mitigation": false, "log_level": "INFO", "clip_actions": false, "simple_optimizer": false, "sample_batch_size": 750, "vf_clip_param": 1000000.0, "custom_resources_per_worker": {}, "lr": 0.0005, "num_sgd_iter": 10, "model": {"grayscale": false, "dim": 84, "custom_model": null, "free_log_std": false, "custom_options": {}, "lstm_cell_size": 256, "framestack": true, "squash_to_range": false, "conv_filters": null, "channel_major": false, "custom_preprocessor": null, "fcnet_hiddens": [128, 64, 32], "max_seq_len": 20, "lstm_use_prev_action_reward": false, "conv_activation": "relu", "use_lstm": false, "zero_mean": true, "fcnet_activation": "tanh"}, "input": "sampler", "horizon": 1500, "vf_loss_coeff": 1.0, "compress_observations": false, "num_envs_per_worker": 1, "sample_async": false, "num_gpus": 0, "output_max_file_size": 67108864, "lambda": 0.97, "multiagent": {"policy_graphs": {}, "policies_to_train": null, "policy_mapping_fn": null}, "output": null, "num_cpus_per_worker": 1, "preprocessor_pref": "deepmind", "clip_param": 0.3, "kl_target": 0.01, "output_compress_columns": ["obs", "new_obs"], "collect_metrics_timeout": 180, "sgd_minibatch_size": 128, "train_batch_size": 30000, "callbacks": {"on_sample_end": null, "on_train_result": null, "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7f2c02897240>", "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7f2c02897e10>", "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7f2c028974e0>"}, "observation_filter": "MeanStdFilter", "synchronize_filters": true, "gamma": 0.99, "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "env_config": {"flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"buf_length\": 1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.1,\n            \"eta3\": 0.1,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 1.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnv\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 600,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}", "run": "PPO"}, "env": "MultiWaveAttenuationMergePOEnv-v0_[eta1, eta2, eta3]:[1.0, 0.1, 0.1]_t_min:1.0_buf_len: 1", "optimizer": {}, "num_workers": 20, "num_cpus_for_driver": 1, "lr_schedule": null, "batch_mode": "truncate_episodes"}, "time_this_iter_s": 50.37834644317627, "timesteps_since_restore": 6847543, "info": {"update_time_ms": 8.462, "num_steps_sampled": 6847543, "sample_time_ms": 33354.359, "grad_time_ms": 17211.305, "default": {"entropy": 1.413985013961792, "kl": 0.017809640616178513, "vf_loss": 30.87384605407715, "vf_explained_var": 0.83160001039505, "policy_loss": -0.010500545613467693, "total_loss": 30.867351531982422, "cur_lr": 0.0005000000237487257, "cur_kl_coeff": 0.22499997913837433}, "num_steps_trained": 6847543, "load_time_ms": 10.401}, "time_total_s": 5187.69121837616, "num_metric_batches_dropped": 0, "timestamp": 1558311680, "episode_reward_max": 1244.4939462154332, "timesteps_this_iter": 66077, "episode_reward_min": 24.210386782694947, "date": "2019-05-20_00-21-20", "policy_reward_mean": {}, "time_since_restore": 5187.69121837616, "episodes_total": 2891, "iterations_since_restore": 102, "pid": 46880, "episodes_this_iter": 29, "episode_len_mean": 674.63, "done": false, "training_iteration": 102, "custom_metrics": {"cost2_mean": -0.11805009406391392, "outflow_rate_mean": 1070.7177699127285, "cost2_min": -0.8744915366887471, "system_level_velocity_mean": 13.023175032291498, "cost1_min": 11.714108057672812, "cost1_mean": 318.477323200001, "cost1_max": 485.3367375060121, "outflow_rate_max": 1371.8161787710458, "system_level_velocity_max": 18.810928733366918, "outflow_rate_min": 464.32649368107076, "cost2_max": 0.0, "system_level_velocity_min": 9.439911190533538}, "node_ip": "10.138.0.2", "timesteps_total": 6847543}
{"hostname": "flow-main", "episode_reward_mean": 955.3490882871199, "experiment_id": "383e98f8614b4235818372cc4d63f9e0", "config": {"use_gae": true, "tf_session_args": {"allow_soft_placement": true, "gpu_options": {"allow_growth": true}, "inter_op_parallelism_threads": 2, "device_count": {"CPU": 1}, "intra_op_parallelism_threads": 2, "log_device_placement": false}, "entropy_coeff": 0.0, "kl_coeff": 0.2, "num_gpus_per_worker": 0, "monitor": false, "input_evaluation": null, "clip_rewards": null, "vf_share_layers": false, "straggler_mitigation": false, "log_level": "INFO", "clip_actions": false, "simple_optimizer": false, "sample_batch_size": 750, "vf_clip_param": 1000000.0, "custom_resources_per_worker": {}, "lr": 0.0005, "num_sgd_iter": 10, "model": {"grayscale": false, "dim": 84, "custom_model": null, "free_log_std": false, "custom_options": {}, "lstm_cell_size": 256, "framestack": true, "squash_to_range": false, "conv_filters": null, "channel_major": false, "custom_preprocessor": null, "fcnet_hiddens": [128, 64, 32], "max_seq_len": 20, "lstm_use_prev_action_reward": false, "conv_activation": "relu", "use_lstm": false, "zero_mean": true, "fcnet_activation": "tanh"}, "input": "sampler", "horizon": 1500, "vf_loss_coeff": 1.0, "compress_observations": false, "num_envs_per_worker": 1, "sample_async": false, "num_gpus": 0, "output_max_file_size": 67108864, "lambda": 0.97, "multiagent": {"policy_graphs": {}, "policies_to_train": null, "policy_mapping_fn": null}, "output": null, "num_cpus_per_worker": 1, "preprocessor_pref": "deepmind", "clip_param": 0.3, "kl_target": 0.01, "output_compress_columns": ["obs", "new_obs"], "collect_metrics_timeout": 180, "sgd_minibatch_size": 128, "train_batch_size": 30000, "callbacks": {"on_sample_end": null, "on_train_result": null, "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7f2c02898be0>", "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7f2c02898ef0>", "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7f2c02898f60>"}, "observation_filter": "MeanStdFilter", "synchronize_filters": true, "gamma": 0.99, "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "env_config": {"flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"buf_length\": 1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.1,\n            \"eta3\": 0.1,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 1.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnv\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 600,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}", "run": "PPO"}, "env": "MultiWaveAttenuationMergePOEnv-v0_[eta1, eta2, eta3]:[1.0, 0.1, 0.1]_t_min:1.0_buf_len: 1", "optimizer": {}, "num_workers": 20, "num_cpus_for_driver": 1, "lr_schedule": null, "batch_mode": "truncate_episodes"}, "time_this_iter_s": 49.68880486488342, "timesteps_since_restore": 6914395, "info": {"update_time_ms": 8.501, "num_steps_sampled": 6914395, "sample_time_ms": 33451.664, "grad_time_ms": 16950.249, "default": {"entropy": 1.4213706254959106, "kl": 0.017899077385663986, "vf_loss": 28.871246337890625, "vf_explained_var": 0.8251146078109741, "policy_loss": -0.010577848181128502, "total_loss": 28.86469841003418, "cur_lr": 0.0005000000237487257, "cur_kl_coeff": 0.22499997913837433}, "num_steps_trained": 6914395, "load_time_ms": 10.694}, "time_total_s": 5237.380023241043, "num_metric_batches_dropped": 0, "timestamp": 1558311730, "episode_reward_max": 1244.4939462154332, "timesteps_this_iter": 66852, "episode_reward_min": 24.210386782694947, "date": "2019-05-20_00-22-10", "policy_reward_mean": {}, "time_since_restore": 5237.380023241043, "episodes_total": 2919, "iterations_since_restore": 103, "pid": 46880, "episodes_this_iter": 28, "episode_len_mean": 680.53, "done": false, "training_iteration": 103, "custom_metrics": {"cost2_mean": -0.10797402542260237, "outflow_rate_mean": 1072.004071481979, "cost2_min": -0.8491476793386122, "system_level_velocity_mean": 12.885497594796798, "cost1_min": 11.714108057672812, "cost1_mean": 318.51591659837953, "cost1_max": 481.7358960595815, "outflow_rate_max": 1371.8161787710458, "system_level_velocity_max": 19.518447833692946, "outflow_rate_min": 464.32649368107076, "cost2_max": 0.0, "system_level_velocity_min": 9.499983372137896}, "node_ip": "10.138.0.2", "timesteps_total": 6914395}
{"hostname": "flow-main", "episode_reward_mean": 961.7331487217857, "experiment_id": "383e98f8614b4235818372cc4d63f9e0", "config": {"use_gae": true, "tf_session_args": {"allow_soft_placement": true, "gpu_options": {"allow_growth": true}, "inter_op_parallelism_threads": 2, "device_count": {"CPU": 1}, "intra_op_parallelism_threads": 2, "log_device_placement": false}, "entropy_coeff": 0.0, "kl_coeff": 0.2, "num_gpus_per_worker": 0, "monitor": false, "input_evaluation": null, "clip_rewards": null, "vf_share_layers": false, "straggler_mitigation": false, "log_level": "INFO", "clip_actions": false, "simple_optimizer": false, "sample_batch_size": 750, "vf_clip_param": 1000000.0, "custom_resources_per_worker": {}, "lr": 0.0005, "num_sgd_iter": 10, "model": {"grayscale": false, "dim": 84, "custom_model": null, "free_log_std": false, "custom_options": {}, "lstm_cell_size": 256, "framestack": true, "squash_to_range": false, "conv_filters": null, "channel_major": false, "custom_preprocessor": null, "fcnet_hiddens": [128, 64, 32], "max_seq_len": 20, "lstm_use_prev_action_reward": false, "conv_activation": "relu", "use_lstm": false, "zero_mean": true, "fcnet_activation": "tanh"}, "input": "sampler", "horizon": 1500, "vf_loss_coeff": 1.0, "compress_observations": false, "num_envs_per_worker": 1, "sample_async": false, "num_gpus": 0, "output_max_file_size": 67108864, "lambda": 0.97, "multiagent": {"policy_graphs": {}, "policies_to_train": null, "policy_mapping_fn": null}, "output": null, "num_cpus_per_worker": 1, "preprocessor_pref": "deepmind", "clip_param": 0.3, "kl_target": 0.01, "output_compress_columns": ["obs", "new_obs"], "collect_metrics_timeout": 180, "sgd_minibatch_size": 128, "train_batch_size": 30000, "callbacks": {"on_sample_end": null, "on_train_result": null, "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7f2c028a85f8>", "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7f2c028a8438>", "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7f2c028a8c88>"}, "observation_filter": "MeanStdFilter", "synchronize_filters": true, "gamma": 0.99, "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "env_config": {"flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"buf_length\": 1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.1,\n            \"eta3\": 0.1,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 1.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnv\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 600,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}", "run": "PPO"}, "env": "MultiWaveAttenuationMergePOEnv-v0_[eta1, eta2, eta3]:[1.0, 0.1, 0.1]_t_min:1.0_buf_len: 1", "optimizer": {}, "num_workers": 20, "num_cpus_for_driver": 1, "lr_schedule": null, "batch_mode": "truncate_episodes"}, "time_this_iter_s": 49.1171350479126, "timesteps_since_restore": 6980770, "info": {"update_time_ms": 8.402, "num_steps_sampled": 6980770, "sample_time_ms": 33307.475, "grad_time_ms": 16911.854, "default": {"entropy": 1.4266716241836548, "kl": 0.018827103078365326, "vf_loss": 32.15489959716797, "vf_explained_var": 0.8383393883705139, "policy_loss": -0.010915929451584816, "total_loss": 32.14822006225586, "cur_lr": 0.0005000000237487257, "cur_kl_coeff": 0.22499997913837433}, "num_steps_trained": 6980770, "load_time_ms": 10.645}, "time_total_s": 5286.497158288956, "num_metric_batches_dropped": 0, "timestamp": 1558311779, "episode_reward_max": 1351.678586222881, "timesteps_this_iter": 66375, "episode_reward_min": 24.210386782694947, "date": "2019-05-20_00-22-59", "policy_reward_mean": {}, "time_since_restore": 5286.497158288956, "episodes_total": 2947, "iterations_since_restore": 104, "pid": 46880, "episodes_this_iter": 28, "episode_len_mean": 673.93, "done": false, "training_iteration": 104, "custom_metrics": {"cost2_mean": -0.10411818230278878, "outflow_rate_mean": 1072.3242866388202, "cost2_min": -0.8491476793386122, "system_level_velocity_mean": 13.086068072984022, "cost1_min": 11.714108057672812, "cost1_mean": 318.8621313679125, "cost1_max": 481.7358960595815, "outflow_rate_max": 1371.8161787710458, "system_level_velocity_max": 19.518447833692946, "outflow_rate_min": 464.32649368107076, "cost2_max": 0.0, "system_level_velocity_min": 9.554521902277141}, "node_ip": "10.138.0.2", "timesteps_total": 6980770}
{"hostname": "flow-main", "episode_reward_mean": 971.2870623109031, "experiment_id": "383e98f8614b4235818372cc4d63f9e0", "config": {"use_gae": true, "tf_session_args": {"allow_soft_placement": true, "gpu_options": {"allow_growth": true}, "inter_op_parallelism_threads": 2, "device_count": {"CPU": 1}, "intra_op_parallelism_threads": 2, "log_device_placement": false}, "entropy_coeff": 0.0, "kl_coeff": 0.2, "num_gpus_per_worker": 0, "monitor": false, "input_evaluation": null, "clip_rewards": null, "vf_share_layers": false, "straggler_mitigation": false, "log_level": "INFO", "clip_actions": false, "simple_optimizer": false, "sample_batch_size": 750, "vf_clip_param": 1000000.0, "custom_resources_per_worker": {}, "lr": 0.0005, "num_sgd_iter": 10, "model": {"grayscale": false, "dim": 84, "custom_model": null, "free_log_std": false, "custom_options": {}, "lstm_cell_size": 256, "framestack": true, "squash_to_range": false, "conv_filters": null, "channel_major": false, "custom_preprocessor": null, "fcnet_hiddens": [128, 64, 32], "max_seq_len": 20, "lstm_use_prev_action_reward": false, "conv_activation": "relu", "use_lstm": false, "zero_mean": true, "fcnet_activation": "tanh"}, "input": "sampler", "horizon": 1500, "vf_loss_coeff": 1.0, "compress_observations": false, "num_envs_per_worker": 1, "sample_async": false, "num_gpus": 0, "output_max_file_size": 67108864, "lambda": 0.97, "multiagent": {"policy_graphs": {}, "policies_to_train": null, "policy_mapping_fn": null}, "output": null, "num_cpus_per_worker": 1, "preprocessor_pref": "deepmind", "clip_param": 0.3, "kl_target": 0.01, "output_compress_columns": ["obs", "new_obs"], "collect_metrics_timeout": 180, "sgd_minibatch_size": 128, "train_batch_size": 30000, "callbacks": {"on_sample_end": null, "on_train_result": null, "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7f2c028984a8>", "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7f2c02898ef0>", "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7f2c02898390>"}, "observation_filter": "MeanStdFilter", "synchronize_filters": true, "gamma": 0.99, "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "env_config": {"flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"buf_length\": 1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.1,\n            \"eta3\": 0.1,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 1.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnv\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 600,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}", "run": "PPO"}, "env": "MultiWaveAttenuationMergePOEnv-v0_[eta1, eta2, eta3]:[1.0, 0.1, 0.1]_t_min:1.0_buf_len: 1", "optimizer": {}, "num_workers": 20, "num_cpus_for_driver": 1, "lr_schedule": null, "batch_mode": "truncate_episodes"}, "time_this_iter_s": 50.32591104507446, "timesteps_since_restore": 7046282, "info": {"update_time_ms": 8.116, "num_steps_sampled": 7046282, "sample_time_ms": 33271.979, "grad_time_ms": 16728.191, "default": {"entropy": 1.421236276626587, "kl": 0.02011064812541008, "vf_loss": 29.585914611816406, "vf_explained_var": 0.8311402201652527, "policy_loss": -0.011132568120956421, "total_loss": 29.579307556152344, "cur_lr": 0.0005000000237487257, "cur_kl_coeff": 0.22499997913837433}, "num_steps_trained": 7046282, "load_time_ms": 10.327}, "time_total_s": 5336.82306933403, "num_metric_batches_dropped": 0, "timestamp": 1558311829, "episode_reward_max": 1351.678586222881, "timesteps_this_iter": 65512, "episode_reward_min": 52.12091078161887, "date": "2019-05-20_00-23-49", "policy_reward_mean": {}, "time_since_restore": 5336.82306933403, "episodes_total": 2975, "iterations_since_restore": 105, "pid": 46880, "episodes_this_iter": 28, "episode_len_mean": 680.14, "done": false, "training_iteration": 105, "custom_metrics": {"cost2_mean": -0.0905441359520319, "outflow_rate_mean": 1082.8854845851201, "cost2_min": -0.8575333701592496, "system_level_velocity_mean": 13.133853507418301, "cost1_min": 24.1798821847241, "cost1_mean": 323.8034042365327, "cost1_max": 482.6246631245722, "outflow_rate_max": 1377.7699517416631, "system_level_velocity_max": 19.518447833692946, "outflow_rate_min": 514.5800617623186, "cost2_max": 0.0, "system_level_velocity_min": 9.554521902277141}, "node_ip": "10.138.0.2", "timesteps_total": 7046282}
{"hostname": "flow-main", "episode_reward_mean": 985.365376587344, "experiment_id": "383e98f8614b4235818372cc4d63f9e0", "config": {"use_gae": true, "tf_session_args": {"allow_soft_placement": true, "gpu_options": {"allow_growth": true}, "inter_op_parallelism_threads": 2, "device_count": {"CPU": 1}, "intra_op_parallelism_threads": 2, "log_device_placement": false}, "entropy_coeff": 0.0, "kl_coeff": 0.2, "num_gpus_per_worker": 0, "monitor": false, "input_evaluation": null, "clip_rewards": null, "vf_share_layers": false, "straggler_mitigation": false, "log_level": "INFO", "clip_actions": false, "simple_optimizer": false, "sample_batch_size": 750, "vf_clip_param": 1000000.0, "custom_resources_per_worker": {}, "lr": 0.0005, "num_sgd_iter": 10, "model": {"grayscale": false, "dim": 84, "custom_model": null, "free_log_std": false, "custom_options": {}, "lstm_cell_size": 256, "framestack": true, "squash_to_range": false, "conv_filters": null, "channel_major": false, "custom_preprocessor": null, "fcnet_hiddens": [128, 64, 32], "max_seq_len": 20, "lstm_use_prev_action_reward": false, "conv_activation": "relu", "use_lstm": false, "zero_mean": true, "fcnet_activation": "tanh"}, "input": "sampler", "horizon": 1500, "vf_loss_coeff": 1.0, "compress_observations": false, "num_envs_per_worker": 1, "sample_async": false, "num_gpus": 0, "output_max_file_size": 67108864, "lambda": 0.97, "multiagent": {"policy_graphs": {}, "policies_to_train": null, "policy_mapping_fn": null}, "output": null, "num_cpus_per_worker": 1, "preprocessor_pref": "deepmind", "clip_param": 0.3, "kl_target": 0.01, "output_compress_columns": ["obs", "new_obs"], "collect_metrics_timeout": 180, "sgd_minibatch_size": 128, "train_batch_size": 30000, "callbacks": {"on_sample_end": null, "on_train_result": null, "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7f2c02897550>", "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7f2c028974e0>", "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7f2c02897160>"}, "observation_filter": "MeanStdFilter", "synchronize_filters": true, "gamma": 0.99, "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "env_config": {"flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"buf_length\": 1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.1,\n            \"eta3\": 0.1,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 1.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnv\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 600,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}", "run": "PPO"}, "env": "MultiWaveAttenuationMergePOEnv-v0_[eta1, eta2, eta3]:[1.0, 0.1, 0.1]_t_min:1.0_buf_len: 1", "optimizer": {}, "num_workers": 20, "num_cpus_for_driver": 1, "lr_schedule": null, "batch_mode": "truncate_episodes"}, "time_this_iter_s": 48.35358953475952, "timesteps_since_restore": 7112169, "info": {"update_time_ms": 8.119, "num_steps_sampled": 7112169, "sample_time_ms": 33315.429, "grad_time_ms": 16520.019, "default": {"entropy": 1.4203556776046753, "kl": 0.015272911638021469, "vf_loss": 27.969051361083984, "vf_explained_var": 0.8503110408782959, "policy_loss": -0.009475971572101116, "total_loss": 27.96472930908203, "cur_lr": 0.0005000000237487257, "cur_kl_coeff": 0.33750006556510925}, "num_steps_trained": 7112169, "load_time_ms": 10.656}, "time_total_s": 5385.17665886879, "num_metric_batches_dropped": 0, "timestamp": 1558311878, "episode_reward_max": 1351.678586222881, "timesteps_this_iter": 65887, "episode_reward_min": 56.979505888438254, "date": "2019-05-20_00-24-38", "policy_reward_mean": {}, "time_since_restore": 5385.17665886879, "episodes_total": 3001, "iterations_since_restore": 106, "pid": 46880, "episodes_this_iter": 26, "episode_len_mean": 686.78, "done": false, "training_iteration": 106, "custom_metrics": {"cost2_mean": -0.11088539031025185, "outflow_rate_mean": 1095.281472317966, "cost2_min": -0.8575333701592496, "system_level_velocity_mean": 13.18523848916274, "cost1_min": 25.579707063619562, "cost1_mean": 329.73974909688695, "cost1_max": 482.6246631245722, "outflow_rate_max": 1377.7699517416631, "system_level_velocity_max": 19.277952334685427, "outflow_rate_min": 515.1874238875369, "cost2_max": 0.0, "system_level_velocity_min": 9.554521902277141}, "node_ip": "10.138.0.2", "timesteps_total": 7112169}
{"hostname": "flow-main", "episode_reward_mean": 1000.5866966857161, "experiment_id": "383e98f8614b4235818372cc4d63f9e0", "config": {"use_gae": true, "tf_session_args": {"allow_soft_placement": true, "gpu_options": {"allow_growth": true}, "inter_op_parallelism_threads": 2, "device_count": {"CPU": 1}, "intra_op_parallelism_threads": 2, "log_device_placement": false}, "entropy_coeff": 0.0, "kl_coeff": 0.2, "num_gpus_per_worker": 0, "monitor": false, "input_evaluation": null, "clip_rewards": null, "vf_share_layers": false, "straggler_mitigation": false, "log_level": "INFO", "clip_actions": false, "simple_optimizer": false, "sample_batch_size": 750, "vf_clip_param": 1000000.0, "custom_resources_per_worker": {}, "lr": 0.0005, "num_sgd_iter": 10, "model": {"grayscale": false, "dim": 84, "custom_model": null, "free_log_std": false, "custom_options": {}, "lstm_cell_size": 256, "framestack": true, "squash_to_range": false, "conv_filters": null, "channel_major": false, "custom_preprocessor": null, "fcnet_hiddens": [128, 64, 32], "max_seq_len": 20, "lstm_use_prev_action_reward": false, "conv_activation": "relu", "use_lstm": false, "zero_mean": true, "fcnet_activation": "tanh"}, "input": "sampler", "horizon": 1500, "vf_loss_coeff": 1.0, "compress_observations": false, "num_envs_per_worker": 1, "sample_async": false, "num_gpus": 0, "output_max_file_size": 67108864, "lambda": 0.97, "multiagent": {"policy_graphs": {}, "policies_to_train": null, "policy_mapping_fn": null}, "output": null, "num_cpus_per_worker": 1, "preprocessor_pref": "deepmind", "clip_param": 0.3, "kl_target": 0.01, "output_compress_columns": ["obs", "new_obs"], "collect_metrics_timeout": 180, "sgd_minibatch_size": 128, "train_batch_size": 30000, "callbacks": {"on_sample_end": null, "on_train_result": null, "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7f2c028985f8>", "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7f2c02898a58>", "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7f2c02898be0>"}, "observation_filter": "MeanStdFilter", "synchronize_filters": true, "gamma": 0.99, "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "env_config": {"flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"buf_length\": 1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.1,\n            \"eta3\": 0.1,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 1.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnv\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 600,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}", "run": "PPO"}, "env": "MultiWaveAttenuationMergePOEnv-v0_[eta1, eta2, eta3]:[1.0, 0.1, 0.1]_t_min:1.0_buf_len: 1", "optimizer": {}, "num_workers": 20, "num_cpus_for_driver": 1, "lr_schedule": null, "batch_mode": "truncate_episodes"}, "time_this_iter_s": 50.50240087509155, "timesteps_since_restore": 7177774, "info": {"update_time_ms": 7.923, "num_steps_sampled": 7177774, "sample_time_ms": 33140.441, "grad_time_ms": 16480.681, "default": {"entropy": 1.420095682144165, "kl": 0.01568947173655033, "vf_loss": 26.930522918701172, "vf_explained_var": 0.8623527884483337, "policy_loss": -0.01026066578924656, "total_loss": 26.925556182861328, "cur_lr": 0.0005000000237487257, "cur_kl_coeff": 0.33750006556510925}, "num_steps_trained": 7177774, "load_time_ms": 10.678}, "time_total_s": 5435.679059743881, "num_metric_batches_dropped": 0, "timestamp": 1558311928, "episode_reward_max": 1351.678586222881, "timesteps_this_iter": 65605, "episode_reward_min": 56.979505888438254, "date": "2019-05-20_00-25-28", "policy_reward_mean": {}, "time_since_restore": 5435.679059743881, "episodes_total": 3028, "iterations_since_restore": 107, "pid": 46880, "episodes_this_iter": 27, "episode_len_mean": 685.19, "done": false, "training_iteration": 107, "custom_metrics": {"cost2_mean": -0.11425259575691031, "outflow_rate_mean": 1115.1611479222065, "cost2_min": -0.8575333701592496, "system_level_velocity_mean": 13.628241567305478, "cost1_min": 25.579707063619562, "cost1_mean": 340.56111917723183, "cost1_max": 482.6246631245722, "outflow_rate_max": 1377.7699517416631, "system_level_velocity_max": 19.277952334685427, "outflow_rate_min": 515.1874238875369, "cost2_max": 0.0, "system_level_velocity_min": 9.734271181333193}, "node_ip": "10.138.0.2", "timesteps_total": 7177774}
{"hostname": "flow-main", "episode_reward_mean": 1004.9338117674242, "experiment_id": "383e98f8614b4235818372cc4d63f9e0", "config": {"use_gae": true, "tf_session_args": {"allow_soft_placement": true, "gpu_options": {"allow_growth": true}, "inter_op_parallelism_threads": 2, "device_count": {"CPU": 1}, "intra_op_parallelism_threads": 2, "log_device_placement": false}, "entropy_coeff": 0.0, "kl_coeff": 0.2, "num_gpus_per_worker": 0, "monitor": false, "input_evaluation": null, "clip_rewards": null, "vf_share_layers": false, "straggler_mitigation": false, "log_level": "INFO", "clip_actions": false, "simple_optimizer": false, "sample_batch_size": 750, "vf_clip_param": 1000000.0, "custom_resources_per_worker": {}, "lr": 0.0005, "num_sgd_iter": 10, "model": {"grayscale": false, "dim": 84, "custom_model": null, "free_log_std": false, "custom_options": {}, "lstm_cell_size": 256, "framestack": true, "squash_to_range": false, "conv_filters": null, "channel_major": false, "custom_preprocessor": null, "fcnet_hiddens": [128, 64, 32], "max_seq_len": 20, "lstm_use_prev_action_reward": false, "conv_activation": "relu", "use_lstm": false, "zero_mean": true, "fcnet_activation": "tanh"}, "input": "sampler", "horizon": 1500, "vf_loss_coeff": 1.0, "compress_observations": false, "num_envs_per_worker": 1, "sample_async": false, "num_gpus": 0, "output_max_file_size": 67108864, "lambda": 0.97, "multiagent": {"policy_graphs": {}, "policies_to_train": null, "policy_mapping_fn": null}, "output": null, "num_cpus_per_worker": 1, "preprocessor_pref": "deepmind", "clip_param": 0.3, "kl_target": 0.01, "output_compress_columns": ["obs", "new_obs"], "collect_metrics_timeout": 180, "sgd_minibatch_size": 128, "train_batch_size": 30000, "callbacks": {"on_sample_end": null, "on_train_result": null, "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7f2c02898e10>", "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7f2c028a8710>", "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7f2c028a8f98>"}, "observation_filter": "MeanStdFilter", "synchronize_filters": true, "gamma": 0.99, "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "env_config": {"flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"buf_length\": 1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.1,\n            \"eta3\": 0.1,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 1.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnv\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 600,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}", "run": "PPO"}, "env": "MultiWaveAttenuationMergePOEnv-v0_[eta1, eta2, eta3]:[1.0, 0.1, 0.1]_t_min:1.0_buf_len: 1", "optimizer": {}, "num_workers": 20, "num_cpus_for_driver": 1, "lr_schedule": null, "batch_mode": "truncate_episodes"}, "time_this_iter_s": 51.40963554382324, "timesteps_since_restore": 7244656, "info": {"update_time_ms": 7.576, "num_steps_sampled": 7244656, "sample_time_ms": 33382.101, "grad_time_ms": 16369.3, "default": {"entropy": 1.4182907342910767, "kl": 0.016865458339452744, "vf_loss": 31.382862091064453, "vf_explained_var": 0.833224356174469, "policy_loss": -0.009956475347280502, "total_loss": 31.37859535217285, "cur_lr": 0.0005000000237487257, "cur_kl_coeff": 0.33750003576278687}, "num_steps_trained": 7244656, "load_time_ms": 10.587}, "time_total_s": 5487.0886952877045, "num_metric_batches_dropped": 0, "timestamp": 1558311979, "episode_reward_max": 1297.697517940511, "timesteps_this_iter": 66882, "episode_reward_min": 56.979505888438254, "date": "2019-05-20_00-26-19", "policy_reward_mean": {}, "time_since_restore": 5487.0886952877045, "episodes_total": 3058, "iterations_since_restore": 108, "pid": 46880, "episodes_this_iter": 30, "episode_len_mean": 691.79, "done": false, "training_iteration": 108, "custom_metrics": {"cost2_mean": -0.12128185677172575, "outflow_rate_mean": 1131.323720252516, "cost2_min": -0.8575333701592496, "system_level_velocity_mean": 13.778240284585113, "cost1_min": 25.579707063619562, "cost1_mean": 349.25607141642655, "cost1_max": 483.62159345240445, "outflow_rate_max": 1377.7699517416631, "system_level_velocity_max": 19.277952334685427, "outflow_rate_min": 515.1874238875369, "cost2_max": 0.0, "system_level_velocity_min": 10.080566045270086}, "node_ip": "10.138.0.2", "timesteps_total": 7244656}
{"hostname": "flow-main", "episode_reward_mean": 998.7194544825796, "experiment_id": "383e98f8614b4235818372cc4d63f9e0", "config": {"use_gae": true, "tf_session_args": {"allow_soft_placement": true, "gpu_options": {"allow_growth": true}, "inter_op_parallelism_threads": 2, "device_count": {"CPU": 1}, "intra_op_parallelism_threads": 2, "log_device_placement": false}, "entropy_coeff": 0.0, "kl_coeff": 0.2, "num_gpus_per_worker": 0, "monitor": false, "input_evaluation": null, "clip_rewards": null, "vf_share_layers": false, "straggler_mitigation": false, "log_level": "INFO", "clip_actions": false, "simple_optimizer": false, "sample_batch_size": 750, "vf_clip_param": 1000000.0, "custom_resources_per_worker": {}, "lr": 0.0005, "num_sgd_iter": 10, "model": {"grayscale": false, "dim": 84, "custom_model": null, "free_log_std": false, "custom_options": {}, "lstm_cell_size": 256, "framestack": true, "squash_to_range": false, "conv_filters": null, "channel_major": false, "custom_preprocessor": null, "fcnet_hiddens": [128, 64, 32], "max_seq_len": 20, "lstm_use_prev_action_reward": false, "conv_activation": "relu", "use_lstm": false, "zero_mean": true, "fcnet_activation": "tanh"}, "input": "sampler", "horizon": 1500, "vf_loss_coeff": 1.0, "compress_observations": false, "num_envs_per_worker": 1, "sample_async": false, "num_gpus": 0, "output_max_file_size": 67108864, "lambda": 0.97, "multiagent": {"policy_graphs": {}, "policies_to_train": null, "policy_mapping_fn": null}, "output": null, "num_cpus_per_worker": 1, "preprocessor_pref": "deepmind", "clip_param": 0.3, "kl_target": 0.01, "output_compress_columns": ["obs", "new_obs"], "collect_metrics_timeout": 180, "sgd_minibatch_size": 128, "train_batch_size": 30000, "callbacks": {"on_sample_end": null, "on_train_result": null, "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7f2c02897588>", "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7f2c02897c50>", "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7f2c028973c8>"}, "observation_filter": "MeanStdFilter", "synchronize_filters": true, "gamma": 0.99, "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "env_config": {"flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"buf_length\": 1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.1,\n            \"eta3\": 0.1,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 1.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnv\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 600,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}", "run": "PPO"}, "env": "MultiWaveAttenuationMergePOEnv-v0_[eta1, eta2, eta3]:[1.0, 0.1, 0.1]_t_min:1.0_buf_len: 1", "optimizer": {}, "num_workers": 20, "num_cpus_for_driver": 1, "lr_schedule": null, "batch_mode": "truncate_episodes"}, "time_this_iter_s": 52.09889531135559, "timesteps_since_restore": 7311111, "info": {"update_time_ms": 7.894, "num_steps_sampled": 7311111, "sample_time_ms": 33604.964, "grad_time_ms": 16257.081, "default": {"entropy": 1.4314543008804321, "kl": 0.015498395077884197, "vf_loss": 28.769948959350586, "vf_explained_var": 0.826124370098114, "policy_loss": -0.010381598956882954, "total_loss": 28.764801025390625, "cur_lr": 0.0005000000237487257, "cur_kl_coeff": 0.33750006556510925}, "num_steps_trained": 7311111, "load_time_ms": 10.569}, "time_total_s": 5539.18759059906, "num_metric_batches_dropped": 0, "timestamp": 1558312032, "episode_reward_max": 1297.697517940511, "timesteps_this_iter": 66455, "episode_reward_min": 40.274580802955775, "date": "2019-05-20_00-27-12", "policy_reward_mean": {}, "time_since_restore": 5539.18759059906, "episodes_total": 3087, "iterations_since_restore": 109, "pid": 46880, "episodes_this_iter": 29, "episode_len_mean": 691.67, "done": false, "training_iteration": 109, "custom_metrics": {"cost2_mean": -0.11716622331744729, "outflow_rate_mean": 1121.3860089049465, "cost2_min": -0.6804295943022565, "system_level_velocity_mean": 13.552268807446644, "cost1_min": 17.26250466434256, "cost1_mean": 343.64707193969997, "cost1_max": 483.62159345240445, "outflow_rate_max": 1371.816955561089, "system_level_velocity_max": 18.726168911827706, "outflow_rate_min": 489.8346120944371, "cost2_max": 0.0, "system_level_velocity_min": 9.799969375677644}, "node_ip": "10.138.0.2", "timesteps_total": 7311111}
{"hostname": "flow-main", "episode_reward_mean": 996.3168249363666, "experiment_id": "383e98f8614b4235818372cc4d63f9e0", "config": {"use_gae": true, "tf_session_args": {"allow_soft_placement": true, "gpu_options": {"allow_growth": true}, "inter_op_parallelism_threads": 2, "device_count": {"CPU": 1}, "intra_op_parallelism_threads": 2, "log_device_placement": false}, "entropy_coeff": 0.0, "kl_coeff": 0.2, "num_gpus_per_worker": 0, "monitor": false, "input_evaluation": null, "clip_rewards": null, "vf_share_layers": false, "straggler_mitigation": false, "log_level": "INFO", "clip_actions": false, "simple_optimizer": false, "sample_batch_size": 750, "vf_clip_param": 1000000.0, "custom_resources_per_worker": {}, "lr": 0.0005, "num_sgd_iter": 10, "model": {"grayscale": false, "dim": 84, "custom_model": null, "free_log_std": false, "custom_options": {}, "lstm_cell_size": 256, "framestack": true, "squash_to_range": false, "conv_filters": null, "channel_major": false, "custom_preprocessor": null, "fcnet_hiddens": [128, 64, 32], "max_seq_len": 20, "lstm_use_prev_action_reward": false, "conv_activation": "relu", "use_lstm": false, "zero_mean": true, "fcnet_activation": "tanh"}, "input": "sampler", "horizon": 1500, "vf_loss_coeff": 1.0, "compress_observations": false, "num_envs_per_worker": 1, "sample_async": false, "num_gpus": 0, "output_max_file_size": 67108864, "lambda": 0.97, "multiagent": {"policy_graphs": {}, "policies_to_train": null, "policy_mapping_fn": null}, "output": null, "num_cpus_per_worker": 1, "preprocessor_pref": "deepmind", "clip_param": 0.3, "kl_target": 0.01, "output_compress_columns": ["obs", "new_obs"], "collect_metrics_timeout": 180, "sgd_minibatch_size": 128, "train_batch_size": 30000, "callbacks": {"on_sample_end": null, "on_train_result": null, "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7f2c02898d30>", "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7f2c028987b8>", "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7f2c02898128>"}, "observation_filter": "MeanStdFilter", "synchronize_filters": true, "gamma": 0.99, "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "env_config": {"flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"buf_length\": 1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.1,\n            \"eta3\": 0.1,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 1.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnv\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 600,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}", "run": "PPO"}, "env": "MultiWaveAttenuationMergePOEnv-v0_[eta1, eta2, eta3]:[1.0, 0.1, 0.1]_t_min:1.0_buf_len: 1", "optimizer": {}, "num_workers": 20, "num_cpus_for_driver": 1, "lr_schedule": null, "batch_mode": "truncate_episodes"}, "time_this_iter_s": 54.19851851463318, "timesteps_since_restore": 7378381, "info": {"update_time_ms": 7.885, "num_steps_sampled": 7378381, "sample_time_ms": 33901.966, "grad_time_ms": 16391.088, "default": {"entropy": 1.434180498123169, "kl": 0.0158169474452734, "vf_loss": 27.65769386291504, "vf_explained_var": 0.8396694660186768, "policy_loss": -0.010401559062302113, "total_loss": 27.65262794494629, "cur_lr": 0.0005000000237487257, "cur_kl_coeff": 0.33750006556510925}, "num_steps_trained": 7378381, "load_time_ms": 10.435}, "time_total_s": 5593.386109113693, "num_metric_batches_dropped": 0, "timestamp": 1558312086, "episode_reward_max": 1297.697517940511, "timesteps_this_iter": 67270, "episode_reward_min": 40.274580802955775, "date": "2019-05-20_00-28-06", "policy_reward_mean": {}, "time_since_restore": 5593.386109113693, "episodes_total": 3115, "iterations_since_restore": 110, "pid": 46880, "episodes_this_iter": 28, "episode_len_mean": 691.67, "done": false, "training_iteration": 110, "custom_metrics": {"cost2_mean": -0.10685986787606788, "outflow_rate_mean": 1118.3973659054648, "cost2_min": -0.6804295943022565, "system_level_velocity_mean": 13.481994017187887, "cost1_min": 17.26250466434256, "cost1_mean": 341.9890608423438, "cost1_max": 483.62159345240445, "outflow_rate_max": 1371.816955561089, "system_level_velocity_max": 18.726168911827706, "outflow_rate_min": 489.8346120944371, "cost2_max": 0.0, "system_level_velocity_min": 9.799969375677644}, "node_ip": "10.138.0.2", "timesteps_total": 7378381}
{"hostname": "flow-main", "episode_reward_mean": 991.3251594384568, "experiment_id": "383e98f8614b4235818372cc4d63f9e0", "config": {"use_gae": true, "tf_session_args": {"allow_soft_placement": true, "gpu_options": {"allow_growth": true}, "inter_op_parallelism_threads": 2, "device_count": {"CPU": 1}, "intra_op_parallelism_threads": 2, "log_device_placement": false}, "entropy_coeff": 0.0, "kl_coeff": 0.2, "num_gpus_per_worker": 0, "monitor": false, "input_evaluation": null, "clip_rewards": null, "vf_share_layers": false, "straggler_mitigation": false, "log_level": "INFO", "clip_actions": false, "simple_optimizer": false, "sample_batch_size": 750, "vf_clip_param": 1000000.0, "custom_resources_per_worker": {}, "lr": 0.0005, "num_sgd_iter": 10, "model": {"grayscale": false, "dim": 84, "custom_model": null, "free_log_std": false, "custom_options": {}, "lstm_cell_size": 256, "framestack": true, "squash_to_range": false, "conv_filters": null, "channel_major": false, "custom_preprocessor": null, "fcnet_hiddens": [128, 64, 32], "max_seq_len": 20, "lstm_use_prev_action_reward": false, "conv_activation": "relu", "use_lstm": false, "zero_mean": true, "fcnet_activation": "tanh"}, "input": "sampler", "horizon": 1500, "vf_loss_coeff": 1.0, "compress_observations": false, "num_envs_per_worker": 1, "sample_async": false, "num_gpus": 0, "output_max_file_size": 67108864, "lambda": 0.97, "multiagent": {"policy_graphs": {}, "policies_to_train": null, "policy_mapping_fn": null}, "output": null, "num_cpus_per_worker": 1, "preprocessor_pref": "deepmind", "clip_param": 0.3, "kl_target": 0.01, "output_compress_columns": ["obs", "new_obs"], "collect_metrics_timeout": 180, "sgd_minibatch_size": 128, "train_batch_size": 30000, "callbacks": {"on_sample_end": null, "on_train_result": null, "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7f2c028974e0>", "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7f2c02897668>", "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7f2c02897438>"}, "observation_filter": "MeanStdFilter", "synchronize_filters": true, "gamma": 0.99, "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "env_config": {"flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"buf_length\": 1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.1,\n            \"eta3\": 0.1,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 1.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnv\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 600,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}", "run": "PPO"}, "env": "MultiWaveAttenuationMergePOEnv-v0_[eta1, eta2, eta3]:[1.0, 0.1, 0.1]_t_min:1.0_buf_len: 1", "optimizer": {}, "num_workers": 20, "num_cpus_for_driver": 1, "lr_schedule": null, "batch_mode": "truncate_episodes"}, "time_this_iter_s": 50.805606842041016, "timesteps_since_restore": 7443654, "info": {"update_time_ms": 8.006, "num_steps_sampled": 7443654, "sample_time_ms": 34080.581, "grad_time_ms": 16474.886, "default": {"entropy": 1.4362616539001465, "kl": 0.014882524497807026, "vf_loss": 28.92720603942871, "vf_explained_var": 0.8352437019348145, "policy_loss": -0.011240932159125805, "total_loss": 28.920988082885742, "cur_lr": 0.0005000000237487257, "cur_kl_coeff": 0.33750003576278687}, "num_steps_trained": 7443654, "load_time_ms": 10.607}, "time_total_s": 5644.191715955734, "num_metric_batches_dropped": 0, "timestamp": 1558312137, "episode_reward_max": 1297.697517940511, "timesteps_this_iter": 65273, "episode_reward_min": 40.274580802955775, "date": "2019-05-20_00-28-57", "policy_reward_mean": {}, "time_since_restore": 5644.191715955734, "episodes_total": 3144, "iterations_since_restore": 111, "pid": 46880, "episodes_this_iter": 29, "episode_len_mean": 693.26, "done": false, "training_iteration": 111, "custom_metrics": {"cost2_mean": -0.1401604072769305, "outflow_rate_mean": 1098.7836864961507, "cost2_min": -1.1543359131029776, "system_level_velocity_mean": 13.063325481491264, "cost1_min": 17.26250466434256, "cost1_mean": 331.85440617630246, "cost1_max": 483.62159345240445, "outflow_rate_max": 1378.5792957201033, "system_level_velocity_max": 18.68339212394944, "outflow_rate_min": 489.8346120944371, "cost2_max": 0.0, "system_level_velocity_min": 9.58515680348848}, "node_ip": "10.138.0.2", "timesteps_total": 7443654}
{"hostname": "flow-main", "episode_reward_mean": 985.2607368160258, "experiment_id": "383e98f8614b4235818372cc4d63f9e0", "config": {"use_gae": true, "tf_session_args": {"allow_soft_placement": true, "gpu_options": {"allow_growth": true}, "inter_op_parallelism_threads": 2, "device_count": {"CPU": 1}, "intra_op_parallelism_threads": 2, "log_device_placement": false}, "entropy_coeff": 0.0, "kl_coeff": 0.2, "num_gpus_per_worker": 0, "monitor": false, "input_evaluation": null, "clip_rewards": null, "vf_share_layers": false, "straggler_mitigation": false, "log_level": "INFO", "clip_actions": false, "simple_optimizer": false, "sample_batch_size": 750, "vf_clip_param": 1000000.0, "custom_resources_per_worker": {}, "lr": 0.0005, "num_sgd_iter": 10, "model": {"grayscale": false, "dim": 84, "custom_model": null, "free_log_std": false, "custom_options": {}, "lstm_cell_size": 256, "framestack": true, "squash_to_range": false, "conv_filters": null, "channel_major": false, "custom_preprocessor": null, "fcnet_hiddens": [128, 64, 32], "max_seq_len": 20, "lstm_use_prev_action_reward": false, "conv_activation": "relu", "use_lstm": false, "zero_mean": true, "fcnet_activation": "tanh"}, "input": "sampler", "horizon": 1500, "vf_loss_coeff": 1.0, "compress_observations": false, "num_envs_per_worker": 1, "sample_async": false, "num_gpus": 0, "output_max_file_size": 67108864, "lambda": 0.97, "multiagent": {"policy_graphs": {}, "policies_to_train": null, "policy_mapping_fn": null}, "output": null, "num_cpus_per_worker": 1, "preprocessor_pref": "deepmind", "clip_param": 0.3, "kl_target": 0.01, "output_compress_columns": ["obs", "new_obs"], "collect_metrics_timeout": 180, "sgd_minibatch_size": 128, "train_batch_size": 30000, "callbacks": {"on_sample_end": null, "on_train_result": null, "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7f2c028a9e10>", "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7f2c028a9470>", "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7f2c028a95c0>"}, "observation_filter": "MeanStdFilter", "synchronize_filters": true, "gamma": 0.99, "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "env_config": {"flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"buf_length\": 1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.1,\n            \"eta3\": 0.1,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 1.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnv\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 600,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}", "run": "PPO"}, "env": "MultiWaveAttenuationMergePOEnv-v0_[eta1, eta2, eta3]:[1.0, 0.1, 0.1]_t_min:1.0_buf_len: 1", "optimizer": {}, "num_workers": 20, "num_cpus_for_driver": 1, "lr_schedule": null, "batch_mode": "truncate_episodes"}, "time_this_iter_s": 50.91627883911133, "timesteps_since_restore": 7510939, "info": {"update_time_ms": 8.227, "num_steps_sampled": 7510939, "sample_time_ms": 34061.183, "grad_time_ms": 16547.838, "default": {"entropy": 1.4486432075500488, "kl": 0.015523161739110947, "vf_loss": 29.272220611572266, "vf_explained_var": 0.8409040570259094, "policy_loss": -0.010911738499999046, "total_loss": 29.26654815673828, "cur_lr": 0.0005000000237487257, "cur_kl_coeff": 0.33750006556510925}, "num_steps_trained": 7510939, "load_time_ms": 10.375}, "time_total_s": 5695.107994794846, "num_metric_batches_dropped": 0, "timestamp": 1558312188, "episode_reward_max": 1294.047955220373, "timesteps_this_iter": 67285, "episode_reward_min": 36.491292723432466, "date": "2019-05-20_00-29-48", "policy_reward_mean": {}, "time_since_restore": 5695.107994794846, "episodes_total": 3176, "iterations_since_restore": 112, "pid": 46880, "episodes_this_iter": 32, "episode_len_mean": 687.31, "done": false, "training_iteration": 112, "custom_metrics": {"cost2_mean": -0.1257086803053493, "outflow_rate_mean": 1092.6638713138293, "cost2_min": -1.1543359131029776, "system_level_velocity_mean": 13.102140301690637, "cost1_min": 15.423586644424415, "cost1_mean": 328.7495354472324, "cost1_max": 482.6302504148956, "outflow_rate_max": 1378.5792957201033, "system_level_velocity_max": 18.971485029430703, "outflow_rate_min": 481.0028128682593, "cost2_max": 0.0, "system_level_velocity_min": 9.58515680348848}, "node_ip": "10.138.0.2", "timesteps_total": 7510939}
{"hostname": "flow-main", "episode_reward_mean": 991.9135797841093, "experiment_id": "383e98f8614b4235818372cc4d63f9e0", "config": {"use_gae": true, "tf_session_args": {"allow_soft_placement": true, "gpu_options": {"allow_growth": true}, "inter_op_parallelism_threads": 2, "device_count": {"CPU": 1}, "intra_op_parallelism_threads": 2, "log_device_placement": false}, "entropy_coeff": 0.0, "kl_coeff": 0.2, "num_gpus_per_worker": 0, "monitor": false, "input_evaluation": null, "clip_rewards": null, "vf_share_layers": false, "straggler_mitigation": false, "log_level": "INFO", "clip_actions": false, "simple_optimizer": false, "sample_batch_size": 750, "vf_clip_param": 1000000.0, "custom_resources_per_worker": {}, "lr": 0.0005, "num_sgd_iter": 10, "model": {"grayscale": false, "dim": 84, "custom_model": null, "free_log_std": false, "custom_options": {}, "lstm_cell_size": 256, "framestack": true, "squash_to_range": false, "conv_filters": null, "channel_major": false, "custom_preprocessor": null, "fcnet_hiddens": [128, 64, 32], "max_seq_len": 20, "lstm_use_prev_action_reward": false, "conv_activation": "relu", "use_lstm": false, "zero_mean": true, "fcnet_activation": "tanh"}, "input": "sampler", "horizon": 1500, "vf_loss_coeff": 1.0, "compress_observations": false, "num_envs_per_worker": 1, "sample_async": false, "num_gpus": 0, "output_max_file_size": 67108864, "lambda": 0.97, "multiagent": {"policy_graphs": {}, "policies_to_train": null, "policy_mapping_fn": null}, "output": null, "num_cpus_per_worker": 1, "preprocessor_pref": "deepmind", "clip_param": 0.3, "kl_target": 0.01, "output_compress_columns": ["obs", "new_obs"], "collect_metrics_timeout": 180, "sgd_minibatch_size": 128, "train_batch_size": 30000, "callbacks": {"on_sample_end": null, "on_train_result": null, "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7f2c028a8ba8>", "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7f2c028a85f8>", "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7f2c028a8518>"}, "observation_filter": "MeanStdFilter", "synchronize_filters": true, "gamma": 0.99, "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "env_config": {"flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"buf_length\": 1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.1,\n            \"eta3\": 0.1,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 1.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnv\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 600,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}", "run": "PPO"}, "env": "MultiWaveAttenuationMergePOEnv-v0_[eta1, eta2, eta3]:[1.0, 0.1, 0.1]_t_min:1.0_buf_len: 1", "optimizer": {}, "num_workers": 20, "num_cpus_for_driver": 1, "lr_schedule": null, "batch_mode": "truncate_episodes"}, "time_this_iter_s": 50.20955681800842, "timesteps_since_restore": 7577692, "info": {"update_time_ms": 8.363, "num_steps_sampled": 7577692, "sample_time_ms": 33821.072, "grad_time_ms": 16839.573, "default": {"entropy": 1.437008261680603, "kl": 0.015039334073662758, "vf_loss": 30.14080047607422, "vf_explained_var": 0.8298080563545227, "policy_loss": -0.010742786340415478, "total_loss": 30.135133743286133, "cur_lr": 0.0005000000237487257, "cur_kl_coeff": 0.33750003576278687}, "num_steps_trained": 7577692, "load_time_ms": 10.159}, "time_total_s": 5745.317551612854, "num_metric_batches_dropped": 0, "timestamp": 1558312238, "episode_reward_max": 1294.047955220373, "timesteps_this_iter": 66753, "episode_reward_min": 36.491292723432466, "date": "2019-05-20_00-30-38", "policy_reward_mean": {}, "time_since_restore": 5745.317551612854, "episodes_total": 3205, "iterations_since_restore": 113, "pid": 46880, "episodes_this_iter": 29, "episode_len_mean": 687.31, "done": false, "training_iteration": 113, "custom_metrics": {"cost2_mean": -0.1421448810453657, "outflow_rate_mean": 1102.2258374196192, "cost2_min": -1.1543359131029776, "system_level_velocity_mean": 13.356684656831284, "cost1_min": 15.423586644424415, "cost1_mean": 335.4434668990462, "cost1_max": 482.6302504148956, "outflow_rate_max": 1378.5792957201033, "system_level_velocity_max": 18.971485029430703, "outflow_rate_min": 481.0028128682593, "cost2_max": 0.0, "system_level_velocity_min": 9.58515680348848}, "node_ip": "10.138.0.2", "timesteps_total": 7577692}
{"hostname": "flow-main", "episode_reward_mean": 978.6504534577605, "experiment_id": "383e98f8614b4235818372cc4d63f9e0", "config": {"use_gae": true, "tf_session_args": {"allow_soft_placement": true, "gpu_options": {"allow_growth": true}, "inter_op_parallelism_threads": 2, "device_count": {"CPU": 1}, "intra_op_parallelism_threads": 2, "log_device_placement": false}, "entropy_coeff": 0.0, "kl_coeff": 0.2, "num_gpus_per_worker": 0, "monitor": false, "input_evaluation": null, "clip_rewards": null, "vf_share_layers": false, "straggler_mitigation": false, "log_level": "INFO", "clip_actions": false, "simple_optimizer": false, "sample_batch_size": 750, "vf_clip_param": 1000000.0, "custom_resources_per_worker": {}, "lr": 0.0005, "num_sgd_iter": 10, "model": {"grayscale": false, "dim": 84, "custom_model": null, "free_log_std": false, "custom_options": {}, "lstm_cell_size": 256, "framestack": true, "squash_to_range": false, "conv_filters": null, "channel_major": false, "custom_preprocessor": null, "fcnet_hiddens": [128, 64, 32], "max_seq_len": 20, "lstm_use_prev_action_reward": false, "conv_activation": "relu", "use_lstm": false, "zero_mean": true, "fcnet_activation": "tanh"}, "input": "sampler", "horizon": 1500, "vf_loss_coeff": 1.0, "compress_observations": false, "num_envs_per_worker": 1, "sample_async": false, "num_gpus": 0, "output_max_file_size": 67108864, "lambda": 0.97, "multiagent": {"policy_graphs": {}, "policies_to_train": null, "policy_mapping_fn": null}, "output": null, "num_cpus_per_worker": 1, "preprocessor_pref": "deepmind", "clip_param": 0.3, "kl_target": 0.01, "output_compress_columns": ["obs", "new_obs"], "collect_metrics_timeout": 180, "sgd_minibatch_size": 128, "train_batch_size": 30000, "callbacks": {"on_sample_end": null, "on_train_result": null, "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7f2c028a95c0>", "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7f2c028a9f28>", "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7f2c028a97f0>"}, "observation_filter": "MeanStdFilter", "synchronize_filters": true, "gamma": 0.99, "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "env_config": {"flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"buf_length\": 1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.1,\n            \"eta3\": 0.1,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 1.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnv\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 600,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}", "run": "PPO"}, "env": "MultiWaveAttenuationMergePOEnv-v0_[eta1, eta2, eta3]:[1.0, 0.1, 0.1]_t_min:1.0_buf_len: 1", "optimizer": {}, "num_workers": 20, "num_cpus_for_driver": 1, "lr_schedule": null, "batch_mode": "truncate_episodes"}, "time_this_iter_s": 50.6787691116333, "timesteps_since_restore": 7644896, "info": {"update_time_ms": 8.536, "num_steps_sampled": 7644896, "sample_time_ms": 33884.85, "grad_time_ms": 16928.958, "default": {"entropy": 1.4615405797958374, "kl": 0.01430718693882227, "vf_loss": 30.62822914123535, "vf_explained_var": 0.8225179314613342, "policy_loss": -0.00988426711410284, "total_loss": 30.6231746673584, "cur_lr": 0.0005000000237487257, "cur_kl_coeff": 0.33750006556510925}, "num_steps_trained": 7644896, "load_time_ms": 10.653}, "time_total_s": 5795.996320724487, "num_metric_batches_dropped": 0, "timestamp": 1558312289, "episode_reward_max": 1294.047955220373, "timesteps_this_iter": 67204, "episode_reward_min": 36.491292723432466, "date": "2019-05-20_00-31-29", "policy_reward_mean": {}, "time_since_restore": 5795.996320724487, "episodes_total": 3235, "iterations_since_restore": 114, "pid": 46880, "episodes_this_iter": 30, "episode_len_mean": 680.64, "done": false, "training_iteration": 114, "custom_metrics": {"cost2_mean": -0.11124962207262107, "outflow_rate_mean": 1092.9927992486407, "cost2_min": -1.1543359131029776, "system_level_velocity_mean": 13.349688076161506, "cost1_min": 15.423586644424415, "cost1_mean": 330.83263972090026, "cost1_max": 471.77165207003327, "outflow_rate_max": 1373.510248994235, "system_level_velocity_max": 18.971485029430703, "outflow_rate_min": 478.76454239074377, "cost2_max": 0.0, "system_level_velocity_min": 9.58515680348848}, "node_ip": "10.138.0.2", "timesteps_total": 7644896}
{"hostname": "flow-main", "episode_reward_mean": 972.7942697543675, "experiment_id": "383e98f8614b4235818372cc4d63f9e0", "config": {"use_gae": true, "tf_session_args": {"allow_soft_placement": true, "gpu_options": {"allow_growth": true}, "inter_op_parallelism_threads": 2, "device_count": {"CPU": 1}, "intra_op_parallelism_threads": 2, "log_device_placement": false}, "entropy_coeff": 0.0, "kl_coeff": 0.2, "num_gpus_per_worker": 0, "monitor": false, "input_evaluation": null, "clip_rewards": null, "vf_share_layers": false, "straggler_mitigation": false, "log_level": "INFO", "clip_actions": false, "simple_optimizer": false, "sample_batch_size": 750, "vf_clip_param": 1000000.0, "custom_resources_per_worker": {}, "lr": 0.0005, "num_sgd_iter": 10, "model": {"grayscale": false, "dim": 84, "custom_model": null, "free_log_std": false, "custom_options": {}, "lstm_cell_size": 256, "framestack": true, "squash_to_range": false, "conv_filters": null, "channel_major": false, "custom_preprocessor": null, "fcnet_hiddens": [128, 64, 32], "max_seq_len": 20, "lstm_use_prev_action_reward": false, "conv_activation": "relu", "use_lstm": false, "zero_mean": true, "fcnet_activation": "tanh"}, "input": "sampler", "horizon": 1500, "vf_loss_coeff": 1.0, "compress_observations": false, "num_envs_per_worker": 1, "sample_async": false, "num_gpus": 0, "output_max_file_size": 67108864, "lambda": 0.97, "multiagent": {"policy_graphs": {}, "policies_to_train": null, "policy_mapping_fn": null}, "output": null, "num_cpus_per_worker": 1, "preprocessor_pref": "deepmind", "clip_param": 0.3, "kl_target": 0.01, "output_compress_columns": ["obs", "new_obs"], "collect_metrics_timeout": 180, "sgd_minibatch_size": 128, "train_batch_size": 30000, "callbacks": {"on_sample_end": null, "on_train_result": null, "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7f2c02898f98>", "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7f2c028983c8>", "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7f2c0288e4e0>"}, "observation_filter": "MeanStdFilter", "synchronize_filters": true, "gamma": 0.99, "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "env_config": {"flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"buf_length\": 1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.1,\n            \"eta3\": 0.1,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 1.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnv\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 600,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}", "run": "PPO"}, "env": "MultiWaveAttenuationMergePOEnv-v0_[eta1, eta2, eta3]:[1.0, 0.1, 0.1]_t_min:1.0_buf_len: 1", "optimizer": {}, "num_workers": 20, "num_cpus_for_driver": 1, "lr_schedule": null, "batch_mode": "truncate_episodes"}, "time_this_iter_s": 50.25827622413635, "timesteps_since_restore": 7709721, "info": {"update_time_ms": 8.77, "num_steps_sampled": 7709721, "sample_time_ms": 33700.664, "grad_time_ms": 17104.164, "default": {"entropy": 1.465459942817688, "kl": 0.015322735533118248, "vf_loss": 29.901548385620117, "vf_explained_var": 0.8397017121315002, "policy_loss": -0.010441903956234455, "total_loss": 29.89628028869629, "cur_lr": 0.0005000000237487257, "cur_kl_coeff": 0.33750003576278687}, "num_steps_trained": 7709721, "load_time_ms": 10.773}, "time_total_s": 5846.254596948624, "num_metric_batches_dropped": 0, "timestamp": 1558312339, "episode_reward_max": 1294.047955220373, "timesteps_this_iter": 64825, "episode_reward_min": 36.491292723432466, "date": "2019-05-20_00-32-19", "policy_reward_mean": {}, "time_since_restore": 5846.254596948624, "episodes_total": 3264, "iterations_since_restore": 115, "pid": 46880, "episodes_this_iter": 29, "episode_len_mean": 674.07, "done": false, "training_iteration": 115, "custom_metrics": {"cost2_mean": -0.08764072949849112, "outflow_rate_mean": 1089.0592074824735, "cost2_min": -0.7142857142857142, "system_level_velocity_mean": 13.420326094238554, "cost1_min": 15.423586644424415, "cost1_mean": 327.9538158544958, "cost1_max": 496.6086763989602, "outflow_rate_max": 1373.510248994235, "system_level_velocity_max": 19.199227272233518, "outflow_rate_min": 478.76454239074377, "cost2_max": 0.0, "system_level_velocity_min": 10.207242616647052}, "node_ip": "10.138.0.2", "timesteps_total": 7709721}
{"hostname": "flow-main", "episode_reward_mean": 982.0265221170328, "experiment_id": "383e98f8614b4235818372cc4d63f9e0", "config": {"use_gae": true, "tf_session_args": {"allow_soft_placement": true, "gpu_options": {"allow_growth": true}, "inter_op_parallelism_threads": 2, "device_count": {"CPU": 1}, "intra_op_parallelism_threads": 2, "log_device_placement": false}, "entropy_coeff": 0.0, "kl_coeff": 0.2, "num_gpus_per_worker": 0, "monitor": false, "input_evaluation": null, "clip_rewards": null, "vf_share_layers": false, "straggler_mitigation": false, "log_level": "INFO", "clip_actions": false, "simple_optimizer": false, "sample_batch_size": 750, "vf_clip_param": 1000000.0, "custom_resources_per_worker": {}, "lr": 0.0005, "num_sgd_iter": 10, "model": {"grayscale": false, "dim": 84, "custom_model": null, "free_log_std": false, "custom_options": {}, "lstm_cell_size": 256, "framestack": true, "squash_to_range": false, "conv_filters": null, "channel_major": false, "custom_preprocessor": null, "fcnet_hiddens": [128, 64, 32], "max_seq_len": 20, "lstm_use_prev_action_reward": false, "conv_activation": "relu", "use_lstm": false, "zero_mean": true, "fcnet_activation": "tanh"}, "input": "sampler", "horizon": 1500, "vf_loss_coeff": 1.0, "compress_observations": false, "num_envs_per_worker": 1, "sample_async": false, "num_gpus": 0, "output_max_file_size": 67108864, "lambda": 0.97, "multiagent": {"policy_graphs": {}, "policies_to_train": null, "policy_mapping_fn": null}, "output": null, "num_cpus_per_worker": 1, "preprocessor_pref": "deepmind", "clip_param": 0.3, "kl_target": 0.01, "output_compress_columns": ["obs", "new_obs"], "collect_metrics_timeout": 180, "sgd_minibatch_size": 128, "train_batch_size": 30000, "callbacks": {"on_sample_end": null, "on_train_result": null, "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7f2c02d02588>", "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7f2c02d02390>", "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7f2c02d02550>"}, "observation_filter": "MeanStdFilter", "synchronize_filters": true, "gamma": 0.99, "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "env_config": {"flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"buf_length\": 1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.1,\n            \"eta3\": 0.1,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 1.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnv\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 600,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}", "run": "PPO"}, "env": "MultiWaveAttenuationMergePOEnv-v0_[eta1, eta2, eta3]:[1.0, 0.1, 0.1]_t_min:1.0_buf_len: 1", "optimizer": {}, "num_workers": 20, "num_cpus_for_driver": 1, "lr_schedule": null, "batch_mode": "truncate_episodes"}, "time_this_iter_s": 48.809592962265015, "timesteps_since_restore": 7773506, "info": {"update_time_ms": 9.332, "num_steps_sampled": 7773506, "sample_time_ms": 33574.706, "grad_time_ms": 17275.415, "default": {"entropy": 1.4523199796676636, "kl": 0.01549923699349165, "vf_loss": 32.27293395996094, "vf_explained_var": 0.8278272151947021, "policy_loss": -0.010972166433930397, "total_loss": 32.26719284057617, "cur_lr": 0.0005000000237487257, "cur_kl_coeff": 0.33750006556510925}, "num_steps_trained": 7773506, "load_time_ms": 10.497}, "time_total_s": 5895.064189910889, "num_metric_batches_dropped": 0, "timestamp": 1558312388, "episode_reward_max": 1242.996592510793, "timesteps_this_iter": 63785, "episode_reward_min": 51.07073718419642, "date": "2019-05-20_00-33-08", "policy_reward_mean": {}, "time_since_restore": 5895.064189910889, "episodes_total": 3291, "iterations_since_restore": 116, "pid": 46880, "episodes_this_iter": 27, "episode_len_mean": 682.28, "done": false, "training_iteration": 116, "custom_metrics": {"cost2_mean": -0.07675727334938903, "outflow_rate_mean": 1094.868272832752, "cost2_min": -0.7142857142857142, "system_level_velocity_mean": 13.30161548200785, "cost1_min": 22.10302410276609, "cost1_mean": 330.5341681139099, "cost1_max": 496.6086763989602, "outflow_rate_max": 1368.0265237275485, "system_level_velocity_max": 19.199227272233518, "outflow_rate_min": 478.76454239074377, "cost2_max": 0.0, "system_level_velocity_min": 9.381326159606141}, "node_ip": "10.138.0.2", "timesteps_total": 7773506}
{"hostname": "flow-main", "episode_reward_mean": 987.9345136278746, "experiment_id": "383e98f8614b4235818372cc4d63f9e0", "config": {"use_gae": true, "tf_session_args": {"allow_soft_placement": true, "gpu_options": {"allow_growth": true}, "inter_op_parallelism_threads": 2, "device_count": {"CPU": 1}, "intra_op_parallelism_threads": 2, "log_device_placement": false}, "entropy_coeff": 0.0, "kl_coeff": 0.2, "num_gpus_per_worker": 0, "monitor": false, "input_evaluation": null, "clip_rewards": null, "vf_share_layers": false, "straggler_mitigation": false, "log_level": "INFO", "clip_actions": false, "simple_optimizer": false, "sample_batch_size": 750, "vf_clip_param": 1000000.0, "custom_resources_per_worker": {}, "lr": 0.0005, "num_sgd_iter": 10, "model": {"grayscale": false, "dim": 84, "custom_model": null, "free_log_std": false, "custom_options": {}, "lstm_cell_size": 256, "framestack": true, "squash_to_range": false, "conv_filters": null, "channel_major": false, "custom_preprocessor": null, "fcnet_hiddens": [128, 64, 32], "max_seq_len": 20, "lstm_use_prev_action_reward": false, "conv_activation": "relu", "use_lstm": false, "zero_mean": true, "fcnet_activation": "tanh"}, "input": "sampler", "horizon": 1500, "vf_loss_coeff": 1.0, "compress_observations": false, "num_envs_per_worker": 1, "sample_async": false, "num_gpus": 0, "output_max_file_size": 67108864, "lambda": 0.97, "multiagent": {"policy_graphs": {}, "policies_to_train": null, "policy_mapping_fn": null}, "output": null, "num_cpus_per_worker": 1, "preprocessor_pref": "deepmind", "clip_param": 0.3, "kl_target": 0.01, "output_compress_columns": ["obs", "new_obs"], "collect_metrics_timeout": 180, "sgd_minibatch_size": 128, "train_batch_size": 30000, "callbacks": {"on_sample_end": null, "on_train_result": null, "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7f2c02897668>", "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7f2c02897cf8>", "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7f2c02897160>"}, "observation_filter": "MeanStdFilter", "synchronize_filters": true, "gamma": 0.99, "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "env_config": {"flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"buf_length\": 1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.1,\n            \"eta3\": 0.1,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 1.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnv\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 600,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}", "run": "PPO"}, "env": "MultiWaveAttenuationMergePOEnv-v0_[eta1, eta2, eta3]:[1.0, 0.1, 0.1]_t_min:1.0_buf_len: 1", "optimizer": {}, "num_workers": 20, "num_cpus_for_driver": 1, "lr_schedule": null, "batch_mode": "truncate_episodes"}, "time_this_iter_s": 49.35336995124817, "timesteps_since_restore": 7838622, "info": {"update_time_ms": 9.413, "num_steps_sampled": 7838622, "sample_time_ms": 33586.885, "grad_time_ms": 17148.311, "default": {"entropy": 1.467429757118225, "kl": 0.014814389869570732, "vf_loss": 30.104969024658203, "vf_explained_var": 0.8384857773780823, "policy_loss": -0.010525663383305073, "total_loss": 30.099441528320312, "cur_lr": 0.0005000000237487257, "cur_kl_coeff": 0.33750006556510925}, "num_steps_trained": 7838622, "load_time_ms": 10.736}, "time_total_s": 5944.417559862137, "num_metric_batches_dropped": 0, "timestamp": 1558312437, "episode_reward_max": 1242.996592510793, "timesteps_this_iter": 65116, "episode_reward_min": 63.222174467546765, "date": "2019-05-20_00-33-57", "policy_reward_mean": {}, "time_since_restore": 5944.417559862137, "episodes_total": 3318, "iterations_since_restore": 117, "pid": 46880, "episodes_this_iter": 27, "episode_len_mean": 688.95, "done": false, "training_iteration": 117, "custom_metrics": {"cost2_mean": -0.0764367106019713, "outflow_rate_mean": 1101.24285877344, "cost2_min": -1.090057227016846, "system_level_velocity_mean": 13.21346822408699, "cost1_min": 29.256840311043796, "cost1_mean": 333.02203711412795, "cost1_max": 496.6086763989602, "outflow_rate_max": 1368.0265237275485, "system_level_velocity_max": 19.199227272233518, "outflow_rate_min": 533.5544938034474, "cost2_max": 0.0, "system_level_velocity_min": 9.381326159606141}, "node_ip": "10.138.0.2", "timesteps_total": 7838622}
{"hostname": "flow-main", "episode_reward_mean": 1000.0684248881464, "experiment_id": "383e98f8614b4235818372cc4d63f9e0", "config": {"use_gae": true, "tf_session_args": {"allow_soft_placement": true, "gpu_options": {"allow_growth": true}, "inter_op_parallelism_threads": 2, "device_count": {"CPU": 1}, "intra_op_parallelism_threads": 2, "log_device_placement": false}, "entropy_coeff": 0.0, "kl_coeff": 0.2, "num_gpus_per_worker": 0, "monitor": false, "input_evaluation": null, "clip_rewards": null, "vf_share_layers": false, "straggler_mitigation": false, "log_level": "INFO", "clip_actions": false, "simple_optimizer": false, "sample_batch_size": 750, "vf_clip_param": 1000000.0, "custom_resources_per_worker": {}, "lr": 0.0005, "num_sgd_iter": 10, "model": {"grayscale": false, "dim": 84, "custom_model": null, "free_log_std": false, "custom_options": {}, "lstm_cell_size": 256, "framestack": true, "squash_to_range": false, "conv_filters": null, "channel_major": false, "custom_preprocessor": null, "fcnet_hiddens": [128, 64, 32], "max_seq_len": 20, "lstm_use_prev_action_reward": false, "conv_activation": "relu", "use_lstm": false, "zero_mean": true, "fcnet_activation": "tanh"}, "input": "sampler", "horizon": 1500, "vf_loss_coeff": 1.0, "compress_observations": false, "num_envs_per_worker": 1, "sample_async": false, "num_gpus": 0, "output_max_file_size": 67108864, "lambda": 0.97, "multiagent": {"policy_graphs": {}, "policies_to_train": null, "policy_mapping_fn": null}, "output": null, "num_cpus_per_worker": 1, "preprocessor_pref": "deepmind", "clip_param": 0.3, "kl_target": 0.01, "output_compress_columns": ["obs", "new_obs"], "collect_metrics_timeout": 180, "sgd_minibatch_size": 128, "train_batch_size": 30000, "callbacks": {"on_sample_end": null, "on_train_result": null, "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7f2c02d021d0>", "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7f2c02d022b0>", "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7f2c02d02630>"}, "observation_filter": "MeanStdFilter", "synchronize_filters": true, "gamma": 0.99, "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "env_config": {"flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"buf_length\": 1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.1,\n            \"eta3\": 0.1,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 1.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnv\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 600,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}", "run": "PPO"}, "env": "MultiWaveAttenuationMergePOEnv-v0_[eta1, eta2, eta3]:[1.0, 0.1, 0.1]_t_min:1.0_buf_len: 1", "optimizer": {}, "num_workers": 20, "num_cpus_for_driver": 1, "lr_schedule": null, "batch_mode": "truncate_episodes"}, "time_this_iter_s": 50.40325355529785, "timesteps_since_restore": 7904749, "info": {"update_time_ms": 9.458, "num_steps_sampled": 7904749, "sample_time_ms": 33388.844, "grad_time_ms": 17245.69, "default": {"entropy": 1.487281084060669, "kl": 0.014502804726362228, "vf_loss": 31.13278579711914, "vf_explained_var": 0.8210415244102478, "policy_loss": -0.009483987465500832, "total_loss": 31.128198623657227, "cur_lr": 0.0005000000237487257, "cur_kl_coeff": 0.33750003576278687}, "num_steps_trained": 7904749, "load_time_ms": 10.64}, "time_total_s": 5994.820813417435, "num_metric_batches_dropped": 0, "timestamp": 1558312488, "episode_reward_max": 1314.6594878682972, "timesteps_this_iter": 66127, "episode_reward_min": 457.04858147480553, "date": "2019-05-20_00-34-48", "policy_reward_mean": {}, "time_since_restore": 5994.820813417435, "episodes_total": 3344, "iterations_since_restore": 118, "pid": 46880, "episodes_this_iter": 26, "episode_len_mean": 695.52, "done": false, "training_iteration": 118, "custom_metrics": {"cost2_mean": -0.0732490349182064, "outflow_rate_mean": 1108.4345499851022, "cost2_min": -1.090057227016846, "system_level_velocity_mean": 13.176839504518826, "cost1_min": 171.6579843510958, "cost1_mean": 336.5351512027152, "cost1_max": 482.81488280532415, "outflow_rate_max": 1368.0265237275485, "system_level_velocity_max": 18.641532051624885, "outflow_rate_min": 915.4131996721743, "cost2_max": 0.0, "system_level_velocity_min": 9.381326159606141}, "node_ip": "10.138.0.2", "timesteps_total": 7904749}
{"hostname": "flow-main", "episode_reward_mean": 1004.6080161780525, "experiment_id": "383e98f8614b4235818372cc4d63f9e0", "config": {"use_gae": true, "tf_session_args": {"allow_soft_placement": true, "gpu_options": {"allow_growth": true}, "inter_op_parallelism_threads": 2, "device_count": {"CPU": 1}, "intra_op_parallelism_threads": 2, "log_device_placement": false}, "entropy_coeff": 0.0, "kl_coeff": 0.2, "num_gpus_per_worker": 0, "monitor": false, "input_evaluation": null, "clip_rewards": null, "vf_share_layers": false, "straggler_mitigation": false, "log_level": "INFO", "clip_actions": false, "simple_optimizer": false, "sample_batch_size": 750, "vf_clip_param": 1000000.0, "custom_resources_per_worker": {}, "lr": 0.0005, "num_sgd_iter": 10, "model": {"grayscale": false, "dim": 84, "custom_model": null, "free_log_std": false, "custom_options": {}, "lstm_cell_size": 256, "framestack": true, "squash_to_range": false, "conv_filters": null, "channel_major": false, "custom_preprocessor": null, "fcnet_hiddens": [128, 64, 32], "max_seq_len": 20, "lstm_use_prev_action_reward": false, "conv_activation": "relu", "use_lstm": false, "zero_mean": true, "fcnet_activation": "tanh"}, "input": "sampler", "horizon": 1500, "vf_loss_coeff": 1.0, "compress_observations": false, "num_envs_per_worker": 1, "sample_async": false, "num_gpus": 0, "output_max_file_size": 67108864, "lambda": 0.97, "multiagent": {"policy_graphs": {}, "policies_to_train": null, "policy_mapping_fn": null}, "output": null, "num_cpus_per_worker": 1, "preprocessor_pref": "deepmind", "clip_param": 0.3, "kl_target": 0.01, "output_compress_columns": ["obs", "new_obs"], "collect_metrics_timeout": 180, "sgd_minibatch_size": 128, "train_batch_size": 30000, "callbacks": {"on_sample_end": null, "on_train_result": null, "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7f2c028a97f0>", "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7f2c028a9160>", "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7f2c028a9860>"}, "observation_filter": "MeanStdFilter", "synchronize_filters": true, "gamma": 0.99, "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "env_config": {"flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"buf_length\": 1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.1,\n            \"eta3\": 0.1,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 1.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnv\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 600,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}", "run": "PPO"}, "env": "MultiWaveAttenuationMergePOEnv-v0_[eta1, eta2, eta3]:[1.0, 0.1, 0.1]_t_min:1.0_buf_len: 1", "optimizer": {}, "num_workers": 20, "num_cpus_for_driver": 1, "lr_schedule": null, "batch_mode": "truncate_episodes"}, "time_this_iter_s": 48.20573329925537, "timesteps_since_restore": 7970161, "info": {"update_time_ms": 8.988, "num_steps_sampled": 7970161, "sample_time_ms": 33233.204, "grad_time_ms": 17011.6, "default": {"entropy": 1.5036033391952515, "kl": 0.013950119726359844, "vf_loss": 31.32938575744629, "vf_explained_var": 0.8324978947639465, "policy_loss": -0.010759961791336536, "total_loss": 31.323335647583008, "cur_lr": 0.0005000000237487257, "cur_kl_coeff": 0.33750003576278687}, "num_steps_trained": 7970161, "load_time_ms": 10.697}, "time_total_s": 6043.02654671669, "num_metric_batches_dropped": 0, "timestamp": 1558312536, "episode_reward_max": 1314.6594878682972, "timesteps_this_iter": 65412, "episode_reward_min": 821.8907900568877, "date": "2019-05-20_00-35-36", "policy_reward_mean": {}, "time_since_restore": 6043.02654671669, "episodes_total": 3372, "iterations_since_restore": 119, "pid": 46880, "episodes_this_iter": 28, "episode_len_mean": 700.0, "done": false, "training_iteration": 119, "custom_metrics": {"cost2_mean": -0.09078678066039378, "outflow_rate_mean": 1107.7947185231155, "cost2_min": -1.090057227016846, "system_level_velocity_mean": 13.077813442033127, "cost1_min": 238.5747244237519, "cost1_mean": 337.3417455686964, "cost1_max": 476.55338895476336, "outflow_rate_max": 1349.655687482082, "system_level_velocity_max": 18.275820608336417, "outflow_rate_min": 919.6720777538015, "cost2_max": 0.0, "system_level_velocity_min": 9.381326159606141}, "node_ip": "10.138.0.2", "timesteps_total": 7970161}
{"hostname": "flow-main", "episode_reward_mean": 1005.7841030457007, "experiment_id": "383e98f8614b4235818372cc4d63f9e0", "config": {"use_gae": true, "tf_session_args": {"allow_soft_placement": true, "gpu_options": {"allow_growth": true}, "inter_op_parallelism_threads": 2, "device_count": {"CPU": 1}, "intra_op_parallelism_threads": 2, "log_device_placement": false}, "entropy_coeff": 0.0, "kl_coeff": 0.2, "num_gpus_per_worker": 0, "monitor": false, "input_evaluation": null, "clip_rewards": null, "vf_share_layers": false, "straggler_mitigation": false, "log_level": "INFO", "clip_actions": false, "simple_optimizer": false, "sample_batch_size": 750, "vf_clip_param": 1000000.0, "custom_resources_per_worker": {}, "lr": 0.0005, "num_sgd_iter": 10, "model": {"grayscale": false, "dim": 84, "custom_model": null, "free_log_std": false, "custom_options": {}, "lstm_cell_size": 256, "framestack": true, "squash_to_range": false, "conv_filters": null, "channel_major": false, "custom_preprocessor": null, "fcnet_hiddens": [128, 64, 32], "max_seq_len": 20, "lstm_use_prev_action_reward": false, "conv_activation": "relu", "use_lstm": false, "zero_mean": true, "fcnet_activation": "tanh"}, "input": "sampler", "horizon": 1500, "vf_loss_coeff": 1.0, "compress_observations": false, "num_envs_per_worker": 1, "sample_async": false, "num_gpus": 0, "output_max_file_size": 67108864, "lambda": 0.97, "multiagent": {"policy_graphs": {}, "policies_to_train": null, "policy_mapping_fn": null}, "output": null, "num_cpus_per_worker": 1, "preprocessor_pref": "deepmind", "clip_param": 0.3, "kl_target": 0.01, "output_compress_columns": ["obs", "new_obs"], "collect_metrics_timeout": 180, "sgd_minibatch_size": 128, "train_batch_size": 30000, "callbacks": {"on_sample_end": null, "on_train_result": null, "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7f2c02d022b0>", "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7f2c02d02470>", "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7f2c02d02630>"}, "observation_filter": "MeanStdFilter", "synchronize_filters": true, "gamma": 0.99, "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "env_config": {"flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"buf_length\": 1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.1,\n            \"eta3\": 0.1,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 1.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnv\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 600,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}", "run": "PPO"}, "env": "MultiWaveAttenuationMergePOEnv-v0_[eta1, eta2, eta3]:[1.0, 0.1, 0.1]_t_min:1.0_buf_len: 1", "optimizer": {}, "num_workers": 20, "num_cpus_for_driver": 1, "lr_schedule": null, "batch_mode": "truncate_episodes"}, "time_this_iter_s": 52.755488872528076, "timesteps_since_restore": 8036574, "info": {"update_time_ms": 9.026, "num_steps_sampled": 8036574, "sample_time_ms": 33136.909, "grad_time_ms": 16963.24, "default": {"entropy": 1.5073179006576538, "kl": 0.01444352138787508, "vf_loss": 31.33266258239746, "vf_explained_var": 0.8172125220298767, "policy_loss": -0.009663928300142288, "total_loss": 31.32787322998047, "cur_lr": 0.0005000000237487257, "cur_kl_coeff": 0.33750006556510925}, "num_steps_trained": 8036574, "load_time_ms": 10.767}, "time_total_s": 6095.782035589218, "num_metric_batches_dropped": 0, "timestamp": 1558312589, "episode_reward_max": 1314.6594878682972, "timesteps_this_iter": 66413, "episode_reward_min": 821.8907900568877, "date": "2019-05-20_00-36-29", "policy_reward_mean": {}, "time_since_restore": 6095.782035589218, "episodes_total": 3400, "iterations_since_restore": 120, "pid": 46880, "episodes_this_iter": 28, "episode_len_mean": 700.0, "done": false, "training_iteration": 120, "custom_metrics": {"cost2_mean": -0.10260957819559817, "outflow_rate_mean": 1109.6948142287072, "cost2_min": -1.090057227016846, "system_level_velocity_mean": 13.15142110544176, "cost1_min": 238.5747244237519, "cost1_mean": 339.3355438748837, "cost1_max": 494.2787304243893, "outflow_rate_max": 1349.655687482082, "system_level_velocity_max": 19.073672804984, "outflow_rate_min": 919.6720777538015, "cost2_max": 0.0, "system_level_velocity_min": 9.399120464271569}, "node_ip": "10.138.0.2", "timesteps_total": 8036574}
{"hostname": "flow-main", "episode_reward_mean": 984.9752728051071, "experiment_id": "383e98f8614b4235818372cc4d63f9e0", "config": {"use_gae": true, "tf_session_args": {"allow_soft_placement": true, "gpu_options": {"allow_growth": true}, "inter_op_parallelism_threads": 2, "device_count": {"CPU": 1}, "intra_op_parallelism_threads": 2, "log_device_placement": false}, "entropy_coeff": 0.0, "kl_coeff": 0.2, "num_gpus_per_worker": 0, "monitor": false, "input_evaluation": null, "clip_rewards": null, "vf_share_layers": false, "straggler_mitigation": false, "log_level": "INFO", "clip_actions": false, "simple_optimizer": false, "sample_batch_size": 750, "vf_clip_param": 1000000.0, "custom_resources_per_worker": {}, "lr": 0.0005, "num_sgd_iter": 10, "model": {"grayscale": false, "dim": 84, "custom_model": null, "free_log_std": false, "custom_options": {}, "lstm_cell_size": 256, "framestack": true, "squash_to_range": false, "conv_filters": null, "channel_major": false, "custom_preprocessor": null, "fcnet_hiddens": [128, 64, 32], "max_seq_len": 20, "lstm_use_prev_action_reward": false, "conv_activation": "relu", "use_lstm": false, "zero_mean": true, "fcnet_activation": "tanh"}, "input": "sampler", "horizon": 1500, "vf_loss_coeff": 1.0, "compress_observations": false, "num_envs_per_worker": 1, "sample_async": false, "num_gpus": 0, "output_max_file_size": 67108864, "lambda": 0.97, "multiagent": {"policy_graphs": {}, "policies_to_train": null, "policy_mapping_fn": null}, "output": null, "num_cpus_per_worker": 1, "preprocessor_pref": "deepmind", "clip_param": 0.3, "kl_target": 0.01, "output_compress_columns": ["obs", "new_obs"], "collect_metrics_timeout": 180, "sgd_minibatch_size": 128, "train_batch_size": 30000, "callbacks": {"on_sample_end": null, "on_train_result": null, "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7f2c02cf5240>", "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7f2c02cf55c0>", "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7f2c02cf5ef0>"}, "observation_filter": "MeanStdFilter", "synchronize_filters": true, "gamma": 0.99, "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "env_config": {"flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"buf_length\": 1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.1,\n            \"eta3\": 0.1,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 1.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnv\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 600,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}", "run": "PPO"}, "env": "MultiWaveAttenuationMergePOEnv-v0_[eta1, eta2, eta3]:[1.0, 0.1, 0.1]_t_min:1.0_buf_len: 1", "optimizer": {}, "num_workers": 20, "num_cpus_for_driver": 1, "lr_schedule": null, "batch_mode": "truncate_episodes"}, "time_this_iter_s": 50.58767509460449, "timesteps_since_restore": 8101625, "info": {"update_time_ms": 8.86, "num_steps_sampled": 8101625, "sample_time_ms": 33131.775, "grad_time_ms": 16948.63, "default": {"entropy": 1.505595088005066, "kl": 0.016270747408270836, "vf_loss": 32.434818267822266, "vf_explained_var": 0.8202488422393799, "policy_loss": -0.010644341818988323, "total_loss": 32.429664611816406, "cur_lr": 0.0005000000237487257, "cur_kl_coeff": 0.33750006556510925}, "num_steps_trained": 8101625, "load_time_ms": 10.759}, "time_total_s": 6146.369710683823, "num_metric_batches_dropped": 0, "timestamp": 1558312639, "episode_reward_max": 1314.6594878682972, "timesteps_this_iter": 65051, "episode_reward_min": 326.7922989841056, "date": "2019-05-20_00-37-19", "policy_reward_mean": {}, "time_since_restore": 6146.369710683823, "episodes_total": 3431, "iterations_since_restore": 121, "pid": 46880, "episodes_this_iter": 31, "episode_len_mean": 690.12, "done": false, "training_iteration": 121, "custom_metrics": {"cost2_mean": -0.10251402365225698, "outflow_rate_mean": 1100.272581383135, "cost2_min": -0.6388229041172946, "system_level_velocity_mean": 13.169772587563482, "cost1_min": 126.87126799765181, "cost1_mean": 333.25626170464085, "cost1_max": 494.2787304243893, "outflow_rate_max": 1349.655687482082, "system_level_velocity_max": 19.073672804984, "outflow_rate_min": 846.6434599225828, "cost2_max": 0.0, "system_level_velocity_min": 9.399120464271569}, "node_ip": "10.138.0.2", "timesteps_total": 8101625}
{"hostname": "flow-main", "episode_reward_mean": 983.593888465287, "experiment_id": "383e98f8614b4235818372cc4d63f9e0", "config": {"use_gae": true, "tf_session_args": {"allow_soft_placement": true, "gpu_options": {"allow_growth": true}, "inter_op_parallelism_threads": 2, "device_count": {"CPU": 1}, "intra_op_parallelism_threads": 2, "log_device_placement": false}, "entropy_coeff": 0.0, "kl_coeff": 0.2, "num_gpus_per_worker": 0, "monitor": false, "input_evaluation": null, "clip_rewards": null, "vf_share_layers": false, "straggler_mitigation": false, "log_level": "INFO", "clip_actions": false, "simple_optimizer": false, "sample_batch_size": 750, "vf_clip_param": 1000000.0, "custom_resources_per_worker": {}, "lr": 0.0005, "num_sgd_iter": 10, "model": {"grayscale": false, "dim": 84, "custom_model": null, "free_log_std": false, "custom_options": {}, "lstm_cell_size": 256, "framestack": true, "squash_to_range": false, "conv_filters": null, "channel_major": false, "custom_preprocessor": null, "fcnet_hiddens": [128, 64, 32], "max_seq_len": 20, "lstm_use_prev_action_reward": false, "conv_activation": "relu", "use_lstm": false, "zero_mean": true, "fcnet_activation": "tanh"}, "input": "sampler", "horizon": 1500, "vf_loss_coeff": 1.0, "compress_observations": false, "num_envs_per_worker": 1, "sample_async": false, "num_gpus": 0, "output_max_file_size": 67108864, "lambda": 0.97, "multiagent": {"policy_graphs": {}, "policies_to_train": null, "policy_mapping_fn": null}, "output": null, "num_cpus_per_worker": 1, "preprocessor_pref": "deepmind", "clip_param": 0.3, "kl_target": 0.01, "output_compress_columns": ["obs", "new_obs"], "collect_metrics_timeout": 180, "sgd_minibatch_size": 128, "train_batch_size": 30000, "callbacks": {"on_sample_end": null, "on_train_result": null, "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7f2c02897438>", "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7f2c02897160>", "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7f2c02897278>"}, "observation_filter": "MeanStdFilter", "synchronize_filters": true, "gamma": 0.99, "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "env_config": {"flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"buf_length\": 1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.1,\n            \"eta3\": 0.1,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 1.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnv\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 600,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}", "run": "PPO"}, "env": "MultiWaveAttenuationMergePOEnv-v0_[eta1, eta2, eta3]:[1.0, 0.1, 0.1]_t_min:1.0_buf_len: 1", "optimizer": {}, "num_workers": 20, "num_cpus_for_driver": 1, "lr_schedule": null, "batch_mode": "truncate_episodes"}, "time_this_iter_s": 50.896509885787964, "timesteps_since_restore": 8167162, "info": {"update_time_ms": 8.924, "num_steps_sampled": 8167162, "sample_time_ms": 33266.72, "grad_time_ms": 16810.162, "default": {"entropy": 1.510401964187622, "kl": 0.014459286816418171, "vf_loss": 30.932950973510742, "vf_explained_var": 0.8073053359985352, "policy_loss": -0.009582241997122765, "total_loss": 30.928247451782227, "cur_lr": 0.0005000000237487257, "cur_kl_coeff": 0.33750006556510925}, "num_steps_trained": 8167162, "load_time_ms": 11.117}, "time_total_s": 6197.266220569611, "num_metric_batches_dropped": 0, "timestamp": 1558312690, "episode_reward_max": 1271.7434620536787, "timesteps_this_iter": 65537, "episode_reward_min": 326.7922989841056, "date": "2019-05-20_00-38-10", "policy_reward_mean": {}, "time_since_restore": 6197.266220569611, "episodes_total": 3458, "iterations_since_restore": 122, "pid": 46880, "episodes_this_iter": 27, "episode_len_mean": 690.12, "done": false, "training_iteration": 122, "custom_metrics": {"cost2_mean": -0.08132150618935688, "outflow_rate_mean": 1095.697677712121, "cost2_min": -0.6388229041172946, "system_level_velocity_mean": 13.086273863090241, "cost1_min": 126.87126799765181, "cost1_mean": 331.5039846254053, "cost1_max": 494.2787304243893, "outflow_rate_max": 1328.7381681138604, "system_level_velocity_max": 19.073672804984, "outflow_rate_min": 846.6434599225828, "cost2_max": 0.0, "system_level_velocity_min": 8.888753076653755}, "node_ip": "10.138.0.2", "timesteps_total": 8167162}
{"hostname": "flow-main", "episode_reward_mean": 971.9923645252221, "experiment_id": "383e98f8614b4235818372cc4d63f9e0", "config": {"use_gae": true, "tf_session_args": {"allow_soft_placement": true, "gpu_options": {"allow_growth": true}, "inter_op_parallelism_threads": 2, "device_count": {"CPU": 1}, "intra_op_parallelism_threads": 2, "log_device_placement": false}, "entropy_coeff": 0.0, "kl_coeff": 0.2, "num_gpus_per_worker": 0, "monitor": false, "input_evaluation": null, "clip_rewards": null, "vf_share_layers": false, "straggler_mitigation": false, "log_level": "INFO", "clip_actions": false, "simple_optimizer": false, "sample_batch_size": 750, "vf_clip_param": 1000000.0, "custom_resources_per_worker": {}, "lr": 0.0005, "num_sgd_iter": 10, "model": {"grayscale": false, "dim": 84, "custom_model": null, "free_log_std": false, "custom_options": {}, "lstm_cell_size": 256, "framestack": true, "squash_to_range": false, "conv_filters": null, "channel_major": false, "custom_preprocessor": null, "fcnet_hiddens": [128, 64, 32], "max_seq_len": 20, "lstm_use_prev_action_reward": false, "conv_activation": "relu", "use_lstm": false, "zero_mean": true, "fcnet_activation": "tanh"}, "input": "sampler", "horizon": 1500, "vf_loss_coeff": 1.0, "compress_observations": false, "num_envs_per_worker": 1, "sample_async": false, "num_gpus": 0, "output_max_file_size": 67108864, "lambda": 0.97, "multiagent": {"policy_graphs": {}, "policies_to_train": null, "policy_mapping_fn": null}, "output": null, "num_cpus_per_worker": 1, "preprocessor_pref": "deepmind", "clip_param": 0.3, "kl_target": 0.01, "output_compress_columns": ["obs", "new_obs"], "collect_metrics_timeout": 180, "sgd_minibatch_size": 128, "train_batch_size": 30000, "callbacks": {"on_sample_end": null, "on_train_result": null, "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7f2c028a84a8>", "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7f2c028a8f60>", "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7f2c028a8e10>"}, "observation_filter": "MeanStdFilter", "synchronize_filters": true, "gamma": 0.99, "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "env_config": {"flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"buf_length\": 1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.1,\n            \"eta3\": 0.1,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 1.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnv\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 600,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}", "run": "PPO"}, "env": "MultiWaveAttenuationMergePOEnv-v0_[eta1, eta2, eta3]:[1.0, 0.1, 0.1]_t_min:1.0_buf_len: 1", "optimizer": {}, "num_workers": 20, "num_cpus_for_driver": 1, "lr_schedule": null, "batch_mode": "truncate_episodes"}, "time_this_iter_s": 52.44929790496826, "timesteps_since_restore": 8233457, "info": {"update_time_ms": 8.906, "num_steps_sampled": 8233457, "sample_time_ms": 33493.54, "grad_time_ms": 16807.098, "default": {"entropy": 1.5357714891433716, "kl": 0.01600373163819313, "vf_loss": 30.500402450561523, "vf_explained_var": 0.8146748542785645, "policy_loss": -0.011706328019499779, "total_loss": 30.494098663330078, "cur_lr": 0.0005000000237487257, "cur_kl_coeff": 0.33750003576278687}, "num_steps_trained": 8233457, "load_time_ms": 11.092}, "time_total_s": 6249.715518474579, "num_metric_batches_dropped": 0, "timestamp": 1558312743, "episode_reward_max": 1271.7434620536787, "timesteps_this_iter": 66295, "episode_reward_min": 326.7922989841056, "date": "2019-05-20_00-39-03", "policy_reward_mean": {}, "time_since_restore": 6249.715518474579, "episodes_total": 3486, "iterations_since_restore": 123, "pid": 46880, "episodes_this_iter": 28, "episode_len_mean": 690.12, "done": false, "training_iteration": 123, "custom_metrics": {"cost2_mean": -0.09505239477784339, "outflow_rate_mean": 1085.273433488101, "cost2_min": -0.6388229041172946, "system_level_velocity_mean": 12.884803879527606, "cost1_min": 126.87126799765181, "cost1_mean": 326.06656849877976, "cost1_max": 494.2787304243893, "outflow_rate_max": 1328.7381681138604, "system_level_velocity_max": 19.073672804984, "outflow_rate_min": 846.6434599225828, "cost2_max": 0.0, "system_level_velocity_min": 8.888753076653755}, "node_ip": "10.138.0.2", "timesteps_total": 8233457}
{"hostname": "flow-main", "episode_reward_mean": 968.5074508164031, "experiment_id": "383e98f8614b4235818372cc4d63f9e0", "config": {"use_gae": true, "tf_session_args": {"allow_soft_placement": true, "gpu_options": {"allow_growth": true}, "inter_op_parallelism_threads": 2, "device_count": {"CPU": 1}, "intra_op_parallelism_threads": 2, "log_device_placement": false}, "entropy_coeff": 0.0, "kl_coeff": 0.2, "num_gpus_per_worker": 0, "monitor": false, "input_evaluation": null, "clip_rewards": null, "vf_share_layers": false, "straggler_mitigation": false, "log_level": "INFO", "clip_actions": false, "simple_optimizer": false, "sample_batch_size": 750, "vf_clip_param": 1000000.0, "custom_resources_per_worker": {}, "lr": 0.0005, "num_sgd_iter": 10, "model": {"grayscale": false, "dim": 84, "custom_model": null, "free_log_std": false, "custom_options": {}, "lstm_cell_size": 256, "framestack": true, "squash_to_range": false, "conv_filters": null, "channel_major": false, "custom_preprocessor": null, "fcnet_hiddens": [128, 64, 32], "max_seq_len": 20, "lstm_use_prev_action_reward": false, "conv_activation": "relu", "use_lstm": false, "zero_mean": true, "fcnet_activation": "tanh"}, "input": "sampler", "horizon": 1500, "vf_loss_coeff": 1.0, "compress_observations": false, "num_envs_per_worker": 1, "sample_async": false, "num_gpus": 0, "output_max_file_size": 67108864, "lambda": 0.97, "multiagent": {"policy_graphs": {}, "policies_to_train": null, "policy_mapping_fn": null}, "output": null, "num_cpus_per_worker": 1, "preprocessor_pref": "deepmind", "clip_param": 0.3, "kl_target": 0.01, "output_compress_columns": ["obs", "new_obs"], "collect_metrics_timeout": 180, "sgd_minibatch_size": 128, "train_batch_size": 30000, "callbacks": {"on_sample_end": null, "on_train_result": null, "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7f2c02897a58>", "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7f2c02897ac8>", "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7f2c02897fd0>"}, "observation_filter": "MeanStdFilter", "synchronize_filters": true, "gamma": 0.99, "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "env_config": {"flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"buf_length\": 1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.1,\n            \"eta3\": 0.1,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 1.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnv\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 600,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}", "run": "PPO"}, "env": "MultiWaveAttenuationMergePOEnv-v0_[eta1, eta2, eta3]:[1.0, 0.1, 0.1]_t_min:1.0_buf_len: 1", "optimizer": {}, "num_workers": 20, "num_cpus_for_driver": 1, "lr_schedule": null, "batch_mode": "truncate_episodes"}, "time_this_iter_s": 52.64777421951294, "timesteps_since_restore": 8300333, "info": {"update_time_ms": 8.941, "num_steps_sampled": 8300333, "sample_time_ms": 33623.854, "grad_time_ms": 16872.381, "default": {"entropy": 1.542155385017395, "kl": 0.01575724221765995, "vf_loss": 30.56587028503418, "vf_explained_var": 0.8121641874313354, "policy_loss": -0.010688168928027153, "total_loss": 30.560501098632812, "cur_lr": 0.0005000000237487257, "cur_kl_coeff": 0.33750003576278687}, "num_steps_trained": 8300333, "load_time_ms": 10.715}, "time_total_s": 6302.363292694092, "num_metric_batches_dropped": 0, "timestamp": 1558312796, "episode_reward_max": 1271.7434620536787, "timesteps_this_iter": 66876, "episode_reward_min": 34.4006063362287, "date": "2019-05-20_00-39-56", "policy_reward_mean": {}, "time_since_restore": 6302.363292694092, "episodes_total": 3518, "iterations_since_restore": 124, "pid": 46880, "episodes_this_iter": 32, "episode_len_mean": 688.51, "done": false, "training_iteration": 124, "custom_metrics": {"cost2_mean": -0.09930829287085886, "outflow_rate_mean": 1073.1869380311919, "cost2_min": -1.0598401513671345, "system_level_velocity_mean": 12.708672061032903, "cost1_min": 15.456434239284526, "cost1_mean": 320.75100398653075, "cost1_max": 472.7976100000286, "outflow_rate_max": 1328.7381681138604, "system_level_velocity_max": 18.295284815075064, "outflow_rate_min": 478.6715823005086, "cost2_max": 0.0, "system_level_velocity_min": 8.888753076653755}, "node_ip": "10.138.0.2", "timesteps_total": 8300333}
{"hostname": "flow-main", "episode_reward_mean": 967.6173787441605, "experiment_id": "383e98f8614b4235818372cc4d63f9e0", "config": {"use_gae": true, "tf_session_args": {"allow_soft_placement": true, "gpu_options": {"allow_growth": true}, "inter_op_parallelism_threads": 2, "device_count": {"CPU": 1}, "intra_op_parallelism_threads": 2, "log_device_placement": false}, "entropy_coeff": 0.0, "kl_coeff": 0.2, "num_gpus_per_worker": 0, "monitor": false, "input_evaluation": null, "clip_rewards": null, "vf_share_layers": false, "straggler_mitigation": false, "log_level": "INFO", "clip_actions": false, "simple_optimizer": false, "sample_batch_size": 750, "vf_clip_param": 1000000.0, "custom_resources_per_worker": {}, "lr": 0.0005, "num_sgd_iter": 10, "model": {"grayscale": false, "dim": 84, "custom_model": null, "free_log_std": false, "custom_options": {}, "lstm_cell_size": 256, "framestack": true, "squash_to_range": false, "conv_filters": null, "channel_major": false, "custom_preprocessor": null, "fcnet_hiddens": [128, 64, 32], "max_seq_len": 20, "lstm_use_prev_action_reward": false, "conv_activation": "relu", "use_lstm": false, "zero_mean": true, "fcnet_activation": "tanh"}, "input": "sampler", "horizon": 1500, "vf_loss_coeff": 1.0, "compress_observations": false, "num_envs_per_worker": 1, "sample_async": false, "num_gpus": 0, "output_max_file_size": 67108864, "lambda": 0.97, "multiagent": {"policy_graphs": {}, "policies_to_train": null, "policy_mapping_fn": null}, "output": null, "num_cpus_per_worker": 1, "preprocessor_pref": "deepmind", "clip_param": 0.3, "kl_target": 0.01, "output_compress_columns": ["obs", "new_obs"], "collect_metrics_timeout": 180, "sgd_minibatch_size": 128, "train_batch_size": 30000, "callbacks": {"on_sample_end": null, "on_train_result": null, "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7f2c028a99e8>", "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7f2c028a9828>", "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7f2c028a9cf8>"}, "observation_filter": "MeanStdFilter", "synchronize_filters": true, "gamma": 0.99, "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "env_config": {"flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"buf_length\": 1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.1,\n            \"eta3\": 0.1,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 1.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnv\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 600,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}", "run": "PPO"}, "env": "MultiWaveAttenuationMergePOEnv-v0_[eta1, eta2, eta3]:[1.0, 0.1, 0.1]_t_min:1.0_buf_len: 1", "optimizer": {}, "num_workers": 20, "num_cpus_for_driver": 1, "lr_schedule": null, "batch_mode": "truncate_episodes"}, "time_this_iter_s": 49.22305917739868, "timesteps_since_restore": 8364815, "info": {"update_time_ms": 8.944, "num_steps_sampled": 8364815, "sample_time_ms": 33672.677, "grad_time_ms": 16723.571, "default": {"entropy": 1.5319182872772217, "kl": 0.014476265758275986, "vf_loss": 29.524200439453125, "vf_explained_var": 0.8253547549247742, "policy_loss": -0.011194703169167042, "total_loss": 29.51789093017578, "cur_lr": 0.0005000000237487257, "cur_kl_coeff": 0.33750003576278687}, "num_steps_trained": 8364815, "load_time_ms": 10.639}, "time_total_s": 6351.5863518714905, "num_metric_batches_dropped": 0, "timestamp": 1558312845, "episode_reward_max": 1271.7434620536787, "timesteps_this_iter": 64482, "episode_reward_min": 34.4006063362287, "date": "2019-05-20_00-40-45", "policy_reward_mean": {}, "time_since_restore": 6351.5863518714905, "episodes_total": 3546, "iterations_since_restore": 125, "pid": 46880, "episodes_this_iter": 28, "episode_len_mean": 686.51, "done": false, "training_iteration": 125, "custom_metrics": {"cost2_mean": -0.10844227572507024, "outflow_rate_mean": 1062.2348888306885, "cost2_min": -1.0598401513671345, "system_level_velocity_mean": 12.606841631242878, "cost1_min": 15.456434239284526, "cost1_mean": 316.81892144511517, "cost1_max": 474.93523523044723, "outflow_rate_max": 1309.1118621392902, "system_level_velocity_max": 18.368186807708646, "outflow_rate_min": 478.6715823005086, "cost2_max": 0.0, "system_level_velocity_min": 8.888753076653755}, "node_ip": "10.138.0.2", "timesteps_total": 8364815}
{"hostname": "flow-main", "episode_reward_mean": 964.9213502254491, "experiment_id": "383e98f8614b4235818372cc4d63f9e0", "config": {"use_gae": true, "tf_session_args": {"allow_soft_placement": true, "gpu_options": {"allow_growth": true}, "inter_op_parallelism_threads": 2, "device_count": {"CPU": 1}, "intra_op_parallelism_threads": 2, "log_device_placement": false}, "entropy_coeff": 0.0, "kl_coeff": 0.2, "num_gpus_per_worker": 0, "monitor": false, "input_evaluation": null, "clip_rewards": null, "vf_share_layers": false, "straggler_mitigation": false, "log_level": "INFO", "clip_actions": false, "simple_optimizer": false, "sample_batch_size": 750, "vf_clip_param": 1000000.0, "custom_resources_per_worker": {}, "lr": 0.0005, "num_sgd_iter": 10, "model": {"grayscale": false, "dim": 84, "custom_model": null, "free_log_std": false, "custom_options": {}, "lstm_cell_size": 256, "framestack": true, "squash_to_range": false, "conv_filters": null, "channel_major": false, "custom_preprocessor": null, "fcnet_hiddens": [128, 64, 32], "max_seq_len": 20, "lstm_use_prev_action_reward": false, "conv_activation": "relu", "use_lstm": false, "zero_mean": true, "fcnet_activation": "tanh"}, "input": "sampler", "horizon": 1500, "vf_loss_coeff": 1.0, "compress_observations": false, "num_envs_per_worker": 1, "sample_async": false, "num_gpus": 0, "output_max_file_size": 67108864, "lambda": 0.97, "multiagent": {"policy_graphs": {}, "policies_to_train": null, "policy_mapping_fn": null}, "output": null, "num_cpus_per_worker": 1, "preprocessor_pref": "deepmind", "clip_param": 0.3, "kl_target": 0.01, "output_compress_columns": ["obs", "new_obs"], "collect_metrics_timeout": 180, "sgd_minibatch_size": 128, "train_batch_size": 30000, "callbacks": {"on_sample_end": null, "on_train_result": null, "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7f2c02cf55c0>", "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7f2c02cf5080>", "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7f2c02cf5da0>"}, "observation_filter": "MeanStdFilter", "synchronize_filters": true, "gamma": 0.99, "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "env_config": {"flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"buf_length\": 1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.1,\n            \"eta3\": 0.1,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 1.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnv\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 600,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}", "run": "PPO"}, "env": "MultiWaveAttenuationMergePOEnv-v0_[eta1, eta2, eta3]:[1.0, 0.1, 0.1]_t_min:1.0_buf_len: 1", "optimizer": {}, "num_workers": 20, "num_cpus_for_driver": 1, "lr_schedule": null, "batch_mode": "truncate_episodes"}, "time_this_iter_s": 51.20060420036316, "timesteps_since_restore": 8430338, "info": {"update_time_ms": 8.32, "num_steps_sampled": 8430338, "sample_time_ms": 33866.292, "grad_time_ms": 16769.611, "default": {"entropy": 1.5580660104751587, "kl": 0.015613404102623463, "vf_loss": 29.04402732849121, "vf_explained_var": 0.827313244342804, "policy_loss": -0.012116837315261364, "total_loss": 29.037181854248047, "cur_lr": 0.0005000000237487257, "cur_kl_coeff": 0.33750003576278687}, "num_steps_trained": 8430338, "load_time_ms": 10.423}, "time_total_s": 6402.786956071854, "num_metric_batches_dropped": 0, "timestamp": 1558312896, "episode_reward_max": 1150.1362192471684, "timesteps_this_iter": 65523, "episode_reward_min": 34.4006063362287, "date": "2019-05-20_00-41-36", "policy_reward_mean": {}, "time_since_restore": 6402.786956071854, "episodes_total": 3573, "iterations_since_restore": 126, "pid": 46880, "episodes_this_iter": 27, "episode_len_mean": 686.51, "done": false, "training_iteration": 126, "custom_metrics": {"cost2_mean": -0.10992628830706527, "outflow_rate_mean": 1065.7459232297715, "cost2_min": -1.0598401513671345, "system_level_velocity_mean": 12.702247069529776, "cost1_min": 15.456434239284526, "cost1_mean": 319.0501257430774, "cost1_max": 474.93523523044723, "outflow_rate_max": 1303.5961033406393, "system_level_velocity_max": 18.368186807708646, "outflow_rate_min": 478.6715823005086, "cost2_max": 0.0, "system_level_velocity_min": 9.247179075538078}, "node_ip": "10.138.0.2", "timesteps_total": 8430338}
{"hostname": "flow-main", "episode_reward_mean": 977.5960770705045, "experiment_id": "383e98f8614b4235818372cc4d63f9e0", "config": {"use_gae": true, "tf_session_args": {"allow_soft_placement": true, "gpu_options": {"allow_growth": true}, "inter_op_parallelism_threads": 2, "device_count": {"CPU": 1}, "intra_op_parallelism_threads": 2, "log_device_placement": false}, "entropy_coeff": 0.0, "kl_coeff": 0.2, "num_gpus_per_worker": 0, "monitor": false, "input_evaluation": null, "clip_rewards": null, "vf_share_layers": false, "straggler_mitigation": false, "log_level": "INFO", "clip_actions": false, "simple_optimizer": false, "sample_batch_size": 750, "vf_clip_param": 1000000.0, "custom_resources_per_worker": {}, "lr": 0.0005, "num_sgd_iter": 10, "model": {"grayscale": false, "dim": 84, "custom_model": null, "free_log_std": false, "custom_options": {}, "lstm_cell_size": 256, "framestack": true, "squash_to_range": false, "conv_filters": null, "channel_major": false, "custom_preprocessor": null, "fcnet_hiddens": [128, 64, 32], "max_seq_len": 20, "lstm_use_prev_action_reward": false, "conv_activation": "relu", "use_lstm": false, "zero_mean": true, "fcnet_activation": "tanh"}, "input": "sampler", "horizon": 1500, "vf_loss_coeff": 1.0, "compress_observations": false, "num_envs_per_worker": 1, "sample_async": false, "num_gpus": 0, "output_max_file_size": 67108864, "lambda": 0.97, "multiagent": {"policy_graphs": {}, "policies_to_train": null, "policy_mapping_fn": null}, "output": null, "num_cpus_per_worker": 1, "preprocessor_pref": "deepmind", "clip_param": 0.3, "kl_target": 0.01, "output_compress_columns": ["obs", "new_obs"], "collect_metrics_timeout": 180, "sgd_minibatch_size": 128, "train_batch_size": 30000, "callbacks": {"on_sample_end": null, "on_train_result": null, "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7f2c02897fd0>", "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7f2c02897ac8>", "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7f2c028974e0>"}, "observation_filter": "MeanStdFilter", "synchronize_filters": true, "gamma": 0.99, "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "env_config": {"flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"buf_length\": 1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.1,\n            \"eta3\": 0.1,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 1.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnv\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 600,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}", "run": "PPO"}, "env": "MultiWaveAttenuationMergePOEnv-v0_[eta1, eta2, eta3]:[1.0, 0.1, 0.1]_t_min:1.0_buf_len: 1", "optimizer": {}, "num_workers": 20, "num_cpus_for_driver": 1, "lr_schedule": null, "batch_mode": "truncate_episodes"}, "time_this_iter_s": 49.13563251495361, "timesteps_since_restore": 8495314, "info": {"update_time_ms": 8.466, "num_steps_sampled": 8495314, "sample_time_ms": 33637.81, "grad_time_ms": 16975.134, "default": {"entropy": 1.550028920173645, "kl": 0.014769153669476509, "vf_loss": 30.429967880249023, "vf_explained_var": 0.8268691301345825, "policy_loss": -0.011072653345763683, "total_loss": 30.42388153076172, "cur_lr": 0.0005000000237487257, "cur_kl_coeff": 0.33750003576278687}, "num_steps_trained": 8495314, "load_time_ms": 10.208}, "time_total_s": 6451.922588586807, "num_metric_batches_dropped": 0, "timestamp": 1558312945, "episode_reward_max": 1269.7899665622508, "timesteps_this_iter": 64976, "episode_reward_min": 47.34615463975679, "date": "2019-05-20_00-42-25", "policy_reward_mean": {}, "time_since_restore": 6451.922588586807, "episodes_total": 3599, "iterations_since_restore": 127, "pid": 46880, "episodes_this_iter": 26, "episode_len_mean": 693.28, "done": false, "training_iteration": 127, "custom_metrics": {"cost2_mean": -0.09558228711701953, "outflow_rate_mean": 1077.828475260991, "cost2_min": -1.0598401513671345, "system_level_velocity_mean": 12.768676922459429, "cost1_min": 18.629811143955045, "cost1_mean": 325.45660932594114, "cost1_max": 474.93523523044723, "outflow_rate_max": 1352.3412936010188, "system_level_velocity_max": 18.368186807708646, "outflow_rate_min": 493.642108631002, "cost2_max": 0.0, "system_level_velocity_min": 9.114373886324808}, "node_ip": "10.138.0.2", "timesteps_total": 8495314}
{"hostname": "flow-main", "episode_reward_mean": 981.4574061010209, "experiment_id": "383e98f8614b4235818372cc4d63f9e0", "config": {"use_gae": true, "tf_session_args": {"allow_soft_placement": true, "gpu_options": {"allow_growth": true}, "inter_op_parallelism_threads": 2, "device_count": {"CPU": 1}, "intra_op_parallelism_threads": 2, "log_device_placement": false}, "entropy_coeff": 0.0, "kl_coeff": 0.2, "num_gpus_per_worker": 0, "monitor": false, "input_evaluation": null, "clip_rewards": null, "vf_share_layers": false, "straggler_mitigation": false, "log_level": "INFO", "clip_actions": false, "simple_optimizer": false, "sample_batch_size": 750, "vf_clip_param": 1000000.0, "custom_resources_per_worker": {}, "lr": 0.0005, "num_sgd_iter": 10, "model": {"grayscale": false, "dim": 84, "custom_model": null, "free_log_std": false, "custom_options": {}, "lstm_cell_size": 256, "framestack": true, "squash_to_range": false, "conv_filters": null, "channel_major": false, "custom_preprocessor": null, "fcnet_hiddens": [128, 64, 32], "max_seq_len": 20, "lstm_use_prev_action_reward": false, "conv_activation": "relu", "use_lstm": false, "zero_mean": true, "fcnet_activation": "tanh"}, "input": "sampler", "horizon": 1500, "vf_loss_coeff": 1.0, "compress_observations": false, "num_envs_per_worker": 1, "sample_async": false, "num_gpus": 0, "output_max_file_size": 67108864, "lambda": 0.97, "multiagent": {"policy_graphs": {}, "policies_to_train": null, "policy_mapping_fn": null}, "output": null, "num_cpus_per_worker": 1, "preprocessor_pref": "deepmind", "clip_param": 0.3, "kl_target": 0.01, "output_compress_columns": ["obs", "new_obs"], "collect_metrics_timeout": 180, "sgd_minibatch_size": 128, "train_batch_size": 30000, "callbacks": {"on_sample_end": null, "on_train_result": null, "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7f2c028a8f60>", "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7f2c028a82e8>", "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7f2c028a8fd0>"}, "observation_filter": "MeanStdFilter", "synchronize_filters": true, "gamma": 0.99, "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "env_config": {"flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"buf_length\": 1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.1,\n            \"eta3\": 0.1,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 1.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnv\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 600,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}", "run": "PPO"}, "env": "MultiWaveAttenuationMergePOEnv-v0_[eta1, eta2, eta3]:[1.0, 0.1, 0.1]_t_min:1.0_buf_len: 1", "optimizer": {}, "num_workers": 20, "num_cpus_for_driver": 1, "lr_schedule": null, "batch_mode": "truncate_episodes"}, "time_this_iter_s": 49.36522626876831, "timesteps_since_restore": 8560524, "info": {"update_time_ms": 8.66, "num_steps_sampled": 8560524, "sample_time_ms": 33570.151, "grad_time_ms": 16937.728, "default": {"entropy": 1.5594050884246826, "kl": 0.0147489532828331, "vf_loss": 33.14802169799805, "vf_explained_var": 0.8077263236045837, "policy_loss": -0.011133162304759026, "total_loss": 33.141868591308594, "cur_lr": 0.0005000000237487257, "cur_kl_coeff": 0.33750003576278687}, "num_steps_trained": 8560524, "load_time_ms": 10.42}, "time_total_s": 6501.287814855576, "num_metric_batches_dropped": 0, "timestamp": 1558312995, "episode_reward_max": 1269.7899665622508, "timesteps_this_iter": 65210, "episode_reward_min": 47.34615463975679, "date": "2019-05-20_00-43-15", "policy_reward_mean": {}, "time_since_restore": 6501.287814855576, "episodes_total": 3627, "iterations_since_restore": 128, "pid": 46880, "episodes_this_iter": 28, "episode_len_mean": 693.28, "done": false, "training_iteration": 128, "custom_metrics": {"cost2_mean": -0.07300447025459726, "outflow_rate_mean": 1081.0495621064797, "cost2_min": -0.4709311349199685, "system_level_velocity_mean": 12.834424612248494, "cost1_min": 18.629811143955045, "cost1_mean": 327.4702504123246, "cost1_max": 479.3606099539943, "outflow_rate_max": 1366.1929766375604, "system_level_velocity_max": 18.459704868714137, "outflow_rate_min": 493.642108631002, "cost2_max": 0.0, "system_level_velocity_min": 9.114373886324808}, "node_ip": "10.138.0.2", "timesteps_total": 8560524}
{"hostname": "flow-main", "episode_reward_mean": 1008.5103901675521, "experiment_id": "383e98f8614b4235818372cc4d63f9e0", "config": {"use_gae": true, "tf_session_args": {"allow_soft_placement": true, "gpu_options": {"allow_growth": true}, "inter_op_parallelism_threads": 2, "device_count": {"CPU": 1}, "intra_op_parallelism_threads": 2, "log_device_placement": false}, "entropy_coeff": 0.0, "kl_coeff": 0.2, "num_gpus_per_worker": 0, "monitor": false, "input_evaluation": null, "clip_rewards": null, "vf_share_layers": false, "straggler_mitigation": false, "log_level": "INFO", "clip_actions": false, "simple_optimizer": false, "sample_batch_size": 750, "vf_clip_param": 1000000.0, "custom_resources_per_worker": {}, "lr": 0.0005, "num_sgd_iter": 10, "model": {"grayscale": false, "dim": 84, "custom_model": null, "free_log_std": false, "custom_options": {}, "lstm_cell_size": 256, "framestack": true, "squash_to_range": false, "conv_filters": null, "channel_major": false, "custom_preprocessor": null, "fcnet_hiddens": [128, 64, 32], "max_seq_len": 20, "lstm_use_prev_action_reward": false, "conv_activation": "relu", "use_lstm": false, "zero_mean": true, "fcnet_activation": "tanh"}, "input": "sampler", "horizon": 1500, "vf_loss_coeff": 1.0, "compress_observations": false, "num_envs_per_worker": 1, "sample_async": false, "num_gpus": 0, "output_max_file_size": 67108864, "lambda": 0.97, "multiagent": {"policy_graphs": {}, "policies_to_train": null, "policy_mapping_fn": null}, "output": null, "num_cpus_per_worker": 1, "preprocessor_pref": "deepmind", "clip_param": 0.3, "kl_target": 0.01, "output_compress_columns": ["obs", "new_obs"], "collect_metrics_timeout": 180, "sgd_minibatch_size": 128, "train_batch_size": 30000, "callbacks": {"on_sample_end": null, "on_train_result": null, "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7f2c02897a90>", "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7f2c02897390>", "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7f2c02897208>"}, "observation_filter": "MeanStdFilter", "synchronize_filters": true, "gamma": 0.99, "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "env_config": {"flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"buf_length\": 1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.1,\n            \"eta3\": 0.1,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 1.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnv\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 600,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}", "run": "PPO"}, "env": "MultiWaveAttenuationMergePOEnv-v0_[eta1, eta2, eta3]:[1.0, 0.1, 0.1]_t_min:1.0_buf_len: 1", "optimizer": {}, "num_workers": 20, "num_cpus_for_driver": 1, "lr_schedule": null, "batch_mode": "truncate_episodes"}, "time_this_iter_s": 47.525920391082764, "timesteps_since_restore": 8623911, "info": {"update_time_ms": 8.623, "num_steps_sampled": 8623911, "sample_time_ms": 33297.348, "grad_time_ms": 17143.047, "default": {"entropy": 1.5451560020446777, "kl": 0.015093103982508183, "vf_loss": 34.07162857055664, "vf_explained_var": 0.8273521065711975, "policy_loss": -0.012421035207808018, "total_loss": 34.06430435180664, "cur_lr": 0.0005000000237487257, "cur_kl_coeff": 0.33750006556510925}, "num_steps_trained": 8623911, "load_time_ms": 10.638}, "time_total_s": 6548.813735246658, "num_metric_batches_dropped": 0, "timestamp": 1558313042, "episode_reward_max": 1319.1887385630587, "timesteps_this_iter": 63387, "episode_reward_min": 827.853204410949, "date": "2019-05-20_00-44-02", "policy_reward_mean": {}, "time_since_restore": 6548.813735246658, "episodes_total": 3655, "iterations_since_restore": 129, "pid": 46880, "episodes_this_iter": 28, "episode_len_mean": 700.0, "done": false, "training_iteration": 129, "custom_metrics": {"cost2_mean": -0.08615855203161508, "outflow_rate_mean": 1108.684464852813, "cost2_min": -0.9333333333333333, "system_level_velocity_mean": 13.175379597742122, "cost1_min": 231.0784884708869, "cost1_mean": 340.8152627342715, "cost1_max": 479.3606099539943, "outflow_rate_max": 1366.1929766375604, "system_level_velocity_max": 18.459704868714137, "outflow_rate_min": 895.2861122749405, "cost2_max": 0.0, "system_level_velocity_min": 9.114373886324808}, "node_ip": "10.138.0.2", "timesteps_total": 8623911}
{"hostname": "flow-main", "episode_reward_mean": 1001.0773344613435, "experiment_id": "383e98f8614b4235818372cc4d63f9e0", "config": {"use_gae": true, "tf_session_args": {"allow_soft_placement": true, "gpu_options": {"allow_growth": true}, "inter_op_parallelism_threads": 2, "device_count": {"CPU": 1}, "intra_op_parallelism_threads": 2, "log_device_placement": false}, "entropy_coeff": 0.0, "kl_coeff": 0.2, "num_gpus_per_worker": 0, "monitor": false, "input_evaluation": null, "clip_rewards": null, "vf_share_layers": false, "straggler_mitigation": false, "log_level": "INFO", "clip_actions": false, "simple_optimizer": false, "sample_batch_size": 750, "vf_clip_param": 1000000.0, "custom_resources_per_worker": {}, "lr": 0.0005, "num_sgd_iter": 10, "model": {"grayscale": false, "dim": 84, "custom_model": null, "free_log_std": false, "custom_options": {}, "lstm_cell_size": 256, "framestack": true, "squash_to_range": false, "conv_filters": null, "channel_major": false, "custom_preprocessor": null, "fcnet_hiddens": [128, 64, 32], "max_seq_len": 20, "lstm_use_prev_action_reward": false, "conv_activation": "relu", "use_lstm": false, "zero_mean": true, "fcnet_activation": "tanh"}, "input": "sampler", "horizon": 1500, "vf_loss_coeff": 1.0, "compress_observations": false, "num_envs_per_worker": 1, "sample_async": false, "num_gpus": 0, "output_max_file_size": 67108864, "lambda": 0.97, "multiagent": {"policy_graphs": {}, "policies_to_train": null, "policy_mapping_fn": null}, "output": null, "num_cpus_per_worker": 1, "preprocessor_pref": "deepmind", "clip_param": 0.3, "kl_target": 0.01, "output_compress_columns": ["obs", "new_obs"], "collect_metrics_timeout": 180, "sgd_minibatch_size": 128, "train_batch_size": 30000, "callbacks": {"on_sample_end": null, "on_train_result": null, "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7f2c02cf5ef0>", "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7f2c02897828>", "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7f2c02897f60>"}, "observation_filter": "MeanStdFilter", "synchronize_filters": true, "gamma": 0.99, "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "env_config": {"flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"buf_length\": 1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.1,\n            \"eta3\": 0.1,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 1.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnv\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 600,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}", "run": "PPO"}, "env": "MultiWaveAttenuationMergePOEnv-v0_[eta1, eta2, eta3]:[1.0, 0.1, 0.1]_t_min:1.0_buf_len: 1", "optimizer": {}, "num_workers": 20, "num_cpus_for_driver": 1, "lr_schedule": null, "batch_mode": "truncate_episodes"}, "time_this_iter_s": 48.235291719436646, "timesteps_since_restore": 8688140, "info": {"update_time_ms": 8.596, "num_steps_sampled": 8688140, "sample_time_ms": 33015.094, "grad_time_ms": 16974.855, "default": {"entropy": 1.5600861310958862, "kl": 0.014516999945044518, "vf_loss": 31.754724502563477, "vf_explained_var": 0.8304665088653564, "policy_loss": -0.010778820142149925, "total_loss": 31.74884605407715, "cur_lr": 0.0005000000237487257, "cur_kl_coeff": 0.33750003576278687}, "num_steps_trained": 8688140, "load_time_ms": 10.553}, "time_total_s": 6597.049026966095, "num_metric_batches_dropped": 0, "timestamp": 1558313091, "episode_reward_max": 1319.1887385630587, "timesteps_this_iter": 64229, "episode_reward_min": 28.655758213918148, "date": "2019-05-20_00-44-51", "policy_reward_mean": {}, "time_since_restore": 6597.049026966095, "episodes_total": 3684, "iterations_since_restore": 130, "pid": 46880, "episodes_this_iter": 29, "episode_len_mean": 693.19, "done": false, "training_iteration": 130, "custom_metrics": {"cost2_mean": -0.09081375773983077, "outflow_rate_mean": 1106.4064590783266, "cost2_min": -0.933878605873, "system_level_velocity_mean": 13.296042008772996, "cost1_min": 12.46015189508527, "cost1_mean": 339.74440243806663, "cost1_max": 479.3606099539943, "outflow_rate_max": 1366.1929766375604, "system_level_velocity_max": 18.459704868714137, "outflow_rate_min": 467.63246017283916, "cost2_max": 0.0, "system_level_velocity_min": 9.450956335063633}, "node_ip": "10.138.0.2", "timesteps_total": 8688140}
{"hostname": "flow-main", "episode_reward_mean": 989.5263082590855, "experiment_id": "383e98f8614b4235818372cc4d63f9e0", "config": {"use_gae": true, "tf_session_args": {"allow_soft_placement": true, "gpu_options": {"allow_growth": true}, "inter_op_parallelism_threads": 2, "device_count": {"CPU": 1}, "intra_op_parallelism_threads": 2, "log_device_placement": false}, "entropy_coeff": 0.0, "kl_coeff": 0.2, "num_gpus_per_worker": 0, "monitor": false, "input_evaluation": null, "clip_rewards": null, "vf_share_layers": false, "straggler_mitigation": false, "log_level": "INFO", "clip_actions": false, "simple_optimizer": false, "sample_batch_size": 750, "vf_clip_param": 1000000.0, "custom_resources_per_worker": {}, "lr": 0.0005, "num_sgd_iter": 10, "model": {"grayscale": false, "dim": 84, "custom_model": null, "free_log_std": false, "custom_options": {}, "lstm_cell_size": 256, "framestack": true, "squash_to_range": false, "conv_filters": null, "channel_major": false, "custom_preprocessor": null, "fcnet_hiddens": [128, 64, 32], "max_seq_len": 20, "lstm_use_prev_action_reward": false, "conv_activation": "relu", "use_lstm": false, "zero_mean": true, "fcnet_activation": "tanh"}, "input": "sampler", "horizon": 1500, "vf_loss_coeff": 1.0, "compress_observations": false, "num_envs_per_worker": 1, "sample_async": false, "num_gpus": 0, "output_max_file_size": 67108864, "lambda": 0.97, "multiagent": {"policy_graphs": {}, "policies_to_train": null, "policy_mapping_fn": null}, "output": null, "num_cpus_per_worker": 1, "preprocessor_pref": "deepmind", "clip_param": 0.3, "kl_target": 0.01, "output_compress_columns": ["obs", "new_obs"], "collect_metrics_timeout": 180, "sgd_minibatch_size": 128, "train_batch_size": 30000, "callbacks": {"on_sample_end": null, "on_train_result": null, "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7f2c02897668>", "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7f2c02897438>", "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7f2c02897ef0>"}, "observation_filter": "MeanStdFilter", "synchronize_filters": true, "gamma": 0.99, "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "env_config": {"flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"buf_length\": 1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.1,\n            \"eta3\": 0.1,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 1.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnv\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 600,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}", "run": "PPO"}, "env": "MultiWaveAttenuationMergePOEnv-v0_[eta1, eta2, eta3]:[1.0, 0.1, 0.1]_t_min:1.0_buf_len: 1", "optimizer": {}, "num_workers": 20, "num_cpus_for_driver": 1, "lr_schedule": null, "batch_mode": "truncate_episodes"}, "time_this_iter_s": 49.61590909957886, "timesteps_since_restore": 8753219, "info": {"update_time_ms": 8.606, "num_steps_sampled": 8753219, "sample_time_ms": 32919.026, "grad_time_ms": 16974.925, "default": {"entropy": 1.565933108329773, "kl": 0.014677715487778187, "vf_loss": 31.530792236328125, "vf_explained_var": 0.8138264417648315, "policy_loss": -0.011026307009160519, "total_loss": 31.524717330932617, "cur_lr": 0.0005000000237487257, "cur_kl_coeff": 0.33750006556510925}, "num_steps_trained": 8753219, "load_time_ms": 10.427}, "time_total_s": 6646.664936065674, "num_metric_batches_dropped": 0, "timestamp": 1558313140, "episode_reward_max": 1319.1887385630587, "timesteps_this_iter": 65079, "episode_reward_min": 28.655758213918148, "date": "2019-05-20_00-45-40", "policy_reward_mean": {}, "time_since_restore": 6646.664936065674, "episodes_total": 3712, "iterations_since_restore": 131, "pid": 46880, "episodes_this_iter": 28, "episode_len_mean": 687.46, "done": false, "training_iteration": 131, "custom_metrics": {"cost2_mean": -0.09493770375211304, "outflow_rate_mean": 1097.1687970062083, "cost2_min": -0.933878605873, "system_level_velocity_mean": 13.28859805571544, "cost1_min": 12.46015189508527, "cost1_mean": 335.3982140088846, "cost1_max": 475.07401623850757, "outflow_rate_max": 1359.0321461257706, "system_level_velocity_max": 19.03468835533735, "outflow_rate_min": 467.63246017283916, "cost2_max": 0.0, "system_level_velocity_min": 9.450956335063633}, "node_ip": "10.138.0.2", "timesteps_total": 8753219}
{"hostname": "flow-main", "episode_reward_mean": 984.3846555616276, "experiment_id": "383e98f8614b4235818372cc4d63f9e0", "config": {"use_gae": true, "tf_session_args": {"allow_soft_placement": true, "gpu_options": {"allow_growth": true}, "inter_op_parallelism_threads": 2, "device_count": {"CPU": 1}, "intra_op_parallelism_threads": 2, "log_device_placement": false}, "entropy_coeff": 0.0, "kl_coeff": 0.2, "num_gpus_per_worker": 0, "monitor": false, "input_evaluation": null, "clip_rewards": null, "vf_share_layers": false, "straggler_mitigation": false, "log_level": "INFO", "clip_actions": false, "simple_optimizer": false, "sample_batch_size": 750, "vf_clip_param": 1000000.0, "custom_resources_per_worker": {}, "lr": 0.0005, "num_sgd_iter": 10, "model": {"grayscale": false, "dim": 84, "custom_model": null, "free_log_std": false, "custom_options": {}, "lstm_cell_size": 256, "framestack": true, "squash_to_range": false, "conv_filters": null, "channel_major": false, "custom_preprocessor": null, "fcnet_hiddens": [128, 64, 32], "max_seq_len": 20, "lstm_use_prev_action_reward": false, "conv_activation": "relu", "use_lstm": false, "zero_mean": true, "fcnet_activation": "tanh"}, "input": "sampler", "horizon": 1500, "vf_loss_coeff": 1.0, "compress_observations": false, "num_envs_per_worker": 1, "sample_async": false, "num_gpus": 0, "output_max_file_size": 67108864, "lambda": 0.97, "multiagent": {"policy_graphs": {}, "policies_to_train": null, "policy_mapping_fn": null}, "output": null, "num_cpus_per_worker": 1, "preprocessor_pref": "deepmind", "clip_param": 0.3, "kl_target": 0.01, "output_compress_columns": ["obs", "new_obs"], "collect_metrics_timeout": 180, "sgd_minibatch_size": 128, "train_batch_size": 30000, "callbacks": {"on_sample_end": null, "on_train_result": null, "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7f2c028a9470>", "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7f2c028a9518>", "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7f2c028a99b0>"}, "observation_filter": "MeanStdFilter", "synchronize_filters": true, "gamma": 0.99, "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "env_config": {"flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"buf_length\": 1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.1,\n            \"eta3\": 0.1,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 1.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnv\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 600,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}", "run": "PPO"}, "env": "MultiWaveAttenuationMergePOEnv-v0_[eta1, eta2, eta3]:[1.0, 0.1, 0.1]_t_min:1.0_buf_len: 1", "optimizer": {}, "num_workers": 20, "num_cpus_for_driver": 1, "lr_schedule": null, "batch_mode": "truncate_episodes"}, "time_this_iter_s": 70.16235995292664, "timesteps_since_restore": 8819904, "info": {"update_time_ms": 8.22, "num_steps_sampled": 8819904, "sample_time_ms": 33971.38, "grad_time_ms": 17837.879, "default": {"entropy": 1.5884214639663696, "kl": 0.01567738503217697, "vf_loss": 28.217432022094727, "vf_explained_var": 0.8174344301223755, "policy_loss": -0.011493533849716187, "total_loss": 28.211231231689453, "cur_lr": 0.0005000000237487257, "cur_kl_coeff": 0.33750006556510925}, "num_steps_trained": 8819904, "load_time_ms": 11.663}, "time_total_s": 6716.8272960186005, "num_metric_batches_dropped": 0, "timestamp": 1558313210, "episode_reward_max": 1290.6036295307347, "timesteps_this_iter": 66685, "episode_reward_min": 28.655758213918148, "date": "2019-05-20_00-46-50", "policy_reward_mean": {}, "time_since_restore": 6716.8272960186005, "episodes_total": 3740, "iterations_since_restore": 132, "pid": 46880, "episodes_this_iter": 28, "episode_len_mean": 687.46, "done": false, "training_iteration": 132, "custom_metrics": {"cost2_mean": -0.09417032171864718, "outflow_rate_mean": 1098.2690039397346, "cost2_min": -0.933878605873, "system_level_velocity_mean": 13.294572837205715, "cost1_min": 12.46015189508527, "cost1_mean": 335.80693112432317, "cost1_max": 475.07401623850757, "outflow_rate_max": 1359.0321461257706, "system_level_velocity_max": 19.03468835533735, "outflow_rate_min": 467.63246017283916, "cost2_max": 0.0, "system_level_velocity_min": 10.405621845584397}, "node_ip": "10.138.0.2", "timesteps_total": 8819904}
{"hostname": "flow-main", "episode_reward_mean": 988.4397181843525, "experiment_id": "383e98f8614b4235818372cc4d63f9e0", "config": {"use_gae": true, "tf_session_args": {"allow_soft_placement": true, "gpu_options": {"allow_growth": true}, "inter_op_parallelism_threads": 2, "device_count": {"CPU": 1}, "intra_op_parallelism_threads": 2, "log_device_placement": false}, "entropy_coeff": 0.0, "kl_coeff": 0.2, "num_gpus_per_worker": 0, "monitor": false, "input_evaluation": null, "clip_rewards": null, "vf_share_layers": false, "straggler_mitigation": false, "log_level": "INFO", "clip_actions": false, "simple_optimizer": false, "sample_batch_size": 750, "vf_clip_param": 1000000.0, "custom_resources_per_worker": {}, "lr": 0.0005, "num_sgd_iter": 10, "model": {"grayscale": false, "dim": 84, "custom_model": null, "free_log_std": false, "custom_options": {}, "lstm_cell_size": 256, "framestack": true, "squash_to_range": false, "conv_filters": null, "channel_major": false, "custom_preprocessor": null, "fcnet_hiddens": [128, 64, 32], "max_seq_len": 20, "lstm_use_prev_action_reward": false, "conv_activation": "relu", "use_lstm": false, "zero_mean": true, "fcnet_activation": "tanh"}, "input": "sampler", "horizon": 1500, "vf_loss_coeff": 1.0, "compress_observations": false, "num_envs_per_worker": 1, "sample_async": false, "num_gpus": 0, "output_max_file_size": 67108864, "lambda": 0.97, "multiagent": {"policy_graphs": {}, "policies_to_train": null, "policy_mapping_fn": null}, "output": null, "num_cpus_per_worker": 1, "preprocessor_pref": "deepmind", "clip_param": 0.3, "kl_target": 0.01, "output_compress_columns": ["obs", "new_obs"], "collect_metrics_timeout": 180, "sgd_minibatch_size": 128, "train_batch_size": 30000, "callbacks": {"on_sample_end": null, "on_train_result": null, "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7f2c02d333c8>", "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7f2c02d33908>", "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7f2c02d338d0>"}, "observation_filter": "MeanStdFilter", "synchronize_filters": true, "gamma": 0.99, "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "env_config": {"flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"buf_length\": 1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.1,\n            \"eta3\": 0.1,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 1.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnv\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 600,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}", "run": "PPO"}, "env": "MultiWaveAttenuationMergePOEnv-v0_[eta1, eta2, eta3]:[1.0, 0.1, 0.1]_t_min:1.0_buf_len: 1", "optimizer": {}, "num_workers": 20, "num_cpus_for_driver": 1, "lr_schedule": null, "batch_mode": "truncate_episodes"}, "time_this_iter_s": 49.186641693115234, "timesteps_since_restore": 8884335, "info": {"update_time_ms": 8.369, "num_steps_sampled": 8884335, "sample_time_ms": 33922.904, "grad_time_ms": 17561.365, "default": {"entropy": 1.559918761253357, "kl": 0.015159882605075836, "vf_loss": 33.84722900390625, "vf_explained_var": 0.818177342414856, "policy_loss": -0.009891229681670666, "total_loss": 33.84245300292969, "cur_lr": 0.0005000000237487257, "cur_kl_coeff": 0.33750003576278687}, "num_steps_trained": 8884335, "load_time_ms": 11.769}, "time_total_s": 6766.013937711716, "num_metric_batches_dropped": 0, "timestamp": 1558313260, "episode_reward_max": 1358.3542809708733, "timesteps_this_iter": 64431, "episode_reward_min": 200.6134349430547, "date": "2019-05-20_00-47-40", "policy_reward_mean": {}, "time_since_restore": 6766.013937711716, "episodes_total": 3770, "iterations_since_restore": 133, "pid": 46880, "episodes_this_iter": 30, "episode_len_mean": 694.27, "done": false, "training_iteration": 133, "custom_metrics": {"cost2_mean": -0.09618100281477143, "outflow_rate_mean": 1098.397557657973, "cost2_min": -1.4439647020031787, "system_level_velocity_mean": 13.11310873361336, "cost1_min": 88.6270257591187, "cost1_mean": 335.1343898535931, "cost1_max": 473.2688196029761, "outflow_rate_max": 1360.3545432676763, "system_level_velocity_max": 19.03468835533735, "outflow_rate_min": 732.3448973468139, "cost2_max": 0.0, "system_level_velocity_min": 8.946590013702833}, "node_ip": "10.138.0.2", "timesteps_total": 8884335}
{"hostname": "flow-main", "episode_reward_mean": 986.7236248587252, "experiment_id": "383e98f8614b4235818372cc4d63f9e0", "config": {"use_gae": true, "tf_session_args": {"allow_soft_placement": true, "gpu_options": {"allow_growth": true}, "inter_op_parallelism_threads": 2, "device_count": {"CPU": 1}, "intra_op_parallelism_threads": 2, "log_device_placement": false}, "entropy_coeff": 0.0, "kl_coeff": 0.2, "num_gpus_per_worker": 0, "monitor": false, "input_evaluation": null, "clip_rewards": null, "vf_share_layers": false, "straggler_mitigation": false, "log_level": "INFO", "clip_actions": false, "simple_optimizer": false, "sample_batch_size": 750, "vf_clip_param": 1000000.0, "custom_resources_per_worker": {}, "lr": 0.0005, "num_sgd_iter": 10, "model": {"grayscale": false, "dim": 84, "custom_model": null, "free_log_std": false, "custom_options": {}, "lstm_cell_size": 256, "framestack": true, "squash_to_range": false, "conv_filters": null, "channel_major": false, "custom_preprocessor": null, "fcnet_hiddens": [128, 64, 32], "max_seq_len": 20, "lstm_use_prev_action_reward": false, "conv_activation": "relu", "use_lstm": false, "zero_mean": true, "fcnet_activation": "tanh"}, "input": "sampler", "horizon": 1500, "vf_loss_coeff": 1.0, "compress_observations": false, "num_envs_per_worker": 1, "sample_async": false, "num_gpus": 0, "output_max_file_size": 67108864, "lambda": 0.97, "multiagent": {"policy_graphs": {}, "policies_to_train": null, "policy_mapping_fn": null}, "output": null, "num_cpus_per_worker": 1, "preprocessor_pref": "deepmind", "clip_param": 0.3, "kl_target": 0.01, "output_compress_columns": ["obs", "new_obs"], "collect_metrics_timeout": 180, "sgd_minibatch_size": 128, "train_batch_size": 30000, "callbacks": {"on_sample_end": null, "on_train_result": null, "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7f2c02898630>", "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7f2c028987b8>", "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7f2c02898940>"}, "observation_filter": "MeanStdFilter", "synchronize_filters": true, "gamma": 0.99, "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "env_config": {"flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"buf_length\": 1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.1,\n            \"eta3\": 0.1,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 1.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnv\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 600,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}", "run": "PPO"}, "env": "MultiWaveAttenuationMergePOEnv-v0_[eta1, eta2, eta3]:[1.0, 0.1, 0.1]_t_min:1.0_buf_len: 1", "optimizer": {}, "num_workers": 20, "num_cpus_for_driver": 1, "lr_schedule": null, "batch_mode": "truncate_episodes"}, "time_this_iter_s": 49.61142945289612, "timesteps_since_restore": 8947920, "info": {"update_time_ms": 8.329, "num_steps_sampled": 8947920, "sample_time_ms": 33824.874, "grad_time_ms": 17357.102, "default": {"entropy": 1.595194935798645, "kl": 0.015915200114250183, "vf_loss": 30.054628372192383, "vf_explained_var": 0.8382821679115295, "policy_loss": -0.014126037247478962, "total_loss": 30.045875549316406, "cur_lr": 0.0005000000237487257, "cur_kl_coeff": 0.33750003576278687}, "num_steps_trained": 8947920, "load_time_ms": 11.745}, "time_total_s": 6815.625367164612, "num_metric_batches_dropped": 0, "timestamp": 1558313309, "episode_reward_max": 1358.3542809708733, "timesteps_this_iter": 63585, "episode_reward_min": 34.980287157453276, "date": "2019-05-20_00-48-29", "policy_reward_mean": {}, "time_since_restore": 6815.625367164612, "episodes_total": 3798, "iterations_since_restore": 134, "pid": 46880, "episodes_this_iter": 28, "episode_len_mean": 693.19, "done": false, "training_iteration": 134, "custom_metrics": {"cost2_mean": -0.0889065726611474, "outflow_rate_mean": 1096.6264943762017, "cost2_min": -1.4439647020031787, "system_level_velocity_mean": 13.09086242966563, "cost1_min": 12.416531938121942, "cost1_mean": 334.4784469379829, "cost1_max": 487.86164671834786, "outflow_rate_max": 1360.3545432676763, "system_level_velocity_max": 18.536606307656587, "outflow_rate_min": 467.7500288525429, "cost2_max": 0.0, "system_level_velocity_min": 8.946590013702833}, "node_ip": "10.138.0.2", "timesteps_total": 8947920}
{"hostname": "flow-main", "episode_reward_mean": 967.3368563203735, "experiment_id": "383e98f8614b4235818372cc4d63f9e0", "config": {"use_gae": true, "tf_session_args": {"allow_soft_placement": true, "gpu_options": {"allow_growth": true}, "inter_op_parallelism_threads": 2, "device_count": {"CPU": 1}, "intra_op_parallelism_threads": 2, "log_device_placement": false}, "entropy_coeff": 0.0, "kl_coeff": 0.2, "num_gpus_per_worker": 0, "monitor": false, "input_evaluation": null, "clip_rewards": null, "vf_share_layers": false, "straggler_mitigation": false, "log_level": "INFO", "clip_actions": false, "simple_optimizer": false, "sample_batch_size": 750, "vf_clip_param": 1000000.0, "custom_resources_per_worker": {}, "lr": 0.0005, "num_sgd_iter": 10, "model": {"grayscale": false, "dim": 84, "custom_model": null, "free_log_std": false, "custom_options": {}, "lstm_cell_size": 256, "framestack": true, "squash_to_range": false, "conv_filters": null, "channel_major": false, "custom_preprocessor": null, "fcnet_hiddens": [128, 64, 32], "max_seq_len": 20, "lstm_use_prev_action_reward": false, "conv_activation": "relu", "use_lstm": false, "zero_mean": true, "fcnet_activation": "tanh"}, "input": "sampler", "horizon": 1500, "vf_loss_coeff": 1.0, "compress_observations": false, "num_envs_per_worker": 1, "sample_async": false, "num_gpus": 0, "output_max_file_size": 67108864, "lambda": 0.97, "multiagent": {"policy_graphs": {}, "policies_to_train": null, "policy_mapping_fn": null}, "output": null, "num_cpus_per_worker": 1, "preprocessor_pref": "deepmind", "clip_param": 0.3, "kl_target": 0.01, "output_compress_columns": ["obs", "new_obs"], "collect_metrics_timeout": 180, "sgd_minibatch_size": 128, "train_batch_size": 30000, "callbacks": {"on_sample_end": null, "on_train_result": null, "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7f2c028a8a90>", "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7f2c0288ed68>", "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7f2c0288e6d8>"}, "observation_filter": "MeanStdFilter", "synchronize_filters": true, "gamma": 0.99, "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "env_config": {"flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"buf_length\": 1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.1,\n            \"eta3\": 0.1,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 1.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnv\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 600,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}", "run": "PPO"}, "env": "MultiWaveAttenuationMergePOEnv-v0_[eta1, eta2, eta3]:[1.0, 0.1, 0.1]_t_min:1.0_buf_len: 1", "optimizer": {}, "num_workers": 20, "num_cpus_for_driver": 1, "lr_schedule": null, "batch_mode": "truncate_episodes"}, "time_this_iter_s": 50.29888844490051, "timesteps_since_restore": 9012253, "info": {"update_time_ms": 8.089, "num_steps_sampled": 9012253, "sample_time_ms": 33982.861, "grad_time_ms": 17307.77, "default": {"entropy": 1.59980046749115, "kl": 0.01613735407590866, "vf_loss": 33.567047119140625, "vf_explained_var": 0.8048025369644165, "policy_loss": -0.011467690579593182, "total_loss": 33.56102752685547, "cur_lr": 0.0005000000237487257, "cur_kl_coeff": 0.33750003576278687}, "num_steps_trained": 9012253, "load_time_ms": 11.541}, "time_total_s": 6865.924255609512, "num_metric_batches_dropped": 0, "timestamp": 1558313360, "episode_reward_max": 1358.3542809708733, "timesteps_this_iter": 64333, "episode_reward_min": 34.980287157453276, "date": "2019-05-20_00-49-20", "policy_reward_mean": {}, "time_since_restore": 6865.924255609512, "episodes_total": 3829, "iterations_since_restore": 135, "pid": 46880, "episodes_this_iter": 31, "episode_len_mean": 686.48, "done": false, "training_iteration": 135, "custom_metrics": {"cost2_mean": -0.0857562757673067, "outflow_rate_mean": 1088.9683524459506, "cost2_min": -1.4439647020031787, "system_level_velocity_mean": 13.136096344136863, "cost1_min": 12.416531938121942, "cost1_mean": 331.03637572985247, "cost1_max": 487.86164671834786, "outflow_rate_max": 1360.3545432676763, "system_level_velocity_max": 18.536606307656587, "outflow_rate_min": 467.7500288525429, "cost2_max": 0.0, "system_level_velocity_min": 8.946590013702833}, "node_ip": "10.138.0.2", "timesteps_total": 9012253}
{"hostname": "flow-main", "episode_reward_mean": 951.6443888262156, "experiment_id": "383e98f8614b4235818372cc4d63f9e0", "config": {"use_gae": true, "tf_session_args": {"allow_soft_placement": true, "gpu_options": {"allow_growth": true}, "inter_op_parallelism_threads": 2, "device_count": {"CPU": 1}, "intra_op_parallelism_threads": 2, "log_device_placement": false}, "entropy_coeff": 0.0, "kl_coeff": 0.2, "num_gpus_per_worker": 0, "monitor": false, "input_evaluation": null, "clip_rewards": null, "vf_share_layers": false, "straggler_mitigation": false, "log_level": "INFO", "clip_actions": false, "simple_optimizer": false, "sample_batch_size": 750, "vf_clip_param": 1000000.0, "custom_resources_per_worker": {}, "lr": 0.0005, "num_sgd_iter": 10, "model": {"grayscale": false, "dim": 84, "custom_model": null, "free_log_std": false, "custom_options": {}, "lstm_cell_size": 256, "framestack": true, "squash_to_range": false, "conv_filters": null, "channel_major": false, "custom_preprocessor": null, "fcnet_hiddens": [128, 64, 32], "max_seq_len": 20, "lstm_use_prev_action_reward": false, "conv_activation": "relu", "use_lstm": false, "zero_mean": true, "fcnet_activation": "tanh"}, "input": "sampler", "horizon": 1500, "vf_loss_coeff": 1.0, "compress_observations": false, "num_envs_per_worker": 1, "sample_async": false, "num_gpus": 0, "output_max_file_size": 67108864, "lambda": 0.97, "multiagent": {"policy_graphs": {}, "policies_to_train": null, "policy_mapping_fn": null}, "output": null, "num_cpus_per_worker": 1, "preprocessor_pref": "deepmind", "clip_param": 0.3, "kl_target": 0.01, "output_compress_columns": ["obs", "new_obs"], "collect_metrics_timeout": 180, "sgd_minibatch_size": 128, "train_batch_size": 30000, "callbacks": {"on_sample_end": null, "on_train_result": null, "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7f2c02897fd0>", "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7f2c02897438>", "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7f2c02897240>"}, "observation_filter": "MeanStdFilter", "synchronize_filters": true, "gamma": 0.99, "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "env_config": {"flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"buf_length\": 1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.1,\n            \"eta3\": 0.1,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 1.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnv\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 600,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}", "run": "PPO"}, "env": "MultiWaveAttenuationMergePOEnv-v0_[eta1, eta2, eta3]:[1.0, 0.1, 0.1]_t_min:1.0_buf_len: 1", "optimizer": {}, "num_workers": 20, "num_cpus_for_driver": 1, "lr_schedule": null, "batch_mode": "truncate_episodes"}, "time_this_iter_s": 51.198559284210205, "timesteps_since_restore": 9076723, "info": {"update_time_ms": 8.076, "num_steps_sampled": 9076723, "sample_time_ms": 34175.048, "grad_time_ms": 17115.507, "default": {"entropy": 1.5934926271438599, "kl": 0.015459873713552952, "vf_loss": 32.049766540527344, "vf_explained_var": 0.8201741576194763, "policy_loss": -0.011952565051615238, "total_loss": 32.043033599853516, "cur_lr": 0.0005000000237487257, "cur_kl_coeff": 0.33750003576278687}, "num_steps_trained": 9076723, "load_time_ms": 11.845}, "time_total_s": 6917.1228148937225, "num_metric_batches_dropped": 0, "timestamp": 1558313411, "episode_reward_max": 1358.3542809708733, "timesteps_this_iter": 64470, "episode_reward_min": 34.980287157453276, "date": "2019-05-20_00-50-11", "policy_reward_mean": {}, "time_since_restore": 6917.1228148937225, "episodes_total": 3857, "iterations_since_restore": 136, "pid": 46880, "episodes_this_iter": 28, "episode_len_mean": 679.76, "done": false, "training_iteration": 136, "custom_metrics": {"cost2_mean": -0.09234351746031001, "outflow_rate_mean": 1072.2933688984601, "cost2_min": -1.4439647020031787, "system_level_velocity_mean": 13.042855834840946, "cost1_min": 12.416531938121942, "cost1_mean": 323.4687503851815, "cost1_max": 487.86164671834786, "outflow_rate_max": 1351.9860250294357, "system_level_velocity_max": 18.536606307656587, "outflow_rate_min": 467.7500288525429, "cost2_max": 0.0, "system_level_velocity_min": 8.946590013702833}, "node_ip": "10.138.0.2", "timesteps_total": 9076723}
{"hostname": "flow-main", "episode_reward_mean": 951.561685468996, "experiment_id": "383e98f8614b4235818372cc4d63f9e0", "config": {"use_gae": true, "tf_session_args": {"allow_soft_placement": true, "gpu_options": {"allow_growth": true}, "inter_op_parallelism_threads": 2, "device_count": {"CPU": 1}, "intra_op_parallelism_threads": 2, "log_device_placement": false}, "entropy_coeff": 0.0, "kl_coeff": 0.2, "num_gpus_per_worker": 0, "monitor": false, "input_evaluation": null, "clip_rewards": null, "vf_share_layers": false, "straggler_mitigation": false, "log_level": "INFO", "clip_actions": false, "simple_optimizer": false, "sample_batch_size": 750, "vf_clip_param": 1000000.0, "custom_resources_per_worker": {}, "lr": 0.0005, "num_sgd_iter": 10, "model": {"grayscale": false, "dim": 84, "custom_model": null, "free_log_std": false, "custom_options": {}, "lstm_cell_size": 256, "framestack": true, "squash_to_range": false, "conv_filters": null, "channel_major": false, "custom_preprocessor": null, "fcnet_hiddens": [128, 64, 32], "max_seq_len": 20, "lstm_use_prev_action_reward": false, "conv_activation": "relu", "use_lstm": false, "zero_mean": true, "fcnet_activation": "tanh"}, "input": "sampler", "horizon": 1500, "vf_loss_coeff": 1.0, "compress_observations": false, "num_envs_per_worker": 1, "sample_async": false, "num_gpus": 0, "output_max_file_size": 67108864, "lambda": 0.97, "multiagent": {"policy_graphs": {}, "policies_to_train": null, "policy_mapping_fn": null}, "output": null, "num_cpus_per_worker": 1, "preprocessor_pref": "deepmind", "clip_param": 0.3, "kl_target": 0.01, "output_compress_columns": ["obs", "new_obs"], "collect_metrics_timeout": 180, "sgd_minibatch_size": 128, "train_batch_size": 30000, "callbacks": {"on_sample_end": null, "on_train_result": null, "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7f2c02ceceb8>", "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7f2c02cec080>", "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7f2c02cec400>"}, "observation_filter": "MeanStdFilter", "synchronize_filters": true, "gamma": 0.99, "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "env_config": {"flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"buf_length\": 1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.1,\n            \"eta3\": 0.1,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 1.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnv\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 600,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}", "run": "PPO"}, "env": "MultiWaveAttenuationMergePOEnv-v0_[eta1, eta2, eta3]:[1.0, 0.1, 0.1]_t_min:1.0_buf_len: 1", "optimizer": {}, "num_workers": 20, "num_cpus_for_driver": 1, "lr_schedule": null, "batch_mode": "truncate_episodes"}, "time_this_iter_s": 50.590492963790894, "timesteps_since_restore": 9141733, "info": {"update_time_ms": 7.823, "num_steps_sampled": 9141733, "sample_time_ms": 34487.317, "grad_time_ms": 16949.814, "default": {"entropy": 1.5801501274108887, "kl": 0.01539519801735878, "vf_loss": 34.85071563720703, "vf_explained_var": 0.8279140591621399, "policy_loss": -0.011337876319885254, "total_loss": 34.844573974609375, "cur_lr": 0.0005000000237487257, "cur_kl_coeff": 0.33750003576278687}, "num_steps_trained": 9141733, "load_time_ms": 11.779}, "time_total_s": 6967.713307857513, "num_metric_batches_dropped": 0, "timestamp": 1558313462, "episode_reward_max": 1249.3581946996871, "timesteps_this_iter": 65010, "episode_reward_min": 41.53121487823158, "date": "2019-05-20_00-51-02", "policy_reward_mean": {}, "time_since_restore": 6967.713307857513, "episodes_total": 3886, "iterations_since_restore": 137, "pid": 46880, "episodes_this_iter": 29, "episode_len_mean": 679.95, "done": false, "training_iteration": 137, "custom_metrics": {"cost2_mean": -0.0771199890567794, "outflow_rate_mean": 1077.5552800675198, "cost2_min": -0.6000000000000001, "system_level_velocity_mean": 13.159729177983577, "cost1_min": 18.89328813129189, "cost1_mean": 326.3675744649337, "cost1_max": 487.86164671834786, "outflow_rate_max": 1353.420343341132, "system_level_velocity_max": 18.536606307656587, "outflow_rate_min": 493.642108631002, "cost2_max": 0.0, "system_level_velocity_min": 9.462421191837052}, "node_ip": "10.138.0.2", "timesteps_total": 9141733}
{"hostname": "flow-main", "episode_reward_mean": 966.5816013442361, "experiment_id": "383e98f8614b4235818372cc4d63f9e0", "config": {"use_gae": true, "tf_session_args": {"allow_soft_placement": true, "gpu_options": {"allow_growth": true}, "inter_op_parallelism_threads": 2, "device_count": {"CPU": 1}, "intra_op_parallelism_threads": 2, "log_device_placement": false}, "entropy_coeff": 0.0, "kl_coeff": 0.2, "num_gpus_per_worker": 0, "monitor": false, "input_evaluation": null, "clip_rewards": null, "vf_share_layers": false, "straggler_mitigation": false, "log_level": "INFO", "clip_actions": false, "simple_optimizer": false, "sample_batch_size": 750, "vf_clip_param": 1000000.0, "custom_resources_per_worker": {}, "lr": 0.0005, "num_sgd_iter": 10, "model": {"grayscale": false, "dim": 84, "custom_model": null, "free_log_std": false, "custom_options": {}, "lstm_cell_size": 256, "framestack": true, "squash_to_range": false, "conv_filters": null, "channel_major": false, "custom_preprocessor": null, "fcnet_hiddens": [128, 64, 32], "max_seq_len": 20, "lstm_use_prev_action_reward": false, "conv_activation": "relu", "use_lstm": false, "zero_mean": true, "fcnet_activation": "tanh"}, "input": "sampler", "horizon": 1500, "vf_loss_coeff": 1.0, "compress_observations": false, "num_envs_per_worker": 1, "sample_async": false, "num_gpus": 0, "output_max_file_size": 67108864, "lambda": 0.97, "multiagent": {"policy_graphs": {}, "policies_to_train": null, "policy_mapping_fn": null}, "output": null, "num_cpus_per_worker": 1, "preprocessor_pref": "deepmind", "clip_param": 0.3, "kl_target": 0.01, "output_compress_columns": ["obs", "new_obs"], "collect_metrics_timeout": 180, "sgd_minibatch_size": 128, "train_batch_size": 30000, "callbacks": {"on_sample_end": null, "on_train_result": null, "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7f2c02d339b0>", "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7f2c02d33e10>", "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7f2c02d337f0>"}, "observation_filter": "MeanStdFilter", "synchronize_filters": true, "gamma": 0.99, "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "env_config": {"flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"buf_length\": 1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.1,\n            \"eta3\": 0.1,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 1.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnv\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 600,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}", "run": "PPO"}, "env": "MultiWaveAttenuationMergePOEnv-v0_[eta1, eta2, eta3]:[1.0, 0.1, 0.1]_t_min:1.0_buf_len: 1", "optimizer": {}, "num_workers": 20, "num_cpus_for_driver": 1, "lr_schedule": null, "batch_mode": "truncate_episodes"}, "time_this_iter_s": 48.3771288394928, "timesteps_since_restore": 9206128, "info": {"update_time_ms": 7.713, "num_steps_sampled": 9206128, "sample_time_ms": 34543.143, "grad_time_ms": 16796.536, "default": {"entropy": 1.574971318244934, "kl": 0.014742509461939335, "vf_loss": 33.87000274658203, "vf_explained_var": 0.8488450050354004, "policy_loss": -0.011043345555663109, "total_loss": 33.86393356323242, "cur_lr": 0.0005000000237487257, "cur_kl_coeff": 0.33750003576278687}, "num_steps_trained": 9206128, "load_time_ms": 11.402}, "time_total_s": 7016.090436697006, "num_metric_batches_dropped": 0, "timestamp": 1558313510, "episode_reward_max": 1274.2001590277525, "timesteps_this_iter": 64395, "episode_reward_min": 41.53121487823158, "date": "2019-05-20_00-51-50", "policy_reward_mean": {}, "time_since_restore": 7016.090436697006, "episodes_total": 3914, "iterations_since_restore": 138, "pid": 46880, "episodes_this_iter": 28, "episode_len_mean": 679.95, "done": false, "training_iteration": 138, "custom_metrics": {"cost2_mean": -0.06842903011483349, "outflow_rate_mean": 1087.5724938097571, "cost2_min": -0.6504256972317202, "system_level_velocity_mean": 13.381174744805582, "cost1_min": 18.89328813129189, "cost1_mean": 332.0004485900637, "cost1_max": 495.6814751054475, "outflow_rate_max": 1353.580429054872, "system_level_velocity_max": 18.94480341762676, "outflow_rate_min": 493.642108631002, "cost2_max": 0.0, "system_level_velocity_min": 9.462421191837052}, "node_ip": "10.138.0.2", "timesteps_total": 9206128}
{"hostname": "flow-main", "episode_reward_mean": 981.9235990498256, "experiment_id": "383e98f8614b4235818372cc4d63f9e0", "config": {"use_gae": true, "tf_session_args": {"allow_soft_placement": true, "gpu_options": {"allow_growth": true}, "inter_op_parallelism_threads": 2, "device_count": {"CPU": 1}, "intra_op_parallelism_threads": 2, "log_device_placement": false}, "entropy_coeff": 0.0, "kl_coeff": 0.2, "num_gpus_per_worker": 0, "monitor": false, "input_evaluation": null, "clip_rewards": null, "vf_share_layers": false, "straggler_mitigation": false, "log_level": "INFO", "clip_actions": false, "simple_optimizer": false, "sample_batch_size": 750, "vf_clip_param": 1000000.0, "custom_resources_per_worker": {}, "lr": 0.0005, "num_sgd_iter": 10, "model": {"grayscale": false, "dim": 84, "custom_model": null, "free_log_std": false, "custom_options": {}, "lstm_cell_size": 256, "framestack": true, "squash_to_range": false, "conv_filters": null, "channel_major": false, "custom_preprocessor": null, "fcnet_hiddens": [128, 64, 32], "max_seq_len": 20, "lstm_use_prev_action_reward": false, "conv_activation": "relu", "use_lstm": false, "zero_mean": true, "fcnet_activation": "tanh"}, "input": "sampler", "horizon": 1500, "vf_loss_coeff": 1.0, "compress_observations": false, "num_envs_per_worker": 1, "sample_async": false, "num_gpus": 0, "output_max_file_size": 67108864, "lambda": 0.97, "multiagent": {"policy_graphs": {}, "policies_to_train": null, "policy_mapping_fn": null}, "output": null, "num_cpus_per_worker": 1, "preprocessor_pref": "deepmind", "clip_param": 0.3, "kl_target": 0.01, "output_compress_columns": ["obs", "new_obs"], "collect_metrics_timeout": 180, "sgd_minibatch_size": 128, "train_batch_size": 30000, "callbacks": {"on_sample_end": null, "on_train_result": null, "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7f2c02898dd8>", "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7f2c02898780>", "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7f2c028989e8>"}, "observation_filter": "MeanStdFilter", "synchronize_filters": true, "gamma": 0.99, "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "env_config": {"flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"buf_length\": 1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.1,\n            \"eta3\": 0.1,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 1.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnv\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 600,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}", "run": "PPO"}, "env": "MultiWaveAttenuationMergePOEnv-v0_[eta1, eta2, eta3]:[1.0, 0.1, 0.1]_t_min:1.0_buf_len: 1", "optimizer": {}, "num_workers": 20, "num_cpus_for_driver": 1, "lr_schedule": null, "batch_mode": "truncate_episodes"}, "time_this_iter_s": 51.89359998703003, "timesteps_since_restore": 9272257, "info": {"update_time_ms": 8.112, "num_steps_sampled": 9272257, "sample_time_ms": 34938.243, "grad_time_ms": 16836.332, "default": {"entropy": 1.6195255517959595, "kl": 0.015002737753093243, "vf_loss": 32.3961181640625, "vf_explained_var": 0.8115729093551636, "policy_loss": -0.010569960810244083, "total_loss": 32.39060974121094, "cur_lr": 0.0005000000237487257, "cur_kl_coeff": 0.33750003576278687}, "num_steps_trained": 9272257, "load_time_ms": 11.379}, "time_total_s": 7067.984036684036, "num_metric_batches_dropped": 0, "timestamp": 1558313562, "episode_reward_max": 1276.7358817568122, "timesteps_this_iter": 66129, "episode_reward_min": 41.53121487823158, "date": "2019-05-20_00-52-42", "policy_reward_mean": {}, "time_since_restore": 7067.984036684036, "episodes_total": 3942, "iterations_since_restore": 139, "pid": 46880, "episodes_this_iter": 28, "episode_len_mean": 686.66, "done": false, "training_iteration": 139, "custom_metrics": {"cost2_mean": -0.07582855237199917, "outflow_rate_mean": 1104.1845304437877, "cost2_min": -0.8270188774638252, "system_level_velocity_mean": 13.510609460895047, "cost1_min": 18.89328813129189, "cost1_mean": 339.7297164467662, "cost1_max": 495.6814751054475, "outflow_rate_max": 1366.8578868966229, "system_level_velocity_max": 18.94480341762676, "outflow_rate_min": 493.642108631002, "cost2_max": 0.0, "system_level_velocity_min": 9.462421191837052}, "node_ip": "10.138.0.2", "timesteps_total": 9272257}
{"hostname": "flow-main", "episode_reward_mean": 987.3980623607556, "experiment_id": "383e98f8614b4235818372cc4d63f9e0", "config": {"use_gae": true, "tf_session_args": {"allow_soft_placement": true, "gpu_options": {"allow_growth": true}, "inter_op_parallelism_threads": 2, "device_count": {"CPU": 1}, "intra_op_parallelism_threads": 2, "log_device_placement": false}, "entropy_coeff": 0.0, "kl_coeff": 0.2, "num_gpus_per_worker": 0, "monitor": false, "input_evaluation": null, "clip_rewards": null, "vf_share_layers": false, "straggler_mitigation": false, "log_level": "INFO", "clip_actions": false, "simple_optimizer": false, "sample_batch_size": 750, "vf_clip_param": 1000000.0, "custom_resources_per_worker": {}, "lr": 0.0005, "num_sgd_iter": 10, "model": {"grayscale": false, "dim": 84, "custom_model": null, "free_log_std": false, "custom_options": {}, "lstm_cell_size": 256, "framestack": true, "squash_to_range": false, "conv_filters": null, "channel_major": false, "custom_preprocessor": null, "fcnet_hiddens": [128, 64, 32], "max_seq_len": 20, "lstm_use_prev_action_reward": false, "conv_activation": "relu", "use_lstm": false, "zero_mean": true, "fcnet_activation": "tanh"}, "input": "sampler", "horizon": 1500, "vf_loss_coeff": 1.0, "compress_observations": false, "num_envs_per_worker": 1, "sample_async": false, "num_gpus": 0, "output_max_file_size": 67108864, "lambda": 0.97, "multiagent": {"policy_graphs": {}, "policies_to_train": null, "policy_mapping_fn": null}, "output": null, "num_cpus_per_worker": 1, "preprocessor_pref": "deepmind", "clip_param": 0.3, "kl_target": 0.01, "output_compress_columns": ["obs", "new_obs"], "collect_metrics_timeout": 180, "sgd_minibatch_size": 128, "train_batch_size": 30000, "callbacks": {"on_sample_end": null, "on_train_result": null, "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7f2c028979b0>", "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7f2c02897400>", "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7f2c02897780>"}, "observation_filter": "MeanStdFilter", "synchronize_filters": true, "gamma": 0.99, "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "env_config": {"flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"buf_length\": 1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.1,\n            \"eta3\": 0.1,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 1.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnv\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 600,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}", "run": "PPO"}, "env": "MultiWaveAttenuationMergePOEnv-v0_[eta1, eta2, eta3]:[1.0, 0.1, 0.1]_t_min:1.0_buf_len: 1", "optimizer": {}, "num_workers": 20, "num_cpus_for_driver": 1, "lr_schedule": null, "batch_mode": "truncate_episodes"}, "time_this_iter_s": 51.18736410140991, "timesteps_since_restore": 9339589, "info": {"update_time_ms": 8.141, "num_steps_sampled": 9339589, "sample_time_ms": 35124.436, "grad_time_ms": 16944.043, "default": {"entropy": 1.6205027103424072, "kl": 0.014859715476632118, "vf_loss": 27.75721549987793, "vf_explained_var": 0.8488113880157471, "policy_loss": -0.011637512594461441, "total_loss": 27.750593185424805, "cur_lr": 0.0005000000237487257, "cur_kl_coeff": 0.33750003576278687}, "num_steps_trained": 9339589, "load_time_ms": 11.429}, "time_total_s": 7119.171400785446, "num_metric_batches_dropped": 0, "timestamp": 1558313613, "episode_reward_max": 1276.7358817568122, "timesteps_this_iter": 67332, "episode_reward_min": 61.805266261247596, "date": "2019-05-20_00-53-33", "policy_reward_mean": {}, "time_since_restore": 7119.171400785446, "episodes_total": 3968, "iterations_since_restore": 140, "pid": 46880, "episodes_this_iter": 26, "episode_len_mean": 693.38, "done": false, "training_iteration": 140, "custom_metrics": {"cost2_mean": -0.08706321219045718, "outflow_rate_mean": 1094.9723796156602, "cost2_min": -0.8270188774638252, "system_level_velocity_mean": 13.15596264533384, "cost1_min": 25.552872421281265, "cost1_mean": 335.0068481826567, "cost1_max": 495.6814751054475, "outflow_rate_max": 1366.8578868966229, "system_level_velocity_max": 18.94480341762676, "outflow_rate_min": 523.7118570043469, "cost2_max": 0.0, "system_level_velocity_min": 9.462421191837052}, "node_ip": "10.138.0.2", "timesteps_total": 9339589}
{"hostname": "flow-main", "episode_reward_mean": 999.6980318416328, "experiment_id": "383e98f8614b4235818372cc4d63f9e0", "config": {"use_gae": true, "tf_session_args": {"allow_soft_placement": true, "gpu_options": {"allow_growth": true}, "inter_op_parallelism_threads": 2, "device_count": {"CPU": 1}, "intra_op_parallelism_threads": 2, "log_device_placement": false}, "entropy_coeff": 0.0, "kl_coeff": 0.2, "num_gpus_per_worker": 0, "monitor": false, "input_evaluation": null, "clip_rewards": null, "vf_share_layers": false, "straggler_mitigation": false, "log_level": "INFO", "clip_actions": false, "simple_optimizer": false, "sample_batch_size": 750, "vf_clip_param": 1000000.0, "custom_resources_per_worker": {}, "lr": 0.0005, "num_sgd_iter": 10, "model": {"grayscale": false, "dim": 84, "custom_model": null, "free_log_std": false, "custom_options": {}, "lstm_cell_size": 256, "framestack": true, "squash_to_range": false, "conv_filters": null, "channel_major": false, "custom_preprocessor": null, "fcnet_hiddens": [128, 64, 32], "max_seq_len": 20, "lstm_use_prev_action_reward": false, "conv_activation": "relu", "use_lstm": false, "zero_mean": true, "fcnet_activation": "tanh"}, "input": "sampler", "horizon": 1500, "vf_loss_coeff": 1.0, "compress_observations": false, "num_envs_per_worker": 1, "sample_async": false, "num_gpus": 0, "output_max_file_size": 67108864, "lambda": 0.97, "multiagent": {"policy_graphs": {}, "policies_to_train": null, "policy_mapping_fn": null}, "output": null, "num_cpus_per_worker": 1, "preprocessor_pref": "deepmind", "clip_param": 0.3, "kl_target": 0.01, "output_compress_columns": ["obs", "new_obs"], "collect_metrics_timeout": 180, "sgd_minibatch_size": 128, "train_batch_size": 30000, "callbacks": {"on_sample_end": null, "on_train_result": null, "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7f2c028b2208>", "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7f2c028b2710>", "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7f2c028b2c88>"}, "observation_filter": "MeanStdFilter", "synchronize_filters": true, "gamma": 0.99, "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "env_config": {"flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"buf_length\": 1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.1,\n            \"eta3\": 0.1,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 1.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnv\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 600,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}", "run": "PPO"}, "env": "MultiWaveAttenuationMergePOEnv-v0_[eta1, eta2, eta3]:[1.0, 0.1, 0.1]_t_min:1.0_buf_len: 1", "optimizer": {}, "num_workers": 20, "num_cpus_for_driver": 1, "lr_schedule": null, "batch_mode": "truncate_episodes"}, "time_this_iter_s": 51.01212930679321, "timesteps_since_restore": 9406107, "info": {"update_time_ms": 8.385, "num_steps_sampled": 9406107, "sample_time_ms": 35104.533, "grad_time_ms": 17102.694, "default": {"entropy": 1.631626009941101, "kl": 0.015425015240907669, "vf_loss": 32.09561538696289, "vf_explained_var": 0.8255608081817627, "policy_loss": -0.011615755036473274, "total_loss": 32.089210510253906, "cur_lr": 0.0005000000237487257, "cur_kl_coeff": 0.33750006556510925}, "num_steps_trained": 9406107, "load_time_ms": 11.403}, "time_total_s": 7170.183530092239, "num_metric_batches_dropped": 0, "timestamp": 1558313664, "episode_reward_max": 1276.7358817568122, "timesteps_this_iter": 66518, "episode_reward_min": 827.7228628832113, "date": "2019-05-20_00-54-24", "policy_reward_mean": {}, "time_since_restore": 7170.183530092239, "episodes_total": 3996, "iterations_since_restore": 141, "pid": 46880, "episodes_this_iter": 28, "episode_len_mean": 700.0, "done": false, "training_iteration": 141, "custom_metrics": {"cost2_mean": -0.08624937604722482, "outflow_rate_mean": 1100.6937715699082, "cost2_min": -0.8270188774638252, "system_level_velocity_mean": 13.105186247601475, "cost1_min": 256.40167737391187, "cost1_mean": 338.0581660950826, "cost1_max": 495.6814751054475, "outflow_rate_max": 1366.8578868966229, "system_level_velocity_max": 18.94480341762676, "outflow_rate_min": 925.9013740087331, "cost2_max": 0.0, "system_level_velocity_min": 9.992766693319028}, "node_ip": "10.138.0.2", "timesteps_total": 9406107}
{"hostname": "flow-main", "episode_reward_mean": 955.8698441359516, "experiment_id": "383e98f8614b4235818372cc4d63f9e0", "config": {"use_gae": true, "tf_session_args": {"allow_soft_placement": true, "gpu_options": {"allow_growth": true}, "inter_op_parallelism_threads": 2, "device_count": {"CPU": 1}, "intra_op_parallelism_threads": 2, "log_device_placement": false}, "entropy_coeff": 0.0, "kl_coeff": 0.2, "num_gpus_per_worker": 0, "monitor": false, "input_evaluation": null, "clip_rewards": null, "vf_share_layers": false, "straggler_mitigation": false, "log_level": "INFO", "clip_actions": false, "simple_optimizer": false, "sample_batch_size": 750, "vf_clip_param": 1000000.0, "custom_resources_per_worker": {}, "lr": 0.0005, "num_sgd_iter": 10, "model": {"grayscale": false, "dim": 84, "custom_model": null, "free_log_std": false, "custom_options": {}, "lstm_cell_size": 256, "framestack": true, "squash_to_range": false, "conv_filters": null, "channel_major": false, "custom_preprocessor": null, "fcnet_hiddens": [128, 64, 32], "max_seq_len": 20, "lstm_use_prev_action_reward": false, "conv_activation": "relu", "use_lstm": false, "zero_mean": true, "fcnet_activation": "tanh"}, "input": "sampler", "horizon": 1500, "vf_loss_coeff": 1.0, "compress_observations": false, "num_envs_per_worker": 1, "sample_async": false, "num_gpus": 0, "output_max_file_size": 67108864, "lambda": 0.97, "multiagent": {"policy_graphs": {}, "policies_to_train": null, "policy_mapping_fn": null}, "output": null, "num_cpus_per_worker": 1, "preprocessor_pref": "deepmind", "clip_param": 0.3, "kl_target": 0.01, "output_compress_columns": ["obs", "new_obs"], "collect_metrics_timeout": 180, "sgd_minibatch_size": 128, "train_batch_size": 30000, "callbacks": {"on_sample_end": null, "on_train_result": null, "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7f2c02897780>", "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7f2c028976d8>", "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7f2c02cfe080>"}, "observation_filter": "MeanStdFilter", "synchronize_filters": true, "gamma": 0.99, "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "env_config": {"flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"buf_length\": 1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.1,\n            \"eta3\": 0.1,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 1.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnv\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 600,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}", "run": "PPO"}, "env": "MultiWaveAttenuationMergePOEnv-v0_[eta1, eta2, eta3]:[1.0, 0.1, 0.1]_t_min:1.0_buf_len: 1", "optimizer": {}, "num_workers": 20, "num_cpus_for_driver": 1, "lr_schedule": null, "batch_mode": "truncate_episodes"}, "time_this_iter_s": 49.84035634994507, "timesteps_since_restore": 9470906, "info": {"update_time_ms": 8.515, "num_steps_sampled": 9470906, "sample_time_ms": 33815.282, "grad_time_ms": 16373.371, "default": {"entropy": 1.6257984638214111, "kl": 0.01503805723041296, "vf_loss": 35.84496307373047, "vf_explained_var": 0.8150349855422974, "policy_loss": -0.011351285502314568, "total_loss": 35.838687896728516, "cur_lr": 0.0005000000237487257, "cur_kl_coeff": 0.33750003576278687}, "num_steps_trained": 9470906, "load_time_ms": 9.86}, "time_total_s": 7220.023886442184, "num_metric_batches_dropped": 0, "timestamp": 1558313714, "episode_reward_max": 1276.7358817568122, "timesteps_this_iter": 64799, "episode_reward_min": 39.11225045650722, "date": "2019-05-20_00-55-14", "policy_reward_mean": {}, "time_since_restore": 7220.023886442184, "episodes_total": 4026, "iterations_since_restore": 142, "pid": 46880, "episodes_this_iter": 30, "episode_len_mean": 679.78, "done": false, "training_iteration": 142, "custom_metrics": {"cost2_mean": -0.06999383402153639, "outflow_rate_mean": 1064.027760901146, "cost2_min": -0.8, "system_level_velocity_mean": 12.849192836982702, "cost1_min": 15.448925813081697, "cost1_mean": 317.5037233330188, "cost1_max": 485.6614083302569, "outflow_rate_max": 1366.8578868966229, "system_level_velocity_max": 18.89780316247585, "outflow_rate_min": 466.71889971218434, "cost2_max": 0.0, "system_level_velocity_min": 9.815793804049136}, "node_ip": "10.138.0.2", "timesteps_total": 9470906}
{"hostname": "flow-main", "episode_reward_mean": 943.1978631921879, "experiment_id": "383e98f8614b4235818372cc4d63f9e0", "config": {"use_gae": true, "tf_session_args": {"allow_soft_placement": true, "gpu_options": {"allow_growth": true}, "inter_op_parallelism_threads": 2, "device_count": {"CPU": 1}, "intra_op_parallelism_threads": 2, "log_device_placement": false}, "entropy_coeff": 0.0, "kl_coeff": 0.2, "num_gpus_per_worker": 0, "monitor": false, "input_evaluation": null, "clip_rewards": null, "vf_share_layers": false, "straggler_mitigation": false, "log_level": "INFO", "clip_actions": false, "simple_optimizer": false, "sample_batch_size": 750, "vf_clip_param": 1000000.0, "custom_resources_per_worker": {}, "lr": 0.0005, "num_sgd_iter": 10, "model": {"grayscale": false, "dim": 84, "custom_model": null, "free_log_std": false, "custom_options": {}, "lstm_cell_size": 256, "framestack": true, "squash_to_range": false, "conv_filters": null, "channel_major": false, "custom_preprocessor": null, "fcnet_hiddens": [128, 64, 32], "max_seq_len": 20, "lstm_use_prev_action_reward": false, "conv_activation": "relu", "use_lstm": false, "zero_mean": true, "fcnet_activation": "tanh"}, "input": "sampler", "horizon": 1500, "vf_loss_coeff": 1.0, "compress_observations": false, "num_envs_per_worker": 1, "sample_async": false, "num_gpus": 0, "output_max_file_size": 67108864, "lambda": 0.97, "multiagent": {"policy_graphs": {}, "policies_to_train": null, "policy_mapping_fn": null}, "output": null, "num_cpus_per_worker": 1, "preprocessor_pref": "deepmind", "clip_param": 0.3, "kl_target": 0.01, "output_compress_columns": ["obs", "new_obs"], "collect_metrics_timeout": 180, "sgd_minibatch_size": 128, "train_batch_size": 30000, "callbacks": {"on_sample_end": null, "on_train_result": null, "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7f2c02d33630>", "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7f2c02d33a58>", "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7f2c02d33438>"}, "observation_filter": "MeanStdFilter", "synchronize_filters": true, "gamma": 0.99, "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "env_config": {"flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"buf_length\": 1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.1,\n            \"eta3\": 0.1,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 1.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnv\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 600,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}", "run": "PPO"}, "env": "MultiWaveAttenuationMergePOEnv-v0_[eta1, eta2, eta3]:[1.0, 0.1, 0.1]_t_min:1.0_buf_len: 1", "optimizer": {}, "num_workers": 20, "num_cpus_for_driver": 1, "lr_schedule": null, "batch_mode": "truncate_episodes"}, "time_this_iter_s": 50.480342626571655, "timesteps_since_restore": 9536131, "info": {"update_time_ms": 8.28, "num_steps_sampled": 9536131, "sample_time_ms": 33692.7, "grad_time_ms": 16622.657, "default": {"entropy": 1.6244875192642212, "kl": 0.01608535274863243, "vf_loss": 35.27325439453125, "vf_explained_var": 0.8233261704444885, "policy_loss": -0.012111695483326912, "total_loss": 35.26656723022461, "cur_lr": 0.0005000000237487257, "cur_kl_coeff": 0.33750003576278687}, "num_steps_trained": 9536131, "load_time_ms": 10.439}, "time_total_s": 7270.504229068756, "num_metric_batches_dropped": 0, "timestamp": 1558313765, "episode_reward_max": 1203.7638983915947, "timesteps_this_iter": 65225, "episode_reward_min": 25.26995984261991, "date": "2019-05-20_00-56-05", "policy_reward_mean": {}, "time_since_restore": 7270.504229068756, "episodes_total": 4059, "iterations_since_restore": 143, "pid": 46880, "episodes_this_iter": 33, "episode_len_mean": 666.31, "done": false, "training_iteration": 143, "custom_metrics": {"cost2_mean": -0.06501887752682982, "outflow_rate_mean": 1068.9781504882733, "cost2_min": -0.5912149205995679, "system_level_velocity_mean": 13.25837327119087, "cost1_min": 10.201258658443308, "cost1_mean": 319.38962614384354, "cost1_max": 452.8313711413827, "outflow_rate_max": 1330.3995148408942, "system_level_velocity_max": 18.89780316247585, "outflow_rate_min": 425.23807101616575, "cost2_max": 0.0, "system_level_velocity_min": 9.815793804049136}, "node_ip": "10.138.0.2", "timesteps_total": 9536131}
{"hostname": "flow-main", "episode_reward_mean": 947.3733658316844, "experiment_id": "383e98f8614b4235818372cc4d63f9e0", "config": {"use_gae": true, "tf_session_args": {"allow_soft_placement": true, "gpu_options": {"allow_growth": true}, "inter_op_parallelism_threads": 2, "device_count": {"CPU": 1}, "intra_op_parallelism_threads": 2, "log_device_placement": false}, "entropy_coeff": 0.0, "kl_coeff": 0.2, "num_gpus_per_worker": 0, "monitor": false, "input_evaluation": null, "clip_rewards": null, "vf_share_layers": false, "straggler_mitigation": false, "log_level": "INFO", "clip_actions": false, "simple_optimizer": false, "sample_batch_size": 750, "vf_clip_param": 1000000.0, "custom_resources_per_worker": {}, "lr": 0.0005, "num_sgd_iter": 10, "model": {"grayscale": false, "dim": 84, "custom_model": null, "free_log_std": false, "custom_options": {}, "lstm_cell_size": 256, "framestack": true, "squash_to_range": false, "conv_filters": null, "channel_major": false, "custom_preprocessor": null, "fcnet_hiddens": [128, 64, 32], "max_seq_len": 20, "lstm_use_prev_action_reward": false, "conv_activation": "relu", "use_lstm": false, "zero_mean": true, "fcnet_activation": "tanh"}, "input": "sampler", "horizon": 1500, "vf_loss_coeff": 1.0, "compress_observations": false, "num_envs_per_worker": 1, "sample_async": false, "num_gpus": 0, "output_max_file_size": 67108864, "lambda": 0.97, "multiagent": {"policy_graphs": {}, "policies_to_train": null, "policy_mapping_fn": null}, "output": null, "num_cpus_per_worker": 1, "preprocessor_pref": "deepmind", "clip_param": 0.3, "kl_target": 0.01, "output_compress_columns": ["obs", "new_obs"], "collect_metrics_timeout": 180, "sgd_minibatch_size": 128, "train_batch_size": 30000, "callbacks": {"on_sample_end": null, "on_train_result": null, "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7f2c02cec080>", "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7f2c028a9cc0>", "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7f2c028a9860>"}, "observation_filter": "MeanStdFilter", "synchronize_filters": true, "gamma": 0.99, "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "env_config": {"flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"buf_length\": 1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.1,\n            \"eta3\": 0.1,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 1.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnv\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 600,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}", "run": "PPO"}, "env": "MultiWaveAttenuationMergePOEnv-v0_[eta1, eta2, eta3]:[1.0, 0.1, 0.1]_t_min:1.0_buf_len: 1", "optimizer": {}, "num_workers": 20, "num_cpus_for_driver": 1, "lr_schedule": null, "batch_mode": "truncate_episodes"}, "time_this_iter_s": 48.54114866256714, "timesteps_since_restore": 9601518, "info": {"update_time_ms": 8.097, "num_steps_sampled": 9601518, "sample_time_ms": 33519.917, "grad_time_ms": 16689.427, "default": {"entropy": 1.6096489429473877, "kl": 0.015357568860054016, "vf_loss": 32.468326568603516, "vf_explained_var": 0.8536573648452759, "policy_loss": -0.012367944233119488, "total_loss": 32.46113967895508, "cur_lr": 0.0005000000237487257, "cur_kl_coeff": 0.33750006556510925}, "num_steps_trained": 9601518, "load_time_ms": 10.648}, "time_total_s": 7319.045377731323, "num_metric_batches_dropped": 0, "timestamp": 1558313813, "episode_reward_max": 1203.7638983915947, "timesteps_this_iter": 65387, "episode_reward_min": 25.26995984261991, "date": "2019-05-20_00-56-53", "policy_reward_mean": {}, "time_since_restore": 7319.045377731323, "episodes_total": 4087, "iterations_since_restore": 144, "pid": 46880, "episodes_this_iter": 28, "episode_len_mean": 666.31, "done": false, "training_iteration": 144, "custom_metrics": {"cost2_mean": -0.06952777283140324, "outflow_rate_mean": 1078.8074038019179, "cost2_min": -0.5912149205995679, "system_level_velocity_mean": 13.466812352413694, "cost1_min": 10.201258658443308, "cost1_mean": 324.77322158188224, "cost1_max": 471.68993668893626, "outflow_rate_max": 1362.4662120104242, "system_level_velocity_max": 18.89780316247585, "outflow_rate_min": 425.23807101616575, "cost2_max": 0.0, "system_level_velocity_min": 9.815793804049136}, "node_ip": "10.138.0.2", "timesteps_total": 9601518}
{"hostname": "flow-main", "episode_reward_mean": 973.6955187191473, "experiment_id": "383e98f8614b4235818372cc4d63f9e0", "config": {"use_gae": true, "tf_session_args": {"allow_soft_placement": true, "gpu_options": {"allow_growth": true}, "inter_op_parallelism_threads": 2, "device_count": {"CPU": 1}, "intra_op_parallelism_threads": 2, "log_device_placement": false}, "entropy_coeff": 0.0, "kl_coeff": 0.2, "num_gpus_per_worker": 0, "monitor": false, "input_evaluation": null, "clip_rewards": null, "vf_share_layers": false, "straggler_mitigation": false, "log_level": "INFO", "clip_actions": false, "simple_optimizer": false, "sample_batch_size": 750, "vf_clip_param": 1000000.0, "custom_resources_per_worker": {}, "lr": 0.0005, "num_sgd_iter": 10, "model": {"grayscale": false, "dim": 84, "custom_model": null, "free_log_std": false, "custom_options": {}, "lstm_cell_size": 256, "framestack": true, "squash_to_range": false, "conv_filters": null, "channel_major": false, "custom_preprocessor": null, "fcnet_hiddens": [128, 64, 32], "max_seq_len": 20, "lstm_use_prev_action_reward": false, "conv_activation": "relu", "use_lstm": false, "zero_mean": true, "fcnet_activation": "tanh"}, "input": "sampler", "horizon": 1500, "vf_loss_coeff": 1.0, "compress_observations": false, "num_envs_per_worker": 1, "sample_async": false, "num_gpus": 0, "output_max_file_size": 67108864, "lambda": 0.97, "multiagent": {"policy_graphs": {}, "policies_to_train": null, "policy_mapping_fn": null}, "output": null, "num_cpus_per_worker": 1, "preprocessor_pref": "deepmind", "clip_param": 0.3, "kl_target": 0.01, "output_compress_columns": ["obs", "new_obs"], "collect_metrics_timeout": 180, "sgd_minibatch_size": 128, "train_batch_size": 30000, "callbacks": {"on_sample_end": null, "on_train_result": null, "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7f2c028a9e80>", "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7f2c028a9160>", "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7f2c028a9a90>"}, "observation_filter": "MeanStdFilter", "synchronize_filters": true, "gamma": 0.99, "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "env_config": {"flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"buf_length\": 1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.1,\n            \"eta3\": 0.1,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 1.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnv\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 600,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}", "run": "PPO"}, "env": "MultiWaveAttenuationMergePOEnv-v0_[eta1, eta2, eta3]:[1.0, 0.1, 0.1]_t_min:1.0_buf_len: 1", "optimizer": {}, "num_workers": 20, "num_cpus_for_driver": 1, "lr_schedule": null, "batch_mode": "truncate_episodes"}, "time_this_iter_s": 48.5146107673645, "timesteps_since_restore": 9666849, "info": {"update_time_ms": 8.165, "num_steps_sampled": 9666849, "sample_time_ms": 33443.682, "grad_time_ms": 16587.438, "default": {"entropy": 1.6382614374160767, "kl": 0.015712741762399673, "vf_loss": 34.45881271362305, "vf_explained_var": 0.8208833336830139, "policy_loss": -0.011491172946989536, "total_loss": 34.45262145996094, "cur_lr": 0.0005000000237487257, "cur_kl_coeff": 0.33750006556510925}, "num_steps_trained": 9666849, "load_time_ms": 10.617}, "time_total_s": 7367.559988498688, "num_metric_batches_dropped": 0, "timestamp": 1558313862, "episode_reward_max": 1194.602816245213, "timesteps_this_iter": 65331, "episode_reward_min": 25.26995984261991, "date": "2019-05-20_00-57-42", "policy_reward_mean": {}, "time_since_restore": 7367.559988498688, "episodes_total": 4117, "iterations_since_restore": 145, "pid": 46880, "episodes_this_iter": 30, "episode_len_mean": 686.53, "done": false, "training_iteration": 145, "custom_metrics": {"cost2_mean": -0.07568766635942786, "outflow_rate_mean": 1098.0263337923402, "cost2_min": -0.5997957411955062, "system_level_velocity_mean": 13.339736995106518, "cost1_min": 10.201258658443308, "cost1_mean": 335.03531476935757, "cost1_max": 491.4272145659992, "outflow_rate_max": 1362.4662120104242, "system_level_velocity_max": 19.06915419761124, "outflow_rate_min": 425.23807101616575, "cost2_max": 0.0, "system_level_velocity_min": 10.277867771042558}, "node_ip": "10.138.0.2", "timesteps_total": 9666849}
{"hostname": "flow-main", "episode_reward_mean": 970.5850887590751, "experiment_id": "383e98f8614b4235818372cc4d63f9e0", "config": {"use_gae": true, "tf_session_args": {"allow_soft_placement": true, "gpu_options": {"allow_growth": true}, "inter_op_parallelism_threads": 2, "device_count": {"CPU": 1}, "intra_op_parallelism_threads": 2, "log_device_placement": false}, "entropy_coeff": 0.0, "kl_coeff": 0.2, "num_gpus_per_worker": 0, "monitor": false, "input_evaluation": null, "clip_rewards": null, "vf_share_layers": false, "straggler_mitigation": false, "log_level": "INFO", "clip_actions": false, "simple_optimizer": false, "sample_batch_size": 750, "vf_clip_param": 1000000.0, "custom_resources_per_worker": {}, "lr": 0.0005, "num_sgd_iter": 10, "model": {"grayscale": false, "dim": 84, "custom_model": null, "free_log_std": false, "custom_options": {}, "lstm_cell_size": 256, "framestack": true, "squash_to_range": false, "conv_filters": null, "channel_major": false, "custom_preprocessor": null, "fcnet_hiddens": [128, 64, 32], "max_seq_len": 20, "lstm_use_prev_action_reward": false, "conv_activation": "relu", "use_lstm": false, "zero_mean": true, "fcnet_activation": "tanh"}, "input": "sampler", "horizon": 1500, "vf_loss_coeff": 1.0, "compress_observations": false, "num_envs_per_worker": 1, "sample_async": false, "num_gpus": 0, "output_max_file_size": 67108864, "lambda": 0.97, "multiagent": {"policy_graphs": {}, "policies_to_train": null, "policy_mapping_fn": null}, "output": null, "num_cpus_per_worker": 1, "preprocessor_pref": "deepmind", "clip_param": 0.3, "kl_target": 0.01, "output_compress_columns": ["obs", "new_obs"], "collect_metrics_timeout": 180, "sgd_minibatch_size": 128, "train_batch_size": 30000, "callbacks": {"on_sample_end": null, "on_train_result": null, "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7f2c028b2198>", "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7f2c028b2128>", "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7f2c028b20b8>"}, "observation_filter": "MeanStdFilter", "synchronize_filters": true, "gamma": 0.99, "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "env_config": {"flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"buf_length\": 1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.1,\n            \"eta3\": 0.1,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 1.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnv\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 600,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}", "run": "PPO"}, "env": "MultiWaveAttenuationMergePOEnv-v0_[eta1, eta2, eta3]:[1.0, 0.1, 0.1]_t_min:1.0_buf_len: 1", "optimizer": {}, "num_workers": 20, "num_cpus_for_driver": 1, "lr_schedule": null, "batch_mode": "truncate_episodes"}, "time_this_iter_s": 49.94343376159668, "timesteps_since_restore": 9731415, "info": {"update_time_ms": 8.137, "num_steps_sampled": 9731415, "sample_time_ms": 33380.405, "grad_time_ms": 16526.495, "default": {"entropy": 1.6236612796783447, "kl": 0.01573912240564823, "vf_loss": 34.84537887573242, "vf_explained_var": 0.8274363875389099, "policy_loss": -0.011456248350441456, "total_loss": 34.839229583740234, "cur_lr": 0.0005000000237487257, "cur_kl_coeff": 0.33750006556510925}, "num_steps_trained": 9731415, "load_time_ms": 10.464}, "time_total_s": 7417.503422260284, "num_metric_batches_dropped": 0, "timestamp": 1558313912, "episode_reward_max": 1230.0961125330819, "timesteps_this_iter": 64566, "episode_reward_min": 25.26995984261991, "date": "2019-05-20_00-58-32", "policy_reward_mean": {}, "time_since_restore": 7417.503422260284, "episodes_total": 4146, "iterations_since_restore": 146, "pid": 46880, "episodes_this_iter": 29, "episode_len_mean": 686.53, "done": false, "training_iteration": 146, "custom_metrics": {"cost2_mean": -0.0793235526532894, "outflow_rate_mean": 1089.389460678013, "cost2_min": -0.5997957411955062, "system_level_velocity_mean": 13.222039450588298, "cost1_min": 10.201258658443308, "cost1_mean": 331.8552477427114, "cost1_max": 491.4272145659992, "outflow_rate_max": 1364.3901371592283, "system_level_velocity_max": 19.06915419761124, "outflow_rate_min": 425.23807101616575, "cost2_max": 0.0, "system_level_velocity_min": 10.277867771042558}, "node_ip": "10.138.0.2", "timesteps_total": 9731415}
{"hostname": "flow-main", "episode_reward_mean": 982.9041783453763, "experiment_id": "383e98f8614b4235818372cc4d63f9e0", "config": {"use_gae": true, "tf_session_args": {"allow_soft_placement": true, "gpu_options": {"allow_growth": true}, "inter_op_parallelism_threads": 2, "device_count": {"CPU": 1}, "intra_op_parallelism_threads": 2, "log_device_placement": false}, "entropy_coeff": 0.0, "kl_coeff": 0.2, "num_gpus_per_worker": 0, "monitor": false, "input_evaluation": null, "clip_rewards": null, "vf_share_layers": false, "straggler_mitigation": false, "log_level": "INFO", "clip_actions": false, "simple_optimizer": false, "sample_batch_size": 750, "vf_clip_param": 1000000.0, "custom_resources_per_worker": {}, "lr": 0.0005, "num_sgd_iter": 10, "model": {"grayscale": false, "dim": 84, "custom_model": null, "free_log_std": false, "custom_options": {}, "lstm_cell_size": 256, "framestack": true, "squash_to_range": false, "conv_filters": null, "channel_major": false, "custom_preprocessor": null, "fcnet_hiddens": [128, 64, 32], "max_seq_len": 20, "lstm_use_prev_action_reward": false, "conv_activation": "relu", "use_lstm": false, "zero_mean": true, "fcnet_activation": "tanh"}, "input": "sampler", "horizon": 1500, "vf_loss_coeff": 1.0, "compress_observations": false, "num_envs_per_worker": 1, "sample_async": false, "num_gpus": 0, "output_max_file_size": 67108864, "lambda": 0.97, "multiagent": {"policy_graphs": {}, "policies_to_train": null, "policy_mapping_fn": null}, "output": null, "num_cpus_per_worker": 1, "preprocessor_pref": "deepmind", "clip_param": 0.3, "kl_target": 0.01, "output_compress_columns": ["obs", "new_obs"], "collect_metrics_timeout": 180, "sgd_minibatch_size": 128, "train_batch_size": 30000, "callbacks": {"on_sample_end": null, "on_train_result": null, "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7f2c02d33a20>", "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7f2c02d33828>", "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7f2c02d335f8>"}, "observation_filter": "MeanStdFilter", "synchronize_filters": true, "gamma": 0.99, "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "env_config": {"flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"buf_length\": 1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.1,\n            \"eta3\": 0.1,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 1.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnv\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 600,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}", "run": "PPO"}, "env": "MultiWaveAttenuationMergePOEnv-v0_[eta1, eta2, eta3]:[1.0, 0.1, 0.1]_t_min:1.0_buf_len: 1", "optimizer": {}, "num_workers": 20, "num_cpus_for_driver": 1, "lr_schedule": null, "batch_mode": "truncate_episodes"}, "time_this_iter_s": 49.65415716171265, "timesteps_since_restore": 9797094, "info": {"update_time_ms": 8.288, "num_steps_sampled": 9797094, "sample_time_ms": 33297.954, "grad_time_ms": 16515.167, "default": {"entropy": 1.6350458860397339, "kl": 0.016347814351320267, "vf_loss": 30.078445434570312, "vf_explained_var": 0.8441731929779053, "policy_loss": -0.011250193230807781, "total_loss": 30.072711944580078, "cur_lr": 0.0005000000237487257, "cur_kl_coeff": 0.33750009536743164}, "num_steps_trained": 9797094, "load_time_ms": 10.39}, "time_total_s": 7467.157579421997, "num_metric_batches_dropped": 0, "timestamp": 1558313961, "episode_reward_max": 1230.0961125330819, "timesteps_this_iter": 65679, "episode_reward_min": 824.7065602438238, "date": "2019-05-20_00-59-21", "policy_reward_mean": {}, "time_since_restore": 7467.157579421997, "episodes_total": 4173, "iterations_since_restore": 147, "pid": 46880, "episodes_this_iter": 27, "episode_len_mean": 700.0, "done": false, "training_iteration": 147, "custom_metrics": {"cost2_mean": -0.08188287421325473, "outflow_rate_mean": 1092.8187712814424, "cost2_min": -0.8, "system_level_velocity_mean": 12.89352612943153, "cost1_min": 260.6920474614706, "cost1_mean": 332.0922353333918, "cost1_max": 491.4272145659992, "outflow_rate_max": 1364.3901371592283, "system_level_velocity_max": 19.06915419761124, "outflow_rate_min": 935.674316282127, "cost2_max": 0.0, "system_level_velocity_min": 10.277867771042558}, "node_ip": "10.138.0.2", "timesteps_total": 9797094}
{"hostname": "flow-main", "episode_reward_mean": 981.0353730031196, "experiment_id": "383e98f8614b4235818372cc4d63f9e0", "config": {"use_gae": true, "tf_session_args": {"allow_soft_placement": true, "gpu_options": {"allow_growth": true}, "inter_op_parallelism_threads": 2, "device_count": {"CPU": 1}, "intra_op_parallelism_threads": 2, "log_device_placement": false}, "entropy_coeff": 0.0, "kl_coeff": 0.2, "num_gpus_per_worker": 0, "monitor": false, "input_evaluation": null, "clip_rewards": null, "vf_share_layers": false, "straggler_mitigation": false, "log_level": "INFO", "clip_actions": false, "simple_optimizer": false, "sample_batch_size": 750, "vf_clip_param": 1000000.0, "custom_resources_per_worker": {}, "lr": 0.0005, "num_sgd_iter": 10, "model": {"grayscale": false, "dim": 84, "custom_model": null, "free_log_std": false, "custom_options": {}, "lstm_cell_size": 256, "framestack": true, "squash_to_range": false, "conv_filters": null, "channel_major": false, "custom_preprocessor": null, "fcnet_hiddens": [128, 64, 32], "max_seq_len": 20, "lstm_use_prev_action_reward": false, "conv_activation": "relu", "use_lstm": false, "zero_mean": true, "fcnet_activation": "tanh"}, "input": "sampler", "horizon": 1500, "vf_loss_coeff": 1.0, "compress_observations": false, "num_envs_per_worker": 1, "sample_async": false, "num_gpus": 0, "output_max_file_size": 67108864, "lambda": 0.97, "multiagent": {"policy_graphs": {}, "policies_to_train": null, "policy_mapping_fn": null}, "output": null, "num_cpus_per_worker": 1, "preprocessor_pref": "deepmind", "clip_param": 0.3, "kl_target": 0.01, "output_compress_columns": ["obs", "new_obs"], "collect_metrics_timeout": 180, "sgd_minibatch_size": 128, "train_batch_size": 30000, "callbacks": {"on_sample_end": null, "on_train_result": null, "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7f2c028b2cf8>", "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7f2c028b24e0>", "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7f2c028b2588>"}, "observation_filter": "MeanStdFilter", "synchronize_filters": true, "gamma": 0.99, "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "env_config": {"flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"buf_length\": 1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.1,\n            \"eta3\": 0.1,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 1.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnv\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 600,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}", "run": "PPO"}, "env": "MultiWaveAttenuationMergePOEnv-v0_[eta1, eta2, eta3]:[1.0, 0.1, 0.1]_t_min:1.0_buf_len: 1", "optimizer": {}, "num_workers": 20, "num_cpus_for_driver": 1, "lr_schedule": null, "batch_mode": "truncate_episodes"}, "time_this_iter_s": 49.13874673843384, "timesteps_since_restore": 9862417, "info": {"update_time_ms": 8.201, "num_steps_sampled": 9862417, "sample_time_ms": 33347.065, "grad_time_ms": 16541.986, "default": {"entropy": 1.6451876163482666, "kl": 0.014660120010375977, "vf_loss": 30.51419448852539, "vf_explained_var": 0.8254408240318298, "policy_loss": -0.009992792271077633, "total_loss": 30.5091495513916, "cur_lr": 0.0005000000237487257, "cur_kl_coeff": 0.33750006556510925}, "num_steps_trained": 9862417, "load_time_ms": 10.536}, "time_total_s": 7516.296326160431, "num_metric_batches_dropped": 0, "timestamp": 1558314011, "episode_reward_max": 1230.0961125330819, "timesteps_this_iter": 65323, "episode_reward_min": 74.44817955063304, "date": "2019-05-20_01-00-11", "policy_reward_mean": {}, "time_since_restore": 7516.296326160431, "episodes_total": 4200, "iterations_since_restore": 148, "pid": 46880, "episodes_this_iter": 27, "episode_len_mean": 693.48, "done": false, "training_iteration": 148, "custom_metrics": {"cost2_mean": -0.08582668493616064, "outflow_rate_mean": 1086.0952521903678, "cost2_min": -0.8, "system_level_velocity_mean": 12.91839436690369, "cost1_min": 32.165084822049614, "cost1_mean": 328.3435161592055, "cost1_max": 491.2738219006136, "outflow_rate_max": 1364.3901371592283, "system_level_velocity_max": 18.94956569022951, "outflow_rate_min": 521.3508827284069, "cost2_max": 0.0, "system_level_velocity_min": 9.922227151619975}, "node_ip": "10.138.0.2", "timesteps_total": 9862417}
{"hostname": "flow-main", "episode_reward_mean": 967.4168141294374, "experiment_id": "383e98f8614b4235818372cc4d63f9e0", "config": {"use_gae": true, "tf_session_args": {"allow_soft_placement": true, "gpu_options": {"allow_growth": true}, "inter_op_parallelism_threads": 2, "device_count": {"CPU": 1}, "intra_op_parallelism_threads": 2, "log_device_placement": false}, "entropy_coeff": 0.0, "kl_coeff": 0.2, "num_gpus_per_worker": 0, "monitor": false, "input_evaluation": null, "clip_rewards": null, "vf_share_layers": false, "straggler_mitigation": false, "log_level": "INFO", "clip_actions": false, "simple_optimizer": false, "sample_batch_size": 750, "vf_clip_param": 1000000.0, "custom_resources_per_worker": {}, "lr": 0.0005, "num_sgd_iter": 10, "model": {"grayscale": false, "dim": 84, "custom_model": null, "free_log_std": false, "custom_options": {}, "lstm_cell_size": 256, "framestack": true, "squash_to_range": false, "conv_filters": null, "channel_major": false, "custom_preprocessor": null, "fcnet_hiddens": [128, 64, 32], "max_seq_len": 20, "lstm_use_prev_action_reward": false, "conv_activation": "relu", "use_lstm": false, "zero_mean": true, "fcnet_activation": "tanh"}, "input": "sampler", "horizon": 1500, "vf_loss_coeff": 1.0, "compress_observations": false, "num_envs_per_worker": 1, "sample_async": false, "num_gpus": 0, "output_max_file_size": 67108864, "lambda": 0.97, "multiagent": {"policy_graphs": {}, "policies_to_train": null, "policy_mapping_fn": null}, "output": null, "num_cpus_per_worker": 1, "preprocessor_pref": "deepmind", "clip_param": 0.3, "kl_target": 0.01, "output_compress_columns": ["obs", "new_obs"], "collect_metrics_timeout": 180, "sgd_minibatch_size": 128, "train_batch_size": 30000, "callbacks": {"on_sample_end": null, "on_train_result": null, "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7f2c02d33908>", "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7f2c02d339e8>", "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7f2c02d33320>"}, "observation_filter": "MeanStdFilter", "synchronize_filters": true, "gamma": 0.99, "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "env_config": {"flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"buf_length\": 1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.1,\n            \"eta3\": 0.1,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 1.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnv\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 600,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}", "run": "PPO"}, "env": "MultiWaveAttenuationMergePOEnv-v0_[eta1, eta2, eta3]:[1.0, 0.1, 0.1]_t_min:1.0_buf_len: 1", "optimizer": {}, "num_workers": 20, "num_cpus_for_driver": 1, "lr_schedule": null, "batch_mode": "truncate_episodes"}, "time_this_iter_s": 52.15514540672302, "timesteps_since_restore": 9928044, "info": {"update_time_ms": 7.906, "num_steps_sampled": 9928044, "sample_time_ms": 33347.659, "grad_time_ms": 16569.235, "default": {"entropy": 1.6542775630950928, "kl": 0.014816825278103352, "vf_loss": 32.14715576171875, "vf_explained_var": 0.8305550813674927, "policy_loss": -0.010385211557149887, "total_loss": 32.14176940917969, "cur_lr": 0.0005000000237487257, "cur_kl_coeff": 0.33750006556510925}, "num_steps_trained": 9928044, "load_time_ms": 10.449}, "time_total_s": 7568.451471567154, "num_metric_batches_dropped": 0, "timestamp": 1558314063, "episode_reward_max": 1215.6792019325576, "timesteps_this_iter": 65627, "episode_reward_min": 59.522962453891104, "date": "2019-05-20_01-01-03", "policy_reward_mean": {}, "time_since_restore": 7568.451471567154, "episodes_total": 4228, "iterations_since_restore": 149, "pid": 46880, "episodes_this_iter": 28, "episode_len_mean": 686.85, "done": false, "training_iteration": 149, "custom_metrics": {"cost2_mean": -0.07905008860163476, "outflow_rate_mean": 1081.7032636774584, "cost2_min": -0.8, "system_level_velocity_mean": 13.004756604975823, "cost1_min": 24.762843168182165, "cost1_mean": 326.3963010932074, "cost1_max": 491.2738219006136, "outflow_rate_max": 1366.7045903958297, "system_level_velocity_max": 18.94956569022951, "outflow_rate_min": 521.3508827284069, "cost2_max": 0.0, "system_level_velocity_min": 9.922227151619975}, "node_ip": "10.138.0.2", "timesteps_total": 9928044}
{"hostname": "flow-main", "episode_reward_mean": 969.3832642537967, "experiment_id": "383e98f8614b4235818372cc4d63f9e0", "config": {"use_gae": true, "tf_session_args": {"allow_soft_placement": true, "gpu_options": {"allow_growth": true}, "inter_op_parallelism_threads": 2, "device_count": {"CPU": 1}, "intra_op_parallelism_threads": 2, "log_device_placement": false}, "entropy_coeff": 0.0, "kl_coeff": 0.2, "num_gpus_per_worker": 0, "monitor": false, "input_evaluation": null, "clip_rewards": null, "vf_share_layers": false, "straggler_mitigation": false, "log_level": "INFO", "clip_actions": false, "simple_optimizer": false, "sample_batch_size": 750, "vf_clip_param": 1000000.0, "custom_resources_per_worker": {}, "lr": 0.0005, "num_sgd_iter": 10, "model": {"grayscale": false, "dim": 84, "custom_model": null, "free_log_std": false, "custom_options": {}, "lstm_cell_size": 256, "framestack": true, "squash_to_range": false, "conv_filters": null, "channel_major": false, "custom_preprocessor": null, "fcnet_hiddens": [128, 64, 32], "max_seq_len": 20, "lstm_use_prev_action_reward": false, "conv_activation": "relu", "use_lstm": false, "zero_mean": true, "fcnet_activation": "tanh"}, "input": "sampler", "horizon": 1500, "vf_loss_coeff": 1.0, "compress_observations": false, "num_envs_per_worker": 1, "sample_async": false, "num_gpus": 0, "output_max_file_size": 67108864, "lambda": 0.97, "multiagent": {"policy_graphs": {}, "policies_to_train": null, "policy_mapping_fn": null}, "output": null, "num_cpus_per_worker": 1, "preprocessor_pref": "deepmind", "clip_param": 0.3, "kl_target": 0.01, "output_compress_columns": ["obs", "new_obs"], "collect_metrics_timeout": 180, "sgd_minibatch_size": 128, "train_batch_size": 30000, "callbacks": {"on_sample_end": null, "on_train_result": null, "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7f2c028a9dd8>", "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7f2c028a9438>", "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7f2c028a93c8>"}, "observation_filter": "MeanStdFilter", "synchronize_filters": true, "gamma": 0.99, "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "env_config": {"flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"buf_length\": 1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.1,\n            \"eta3\": 0.1,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 1.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnv\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 600,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}", "run": "PPO"}, "env": "MultiWaveAttenuationMergePOEnv-v0_[eta1, eta2, eta3]:[1.0, 0.1, 0.1]_t_min:1.0_buf_len: 1", "optimizer": {}, "num_workers": 20, "num_cpus_for_driver": 1, "lr_schedule": null, "batch_mode": "truncate_episodes"}, "time_this_iter_s": 49.17731046676636, "timesteps_since_restore": 9993178, "info": {"update_time_ms": 7.909, "num_steps_sampled": 9993178, "sample_time_ms": 33306.485, "grad_time_ms": 16410.675, "default": {"entropy": 1.6422253847122192, "kl": 0.017025183886289597, "vf_loss": 30.707738876342773, "vf_explained_var": 0.8424657583236694, "policy_loss": -0.010212494060397148, "total_loss": 30.703271865844727, "cur_lr": 0.0005000000237487257, "cur_kl_coeff": 0.33750006556510925}, "num_steps_trained": 9993178, "load_time_ms": 10.152}, "time_total_s": 7617.62878203392, "num_metric_batches_dropped": 0, "timestamp": 1558314112, "episode_reward_max": 1215.6792019325576, "timesteps_this_iter": 65134, "episode_reward_min": 59.522962453891104, "date": "2019-05-20_01-01-52", "policy_reward_mean": {}, "time_since_restore": 7617.62878203392, "episodes_total": 4254, "iterations_since_restore": 150, "pid": 46880, "episodes_this_iter": 26, "episode_len_mean": 686.85, "done": false, "training_iteration": 150, "custom_metrics": {"cost2_mean": -0.07693303300837483, "outflow_rate_mean": 1087.4573221333637, "cost2_min": -0.6670668129457031, "system_level_velocity_mean": 13.092655262207545, "cost1_min": 24.762843168182165, "cost1_mean": 329.105214606751, "cost1_max": 485.7977842451022, "outflow_rate_max": 1366.7045903958297, "system_level_velocity_max": 18.82595697194159, "outflow_rate_min": 521.3508827284069, "cost2_max": 0.0, "system_level_velocity_min": 9.922227151619975}, "node_ip": "10.138.0.2", "timesteps_total": 9993178}
{"hostname": "flow-main", "episode_reward_mean": 956.4789498223773, "experiment_id": "383e98f8614b4235818372cc4d63f9e0", "config": {"use_gae": true, "tf_session_args": {"allow_soft_placement": true, "gpu_options": {"allow_growth": true}, "inter_op_parallelism_threads": 2, "device_count": {"CPU": 1}, "intra_op_parallelism_threads": 2, "log_device_placement": false}, "entropy_coeff": 0.0, "kl_coeff": 0.2, "num_gpus_per_worker": 0, "monitor": false, "input_evaluation": null, "clip_rewards": null, "vf_share_layers": false, "straggler_mitigation": false, "log_level": "INFO", "clip_actions": false, "simple_optimizer": false, "sample_batch_size": 750, "vf_clip_param": 1000000.0, "custom_resources_per_worker": {}, "lr": 0.0005, "num_sgd_iter": 10, "model": {"grayscale": false, "dim": 84, "custom_model": null, "free_log_std": false, "custom_options": {}, "lstm_cell_size": 256, "framestack": true, "squash_to_range": false, "conv_filters": null, "channel_major": false, "custom_preprocessor": null, "fcnet_hiddens": [128, 64, 32], "max_seq_len": 20, "lstm_use_prev_action_reward": false, "conv_activation": "relu", "use_lstm": false, "zero_mean": true, "fcnet_activation": "tanh"}, "input": "sampler", "horizon": 1500, "vf_loss_coeff": 1.0, "compress_observations": false, "num_envs_per_worker": 1, "sample_async": false, "num_gpus": 0, "output_max_file_size": 67108864, "lambda": 0.97, "multiagent": {"policy_graphs": {}, "policies_to_train": null, "policy_mapping_fn": null}, "output": null, "num_cpus_per_worker": 1, "preprocessor_pref": "deepmind", "clip_param": 0.3, "kl_target": 0.01, "output_compress_columns": ["obs", "new_obs"], "collect_metrics_timeout": 180, "sgd_minibatch_size": 128, "train_batch_size": 30000, "callbacks": {"on_sample_end": null, "on_train_result": null, "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7f2c028a99e8>", "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7f2c028a9d30>", "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7f2c028a9b38>"}, "observation_filter": "MeanStdFilter", "synchronize_filters": true, "gamma": 0.99, "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "env_config": {"flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"buf_length\": 1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.1,\n            \"eta3\": 0.1,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 1.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnv\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 600,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}", "run": "PPO"}, "env": "MultiWaveAttenuationMergePOEnv-v0_[eta1, eta2, eta3]:[1.0, 0.1, 0.1]_t_min:1.0_buf_len: 1", "optimizer": {}, "num_workers": 20, "num_cpus_for_driver": 1, "lr_schedule": null, "batch_mode": "truncate_episodes"}, "time_this_iter_s": 54.35693573951721, "timesteps_since_restore": 10060601, "info": {"update_time_ms": 7.67, "num_steps_sampled": 10060601, "sample_time_ms": 33602.024, "grad_time_ms": 16449.592, "default": {"entropy": 1.6672873497009277, "kl": 0.015024179592728615, "vf_loss": 33.54429244995117, "vf_explained_var": 0.806814432144165, "policy_loss": -0.010838724672794342, "total_loss": 33.53852844238281, "cur_lr": 0.0005000000237487257, "cur_kl_coeff": 0.33750003576278687}, "num_steps_trained": 10060601, "load_time_ms": 10.342}, "time_total_s": 7671.9857177734375, "num_metric_batches_dropped": 0, "timestamp": 1558314166, "episode_reward_max": 1248.3509270505006, "timesteps_this_iter": 67423, "episode_reward_min": 59.522962453891104, "date": "2019-05-20_01-02-46", "policy_reward_mean": {}, "time_since_restore": 7671.9857177734375, "episodes_total": 4284, "iterations_since_restore": 151, "pid": 46880, "episodes_this_iter": 30, "episode_len_mean": 680.9, "done": false, "training_iteration": 151, "custom_metrics": {"cost2_mean": -0.08055872542418602, "outflow_rate_mean": 1078.5905592297456, "cost2_min": -0.6732273403493806, "system_level_velocity_mean": 13.12502925918823, "cost1_min": 24.762843168182165, "cost1_mean": 325.6488039012662, "cost1_max": 485.7977842451022, "outflow_rate_max": 1366.7045903958297, "system_level_velocity_max": 19.09828577497796, "outflow_rate_min": 521.3508827284069, "cost2_max": 0.0, "system_level_velocity_min": 9.012298143389184}, "node_ip": "10.138.0.2", "timesteps_total": 10060601}
{"hostname": "flow-main", "episode_reward_mean": 967.4397964346664, "experiment_id": "383e98f8614b4235818372cc4d63f9e0", "config": {"use_gae": true, "tf_session_args": {"allow_soft_placement": true, "gpu_options": {"allow_growth": true}, "inter_op_parallelism_threads": 2, "device_count": {"CPU": 1}, "intra_op_parallelism_threads": 2, "log_device_placement": false}, "entropy_coeff": 0.0, "kl_coeff": 0.2, "num_gpus_per_worker": 0, "monitor": false, "input_evaluation": null, "clip_rewards": null, "vf_share_layers": false, "straggler_mitigation": false, "log_level": "INFO", "clip_actions": false, "simple_optimizer": false, "sample_batch_size": 750, "vf_clip_param": 1000000.0, "custom_resources_per_worker": {}, "lr": 0.0005, "num_sgd_iter": 10, "model": {"grayscale": false, "dim": 84, "custom_model": null, "free_log_std": false, "custom_options": {}, "lstm_cell_size": 256, "framestack": true, "squash_to_range": false, "conv_filters": null, "channel_major": false, "custom_preprocessor": null, "fcnet_hiddens": [128, 64, 32], "max_seq_len": 20, "lstm_use_prev_action_reward": false, "conv_activation": "relu", "use_lstm": false, "zero_mean": true, "fcnet_activation": "tanh"}, "input": "sampler", "horizon": 1500, "vf_loss_coeff": 1.0, "compress_observations": false, "num_envs_per_worker": 1, "sample_async": false, "num_gpus": 0, "output_max_file_size": 67108864, "lambda": 0.97, "multiagent": {"policy_graphs": {}, "policies_to_train": null, "policy_mapping_fn": null}, "output": null, "num_cpus_per_worker": 1, "preprocessor_pref": "deepmind", "clip_param": 0.3, "kl_target": 0.01, "output_compress_columns": ["obs", "new_obs"], "collect_metrics_timeout": 180, "sgd_minibatch_size": 128, "train_batch_size": 30000, "callbacks": {"on_sample_end": null, "on_train_result": null, "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7f2c028b22b0>", "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7f2c028b2a90>", "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7f2c028b2668>"}, "observation_filter": "MeanStdFilter", "synchronize_filters": true, "gamma": 0.99, "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "env_config": {"flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"buf_length\": 1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.1,\n            \"eta3\": 0.1,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 1.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnv\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 600,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}", "run": "PPO"}, "env": "MultiWaveAttenuationMergePOEnv-v0_[eta1, eta2, eta3]:[1.0, 0.1, 0.1]_t_min:1.0_buf_len: 1", "optimizer": {}, "num_workers": 20, "num_cpus_for_driver": 1, "lr_schedule": null, "batch_mode": "truncate_episodes"}, "time_this_iter_s": 50.85701298713684, "timesteps_since_restore": 10125848, "info": {"update_time_ms": 7.608, "num_steps_sampled": 10125848, "sample_time_ms": 33753.356, "grad_time_ms": 16399.722, "default": {"entropy": 1.6646538972854614, "kl": 0.017507296055555344, "vf_loss": 34.51338577270508, "vf_explained_var": 0.8303202390670776, "policy_loss": -0.012223049066960812, "total_loss": 34.507076263427734, "cur_lr": 0.0005000000237487257, "cur_kl_coeff": 0.33750003576278687}, "num_steps_trained": 10125848, "load_time_ms": 10.245}, "time_total_s": 7722.842730760574, "num_metric_batches_dropped": 0, "timestamp": 1558314217, "episode_reward_max": 1248.3509270505006, "timesteps_this_iter": 65247, "episode_reward_min": 156.8255610805507, "date": "2019-05-20_01-03-37", "policy_reward_mean": {}, "time_since_restore": 7722.842730760574, "episodes_total": 4313, "iterations_since_restore": 152, "pid": 46880, "episodes_this_iter": 29, "episode_len_mean": 688.24, "done": false, "training_iteration": 152, "custom_metrics": {"cost2_mean": -0.08759671705105208, "outflow_rate_mean": 1081.260086401269, "cost2_min": -0.6732273403493806, "system_level_velocity_mean": 12.965536421794768, "cost1_min": 73.5003950756436, "cost1_mean": 326.1827941968737, "cost1_max": 491.5179712301515, "outflow_rate_max": 1366.7045903958297, "system_level_velocity_max": 19.186892632441264, "outflow_rate_min": 708.5571063545999, "cost2_max": 0.0, "system_level_velocity_min": 9.012298143389184}, "node_ip": "10.138.0.2", "timesteps_total": 10125848}
{"hostname": "flow-main", "episode_reward_mean": 967.768727737266, "experiment_id": "383e98f8614b4235818372cc4d63f9e0", "config": {"use_gae": true, "tf_session_args": {"allow_soft_placement": true, "gpu_options": {"allow_growth": true}, "inter_op_parallelism_threads": 2, "device_count": {"CPU": 1}, "intra_op_parallelism_threads": 2, "log_device_placement": false}, "entropy_coeff": 0.0, "kl_coeff": 0.2, "num_gpus_per_worker": 0, "monitor": false, "input_evaluation": null, "clip_rewards": null, "vf_share_layers": false, "straggler_mitigation": false, "log_level": "INFO", "clip_actions": false, "simple_optimizer": false, "sample_batch_size": 750, "vf_clip_param": 1000000.0, "custom_resources_per_worker": {}, "lr": 0.0005, "num_sgd_iter": 10, "model": {"grayscale": false, "dim": 84, "custom_model": null, "free_log_std": false, "custom_options": {}, "lstm_cell_size": 256, "framestack": true, "squash_to_range": false, "conv_filters": null, "channel_major": false, "custom_preprocessor": null, "fcnet_hiddens": [128, 64, 32], "max_seq_len": 20, "lstm_use_prev_action_reward": false, "conv_activation": "relu", "use_lstm": false, "zero_mean": true, "fcnet_activation": "tanh"}, "input": "sampler", "horizon": 1500, "vf_loss_coeff": 1.0, "compress_observations": false, "num_envs_per_worker": 1, "sample_async": false, "num_gpus": 0, "output_max_file_size": 67108864, "lambda": 0.97, "multiagent": {"policy_graphs": {}, "policies_to_train": null, "policy_mapping_fn": null}, "output": null, "num_cpus_per_worker": 1, "preprocessor_pref": "deepmind", "clip_param": 0.3, "kl_target": 0.01, "output_compress_columns": ["obs", "new_obs"], "collect_metrics_timeout": 180, "sgd_minibatch_size": 128, "train_batch_size": 30000, "callbacks": {"on_sample_end": null, "on_train_result": null, "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7f2c028b67b8>", "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7f2c028b62e8>", "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7f2c028b69e8>"}, "observation_filter": "MeanStdFilter", "synchronize_filters": true, "gamma": 0.99, "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "env_config": {"flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"buf_length\": 1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.1,\n            \"eta3\": 0.1,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 1.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnv\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 600,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}", "run": "PPO"}, "env": "MultiWaveAttenuationMergePOEnv-v0_[eta1, eta2, eta3]:[1.0, 0.1, 0.1]_t_min:1.0_buf_len: 1", "optimizer": {}, "num_workers": 20, "num_cpus_for_driver": 1, "lr_schedule": null, "batch_mode": "truncate_episodes"}, "time_this_iter_s": 51.359074115753174, "timesteps_since_restore": 10190777, "info": {"update_time_ms": 7.853, "num_steps_sampled": 10190777, "sample_time_ms": 33917.289, "grad_time_ms": 16321.754, "default": {"entropy": 1.6524131298065186, "kl": 0.015547099523246288, "vf_loss": 33.89292907714844, "vf_explained_var": 0.8304068446159363, "policy_loss": -0.011971534229815006, "total_loss": 33.88620376586914, "cur_lr": 0.0005000000237487257, "cur_kl_coeff": 0.33750003576278687}, "num_steps_trained": 10190777, "load_time_ms": 9.345}, "time_total_s": 7774.2018048763275, "num_metric_batches_dropped": 0, "timestamp": 1558314269, "episode_reward_max": 1292.3657509217185, "timesteps_this_iter": 64929, "episode_reward_min": 156.8255610805507, "date": "2019-05-20_01-04-29", "policy_reward_mean": {}, "time_since_restore": 7774.2018048763275, "episodes_total": 4341, "iterations_since_restore": 153, "pid": 46880, "episodes_this_iter": 28, "episode_len_mean": 688.24, "done": false, "training_iteration": 153, "custom_metrics": {"cost2_mean": -0.07689490943212927, "outflow_rate_mean": 1076.3116577291123, "cost2_min": -0.6732273403493806, "system_level_velocity_mean": 12.895593100752828, "cost1_min": 73.5003950756436, "cost1_mean": 324.17421518904547, "cost1_max": 498.97906057052415, "outflow_rate_max": 1351.545103992863, "system_level_velocity_max": 19.241886719141664, "outflow_rate_min": 708.5571063545999, "cost2_max": 0.0, "system_level_velocity_min": 8.440809116257}, "node_ip": "10.138.0.2", "timesteps_total": 10190777}
{"hostname": "flow-main", "episode_reward_mean": 950.946218571121, "experiment_id": "383e98f8614b4235818372cc4d63f9e0", "config": {"use_gae": true, "tf_session_args": {"allow_soft_placement": true, "gpu_options": {"allow_growth": true}, "inter_op_parallelism_threads": 2, "device_count": {"CPU": 1}, "intra_op_parallelism_threads": 2, "log_device_placement": false}, "entropy_coeff": 0.0, "kl_coeff": 0.2, "num_gpus_per_worker": 0, "monitor": false, "input_evaluation": null, "clip_rewards": null, "vf_share_layers": false, "straggler_mitigation": false, "log_level": "INFO", "clip_actions": false, "simple_optimizer": false, "sample_batch_size": 750, "vf_clip_param": 1000000.0, "custom_resources_per_worker": {}, "lr": 0.0005, "num_sgd_iter": 10, "model": {"grayscale": false, "dim": 84, "custom_model": null, "free_log_std": false, "custom_options": {}, "lstm_cell_size": 256, "framestack": true, "squash_to_range": false, "conv_filters": null, "channel_major": false, "custom_preprocessor": null, "fcnet_hiddens": [128, 64, 32], "max_seq_len": 20, "lstm_use_prev_action_reward": false, "conv_activation": "relu", "use_lstm": false, "zero_mean": true, "fcnet_activation": "tanh"}, "input": "sampler", "horizon": 1500, "vf_loss_coeff": 1.0, "compress_observations": false, "num_envs_per_worker": 1, "sample_async": false, "num_gpus": 0, "output_max_file_size": 67108864, "lambda": 0.97, "multiagent": {"policy_graphs": {}, "policies_to_train": null, "policy_mapping_fn": null}, "output": null, "num_cpus_per_worker": 1, "preprocessor_pref": "deepmind", "clip_param": 0.3, "kl_target": 0.01, "output_compress_columns": ["obs", "new_obs"], "collect_metrics_timeout": 180, "sgd_minibatch_size": 128, "train_batch_size": 30000, "callbacks": {"on_sample_end": null, "on_train_result": null, "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7f2c028b2e80>", "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7f2c028b2518>", "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7f2c02897c18>"}, "observation_filter": "MeanStdFilter", "synchronize_filters": true, "gamma": 0.99, "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "env_config": {"flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"buf_length\": 1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.1,\n            \"eta3\": 0.1,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 1.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnv\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 600,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}", "run": "PPO"}, "env": "MultiWaveAttenuationMergePOEnv-v0_[eta1, eta2, eta3]:[1.0, 0.1, 0.1]_t_min:1.0_buf_len: 1", "optimizer": {}, "num_workers": 20, "num_cpus_for_driver": 1, "lr_schedule": null, "batch_mode": "truncate_episodes"}, "time_this_iter_s": 50.49133539199829, "timesteps_since_restore": 10255722, "info": {"update_time_ms": 8.404, "num_steps_sampled": 10255722, "sample_time_ms": 33996.167, "grad_time_ms": 16434.939, "default": {"entropy": 1.654579997062683, "kl": 0.015478418208658695, "vf_loss": 35.61333465576172, "vf_explained_var": 0.8144587278366089, "policy_loss": -0.012004951946437359, "total_loss": 35.6065559387207, "cur_lr": 0.0005000000237487257, "cur_kl_coeff": 0.33750003576278687}, "num_steps_trained": 10255722, "load_time_ms": 8.869}, "time_total_s": 7824.693140268326, "num_metric_batches_dropped": 0, "timestamp": 1558314319, "episode_reward_max": 1292.3657509217185, "timesteps_this_iter": 64945, "episode_reward_min": 32.65906342412309, "date": "2019-05-20_01-05-19", "policy_reward_mean": {}, "time_since_restore": 7824.693140268326, "episodes_total": 4371, "iterations_since_restore": 154, "pid": 46880, "episodes_this_iter": 30, "episode_len_mean": 681.45, "done": false, "training_iteration": 154, "custom_metrics": {"cost2_mean": -0.09193052816066782, "outflow_rate_mean": 1069.3837374329596, "cost2_min": -0.6732273403493806, "system_level_velocity_mean": 12.96003752282712, "cost1_min": 13.702689932422063, "cost1_mean": 321.2686343905602, "cost1_max": 498.97906057052415, "outflow_rate_max": 1351.545103992863, "system_level_velocity_max": 19.241886719141664, "outflow_rate_min": 472.99230095463946, "cost2_max": 0.0, "system_level_velocity_min": 8.440809116257}, "node_ip": "10.138.0.2", "timesteps_total": 10255722}
{"hostname": "flow-main", "episode_reward_mean": 975.0920304020036, "experiment_id": "383e98f8614b4235818372cc4d63f9e0", "config": {"use_gae": true, "tf_session_args": {"allow_soft_placement": true, "gpu_options": {"allow_growth": true}, "inter_op_parallelism_threads": 2, "device_count": {"CPU": 1}, "intra_op_parallelism_threads": 2, "log_device_placement": false}, "entropy_coeff": 0.0, "kl_coeff": 0.2, "num_gpus_per_worker": 0, "monitor": false, "input_evaluation": null, "clip_rewards": null, "vf_share_layers": false, "straggler_mitigation": false, "log_level": "INFO", "clip_actions": false, "simple_optimizer": false, "sample_batch_size": 750, "vf_clip_param": 1000000.0, "custom_resources_per_worker": {}, "lr": 0.0005, "num_sgd_iter": 10, "model": {"grayscale": false, "dim": 84, "custom_model": null, "free_log_std": false, "custom_options": {}, "lstm_cell_size": 256, "framestack": true, "squash_to_range": false, "conv_filters": null, "channel_major": false, "custom_preprocessor": null, "fcnet_hiddens": [128, 64, 32], "max_seq_len": 20, "lstm_use_prev_action_reward": false, "conv_activation": "relu", "use_lstm": false, "zero_mean": true, "fcnet_activation": "tanh"}, "input": "sampler", "horizon": 1500, "vf_loss_coeff": 1.0, "compress_observations": false, "num_envs_per_worker": 1, "sample_async": false, "num_gpus": 0, "output_max_file_size": 67108864, "lambda": 0.97, "multiagent": {"policy_graphs": {}, "policies_to_train": null, "policy_mapping_fn": null}, "output": null, "num_cpus_per_worker": 1, "preprocessor_pref": "deepmind", "clip_param": 0.3, "kl_target": 0.01, "output_compress_columns": ["obs", "new_obs"], "collect_metrics_timeout": 180, "sgd_minibatch_size": 128, "train_batch_size": 30000, "callbacks": {"on_sample_end": null, "on_train_result": null, "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7f2c028b6438>", "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7f2c028a9f98>", "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7f2c028a9be0>"}, "observation_filter": "MeanStdFilter", "synchronize_filters": true, "gamma": 0.99, "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "env_config": {"flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"buf_length\": 1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.1,\n            \"eta3\": 0.1,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 1.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnv\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 600,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}", "run": "PPO"}, "env": "MultiWaveAttenuationMergePOEnv-v0_[eta1, eta2, eta3]:[1.0, 0.1, 0.1]_t_min:1.0_buf_len: 1", "optimizer": {}, "num_workers": 20, "num_cpus_for_driver": 1, "lr_schedule": null, "batch_mode": "truncate_episodes"}, "time_this_iter_s": 49.39160943031311, "timesteps_since_restore": 10321463, "info": {"update_time_ms": 8.649, "num_steps_sampled": 10321463, "sample_time_ms": 33882.255, "grad_time_ms": 16632.175, "default": {"entropy": 1.665637731552124, "kl": 0.015554009936749935, "vf_loss": 33.840511322021484, "vf_explained_var": 0.8263124823570251, "policy_loss": -0.012258323840796947, "total_loss": 33.833499908447266, "cur_lr": 0.0005000000237487257, "cur_kl_coeff": 0.33750009536743164}, "num_steps_trained": 10321463, "load_time_ms": 8.905}, "time_total_s": 7874.084749698639, "num_metric_batches_dropped": 0, "timestamp": 1558314369, "episode_reward_max": 1292.3657509217185, "timesteps_this_iter": 65741, "episode_reward_min": 32.65906342412309, "date": "2019-05-20_01-06-09", "policy_reward_mean": {}, "time_since_restore": 7874.084749698639, "episodes_total": 4400, "iterations_since_restore": 155, "pid": 46880, "episodes_this_iter": 29, "episode_len_mean": 693.21, "done": false, "training_iteration": 155, "custom_metrics": {"cost2_mean": -0.09414847937894016, "outflow_rate_mean": 1077.964585273248, "cost2_min": -1.2220538718691965, "system_level_velocity_mean": 12.84309480896514, "cost1_min": 13.702689932422063, "cost1_mean": 326.6795130457442, "cost1_max": 498.97906057052415, "outflow_rate_max": 1351.545103992863, "system_level_velocity_max": 19.241886719141664, "outflow_rate_min": 472.99230095463946, "cost2_max": 0.0, "system_level_velocity_min": 8.440809116257}, "node_ip": "10.138.0.2", "timesteps_total": 10321463}
{"hostname": "flow-main", "episode_reward_mean": 956.2105590747735, "experiment_id": "383e98f8614b4235818372cc4d63f9e0", "config": {"use_gae": true, "tf_session_args": {"allow_soft_placement": true, "gpu_options": {"allow_growth": true}, "inter_op_parallelism_threads": 2, "device_count": {"CPU": 1}, "intra_op_parallelism_threads": 2, "log_device_placement": false}, "entropy_coeff": 0.0, "kl_coeff": 0.2, "num_gpus_per_worker": 0, "monitor": false, "input_evaluation": null, "clip_rewards": null, "vf_share_layers": false, "straggler_mitigation": false, "log_level": "INFO", "clip_actions": false, "simple_optimizer": false, "sample_batch_size": 750, "vf_clip_param": 1000000.0, "custom_resources_per_worker": {}, "lr": 0.0005, "num_sgd_iter": 10, "model": {"grayscale": false, "dim": 84, "custom_model": null, "free_log_std": false, "custom_options": {}, "lstm_cell_size": 256, "framestack": true, "squash_to_range": false, "conv_filters": null, "channel_major": false, "custom_preprocessor": null, "fcnet_hiddens": [128, 64, 32], "max_seq_len": 20, "lstm_use_prev_action_reward": false, "conv_activation": "relu", "use_lstm": false, "zero_mean": true, "fcnet_activation": "tanh"}, "input": "sampler", "horizon": 1500, "vf_loss_coeff": 1.0, "compress_observations": false, "num_envs_per_worker": 1, "sample_async": false, "num_gpus": 0, "output_max_file_size": 67108864, "lambda": 0.97, "multiagent": {"policy_graphs": {}, "policies_to_train": null, "policy_mapping_fn": null}, "output": null, "num_cpus_per_worker": 1, "preprocessor_pref": "deepmind", "clip_param": 0.3, "kl_target": 0.01, "output_compress_columns": ["obs", "new_obs"], "collect_metrics_timeout": 180, "sgd_minibatch_size": 128, "train_batch_size": 30000, "callbacks": {"on_sample_end": null, "on_train_result": null, "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7f2c028b6c50>", "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7f2c028b6588>", "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7f2c028b6c18>"}, "observation_filter": "MeanStdFilter", "synchronize_filters": true, "gamma": 0.99, "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "env_config": {"flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"buf_length\": 1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.1,\n            \"eta3\": 0.1,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 1.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnv\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 600,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}", "run": "PPO"}, "env": "MultiWaveAttenuationMergePOEnv-v0_[eta1, eta2, eta3]:[1.0, 0.1, 0.1]_t_min:1.0_buf_len: 1", "optimizer": {}, "num_workers": 20, "num_cpus_for_driver": 1, "lr_schedule": null, "batch_mode": "truncate_episodes"}, "time_this_iter_s": 50.819324254989624, "timesteps_since_restore": 10386947, "info": {"update_time_ms": 8.914, "num_steps_sampled": 10386947, "sample_time_ms": 33687.919, "grad_time_ms": 16912.633, "default": {"entropy": 1.6761789321899414, "kl": 0.01573910564184189, "vf_loss": 30.07080841064453, "vf_explained_var": 0.8321701288223267, "policy_loss": -0.011599350720643997, "total_loss": 30.06451988220215, "cur_lr": 0.0005000000237487257, "cur_kl_coeff": 0.33750003576278687}, "num_steps_trained": 10386947, "load_time_ms": 8.821}, "time_total_s": 7924.9040739536285, "num_metric_batches_dropped": 0, "timestamp": 1558314420, "episode_reward_max": 1234.7216464339926, "timesteps_this_iter": 65484, "episode_reward_min": 32.65906342412309, "date": "2019-05-20_01-07-00", "policy_reward_mean": {}, "time_since_restore": 7924.9040739536285, "episodes_total": 4428, "iterations_since_restore": 156, "pid": 46880, "episodes_this_iter": 28, "episode_len_mean": 686.5, "done": false, "training_iteration": 156, "custom_metrics": {"cost2_mean": -0.09250229492563541, "outflow_rate_mean": 1065.848006238731, "cost2_min": -1.2220538718691965, "system_level_velocity_mean": 12.768024712707222, "cost1_min": 13.702689932422063, "cost1_mean": 319.9865617660713, "cost1_max": 455.68343859879224, "outflow_rate_max": 1337.0096443602301, "system_level_velocity_max": 18.37167828424351, "outflow_rate_min": 472.99230095463946, "cost2_max": 0.0, "system_level_velocity_min": 8.440809116257}, "node_ip": "10.138.0.2", "timesteps_total": 10386947}
{"hostname": "flow-main", "episode_reward_mean": 954.0889907216813, "experiment_id": "383e98f8614b4235818372cc4d63f9e0", "config": {"use_gae": true, "tf_session_args": {"allow_soft_placement": true, "gpu_options": {"allow_growth": true}, "inter_op_parallelism_threads": 2, "device_count": {"CPU": 1}, "intra_op_parallelism_threads": 2, "log_device_placement": false}, "entropy_coeff": 0.0, "kl_coeff": 0.2, "num_gpus_per_worker": 0, "monitor": false, "input_evaluation": null, "clip_rewards": null, "vf_share_layers": false, "straggler_mitigation": false, "log_level": "INFO", "clip_actions": false, "simple_optimizer": false, "sample_batch_size": 750, "vf_clip_param": 1000000.0, "custom_resources_per_worker": {}, "lr": 0.0005, "num_sgd_iter": 10, "model": {"grayscale": false, "dim": 84, "custom_model": null, "free_log_std": false, "custom_options": {}, "lstm_cell_size": 256, "framestack": true, "squash_to_range": false, "conv_filters": null, "channel_major": false, "custom_preprocessor": null, "fcnet_hiddens": [128, 64, 32], "max_seq_len": 20, "lstm_use_prev_action_reward": false, "conv_activation": "relu", "use_lstm": false, "zero_mean": true, "fcnet_activation": "tanh"}, "input": "sampler", "horizon": 1500, "vf_loss_coeff": 1.0, "compress_observations": false, "num_envs_per_worker": 1, "sample_async": false, "num_gpus": 0, "output_max_file_size": 67108864, "lambda": 0.97, "multiagent": {"policy_graphs": {}, "policies_to_train": null, "policy_mapping_fn": null}, "output": null, "num_cpus_per_worker": 1, "preprocessor_pref": "deepmind", "clip_param": 0.3, "kl_target": 0.01, "output_compress_columns": ["obs", "new_obs"], "collect_metrics_timeout": 180, "sgd_minibatch_size": 128, "train_batch_size": 30000, "callbacks": {"on_sample_end": null, "on_train_result": null, "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7f2c028b62e8>", "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7f2c028b6160>", "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7f2c028b6d30>"}, "observation_filter": "MeanStdFilter", "synchronize_filters": true, "gamma": 0.99, "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "env_config": {"flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"buf_length\": 1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.1,\n            \"eta3\": 0.1,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 1.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnv\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 600,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}", "run": "PPO"}, "env": "MultiWaveAttenuationMergePOEnv-v0_[eta1, eta2, eta3]:[1.0, 0.1, 0.1]_t_min:1.0_buf_len: 1", "optimizer": {}, "num_workers": 20, "num_cpus_for_driver": 1, "lr_schedule": null, "batch_mode": "truncate_episodes"}, "time_this_iter_s": 48.055617570877075, "timesteps_since_restore": 10451780, "info": {"update_time_ms": 8.815, "num_steps_sampled": 10451780, "sample_time_ms": 33514.02, "grad_time_ms": 16927.366, "default": {"entropy": 1.682662844657898, "kl": 0.01601225696504116, "vf_loss": 30.568471908569336, "vf_explained_var": 0.8416977524757385, "policy_loss": -0.012323712930083275, "total_loss": 30.561553955078125, "cur_lr": 0.0005000000237487257, "cur_kl_coeff": 0.33750003576278687}, "num_steps_trained": 10451780, "load_time_ms": 8.734}, "time_total_s": 7972.959691524506, "num_metric_batches_dropped": 0, "timestamp": 1558314468, "episode_reward_max": 1234.7216464339926, "timesteps_this_iter": 64833, "episode_reward_min": 32.65906342412309, "date": "2019-05-20_01-07-48", "policy_reward_mean": {}, "time_since_restore": 7972.959691524506, "episodes_total": 4456, "iterations_since_restore": 157, "pid": 46880, "episodes_this_iter": 28, "episode_len_mean": 679.88, "done": false, "training_iteration": 157, "custom_metrics": {"cost2_mean": -0.09260416649137831, "outflow_rate_mean": 1065.410376749814, "cost2_min": -1.2220538718691965, "system_level_velocity_mean": 12.966315696264942, "cost1_min": 13.702689932422063, "cost1_mean": 320.8028568175849, "cost1_max": 497.7083963246545, "outflow_rate_max": 1337.0096443602301, "system_level_velocity_max": 19.1908012768744, "outflow_rate_min": 472.99230095463946, "cost2_max": 0.0, "system_level_velocity_min": 9.224245424266563}, "node_ip": "10.138.0.2", "timesteps_total": 10451780}
{"hostname": "flow-main", "episode_reward_mean": 957.5296974372792, "experiment_id": "383e98f8614b4235818372cc4d63f9e0", "config": {"use_gae": true, "tf_session_args": {"allow_soft_placement": true, "gpu_options": {"allow_growth": true}, "inter_op_parallelism_threads": 2, "device_count": {"CPU": 1}, "intra_op_parallelism_threads": 2, "log_device_placement": false}, "entropy_coeff": 0.0, "kl_coeff": 0.2, "num_gpus_per_worker": 0, "monitor": false, "input_evaluation": null, "clip_rewards": null, "vf_share_layers": false, "straggler_mitigation": false, "log_level": "INFO", "clip_actions": false, "simple_optimizer": false, "sample_batch_size": 750, "vf_clip_param": 1000000.0, "custom_resources_per_worker": {}, "lr": 0.0005, "num_sgd_iter": 10, "model": {"grayscale": false, "dim": 84, "custom_model": null, "free_log_std": false, "custom_options": {}, "lstm_cell_size": 256, "framestack": true, "squash_to_range": false, "conv_filters": null, "channel_major": false, "custom_preprocessor": null, "fcnet_hiddens": [128, 64, 32], "max_seq_len": 20, "lstm_use_prev_action_reward": false, "conv_activation": "relu", "use_lstm": false, "zero_mean": true, "fcnet_activation": "tanh"}, "input": "sampler", "horizon": 1500, "vf_loss_coeff": 1.0, "compress_observations": false, "num_envs_per_worker": 1, "sample_async": false, "num_gpus": 0, "output_max_file_size": 67108864, "lambda": 0.97, "multiagent": {"policy_graphs": {}, "policies_to_train": null, "policy_mapping_fn": null}, "output": null, "num_cpus_per_worker": 1, "preprocessor_pref": "deepmind", "clip_param": 0.3, "kl_target": 0.01, "output_compress_columns": ["obs", "new_obs"], "collect_metrics_timeout": 180, "sgd_minibatch_size": 128, "train_batch_size": 30000, "callbacks": {"on_sample_end": null, "on_train_result": null, "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7f2c028b2358>", "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7f2c028b2780>", "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7f2c028b2e10>"}, "observation_filter": "MeanStdFilter", "synchronize_filters": true, "gamma": 0.99, "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "env_config": {"flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"buf_length\": 1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.1,\n            \"eta3\": 0.1,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 1.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnv\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 600,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}", "run": "PPO"}, "env": "MultiWaveAttenuationMergePOEnv-v0_[eta1, eta2, eta3]:[1.0, 0.1, 0.1]_t_min:1.0_buf_len: 1", "optimizer": {}, "num_workers": 20, "num_cpus_for_driver": 1, "lr_schedule": null, "batch_mode": "truncate_episodes"}, "time_this_iter_s": 50.53498387336731, "timesteps_since_restore": 10516633, "info": {"update_time_ms": 8.819, "num_steps_sampled": 10516633, "sample_time_ms": 33348.75, "grad_time_ms": 17233.313, "default": {"entropy": 1.6770535707473755, "kl": 0.01470461580902338, "vf_loss": 31.151247024536133, "vf_explained_var": 0.826674222946167, "policy_loss": -0.011407177895307541, "total_loss": 31.144805908203125, "cur_lr": 0.0005000000237487257, "cur_kl_coeff": 0.33750003576278687}, "num_steps_trained": 10516633, "load_time_ms": 8.43}, "time_total_s": 8023.494675397873, "num_metric_batches_dropped": 0, "timestamp": 1558314518, "episode_reward_max": 1348.2047136302363, "timesteps_this_iter": 64853, "episode_reward_min": 50.6730238425213, "date": "2019-05-20_01-08-38", "policy_reward_mean": {}, "time_since_restore": 8023.494675397873, "episodes_total": 4485, "iterations_since_restore": 158, "pid": 46880, "episodes_this_iter": 29, "episode_len_mean": 680.01, "done": false, "training_iteration": 158, "custom_metrics": {"cost2_mean": -0.08379244700627975, "outflow_rate_mean": 1068.8791800470246, "cost2_min": -1.2220538718691965, "system_level_velocity_mean": 13.050718290405307, "cost1_min": 19.42403418098222, "cost1_mean": 323.14931637995664, "cost1_max": 497.7083963246545, "outflow_rate_max": 1337.0096443602301, "system_level_velocity_max": 19.1908012768744, "outflow_rate_min": 487.58284442809264, "cost2_max": 0.0, "system_level_velocity_min": 9.637254433313098}, "node_ip": "10.138.0.2", "timesteps_total": 10516633}
{"hostname": "flow-main", "episode_reward_mean": 967.1654080689169, "experiment_id": "383e98f8614b4235818372cc4d63f9e0", "config": {"use_gae": true, "tf_session_args": {"allow_soft_placement": true, "gpu_options": {"allow_growth": true}, "inter_op_parallelism_threads": 2, "device_count": {"CPU": 1}, "intra_op_parallelism_threads": 2, "log_device_placement": false}, "entropy_coeff": 0.0, "kl_coeff": 0.2, "num_gpus_per_worker": 0, "monitor": false, "input_evaluation": null, "clip_rewards": null, "vf_share_layers": false, "straggler_mitigation": false, "log_level": "INFO", "clip_actions": false, "simple_optimizer": false, "sample_batch_size": 750, "vf_clip_param": 1000000.0, "custom_resources_per_worker": {}, "lr": 0.0005, "num_sgd_iter": 10, "model": {"grayscale": false, "dim": 84, "custom_model": null, "free_log_std": false, "custom_options": {}, "lstm_cell_size": 256, "framestack": true, "squash_to_range": false, "conv_filters": null, "channel_major": false, "custom_preprocessor": null, "fcnet_hiddens": [128, 64, 32], "max_seq_len": 20, "lstm_use_prev_action_reward": false, "conv_activation": "relu", "use_lstm": false, "zero_mean": true, "fcnet_activation": "tanh"}, "input": "sampler", "horizon": 1500, "vf_loss_coeff": 1.0, "compress_observations": false, "num_envs_per_worker": 1, "sample_async": false, "num_gpus": 0, "output_max_file_size": 67108864, "lambda": 0.97, "multiagent": {"policy_graphs": {}, "policies_to_train": null, "policy_mapping_fn": null}, "output": null, "num_cpus_per_worker": 1, "preprocessor_pref": "deepmind", "clip_param": 0.3, "kl_target": 0.01, "output_compress_columns": ["obs", "new_obs"], "collect_metrics_timeout": 180, "sgd_minibatch_size": 128, "train_batch_size": 30000, "callbacks": {"on_sample_end": null, "on_train_result": null, "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7f2c028b6128>", "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7f2c028b6240>", "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7f2c028b6b70>"}, "observation_filter": "MeanStdFilter", "synchronize_filters": true, "gamma": 0.99, "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "env_config": {"flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"buf_length\": 1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.1,\n            \"eta3\": 0.1,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 1.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnv\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 600,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}", "run": "PPO"}, "env": "MultiWaveAttenuationMergePOEnv-v0_[eta1, eta2, eta3]:[1.0, 0.1, 0.1]_t_min:1.0_buf_len: 1", "optimizer": {}, "num_workers": 20, "num_cpus_for_driver": 1, "lr_schedule": null, "batch_mode": "truncate_episodes"}, "time_this_iter_s": 47.7877082824707, "timesteps_since_restore": 10581871, "info": {"update_time_ms": 8.84, "num_steps_sampled": 10581871, "sample_time_ms": 33061.571, "grad_time_ms": 17082.936, "default": {"entropy": 1.6807467937469482, "kl": 0.015384357422590256, "vf_loss": 30.524227142333984, "vf_explained_var": 0.8324927687644958, "policy_loss": -0.01273652445524931, "total_loss": 30.516681671142578, "cur_lr": 0.0005000000237487257, "cur_kl_coeff": 0.33750003576278687}, "num_steps_trained": 10581871, "load_time_ms": 8.371}, "time_total_s": 8071.282383680344, "num_metric_batches_dropped": 0, "timestamp": 1558314566, "episode_reward_max": 1348.2047136302363, "timesteps_this_iter": 65238, "episode_reward_min": 50.6730238425213, "date": "2019-05-20_01-09-26", "policy_reward_mean": {}, "time_since_restore": 8071.282383680344, "episodes_total": 4512, "iterations_since_restore": 159, "pid": 46880, "episodes_this_iter": 27, "episode_len_mean": 686.72, "done": false, "training_iteration": 159, "custom_metrics": {"cost2_mean": -0.07426802786319624, "outflow_rate_mean": 1078.585010557852, "cost2_min": -0.4754483523032859, "system_level_velocity_mean": 13.110798474445026, "cost1_min": 22.603872186386678, "cost1_mean": 329.298192160103, "cost1_max": 497.7083963246545, "outflow_rate_max": 1335.9757524688912, "system_level_velocity_max": 19.1908012768744, "outflow_rate_min": 487.58284442809264, "cost2_max": 0.0, "system_level_velocity_min": 10.316624192639992}, "node_ip": "10.138.0.2", "timesteps_total": 10581871}
{"hostname": "flow-main", "episode_reward_mean": 980.8040649644581, "experiment_id": "383e98f8614b4235818372cc4d63f9e0", "config": {"use_gae": true, "tf_session_args": {"allow_soft_placement": true, "gpu_options": {"allow_growth": true}, "inter_op_parallelism_threads": 2, "device_count": {"CPU": 1}, "intra_op_parallelism_threads": 2, "log_device_placement": false}, "entropy_coeff": 0.0, "kl_coeff": 0.2, "num_gpus_per_worker": 0, "monitor": false, "input_evaluation": null, "clip_rewards": null, "vf_share_layers": false, "straggler_mitigation": false, "log_level": "INFO", "clip_actions": false, "simple_optimizer": false, "sample_batch_size": 750, "vf_clip_param": 1000000.0, "custom_resources_per_worker": {}, "lr": 0.0005, "num_sgd_iter": 10, "model": {"grayscale": false, "dim": 84, "custom_model": null, "free_log_std": false, "custom_options": {}, "lstm_cell_size": 256, "framestack": true, "squash_to_range": false, "conv_filters": null, "channel_major": false, "custom_preprocessor": null, "fcnet_hiddens": [128, 64, 32], "max_seq_len": 20, "lstm_use_prev_action_reward": false, "conv_activation": "relu", "use_lstm": false, "zero_mean": true, "fcnet_activation": "tanh"}, "input": "sampler", "horizon": 1500, "vf_loss_coeff": 1.0, "compress_observations": false, "num_envs_per_worker": 1, "sample_async": false, "num_gpus": 0, "output_max_file_size": 67108864, "lambda": 0.97, "multiagent": {"policy_graphs": {}, "policies_to_train": null, "policy_mapping_fn": null}, "output": null, "num_cpus_per_worker": 1, "preprocessor_pref": "deepmind", "clip_param": 0.3, "kl_target": 0.01, "output_compress_columns": ["obs", "new_obs"], "collect_metrics_timeout": 180, "sgd_minibatch_size": 128, "train_batch_size": 30000, "callbacks": {"on_sample_end": null, "on_train_result": null, "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7f2c028a9eb8>", "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7f2c028a9ac8>", "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7f2c028a9908>"}, "observation_filter": "MeanStdFilter", "synchronize_filters": true, "gamma": 0.99, "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "env_config": {"flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"buf_length\": 1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.1,\n            \"eta3\": 0.1,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 1.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnv\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 600,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}", "run": "PPO"}, "env": "MultiWaveAttenuationMergePOEnv-v0_[eta1, eta2, eta3]:[1.0, 0.1, 0.1]_t_min:1.0_buf_len: 1", "optimizer": {}, "num_workers": 20, "num_cpus_for_driver": 1, "lr_schedule": null, "batch_mode": "truncate_episodes"}, "time_this_iter_s": 49.27897882461548, "timesteps_since_restore": 10645313, "info": {"update_time_ms": 8.859, "num_steps_sampled": 10645313, "sample_time_ms": 33025.608, "grad_time_ms": 17129.954, "default": {"entropy": 1.6714091300964355, "kl": 0.015903497114777565, "vf_loss": 33.294795989990234, "vf_explained_var": 0.8251011967658997, "policy_loss": -0.013728095218539238, "total_loss": 33.286434173583984, "cur_lr": 0.0005000000237487257, "cur_kl_coeff": 0.33750006556510925}, "num_steps_trained": 10645313, "load_time_ms": 8.439}, "time_total_s": 8120.561362504959, "num_metric_batches_dropped": 0, "timestamp": 1558314615, "episode_reward_max": 1348.2047136302363, "timesteps_this_iter": 63442, "episode_reward_min": 50.6730238425213, "date": "2019-05-20_01-10-15", "policy_reward_mean": {}, "time_since_restore": 8120.561362504959, "episodes_total": 4539, "iterations_since_restore": 160, "pid": 46880, "episodes_this_iter": 27, "episode_len_mean": 693.34, "done": false, "training_iteration": 160, "custom_metrics": {"cost2_mean": -0.08801522486013029, "outflow_rate_mean": 1093.5344803474006, "cost2_min": -0.4754483523032859, "system_level_velocity_mean": 13.203173771897443, "cost1_min": 22.603872186386678, "cost1_mean": 336.33145518868696, "cost1_max": 497.7083963246545, "outflow_rate_max": 1363.593770127807, "system_level_velocity_max": 19.1908012768744, "outflow_rate_min": 505.5744606148268, "cost2_max": 0.0, "system_level_velocity_min": 8.839622071250222}, "node_ip": "10.138.0.2", "timesteps_total": 10645313}
{"hostname": "flow-main", "episode_reward_mean": 979.9324387557572, "experiment_id": "383e98f8614b4235818372cc4d63f9e0", "config": {"use_gae": true, "tf_session_args": {"allow_soft_placement": true, "gpu_options": {"allow_growth": true}, "inter_op_parallelism_threads": 2, "device_count": {"CPU": 1}, "intra_op_parallelism_threads": 2, "log_device_placement": false}, "entropy_coeff": 0.0, "kl_coeff": 0.2, "num_gpus_per_worker": 0, "monitor": false, "input_evaluation": null, "clip_rewards": null, "vf_share_layers": false, "straggler_mitigation": false, "log_level": "INFO", "clip_actions": false, "simple_optimizer": false, "sample_batch_size": 750, "vf_clip_param": 1000000.0, "custom_resources_per_worker": {}, "lr": 0.0005, "num_sgd_iter": 10, "model": {"grayscale": false, "dim": 84, "custom_model": null, "free_log_std": false, "custom_options": {}, "lstm_cell_size": 256, "framestack": true, "squash_to_range": false, "conv_filters": null, "channel_major": false, "custom_preprocessor": null, "fcnet_hiddens": [128, 64, 32], "max_seq_len": 20, "lstm_use_prev_action_reward": false, "conv_activation": "relu", "use_lstm": false, "zero_mean": true, "fcnet_activation": "tanh"}, "input": "sampler", "horizon": 1500, "vf_loss_coeff": 1.0, "compress_observations": false, "num_envs_per_worker": 1, "sample_async": false, "num_gpus": 0, "output_max_file_size": 67108864, "lambda": 0.97, "multiagent": {"policy_graphs": {}, "policies_to_train": null, "policy_mapping_fn": null}, "output": null, "num_cpus_per_worker": 1, "preprocessor_pref": "deepmind", "clip_param": 0.3, "kl_target": 0.01, "output_compress_columns": ["obs", "new_obs"], "collect_metrics_timeout": 180, "sgd_minibatch_size": 128, "train_batch_size": 30000, "callbacks": {"on_sample_end": null, "on_train_result": null, "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7f2c028b60b8>", "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7f2c028b69e8>", "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7f2c028b6748>"}, "observation_filter": "MeanStdFilter", "synchronize_filters": true, "gamma": 0.99, "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "env_config": {"flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"buf_length\": 1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.1,\n            \"eta3\": 0.1,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 1.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnv\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 600,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}", "run": "PPO"}, "env": "MultiWaveAttenuationMergePOEnv-v0_[eta1, eta2, eta3]:[1.0, 0.1, 0.1]_t_min:1.0_buf_len: 1", "optimizer": {}, "num_workers": 20, "num_cpus_for_driver": 1, "lr_schedule": null, "batch_mode": "truncate_episodes"}, "time_this_iter_s": 48.90166759490967, "timesteps_since_restore": 10711406, "info": {"update_time_ms": 8.818, "num_steps_sampled": 10711406, "sample_time_ms": 32635.876, "grad_time_ms": 16974.308, "default": {"entropy": 1.6707701683044434, "kl": 0.01629532501101494, "vf_loss": 33.281776428222656, "vf_explained_var": 0.8302743434906006, "policy_loss": -0.012135093100368977, "total_loss": 33.275142669677734, "cur_lr": 0.0005000000237487257, "cur_kl_coeff": 0.33750003576278687}, "num_steps_trained": 10711406, "load_time_ms": 8.53}, "time_total_s": 8169.463030099869, "num_metric_batches_dropped": 0, "timestamp": 1558314664, "episode_reward_max": 1348.2047136302363, "timesteps_this_iter": 66093, "episode_reward_min": 50.6730238425213, "date": "2019-05-20_01-11-04", "policy_reward_mean": {}, "time_since_restore": 8169.463030099869, "episodes_total": 4568, "iterations_since_restore": 161, "pid": 46880, "episodes_this_iter": 29, "episode_len_mean": 693.34, "done": false, "training_iteration": 161, "custom_metrics": {"cost2_mean": -0.08708972973190246, "outflow_rate_mean": 1091.66465777107, "cost2_min": -0.47963208886470854, "system_level_velocity_mean": 13.169120068349741, "cost1_min": 22.603872186386678, "cost1_mean": 335.4968818644419, "cost1_max": 492.98865643800093, "outflow_rate_max": 1363.593770127807, "system_level_velocity_max": 19.113199501099583, "outflow_rate_min": 505.5744606148268, "cost2_max": 0.0, "system_level_velocity_min": 8.839622071250222}, "node_ip": "10.138.0.2", "timesteps_total": 10711406}
{"hostname": "flow-main", "episode_reward_mean": 974.912470102143, "experiment_id": "383e98f8614b4235818372cc4d63f9e0", "config": {"use_gae": true, "tf_session_args": {"allow_soft_placement": true, "gpu_options": {"allow_growth": true}, "inter_op_parallelism_threads": 2, "device_count": {"CPU": 1}, "intra_op_parallelism_threads": 2, "log_device_placement": false}, "entropy_coeff": 0.0, "kl_coeff": 0.2, "num_gpus_per_worker": 0, "monitor": false, "input_evaluation": null, "clip_rewards": null, "vf_share_layers": false, "straggler_mitigation": false, "log_level": "INFO", "clip_actions": false, "simple_optimizer": false, "sample_batch_size": 750, "vf_clip_param": 1000000.0, "custom_resources_per_worker": {}, "lr": 0.0005, "num_sgd_iter": 10, "model": {"grayscale": false, "dim": 84, "custom_model": null, "free_log_std": false, "custom_options": {}, "lstm_cell_size": 256, "framestack": true, "squash_to_range": false, "conv_filters": null, "channel_major": false, "custom_preprocessor": null, "fcnet_hiddens": [128, 64, 32], "max_seq_len": 20, "lstm_use_prev_action_reward": false, "conv_activation": "relu", "use_lstm": false, "zero_mean": true, "fcnet_activation": "tanh"}, "input": "sampler", "horizon": 1500, "vf_loss_coeff": 1.0, "compress_observations": false, "num_envs_per_worker": 1, "sample_async": false, "num_gpus": 0, "output_max_file_size": 67108864, "lambda": 0.97, "multiagent": {"policy_graphs": {}, "policies_to_train": null, "policy_mapping_fn": null}, "output": null, "num_cpus_per_worker": 1, "preprocessor_pref": "deepmind", "clip_param": 0.3, "kl_target": 0.01, "output_compress_columns": ["obs", "new_obs"], "collect_metrics_timeout": 180, "sgd_minibatch_size": 128, "train_batch_size": 30000, "callbacks": {"on_sample_end": null, "on_train_result": null, "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7f2c02d33e10>", "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7f2c02d338d0>", "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7f2c02d33438>"}, "observation_filter": "MeanStdFilter", "synchronize_filters": true, "gamma": 0.99, "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "env_config": {"flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"buf_length\": 1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.1,\n            \"eta3\": 0.1,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 1.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnv\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 600,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}", "run": "PPO"}, "env": "MultiWaveAttenuationMergePOEnv-v0_[eta1, eta2, eta3]:[1.0, 0.1, 0.1]_t_min:1.0_buf_len: 1", "optimizer": {}, "num_workers": 20, "num_cpus_for_driver": 1, "lr_schedule": null, "batch_mode": "truncate_episodes"}, "time_this_iter_s": 47.30345129966736, "timesteps_since_restore": 10776251, "info": {"update_time_ms": 9.132, "num_steps_sampled": 10776251, "sample_time_ms": 32503.721, "grad_time_ms": 16751.773, "default": {"entropy": 1.6842666864395142, "kl": 0.016072968021035194, "vf_loss": 36.214149475097656, "vf_explained_var": 0.7979812026023865, "policy_loss": -0.01291778963059187, "total_loss": 36.2066535949707, "cur_lr": 0.0005000000237487257, "cur_kl_coeff": 0.33750003576278687}, "num_steps_trained": 10776251, "load_time_ms": 8.702}, "time_total_s": 8216.766481399536, "num_metric_batches_dropped": 0, "timestamp": 1558314712, "episode_reward_max": 1239.2235042527855, "timesteps_this_iter": 64845, "episode_reward_min": 34.950349551551724, "date": "2019-05-20_01-11-52", "policy_reward_mean": {}, "time_since_restore": 8216.766481399536, "episodes_total": 4598, "iterations_since_restore": 162, "pid": 46880, "episodes_this_iter": 30, "episode_len_mean": 688.54, "done": false, "training_iteration": 162, "custom_metrics": {"cost2_mean": -0.09324960606654338, "outflow_rate_mean": 1088.5222246055791, "cost2_min": -0.8727616012221989, "system_level_velocity_mean": 13.177177426197822, "cost1_min": 12.403445434915067, "cost1_mean": 332.95261418261487, "cost1_max": 492.98865643800093, "outflow_rate_max": 1363.593770127807, "system_level_velocity_max": 19.113199501099583, "outflow_rate_min": 467.7500288525429, "cost2_max": 0.0, "system_level_velocity_min": 8.839622071250222}, "node_ip": "10.138.0.2", "timesteps_total": 10776251}
{"hostname": "flow-main", "episode_reward_mean": 965.5751150215299, "experiment_id": "383e98f8614b4235818372cc4d63f9e0", "config": {"use_gae": true, "tf_session_args": {"allow_soft_placement": true, "gpu_options": {"allow_growth": true}, "inter_op_parallelism_threads": 2, "device_count": {"CPU": 1}, "intra_op_parallelism_threads": 2, "log_device_placement": false}, "entropy_coeff": 0.0, "kl_coeff": 0.2, "num_gpus_per_worker": 0, "monitor": false, "input_evaluation": null, "clip_rewards": null, "vf_share_layers": false, "straggler_mitigation": false, "log_level": "INFO", "clip_actions": false, "simple_optimizer": false, "sample_batch_size": 750, "vf_clip_param": 1000000.0, "custom_resources_per_worker": {}, "lr": 0.0005, "num_sgd_iter": 10, "model": {"grayscale": false, "dim": 84, "custom_model": null, "free_log_std": false, "custom_options": {}, "lstm_cell_size": 256, "framestack": true, "squash_to_range": false, "conv_filters": null, "channel_major": false, "custom_preprocessor": null, "fcnet_hiddens": [128, 64, 32], "max_seq_len": 20, "lstm_use_prev_action_reward": false, "conv_activation": "relu", "use_lstm": false, "zero_mean": true, "fcnet_activation": "tanh"}, "input": "sampler", "horizon": 1500, "vf_loss_coeff": 1.0, "compress_observations": false, "num_envs_per_worker": 1, "sample_async": false, "num_gpus": 0, "output_max_file_size": 67108864, "lambda": 0.97, "multiagent": {"policy_graphs": {}, "policies_to_train": null, "policy_mapping_fn": null}, "output": null, "num_cpus_per_worker": 1, "preprocessor_pref": "deepmind", "clip_param": 0.3, "kl_target": 0.01, "output_compress_columns": ["obs", "new_obs"], "collect_metrics_timeout": 180, "sgd_minibatch_size": 128, "train_batch_size": 30000, "callbacks": {"on_sample_end": null, "on_train_result": null, "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7f2c028b6940>", "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7f2c028b67f0>", "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7f2c028b6c18>"}, "observation_filter": "MeanStdFilter", "synchronize_filters": true, "gamma": 0.99, "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "env_config": {"flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"buf_length\": 1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.1,\n            \"eta3\": 0.1,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 1.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnv\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 600,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}", "run": "PPO"}, "env": "MultiWaveAttenuationMergePOEnv-v0_[eta1, eta2, eta3]:[1.0, 0.1, 0.1]_t_min:1.0_buf_len: 1", "optimizer": {}, "num_workers": 20, "num_cpus_for_driver": 1, "lr_schedule": null, "batch_mode": "truncate_episodes"}, "time_this_iter_s": 49.963707447052, "timesteps_since_restore": 10839784, "info": {"update_time_ms": 8.82, "num_steps_sampled": 10839784, "sample_time_ms": 32409.401, "grad_time_ms": 16708.685, "default": {"entropy": 1.687941551208496, "kl": 0.015371236018836498, "vf_loss": 35.944637298583984, "vf_explained_var": 0.8022459149360657, "policy_loss": -0.011899793520569801, "total_loss": 35.937923431396484, "cur_lr": 0.0005000000237487257, "cur_kl_coeff": 0.33750003576278687}, "num_steps_trained": 10839784, "load_time_ms": 8.818}, "time_total_s": 8266.730188846588, "num_metric_batches_dropped": 0, "timestamp": 1558314762, "episode_reward_max": 1222.0741339002989, "timesteps_this_iter": 63533, "episode_reward_min": 34.950349551551724, "date": "2019-05-20_01-12-42", "policy_reward_mean": {}, "time_since_restore": 8266.730188846588, "episodes_total": 4628, "iterations_since_restore": 163, "pid": 46880, "episodes_this_iter": 30, "episode_len_mean": 681.88, "done": false, "training_iteration": 163, "custom_metrics": {"cost2_mean": -0.09189572823926799, "outflow_rate_mean": 1081.5226045232619, "cost2_min": -0.8727616012221989, "system_level_velocity_mean": 13.210861888069788, "cost1_min": 12.403445434915067, "cost1_mean": 329.5455365491016, "cost1_max": 492.98865643800093, "outflow_rate_max": 1363.593770127807, "system_level_velocity_max": 19.113199501099583, "outflow_rate_min": 467.7500288525429, "cost2_max": 0.0, "system_level_velocity_min": 9.379648642674816}, "node_ip": "10.138.0.2", "timesteps_total": 10839784}
{"hostname": "flow-main", "episode_reward_mean": 962.3586503390687, "experiment_id": "383e98f8614b4235818372cc4d63f9e0", "config": {"use_gae": true, "tf_session_args": {"allow_soft_placement": true, "gpu_options": {"allow_growth": true}, "inter_op_parallelism_threads": 2, "device_count": {"CPU": 1}, "intra_op_parallelism_threads": 2, "log_device_placement": false}, "entropy_coeff": 0.0, "kl_coeff": 0.2, "num_gpus_per_worker": 0, "monitor": false, "input_evaluation": null, "clip_rewards": null, "vf_share_layers": false, "straggler_mitigation": false, "log_level": "INFO", "clip_actions": false, "simple_optimizer": false, "sample_batch_size": 750, "vf_clip_param": 1000000.0, "custom_resources_per_worker": {}, "lr": 0.0005, "num_sgd_iter": 10, "model": {"grayscale": false, "dim": 84, "custom_model": null, "free_log_std": false, "custom_options": {}, "lstm_cell_size": 256, "framestack": true, "squash_to_range": false, "conv_filters": null, "channel_major": false, "custom_preprocessor": null, "fcnet_hiddens": [128, 64, 32], "max_seq_len": 20, "lstm_use_prev_action_reward": false, "conv_activation": "relu", "use_lstm": false, "zero_mean": true, "fcnet_activation": "tanh"}, "input": "sampler", "horizon": 1500, "vf_loss_coeff": 1.0, "compress_observations": false, "num_envs_per_worker": 1, "sample_async": false, "num_gpus": 0, "output_max_file_size": 67108864, "lambda": 0.97, "multiagent": {"policy_graphs": {}, "policies_to_train": null, "policy_mapping_fn": null}, "output": null, "num_cpus_per_worker": 1, "preprocessor_pref": "deepmind", "clip_param": 0.3, "kl_target": 0.01, "output_compress_columns": ["obs", "new_obs"], "collect_metrics_timeout": 180, "sgd_minibatch_size": 128, "train_batch_size": 30000, "callbacks": {"on_sample_end": null, "on_train_result": null, "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7f2c028a9208>", "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7f2c028a9f28>", "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7f2c028a9be0>"}, "observation_filter": "MeanStdFilter", "synchronize_filters": true, "gamma": 0.99, "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "env_config": {"flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"buf_length\": 1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.1,\n            \"eta3\": 0.1,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 1.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnv\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 600,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}", "run": "PPO"}, "env": "MultiWaveAttenuationMergePOEnv-v0_[eta1, eta2, eta3]:[1.0, 0.1, 0.1]_t_min:1.0_buf_len: 1", "optimizer": {}, "num_workers": 20, "num_cpus_for_driver": 1, "lr_schedule": null, "batch_mode": "truncate_episodes"}, "time_this_iter_s": 48.37403059005737, "timesteps_since_restore": 10904001, "info": {"update_time_ms": 8.271, "num_steps_sampled": 10904001, "sample_time_ms": 32449.164, "grad_time_ms": 16461.736, "default": {"entropy": 1.7058147192001343, "kl": 0.01608813926577568, "vf_loss": 29.016935348510742, "vf_explained_var": 0.835354208946228, "policy_loss": -0.011642762459814548, "total_loss": 29.01072120666504, "cur_lr": 0.0005000000237487257, "cur_kl_coeff": 0.33750003576278687}, "num_steps_trained": 10904001, "load_time_ms": 9.047}, "time_total_s": 8315.104219436646, "num_metric_batches_dropped": 0, "timestamp": 1558314810, "episode_reward_max": 1214.2447229245888, "timesteps_this_iter": 64217, "episode_reward_min": 34.950349551551724, "date": "2019-05-20_01-13-30", "policy_reward_mean": {}, "time_since_restore": 8315.104219436646, "episodes_total": 4654, "iterations_since_restore": 164, "pid": 46880, "episodes_this_iter": 26, "episode_len_mean": 681.88, "done": false, "training_iteration": 164, "custom_metrics": {"cost2_mean": -0.0892654583238207, "outflow_rate_mean": 1082.1641653339602, "cost2_min": -0.8727616012221989, "system_level_velocity_mean": 13.219087060785455, "cost1_min": 12.403445434915067, "cost1_mean": 330.1066108819775, "cost1_max": 492.98865643800093, "outflow_rate_max": 1347.6658166860857, "system_level_velocity_max": 19.113199501099583, "outflow_rate_min": 467.7500288525429, "cost2_max": 0.0, "system_level_velocity_min": 9.379648642674816}, "node_ip": "10.138.0.2", "timesteps_total": 10904001}
{"hostname": "flow-main", "episode_reward_mean": 972.9610289838134, "experiment_id": "383e98f8614b4235818372cc4d63f9e0", "config": {"use_gae": true, "tf_session_args": {"allow_soft_placement": true, "gpu_options": {"allow_growth": true}, "inter_op_parallelism_threads": 2, "device_count": {"CPU": 1}, "intra_op_parallelism_threads": 2, "log_device_placement": false}, "entropy_coeff": 0.0, "kl_coeff": 0.2, "num_gpus_per_worker": 0, "monitor": false, "input_evaluation": null, "clip_rewards": null, "vf_share_layers": false, "straggler_mitigation": false, "log_level": "INFO", "clip_actions": false, "simple_optimizer": false, "sample_batch_size": 750, "vf_clip_param": 1000000.0, "custom_resources_per_worker": {}, "lr": 0.0005, "num_sgd_iter": 10, "model": {"grayscale": false, "dim": 84, "custom_model": null, "free_log_std": false, "custom_options": {}, "lstm_cell_size": 256, "framestack": true, "squash_to_range": false, "conv_filters": null, "channel_major": false, "custom_preprocessor": null, "fcnet_hiddens": [128, 64, 32], "max_seq_len": 20, "lstm_use_prev_action_reward": false, "conv_activation": "relu", "use_lstm": false, "zero_mean": true, "fcnet_activation": "tanh"}, "input": "sampler", "horizon": 1500, "vf_loss_coeff": 1.0, "compress_observations": false, "num_envs_per_worker": 1, "sample_async": false, "num_gpus": 0, "output_max_file_size": 67108864, "lambda": 0.97, "multiagent": {"policy_graphs": {}, "policies_to_train": null, "policy_mapping_fn": null}, "output": null, "num_cpus_per_worker": 1, "preprocessor_pref": "deepmind", "clip_param": 0.3, "kl_target": 0.01, "output_compress_columns": ["obs", "new_obs"], "collect_metrics_timeout": 180, "sgd_minibatch_size": 128, "train_batch_size": 30000, "callbacks": {"on_sample_end": null, "on_train_result": null, "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7f2c028b6c50>", "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7f2c028b6240>", "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7f2c028b6898>"}, "observation_filter": "MeanStdFilter", "synchronize_filters": true, "gamma": 0.99, "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "env_config": {"flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"buf_length\": 1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.1,\n            \"eta3\": 0.1,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 1.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnv\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 600,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}", "run": "PPO"}, "env": "MultiWaveAttenuationMergePOEnv-v0_[eta1, eta2, eta3]:[1.0, 0.1, 0.1]_t_min:1.0_buf_len: 1", "optimizer": {}, "num_workers": 20, "num_cpus_for_driver": 1, "lr_schedule": null, "batch_mode": "truncate_episodes"}, "time_this_iter_s": 50.55336093902588, "timesteps_since_restore": 10968633, "info": {"update_time_ms": 8.042, "num_steps_sampled": 10968633, "sample_time_ms": 32679.275, "grad_time_ms": 16351.249, "default": {"entropy": 1.7008155584335327, "kl": 0.015978224575519562, "vf_loss": 31.224855422973633, "vf_explained_var": 0.8221975564956665, "policy_loss": -0.011890501715242863, "total_loss": 31.218358993530273, "cur_lr": 0.0005000000237487257, "cur_kl_coeff": 0.33750006556510925}, "num_steps_trained": 10968633, "load_time_ms": 9.322}, "time_total_s": 8365.657580375671, "num_metric_batches_dropped": 0, "timestamp": 1558314861, "episode_reward_max": 1214.2447229245888, "timesteps_this_iter": 64632, "episode_reward_min": 50.593066831721494, "date": "2019-05-20_01-14-21", "policy_reward_mean": {}, "time_since_restore": 8365.657580375671, "episodes_total": 4682, "iterations_since_restore": 165, "pid": 46880, "episodes_this_iter": 28, "episode_len_mean": 688.69, "done": false, "training_iteration": 165, "custom_metrics": {"cost2_mean": -0.08061973282139391, "outflow_rate_mean": 1087.3024970507715, "cost2_min": -0.8727616012221989, "system_level_velocity_mean": 13.111264907761917, "cost1_min": 22.93146791306801, "cost1_mean": 331.7954548898713, "cost1_max": 452.87237007361693, "outflow_rate_max": 1335.4315244697887, "system_level_velocity_max": 18.33703373899913, "outflow_rate_min": 498.1075225188462, "cost2_max": 0.0, "system_level_velocity_min": 9.379648642674816}, "node_ip": "10.138.0.2", "timesteps_total": 10968633}
{"hostname": "flow-main", "episode_reward_mean": 955.9115497064311, "experiment_id": "383e98f8614b4235818372cc4d63f9e0", "config": {"use_gae": true, "tf_session_args": {"allow_soft_placement": true, "gpu_options": {"allow_growth": true}, "inter_op_parallelism_threads": 2, "device_count": {"CPU": 1}, "intra_op_parallelism_threads": 2, "log_device_placement": false}, "entropy_coeff": 0.0, "kl_coeff": 0.2, "num_gpus_per_worker": 0, "monitor": false, "input_evaluation": null, "clip_rewards": null, "vf_share_layers": false, "straggler_mitigation": false, "log_level": "INFO", "clip_actions": false, "simple_optimizer": false, "sample_batch_size": 750, "vf_clip_param": 1000000.0, "custom_resources_per_worker": {}, "lr": 0.0005, "num_sgd_iter": 10, "model": {"grayscale": false, "dim": 84, "custom_model": null, "free_log_std": false, "custom_options": {}, "lstm_cell_size": 256, "framestack": true, "squash_to_range": false, "conv_filters": null, "channel_major": false, "custom_preprocessor": null, "fcnet_hiddens": [128, 64, 32], "max_seq_len": 20, "lstm_use_prev_action_reward": false, "conv_activation": "relu", "use_lstm": false, "zero_mean": true, "fcnet_activation": "tanh"}, "input": "sampler", "horizon": 1500, "vf_loss_coeff": 1.0, "compress_observations": false, "num_envs_per_worker": 1, "sample_async": false, "num_gpus": 0, "output_max_file_size": 67108864, "lambda": 0.97, "multiagent": {"policy_graphs": {}, "policies_to_train": null, "policy_mapping_fn": null}, "output": null, "num_cpus_per_worker": 1, "preprocessor_pref": "deepmind", "clip_param": 0.3, "kl_target": 0.01, "output_compress_columns": ["obs", "new_obs"], "collect_metrics_timeout": 180, "sgd_minibatch_size": 128, "train_batch_size": 30000, "callbacks": {"on_sample_end": null, "on_train_result": null, "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7f2c02cec080>", "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7f2c02cec908>", "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7f2c02cecb00>"}, "observation_filter": "MeanStdFilter", "synchronize_filters": true, "gamma": 0.99, "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "env_config": {"flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"buf_length\": 1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.1,\n            \"eta3\": 0.1,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 1.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnv\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 600,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}", "run": "PPO"}, "env": "MultiWaveAttenuationMergePOEnv-v0_[eta1, eta2, eta3]:[1.0, 0.1, 0.1]_t_min:1.0_buf_len: 1", "optimizer": {}, "num_workers": 20, "num_cpus_for_driver": 1, "lr_schedule": null, "batch_mode": "truncate_episodes"}, "time_this_iter_s": 49.45257544517517, "timesteps_since_restore": 11031000, "info": {"update_time_ms": 7.861, "num_steps_sampled": 11031000, "sample_time_ms": 32849.566, "grad_time_ms": 16045.48, "default": {"entropy": 1.6919584274291992, "kl": 0.016335679218173027, "vf_loss": 33.287410736083984, "vf_explained_var": 0.8275108337402344, "policy_loss": -0.01216681394726038, "total_loss": 33.28076171875, "cur_lr": 0.0005000000237487257, "cur_kl_coeff": 0.33750009536743164}, "num_steps_trained": 11031000, "load_time_ms": 9.466}, "time_total_s": 8415.110155820847, "num_metric_batches_dropped": 0, "timestamp": 1558314910, "episode_reward_max": 1206.2431269147305, "timesteps_this_iter": 62367, "episode_reward_min": 50.593066831721494, "date": "2019-05-20_01-15-10", "policy_reward_mean": {}, "time_since_restore": 8415.110155820847, "episodes_total": 4713, "iterations_since_restore": 166, "pid": 46880, "episodes_this_iter": 31, "episode_len_mean": 686.86, "done": false, "training_iteration": 166, "custom_metrics": {"cost2_mean": -0.08519311795767123, "outflow_rate_mean": 1080.5355646280138, "cost2_min": -1.25, "system_level_velocity_mean": 13.017072820673189, "cost1_min": 22.93146791306801, "cost1_mean": 328.12326900430105, "cost1_max": 452.87237007361693, "outflow_rate_max": 1335.4315244697887, "system_level_velocity_max": 18.78666021779368, "outflow_rate_min": 498.1075225188462, "cost2_max": 0.0, "system_level_velocity_min": 8.32037724619962}, "node_ip": "10.138.0.2", "timesteps_total": 11031000}
{"hostname": "flow-main", "episode_reward_mean": 975.2511726454035, "experiment_id": "383e98f8614b4235818372cc4d63f9e0", "config": {"use_gae": true, "tf_session_args": {"allow_soft_placement": true, "gpu_options": {"allow_growth": true}, "inter_op_parallelism_threads": 2, "device_count": {"CPU": 1}, "intra_op_parallelism_threads": 2, "log_device_placement": false}, "entropy_coeff": 0.0, "kl_coeff": 0.2, "num_gpus_per_worker": 0, "monitor": false, "input_evaluation": null, "clip_rewards": null, "vf_share_layers": false, "straggler_mitigation": false, "log_level": "INFO", "clip_actions": false, "simple_optimizer": false, "sample_batch_size": 750, "vf_clip_param": 1000000.0, "custom_resources_per_worker": {}, "lr": 0.0005, "num_sgd_iter": 10, "model": {"grayscale": false, "dim": 84, "custom_model": null, "free_log_std": false, "custom_options": {}, "lstm_cell_size": 256, "framestack": true, "squash_to_range": false, "conv_filters": null, "channel_major": false, "custom_preprocessor": null, "fcnet_hiddens": [128, 64, 32], "max_seq_len": 20, "lstm_use_prev_action_reward": false, "conv_activation": "relu", "use_lstm": false, "zero_mean": true, "fcnet_activation": "tanh"}, "input": "sampler", "horizon": 1500, "vf_loss_coeff": 1.0, "compress_observations": false, "num_envs_per_worker": 1, "sample_async": false, "num_gpus": 0, "output_max_file_size": 67108864, "lambda": 0.97, "multiagent": {"policy_graphs": {}, "policies_to_train": null, "policy_mapping_fn": null}, "output": null, "num_cpus_per_worker": 1, "preprocessor_pref": "deepmind", "clip_param": 0.3, "kl_target": 0.01, "output_compress_columns": ["obs", "new_obs"], "collect_metrics_timeout": 180, "sgd_minibatch_size": 128, "train_batch_size": 30000, "callbacks": {"on_sample_end": null, "on_train_result": null, "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7f2c028b64e0>", "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7f2c028b6828>", "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7f2c028b6c18>"}, "observation_filter": "MeanStdFilter", "synchronize_filters": true, "gamma": 0.99, "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "env_config": {"flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"buf_length\": 1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.1,\n            \"eta3\": 0.1,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 1.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnv\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 600,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}", "run": "PPO"}, "env": "MultiWaveAttenuationMergePOEnv-v0_[eta1, eta2, eta3]:[1.0, 0.1, 0.1]_t_min:1.0_buf_len: 1", "optimizer": {}, "num_workers": 20, "num_cpus_for_driver": 1, "lr_schedule": null, "batch_mode": "truncate_episodes"}, "time_this_iter_s": 50.617446422576904, "timesteps_since_restore": 11094885, "info": {"update_time_ms": 7.852, "num_steps_sampled": 11094885, "sample_time_ms": 33031.37, "grad_time_ms": 16120.151, "default": {"entropy": 1.6951929330825806, "kl": 0.016823414713144302, "vf_loss": 31.64167022705078, "vf_explained_var": 0.8270664215087891, "policy_loss": -0.013077323324978352, "total_loss": 31.6342716217041, "cur_lr": 0.0005000000237487257, "cur_kl_coeff": 0.33750003576278687}, "num_steps_trained": 11094885, "load_time_ms": 9.549}, "time_total_s": 8465.727602243423, "num_metric_batches_dropped": 0, "timestamp": 1558314961, "episode_reward_max": 1281.5514067862416, "timesteps_this_iter": 63885, "episode_reward_min": 74.91886620111414, "date": "2019-05-20_01-16-01", "policy_reward_mean": {}, "time_since_restore": 8465.727602243423, "episodes_total": 4740, "iterations_since_restore": 167, "pid": 46880, "episodes_this_iter": 27, "episode_len_mean": 693.52, "done": false, "training_iteration": 167, "custom_metrics": {"cost2_mean": -0.09527332832894259, "outflow_rate_mean": 1094.81364271127, "cost2_min": -1.25, "system_level_velocity_mean": 13.13183931737263, "cost1_min": 35.10825935853884, "cost1_mean": 335.8515623260719, "cost1_max": 456.7909324216756, "outflow_rate_max": 1335.4315244697887, "system_level_velocity_max": 18.78666021779368, "outflow_rate_min": 529.1567223967953, "cost2_max": 0.0, "system_level_velocity_min": 8.32037724619962}, "node_ip": "10.138.0.2", "timesteps_total": 11094885}
{"hostname": "flow-main", "episode_reward_mean": 983.57239546098, "experiment_id": "383e98f8614b4235818372cc4d63f9e0", "config": {"use_gae": true, "tf_session_args": {"allow_soft_placement": true, "gpu_options": {"allow_growth": true}, "inter_op_parallelism_threads": 2, "device_count": {"CPU": 1}, "intra_op_parallelism_threads": 2, "log_device_placement": false}, "entropy_coeff": 0.0, "kl_coeff": 0.2, "num_gpus_per_worker": 0, "monitor": false, "input_evaluation": null, "clip_rewards": null, "vf_share_layers": false, "straggler_mitigation": false, "log_level": "INFO", "clip_actions": false, "simple_optimizer": false, "sample_batch_size": 750, "vf_clip_param": 1000000.0, "custom_resources_per_worker": {}, "lr": 0.0005, "num_sgd_iter": 10, "model": {"grayscale": false, "dim": 84, "custom_model": null, "free_log_std": false, "custom_options": {}, "lstm_cell_size": 256, "framestack": true, "squash_to_range": false, "conv_filters": null, "channel_major": false, "custom_preprocessor": null, "fcnet_hiddens": [128, 64, 32], "max_seq_len": 20, "lstm_use_prev_action_reward": false, "conv_activation": "relu", "use_lstm": false, "zero_mean": true, "fcnet_activation": "tanh"}, "input": "sampler", "horizon": 1500, "vf_loss_coeff": 1.0, "compress_observations": false, "num_envs_per_worker": 1, "sample_async": false, "num_gpus": 0, "output_max_file_size": 67108864, "lambda": 0.97, "multiagent": {"policy_graphs": {}, "policies_to_train": null, "policy_mapping_fn": null}, "output": null, "num_cpus_per_worker": 1, "preprocessor_pref": "deepmind", "clip_param": 0.3, "kl_target": 0.01, "output_compress_columns": ["obs", "new_obs"], "collect_metrics_timeout": 180, "sgd_minibatch_size": 128, "train_batch_size": 30000, "callbacks": {"on_sample_end": null, "on_train_result": null, "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7f2c028b2be0>", "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7f2c028b2588>", "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7f2c028b2828>"}, "observation_filter": "MeanStdFilter", "synchronize_filters": true, "gamma": 0.99, "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "env_config": {"flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"buf_length\": 1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.1,\n            \"eta3\": 0.1,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 1.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnv\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 600,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}", "run": "PPO"}, "env": "MultiWaveAttenuationMergePOEnv-v0_[eta1, eta2, eta3]:[1.0, 0.1, 0.1]_t_min:1.0_buf_len: 1", "optimizer": {}, "num_workers": 20, "num_cpus_for_driver": 1, "lr_schedule": null, "batch_mode": "truncate_episodes"}, "time_this_iter_s": 49.72919535636902, "timesteps_since_restore": 11160715, "info": {"update_time_ms": 7.804, "num_steps_sampled": 11160715, "sample_time_ms": 33190.773, "grad_time_ms": 15879.304, "default": {"entropy": 1.7118102312088013, "kl": 0.01702268235385418, "vf_loss": 31.591842651367188, "vf_explained_var": 0.820867657661438, "policy_loss": -0.012237164191901684, "total_loss": 31.58534812927246, "cur_lr": 0.0005000000237487257, "cur_kl_coeff": 0.33750006556510925}, "num_steps_trained": 11160715, "load_time_ms": 9.878}, "time_total_s": 8515.456797599792, "num_metric_batches_dropped": 0, "timestamp": 1558315011, "episode_reward_max": 1281.5514067862416, "timesteps_this_iter": 65830, "episode_reward_min": 74.91886620111414, "date": "2019-05-20_01-16-51", "policy_reward_mean": {}, "time_since_restore": 8515.456797599792, "episodes_total": 4768, "iterations_since_restore": 168, "pid": 46880, "episodes_this_iter": 28, "episode_len_mean": 693.52, "done": false, "training_iteration": 168, "custom_metrics": {"cost2_mean": -0.08703500532647865, "outflow_rate_mean": 1096.355840704812, "cost2_min": -1.25, "system_level_velocity_mean": 13.169301058895915, "cost1_min": 35.10825935853884, "cost1_mean": 336.65960408510205, "cost1_max": 456.7909324216756, "outflow_rate_max": 1316.2543722350533, "system_level_velocity_max": 18.78666021779368, "outflow_rate_min": 529.1567223967953, "cost2_max": 0.0, "system_level_velocity_min": 8.32037724619962}, "node_ip": "10.138.0.2", "timesteps_total": 11160715}
{"hostname": "flow-main", "episode_reward_mean": 982.6703627235584, "experiment_id": "383e98f8614b4235818372cc4d63f9e0", "config": {"use_gae": true, "tf_session_args": {"allow_soft_placement": true, "gpu_options": {"allow_growth": true}, "inter_op_parallelism_threads": 2, "device_count": {"CPU": 1}, "intra_op_parallelism_threads": 2, "log_device_placement": false}, "entropy_coeff": 0.0, "kl_coeff": 0.2, "num_gpus_per_worker": 0, "monitor": false, "input_evaluation": null, "clip_rewards": null, "vf_share_layers": false, "straggler_mitigation": false, "log_level": "INFO", "clip_actions": false, "simple_optimizer": false, "sample_batch_size": 750, "vf_clip_param": 1000000.0, "custom_resources_per_worker": {}, "lr": 0.0005, "num_sgd_iter": 10, "model": {"grayscale": false, "dim": 84, "custom_model": null, "free_log_std": false, "custom_options": {}, "lstm_cell_size": 256, "framestack": true, "squash_to_range": false, "conv_filters": null, "channel_major": false, "custom_preprocessor": null, "fcnet_hiddens": [128, 64, 32], "max_seq_len": 20, "lstm_use_prev_action_reward": false, "conv_activation": "relu", "use_lstm": false, "zero_mean": true, "fcnet_activation": "tanh"}, "input": "sampler", "horizon": 1500, "vf_loss_coeff": 1.0, "compress_observations": false, "num_envs_per_worker": 1, "sample_async": false, "num_gpus": 0, "output_max_file_size": 67108864, "lambda": 0.97, "multiagent": {"policy_graphs": {}, "policies_to_train": null, "policy_mapping_fn": null}, "output": null, "num_cpus_per_worker": 1, "preprocessor_pref": "deepmind", "clip_param": 0.3, "kl_target": 0.01, "output_compress_columns": ["obs", "new_obs"], "collect_metrics_timeout": 180, "sgd_minibatch_size": 128, "train_batch_size": 30000, "callbacks": {"on_sample_end": null, "on_train_result": null, "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7f2c028c68d0>", "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7f2c028c69e8>", "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7f2c028c6f28>"}, "observation_filter": "MeanStdFilter", "synchronize_filters": true, "gamma": 0.99, "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "env_config": {"flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"buf_length\": 1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.1,\n            \"eta3\": 0.1,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 1.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnv\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 600,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}", "run": "PPO"}, "env": "MultiWaveAttenuationMergePOEnv-v0_[eta1, eta2, eta3]:[1.0, 0.1, 0.1]_t_min:1.0_buf_len: 1", "optimizer": {}, "num_workers": 20, "num_cpus_for_driver": 1, "lr_schedule": null, "batch_mode": "truncate_episodes"}, "time_this_iter_s": 50.41994619369507, "timesteps_since_restore": 11227275, "info": {"update_time_ms": 7.997, "num_steps_sampled": 11227275, "sample_time_ms": 33558.869, "grad_time_ms": 15774.39, "default": {"entropy": 1.7283262014389038, "kl": 0.017149290069937706, "vf_loss": 31.910945892333984, "vf_explained_var": 0.8341602087020874, "policy_loss": -0.01134731899946928, "total_loss": 31.905385971069336, "cur_lr": 0.0005000000237487257, "cur_kl_coeff": 0.33750006556510925}, "num_steps_trained": 11227275, "load_time_ms": 9.686}, "time_total_s": 8565.876743793488, "num_metric_batches_dropped": 0, "timestamp": 1558315061, "episode_reward_max": 1281.5514067862416, "timesteps_this_iter": 66560, "episode_reward_min": 74.91886620111414, "date": "2019-05-20_01-17-41", "policy_reward_mean": {}, "time_since_restore": 8565.876743793488, "episodes_total": 4797, "iterations_since_restore": 169, "pid": 46880, "episodes_this_iter": 29, "episode_len_mean": 693.52, "done": false, "training_iteration": 169, "custom_metrics": {"cost2_mean": -0.08105610633794026, "outflow_rate_mean": 1088.798368229949, "cost2_min": -1.25, "system_level_velocity_mean": 13.051700715857795, "cost1_min": 35.10825935853884, "cost1_mean": 333.6938903340939, "cost1_max": 479.92730874891873, "outflow_rate_max": 1354.9322453059876, "system_level_velocity_max": 18.78666021779368, "outflow_rate_min": 529.1567223967953, "cost2_max": 0.0, "system_level_velocity_min": 8.32037724619962}, "node_ip": "10.138.0.2", "timesteps_total": 11227275}
{"hostname": "flow-main", "episode_reward_mean": 993.3234670187339, "experiment_id": "383e98f8614b4235818372cc4d63f9e0", "config": {"use_gae": true, "tf_session_args": {"allow_soft_placement": true, "gpu_options": {"allow_growth": true}, "inter_op_parallelism_threads": 2, "device_count": {"CPU": 1}, "intra_op_parallelism_threads": 2, "log_device_placement": false}, "entropy_coeff": 0.0, "kl_coeff": 0.2, "num_gpus_per_worker": 0, "monitor": false, "input_evaluation": null, "clip_rewards": null, "vf_share_layers": false, "straggler_mitigation": false, "log_level": "INFO", "clip_actions": false, "simple_optimizer": false, "sample_batch_size": 750, "vf_clip_param": 1000000.0, "custom_resources_per_worker": {}, "lr": 0.0005, "num_sgd_iter": 10, "model": {"grayscale": false, "dim": 84, "custom_model": null, "free_log_std": false, "custom_options": {}, "lstm_cell_size": 256, "framestack": true, "squash_to_range": false, "conv_filters": null, "channel_major": false, "custom_preprocessor": null, "fcnet_hiddens": [128, 64, 32], "max_seq_len": 20, "lstm_use_prev_action_reward": false, "conv_activation": "relu", "use_lstm": false, "zero_mean": true, "fcnet_activation": "tanh"}, "input": "sampler", "horizon": 1500, "vf_loss_coeff": 1.0, "compress_observations": false, "num_envs_per_worker": 1, "sample_async": false, "num_gpus": 0, "output_max_file_size": 67108864, "lambda": 0.97, "multiagent": {"policy_graphs": {}, "policies_to_train": null, "policy_mapping_fn": null}, "output": null, "num_cpus_per_worker": 1, "preprocessor_pref": "deepmind", "clip_param": 0.3, "kl_target": 0.01, "output_compress_columns": ["obs", "new_obs"], "collect_metrics_timeout": 180, "sgd_minibatch_size": 128, "train_batch_size": 30000, "callbacks": {"on_sample_end": null, "on_train_result": null, "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7f2c02cdb0f0>", "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7f2c02cdb780>", "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7f2c028989e8>"}, "observation_filter": "MeanStdFilter", "synchronize_filters": true, "gamma": 0.99, "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "env_config": {"flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"buf_length\": 1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.1,\n            \"eta3\": 0.1,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 1.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnv\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 600,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}", "run": "PPO"}, "env": "MultiWaveAttenuationMergePOEnv-v0_[eta1, eta2, eta3]:[1.0, 0.1, 0.1]_t_min:1.0_buf_len: 1", "optimizer": {}, "num_workers": 20, "num_cpus_for_driver": 1, "lr_schedule": null, "batch_mode": "truncate_episodes"}, "time_this_iter_s": 51.32671570777893, "timesteps_since_restore": 11291975, "info": {"update_time_ms": 7.946, "num_steps_sampled": 11291975, "sample_time_ms": 33662.598, "grad_time_ms": 15875.032, "default": {"entropy": 1.7209922075271606, "kl": 0.016701670363545418, "vf_loss": 32.22651290893555, "vf_explained_var": 0.8269676566123962, "policy_loss": -0.011272707022726536, "total_loss": 32.220882415771484, "cur_lr": 0.0005000000237487257, "cur_kl_coeff": 0.33750006556510925}, "num_steps_trained": 11291975, "load_time_ms": 9.745}, "time_total_s": 8617.203459501266, "num_metric_batches_dropped": 0, "timestamp": 1558315113, "episode_reward_max": 1281.5514067862416, "timesteps_this_iter": 64700, "episode_reward_min": 841.2922168479827, "date": "2019-05-20_01-18-33", "policy_reward_mean": {}, "time_since_restore": 8617.203459501266, "episodes_total": 4825, "iterations_since_restore": 170, "pid": 46880, "episodes_this_iter": 28, "episode_len_mean": 700.0, "done": false, "training_iteration": 170, "custom_metrics": {"cost2_mean": -0.05761820392942853, "outflow_rate_mean": 1093.0147476351513, "cost2_min": -0.842780586696237, "system_level_velocity_mean": 12.952797595391967, "cost1_min": 237.37864519294396, "cost1_mean": 335.8373120911163, "cost1_max": 479.92730874891873, "outflow_rate_max": 1354.9322453059876, "system_level_velocity_max": 18.349340645480236, "outflow_rate_min": 898.4464919744198, "cost2_max": 0.0, "system_level_velocity_min": 9.284497001908461}, "node_ip": "10.138.0.2", "timesteps_total": 11291975}
{"hostname": "flow-main", "episode_reward_mean": 991.3104724329266, "experiment_id": "383e98f8614b4235818372cc4d63f9e0", "config": {"use_gae": true, "tf_session_args": {"allow_soft_placement": true, "gpu_options": {"allow_growth": true}, "inter_op_parallelism_threads": 2, "device_count": {"CPU": 1}, "intra_op_parallelism_threads": 2, "log_device_placement": false}, "entropy_coeff": 0.0, "kl_coeff": 0.2, "num_gpus_per_worker": 0, "monitor": false, "input_evaluation": null, "clip_rewards": null, "vf_share_layers": false, "straggler_mitigation": false, "log_level": "INFO", "clip_actions": false, "simple_optimizer": false, "sample_batch_size": 750, "vf_clip_param": 1000000.0, "custom_resources_per_worker": {}, "lr": 0.0005, "num_sgd_iter": 10, "model": {"grayscale": false, "dim": 84, "custom_model": null, "free_log_std": false, "custom_options": {}, "lstm_cell_size": 256, "framestack": true, "squash_to_range": false, "conv_filters": null, "channel_major": false, "custom_preprocessor": null, "fcnet_hiddens": [128, 64, 32], "max_seq_len": 20, "lstm_use_prev_action_reward": false, "conv_activation": "relu", "use_lstm": false, "zero_mean": true, "fcnet_activation": "tanh"}, "input": "sampler", "horizon": 1500, "vf_loss_coeff": 1.0, "compress_observations": false, "num_envs_per_worker": 1, "sample_async": false, "num_gpus": 0, "output_max_file_size": 67108864, "lambda": 0.97, "multiagent": {"policy_graphs": {}, "policies_to_train": null, "policy_mapping_fn": null}, "output": null, "num_cpus_per_worker": 1, "preprocessor_pref": "deepmind", "clip_param": 0.3, "kl_target": 0.01, "output_compress_columns": ["obs", "new_obs"], "collect_metrics_timeout": 180, "sgd_minibatch_size": 128, "train_batch_size": 30000, "callbacks": {"on_sample_end": null, "on_train_result": null, "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7f2c028c1860>", "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7f2c028c1e10>", "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7f2c028c1908>"}, "observation_filter": "MeanStdFilter", "synchronize_filters": true, "gamma": 0.99, "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "env_config": {"flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"buf_length\": 1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.1,\n            \"eta3\": 0.1,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 1.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnv\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 600,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}", "run": "PPO"}, "env": "MultiWaveAttenuationMergePOEnv-v0_[eta1, eta2, eta3]:[1.0, 0.1, 0.1]_t_min:1.0_buf_len: 1", "optimizer": {}, "num_workers": 20, "num_cpus_for_driver": 1, "lr_schedule": null, "batch_mode": "truncate_episodes"}, "time_this_iter_s": 50.187304973602295, "timesteps_since_restore": 11357343, "info": {"update_time_ms": 7.944, "num_steps_sampled": 11357343, "sample_time_ms": 33856.636, "grad_time_ms": 15808.708, "default": {"entropy": 1.7314742803573608, "kl": 0.016669124364852905, "vf_loss": 32.68512725830078, "vf_explained_var": 0.8251988291740417, "policy_loss": -0.012148451060056686, "total_loss": 32.67860794067383, "cur_lr": 0.0005000000237487257, "cur_kl_coeff": 0.33750006556510925}, "num_steps_trained": 11357343, "load_time_ms": 9.566}, "time_total_s": 8667.390764474869, "num_metric_batches_dropped": 0, "timestamp": 1558315163, "episode_reward_max": 1235.6856383509653, "timesteps_this_iter": 65368, "episode_reward_min": 841.2922168479827, "date": "2019-05-20_01-19-23", "policy_reward_mean": {}, "time_since_restore": 8667.390764474869, "episodes_total": 4852, "iterations_since_restore": 171, "pid": 46880, "episodes_this_iter": 27, "episode_len_mean": 700.0, "done": false, "training_iteration": 171, "custom_metrics": {"cost2_mean": -0.05675997949102387, "outflow_rate_mean": 1094.4220837944347, "cost2_min": -0.3924063897060541, "system_level_velocity_mean": 12.96122824551598, "cost1_min": 240.46027987328125, "cost1_mean": 336.3176294204652, "cost1_max": 482.0840529448009, "outflow_rate_max": 1354.9322453059876, "system_level_velocity_max": 18.39883240384839, "outflow_rate_min": 898.4464919744198, "cost2_max": 0.0, "system_level_velocity_min": 9.284497001908461}, "node_ip": "10.138.0.2", "timesteps_total": 11357343}
{"hostname": "flow-main", "episode_reward_mean": 981.7192314328524, "experiment_id": "383e98f8614b4235818372cc4d63f9e0", "config": {"use_gae": true, "tf_session_args": {"allow_soft_placement": true, "gpu_options": {"allow_growth": true}, "inter_op_parallelism_threads": 2, "device_count": {"CPU": 1}, "intra_op_parallelism_threads": 2, "log_device_placement": false}, "entropy_coeff": 0.0, "kl_coeff": 0.2, "num_gpus_per_worker": 0, "monitor": false, "input_evaluation": null, "clip_rewards": null, "vf_share_layers": false, "straggler_mitigation": false, "log_level": "INFO", "clip_actions": false, "simple_optimizer": false, "sample_batch_size": 750, "vf_clip_param": 1000000.0, "custom_resources_per_worker": {}, "lr": 0.0005, "num_sgd_iter": 10, "model": {"grayscale": false, "dim": 84, "custom_model": null, "free_log_std": false, "custom_options": {}, "lstm_cell_size": 256, "framestack": true, "squash_to_range": false, "conv_filters": null, "channel_major": false, "custom_preprocessor": null, "fcnet_hiddens": [128, 64, 32], "max_seq_len": 20, "lstm_use_prev_action_reward": false, "conv_activation": "relu", "use_lstm": false, "zero_mean": true, "fcnet_activation": "tanh"}, "input": "sampler", "horizon": 1500, "vf_loss_coeff": 1.0, "compress_observations": false, "num_envs_per_worker": 1, "sample_async": false, "num_gpus": 0, "output_max_file_size": 67108864, "lambda": 0.97, "multiagent": {"policy_graphs": {}, "policies_to_train": null, "policy_mapping_fn": null}, "output": null, "num_cpus_per_worker": 1, "preprocessor_pref": "deepmind", "clip_param": 0.3, "kl_target": 0.01, "output_compress_columns": ["obs", "new_obs"], "collect_metrics_timeout": 180, "sgd_minibatch_size": 128, "train_batch_size": 30000, "callbacks": {"on_sample_end": null, "on_train_result": null, "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7f2c028971d0>", "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7f2c028979b0>", "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7f2c02897860>"}, "observation_filter": "MeanStdFilter", "synchronize_filters": true, "gamma": 0.99, "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "env_config": {"flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"buf_length\": 1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.1,\n            \"eta3\": 0.1,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 1.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnv\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 600,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}", "run": "PPO"}, "env": "MultiWaveAttenuationMergePOEnv-v0_[eta1, eta2, eta3]:[1.0, 0.1, 0.1]_t_min:1.0_buf_len: 1", "optimizer": {}, "num_workers": 20, "num_cpus_for_driver": 1, "lr_schedule": null, "batch_mode": "truncate_episodes"}, "time_this_iter_s": 53.65366744995117, "timesteps_since_restore": 11422711, "info": {"update_time_ms": 7.867, "num_steps_sampled": 11422711, "sample_time_ms": 34188.647, "grad_time_ms": 16107.427, "default": {"entropy": 1.7314512729644775, "kl": 0.01669417694211006, "vf_loss": 32.75457000732422, "vf_explained_var": 0.8251123428344727, "policy_loss": -0.01203342154622078, "total_loss": 32.7481689453125, "cur_lr": 0.0005000000237487257, "cur_kl_coeff": 0.33750006556510925}, "num_steps_trained": 11422711, "load_time_ms": 9.15}, "time_total_s": 8721.04443192482, "num_metric_batches_dropped": 0, "timestamp": 1558315216, "episode_reward_max": 1235.6856383509653, "timesteps_this_iter": 65368, "episode_reward_min": 59.68455475825265, "date": "2019-05-20_01-20-16", "policy_reward_mean": {}, "time_since_restore": 8721.04443192482, "episodes_total": 4880, "iterations_since_restore": 172, "pid": 46880, "episodes_this_iter": 28, "episode_len_mean": 693.35, "done": false, "training_iteration": 172, "custom_metrics": {"cost2_mean": -0.060187280683375845, "outflow_rate_mean": 1088.910290267136, "cost2_min": -0.3924063897060541, "system_level_velocity_mean": 12.998519828714224, "cost1_min": 23.274416613357584, "cost1_mean": 332.8232548236387, "cost1_max": 482.0840529448009, "outflow_rate_max": 1354.9322453059876, "system_level_velocity_max": 18.39883240384839, "outflow_rate_min": 515.0149842449839, "cost2_max": 0.0, "system_level_velocity_min": 9.099421219577426}, "node_ip": "10.138.0.2", "timesteps_total": 11422711}
{"hostname": "flow-main", "episode_reward_mean": 976.252657787756, "experiment_id": "383e98f8614b4235818372cc4d63f9e0", "config": {"use_gae": true, "tf_session_args": {"allow_soft_placement": true, "gpu_options": {"allow_growth": true}, "inter_op_parallelism_threads": 2, "device_count": {"CPU": 1}, "intra_op_parallelism_threads": 2, "log_device_placement": false}, "entropy_coeff": 0.0, "kl_coeff": 0.2, "num_gpus_per_worker": 0, "monitor": false, "input_evaluation": null, "clip_rewards": null, "vf_share_layers": false, "straggler_mitigation": false, "log_level": "INFO", "clip_actions": false, "simple_optimizer": false, "sample_batch_size": 750, "vf_clip_param": 1000000.0, "custom_resources_per_worker": {}, "lr": 0.0005, "num_sgd_iter": 10, "model": {"grayscale": false, "dim": 84, "custom_model": null, "free_log_std": false, "custom_options": {}, "lstm_cell_size": 256, "framestack": true, "squash_to_range": false, "conv_filters": null, "channel_major": false, "custom_preprocessor": null, "fcnet_hiddens": [128, 64, 32], "max_seq_len": 20, "lstm_use_prev_action_reward": false, "conv_activation": "relu", "use_lstm": false, "zero_mean": true, "fcnet_activation": "tanh"}, "input": "sampler", "horizon": 1500, "vf_loss_coeff": 1.0, "compress_observations": false, "num_envs_per_worker": 1, "sample_async": false, "num_gpus": 0, "output_max_file_size": 67108864, "lambda": 0.97, "multiagent": {"policy_graphs": {}, "policies_to_train": null, "policy_mapping_fn": null}, "output": null, "num_cpus_per_worker": 1, "preprocessor_pref": "deepmind", "clip_param": 0.3, "kl_target": 0.01, "output_compress_columns": ["obs", "new_obs"], "collect_metrics_timeout": 180, "sgd_minibatch_size": 128, "train_batch_size": 30000, "callbacks": {"on_sample_end": null, "on_train_result": null, "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7f2c02d33a58>", "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7f2c028b6358>", "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7f2c028b6128>"}, "observation_filter": "MeanStdFilter", "synchronize_filters": true, "gamma": 0.99, "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "env_config": {"flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"buf_length\": 1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.1,\n            \"eta3\": 0.1,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 1.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnv\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 600,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}", "run": "PPO"}, "env": "MultiWaveAttenuationMergePOEnv-v0_[eta1, eta2, eta3]:[1.0, 0.1, 0.1]_t_min:1.0_buf_len: 1", "optimizer": {}, "num_workers": 20, "num_cpus_for_driver": 1, "lr_schedule": null, "batch_mode": "truncate_episodes"}, "time_this_iter_s": 50.73645234107971, "timesteps_since_restore": 11486044, "info": {"update_time_ms": 8.16, "num_steps_sampled": 11486044, "sample_time_ms": 34216.854, "grad_time_ms": 16156.965, "default": {"entropy": 1.7331452369689941, "kl": 0.01585196517407894, "vf_loss": 33.73542022705078, "vf_explained_var": 0.8215819597244263, "policy_loss": -0.012080118991434574, "total_loss": 33.72869110107422, "cur_lr": 0.0005000000237487257, "cur_kl_coeff": 0.33750003576278687}, "num_steps_trained": 11486044, "load_time_ms": 9.268}, "time_total_s": 8771.7808842659, "num_metric_batches_dropped": 0, "timestamp": 1558315267, "episode_reward_max": 1235.6856383509653, "timesteps_this_iter": 63333, "episode_reward_min": 32.08726545921125, "date": "2019-05-20_01-21-07", "policy_reward_mean": {}, "time_since_restore": 8771.7808842659, "episodes_total": 4909, "iterations_since_restore": 173, "pid": 46880, "episodes_this_iter": 29, "episode_len_mean": 686.54, "done": false, "training_iteration": 173, "custom_metrics": {"cost2_mean": -0.05147621373625864, "outflow_rate_mean": 1081.0939459806466, "cost2_min": -0.3924063897060541, "system_level_velocity_mean": 13.003472998009691, "cost1_min": 12.401062871639501, "cost1_mean": 328.6478281815196, "cost1_max": 482.0840529448009, "outflow_rate_max": 1352.4500709853992, "system_level_velocity_max": 18.39883240384839, "outflow_rate_min": 459.36032418334645, "cost2_max": 0.0, "system_level_velocity_min": 9.099421219577426}, "node_ip": "10.138.0.2", "timesteps_total": 11486044}
{"hostname": "flow-main", "episode_reward_mean": 973.791021420739, "experiment_id": "383e98f8614b4235818372cc4d63f9e0", "config": {"use_gae": true, "tf_session_args": {"allow_soft_placement": true, "gpu_options": {"allow_growth": true}, "inter_op_parallelism_threads": 2, "device_count": {"CPU": 1}, "intra_op_parallelism_threads": 2, "log_device_placement": false}, "entropy_coeff": 0.0, "kl_coeff": 0.2, "num_gpus_per_worker": 0, "monitor": false, "input_evaluation": null, "clip_rewards": null, "vf_share_layers": false, "straggler_mitigation": false, "log_level": "INFO", "clip_actions": false, "simple_optimizer": false, "sample_batch_size": 750, "vf_clip_param": 1000000.0, "custom_resources_per_worker": {}, "lr": 0.0005, "num_sgd_iter": 10, "model": {"grayscale": false, "dim": 84, "custom_model": null, "free_log_std": false, "custom_options": {}, "lstm_cell_size": 256, "framestack": true, "squash_to_range": false, "conv_filters": null, "channel_major": false, "custom_preprocessor": null, "fcnet_hiddens": [128, 64, 32], "max_seq_len": 20, "lstm_use_prev_action_reward": false, "conv_activation": "relu", "use_lstm": false, "zero_mean": true, "fcnet_activation": "tanh"}, "input": "sampler", "horizon": 1500, "vf_loss_coeff": 1.0, "compress_observations": false, "num_envs_per_worker": 1, "sample_async": false, "num_gpus": 0, "output_max_file_size": 67108864, "lambda": 0.97, "multiagent": {"policy_graphs": {}, "policies_to_train": null, "policy_mapping_fn": null}, "output": null, "num_cpus_per_worker": 1, "preprocessor_pref": "deepmind", "clip_param": 0.3, "kl_target": 0.01, "output_compress_columns": ["obs", "new_obs"], "collect_metrics_timeout": 180, "sgd_minibatch_size": 128, "train_batch_size": 30000, "callbacks": {"on_sample_end": null, "on_train_result": null, "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7f2c028c13c8>", "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7f2c028c1080>", "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7f2c028c19e8>"}, "observation_filter": "MeanStdFilter", "synchronize_filters": true, "gamma": 0.99, "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "env_config": {"flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"buf_length\": 1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.1,\n            \"eta3\": 0.1,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 1.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnv\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 600,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}", "run": "PPO"}, "env": "MultiWaveAttenuationMergePOEnv-v0_[eta1, eta2, eta3]:[1.0, 0.1, 0.1]_t_min:1.0_buf_len: 1", "optimizer": {}, "num_workers": 20, "num_cpus_for_driver": 1, "lr_schedule": null, "batch_mode": "truncate_episodes"}, "time_this_iter_s": 49.56796598434448, "timesteps_since_restore": 11550869, "info": {"update_time_ms": 8.395, "num_steps_sampled": 11550869, "sample_time_ms": 34102.0, "grad_time_ms": 16388.426, "default": {"entropy": 1.7134345769882202, "kl": 0.018421659246087074, "vf_loss": 35.434844970703125, "vf_explained_var": 0.8199050426483154, "policy_loss": -0.012460913509130478, "total_loss": 35.4286003112793, "cur_lr": 0.0005000000237487257, "cur_kl_coeff": 0.33750003576278687}, "num_steps_trained": 11550869, "load_time_ms": 9.802}, "time_total_s": 8821.348850250244, "num_metric_batches_dropped": 0, "timestamp": 1558315317, "episode_reward_max": 1276.0992806487473, "timesteps_this_iter": 64825, "episode_reward_min": 32.08726545921125, "date": "2019-05-20_01-21-57", "policy_reward_mean": {}, "time_since_restore": 8821.348850250244, "episodes_total": 4939, "iterations_since_restore": 174, "pid": 46880, "episodes_this_iter": 30, "episode_len_mean": 679.88, "done": false, "training_iteration": 174, "custom_metrics": {"cost2_mean": -0.04989576140153549, "outflow_rate_mean": 1087.4790031583696, "cost2_min": -0.34716853977549217, "system_level_velocity_mean": 13.316090977175188, "cost1_min": 12.401062871639501, "cost1_mean": 332.35870170860335, "cost1_max": 481.91408789442005, "outflow_rate_max": 1355.8893597489744, "system_level_velocity_max": 18.527999506113552, "outflow_rate_min": 459.36032418334645, "cost2_max": 0.0, "system_level_velocity_min": 9.099421219577426}, "node_ip": "10.138.0.2", "timesteps_total": 11550869}
{"hostname": "flow-main", "episode_reward_mean": 957.1157021556917, "experiment_id": "383e98f8614b4235818372cc4d63f9e0", "config": {"use_gae": true, "tf_session_args": {"allow_soft_placement": true, "gpu_options": {"allow_growth": true}, "inter_op_parallelism_threads": 2, "device_count": {"CPU": 1}, "intra_op_parallelism_threads": 2, "log_device_placement": false}, "entropy_coeff": 0.0, "kl_coeff": 0.2, "num_gpus_per_worker": 0, "monitor": false, "input_evaluation": null, "clip_rewards": null, "vf_share_layers": false, "straggler_mitigation": false, "log_level": "INFO", "clip_actions": false, "simple_optimizer": false, "sample_batch_size": 750, "vf_clip_param": 1000000.0, "custom_resources_per_worker": {}, "lr": 0.0005, "num_sgd_iter": 10, "model": {"grayscale": false, "dim": 84, "custom_model": null, "free_log_std": false, "custom_options": {}, "lstm_cell_size": 256, "framestack": true, "squash_to_range": false, "conv_filters": null, "channel_major": false, "custom_preprocessor": null, "fcnet_hiddens": [128, 64, 32], "max_seq_len": 20, "lstm_use_prev_action_reward": false, "conv_activation": "relu", "use_lstm": false, "zero_mean": true, "fcnet_activation": "tanh"}, "input": "sampler", "horizon": 1500, "vf_loss_coeff": 1.0, "compress_observations": false, "num_envs_per_worker": 1, "sample_async": false, "num_gpus": 0, "output_max_file_size": 67108864, "lambda": 0.97, "multiagent": {"policy_graphs": {}, "policies_to_train": null, "policy_mapping_fn": null}, "output": null, "num_cpus_per_worker": 1, "preprocessor_pref": "deepmind", "clip_param": 0.3, "kl_target": 0.01, "output_compress_columns": ["obs", "new_obs"], "collect_metrics_timeout": 180, "sgd_minibatch_size": 128, "train_batch_size": 30000, "callbacks": {"on_sample_end": null, "on_train_result": null, "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7f2c02898ef0>", "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7f2c02898cf8>", "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7f2c02898668>"}, "observation_filter": "MeanStdFilter", "synchronize_filters": true, "gamma": 0.99, "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "env_config": {"flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"buf_length\": 1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.1,\n            \"eta3\": 0.1,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 1.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnv\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 600,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}", "run": "PPO"}, "env": "MultiWaveAttenuationMergePOEnv-v0_[eta1, eta2, eta3]:[1.0, 0.1, 0.1]_t_min:1.0_buf_len: 1", "optimizer": {}, "num_workers": 20, "num_cpus_for_driver": 1, "lr_schedule": null, "batch_mode": "truncate_episodes"}, "time_this_iter_s": 48.805806159973145, "timesteps_since_restore": 11614090, "info": {"update_time_ms": 8.46, "num_steps_sampled": 11614090, "sample_time_ms": 33816.753, "grad_time_ms": 16495.76, "default": {"entropy": 1.744874119758606, "kl": 0.01569746434688568, "vf_loss": 35.15955352783203, "vf_explained_var": 0.8126785159111023, "policy_loss": -0.01163833774626255, "total_loss": 35.1532096862793, "cur_lr": 0.0005000000237487257, "cur_kl_coeff": 0.33750006556510925}, "num_steps_trained": 11614090, "load_time_ms": 9.719}, "time_total_s": 8870.154656410217, "num_metric_batches_dropped": 0, "timestamp": 1558315366, "episode_reward_max": 1276.0992806487473, "timesteps_this_iter": 63221, "episode_reward_min": 32.08726545921125, "date": "2019-05-20_01-22-46", "policy_reward_mean": {}, "time_since_restore": 8870.154656410217, "episodes_total": 4968, "iterations_since_restore": 175, "pid": 46880, "episodes_this_iter": 29, "episode_len_mean": 673.08, "done": false, "training_iteration": 175, "custom_metrics": {"cost2_mean": -0.05952994620370939, "outflow_rate_mean": 1073.95636830537, "cost2_min": -0.8349398397838133, "system_level_velocity_mean": 13.303358771225476, "cost1_min": 12.401062871639501, "cost1_mean": 327.83775310681483, "cost1_max": 500.5049578894318, "outflow_rate_max": 1355.8893597489744, "system_level_velocity_max": 19.249942449046582, "outflow_rate_min": 443.01748075831955, "cost2_max": 0.0, "system_level_velocity_min": 9.099421219577426}, "node_ip": "10.138.0.2", "timesteps_total": 11614090}
{"hostname": "flow-main", "episode_reward_mean": 957.8165499419868, "experiment_id": "383e98f8614b4235818372cc4d63f9e0", "config": {"use_gae": true, "tf_session_args": {"allow_soft_placement": true, "gpu_options": {"allow_growth": true}, "inter_op_parallelism_threads": 2, "device_count": {"CPU": 1}, "intra_op_parallelism_threads": 2, "log_device_placement": false}, "entropy_coeff": 0.0, "kl_coeff": 0.2, "num_gpus_per_worker": 0, "monitor": false, "input_evaluation": null, "clip_rewards": null, "vf_share_layers": false, "straggler_mitigation": false, "log_level": "INFO", "clip_actions": false, "simple_optimizer": false, "sample_batch_size": 750, "vf_clip_param": 1000000.0, "custom_resources_per_worker": {}, "lr": 0.0005, "num_sgd_iter": 10, "model": {"grayscale": false, "dim": 84, "custom_model": null, "free_log_std": false, "custom_options": {}, "lstm_cell_size": 256, "framestack": true, "squash_to_range": false, "conv_filters": null, "channel_major": false, "custom_preprocessor": null, "fcnet_hiddens": [128, 64, 32], "max_seq_len": 20, "lstm_use_prev_action_reward": false, "conv_activation": "relu", "use_lstm": false, "zero_mean": true, "fcnet_activation": "tanh"}, "input": "sampler", "horizon": 1500, "vf_loss_coeff": 1.0, "compress_observations": false, "num_envs_per_worker": 1, "sample_async": false, "num_gpus": 0, "output_max_file_size": 67108864, "lambda": 0.97, "multiagent": {"policy_graphs": {}, "policies_to_train": null, "policy_mapping_fn": null}, "output": null, "num_cpus_per_worker": 1, "preprocessor_pref": "deepmind", "clip_param": 0.3, "kl_target": 0.01, "output_compress_columns": ["obs", "new_obs"], "collect_metrics_timeout": 180, "sgd_minibatch_size": 128, "train_batch_size": 30000, "callbacks": {"on_sample_end": null, "on_train_result": null, "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7f2c028b67f0>", "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7f2c028b60f0>", "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7f2c028b6358>"}, "observation_filter": "MeanStdFilter", "synchronize_filters": true, "gamma": 0.99, "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "env_config": {"flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"buf_length\": 1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.1,\n            \"eta3\": 0.1,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 1.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnv\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 600,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}", "run": "PPO"}, "env": "MultiWaveAttenuationMergePOEnv-v0_[eta1, eta2, eta3]:[1.0, 0.1, 0.1]_t_min:1.0_buf_len: 1", "optimizer": {}, "num_workers": 20, "num_cpus_for_driver": 1, "lr_schedule": null, "batch_mode": "truncate_episodes"}, "time_this_iter_s": 47.90112352371216, "timesteps_since_restore": 11677444, "info": {"update_time_ms": 8.71, "num_steps_sampled": 11677444, "sample_time_ms": 33468.929, "grad_time_ms": 16685.97, "default": {"entropy": 1.7127749919891357, "kl": 0.016497280448675156, "vf_loss": 36.294349670410156, "vf_explained_var": 0.8049610257148743, "policy_loss": -0.010893679223954678, "total_loss": 36.289024353027344, "cur_lr": 0.0005000000237487257, "cur_kl_coeff": 0.33750003576278687}, "num_steps_trained": 11677444, "load_time_ms": 9.447}, "time_total_s": 8918.05577993393, "num_metric_batches_dropped": 0, "timestamp": 1558315414, "episode_reward_max": 1276.0992806487473, "timesteps_this_iter": 63354, "episode_reward_min": 32.08726545921125, "date": "2019-05-20_01-23-34", "policy_reward_mean": {}, "time_since_restore": 8918.05577993393, "episodes_total": 4997, "iterations_since_restore": 176, "pid": 46880, "episodes_this_iter": 29, "episode_len_mean": 672.95, "done": false, "training_iteration": 176, "custom_metrics": {"cost2_mean": -0.0668849917105538, "outflow_rate_mean": 1078.0450263234297, "cost2_min": -0.8349398397838133, "system_level_velocity_mean": 13.447566469390056, "cost1_min": 12.401062871639501, "cost1_mean": 331.87300755013604, "cost1_max": 500.5049578894318, "outflow_rate_max": 1355.8893597489744, "system_level_velocity_max": 19.249942449046582, "outflow_rate_min": 443.01748075831955, "cost2_max": 0.0, "system_level_velocity_min": 9.239444695605386}, "node_ip": "10.138.0.2", "timesteps_total": 11677444}
{"hostname": "flow-main", "episode_reward_mean": 970.9219862527569, "experiment_id": "383e98f8614b4235818372cc4d63f9e0", "config": {"use_gae": true, "tf_session_args": {"allow_soft_placement": true, "gpu_options": {"allow_growth": true}, "inter_op_parallelism_threads": 2, "device_count": {"CPU": 1}, "intra_op_parallelism_threads": 2, "log_device_placement": false}, "entropy_coeff": 0.0, "kl_coeff": 0.2, "num_gpus_per_worker": 0, "monitor": false, "input_evaluation": null, "clip_rewards": null, "vf_share_layers": false, "straggler_mitigation": false, "log_level": "INFO", "clip_actions": false, "simple_optimizer": false, "sample_batch_size": 750, "vf_clip_param": 1000000.0, "custom_resources_per_worker": {}, "lr": 0.0005, "num_sgd_iter": 10, "model": {"grayscale": false, "dim": 84, "custom_model": null, "free_log_std": false, "custom_options": {}, "lstm_cell_size": 256, "framestack": true, "squash_to_range": false, "conv_filters": null, "channel_major": false, "custom_preprocessor": null, "fcnet_hiddens": [128, 64, 32], "max_seq_len": 20, "lstm_use_prev_action_reward": false, "conv_activation": "relu", "use_lstm": false, "zero_mean": true, "fcnet_activation": "tanh"}, "input": "sampler", "horizon": 1500, "vf_loss_coeff": 1.0, "compress_observations": false, "num_envs_per_worker": 1, "sample_async": false, "num_gpus": 0, "output_max_file_size": 67108864, "lambda": 0.97, "multiagent": {"policy_graphs": {}, "policies_to_train": null, "policy_mapping_fn": null}, "output": null, "num_cpus_per_worker": 1, "preprocessor_pref": "deepmind", "clip_param": 0.3, "kl_target": 0.01, "output_compress_columns": ["obs", "new_obs"], "collect_metrics_timeout": 180, "sgd_minibatch_size": 128, "train_batch_size": 30000, "callbacks": {"on_sample_end": null, "on_train_result": null, "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7f2c02897c18>", "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7f2c028973c8>", "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7f2c02897fd0>"}, "observation_filter": "MeanStdFilter", "synchronize_filters": true, "gamma": 0.99, "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "env_config": {"flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"buf_length\": 1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.1,\n            \"eta3\": 0.1,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 1.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnv\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 600,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}", "run": "PPO"}, "env": "MultiWaveAttenuationMergePOEnv-v0_[eta1, eta2, eta3]:[1.0, 0.1, 0.1]_t_min:1.0_buf_len: 1", "optimizer": {}, "num_workers": 20, "num_cpus_for_driver": 1, "lr_schedule": null, "batch_mode": "truncate_episodes"}, "time_this_iter_s": 50.72313046455383, "timesteps_since_restore": 11740876, "info": {"update_time_ms": 8.754, "num_steps_sampled": 11740876, "sample_time_ms": 33477.144, "grad_time_ms": 16688.375, "default": {"entropy": 1.7189786434173584, "kl": 0.016923200339078903, "vf_loss": 34.344051361083984, "vf_explained_var": 0.8175305128097534, "policy_loss": -0.011962873861193657, "total_loss": 34.337799072265625, "cur_lr": 0.0005000000237487257, "cur_kl_coeff": 0.33750006556510925}, "num_steps_trained": 11740876, "load_time_ms": 9.777}, "time_total_s": 8968.778910398483, "num_metric_batches_dropped": 0, "timestamp": 1558315464, "episode_reward_max": 1272.2821825416659, "timesteps_this_iter": 63432, "episode_reward_min": 32.19254034122158, "date": "2019-05-20_01-24-24", "policy_reward_mean": {}, "time_since_restore": 8968.778910398483, "episodes_total": 5029, "iterations_since_restore": 177, "pid": 46880, "episodes_this_iter": 32, "episode_len_mean": 686.42, "done": false, "training_iteration": 177, "custom_metrics": {"cost2_mean": -0.07920345096379439, "outflow_rate_mean": 1085.5756563688064, "cost2_min": -0.8349398397838133, "system_level_velocity_mean": 13.317906533997007, "cost1_min": 13.093394383046775, "cost1_mean": 336.9083807028395, "cost1_max": 505.069487625537, "outflow_rate_max": 1338.1560831232168, "system_level_velocity_max": 19.454458980072335, "outflow_rate_min": 443.01748075831955, "cost2_max": 0.0, "system_level_velocity_min": 9.239444695605386}, "node_ip": "10.138.0.2", "timesteps_total": 11740876}
{"hostname": "flow-main", "episode_reward_mean": 950.9391867813214, "experiment_id": "383e98f8614b4235818372cc4d63f9e0", "config": {"use_gae": true, "tf_session_args": {"allow_soft_placement": true, "gpu_options": {"allow_growth": true}, "inter_op_parallelism_threads": 2, "device_count": {"CPU": 1}, "intra_op_parallelism_threads": 2, "log_device_placement": false}, "entropy_coeff": 0.0, "kl_coeff": 0.2, "num_gpus_per_worker": 0, "monitor": false, "input_evaluation": null, "clip_rewards": null, "vf_share_layers": false, "straggler_mitigation": false, "log_level": "INFO", "clip_actions": false, "simple_optimizer": false, "sample_batch_size": 750, "vf_clip_param": 1000000.0, "custom_resources_per_worker": {}, "lr": 0.0005, "num_sgd_iter": 10, "model": {"grayscale": false, "dim": 84, "custom_model": null, "free_log_std": false, "custom_options": {}, "lstm_cell_size": 256, "framestack": true, "squash_to_range": false, "conv_filters": null, "channel_major": false, "custom_preprocessor": null, "fcnet_hiddens": [128, 64, 32], "max_seq_len": 20, "lstm_use_prev_action_reward": false, "conv_activation": "relu", "use_lstm": false, "zero_mean": true, "fcnet_activation": "tanh"}, "input": "sampler", "horizon": 1500, "vf_loss_coeff": 1.0, "compress_observations": false, "num_envs_per_worker": 1, "sample_async": false, "num_gpus": 0, "output_max_file_size": 67108864, "lambda": 0.97, "multiagent": {"policy_graphs": {}, "policies_to_train": null, "policy_mapping_fn": null}, "output": null, "num_cpus_per_worker": 1, "preprocessor_pref": "deepmind", "clip_param": 0.3, "kl_target": 0.01, "output_compress_columns": ["obs", "new_obs"], "collect_metrics_timeout": 180, "sgd_minibatch_size": 128, "train_batch_size": 30000, "callbacks": {"on_sample_end": null, "on_train_result": null, "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7f2c028b66d8>", "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7f2c028b6940>", "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7f2c028b6f60>"}, "observation_filter": "MeanStdFilter", "synchronize_filters": true, "gamma": 0.99, "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "env_config": {"flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"buf_length\": 1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.1,\n            \"eta3\": 0.1,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 1.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnv\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 600,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}", "run": "PPO"}, "env": "MultiWaveAttenuationMergePOEnv-v0_[eta1, eta2, eta3]:[1.0, 0.1, 0.1]_t_min:1.0_buf_len: 1", "optimizer": {}, "num_workers": 20, "num_cpus_for_driver": 1, "lr_schedule": null, "batch_mode": "truncate_episodes"}, "time_this_iter_s": 49.176681995391846, "timesteps_since_restore": 11804513, "info": {"update_time_ms": 8.856, "num_steps_sampled": 11804513, "sample_time_ms": 33345.793, "grad_time_ms": 16763.196, "default": {"entropy": 1.7637765407562256, "kl": 0.016283636912703514, "vf_loss": 34.123252868652344, "vf_explained_var": 0.8013302087783813, "policy_loss": -0.010509656742215157, "total_loss": 34.11823654174805, "cur_lr": 0.0005000000237487257, "cur_kl_coeff": 0.33750003576278687}, "num_steps_trained": 11804513, "load_time_ms": 9.682}, "time_total_s": 9017.955592393875, "num_metric_batches_dropped": 0, "timestamp": 1558315514, "episode_reward_max": 1272.2821825416659, "timesteps_this_iter": 63637, "episode_reward_min": 32.19254034122158, "date": "2019-05-20_01-25-14", "policy_reward_mean": {}, "time_since_restore": 9017.955592393875, "episodes_total": 5057, "iterations_since_restore": 178, "pid": 46880, "episodes_this_iter": 28, "episode_len_mean": 671.61, "done": false, "training_iteration": 178, "custom_metrics": {"cost2_mean": -0.0938718716972225, "outflow_rate_mean": 1073.0602164692582, "cost2_min": -0.9594516835660736, "system_level_velocity_mean": 13.41045459133806, "cost1_min": 13.093394383046775, "cost1_mean": 328.5849587649654, "cost1_max": 505.069487625537, "outflow_rate_max": 1338.1560831232168, "system_level_velocity_max": 19.643022849481394, "outflow_rate_min": 443.01748075831955, "cost2_max": 0.0, "system_level_velocity_min": 10.30232113294018}, "node_ip": "10.138.0.2", "timesteps_total": 11804513}
{"hostname": "flow-main", "episode_reward_mean": 958.1260006462373, "experiment_id": "383e98f8614b4235818372cc4d63f9e0", "config": {"use_gae": true, "tf_session_args": {"allow_soft_placement": true, "gpu_options": {"allow_growth": true}, "inter_op_parallelism_threads": 2, "device_count": {"CPU": 1}, "intra_op_parallelism_threads": 2, "log_device_placement": false}, "entropy_coeff": 0.0, "kl_coeff": 0.2, "num_gpus_per_worker": 0, "monitor": false, "input_evaluation": null, "clip_rewards": null, "vf_share_layers": false, "straggler_mitigation": false, "log_level": "INFO", "clip_actions": false, "simple_optimizer": false, "sample_batch_size": 750, "vf_clip_param": 1000000.0, "custom_resources_per_worker": {}, "lr": 0.0005, "num_sgd_iter": 10, "model": {"grayscale": false, "dim": 84, "custom_model": null, "free_log_std": false, "custom_options": {}, "lstm_cell_size": 256, "framestack": true, "squash_to_range": false, "conv_filters": null, "channel_major": false, "custom_preprocessor": null, "fcnet_hiddens": [128, 64, 32], "max_seq_len": 20, "lstm_use_prev_action_reward": false, "conv_activation": "relu", "use_lstm": false, "zero_mean": true, "fcnet_activation": "tanh"}, "input": "sampler", "horizon": 1500, "vf_loss_coeff": 1.0, "compress_observations": false, "num_envs_per_worker": 1, "sample_async": false, "num_gpus": 0, "output_max_file_size": 67108864, "lambda": 0.97, "multiagent": {"policy_graphs": {}, "policies_to_train": null, "policy_mapping_fn": null}, "output": null, "num_cpus_per_worker": 1, "preprocessor_pref": "deepmind", "clip_param": 0.3, "kl_target": 0.01, "output_compress_columns": ["obs", "new_obs"], "collect_metrics_timeout": 180, "sgd_minibatch_size": 128, "train_batch_size": 30000, "callbacks": {"on_sample_end": null, "on_train_result": null, "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7f2c028a9e10>", "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7f2c028a9438>", "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7f2c028a92b0>"}, "observation_filter": "MeanStdFilter", "synchronize_filters": true, "gamma": 0.99, "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "env_config": {"flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"buf_length\": 1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.1,\n            \"eta3\": 0.1,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 1.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnv\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 600,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}", "run": "PPO"}, "env": "MultiWaveAttenuationMergePOEnv-v0_[eta1, eta2, eta3]:[1.0, 0.1, 0.1]_t_min:1.0_buf_len: 1", "optimizer": {}, "num_workers": 20, "num_cpus_for_driver": 1, "lr_schedule": null, "batch_mode": "truncate_episodes"}, "time_this_iter_s": 50.2474045753479, "timesteps_since_restore": 11867314, "info": {"update_time_ms": 9.003, "num_steps_sampled": 11867314, "sample_time_ms": 33146.383, "grad_time_ms": 16946.36, "default": {"entropy": 1.7597764730453491, "kl": 0.015966249629855156, "vf_loss": 33.19731521606445, "vf_explained_var": 0.8203007578849792, "policy_loss": -0.012225376442074776, "total_loss": 33.19047927856445, "cur_lr": 0.0005000000237487257, "cur_kl_coeff": 0.33750006556510925}, "num_steps_trained": 11867314, "load_time_ms": 9.594}, "time_total_s": 9068.202996969223, "num_metric_batches_dropped": 0, "timestamp": 1558315564, "episode_reward_max": 1331.2034583737614, "timesteps_this_iter": 62801, "episode_reward_min": 36.479566569993125, "date": "2019-05-20_01-26-04", "policy_reward_mean": {}, "time_since_restore": 9068.202996969223, "episodes_total": 5087, "iterations_since_restore": 179, "pid": 46880, "episodes_this_iter": 30, "episode_len_mean": 678.52, "done": false, "training_iteration": 179, "custom_metrics": {"cost2_mean": -0.08471015135613995, "outflow_rate_mean": 1080.5496659779594, "cost2_min": -0.9594516835660736, "system_level_velocity_mean": 13.32869492139519, "cost1_min": 15.419488974212584, "cost1_mean": 330.29554992486237, "cost1_max": 505.069487625537, "outflow_rate_max": 1338.494326326997, "system_level_velocity_max": 19.643022849481394, "outflow_rate_min": 481.0028128682593, "cost2_max": 0.0, "system_level_velocity_min": 10.30232113294018}, "node_ip": "10.138.0.2", "timesteps_total": 11867314}
{"hostname": "flow-main", "episode_reward_mean": 950.4552761751991, "experiment_id": "383e98f8614b4235818372cc4d63f9e0", "config": {"use_gae": true, "tf_session_args": {"allow_soft_placement": true, "gpu_options": {"allow_growth": true}, "inter_op_parallelism_threads": 2, "device_count": {"CPU": 1}, "intra_op_parallelism_threads": 2, "log_device_placement": false}, "entropy_coeff": 0.0, "kl_coeff": 0.2, "num_gpus_per_worker": 0, "monitor": false, "input_evaluation": null, "clip_rewards": null, "vf_share_layers": false, "straggler_mitigation": false, "log_level": "INFO", "clip_actions": false, "simple_optimizer": false, "sample_batch_size": 750, "vf_clip_param": 1000000.0, "custom_resources_per_worker": {}, "lr": 0.0005, "num_sgd_iter": 10, "model": {"grayscale": false, "dim": 84, "custom_model": null, "free_log_std": false, "custom_options": {}, "lstm_cell_size": 256, "framestack": true, "squash_to_range": false, "conv_filters": null, "channel_major": false, "custom_preprocessor": null, "fcnet_hiddens": [128, 64, 32], "max_seq_len": 20, "lstm_use_prev_action_reward": false, "conv_activation": "relu", "use_lstm": false, "zero_mean": true, "fcnet_activation": "tanh"}, "input": "sampler", "horizon": 1500, "vf_loss_coeff": 1.0, "compress_observations": false, "num_envs_per_worker": 1, "sample_async": false, "num_gpus": 0, "output_max_file_size": 67108864, "lambda": 0.97, "multiagent": {"policy_graphs": {}, "policies_to_train": null, "policy_mapping_fn": null}, "output": null, "num_cpus_per_worker": 1, "preprocessor_pref": "deepmind", "clip_param": 0.3, "kl_target": 0.01, "output_compress_columns": ["obs", "new_obs"], "collect_metrics_timeout": 180, "sgd_minibatch_size": 128, "train_batch_size": 30000, "callbacks": {"on_sample_end": null, "on_train_result": null, "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7f2c028b6240>", "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7f2c028b6940>", "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7f2c028b6860>"}, "observation_filter": "MeanStdFilter", "synchronize_filters": true, "gamma": 0.99, "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "env_config": {"flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"buf_length\": 1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.1,\n            \"eta3\": 0.1,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 1.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnv\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 600,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}", "run": "PPO"}, "env": "MultiWaveAttenuationMergePOEnv-v0_[eta1, eta2, eta3]:[1.0, 0.1, 0.1]_t_min:1.0_buf_len: 1", "optimizer": {}, "num_workers": 20, "num_cpus_for_driver": 1, "lr_schedule": null, "batch_mode": "truncate_episodes"}, "time_this_iter_s": 48.29336953163147, "timesteps_since_restore": 11930058, "info": {"update_time_ms": 9.057, "num_steps_sampled": 11930058, "sample_time_ms": 32816.777, "grad_time_ms": 16967.377, "default": {"entropy": 1.7412221431732178, "kl": 0.016833091154694557, "vf_loss": 34.022674560546875, "vf_explained_var": 0.8251968622207642, "policy_loss": -0.013041780330240726, "total_loss": 34.01531982421875, "cur_lr": 0.0005000000237487257, "cur_kl_coeff": 0.33750006556510925}, "num_steps_trained": 11930058, "load_time_ms": 9.532}, "time_total_s": 9116.496366500854, "num_metric_batches_dropped": 0, "timestamp": 1558315612, "episode_reward_max": 1331.2034583737614, "timesteps_this_iter": 62744, "episode_reward_min": 36.479566569993125, "date": "2019-05-20_01-26-52", "policy_reward_mean": {}, "time_since_restore": 9116.496366500854, "episodes_total": 5118, "iterations_since_restore": 180, "pid": 46880, "episodes_this_iter": 31, "episode_len_mean": 678.52, "done": false, "training_iteration": 180, "custom_metrics": {"cost2_mean": -0.08455478576076829, "outflow_rate_mean": 1076.006150589602, "cost2_min": -0.9594516835660736, "system_level_velocity_mean": 13.203453561353864, "cost1_min": 15.419488974212584, "cost1_mean": 327.2784601432061, "cost1_max": 478.0575105809732, "outflow_rate_max": 1347.5581292235522, "system_level_velocity_max": 19.643022849481394, "outflow_rate_min": 481.0028128682593, "cost2_max": 0.0, "system_level_velocity_min": 10.19604152908425}, "node_ip": "10.138.0.2", "timesteps_total": 11930058}
{"hostname": "flow-main", "episode_reward_mean": 965.915893163795, "experiment_id": "383e98f8614b4235818372cc4d63f9e0", "config": {"use_gae": true, "tf_session_args": {"allow_soft_placement": true, "gpu_options": {"allow_growth": true}, "inter_op_parallelism_threads": 2, "device_count": {"CPU": 1}, "intra_op_parallelism_threads": 2, "log_device_placement": false}, "entropy_coeff": 0.0, "kl_coeff": 0.2, "num_gpus_per_worker": 0, "monitor": false, "input_evaluation": null, "clip_rewards": null, "vf_share_layers": false, "straggler_mitigation": false, "log_level": "INFO", "clip_actions": false, "simple_optimizer": false, "sample_batch_size": 750, "vf_clip_param": 1000000.0, "custom_resources_per_worker": {}, "lr": 0.0005, "num_sgd_iter": 10, "model": {"grayscale": false, "dim": 84, "custom_model": null, "free_log_std": false, "custom_options": {}, "lstm_cell_size": 256, "framestack": true, "squash_to_range": false, "conv_filters": null, "channel_major": false, "custom_preprocessor": null, "fcnet_hiddens": [128, 64, 32], "max_seq_len": 20, "lstm_use_prev_action_reward": false, "conv_activation": "relu", "use_lstm": false, "zero_mean": true, "fcnet_activation": "tanh"}, "input": "sampler", "horizon": 1500, "vf_loss_coeff": 1.0, "compress_observations": false, "num_envs_per_worker": 1, "sample_async": false, "num_gpus": 0, "output_max_file_size": 67108864, "lambda": 0.97, "multiagent": {"policy_graphs": {}, "policies_to_train": null, "policy_mapping_fn": null}, "output": null, "num_cpus_per_worker": 1, "preprocessor_pref": "deepmind", "clip_param": 0.3, "kl_target": 0.01, "output_compress_columns": ["obs", "new_obs"], "collect_metrics_timeout": 180, "sgd_minibatch_size": 128, "train_batch_size": 30000, "callbacks": {"on_sample_end": null, "on_train_result": null, "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7f2c028c62b0>", "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7f2c028c6f60>", "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7f2c028c6208>"}, "observation_filter": "MeanStdFilter", "synchronize_filters": true, "gamma": 0.99, "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "env_config": {"flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"buf_length\": 1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.1,\n            \"eta3\": 0.1,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 1.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnv\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 600,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}", "run": "PPO"}, "env": "MultiWaveAttenuationMergePOEnv-v0_[eta1, eta2, eta3]:[1.0, 0.1, 0.1]_t_min:1.0_buf_len: 1", "optimizer": {}, "num_workers": 20, "num_cpus_for_driver": 1, "lr_schedule": null, "batch_mode": "truncate_episodes"}, "time_this_iter_s": 48.066160678863525, "timesteps_since_restore": 11992693, "info": {"update_time_ms": 9.234, "num_steps_sampled": 11992693, "sample_time_ms": 32528.014, "grad_time_ms": 17043.204, "default": {"entropy": 1.7591614723205566, "kl": 0.015166218392550945, "vf_loss": 29.602684020996094, "vf_explained_var": 0.8164063692092896, "policy_loss": -0.012265677563846111, "total_loss": 29.595537185668945, "cur_lr": 0.0005000000237487257, "cur_kl_coeff": 0.33750006556510925}, "num_steps_trained": 11992693, "load_time_ms": 9.437}, "time_total_s": 9164.562527179718, "num_metric_batches_dropped": 0, "timestamp": 1558315660, "episode_reward_max": 1331.2034583737614, "timesteps_this_iter": 62635, "episode_reward_min": 51.23629132702935, "date": "2019-05-20_01-27-40", "policy_reward_mean": {}, "time_since_restore": 9164.562527179718, "episodes_total": 5145, "iterations_since_restore": 181, "pid": 46880, "episodes_this_iter": 27, "episode_len_mean": 688.76, "done": false, "training_iteration": 181, "custom_metrics": {"cost2_mean": -0.07842497865170923, "outflow_rate_mean": 1088.4255549031304, "cost2_min": -0.9594516835660736, "system_level_velocity_mean": 13.185094001812885, "cost1_min": 22.167421216326858, "cost1_mean": 333.90652455699615, "cost1_max": 478.0575105809732, "outflow_rate_max": 1347.5581292235522, "system_level_velocity_max": 19.062355768095053, "outflow_rate_min": 511.6199249724631, "cost2_max": 0.0, "system_level_velocity_min": 10.19604152908425}, "node_ip": "10.138.0.2", "timesteps_total": 11992693}
{"hostname": "flow-main", "episode_reward_mean": 972.3580226765782, "experiment_id": "383e98f8614b4235818372cc4d63f9e0", "config": {"use_gae": true, "tf_session_args": {"allow_soft_placement": true, "gpu_options": {"allow_growth": true}, "inter_op_parallelism_threads": 2, "device_count": {"CPU": 1}, "intra_op_parallelism_threads": 2, "log_device_placement": false}, "entropy_coeff": 0.0, "kl_coeff": 0.2, "num_gpus_per_worker": 0, "monitor": false, "input_evaluation": null, "clip_rewards": null, "vf_share_layers": false, "straggler_mitigation": false, "log_level": "INFO", "clip_actions": false, "simple_optimizer": false, "sample_batch_size": 750, "vf_clip_param": 1000000.0, "custom_resources_per_worker": {}, "lr": 0.0005, "num_sgd_iter": 10, "model": {"grayscale": false, "dim": 84, "custom_model": null, "free_log_std": false, "custom_options": {}, "lstm_cell_size": 256, "framestack": true, "squash_to_range": false, "conv_filters": null, "channel_major": false, "custom_preprocessor": null, "fcnet_hiddens": [128, 64, 32], "max_seq_len": 20, "lstm_use_prev_action_reward": false, "conv_activation": "relu", "use_lstm": false, "zero_mean": true, "fcnet_activation": "tanh"}, "input": "sampler", "horizon": 1500, "vf_loss_coeff": 1.0, "compress_observations": false, "num_envs_per_worker": 1, "sample_async": false, "num_gpus": 0, "output_max_file_size": 67108864, "lambda": 0.97, "multiagent": {"policy_graphs": {}, "policies_to_train": null, "policy_mapping_fn": null}, "output": null, "num_cpus_per_worker": 1, "preprocessor_pref": "deepmind", "clip_param": 0.3, "kl_target": 0.01, "output_compress_columns": ["obs", "new_obs"], "collect_metrics_timeout": 180, "sgd_minibatch_size": 128, "train_batch_size": 30000, "callbacks": {"on_sample_end": null, "on_train_result": null, "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7f2c02897ba8>", "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7f2c02897c18>", "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7f2c02897ef0>"}, "observation_filter": "MeanStdFilter", "synchronize_filters": true, "gamma": 0.99, "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "env_config": {"flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"buf_length\": 1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.1,\n            \"eta3\": 0.1,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 1.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnv\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 600,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}", "run": "PPO"}, "env": "MultiWaveAttenuationMergePOEnv-v0_[eta1, eta2, eta3]:[1.0, 0.1, 0.1]_t_min:1.0_buf_len: 1", "optimizer": {}, "num_workers": 20, "num_cpus_for_driver": 1, "lr_schedule": null, "batch_mode": "truncate_episodes"}, "time_this_iter_s": 48.118924617767334, "timesteps_since_restore": 12056362, "info": {"update_time_ms": 9.136, "num_steps_sampled": 12056362, "sample_time_ms": 32006.34, "grad_time_ms": 17015.319, "default": {"entropy": 1.7697606086730957, "kl": 0.01645098626613617, "vf_loss": 32.830875396728516, "vf_explained_var": 0.8108298182487488, "policy_loss": -0.01221114955842495, "total_loss": 32.824214935302734, "cur_lr": 0.0005000000237487257, "cur_kl_coeff": 0.33750003576278687}, "num_steps_trained": 12056362, "load_time_ms": 9.557}, "time_total_s": 9212.681451797485, "num_metric_batches_dropped": 0, "timestamp": 1558315709, "episode_reward_max": 1349.0875441700434, "timesteps_this_iter": 63669, "episode_reward_min": 51.23629132702935, "date": "2019-05-20_01-28-29", "policy_reward_mean": {}, "time_since_restore": 9212.681451797485, "episodes_total": 5171, "iterations_since_restore": 182, "pid": 46880, "episodes_this_iter": 26, "episode_len_mean": 693.33, "done": false, "training_iteration": 182, "custom_metrics": {"cost2_mean": -0.07390219802605164, "outflow_rate_mean": 1087.415371547828, "cost2_min": -0.5657175518729778, "system_level_velocity_mean": 13.123879602212558, "cost1_min": 22.167421216326858, "cost1_mean": 335.3716851483335, "cost1_max": 478.0575105809732, "outflow_rate_max": 1347.5581292235522, "system_level_velocity_max": 18.491128104122915, "outflow_rate_min": 511.6199249724631, "cost2_max": 0.0, "system_level_velocity_min": 10.19604152908425}, "node_ip": "10.138.0.2", "timesteps_total": 12056362}
{"hostname": "flow-main", "episode_reward_mean": 987.0844144332224, "experiment_id": "383e98f8614b4235818372cc4d63f9e0", "config": {"use_gae": true, "tf_session_args": {"allow_soft_placement": true, "gpu_options": {"allow_growth": true}, "inter_op_parallelism_threads": 2, "device_count": {"CPU": 1}, "intra_op_parallelism_threads": 2, "log_device_placement": false}, "entropy_coeff": 0.0, "kl_coeff": 0.2, "num_gpus_per_worker": 0, "monitor": false, "input_evaluation": null, "clip_rewards": null, "vf_share_layers": false, "straggler_mitigation": false, "log_level": "INFO", "clip_actions": false, "simple_optimizer": false, "sample_batch_size": 750, "vf_clip_param": 1000000.0, "custom_resources_per_worker": {}, "lr": 0.0005, "num_sgd_iter": 10, "model": {"grayscale": false, "dim": 84, "custom_model": null, "free_log_std": false, "custom_options": {}, "lstm_cell_size": 256, "framestack": true, "squash_to_range": false, "conv_filters": null, "channel_major": false, "custom_preprocessor": null, "fcnet_hiddens": [128, 64, 32], "max_seq_len": 20, "lstm_use_prev_action_reward": false, "conv_activation": "relu", "use_lstm": false, "zero_mean": true, "fcnet_activation": "tanh"}, "input": "sampler", "horizon": 1500, "vf_loss_coeff": 1.0, "compress_observations": false, "num_envs_per_worker": 1, "sample_async": false, "num_gpus": 0, "output_max_file_size": 67108864, "lambda": 0.97, "multiagent": {"policy_graphs": {}, "policies_to_train": null, "policy_mapping_fn": null}, "output": null, "num_cpus_per_worker": 1, "preprocessor_pref": "deepmind", "clip_param": 0.3, "kl_target": 0.01, "output_compress_columns": ["obs", "new_obs"], "collect_metrics_timeout": 180, "sgd_minibatch_size": 128, "train_batch_size": 30000, "callbacks": {"on_sample_end": null, "on_train_result": null, "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7f2c02cec080>", "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7f2c02cec6a0>", "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7f2c02cece80>"}, "observation_filter": "MeanStdFilter", "synchronize_filters": true, "gamma": 0.99, "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "env_config": {"flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"buf_length\": 1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.1,\n            \"eta3\": 0.1,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 1.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnv\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 600,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}", "run": "PPO"}, "env": "MultiWaveAttenuationMergePOEnv-v0_[eta1, eta2, eta3]:[1.0, 0.1, 0.1]_t_min:1.0_buf_len: 1", "optimizer": {}, "num_workers": 20, "num_cpus_for_driver": 1, "lr_schedule": null, "batch_mode": "truncate_episodes"}, "time_this_iter_s": 49.745903968811035, "timesteps_since_restore": 12119011, "info": {"update_time_ms": 9.137, "num_steps_sampled": 12119011, "sample_time_ms": 31842.559, "grad_time_ms": 17081.374, "default": {"entropy": 1.7875428199768066, "kl": 0.01811191439628601, "vf_loss": 31.990373611450195, "vf_explained_var": 0.8228021860122681, "policy_loss": -0.012982587330043316, "total_loss": 31.983503341674805, "cur_lr": 0.0005000000237487257, "cur_kl_coeff": 0.33750006556510925}, "num_steps_trained": 12119011, "load_time_ms": 9.443}, "time_total_s": 9262.427355766296, "num_metric_batches_dropped": 0, "timestamp": 1558315758, "episode_reward_max": 1349.0875441700434, "timesteps_this_iter": 62649, "episode_reward_min": 832.1254294033122, "date": "2019-05-20_01-29-18", "policy_reward_mean": {}, "time_since_restore": 9262.427355766296, "episodes_total": 5198, "iterations_since_restore": 183, "pid": 46880, "episodes_this_iter": 27, "episode_len_mean": 700.0, "done": false, "training_iteration": 183, "custom_metrics": {"cost2_mean": -0.08179312682820145, "outflow_rate_mean": 1096.1448128060883, "cost2_min": -0.7540454771004439, "system_level_velocity_mean": 13.112754888305695, "cost1_min": 240.2571090834842, "cost1_mean": 339.7839767384602, "cost1_max": 471.6730696384387, "outflow_rate_max": 1341.065998225947, "system_level_velocity_max": 18.04340818626328, "outflow_rate_min": 905.3239082736499, "cost2_max": 0.0, "system_level_velocity_min": 9.24145550216298}, "node_ip": "10.138.0.2", "timesteps_total": 12119011}
{"hostname": "flow-main", "episode_reward_mean": 968.168143967627, "experiment_id": "383e98f8614b4235818372cc4d63f9e0", "config": {"use_gae": true, "tf_session_args": {"allow_soft_placement": true, "gpu_options": {"allow_growth": true}, "inter_op_parallelism_threads": 2, "device_count": {"CPU": 1}, "intra_op_parallelism_threads": 2, "log_device_placement": false}, "entropy_coeff": 0.0, "kl_coeff": 0.2, "num_gpus_per_worker": 0, "monitor": false, "input_evaluation": null, "clip_rewards": null, "vf_share_layers": false, "straggler_mitigation": false, "log_level": "INFO", "clip_actions": false, "simple_optimizer": false, "sample_batch_size": 750, "vf_clip_param": 1000000.0, "custom_resources_per_worker": {}, "lr": 0.0005, "num_sgd_iter": 10, "model": {"grayscale": false, "dim": 84, "custom_model": null, "free_log_std": false, "custom_options": {}, "lstm_cell_size": 256, "framestack": true, "squash_to_range": false, "conv_filters": null, "channel_major": false, "custom_preprocessor": null, "fcnet_hiddens": [128, 64, 32], "max_seq_len": 20, "lstm_use_prev_action_reward": false, "conv_activation": "relu", "use_lstm": false, "zero_mean": true, "fcnet_activation": "tanh"}, "input": "sampler", "horizon": 1500, "vf_loss_coeff": 1.0, "compress_observations": false, "num_envs_per_worker": 1, "sample_async": false, "num_gpus": 0, "output_max_file_size": 67108864, "lambda": 0.97, "multiagent": {"policy_graphs": {}, "policies_to_train": null, "policy_mapping_fn": null}, "output": null, "num_cpus_per_worker": 1, "preprocessor_pref": "deepmind", "clip_param": 0.3, "kl_target": 0.01, "output_compress_columns": ["obs", "new_obs"], "collect_metrics_timeout": 180, "sgd_minibatch_size": 128, "train_batch_size": 30000, "callbacks": {"on_sample_end": null, "on_train_result": null, "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7f2c028b68d0>", "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7f2c028b65c0>", "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7f2c028b67b8>"}, "observation_filter": "MeanStdFilter", "synchronize_filters": true, "gamma": 0.99, "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "env_config": {"flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"buf_length\": 1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.1,\n            \"eta3\": 0.1,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 1.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnv\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 600,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}", "run": "PPO"}, "env": "MultiWaveAttenuationMergePOEnv-v0_[eta1, eta2, eta3]:[1.0, 0.1, 0.1]_t_min:1.0_buf_len: 1", "optimizer": {}, "num_workers": 20, "num_cpus_for_driver": 1, "lr_schedule": null, "batch_mode": "truncate_episodes"}, "time_this_iter_s": 49.042765378952026, "timesteps_since_restore": 12182313, "info": {"update_time_ms": 8.865, "num_steps_sampled": 12182313, "sample_time_ms": 31742.255, "grad_time_ms": 17130.727, "default": {"entropy": 1.815008521080017, "kl": 0.017219917848706245, "vf_loss": 32.673980712890625, "vf_explained_var": 0.818092942237854, "policy_loss": -0.012725475244224072, "total_loss": 32.66706848144531, "cur_lr": 0.0005000000237487257, "cur_kl_coeff": 0.33750003576278687}, "num_steps_trained": 12182313, "load_time_ms": 9.02}, "time_total_s": 9311.470121145248, "num_metric_batches_dropped": 0, "timestamp": 1558315808, "episode_reward_max": 1349.0875441700434, "timesteps_this_iter": 63302, "episode_reward_min": 68.12418945936848, "date": "2019-05-20_01-30-08", "policy_reward_mean": {}, "time_since_restore": 9311.470121145248, "episodes_total": 5227, "iterations_since_restore": 184, "pid": 46880, "episodes_this_iter": 29, "episode_len_mean": 693.42, "done": false, "training_iteration": 184, "custom_metrics": {"cost2_mean": -0.08039454904677505, "outflow_rate_mean": 1080.5821384246792, "cost2_min": -0.7540454771004439, "system_level_velocity_mean": 13.018734406876582, "cost1_min": 28.563180027114534, "cost1_mean": 332.96997392184727, "cost1_max": 473.55585584204977, "outflow_rate_max": 1363.7605439683068, "system_level_velocity_max": 18.87767399570579, "outflow_rate_min": 535.9336214550455, "cost2_max": 0.0, "system_level_velocity_min": 9.24145550216298}, "node_ip": "10.138.0.2", "timesteps_total": 12182313}
{"hostname": "flow-main", "episode_reward_mean": 967.205750111795, "experiment_id": "383e98f8614b4235818372cc4d63f9e0", "config": {"use_gae": true, "tf_session_args": {"allow_soft_placement": true, "gpu_options": {"allow_growth": true}, "inter_op_parallelism_threads": 2, "device_count": {"CPU": 1}, "intra_op_parallelism_threads": 2, "log_device_placement": false}, "entropy_coeff": 0.0, "kl_coeff": 0.2, "num_gpus_per_worker": 0, "monitor": false, "input_evaluation": null, "clip_rewards": null, "vf_share_layers": false, "straggler_mitigation": false, "log_level": "INFO", "clip_actions": false, "simple_optimizer": false, "sample_batch_size": 750, "vf_clip_param": 1000000.0, "custom_resources_per_worker": {}, "lr": 0.0005, "num_sgd_iter": 10, "model": {"grayscale": false, "dim": 84, "custom_model": null, "free_log_std": false, "custom_options": {}, "lstm_cell_size": 256, "framestack": true, "squash_to_range": false, "conv_filters": null, "channel_major": false, "custom_preprocessor": null, "fcnet_hiddens": [128, 64, 32], "max_seq_len": 20, "lstm_use_prev_action_reward": false, "conv_activation": "relu", "use_lstm": false, "zero_mean": true, "fcnet_activation": "tanh"}, "input": "sampler", "horizon": 1500, "vf_loss_coeff": 1.0, "compress_observations": false, "num_envs_per_worker": 1, "sample_async": false, "num_gpus": 0, "output_max_file_size": 67108864, "lambda": 0.97, "multiagent": {"policy_graphs": {}, "policies_to_train": null, "policy_mapping_fn": null}, "output": null, "num_cpus_per_worker": 1, "preprocessor_pref": "deepmind", "clip_param": 0.3, "kl_target": 0.01, "output_compress_columns": ["obs", "new_obs"], "collect_metrics_timeout": 180, "sgd_minibatch_size": 128, "train_batch_size": 30000, "callbacks": {"on_sample_end": null, "on_train_result": null, "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7f2c028c65c0>", "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7f2c028c6a90>", "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7f2c028c6438>"}, "observation_filter": "MeanStdFilter", "synchronize_filters": true, "gamma": 0.99, "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "env_config": {"flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"buf_length\": 1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.1,\n            \"eta3\": 0.1,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 1.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnv\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 600,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}", "run": "PPO"}, "env": "MultiWaveAttenuationMergePOEnv-v0_[eta1, eta2, eta3]:[1.0, 0.1, 0.1]_t_min:1.0_buf_len: 1", "optimizer": {}, "num_workers": 20, "num_cpus_for_driver": 1, "lr_schedule": null, "batch_mode": "truncate_episodes"}, "time_this_iter_s": 47.752397298812866, "timesteps_since_restore": 12245290, "info": {"update_time_ms": 8.791, "num_steps_sampled": 12245290, "sample_time_ms": 31791.32, "grad_time_ms": 16979.871, "default": {"entropy": 1.7902764081954956, "kl": 0.017564967274665833, "vf_loss": 37.49893569946289, "vf_explained_var": 0.8091415762901306, "policy_loss": -0.01361442543566227, "total_loss": 37.49124526977539, "cur_lr": 0.0005000000237487257, "cur_kl_coeff": 0.33750003576278687}, "num_steps_trained": 12245290, "load_time_ms": 8.889}, "time_total_s": 9359.222518444061, "num_metric_batches_dropped": 0, "timestamp": 1558315855, "episode_reward_max": 1349.0875441700434, "timesteps_this_iter": 62977, "episode_reward_min": 68.12418945936848, "date": "2019-05-20_01-30-55", "policy_reward_mean": {}, "time_since_restore": 9359.222518444061, "episodes_total": 5258, "iterations_since_restore": 185, "pid": 46880, "episodes_this_iter": 31, "episode_len_mean": 693.42, "done": false, "training_iteration": 185, "custom_metrics": {"cost2_mean": -0.07444005452290701, "outflow_rate_mean": 1084.1603113492263, "cost2_min": -0.7540454771004439, "system_level_velocity_mean": 13.077426830135005, "cost1_min": 28.563180027114534, "cost1_mean": 334.7990158102083, "cost1_max": 483.5556056926911, "outflow_rate_max": 1363.7605439683068, "system_level_velocity_max": 18.87767399570579, "outflow_rate_min": 535.9336214550455, "cost2_max": 0.0, "system_level_velocity_min": 9.24145550216298}, "node_ip": "10.138.0.2", "timesteps_total": 12245290}
{"hostname": "flow-main", "episode_reward_mean": 955.7756304625601, "experiment_id": "383e98f8614b4235818372cc4d63f9e0", "config": {"use_gae": true, "tf_session_args": {"allow_soft_placement": true, "gpu_options": {"allow_growth": true}, "inter_op_parallelism_threads": 2, "device_count": {"CPU": 1}, "intra_op_parallelism_threads": 2, "log_device_placement": false}, "entropy_coeff": 0.0, "kl_coeff": 0.2, "num_gpus_per_worker": 0, "monitor": false, "input_evaluation": null, "clip_rewards": null, "vf_share_layers": false, "straggler_mitigation": false, "log_level": "INFO", "clip_actions": false, "simple_optimizer": false, "sample_batch_size": 750, "vf_clip_param": 1000000.0, "custom_resources_per_worker": {}, "lr": 0.0005, "num_sgd_iter": 10, "model": {"grayscale": false, "dim": 84, "custom_model": null, "free_log_std": false, "custom_options": {}, "lstm_cell_size": 256, "framestack": true, "squash_to_range": false, "conv_filters": null, "channel_major": false, "custom_preprocessor": null, "fcnet_hiddens": [128, 64, 32], "max_seq_len": 20, "lstm_use_prev_action_reward": false, "conv_activation": "relu", "use_lstm": false, "zero_mean": true, "fcnet_activation": "tanh"}, "input": "sampler", "horizon": 1500, "vf_loss_coeff": 1.0, "compress_observations": false, "num_envs_per_worker": 1, "sample_async": false, "num_gpus": 0, "output_max_file_size": 67108864, "lambda": 0.97, "multiagent": {"policy_graphs": {}, "policies_to_train": null, "policy_mapping_fn": null}, "output": null, "num_cpus_per_worker": 1, "preprocessor_pref": "deepmind", "clip_param": 0.3, "kl_target": 0.01, "output_compress_columns": ["obs", "new_obs"], "collect_metrics_timeout": 180, "sgd_minibatch_size": 128, "train_batch_size": 30000, "callbacks": {"on_sample_end": null, "on_train_result": null, "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7f2c028b67b8>", "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7f2c028b6048>", "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7f2c028b65c0>"}, "observation_filter": "MeanStdFilter", "synchronize_filters": true, "gamma": 0.99, "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "env_config": {"flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"buf_length\": 1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.1,\n            \"eta3\": 0.1,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 1.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnv\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 600,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}", "run": "PPO"}, "env": "MultiWaveAttenuationMergePOEnv-v0_[eta1, eta2, eta3]:[1.0, 0.1, 0.1]_t_min:1.0_buf_len: 1", "optimizer": {}, "num_workers": 20, "num_cpus_for_driver": 1, "lr_schedule": null, "batch_mode": "truncate_episodes"}, "time_this_iter_s": 47.63528037071228, "timesteps_since_restore": 12308283, "info": {"update_time_ms": 8.529, "num_steps_sampled": 12308283, "sample_time_ms": 31720.338, "grad_time_ms": 17026.721, "default": {"entropy": 1.8007742166519165, "kl": 0.016399046406149864, "vf_loss": 35.309871673583984, "vf_explained_var": 0.8132532238960266, "policy_loss": -0.013027865439653397, "total_loss": 35.30237579345703, "cur_lr": 0.0005000000237487257, "cur_kl_coeff": 0.33750003576278687}, "num_steps_trained": 12308283, "load_time_ms": 8.815}, "time_total_s": 9406.857798814774, "num_metric_batches_dropped": 0, "timestamp": 1558315903, "episode_reward_max": 1266.0238502705045, "timesteps_this_iter": 62993, "episode_reward_min": 61.90966511373493, "date": "2019-05-20_01-31-43", "policy_reward_mean": {}, "time_since_restore": 9406.857798814774, "episodes_total": 5286, "iterations_since_restore": 186, "pid": 46880, "episodes_this_iter": 28, "episode_len_mean": 686.81, "done": false, "training_iteration": 186, "custom_metrics": {"cost2_mean": -0.07456156585682928, "outflow_rate_mean": 1088.1617845249539, "cost2_min": -0.48112545301871457, "system_level_velocity_mean": 13.323676825791892, "cost1_min": 25.929020325230084, "cost1_mean": 336.9726348544415, "cost1_max": 483.5556056926911, "outflow_rate_max": 1363.7605439683068, "system_level_velocity_max": 18.87767399570579, "outflow_rate_min": 530.0001945658554, "cost2_max": 0.0, "system_level_velocity_min": 9.689094867620822}, "node_ip": "10.138.0.2", "timesteps_total": 12308283}
{"hostname": "flow-main", "episode_reward_mean": 951.0737402009524, "experiment_id": "383e98f8614b4235818372cc4d63f9e0", "config": {"use_gae": true, "tf_session_args": {"allow_soft_placement": true, "gpu_options": {"allow_growth": true}, "inter_op_parallelism_threads": 2, "device_count": {"CPU": 1}, "intra_op_parallelism_threads": 2, "log_device_placement": false}, "entropy_coeff": 0.0, "kl_coeff": 0.2, "num_gpus_per_worker": 0, "monitor": false, "input_evaluation": null, "clip_rewards": null, "vf_share_layers": false, "straggler_mitigation": false, "log_level": "INFO", "clip_actions": false, "simple_optimizer": false, "sample_batch_size": 750, "vf_clip_param": 1000000.0, "custom_resources_per_worker": {}, "lr": 0.0005, "num_sgd_iter": 10, "model": {"grayscale": false, "dim": 84, "custom_model": null, "free_log_std": false, "custom_options": {}, "lstm_cell_size": 256, "framestack": true, "squash_to_range": false, "conv_filters": null, "channel_major": false, "custom_preprocessor": null, "fcnet_hiddens": [128, 64, 32], "max_seq_len": 20, "lstm_use_prev_action_reward": false, "conv_activation": "relu", "use_lstm": false, "zero_mean": true, "fcnet_activation": "tanh"}, "input": "sampler", "horizon": 1500, "vf_loss_coeff": 1.0, "compress_observations": false, "num_envs_per_worker": 1, "sample_async": false, "num_gpus": 0, "output_max_file_size": 67108864, "lambda": 0.97, "multiagent": {"policy_graphs": {}, "policies_to_train": null, "policy_mapping_fn": null}, "output": null, "num_cpus_per_worker": 1, "preprocessor_pref": "deepmind", "clip_param": 0.3, "kl_target": 0.01, "output_compress_columns": ["obs", "new_obs"], "collect_metrics_timeout": 180, "sgd_minibatch_size": 128, "train_batch_size": 30000, "callbacks": {"on_sample_end": null, "on_train_result": null, "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7f2c028c6c50>", "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7f2c028c6898>", "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7f2c028c6400>"}, "observation_filter": "MeanStdFilter", "synchronize_filters": true, "gamma": 0.99, "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "env_config": {"flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"buf_length\": 1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.1,\n            \"eta3\": 0.1,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 1.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnv\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 600,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}", "run": "PPO"}, "env": "MultiWaveAttenuationMergePOEnv-v0_[eta1, eta2, eta3]:[1.0, 0.1, 0.1]_t_min:1.0_buf_len: 1", "optimizer": {}, "num_workers": 20, "num_cpus_for_driver": 1, "lr_schedule": null, "batch_mode": "truncate_episodes"}, "time_this_iter_s": 48.90475296974182, "timesteps_since_restore": 12373489, "info": {"update_time_ms": 8.48, "num_steps_sampled": 12373489, "sample_time_ms": 31713.854, "grad_time_ms": 16851.99, "default": {"entropy": 1.8152415752410889, "kl": 0.017248688265681267, "vf_loss": 35.32884216308594, "vf_explained_var": 0.8082653284072876, "policy_loss": -0.013643846847116947, "total_loss": 35.32101821899414, "cur_lr": 0.0005000000237487257, "cur_kl_coeff": 0.33750003576278687}, "num_steps_trained": 12373489, "load_time_ms": 8.509}, "time_total_s": 9455.762551784515, "num_metric_batches_dropped": 0, "timestamp": 1558315952, "episode_reward_max": 1266.0238502705045, "timesteps_this_iter": 65206, "episode_reward_min": 61.90966511373493, "date": "2019-05-20_01-32-32", "policy_reward_mean": {}, "time_since_restore": 9455.762551784515, "episodes_total": 5317, "iterations_since_restore": 187, "pid": 46880, "episodes_this_iter": 31, "episode_len_mean": 686.81, "done": false, "training_iteration": 187, "custom_metrics": {"cost2_mean": -0.06365628740254936, "outflow_rate_mean": 1079.9800691663345, "cost2_min": -0.48112545301871457, "system_level_velocity_mean": 13.172380225277877, "cost1_min": 25.929020325230084, "cost1_mean": 333.01826133362846, "cost1_max": 483.5556056926911, "outflow_rate_max": 1355.536709614226, "system_level_velocity_max": 18.87767399570579, "outflow_rate_min": 530.0001945658554, "cost2_max": 0.0, "system_level_velocity_min": 9.506147083834593}, "node_ip": "10.138.0.2", "timesteps_total": 12373489}
{"hostname": "flow-main", "episode_reward_mean": 970.0054971989988, "experiment_id": "383e98f8614b4235818372cc4d63f9e0", "config": {"use_gae": true, "tf_session_args": {"allow_soft_placement": true, "gpu_options": {"allow_growth": true}, "inter_op_parallelism_threads": 2, "device_count": {"CPU": 1}, "intra_op_parallelism_threads": 2, "log_device_placement": false}, "entropy_coeff": 0.0, "kl_coeff": 0.2, "num_gpus_per_worker": 0, "monitor": false, "input_evaluation": null, "clip_rewards": null, "vf_share_layers": false, "straggler_mitigation": false, "log_level": "INFO", "clip_actions": false, "simple_optimizer": false, "sample_batch_size": 750, "vf_clip_param": 1000000.0, "custom_resources_per_worker": {}, "lr": 0.0005, "num_sgd_iter": 10, "model": {"grayscale": false, "dim": 84, "custom_model": null, "free_log_std": false, "custom_options": {}, "lstm_cell_size": 256, "framestack": true, "squash_to_range": false, "conv_filters": null, "channel_major": false, "custom_preprocessor": null, "fcnet_hiddens": [128, 64, 32], "max_seq_len": 20, "lstm_use_prev_action_reward": false, "conv_activation": "relu", "use_lstm": false, "zero_mean": true, "fcnet_activation": "tanh"}, "input": "sampler", "horizon": 1500, "vf_loss_coeff": 1.0, "compress_observations": false, "num_envs_per_worker": 1, "sample_async": false, "num_gpus": 0, "output_max_file_size": 67108864, "lambda": 0.97, "multiagent": {"policy_graphs": {}, "policies_to_train": null, "policy_mapping_fn": null}, "output": null, "num_cpus_per_worker": 1, "preprocessor_pref": "deepmind", "clip_param": 0.3, "kl_target": 0.01, "output_compress_columns": ["obs", "new_obs"], "collect_metrics_timeout": 180, "sgd_minibatch_size": 128, "train_batch_size": 30000, "callbacks": {"on_sample_end": null, "on_train_result": null, "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7f2c028b6e80>", "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7f2c028b6198>", "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7f2c028b63c8>"}, "observation_filter": "MeanStdFilter", "synchronize_filters": true, "gamma": 0.99, "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "env_config": {"flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"buf_length\": 1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.1,\n            \"eta3\": 0.1,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 1.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnv\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 600,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}", "run": "PPO"}, "env": "MultiWaveAttenuationMergePOEnv-v0_[eta1, eta2, eta3]:[1.0, 0.1, 0.1]_t_min:1.0_buf_len: 1", "optimizer": {}, "num_workers": 20, "num_cpus_for_driver": 1, "lr_schedule": null, "batch_mode": "truncate_episodes"}, "time_this_iter_s": 48.8813898563385, "timesteps_since_restore": 12436938, "info": {"update_time_ms": 8.339, "num_steps_sampled": 12436938, "sample_time_ms": 31693.234, "grad_time_ms": 16843.972, "default": {"entropy": 1.8026243448257446, "kl": 0.017208009958267212, "vf_loss": 31.299983978271484, "vf_explained_var": 0.8322660326957703, "policy_loss": -0.014551825821399689, "total_loss": 31.291240692138672, "cur_lr": 0.0005000000237487257, "cur_kl_coeff": 0.33750006556510925}, "num_steps_trained": 12436938, "load_time_ms": 8.478}, "time_total_s": 9504.643941640854, "num_metric_batches_dropped": 0, "timestamp": 1558316001, "episode_reward_max": 1266.0238502705045, "timesteps_this_iter": 63449, "episode_reward_min": 61.90966511373493, "date": "2019-05-20_01-33-21", "policy_reward_mean": {}, "time_since_restore": 9504.643941640854, "episodes_total": 5345, "iterations_since_restore": 188, "pid": 46880, "episodes_this_iter": 28, "episode_len_mean": 693.39, "done": false, "training_iteration": 188, "custom_metrics": {"cost2_mean": -0.08780791061416388, "outflow_rate_mean": 1091.1691837714015, "cost2_min": -1.1189565062498892, "system_level_velocity_mean": 13.169622088761832, "cost1_min": 25.929020325230084, "cost1_mean": 337.74547695483074, "cost1_max": 483.5556056926911, "outflow_rate_max": 1355.536709614226, "system_level_velocity_max": 18.617946815195502, "outflow_rate_min": 530.0001945658554, "cost2_max": 0.0, "system_level_velocity_min": 9.506147083834593}, "node_ip": "10.138.0.2", "timesteps_total": 12436938}
{"hostname": "flow-main", "episode_reward_mean": 984.9302999427591, "experiment_id": "383e98f8614b4235818372cc4d63f9e0", "config": {"use_gae": true, "tf_session_args": {"allow_soft_placement": true, "gpu_options": {"allow_growth": true}, "inter_op_parallelism_threads": 2, "device_count": {"CPU": 1}, "intra_op_parallelism_threads": 2, "log_device_placement": false}, "entropy_coeff": 0.0, "kl_coeff": 0.2, "num_gpus_per_worker": 0, "monitor": false, "input_evaluation": null, "clip_rewards": null, "vf_share_layers": false, "straggler_mitigation": false, "log_level": "INFO", "clip_actions": false, "simple_optimizer": false, "sample_batch_size": 750, "vf_clip_param": 1000000.0, "custom_resources_per_worker": {}, "lr": 0.0005, "num_sgd_iter": 10, "model": {"grayscale": false, "dim": 84, "custom_model": null, "free_log_std": false, "custom_options": {}, "lstm_cell_size": 256, "framestack": true, "squash_to_range": false, "conv_filters": null, "channel_major": false, "custom_preprocessor": null, "fcnet_hiddens": [128, 64, 32], "max_seq_len": 20, "lstm_use_prev_action_reward": false, "conv_activation": "relu", "use_lstm": false, "zero_mean": true, "fcnet_activation": "tanh"}, "input": "sampler", "horizon": 1500, "vf_loss_coeff": 1.0, "compress_observations": false, "num_envs_per_worker": 1, "sample_async": false, "num_gpus": 0, "output_max_file_size": 67108864, "lambda": 0.97, "multiagent": {"policy_graphs": {}, "policies_to_train": null, "policy_mapping_fn": null}, "output": null, "num_cpus_per_worker": 1, "preprocessor_pref": "deepmind", "clip_param": 0.3, "kl_target": 0.01, "output_compress_columns": ["obs", "new_obs"], "collect_metrics_timeout": 180, "sgd_minibatch_size": 128, "train_batch_size": 30000, "callbacks": {"on_sample_end": null, "on_train_result": null, "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7f2c028a9f28>", "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7f2c028a9588>", "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7f2c028c16a0>"}, "observation_filter": "MeanStdFilter", "synchronize_filters": true, "gamma": 0.99, "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "env_config": {"flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"buf_length\": 1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.1,\n            \"eta3\": 0.1,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 1.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnv\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 600,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}", "run": "PPO"}, "env": "MultiWaveAttenuationMergePOEnv-v0_[eta1, eta2, eta3]:[1.0, 0.1, 0.1]_t_min:1.0_buf_len: 1", "optimizer": {}, "num_workers": 20, "num_cpus_for_driver": 1, "lr_schedule": null, "batch_mode": "truncate_episodes"}, "time_this_iter_s": 46.982219219207764, "timesteps_since_restore": 12502050, "info": {"update_time_ms": 8.074, "num_steps_sampled": 12502050, "sample_time_ms": 31481.505, "grad_time_ms": 16726.852, "default": {"entropy": 1.8090174198150635, "kl": 0.020024266093969345, "vf_loss": 33.83918762207031, "vf_explained_var": 0.8251168727874756, "policy_loss": -0.012371727265417576, "total_loss": 33.83357238769531, "cur_lr": 0.0005000000237487257, "cur_kl_coeff": 0.33750006556510925}, "num_steps_trained": 12502050, "load_time_ms": 8.942}, "time_total_s": 9551.626160860062, "num_metric_batches_dropped": 0, "timestamp": 1558316048, "episode_reward_max": 1205.1404323790352, "timesteps_this_iter": 65112, "episode_reward_min": 811.8489253637074, "date": "2019-05-20_01-34-08", "policy_reward_mean": {}, "time_since_restore": 9551.626160860062, "episodes_total": 5373, "iterations_since_restore": 189, "pid": 46880, "episodes_this_iter": 28, "episode_len_mean": 700.0, "done": false, "training_iteration": 189, "custom_metrics": {"cost2_mean": -0.08243537797161003, "outflow_rate_mean": 1099.2241712112407, "cost2_min": -1.1189565062498892, "system_level_velocity_mean": 13.094284495324198, "cost1_min": 248.50659068159487, "cost1_mean": 340.28705137030306, "cost1_max": 479.1712379644548, "outflow_rate_max": 1333.2025113705492, "system_level_velocity_max": 18.477630176405427, "outflow_rate_min": 915.5984343726834, "cost2_max": 0.0, "system_level_velocity_min": 9.506147083834593}, "node_ip": "10.138.0.2", "timesteps_total": 12502050}
{"hostname": "flow-main", "episode_reward_mean": 981.0237240351016, "experiment_id": "383e98f8614b4235818372cc4d63f9e0", "config": {"use_gae": true, "tf_session_args": {"allow_soft_placement": true, "gpu_options": {"allow_growth": true}, "inter_op_parallelism_threads": 2, "device_count": {"CPU": 1}, "intra_op_parallelism_threads": 2, "log_device_placement": false}, "entropy_coeff": 0.0, "kl_coeff": 0.2, "num_gpus_per_worker": 0, "monitor": false, "input_evaluation": null, "clip_rewards": null, "vf_share_layers": false, "straggler_mitigation": false, "log_level": "INFO", "clip_actions": false, "simple_optimizer": false, "sample_batch_size": 750, "vf_clip_param": 1000000.0, "custom_resources_per_worker": {}, "lr": 0.0005, "num_sgd_iter": 10, "model": {"grayscale": false, "dim": 84, "custom_model": null, "free_log_std": false, "custom_options": {}, "lstm_cell_size": 256, "framestack": true, "squash_to_range": false, "conv_filters": null, "channel_major": false, "custom_preprocessor": null, "fcnet_hiddens": [128, 64, 32], "max_seq_len": 20, "lstm_use_prev_action_reward": false, "conv_activation": "relu", "use_lstm": false, "zero_mean": true, "fcnet_activation": "tanh"}, "input": "sampler", "horizon": 1500, "vf_loss_coeff": 1.0, "compress_observations": false, "num_envs_per_worker": 1, "sample_async": false, "num_gpus": 0, "output_max_file_size": 67108864, "lambda": 0.97, "multiagent": {"policy_graphs": {}, "policies_to_train": null, "policy_mapping_fn": null}, "output": null, "num_cpus_per_worker": 1, "preprocessor_pref": "deepmind", "clip_param": 0.3, "kl_target": 0.01, "output_compress_columns": ["obs", "new_obs"], "collect_metrics_timeout": 180, "sgd_minibatch_size": 128, "train_batch_size": 30000, "callbacks": {"on_sample_end": null, "on_train_result": null, "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7f2c028977f0>", "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7f2c02cf5da0>", "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7f2c028976d8>"}, "observation_filter": "MeanStdFilter", "synchronize_filters": true, "gamma": 0.99, "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "env_config": {"flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"buf_length\": 1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.1,\n            \"eta3\": 0.1,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 1.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnv\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 600,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}", "run": "PPO"}, "env": "MultiWaveAttenuationMergePOEnv-v0_[eta1, eta2, eta3]:[1.0, 0.1, 0.1]_t_min:1.0_buf_len: 1", "optimizer": {}, "num_workers": 20, "num_cpus_for_driver": 1, "lr_schedule": null, "batch_mode": "truncate_episodes"}, "time_this_iter_s": 50.648412227630615, "timesteps_since_restore": 12565191, "info": {"update_time_ms": 8.075, "num_steps_sampled": 12565191, "sample_time_ms": 31851.19, "grad_time_ms": 16596.829, "default": {"entropy": 1.8105196952819824, "kl": 0.012804658152163029, "vf_loss": 37.40927505493164, "vf_explained_var": 0.8032621741294861, "policy_loss": -0.011635839939117432, "total_loss": 37.40412139892578, "cur_lr": 0.0005000000237487257, "cur_kl_coeff": 0.5062499642372131}, "num_steps_trained": 12565191, "load_time_ms": 9.25}, "time_total_s": 9602.274573087692, "num_metric_batches_dropped": 0, "timestamp": 1558316099, "episode_reward_max": 1296.2582739417685, "timesteps_this_iter": 63141, "episode_reward_min": 55.863604189240895, "date": "2019-05-20_01-34-59", "policy_reward_mean": {}, "time_since_restore": 9602.274573087692, "episodes_total": 5404, "iterations_since_restore": 190, "pid": 46880, "episodes_this_iter": 31, "episode_len_mean": 693.32, "done": false, "training_iteration": 190, "custom_metrics": {"cost2_mean": -0.10923975695306862, "outflow_rate_mean": 1095.421736031238, "cost2_min": -1.1189565062498892, "system_level_velocity_mean": 13.203244581506597, "cost1_min": 21.104339517413422, "cost1_mean": 338.4759605917176, "cost1_max": 479.1712379644548, "outflow_rate_max": 1346.3135238089249, "system_level_velocity_max": 18.477630176405427, "outflow_rate_min": 500.34973464747344, "cost2_max": 0.0, "system_level_velocity_min": 9.48205218734934}, "node_ip": "10.138.0.2", "timesteps_total": 12565191}
{"hostname": "flow-main", "episode_reward_mean": 975.6583076832935, "experiment_id": "383e98f8614b4235818372cc4d63f9e0", "config": {"use_gae": true, "tf_session_args": {"allow_soft_placement": true, "gpu_options": {"allow_growth": true}, "inter_op_parallelism_threads": 2, "device_count": {"CPU": 1}, "intra_op_parallelism_threads": 2, "log_device_placement": false}, "entropy_coeff": 0.0, "kl_coeff": 0.2, "num_gpus_per_worker": 0, "monitor": false, "input_evaluation": null, "clip_rewards": null, "vf_share_layers": false, "straggler_mitigation": false, "log_level": "INFO", "clip_actions": false, "simple_optimizer": false, "sample_batch_size": 750, "vf_clip_param": 1000000.0, "custom_resources_per_worker": {}, "lr": 0.0005, "num_sgd_iter": 10, "model": {"grayscale": false, "dim": 84, "custom_model": null, "free_log_std": false, "custom_options": {}, "lstm_cell_size": 256, "framestack": true, "squash_to_range": false, "conv_filters": null, "channel_major": false, "custom_preprocessor": null, "fcnet_hiddens": [128, 64, 32], "max_seq_len": 20, "lstm_use_prev_action_reward": false, "conv_activation": "relu", "use_lstm": false, "zero_mean": true, "fcnet_activation": "tanh"}, "input": "sampler", "horizon": 1500, "vf_loss_coeff": 1.0, "compress_observations": false, "num_envs_per_worker": 1, "sample_async": false, "num_gpus": 0, "output_max_file_size": 67108864, "lambda": 0.97, "multiagent": {"policy_graphs": {}, "policies_to_train": null, "policy_mapping_fn": null}, "output": null, "num_cpus_per_worker": 1, "preprocessor_pref": "deepmind", "clip_param": 0.3, "kl_target": 0.01, "output_compress_columns": ["obs", "new_obs"], "collect_metrics_timeout": 180, "sgd_minibatch_size": 128, "train_batch_size": 30000, "callbacks": {"on_sample_end": null, "on_train_result": null, "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7f2c028c6d30>", "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7f2c028c6b00>", "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7f2c028c6940>"}, "observation_filter": "MeanStdFilter", "synchronize_filters": true, "gamma": 0.99, "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "env_config": {"flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"buf_length\": 1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.1,\n            \"eta3\": 0.1,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 1.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnv\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 600,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}", "run": "PPO"}, "env": "MultiWaveAttenuationMergePOEnv-v0_[eta1, eta2, eta3]:[1.0, 0.1, 0.1]_t_min:1.0_buf_len: 1", "optimizer": {}, "num_workers": 20, "num_cpus_for_driver": 1, "lr_schedule": null, "batch_mode": "truncate_episodes"}, "time_this_iter_s": 48.6052041053772, "timesteps_since_restore": 12629869, "info": {"update_time_ms": 7.96, "num_steps_sampled": 12629869, "sample_time_ms": 31934.077, "grad_time_ms": 16563.808, "default": {"entropy": 1.8198328018188477, "kl": 0.012333792634308338, "vf_loss": 35.5626106262207, "vf_explained_var": 0.8059433102607727, "policy_loss": -0.011461514979600906, "total_loss": 35.557395935058594, "cur_lr": 0.0005000000237487257, "cur_kl_coeff": 0.5062499642372131}, "num_steps_trained": 12629869, "load_time_ms": 9.54}, "time_total_s": 9650.87977719307, "num_metric_batches_dropped": 0, "timestamp": 1558316147, "episode_reward_max": 1296.2582739417685, "timesteps_this_iter": 64678, "episode_reward_min": 44.964200425285036, "date": "2019-05-20_01-35-47", "policy_reward_mean": {}, "time_since_restore": 9650.87977719307, "episodes_total": 5432, "iterations_since_restore": 191, "pid": 46880, "episodes_this_iter": 28, "episode_len_mean": 686.57, "done": false, "training_iteration": 191, "custom_metrics": {"cost2_mean": -0.09329363397888261, "outflow_rate_mean": 1088.089774230979, "cost2_min": -1.0, "system_level_velocity_mean": 13.222474515853117, "cost1_min": 16.515593214480525, "cost1_mean": 334.44235041364766, "cost1_max": 479.1712379644548, "outflow_rate_max": 1346.3135238089249, "system_level_velocity_max": 18.477630176405427, "outflow_rate_min": 478.85323924047754, "cost2_max": 0.0, "system_level_velocity_min": 9.48205218734934}, "node_ip": "10.138.0.2", "timesteps_total": 12629869}
{"hostname": "flow-main", "episode_reward_mean": 965.3796941077785, "experiment_id": "383e98f8614b4235818372cc4d63f9e0", "config": {"use_gae": true, "tf_session_args": {"allow_soft_placement": true, "gpu_options": {"allow_growth": true}, "inter_op_parallelism_threads": 2, "device_count": {"CPU": 1}, "intra_op_parallelism_threads": 2, "log_device_placement": false}, "entropy_coeff": 0.0, "kl_coeff": 0.2, "num_gpus_per_worker": 0, "monitor": false, "input_evaluation": null, "clip_rewards": null, "vf_share_layers": false, "straggler_mitigation": false, "log_level": "INFO", "clip_actions": false, "simple_optimizer": false, "sample_batch_size": 750, "vf_clip_param": 1000000.0, "custom_resources_per_worker": {}, "lr": 0.0005, "num_sgd_iter": 10, "model": {"grayscale": false, "dim": 84, "custom_model": null, "free_log_std": false, "custom_options": {}, "lstm_cell_size": 256, "framestack": true, "squash_to_range": false, "conv_filters": null, "channel_major": false, "custom_preprocessor": null, "fcnet_hiddens": [128, 64, 32], "max_seq_len": 20, "lstm_use_prev_action_reward": false, "conv_activation": "relu", "use_lstm": false, "zero_mean": true, "fcnet_activation": "tanh"}, "input": "sampler", "horizon": 1500, "vf_loss_coeff": 1.0, "compress_observations": false, "num_envs_per_worker": 1, "sample_async": false, "num_gpus": 0, "output_max_file_size": 67108864, "lambda": 0.97, "multiagent": {"policy_graphs": {}, "policies_to_train": null, "policy_mapping_fn": null}, "output": null, "num_cpus_per_worker": 1, "preprocessor_pref": "deepmind", "clip_param": 0.3, "kl_target": 0.01, "output_compress_columns": ["obs", "new_obs"], "collect_metrics_timeout": 180, "sgd_minibatch_size": 128, "train_batch_size": 30000, "callbacks": {"on_sample_end": null, "on_train_result": null, "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7f2c02d1c2e8>", "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7f2c02d1c208>", "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7f2c02d1ce48>"}, "observation_filter": "MeanStdFilter", "synchronize_filters": true, "gamma": 0.99, "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "env_config": {"flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"buf_length\": 1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.1,\n            \"eta3\": 0.1,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 1.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnv\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 600,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}", "run": "PPO"}, "env": "MultiWaveAttenuationMergePOEnv-v0_[eta1, eta2, eta3]:[1.0, 0.1, 0.1]_t_min:1.0_buf_len: 1", "optimizer": {}, "num_workers": 20, "num_cpus_for_driver": 1, "lr_schedule": null, "batch_mode": "truncate_episodes"}, "time_this_iter_s": 46.14047145843506, "timesteps_since_restore": 12692856, "info": {"update_time_ms": 8.077, "num_steps_sampled": 12692856, "sample_time_ms": 31871.746, "grad_time_ms": 16428.269, "default": {"entropy": 1.8118538856506348, "kl": 0.01325797475874424, "vf_loss": 34.748207092285156, "vf_explained_var": 0.827208399772644, "policy_loss": -0.013108417391777039, "total_loss": 34.7418098449707, "cur_lr": 0.0005000000237487257, "cur_kl_coeff": 0.5062499046325684}, "num_steps_trained": 12692856, "load_time_ms": 9.573}, "time_total_s": 9697.020248651505, "num_metric_batches_dropped": 0, "timestamp": 1558316193, "episode_reward_max": 1304.0581453815096, "timesteps_this_iter": 62987, "episode_reward_min": 44.964200425285036, "date": "2019-05-20_01-36-33", "policy_reward_mean": {}, "time_since_restore": 9697.020248651505, "episodes_total": 5460, "iterations_since_restore": 192, "pid": 46880, "episodes_this_iter": 28, "episode_len_mean": 679.96, "done": false, "training_iteration": 192, "custom_metrics": {"cost2_mean": -0.09651800932006596, "outflow_rate_mean": 1081.5023562361866, "cost2_min": -1.0, "system_level_velocity_mean": 13.313604418095425, "cost1_min": 16.515593214480525, "cost1_mean": 331.9121382416744, "cost1_max": 479.1712379644548, "outflow_rate_max": 1346.3135238089249, "system_level_velocity_max": 18.68889768628489, "outflow_rate_min": 478.85323924047754, "cost2_max": 0.0, "system_level_velocity_min": 9.48205218734934}, "node_ip": "10.138.0.2", "timesteps_total": 12692856}
{"hostname": "flow-main", "episode_reward_mean": 988.9189468908531, "experiment_id": "383e98f8614b4235818372cc4d63f9e0", "config": {"use_gae": true, "tf_session_args": {"allow_soft_placement": true, "gpu_options": {"allow_growth": true}, "inter_op_parallelism_threads": 2, "device_count": {"CPU": 1}, "intra_op_parallelism_threads": 2, "log_device_placement": false}, "entropy_coeff": 0.0, "kl_coeff": 0.2, "num_gpus_per_worker": 0, "monitor": false, "input_evaluation": null, "clip_rewards": null, "vf_share_layers": false, "straggler_mitigation": false, "log_level": "INFO", "clip_actions": false, "simple_optimizer": false, "sample_batch_size": 750, "vf_clip_param": 1000000.0, "custom_resources_per_worker": {}, "lr": 0.0005, "num_sgd_iter": 10, "model": {"grayscale": false, "dim": 84, "custom_model": null, "free_log_std": false, "custom_options": {}, "lstm_cell_size": 256, "framestack": true, "squash_to_range": false, "conv_filters": null, "channel_major": false, "custom_preprocessor": null, "fcnet_hiddens": [128, 64, 32], "max_seq_len": 20, "lstm_use_prev_action_reward": false, "conv_activation": "relu", "use_lstm": false, "zero_mean": true, "fcnet_activation": "tanh"}, "input": "sampler", "horizon": 1500, "vf_loss_coeff": 1.0, "compress_observations": false, "num_envs_per_worker": 1, "sample_async": false, "num_gpus": 0, "output_max_file_size": 67108864, "lambda": 0.97, "multiagent": {"policy_graphs": {}, "policies_to_train": null, "policy_mapping_fn": null}, "output": null, "num_cpus_per_worker": 1, "preprocessor_pref": "deepmind", "clip_param": 0.3, "kl_target": 0.01, "output_compress_columns": ["obs", "new_obs"], "collect_metrics_timeout": 180, "sgd_minibatch_size": 128, "train_batch_size": 30000, "callbacks": {"on_sample_end": null, "on_train_result": null, "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7f2c028c6dd8>", "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7f2c028c6b00>", "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7f2c028c6940>"}, "observation_filter": "MeanStdFilter", "synchronize_filters": true, "gamma": 0.99, "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "env_config": {"flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"buf_length\": 1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.1,\n            \"eta3\": 0.1,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 1.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnv\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 600,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}", "run": "PPO"}, "env": "MultiWaveAttenuationMergePOEnv-v0_[eta1, eta2, eta3]:[1.0, 0.1, 0.1]_t_min:1.0_buf_len: 1", "optimizer": {}, "num_workers": 20, "num_cpus_for_driver": 1, "lr_schedule": null, "batch_mode": "truncate_episodes"}, "time_this_iter_s": 45.25581693649292, "timesteps_since_restore": 12757843, "info": {"update_time_ms": 7.779, "num_steps_sampled": 12757843, "sample_time_ms": 31571.136, "grad_time_ms": 16279.648, "default": {"entropy": 1.8235578536987305, "kl": 0.012543928809463978, "vf_loss": 33.27437210083008, "vf_explained_var": 0.8380144834518433, "policy_loss": -0.011909021995961666, "total_loss": 33.26881408691406, "cur_lr": 0.0005000000237487257, "cur_kl_coeff": 0.5062499642372131}, "num_steps_trained": 12757843, "load_time_ms": 9.495}, "time_total_s": 9742.276065587997, "num_metric_batches_dropped": 0, "timestamp": 1558316239, "episode_reward_max": 1363.5589227414112, "timesteps_this_iter": 64987, "episode_reward_min": 44.964200425285036, "date": "2019-05-20_01-37-19", "policy_reward_mean": {}, "time_since_restore": 9742.276065587997, "episodes_total": 5487, "iterations_since_restore": 193, "pid": 46880, "episodes_this_iter": 27, "episode_len_mean": 686.64, "done": false, "training_iteration": 193, "custom_metrics": {"cost2_mean": -0.09033976943157498, "outflow_rate_mean": 1092.381536683519, "cost2_min": -0.5194805194805194, "system_level_velocity_mean": 13.366228137350674, "cost1_min": 16.515593214480525, "cost1_mean": 337.7791042111972, "cost1_max": 478.92211454180745, "outflow_rate_max": 1348.4315223572596, "system_level_velocity_max": 18.68889768628489, "outflow_rate_min": 478.85323924047754, "cost2_max": 0.0, "system_level_velocity_min": 8.651584876739452}, "node_ip": "10.138.0.2", "timesteps_total": 12757843}
{"hostname": "flow-main", "episode_reward_mean": 980.4231301743978, "experiment_id": "383e98f8614b4235818372cc4d63f9e0", "config": {"use_gae": true, "tf_session_args": {"allow_soft_placement": true, "gpu_options": {"allow_growth": true}, "inter_op_parallelism_threads": 2, "device_count": {"CPU": 1}, "intra_op_parallelism_threads": 2, "log_device_placement": false}, "entropy_coeff": 0.0, "kl_coeff": 0.2, "num_gpus_per_worker": 0, "monitor": false, "input_evaluation": null, "clip_rewards": null, "vf_share_layers": false, "straggler_mitigation": false, "log_level": "INFO", "clip_actions": false, "simple_optimizer": false, "sample_batch_size": 750, "vf_clip_param": 1000000.0, "custom_resources_per_worker": {}, "lr": 0.0005, "num_sgd_iter": 10, "model": {"grayscale": false, "dim": 84, "custom_model": null, "free_log_std": false, "custom_options": {}, "lstm_cell_size": 256, "framestack": true, "squash_to_range": false, "conv_filters": null, "channel_major": false, "custom_preprocessor": null, "fcnet_hiddens": [128, 64, 32], "max_seq_len": 20, "lstm_use_prev_action_reward": false, "conv_activation": "relu", "use_lstm": false, "zero_mean": true, "fcnet_activation": "tanh"}, "input": "sampler", "horizon": 1500, "vf_loss_coeff": 1.0, "compress_observations": false, "num_envs_per_worker": 1, "sample_async": false, "num_gpus": 0, "output_max_file_size": 67108864, "lambda": 0.97, "multiagent": {"policy_graphs": {}, "policies_to_train": null, "policy_mapping_fn": null}, "output": null, "num_cpus_per_worker": 1, "preprocessor_pref": "deepmind", "clip_param": 0.3, "kl_target": 0.01, "output_compress_columns": ["obs", "new_obs"], "collect_metrics_timeout": 180, "sgd_minibatch_size": 128, "train_batch_size": 30000, "callbacks": {"on_sample_end": null, "on_train_result": null, "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7f2c02d47940>", "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7f2c02d47cf8>", "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7f2c02d47c18>"}, "observation_filter": "MeanStdFilter", "synchronize_filters": true, "gamma": 0.99, "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "env_config": {"flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"buf_length\": 1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.1,\n            \"eta3\": 0.1,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 1.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnv\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 600,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}", "run": "PPO"}, "env": "MultiWaveAttenuationMergePOEnv-v0_[eta1, eta2, eta3]:[1.0, 0.1, 0.1]_t_min:1.0_buf_len: 1", "optimizer": {}, "num_workers": 20, "num_cpus_for_driver": 1, "lr_schedule": null, "batch_mode": "truncate_episodes"}, "time_this_iter_s": 46.16621541976929, "timesteps_since_restore": 12823185, "info": {"update_time_ms": 7.927, "num_steps_sampled": 12823185, "sample_time_ms": 31440.057, "grad_time_ms": 16124.99, "default": {"entropy": 1.8655961751937866, "kl": 0.012427286244928837, "vf_loss": 34.62529754638672, "vf_explained_var": 0.8087396621704102, "policy_loss": -0.01247140858322382, "total_loss": 34.61912155151367, "cur_lr": 0.0005000000237487257, "cur_kl_coeff": 0.5062499642372131}, "num_steps_trained": 12823185, "load_time_ms": 9.369}, "time_total_s": 9788.442281007767, "num_metric_batches_dropped": 0, "timestamp": 1558316285, "episode_reward_max": 1363.5589227414112, "timesteps_this_iter": 65342, "episode_reward_min": 44.964200425285036, "date": "2019-05-20_01-38-05", "policy_reward_mean": {}, "time_since_restore": 9788.442281007767, "episodes_total": 5516, "iterations_since_restore": 194, "pid": 46880, "episodes_this_iter": 29, "episode_len_mean": 686.64, "done": false, "training_iteration": 194, "custom_metrics": {"cost2_mean": -0.08493177571981392, "outflow_rate_mean": 1087.5345406659228, "cost2_min": -0.5194805194805194, "system_level_velocity_mean": 13.278531393410566, "cost1_min": 16.515593214480525, "cost1_mean": 335.77630616348574, "cost1_max": 478.92211454180745, "outflow_rate_max": 1348.4315223572596, "system_level_velocity_max": 18.68889768628489, "outflow_rate_min": 478.85323924047754, "cost2_max": 0.0, "system_level_velocity_min": 8.651584876739452}, "node_ip": "10.138.0.2", "timesteps_total": 12823185}
{"hostname": "flow-main", "episode_reward_mean": 993.6247122386304, "experiment_id": "383e98f8614b4235818372cc4d63f9e0", "config": {"use_gae": true, "tf_session_args": {"allow_soft_placement": true, "gpu_options": {"allow_growth": true}, "inter_op_parallelism_threads": 2, "device_count": {"CPU": 1}, "intra_op_parallelism_threads": 2, "log_device_placement": false}, "entropy_coeff": 0.0, "kl_coeff": 0.2, "num_gpus_per_worker": 0, "monitor": false, "input_evaluation": null, "clip_rewards": null, "vf_share_layers": false, "straggler_mitigation": false, "log_level": "INFO", "clip_actions": false, "simple_optimizer": false, "sample_batch_size": 750, "vf_clip_param": 1000000.0, "custom_resources_per_worker": {}, "lr": 0.0005, "num_sgd_iter": 10, "model": {"grayscale": false, "dim": 84, "custom_model": null, "free_log_std": false, "custom_options": {}, "lstm_cell_size": 256, "framestack": true, "squash_to_range": false, "conv_filters": null, "channel_major": false, "custom_preprocessor": null, "fcnet_hiddens": [128, 64, 32], "max_seq_len": 20, "lstm_use_prev_action_reward": false, "conv_activation": "relu", "use_lstm": false, "zero_mean": true, "fcnet_activation": "tanh"}, "input": "sampler", "horizon": 1500, "vf_loss_coeff": 1.0, "compress_observations": false, "num_envs_per_worker": 1, "sample_async": false, "num_gpus": 0, "output_max_file_size": 67108864, "lambda": 0.97, "multiagent": {"policy_graphs": {}, "policies_to_train": null, "policy_mapping_fn": null}, "output": null, "num_cpus_per_worker": 1, "preprocessor_pref": "deepmind", "clip_param": 0.3, "kl_target": 0.01, "output_compress_columns": ["obs", "new_obs"], "collect_metrics_timeout": 180, "sgd_minibatch_size": 128, "train_batch_size": 30000, "callbacks": {"on_sample_end": null, "on_train_result": null, "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7f2c028c19b0>", "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7f2c028c17f0>", "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7f2c028c1f60>"}, "observation_filter": "MeanStdFilter", "synchronize_filters": true, "gamma": 0.99, "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "env_config": {"flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"buf_length\": 1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.1,\n            \"eta3\": 0.1,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 1.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnv\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 600,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}", "run": "PPO"}, "env": "MultiWaveAttenuationMergePOEnv-v0_[eta1, eta2, eta3]:[1.0, 0.1, 0.1]_t_min:1.0_buf_len: 1", "optimizer": {}, "num_workers": 20, "num_cpus_for_driver": 1, "lr_schedule": null, "batch_mode": "truncate_episodes"}, "time_this_iter_s": 46.92868256568909, "timesteps_since_restore": 12887553, "info": {"update_time_ms": 7.826, "num_steps_sampled": 12887553, "sample_time_ms": 31255.488, "grad_time_ms": 16225.984, "default": {"entropy": 1.8421374559402466, "kl": 0.012683466076850891, "vf_loss": 35.908668518066406, "vf_explained_var": 0.8141735196113586, "policy_loss": -0.012220015749335289, "total_loss": 35.90287399291992, "cur_lr": 0.0005000000237487257, "cur_kl_coeff": 0.5062499046325684}, "num_steps_trained": 12887553, "load_time_ms": 9.273}, "time_total_s": 9835.370963573456, "num_metric_batches_dropped": 0, "timestamp": 1558316332, "episode_reward_max": 1363.5589227414112, "timesteps_this_iter": 64368, "episode_reward_min": 609.9020636678792, "date": "2019-05-20_01-38-52", "policy_reward_mean": {}, "time_since_restore": 9835.370963573456, "episodes_total": 5546, "iterations_since_restore": 195, "pid": 46880, "episodes_this_iter": 30, "episode_len_mean": 696.29, "done": false, "training_iteration": 195, "custom_metrics": {"cost2_mean": -0.0805805670467787, "outflow_rate_mean": 1097.9964984429776, "cost2_min": -0.6339385916854133, "system_level_velocity_mean": 13.187807893392844, "cost1_min": 223.42473897624018, "cost1_mean": 339.7296466361102, "cost1_max": 478.92211454180745, "outflow_rate_max": 1348.4315223572596, "system_level_velocity_max": 18.753520980169732, "outflow_rate_min": 868.8958017382625, "cost2_max": 0.0, "system_level_velocity_min": 8.651584876739452}, "node_ip": "10.138.0.2", "timesteps_total": 12887553}
{"hostname": "flow-main", "episode_reward_mean": 968.4480230290352, "experiment_id": "383e98f8614b4235818372cc4d63f9e0", "config": {"use_gae": true, "tf_session_args": {"allow_soft_placement": true, "gpu_options": {"allow_growth": true}, "inter_op_parallelism_threads": 2, "device_count": {"CPU": 1}, "intra_op_parallelism_threads": 2, "log_device_placement": false}, "entropy_coeff": 0.0, "kl_coeff": 0.2, "num_gpus_per_worker": 0, "monitor": false, "input_evaluation": null, "clip_rewards": null, "vf_share_layers": false, "straggler_mitigation": false, "log_level": "INFO", "clip_actions": false, "simple_optimizer": false, "sample_batch_size": 750, "vf_clip_param": 1000000.0, "custom_resources_per_worker": {}, "lr": 0.0005, "num_sgd_iter": 10, "model": {"grayscale": false, "dim": 84, "custom_model": null, "free_log_std": false, "custom_options": {}, "lstm_cell_size": 256, "framestack": true, "squash_to_range": false, "conv_filters": null, "channel_major": false, "custom_preprocessor": null, "fcnet_hiddens": [128, 64, 32], "max_seq_len": 20, "lstm_use_prev_action_reward": false, "conv_activation": "relu", "use_lstm": false, "zero_mean": true, "fcnet_activation": "tanh"}, "input": "sampler", "horizon": 1500, "vf_loss_coeff": 1.0, "compress_observations": false, "num_envs_per_worker": 1, "sample_async": false, "num_gpus": 0, "output_max_file_size": 67108864, "lambda": 0.97, "multiagent": {"policy_graphs": {}, "policies_to_train": null, "policy_mapping_fn": null}, "output": null, "num_cpus_per_worker": 1, "preprocessor_pref": "deepmind", "clip_param": 0.3, "kl_target": 0.01, "output_compress_columns": ["obs", "new_obs"], "collect_metrics_timeout": 180, "sgd_minibatch_size": 128, "train_batch_size": 30000, "callbacks": {"on_sample_end": null, "on_train_result": null, "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7f2c02cfe518>", "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7f2c02cec080>", "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7f2c02cdb048>"}, "observation_filter": "MeanStdFilter", "synchronize_filters": true, "gamma": 0.99, "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "env_config": {"flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"buf_length\": 1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.1,\n            \"eta3\": 0.1,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 1.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnv\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 600,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}", "run": "PPO"}, "env": "MultiWaveAttenuationMergePOEnv-v0_[eta1, eta2, eta3]:[1.0, 0.1, 0.1]_t_min:1.0_buf_len: 1", "optimizer": {}, "num_workers": 20, "num_cpus_for_driver": 1, "lr_schedule": null, "batch_mode": "truncate_episodes"}, "time_this_iter_s": 46.526442527770996, "timesteps_since_restore": 12950401, "info": {"update_time_ms": 7.882, "num_steps_sampled": 12950401, "sample_time_ms": 31238.312, "grad_time_ms": 16132.393, "default": {"entropy": 1.834909439086914, "kl": 0.012803951278328896, "vf_loss": 35.17920684814453, "vf_explained_var": 0.8125872015953064, "policy_loss": -0.012074161320924759, "total_loss": 35.173614501953125, "cur_lr": 0.0005000000237487257, "cur_kl_coeff": 0.5062499642372131}, "num_steps_trained": 12950401, "load_time_ms": 9.433}, "time_total_s": 9881.897406101227, "num_metric_batches_dropped": 0, "timestamp": 1558316379, "episode_reward_max": 1363.5589227414112, "timesteps_this_iter": 62848, "episode_reward_min": 36.53744726234282, "date": "2019-05-20_01-39-39", "policy_reward_mean": {}, "time_since_restore": 9881.897406101227, "episodes_total": 5575, "iterations_since_restore": 196, "pid": 46880, "episodes_this_iter": 29, "episode_len_mean": 682.95, "done": false, "training_iteration": 196, "custom_metrics": {"cost2_mean": -0.07880800163874044, "outflow_rate_mean": 1078.7119913804008, "cost2_min": -0.6339385916854133, "system_level_velocity_mean": 13.150163235136239, "cost1_min": 15.44295695086476, "cost1_mean": 329.7456556511824, "cost1_max": 475.0970514264038, "outflow_rate_max": 1344.50928630985, "system_level_velocity_max": 18.753520980169732, "outflow_rate_min": 481.0028128682593, "cost2_max": 0.0, "system_level_velocity_min": 9.119796696962439}, "node_ip": "10.138.0.2", "timesteps_total": 12950401}
{"hostname": "flow-main", "episode_reward_mean": 955.9353551631265, "experiment_id": "383e98f8614b4235818372cc4d63f9e0", "config": {"use_gae": true, "tf_session_args": {"allow_soft_placement": true, "gpu_options": {"allow_growth": true}, "inter_op_parallelism_threads": 2, "device_count": {"CPU": 1}, "intra_op_parallelism_threads": 2, "log_device_placement": false}, "entropy_coeff": 0.0, "kl_coeff": 0.2, "num_gpus_per_worker": 0, "monitor": false, "input_evaluation": null, "clip_rewards": null, "vf_share_layers": false, "straggler_mitigation": false, "log_level": "INFO", "clip_actions": false, "simple_optimizer": false, "sample_batch_size": 750, "vf_clip_param": 1000000.0, "custom_resources_per_worker": {}, "lr": 0.0005, "num_sgd_iter": 10, "model": {"grayscale": false, "dim": 84, "custom_model": null, "free_log_std": false, "custom_options": {}, "lstm_cell_size": 256, "framestack": true, "squash_to_range": false, "conv_filters": null, "channel_major": false, "custom_preprocessor": null, "fcnet_hiddens": [128, 64, 32], "max_seq_len": 20, "lstm_use_prev_action_reward": false, "conv_activation": "relu", "use_lstm": false, "zero_mean": true, "fcnet_activation": "tanh"}, "input": "sampler", "horizon": 1500, "vf_loss_coeff": 1.0, "compress_observations": false, "num_envs_per_worker": 1, "sample_async": false, "num_gpus": 0, "output_max_file_size": 67108864, "lambda": 0.97, "multiagent": {"policy_graphs": {}, "policies_to_train": null, "policy_mapping_fn": null}, "output": null, "num_cpus_per_worker": 1, "preprocessor_pref": "deepmind", "clip_param": 0.3, "kl_target": 0.01, "output_compress_columns": ["obs", "new_obs"], "collect_metrics_timeout": 180, "sgd_minibatch_size": 128, "train_batch_size": 30000, "callbacks": {"on_sample_end": null, "on_train_result": null, "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7f2c028c12b0>", "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7f2c028c1e80>", "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7f2c028c1400>"}, "observation_filter": "MeanStdFilter", "synchronize_filters": true, "gamma": 0.99, "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "env_config": {"flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"buf_length\": 1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.1,\n            \"eta3\": 0.1,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 1.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnv\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 600,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}", "run": "PPO"}, "env": "MultiWaveAttenuationMergePOEnv-v0_[eta1, eta2, eta3]:[1.0, 0.1, 0.1]_t_min:1.0_buf_len: 1", "optimizer": {}, "num_workers": 20, "num_cpus_for_driver": 1, "lr_schedule": null, "batch_mode": "truncate_episodes"}, "time_this_iter_s": 47.784024715423584, "timesteps_since_restore": 13014257, "info": {"update_time_ms": 7.746, "num_steps_sampled": 13014257, "sample_time_ms": 30966.296, "grad_time_ms": 16292.005, "default": {"entropy": 1.855291724205017, "kl": 0.011960863135755062, "vf_loss": 31.486186981201172, "vf_explained_var": 0.8322072625160217, "policy_loss": -0.010838637128472328, "total_loss": 31.48140525817871, "cur_lr": 0.0005000000237487257, "cur_kl_coeff": 0.5062499642372131}, "num_steps_trained": 13014257, "load_time_ms": 9.317}, "time_total_s": 9929.68143081665, "num_metric_batches_dropped": 0, "timestamp": 1558316426, "episode_reward_max": 1252.253390702481, "timesteps_this_iter": 63856, "episode_reward_min": 36.53744726234282, "date": "2019-05-20_01-40-26", "policy_reward_mean": {}, "time_since_restore": 9929.68143081665, "episodes_total": 5603, "iterations_since_restore": 197, "pid": 46880, "episodes_this_iter": 28, "episode_len_mean": 682.95, "done": false, "training_iteration": 197, "custom_metrics": {"cost2_mean": -0.06973847063639178, "outflow_rate_mean": 1071.9726944951833, "cost2_min": -0.6339385916854133, "system_level_velocity_mean": 12.973571977203953, "cost1_min": 15.44295695086476, "cost1_mean": 324.80554598850676, "cost1_max": 445.859971307097, "outflow_rate_max": 1313.100196401869, "system_level_velocity_max": 18.753520980169732, "outflow_rate_min": 481.0028128682593, "cost2_max": 0.0, "system_level_velocity_min": 9.119796696962439}, "node_ip": "10.138.0.2", "timesteps_total": 13014257}
{"hostname": "flow-main", "episode_reward_mean": 949.827287376834, "experiment_id": "383e98f8614b4235818372cc4d63f9e0", "config": {"use_gae": true, "tf_session_args": {"allow_soft_placement": true, "gpu_options": {"allow_growth": true}, "inter_op_parallelism_threads": 2, "device_count": {"CPU": 1}, "intra_op_parallelism_threads": 2, "log_device_placement": false}, "entropy_coeff": 0.0, "kl_coeff": 0.2, "num_gpus_per_worker": 0, "monitor": false, "input_evaluation": null, "clip_rewards": null, "vf_share_layers": false, "straggler_mitigation": false, "log_level": "INFO", "clip_actions": false, "simple_optimizer": false, "sample_batch_size": 750, "vf_clip_param": 1000000.0, "custom_resources_per_worker": {}, "lr": 0.0005, "num_sgd_iter": 10, "model": {"grayscale": false, "dim": 84, "custom_model": null, "free_log_std": false, "custom_options": {}, "lstm_cell_size": 256, "framestack": true, "squash_to_range": false, "conv_filters": null, "channel_major": false, "custom_preprocessor": null, "fcnet_hiddens": [128, 64, 32], "max_seq_len": 20, "lstm_use_prev_action_reward": false, "conv_activation": "relu", "use_lstm": false, "zero_mean": true, "fcnet_activation": "tanh"}, "input": "sampler", "horizon": 1500, "vf_loss_coeff": 1.0, "compress_observations": false, "num_envs_per_worker": 1, "sample_async": false, "num_gpus": 0, "output_max_file_size": 67108864, "lambda": 0.97, "multiagent": {"policy_graphs": {}, "policies_to_train": null, "policy_mapping_fn": null}, "output": null, "num_cpus_per_worker": 1, "preprocessor_pref": "deepmind", "clip_param": 0.3, "kl_target": 0.01, "output_compress_columns": ["obs", "new_obs"], "collect_metrics_timeout": 180, "sgd_minibatch_size": 128, "train_batch_size": 30000, "callbacks": {"on_sample_end": null, "on_train_result": null, "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7f2c02d1cda0>", "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7f2c02d1c208>", "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7f2c02d33ef0>"}, "observation_filter": "MeanStdFilter", "synchronize_filters": true, "gamma": 0.99, "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "env_config": {"flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"buf_length\": 1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.1,\n            \"eta3\": 0.1,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 1.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnv\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 600,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}", "run": "PPO"}, "env": "MultiWaveAttenuationMergePOEnv-v0_[eta1, eta2, eta3]:[1.0, 0.1, 0.1]_t_min:1.0_buf_len: 1", "optimizer": {}, "num_workers": 20, "num_cpus_for_driver": 1, "lr_schedule": null, "batch_mode": "truncate_episodes"}, "time_this_iter_s": 44.958513498306274, "timesteps_since_restore": 13078729, "info": {"update_time_ms": 7.796, "num_steps_sampled": 13078729, "sample_time_ms": 30649.595, "grad_time_ms": 16217.393, "default": {"entropy": 1.8038796186447144, "kl": 0.013074941001832485, "vf_loss": 34.52641296386719, "vf_explained_var": 0.8304039239883423, "policy_loss": -0.011967099271714687, "total_loss": 34.52106857299805, "cur_lr": 0.0005000000237487257, "cur_kl_coeff": 0.5062499046325684}, "num_steps_trained": 13078729, "load_time_ms": 9.33}, "time_total_s": 9974.639944314957, "num_metric_batches_dropped": 0, "timestamp": 1558316471, "episode_reward_max": 1338.2924689541514, "timesteps_this_iter": 64472, "episode_reward_min": 24.27162472797989, "date": "2019-05-20_01-41-11", "policy_reward_mean": {}, "time_since_restore": 9974.639944314957, "episodes_total": 5634, "iterations_since_restore": 198, "pid": 46880, "episodes_this_iter": 31, "episode_len_mean": 673.08, "done": false, "training_iteration": 198, "custom_metrics": {"cost2_mean": -0.07534552943576585, "outflow_rate_mean": 1069.6640820281011, "cost2_min": -0.9221491852312678, "system_level_velocity_mean": 13.219198655333042, "cost1_min": 11.744727030315278, "cost1_mean": 324.39093195106466, "cost1_max": 479.56676558383924, "outflow_rate_max": 1356.9881987119807, "system_level_velocity_max": 18.58919888695129, "outflow_rate_min": 464.2002765876701, "cost2_max": 0.0, "system_level_velocity_min": 9.119796696962439}, "node_ip": "10.138.0.2", "timesteps_total": 13078729}
{"hostname": "flow-main", "episode_reward_mean": 942.0151710456237, "experiment_id": "383e98f8614b4235818372cc4d63f9e0", "config": {"use_gae": true, "tf_session_args": {"allow_soft_placement": true, "gpu_options": {"allow_growth": true}, "inter_op_parallelism_threads": 2, "device_count": {"CPU": 1}, "intra_op_parallelism_threads": 2, "log_device_placement": false}, "entropy_coeff": 0.0, "kl_coeff": 0.2, "num_gpus_per_worker": 0, "monitor": false, "input_evaluation": null, "clip_rewards": null, "vf_share_layers": false, "straggler_mitigation": false, "log_level": "INFO", "clip_actions": false, "simple_optimizer": false, "sample_batch_size": 750, "vf_clip_param": 1000000.0, "custom_resources_per_worker": {}, "lr": 0.0005, "num_sgd_iter": 10, "model": {"grayscale": false, "dim": 84, "custom_model": null, "free_log_std": false, "custom_options": {}, "lstm_cell_size": 256, "framestack": true, "squash_to_range": false, "conv_filters": null, "channel_major": false, "custom_preprocessor": null, "fcnet_hiddens": [128, 64, 32], "max_seq_len": 20, "lstm_use_prev_action_reward": false, "conv_activation": "relu", "use_lstm": false, "zero_mean": true, "fcnet_activation": "tanh"}, "input": "sampler", "horizon": 1500, "vf_loss_coeff": 1.0, "compress_observations": false, "num_envs_per_worker": 1, "sample_async": false, "num_gpus": 0, "output_max_file_size": 67108864, "lambda": 0.97, "multiagent": {"policy_graphs": {}, "policies_to_train": null, "policy_mapping_fn": null}, "output": null, "num_cpus_per_worker": 1, "preprocessor_pref": "deepmind", "clip_param": 0.3, "kl_target": 0.01, "output_compress_columns": ["obs", "new_obs"], "collect_metrics_timeout": 180, "sgd_minibatch_size": 128, "train_batch_size": 30000, "callbacks": {"on_sample_end": null, "on_train_result": null, "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7f2c02d47898>", "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7f2c02d33668>", "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7f2c02d47eb8>"}, "observation_filter": "MeanStdFilter", "synchronize_filters": true, "gamma": 0.99, "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "env_config": {"flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"buf_length\": 1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.1,\n            \"eta3\": 0.1,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 1.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnv\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 600,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}", "run": "PPO"}, "env": "MultiWaveAttenuationMergePOEnv-v0_[eta1, eta2, eta3]:[1.0, 0.1, 0.1]_t_min:1.0_buf_len: 1", "optimizer": {}, "num_workers": 20, "num_cpus_for_driver": 1, "lr_schedule": null, "batch_mode": "truncate_episodes"}, "time_this_iter_s": 47.24488162994385, "timesteps_since_restore": 13143288, "info": {"update_time_ms": 7.945, "num_steps_sampled": 13143288, "sample_time_ms": 30609.193, "grad_time_ms": 16283.969, "default": {"entropy": 1.8597848415374756, "kl": 0.012820228934288025, "vf_loss": 33.052085876464844, "vf_explained_var": 0.8150407671928406, "policy_loss": -0.012489458546042442, "total_loss": 33.046085357666016, "cur_lr": 0.0005000000237487257, "cur_kl_coeff": 0.5062499642372131}, "num_steps_trained": 13143288, "load_time_ms": 9.226}, "time_total_s": 10021.8848259449, "num_metric_batches_dropped": 0, "timestamp": 1558316519, "episode_reward_max": 1338.2924689541514, "timesteps_this_iter": 64559, "episode_reward_min": 24.27162472797989, "date": "2019-05-20_01-41-59", "policy_reward_mean": {}, "time_since_restore": 10021.8848259449, "episodes_total": 5662, "iterations_since_restore": 199, "pid": 46880, "episodes_this_iter": 28, "episode_len_mean": 671.76, "done": false, "training_iteration": 199, "custom_metrics": {"cost2_mean": -0.08303522686624869, "outflow_rate_mean": 1068.3111868353035, "cost2_min": -1.1963847876664233, "system_level_velocity_mean": 13.197468443544478, "cost1_min": 11.744727030315278, "cost1_mean": 323.30439795048477, "cost1_max": 479.56676558383924, "outflow_rate_max": 1356.9881987119807, "system_level_velocity_max": 18.58919888695129, "outflow_rate_min": 464.2002765876701, "cost2_max": 0.0, "system_level_velocity_min": 10.546130763919662}, "node_ip": "10.138.0.2", "timesteps_total": 13143288}
{"hostname": "flow-main", "episode_reward_mean": 944.2870121132215, "experiment_id": "383e98f8614b4235818372cc4d63f9e0", "config": {"use_gae": true, "tf_session_args": {"allow_soft_placement": true, "gpu_options": {"allow_growth": true}, "inter_op_parallelism_threads": 2, "device_count": {"CPU": 1}, "intra_op_parallelism_threads": 2, "log_device_placement": false}, "entropy_coeff": 0.0, "kl_coeff": 0.2, "num_gpus_per_worker": 0, "monitor": false, "input_evaluation": null, "clip_rewards": null, "vf_share_layers": false, "straggler_mitigation": false, "log_level": "INFO", "clip_actions": false, "simple_optimizer": false, "sample_batch_size": 750, "vf_clip_param": 1000000.0, "custom_resources_per_worker": {}, "lr": 0.0005, "num_sgd_iter": 10, "model": {"grayscale": false, "dim": 84, "custom_model": null, "free_log_std": false, "custom_options": {}, "lstm_cell_size": 256, "framestack": true, "squash_to_range": false, "conv_filters": null, "channel_major": false, "custom_preprocessor": null, "fcnet_hiddens": [128, 64, 32], "max_seq_len": 20, "lstm_use_prev_action_reward": false, "conv_activation": "relu", "use_lstm": false, "zero_mean": true, "fcnet_activation": "tanh"}, "input": "sampler", "horizon": 1500, "vf_loss_coeff": 1.0, "compress_observations": false, "num_envs_per_worker": 1, "sample_async": false, "num_gpus": 0, "output_max_file_size": 67108864, "lambda": 0.97, "multiagent": {"policy_graphs": {}, "policies_to_train": null, "policy_mapping_fn": null}, "output": null, "num_cpus_per_worker": 1, "preprocessor_pref": "deepmind", "clip_param": 0.3, "kl_target": 0.01, "output_compress_columns": ["obs", "new_obs"], "collect_metrics_timeout": 180, "sgd_minibatch_size": 128, "train_batch_size": 30000, "callbacks": {"on_sample_end": null, "on_train_result": null, "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7f2c028b2668>", "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7f2c028b20f0>", "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7f2c028b2208>"}, "observation_filter": "MeanStdFilter", "synchronize_filters": true, "gamma": 0.99, "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "env_config": {"flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"buf_length\": 1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.1,\n            \"eta3\": 0.1,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 1.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnv\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 600,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}", "run": "PPO"}, "env": "MultiWaveAttenuationMergePOEnv-v0_[eta1, eta2, eta3]:[1.0, 0.1, 0.1]_t_min:1.0_buf_len: 1", "optimizer": {}, "num_workers": 20, "num_cpus_for_driver": 1, "lr_schedule": null, "batch_mode": "truncate_episodes"}, "time_this_iter_s": 46.80157256126404, "timesteps_since_restore": 13207166, "info": {"update_time_ms": 7.875, "num_steps_sampled": 13207166, "sample_time_ms": 30181.798, "grad_time_ms": 16327.161, "default": {"entropy": 1.8339600563049316, "kl": 0.01331311371177435, "vf_loss": 33.3311653137207, "vf_explained_var": 0.827953040599823, "policy_loss": -0.01280868612229824, "total_loss": 33.32509994506836, "cur_lr": 0.0005000000237487257, "cur_kl_coeff": 0.5062499046325684}, "num_steps_trained": 13207166, "load_time_ms": 9.128}, "time_total_s": 10068.686398506165, "num_metric_batches_dropped": 0, "timestamp": 1558316565, "episode_reward_max": 1338.2924689541514, "timesteps_this_iter": 63878, "episode_reward_min": 24.27162472797989, "date": "2019-05-20_01-42-45", "policy_reward_mean": {}, "time_since_restore": 10068.686398506165, "episodes_total": 5691, "iterations_since_restore": 200, "pid": 46880, "episodes_this_iter": 29, "episode_len_mean": 671.83, "done": true, "training_iteration": 200, "custom_metrics": {"cost2_mean": -0.07722895491148127, "outflow_rate_mean": 1072.9558957686972, "cost2_min": -1.1963847876664233, "system_level_velocity_mean": 13.27538345565725, "cost1_min": 11.744727030315278, "cost1_mean": 325.25416622663386, "cost1_max": 479.56676558383924, "outflow_rate_max": 1356.9881987119807, "system_level_velocity_max": 18.58919888695129, "outflow_rate_min": 461.6813094419528, "cost2_max": 0.0, "system_level_velocity_min": 9.37421452509284}, "node_ip": "10.138.0.2", "timesteps_total": 13207166}
