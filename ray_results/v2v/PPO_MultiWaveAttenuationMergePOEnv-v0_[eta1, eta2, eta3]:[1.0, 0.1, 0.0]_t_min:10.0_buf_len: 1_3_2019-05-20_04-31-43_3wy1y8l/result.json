{"config": {"num_sgd_iter": 10, "compress_observations": false, "input_evaluation": null, "vf_share_layers": false, "horizon": 1500, "num_workers": 20, "lambda": 0.97, "synchronize_filters": true, "vf_clip_param": 1000000.0, "optimizer": {}, "collect_metrics_timeout": 180, "tf_session_args": {"intra_op_parallelism_threads": 2, "device_count": {"CPU": 1}, "log_device_placement": false, "gpu_options": {"allow_growth": true}, "inter_op_parallelism_threads": 2, "allow_soft_placement": true}, "sample_batch_size": 750, "train_batch_size": 30000, "observation_filter": "MeanStdFilter", "input": "sampler", "kl_target": 0.01, "callbacks": {"on_train_result": null, "on_sample_end": null, "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7f0a8ee0e518>", "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7f0a8ee0e080>", "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7f0a8ee0e438>"}, "kl_coeff": 0.2, "num_envs_per_worker": 1, "monitor": false, "lr_schedule": null, "output_max_file_size": 67108864, "multiagent": {"policies_to_train": null, "policy_mapping_fn": null, "policy_graphs": {}}, "output_compress_columns": ["obs", "new_obs"], "straggler_mitigation": false, "env_config": {"run": "PPO", "flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"buf_length\": 1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.05,\n            \"eta3\": 0.0,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 5.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnv\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 600,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}"}, "env": "MultiWaveAttenuationMergePOEnv-v0_[eta1, eta2, eta3]:[1.0, 0.1, 0.0]_t_min:10.0_buf_len: 1", "batch_mode": "truncate_episodes", "log_level": "INFO", "simple_optimizer": false, "gamma": 0.99, "entropy_coeff": 0.0, "clip_actions": false, "num_cpus_per_worker": 1, "num_gpus": 0, "vf_loss_coeff": 1.0, "model": {"lstm_cell_size": 256, "conv_activation": "relu", "conv_filters": null, "channel_major": false, "fcnet_hiddens": [128, 64, 32], "max_seq_len": 20, "custom_preprocessor": null, "free_log_std": false, "dim": 84, "custom_options": {}, "squash_to_range": false, "fcnet_activation": "tanh", "framestack": true, "zero_mean": true, "grayscale": false, "use_lstm": false, "custom_model": null, "lstm_use_prev_action_reward": false}, "num_cpus_for_driver": 1, "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "lr": 0.0005, "output": null, "num_gpus_per_worker": 0, "sgd_minibatch_size": 128, "preprocessor_pref": "deepmind", "clip_param": 0.3, "sample_async": false, "custom_resources_per_worker": {}, "use_gae": true, "clip_rewards": null}, "num_metric_batches_dropped": 0, "node_ip": "10.138.0.2", "time_total_s": 47.19772791862488, "episodes_this_iter": 29, "timestamp": 1558326817, "episode_reward_max": 319.75910982357743, "info": {"load_time_ms": 62.202, "default": {"vf_loss": 0.8343704342842102, "total_loss": 0.8317023515701294, "entropy": 1.4093811511993408, "policy_loss": -0.00397748127579689, "cur_kl_coeff": 0.20000001788139343, "vf_explained_var": 0.894282877445221, "cur_lr": 0.0005000000237487257, "kl": 0.00654683168977499}, "num_steps_trained": 66839, "grad_time_ms": 17600.953, "num_steps_sampled": 66839, "sample_time_ms": 28801.467, "update_time_ms": 592.232}, "time_since_restore": 47.19772791862488, "timesteps_total": 66839, "episode_len_mean": 677.0344827586207, "episodes_total": 29, "training_iteration": 1, "episode_reward_mean": 254.04681652520145, "hostname": "flow-main", "experiment_id": "24525fc6f3cc408296359cca36b844c9", "done": false, "time_this_iter_s": 47.19772791862488, "iterations_since_restore": 1, "date": "2019-05-20_04-33-37", "timesteps_since_restore": 66839, "timesteps_this_iter": 66839, "custom_metrics": {"system_level_velocity_min": 6.71938449449206, "outflow_rate_max": 697.9768029011158, "cost1_mean": 189.64517407561289, "outflow_rate_mean": 584.9075071049731, "cost1_min": 21.80330303043661, "cost2_min": -87.07672625885435, "cost1_max": 213.54935296958234, "outflow_rate_min": 504.9862760801957, "cost2_max": -18.886878686980285, "cost2_mean": -52.271729513299036, "system_level_velocity_max": 18.29702352655519, "system_level_velocity_mean": 7.974654198152127}, "pid": 277, "episode_reward_min": 37.73529898482877, "policy_reward_mean": {}}
{"config": {"num_sgd_iter": 10, "compress_observations": false, "input_evaluation": null, "vf_share_layers": false, "horizon": 1500, "num_workers": 20, "lambda": 0.97, "synchronize_filters": true, "vf_clip_param": 1000000.0, "optimizer": {}, "collect_metrics_timeout": 180, "tf_session_args": {"intra_op_parallelism_threads": 2, "device_count": {"CPU": 1}, "log_device_placement": false, "gpu_options": {"allow_growth": true}, "inter_op_parallelism_threads": 2, "allow_soft_placement": true}, "sample_batch_size": 750, "train_batch_size": 30000, "observation_filter": "MeanStdFilter", "input": "sampler", "kl_target": 0.01, "callbacks": {"on_train_result": null, "on_sample_end": null, "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7f0a8e5ae128>", "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7f0a8e558278>", "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7f0a8e5ae438>"}, "kl_coeff": 0.2, "num_envs_per_worker": 1, "monitor": false, "lr_schedule": null, "output_max_file_size": 67108864, "multiagent": {"policies_to_train": null, "policy_mapping_fn": null, "policy_graphs": {}}, "output_compress_columns": ["obs", "new_obs"], "straggler_mitigation": false, "env_config": {"run": "PPO", "flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"buf_length\": 1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.05,\n            \"eta3\": 0.0,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 5.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnv\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 600,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}"}, "env": "MultiWaveAttenuationMergePOEnv-v0_[eta1, eta2, eta3]:[1.0, 0.1, 0.0]_t_min:10.0_buf_len: 1", "batch_mode": "truncate_episodes", "log_level": "INFO", "simple_optimizer": false, "gamma": 0.99, "entropy_coeff": 0.0, "clip_actions": false, "num_cpus_per_worker": 1, "num_gpus": 0, "vf_loss_coeff": 1.0, "model": {"lstm_cell_size": 256, "conv_activation": "relu", "conv_filters": null, "channel_major": false, "fcnet_hiddens": [128, 64, 32], "max_seq_len": 20, "custom_preprocessor": null, "free_log_std": false, "dim": 84, "custom_options": {}, "squash_to_range": false, "fcnet_activation": "tanh", "framestack": true, "zero_mean": true, "grayscale": false, "use_lstm": false, "custom_model": null, "lstm_use_prev_action_reward": false}, "num_cpus_for_driver": 1, "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "lr": 0.0005, "output": null, "num_gpus_per_worker": 0, "sgd_minibatch_size": 128, "preprocessor_pref": "deepmind", "clip_param": 0.3, "sample_async": false, "custom_resources_per_worker": {}, "use_gae": true, "clip_rewards": null}, "num_metric_batches_dropped": 0, "node_ip": "10.138.0.2", "time_total_s": 99.2956314086914, "episodes_this_iter": 28, "timestamp": 1558326869, "episode_reward_max": 351.906695480223, "info": {"load_time_ms": 36.47, "default": {"vf_loss": 0.7023113369941711, "total_loss": 0.7005669474601746, "entropy": 1.3944647312164307, "policy_loss": -0.002971651963889599, "cur_kl_coeff": 0.20000003278255463, "vf_explained_var": 0.9458418488502502, "cur_lr": 0.0005000000237487257, "kl": 0.006136093754321337}, "num_steps_trained": 131964, "grad_time_ms": 18256.478, "num_steps_sampled": 131964, "sample_time_ms": 30922.431, "update_time_ms": 299.581}, "time_since_restore": 99.2956314086914, "timesteps_total": 131964, "episode_len_mean": 688.3157894736842, "episodes_total": 57, "training_iteration": 2, "episode_reward_mean": 261.4072696858136, "hostname": "flow-main", "experiment_id": "24525fc6f3cc408296359cca36b844c9", "done": false, "time_this_iter_s": 52.09790349006653, "iterations_since_restore": 2, "date": "2019-05-20_04-34-29", "timesteps_since_restore": 131964, "timesteps_this_iter": 65125, "custom_metrics": {"system_level_velocity_min": 2.796883035922601, "outflow_rate_max": 800.2324682186972, "cost1_mean": 188.65335072033662, "outflow_rate_mean": 574.0336730109569, "cost1_min": 21.80330303043661, "cost2_min": -87.07672625885435, "cost1_max": 256.11633914066294, "outflow_rate_min": 237.00141051511508, "cost2_max": -18.886878686980285, "cost2_mean": -50.35547325036598, "system_level_velocity_max": 18.29702352655519, "system_level_velocity_mean": 7.634494187456699}, "pid": 277, "episode_reward_min": 37.73529898482877, "policy_reward_mean": {}}
{"config": {"num_sgd_iter": 10, "compress_observations": false, "input_evaluation": null, "vf_share_layers": false, "horizon": 1500, "num_workers": 20, "lambda": 0.97, "synchronize_filters": true, "vf_clip_param": 1000000.0, "optimizer": {}, "collect_metrics_timeout": 180, "tf_session_args": {"intra_op_parallelism_threads": 2, "device_count": {"CPU": 1}, "log_device_placement": false, "gpu_options": {"allow_growth": true}, "inter_op_parallelism_threads": 2, "allow_soft_placement": true}, "sample_batch_size": 750, "train_batch_size": 30000, "observation_filter": "MeanStdFilter", "input": "sampler", "kl_target": 0.01, "callbacks": {"on_train_result": null, "on_sample_end": null, "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7f0a8e5d2828>", "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7f0a8e5d2f60>", "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7f0a8e5d2240>"}, "kl_coeff": 0.2, "num_envs_per_worker": 1, "monitor": false, "lr_schedule": null, "output_max_file_size": 67108864, "multiagent": {"policies_to_train": null, "policy_mapping_fn": null, "policy_graphs": {}}, "output_compress_columns": ["obs", "new_obs"], "straggler_mitigation": false, "env_config": {"run": "PPO", "flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"buf_length\": 1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.05,\n            \"eta3\": 0.0,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 5.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnv\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 600,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}"}, "env": "MultiWaveAttenuationMergePOEnv-v0_[eta1, eta2, eta3]:[1.0, 0.1, 0.0]_t_min:10.0_buf_len: 1", "batch_mode": "truncate_episodes", "log_level": "INFO", "simple_optimizer": false, "gamma": 0.99, "entropy_coeff": 0.0, "clip_actions": false, "num_cpus_per_worker": 1, "num_gpus": 0, "vf_loss_coeff": 1.0, "model": {"lstm_cell_size": 256, "conv_activation": "relu", "conv_filters": null, "channel_major": false, "fcnet_hiddens": [128, 64, 32], "max_seq_len": 20, "custom_preprocessor": null, "free_log_std": false, "dim": 84, "custom_options": {}, "squash_to_range": false, "fcnet_activation": "tanh", "framestack": true, "zero_mean": true, "grayscale": false, "use_lstm": false, "custom_model": null, "lstm_use_prev_action_reward": false}, "num_cpus_for_driver": 1, "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "lr": 0.0005, "output": null, "num_gpus_per_worker": 0, "sgd_minibatch_size": 128, "preprocessor_pref": "deepmind", "clip_param": 0.3, "sample_async": false, "custom_resources_per_worker": {}, "use_gae": true, "clip_rewards": null}, "num_metric_batches_dropped": 0, "node_ip": "10.138.0.2", "time_total_s": 139.87206363677979, "episodes_this_iter": 28, "timestamp": 1558326909, "episode_reward_max": 451.7860353215881, "info": {"load_time_ms": 26.805, "default": {"vf_loss": 1.9137187004089355, "total_loss": 1.9050935506820679, "entropy": 1.378575086593628, "policy_loss": -0.011398968286812305, "cur_kl_coeff": 0.20000003278255463, "vf_explained_var": 0.908623993396759, "cur_lr": 0.0005000000237487257, "kl": 0.01386912539601326}, "num_steps_trained": 186007, "grad_time_ms": 17013.597, "num_steps_sampled": 186007, "sample_time_ms": 29251.001, "update_time_ms": 203.542}, "time_since_restore": 139.87206363677979, "timesteps_total": 186007, "episode_len_mean": 692.1647058823529, "episodes_total": 85, "training_iteration": 3, "episode_reward_mean": 293.54089750091856, "hostname": "flow-main", "experiment_id": "24525fc6f3cc408296359cca36b844c9", "done": false, "time_this_iter_s": 40.57643222808838, "iterations_since_restore": 3, "date": "2019-05-20_04-35-09", "timesteps_since_restore": 186007, "timesteps_this_iter": 54043, "custom_metrics": {"system_level_velocity_min": 2.796883035922601, "outflow_rate_max": 800.2324682186972, "cost1_mean": 199.5437599417747, "outflow_rate_mean": 595.6949211529179, "cost1_min": 21.80330303043661, "cost2_min": -87.07672625885435, "cost1_max": 258.03397783397065, "outflow_rate_min": 237.00141051511508, "cost2_max": -18.886878686980285, "cost2_mean": -49.39143209667805, "system_level_velocity_max": 18.29702352655519, "system_level_velocity_mean": 7.961076529321441}, "pid": 277, "episode_reward_min": 37.73529898482877, "policy_reward_mean": {}}
{"config": {"num_sgd_iter": 10, "compress_observations": false, "input_evaluation": null, "vf_share_layers": false, "horizon": 1500, "num_workers": 20, "lambda": 0.97, "synchronize_filters": true, "vf_clip_param": 1000000.0, "optimizer": {}, "collect_metrics_timeout": 180, "tf_session_args": {"intra_op_parallelism_threads": 2, "device_count": {"CPU": 1}, "log_device_placement": false, "gpu_options": {"allow_growth": true}, "inter_op_parallelism_threads": 2, "allow_soft_placement": true}, "sample_batch_size": 750, "train_batch_size": 30000, "observation_filter": "MeanStdFilter", "input": "sampler", "kl_target": 0.01, "callbacks": {"on_train_result": null, "on_sample_end": null, "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7f0a8e560b00>", "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7f0a8e560a90>", "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7f0a8e560da0>"}, "kl_coeff": 0.2, "num_envs_per_worker": 1, "monitor": false, "lr_schedule": null, "output_max_file_size": 67108864, "multiagent": {"policies_to_train": null, "policy_mapping_fn": null, "policy_graphs": {}}, "output_compress_columns": ["obs", "new_obs"], "straggler_mitigation": false, "env_config": {"run": "PPO", "flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"buf_length\": 1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.05,\n            \"eta3\": 0.0,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 5.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnv\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 600,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}"}, "env": "MultiWaveAttenuationMergePOEnv-v0_[eta1, eta2, eta3]:[1.0, 0.1, 0.0]_t_min:10.0_buf_len: 1", "batch_mode": "truncate_episodes", "log_level": "INFO", "simple_optimizer": false, "gamma": 0.99, "entropy_coeff": 0.0, "clip_actions": false, "num_cpus_per_worker": 1, "num_gpus": 0, "vf_loss_coeff": 1.0, "model": {"lstm_cell_size": 256, "conv_activation": "relu", "conv_filters": null, "channel_major": false, "fcnet_hiddens": [128, 64, 32], "max_seq_len": 20, "custom_preprocessor": null, "free_log_std": false, "dim": 84, "custom_options": {}, "squash_to_range": false, "fcnet_activation": "tanh", "framestack": true, "zero_mean": true, "grayscale": false, "use_lstm": false, "custom_model": null, "lstm_use_prev_action_reward": false}, "num_cpus_for_driver": 1, "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "lr": 0.0005, "output": null, "num_gpus_per_worker": 0, "sgd_minibatch_size": 128, "preprocessor_pref": "deepmind", "clip_param": 0.3, "sample_async": false, "custom_resources_per_worker": {}, "use_gae": true, "clip_rewards": null}, "num_metric_batches_dropped": 0, "node_ip": "10.138.0.2", "time_total_s": 181.9828338623047, "episodes_this_iter": 28, "timestamp": 1558326952, "episode_reward_max": 674.3196474425091, "info": {"load_time_ms": 21.297, "default": {"vf_loss": 3.9404244422912598, "total_loss": 3.93503737449646, "entropy": 1.3597356081008911, "policy_loss": -0.007819457910954952, "cur_kl_coeff": 0.20000003278255463, "vf_explained_var": 0.810703456401825, "cur_lr": 0.0005000000237487257, "kl": 0.012162129394710064}, "num_steps_trained": 240070, "grad_time_ms": 16485.261, "num_steps_sampled": 240070, "sample_time_ms": 28712.404, "update_time_ms": 155.136}, "time_since_restore": 181.9828338623047, "timesteps_total": 240070, "episode_len_mean": 693.34, "episodes_total": 113, "training_iteration": 4, "episode_reward_mean": 363.01985112701, "hostname": "flow-main", "experiment_id": "24525fc6f3cc408296359cca36b844c9", "done": false, "time_this_iter_s": 42.1107702255249, "iterations_since_restore": 4, "date": "2019-05-20_04-35-52", "timesteps_since_restore": 240070, "timesteps_this_iter": 54063, "custom_metrics": {"system_level_velocity_min": 2.796883035922601, "outflow_rate_max": 869.326125027192, "cost1_mean": 218.94371948883548, "outflow_rate_mean": 637.7849481777371, "cost1_min": 21.80330303043661, "cost2_min": -77.0348626726982, "cost1_max": 304.9484804204328, "outflow_rate_min": 237.00141051511508, "cost2_max": -18.886878686980285, "cost2_mean": -50.351816715908754, "system_level_velocity_max": 18.29702352655519, "system_level_velocity_mean": 8.649045664573636}, "pid": 277, "episode_reward_min": 37.73529898482877, "policy_reward_mean": {}}
{"config": {"num_sgd_iter": 10, "compress_observations": false, "input_evaluation": null, "vf_share_layers": false, "horizon": 1500, "num_workers": 20, "lambda": 0.97, "synchronize_filters": true, "vf_clip_param": 1000000.0, "optimizer": {}, "collect_metrics_timeout": 180, "tf_session_args": {"intra_op_parallelism_threads": 2, "device_count": {"CPU": 1}, "log_device_placement": false, "gpu_options": {"allow_growth": true}, "inter_op_parallelism_threads": 2, "allow_soft_placement": true}, "sample_batch_size": 750, "train_batch_size": 30000, "observation_filter": "MeanStdFilter", "input": "sampler", "kl_target": 0.01, "callbacks": {"on_train_result": null, "on_sample_end": null, "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7f0a8e5ae630>", "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7f0a8e5ae550>", "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7f0a8e5ae8d0>"}, "kl_coeff": 0.2, "num_envs_per_worker": 1, "monitor": false, "lr_schedule": null, "output_max_file_size": 67108864, "multiagent": {"policies_to_train": null, "policy_mapping_fn": null, "policy_graphs": {}}, "output_compress_columns": ["obs", "new_obs"], "straggler_mitigation": false, "env_config": {"run": "PPO", "flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"buf_length\": 1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.05,\n            \"eta3\": 0.0,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 5.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnv\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 600,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}"}, "env": "MultiWaveAttenuationMergePOEnv-v0_[eta1, eta2, eta3]:[1.0, 0.1, 0.0]_t_min:10.0_buf_len: 1", "batch_mode": "truncate_episodes", "log_level": "INFO", "simple_optimizer": false, "gamma": 0.99, "entropy_coeff": 0.0, "clip_actions": false, "num_cpus_per_worker": 1, "num_gpus": 0, "vf_loss_coeff": 1.0, "model": {"lstm_cell_size": 256, "conv_activation": "relu", "conv_filters": null, "channel_major": false, "fcnet_hiddens": [128, 64, 32], "max_seq_len": 20, "custom_preprocessor": null, "free_log_std": false, "dim": 84, "custom_options": {}, "squash_to_range": false, "fcnet_activation": "tanh", "framestack": true, "zero_mean": true, "grayscale": false, "use_lstm": false, "custom_model": null, "lstm_use_prev_action_reward": false}, "num_cpus_for_driver": 1, "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "lr": 0.0005, "output": null, "num_gpus_per_worker": 0, "sgd_minibatch_size": 128, "preprocessor_pref": "deepmind", "clip_param": 0.3, "sample_async": false, "custom_resources_per_worker": {}, "use_gae": true, "clip_rewards": null}, "num_metric_batches_dropped": 0, "node_ip": "10.138.0.2", "time_total_s": 226.86967706680298, "episodes_this_iter": 28, "timestamp": 1558326997, "episode_reward_max": 762.0598570036332, "info": {"load_time_ms": 18.597, "default": {"vf_loss": 5.71623420715332, "total_loss": 5.713120937347412, "entropy": 1.3696717023849487, "policy_loss": -0.004698318894952536, "cur_kl_coeff": 0.20000004768371582, "vf_explained_var": 0.7898021936416626, "cur_lr": 0.0005000000237487257, "kl": 0.007926203310489655}, "num_steps_trained": 296358, "grad_time_ms": 16385.346, "num_steps_sampled": 296358, "sample_time_ms": 28720.638, "update_time_ms": 126.144}, "time_since_restore": 226.86967706680298, "timesteps_total": 296358, "episode_len_mean": 693.31, "episodes_total": 141, "training_iteration": 5, "episode_reward_mean": 465.05993698150274, "hostname": "flow-main", "experiment_id": "24525fc6f3cc408296359cca36b844c9", "done": false, "time_this_iter_s": 44.88684320449829, "iterations_since_restore": 5, "date": "2019-05-20_04-36-37", "timesteps_since_restore": 296358, "timesteps_this_iter": 56288, "custom_metrics": {"system_level_velocity_min": 3.31443508980021, "outflow_rate_max": 979.8403209496709, "cost1_mean": 245.31389193626003, "outflow_rate_mean": 717.2268597271753, "cost1_min": 20.377027006528934, "cost2_min": -95.92142267250777, "cost1_max": 320.00121424273505, "outflow_rate_min": 348.3898792684338, "cost2_max": -18.570906130765074, "cost2_mean": -56.29097070827237, "system_level_velocity_max": 17.680362597355643, "system_level_velocity_mean": 9.599071428322821}, "pid": 277, "episode_reward_min": 39.424264757224925, "policy_reward_mean": {}}
{"config": {"num_sgd_iter": 10, "compress_observations": false, "input_evaluation": null, "vf_share_layers": false, "horizon": 1500, "num_workers": 20, "lambda": 0.97, "synchronize_filters": true, "vf_clip_param": 1000000.0, "optimizer": {}, "collect_metrics_timeout": 180, "tf_session_args": {"intra_op_parallelism_threads": 2, "device_count": {"CPU": 1}, "log_device_placement": false, "gpu_options": {"allow_growth": true}, "inter_op_parallelism_threads": 2, "allow_soft_placement": true}, "sample_batch_size": 750, "train_batch_size": 30000, "observation_filter": "MeanStdFilter", "input": "sampler", "kl_target": 0.01, "callbacks": {"on_train_result": null, "on_sample_end": null, "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7f0a8e5b92e8>", "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7f0a8e5b9940>", "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7f0a8e5b9668>"}, "kl_coeff": 0.2, "num_envs_per_worker": 1, "monitor": false, "lr_schedule": null, "output_max_file_size": 67108864, "multiagent": {"policies_to_train": null, "policy_mapping_fn": null, "policy_graphs": {}}, "output_compress_columns": ["obs", "new_obs"], "straggler_mitigation": false, "env_config": {"run": "PPO", "flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"buf_length\": 1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.05,\n            \"eta3\": 0.0,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 5.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnv\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 600,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}"}, "env": "MultiWaveAttenuationMergePOEnv-v0_[eta1, eta2, eta3]:[1.0, 0.1, 0.0]_t_min:10.0_buf_len: 1", "batch_mode": "truncate_episodes", "log_level": "INFO", "simple_optimizer": false, "gamma": 0.99, "entropy_coeff": 0.0, "clip_actions": false, "num_cpus_per_worker": 1, "num_gpus": 0, "vf_loss_coeff": 1.0, "model": {"lstm_cell_size": 256, "conv_activation": "relu", "conv_filters": null, "channel_major": false, "fcnet_hiddens": [128, 64, 32], "max_seq_len": 20, "custom_preprocessor": null, "free_log_std": false, "dim": 84, "custom_options": {}, "squash_to_range": false, "fcnet_activation": "tanh", "framestack": true, "zero_mean": true, "grayscale": false, "use_lstm": false, "custom_model": null, "lstm_use_prev_action_reward": false}, "num_cpus_for_driver": 1, "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "lr": 0.0005, "output": null, "num_gpus_per_worker": 0, "sgd_minibatch_size": 128, "preprocessor_pref": "deepmind", "clip_param": 0.3, "sample_async": false, "custom_resources_per_worker": {}, "use_gae": true, "clip_rewards": null}, "num_metric_batches_dropped": 0, "node_ip": "10.138.0.2", "time_total_s": 272.8155002593994, "episodes_this_iter": 27, "timestamp": 1558327043, "episode_reward_max": 813.0393371870246, "info": {"load_time_ms": 16.841, "default": {"vf_loss": 6.898610591888428, "total_loss": 6.896475791931152, "entropy": 1.3719260692596436, "policy_loss": -0.003400406101718545, "cur_kl_coeff": 0.20000004768371582, "vf_explained_var": 0.7892793416976929, "cur_lr": 0.0005000000237487257, "kl": 0.00632686959579587}, "num_steps_trained": 355543, "grad_time_ms": 16530.044, "num_steps_sampled": 355543, "sample_time_ms": 28695.338, "update_time_ms": 106.68}, "time_since_restore": 272.8155002593994, "timesteps_total": 355543, "episode_len_mean": 693.31, "episodes_total": 168, "training_iteration": 6, "episode_reward_mean": 577.6027869545101, "hostname": "flow-main", "experiment_id": "24525fc6f3cc408296359cca36b844c9", "done": false, "time_this_iter_s": 45.945823192596436, "iterations_since_restore": 6, "date": "2019-05-20_04-37-23", "timesteps_since_restore": 355543, "timesteps_this_iter": 59185, "custom_metrics": {"system_level_velocity_min": 4.073277867055857, "outflow_rate_max": 1026.3415649498404, "cost1_mean": 274.4923758004803, "outflow_rate_mean": 808.3558526823898, "cost1_min": 20.377027006528934, "cost2_min": -101.31484700696343, "cost1_max": 350.8406608896024, "outflow_rate_min": 379.47417922171945, "cost2_max": -18.570906130765074, "cost2_mean": -65.77401155699884, "system_level_velocity_max": 17.680362597355643, "system_level_velocity_mean": 10.630628805672865}, "pid": 277, "episode_reward_min": 39.424264757224925, "policy_reward_mean": {}}
{"config": {"num_sgd_iter": 10, "compress_observations": false, "input_evaluation": null, "vf_share_layers": false, "horizon": 1500, "num_workers": 20, "lambda": 0.97, "synchronize_filters": true, "vf_clip_param": 1000000.0, "optimizer": {}, "collect_metrics_timeout": 180, "tf_session_args": {"intra_op_parallelism_threads": 2, "device_count": {"CPU": 1}, "log_device_placement": false, "gpu_options": {"allow_growth": true}, "inter_op_parallelism_threads": 2, "allow_soft_placement": true}, "sample_batch_size": 750, "train_batch_size": 30000, "observation_filter": "MeanStdFilter", "input": "sampler", "kl_target": 0.01, "callbacks": {"on_train_result": null, "on_sample_end": null, "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7f0a8e5d03c8>", "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7f0a8e5d27b8>", "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7f0a8e5d0860>"}, "kl_coeff": 0.2, "num_envs_per_worker": 1, "monitor": false, "lr_schedule": null, "output_max_file_size": 67108864, "multiagent": {"policies_to_train": null, "policy_mapping_fn": null, "policy_graphs": {}}, "output_compress_columns": ["obs", "new_obs"], "straggler_mitigation": false, "env_config": {"run": "PPO", "flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"buf_length\": 1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.05,\n            \"eta3\": 0.0,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 5.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnv\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 600,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}"}, "env": "MultiWaveAttenuationMergePOEnv-v0_[eta1, eta2, eta3]:[1.0, 0.1, 0.0]_t_min:10.0_buf_len: 1", "batch_mode": "truncate_episodes", "log_level": "INFO", "simple_optimizer": false, "gamma": 0.99, "entropy_coeff": 0.0, "clip_actions": false, "num_cpus_per_worker": 1, "num_gpus": 0, "vf_loss_coeff": 1.0, "model": {"lstm_cell_size": 256, "conv_activation": "relu", "conv_filters": null, "channel_major": false, "fcnet_hiddens": [128, 64, 32], "max_seq_len": 20, "custom_preprocessor": null, "free_log_std": false, "dim": 84, "custom_options": {}, "squash_to_range": false, "fcnet_activation": "tanh", "framestack": true, "zero_mean": true, "grayscale": false, "use_lstm": false, "custom_model": null, "lstm_use_prev_action_reward": false}, "num_cpus_for_driver": 1, "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "lr": 0.0005, "output": null, "num_gpus_per_worker": 0, "sgd_minibatch_size": 128, "preprocessor_pref": "deepmind", "clip_param": 0.3, "sample_async": false, "custom_resources_per_worker": {}, "use_gae": true, "clip_rewards": null}, "num_metric_batches_dropped": 0, "node_ip": "10.138.0.2", "time_total_s": 318.0383174419403, "episodes_this_iter": 27, "timestamp": 1558327088, "episode_reward_max": 874.7882582805971, "info": {"load_time_ms": 15.704, "default": {"vf_loss": 8.73257827758789, "total_loss": 8.730542182922363, "entropy": 1.3658682107925415, "policy_loss": -0.0033076528925448656, "cur_kl_coeff": 0.20000003278255463, "vf_explained_var": 0.7834137678146362, "cur_lr": 0.0005000000237487257, "kl": 0.00635427376255393}, "num_steps_trained": 415440, "grad_time_ms": 16379.841, "num_steps_sampled": 415440, "sample_time_ms": 28825.71, "update_time_ms": 92.615}, "time_since_restore": 318.0383174419403, "timesteps_total": 415440, "episode_len_mean": 693.31, "episodes_total": 195, "training_iteration": 7, "episode_reward_mean": 665.8430543714899, "hostname": "flow-main", "experiment_id": "24525fc6f3cc408296359cca36b844c9", "done": false, "time_this_iter_s": 45.222817182540894, "iterations_since_restore": 7, "date": "2019-05-20_04-38-08", "timesteps_since_restore": 415440, "timesteps_this_iter": 59897, "custom_metrics": {"system_level_velocity_min": 6.016135716544321, "outflow_rate_max": 1106.277938420723, "cost1_mean": 295.23306741423295, "outflow_rate_mean": 888.2036195412799, "cost1_min": 20.377027006528934, "cost2_min": -112.37240702622442, "cost1_max": 375.0786086989519, "outflow_rate_min": 499.2872388537618, "cost2_max": -18.570906130765074, "cost2_mean": -76.71531368616338, "system_level_velocity_max": 17.680362597355643, "system_level_velocity_mean": 11.34109960774525}, "pid": 277, "episode_reward_min": 39.424264757224925, "policy_reward_mean": {}}
{"config": {"num_sgd_iter": 10, "compress_observations": false, "input_evaluation": null, "vf_share_layers": false, "horizon": 1500, "num_workers": 20, "lambda": 0.97, "synchronize_filters": true, "vf_clip_param": 1000000.0, "optimizer": {}, "collect_metrics_timeout": 180, "tf_session_args": {"intra_op_parallelism_threads": 2, "device_count": {"CPU": 1}, "log_device_placement": false, "gpu_options": {"allow_growth": true}, "inter_op_parallelism_threads": 2, "allow_soft_placement": true}, "sample_batch_size": 750, "train_batch_size": 30000, "observation_filter": "MeanStdFilter", "input": "sampler", "kl_target": 0.01, "callbacks": {"on_train_result": null, "on_sample_end": null, "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7f0a8e558828>", "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7f0a8e558eb8>", "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7f0a8e558b70>"}, "kl_coeff": 0.2, "num_envs_per_worker": 1, "monitor": false, "lr_schedule": null, "output_max_file_size": 67108864, "multiagent": {"policies_to_train": null, "policy_mapping_fn": null, "policy_graphs": {}}, "output_compress_columns": ["obs", "new_obs"], "straggler_mitigation": false, "env_config": {"run": "PPO", "flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"buf_length\": 1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.05,\n            \"eta3\": 0.0,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 5.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnv\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 600,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}"}, "env": "MultiWaveAttenuationMergePOEnv-v0_[eta1, eta2, eta3]:[1.0, 0.1, 0.0]_t_min:10.0_buf_len: 1", "batch_mode": "truncate_episodes", "log_level": "INFO", "simple_optimizer": false, "gamma": 0.99, "entropy_coeff": 0.0, "clip_actions": false, "num_cpus_per_worker": 1, "num_gpus": 0, "vf_loss_coeff": 1.0, "model": {"lstm_cell_size": 256, "conv_activation": "relu", "conv_filters": null, "channel_major": false, "fcnet_hiddens": [128, 64, 32], "max_seq_len": 20, "custom_preprocessor": null, "free_log_std": false, "dim": 84, "custom_options": {}, "squash_to_range": false, "fcnet_activation": "tanh", "framestack": true, "zero_mean": true, "grayscale": false, "use_lstm": false, "custom_model": null, "lstm_use_prev_action_reward": false}, "num_cpus_for_driver": 1, "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "lr": 0.0005, "output": null, "num_gpus_per_worker": 0, "sgd_minibatch_size": 128, "preprocessor_pref": "deepmind", "clip_param": 0.3, "sample_async": false, "custom_resources_per_worker": {}, "use_gae": true, "clip_rewards": null}, "num_metric_batches_dropped": 0, "node_ip": "10.138.0.2", "time_total_s": 362.9374511241913, "episodes_this_iter": 28, "timestamp": 1558327133, "episode_reward_max": 874.7882582805971, "info": {"load_time_ms": 14.864, "default": {"vf_loss": 8.636761665344238, "total_loss": 8.633649826049805, "entropy": 1.371384620666504, "policy_loss": -0.004415065515786409, "cur_kl_coeff": 0.20000001788139343, "vf_explained_var": 0.7724208235740662, "cur_lr": 0.0005000000237487257, "kl": 0.0065141478553414345}, "num_steps_trained": 473983, "grad_time_ms": 16276.24, "num_steps_sampled": 473983, "sample_time_ms": 28874.913, "update_time_ms": 82.211}, "time_since_restore": 362.9374511241913, "timesteps_total": 473983, "episode_len_mean": 693.31, "episodes_total": 223, "training_iteration": 8, "episode_reward_mean": 711.5959933845177, "hostname": "flow-main", "experiment_id": "24525fc6f3cc408296359cca36b844c9", "done": false, "time_this_iter_s": 44.89913368225098, "iterations_since_restore": 8, "date": "2019-05-20_04-38-53", "timesteps_since_restore": 473983, "timesteps_this_iter": 58543, "custom_metrics": {"system_level_velocity_min": 6.016135716544321, "outflow_rate_max": 1106.277938420723, "cost1_mean": 306.854141613113, "outflow_rate_mean": 938.6853207879559, "cost1_min": 20.377027006528934, "cost2_min": -116.55247395300177, "cost1_max": 375.0786086989519, "outflow_rate_min": 499.2872388537618, "cost2_max": -18.570906130765074, "cost2_mean": -85.26249693721176, "system_level_velocity_max": 17.680362597355643, "system_level_velocity_mean": 11.729877915152635}, "pid": 277, "episode_reward_min": 39.424264757224925, "policy_reward_mean": {}}
{"config": {"num_sgd_iter": 10, "compress_observations": false, "input_evaluation": null, "vf_share_layers": false, "horizon": 1500, "num_workers": 20, "lambda": 0.97, "synchronize_filters": true, "vf_clip_param": 1000000.0, "optimizer": {}, "collect_metrics_timeout": 180, "tf_session_args": {"intra_op_parallelism_threads": 2, "device_count": {"CPU": 1}, "log_device_placement": false, "gpu_options": {"allow_growth": true}, "inter_op_parallelism_threads": 2, "allow_soft_placement": true}, "sample_batch_size": 750, "train_batch_size": 30000, "observation_filter": "MeanStdFilter", "input": "sampler", "kl_target": 0.01, "callbacks": {"on_train_result": null, "on_sample_end": null, "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7f0a8e560828>", "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7f0a8e5609e8>", "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7f0a8e560860>"}, "kl_coeff": 0.2, "num_envs_per_worker": 1, "monitor": false, "lr_schedule": null, "output_max_file_size": 67108864, "multiagent": {"policies_to_train": null, "policy_mapping_fn": null, "policy_graphs": {}}, "output_compress_columns": ["obs", "new_obs"], "straggler_mitigation": false, "env_config": {"run": "PPO", "flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"buf_length\": 1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.05,\n            \"eta3\": 0.0,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 5.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnv\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 600,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}"}, "env": "MultiWaveAttenuationMergePOEnv-v0_[eta1, eta2, eta3]:[1.0, 0.1, 0.0]_t_min:10.0_buf_len: 1", "batch_mode": "truncate_episodes", "log_level": "INFO", "simple_optimizer": false, "gamma": 0.99, "entropy_coeff": 0.0, "clip_actions": false, "num_cpus_per_worker": 1, "num_gpus": 0, "vf_loss_coeff": 1.0, "model": {"lstm_cell_size": 256, "conv_activation": "relu", "conv_filters": null, "channel_major": false, "fcnet_hiddens": [128, 64, 32], "max_seq_len": 20, "custom_preprocessor": null, "free_log_std": false, "dim": 84, "custom_options": {}, "squash_to_range": false, "fcnet_activation": "tanh", "framestack": true, "zero_mean": true, "grayscale": false, "use_lstm": false, "custom_model": null, "lstm_use_prev_action_reward": false}, "num_cpus_for_driver": 1, "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "lr": 0.0005, "output": null, "num_gpus_per_worker": 0, "sgd_minibatch_size": 128, "preprocessor_pref": "deepmind", "clip_param": 0.3, "sample_async": false, "custom_resources_per_worker": {}, "use_gae": true, "clip_rewards": null}, "num_metric_batches_dropped": 0, "node_ip": "10.138.0.2", "time_total_s": 417.8685076236725, "episodes_this_iter": 33, "timestamp": 1558327188, "episode_reward_max": 874.7882582805971, "info": {"load_time_ms": 14.325, "default": {"vf_loss": 10.722921371459961, "total_loss": 10.720561981201172, "entropy": 1.3796794414520264, "policy_loss": -0.0037925655487924814, "cur_kl_coeff": 0.20000001788139343, "vf_explained_var": 0.8287764191627502, "cur_lr": 0.0005000000237487257, "kl": 0.0071684615686535835}, "num_steps_trained": 538300, "grad_time_ms": 16650.033, "num_steps_sampled": 538300, "sample_time_ms": 29573.62, "update_time_ms": 74.039}, "time_since_restore": 417.8685076236725, "timesteps_total": 538300, "episode_len_mean": 700.0, "episodes_total": 256, "training_iteration": 9, "episode_reward_mean": 737.5641715634603, "hostname": "flow-main", "experiment_id": "24525fc6f3cc408296359cca36b844c9", "done": false, "time_this_iter_s": 54.9310564994812, "iterations_since_restore": 9, "date": "2019-05-20_04-39-48", "timesteps_since_restore": 538300, "timesteps_this_iter": 64317, "custom_metrics": {"system_level_velocity_min": 5.550728308010184, "outflow_rate_max": 1106.277938420723, "cost1_mean": 313.355190303244, "outflow_rate_mean": 962.7955579987984, "cost1_min": 146.17444328624765, "cost2_min": -132.07342854163917, "cost1_max": 375.0786086989519, "outflow_rate_min": 576.1797580619515, "cost2_max": -65.28953200627123, "cost2_mean": -91.79917380318926, "system_level_velocity_max": 14.110962197693224, "system_level_velocity_mean": 11.780388037351907}, "pid": 277, "episode_reward_min": 488.98737746494635, "policy_reward_mean": {}}
{"config": {"num_sgd_iter": 10, "compress_observations": false, "input_evaluation": null, "vf_share_layers": false, "horizon": 1500, "num_workers": 20, "lambda": 0.97, "synchronize_filters": true, "vf_clip_param": 1000000.0, "optimizer": {}, "collect_metrics_timeout": 180, "tf_session_args": {"intra_op_parallelism_threads": 2, "device_count": {"CPU": 1}, "log_device_placement": false, "gpu_options": {"allow_growth": true}, "inter_op_parallelism_threads": 2, "allow_soft_placement": true}, "sample_batch_size": 750, "train_batch_size": 30000, "observation_filter": "MeanStdFilter", "input": "sampler", "kl_target": 0.01, "callbacks": {"on_train_result": null, "on_sample_end": null, "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7f0a8e56cc50>", "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7f0a8e56ca20>", "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7f0a8e56c8d0>"}, "kl_coeff": 0.2, "num_envs_per_worker": 1, "monitor": false, "lr_schedule": null, "output_max_file_size": 67108864, "multiagent": {"policies_to_train": null, "policy_mapping_fn": null, "policy_graphs": {}}, "output_compress_columns": ["obs", "new_obs"], "straggler_mitigation": false, "env_config": {"run": "PPO", "flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"buf_length\": 1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.05,\n            \"eta3\": 0.0,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 5.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnv\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 600,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}"}, "env": "MultiWaveAttenuationMergePOEnv-v0_[eta1, eta2, eta3]:[1.0, 0.1, 0.0]_t_min:10.0_buf_len: 1", "batch_mode": "truncate_episodes", "log_level": "INFO", "simple_optimizer": false, "gamma": 0.99, "entropy_coeff": 0.0, "clip_actions": false, "num_cpus_per_worker": 1, "num_gpus": 0, "vf_loss_coeff": 1.0, "model": {"lstm_cell_size": 256, "conv_activation": "relu", "conv_filters": null, "channel_major": false, "fcnet_hiddens": [128, 64, 32], "max_seq_len": 20, "custom_preprocessor": null, "free_log_std": false, "dim": 84, "custom_options": {}, "squash_to_range": false, "fcnet_activation": "tanh", "framestack": true, "zero_mean": true, "grayscale": false, "use_lstm": false, "custom_model": null, "lstm_use_prev_action_reward": false}, "num_cpus_for_driver": 1, "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "lr": 0.0005, "output": null, "num_gpus_per_worker": 0, "sgd_minibatch_size": 128, "preprocessor_pref": "deepmind", "clip_param": 0.3, "sample_async": false, "custom_resources_per_worker": {}, "use_gae": true, "clip_rewards": null}, "num_metric_batches_dropped": 0, "node_ip": "10.138.0.2", "time_total_s": 466.22240567207336, "episodes_this_iter": 31, "timestamp": 1558327236, "episode_reward_max": 892.1224312475126, "info": {"load_time_ms": 13.686, "default": {"vf_loss": 9.610101699829102, "total_loss": 9.606914520263672, "entropy": 1.3727177381515503, "policy_loss": -0.004713456146419048, "cur_kl_coeff": 0.20000001788139343, "vf_explained_var": 0.8667908906936646, "cur_lr": 0.0005000000237487257, "kl": 0.007634392939507961}, "num_steps_trained": 601586, "grad_time_ms": 16615.768, "num_steps_sampled": 601586, "sample_time_ms": 29809.327, "update_time_ms": 67.301}, "time_since_restore": 466.22240567207336, "timesteps_total": 601586, "episode_len_mean": 693.25, "episodes_total": 287, "training_iteration": 10, "episode_reward_mean": 737.3380293304422, "hostname": "flow-main", "experiment_id": "24525fc6f3cc408296359cca36b844c9", "done": false, "time_this_iter_s": 48.35389804840088, "iterations_since_restore": 10, "date": "2019-05-20_04-40-36", "timesteps_since_restore": 601586, "timesteps_this_iter": 63286, "custom_metrics": {"system_level_velocity_min": 5.550728308010184, "outflow_rate_max": 1106.277938420723, "cost1_mean": 314.6837130790063, "outflow_rate_mean": 975.3958948334033, "cost1_min": 16.41914113270461, "cost2_min": -132.07342854163917, "cost1_max": 375.0786086989519, "outflow_rate_min": 478.85323924047754, "cost2_max": -16.176743377529732, "cost2_mean": -97.10751835926139, "system_level_velocity_max": 17.151701343806742, "system_level_velocity_mean": 11.979265080054574}, "pid": 277, "episode_reward_min": 41.577930315892914, "policy_reward_mean": {}}
{"config": {"num_sgd_iter": 10, "compress_observations": false, "input_evaluation": null, "vf_share_layers": false, "horizon": 1500, "num_workers": 20, "lambda": 0.97, "synchronize_filters": true, "vf_clip_param": 1000000.0, "optimizer": {}, "collect_metrics_timeout": 180, "tf_session_args": {"intra_op_parallelism_threads": 2, "device_count": {"CPU": 1}, "log_device_placement": false, "gpu_options": {"allow_growth": true}, "inter_op_parallelism_threads": 2, "allow_soft_placement": true}, "sample_batch_size": 750, "train_batch_size": 30000, "observation_filter": "MeanStdFilter", "input": "sampler", "kl_target": 0.01, "callbacks": {"on_train_result": null, "on_sample_end": null, "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7f0a8e5d2828>", "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7f0a8e5d2d30>", "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7f0a8e5d2c50>"}, "kl_coeff": 0.2, "num_envs_per_worker": 1, "monitor": false, "lr_schedule": null, "output_max_file_size": 67108864, "multiagent": {"policies_to_train": null, "policy_mapping_fn": null, "policy_graphs": {}}, "output_compress_columns": ["obs", "new_obs"], "straggler_mitigation": false, "env_config": {"run": "PPO", "flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"buf_length\": 1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.05,\n            \"eta3\": 0.0,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 5.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnv\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 600,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}"}, "env": "MultiWaveAttenuationMergePOEnv-v0_[eta1, eta2, eta3]:[1.0, 0.1, 0.0]_t_min:10.0_buf_len: 1", "batch_mode": "truncate_episodes", "log_level": "INFO", "simple_optimizer": false, "gamma": 0.99, "entropy_coeff": 0.0, "clip_actions": false, "num_cpus_per_worker": 1, "num_gpus": 0, "vf_loss_coeff": 1.0, "model": {"lstm_cell_size": 256, "conv_activation": "relu", "conv_filters": null, "channel_major": false, "fcnet_hiddens": [128, 64, 32], "max_seq_len": 20, "custom_preprocessor": null, "free_log_std": false, "dim": 84, "custom_options": {}, "squash_to_range": false, "fcnet_activation": "tanh", "framestack": true, "zero_mean": true, "grayscale": false, "use_lstm": false, "custom_model": null, "lstm_use_prev_action_reward": false}, "num_cpus_for_driver": 1, "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "lr": 0.0005, "output": null, "num_gpus_per_worker": 0, "sgd_minibatch_size": 128, "preprocessor_pref": "deepmind", "clip_param": 0.3, "sample_async": false, "custom_resources_per_worker": {}, "use_gae": true, "clip_rewards": null}, "num_metric_batches_dropped": 0, "node_ip": "10.138.0.2", "time_total_s": 513.9028732776642, "episodes_this_iter": 31, "timestamp": 1558327284, "episode_reward_max": 893.6708660994393, "info": {"load_time_ms": 8.347, "default": {"vf_loss": 10.95433235168457, "total_loss": 10.951056480407715, "entropy": 1.368380069732666, "policy_loss": -0.004690492991358042, "cur_kl_coeff": 0.20000003278255463, "vf_explained_var": 0.8658508062362671, "cur_lr": 0.0005000000237487257, "kl": 0.007066205143928528}, "num_steps_trained": 663325, "grad_time_ms": 16429.504, "num_steps_sampled": 663325, "sample_time_ms": 30111.438, "update_time_ms": 8.891}, "time_since_restore": 513.9028732776642, "timesteps_total": 663325, "episode_len_mean": 693.25, "episodes_total": 318, "training_iteration": 11, "episode_reward_mean": 742.5503200639993, "hostname": "flow-main", "experiment_id": "24525fc6f3cc408296359cca36b844c9", "done": false, "time_this_iter_s": 47.68046760559082, "iterations_since_restore": 11, "date": "2019-05-20_04-41-24", "timesteps_since_restore": 663325, "timesteps_this_iter": 61739, "custom_metrics": {"system_level_velocity_min": 4.821175817895046, "outflow_rate_max": 1115.7159716044207, "cost1_mean": 315.12596917893393, "outflow_rate_mean": 980.4532668530479, "cost1_min": 16.41914113270461, "cost2_min": -132.07342854163917, "cost1_max": 374.3845104289143, "outflow_rate_min": 478.85323924047754, "cost2_max": -16.176743377529732, "cost2_mean": -101.83142486530667, "system_level_velocity_max": 17.151701343806742, "system_level_velocity_mean": 11.991416491830178}, "pid": 277, "episode_reward_min": 41.577930315892914, "policy_reward_mean": {}}
{"config": {"num_sgd_iter": 10, "compress_observations": false, "input_evaluation": null, "vf_share_layers": false, "horizon": 1500, "num_workers": 20, "lambda": 0.97, "synchronize_filters": true, "vf_clip_param": 1000000.0, "optimizer": {}, "collect_metrics_timeout": 180, "tf_session_args": {"intra_op_parallelism_threads": 2, "device_count": {"CPU": 1}, "log_device_placement": false, "gpu_options": {"allow_growth": true}, "inter_op_parallelism_threads": 2, "allow_soft_placement": true}, "sample_batch_size": 750, "train_batch_size": 30000, "observation_filter": "MeanStdFilter", "input": "sampler", "kl_target": 0.01, "callbacks": {"on_train_result": null, "on_sample_end": null, "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7f0a8e558390>", "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7f0a8e558eb8>", "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7f0a8e558b70>"}, "kl_coeff": 0.2, "num_envs_per_worker": 1, "monitor": false, "lr_schedule": null, "output_max_file_size": 67108864, "multiagent": {"policies_to_train": null, "policy_mapping_fn": null, "policy_graphs": {}}, "output_compress_columns": ["obs", "new_obs"], "straggler_mitigation": false, "env_config": {"run": "PPO", "flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"buf_length\": 1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.05,\n            \"eta3\": 0.0,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 5.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnv\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 600,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}"}, "env": "MultiWaveAttenuationMergePOEnv-v0_[eta1, eta2, eta3]:[1.0, 0.1, 0.0]_t_min:10.0_buf_len: 1", "batch_mode": "truncate_episodes", "log_level": "INFO", "simple_optimizer": false, "gamma": 0.99, "entropy_coeff": 0.0, "clip_actions": false, "num_cpus_per_worker": 1, "num_gpus": 0, "vf_loss_coeff": 1.0, "model": {"lstm_cell_size": 256, "conv_activation": "relu", "conv_filters": null, "channel_major": false, "fcnet_hiddens": [128, 64, 32], "max_seq_len": 20, "custom_preprocessor": null, "free_log_std": false, "dim": 84, "custom_options": {}, "squash_to_range": false, "fcnet_activation": "tanh", "framestack": true, "zero_mean": true, "grayscale": false, "use_lstm": false, "custom_model": null, "lstm_use_prev_action_reward": false}, "num_cpus_for_driver": 1, "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "lr": 0.0005, "output": null, "num_gpus_per_worker": 0, "sgd_minibatch_size": 128, "preprocessor_pref": "deepmind", "clip_param": 0.3, "sample_async": false, "custom_resources_per_worker": {}, "use_gae": true, "clip_rewards": null}, "num_metric_batches_dropped": 0, "node_ip": "10.138.0.2", "time_total_s": 558.1147224903107, "episodes_this_iter": 31, "timestamp": 1558327328, "episode_reward_max": 893.6708660994393, "info": {"load_time_ms": 8.16, "default": {"vf_loss": 10.663546562194824, "total_loss": 10.658684730529785, "entropy": 1.3489958047866821, "policy_loss": -0.006459692493081093, "cur_kl_coeff": 0.20000003278255463, "vf_explained_var": 0.8641636967658997, "cur_lr": 0.0005000000237487257, "kl": 0.007993088103830814}, "num_steps_trained": 721274, "grad_time_ms": 15999.03, "num_steps_sampled": 721274, "sample_time_ms": 29755.42, "update_time_ms": 8.991}, "time_since_restore": 558.1147224903107, "timesteps_total": 721274, "episode_len_mean": 693.25, "episodes_total": 349, "training_iteration": 12, "episode_reward_mean": 744.4015296691556, "hostname": "flow-main", "experiment_id": "24525fc6f3cc408296359cca36b844c9", "done": false, "time_this_iter_s": 44.211849212646484, "iterations_since_restore": 12, "date": "2019-05-20_04-42-08", "timesteps_since_restore": 721274, "timesteps_this_iter": 57949, "custom_metrics": {"system_level_velocity_min": 4.821175817895046, "outflow_rate_max": 1115.7159716044207, "cost1_mean": 319.8447572638775, "outflow_rate_mean": 993.9407254547446, "cost1_min": 16.41914113270461, "cost2_min": -128.1527630660416, "cost1_max": 374.3845104289143, "outflow_rate_min": 478.85323924047754, "cost2_max": -16.176743377529732, "cost2_mean": -102.22092444880484, "system_level_velocity_max": 17.151701343806742, "system_level_velocity_mean": 12.167753100668506}, "pid": 277, "episode_reward_min": 41.577930315892914, "policy_reward_mean": {}}
{"config": {"num_sgd_iter": 10, "compress_observations": false, "input_evaluation": null, "vf_share_layers": false, "horizon": 1500, "num_workers": 20, "lambda": 0.97, "synchronize_filters": true, "vf_clip_param": 1000000.0, "optimizer": {}, "collect_metrics_timeout": 180, "tf_session_args": {"intra_op_parallelism_threads": 2, "device_count": {"CPU": 1}, "log_device_placement": false, "gpu_options": {"allow_growth": true}, "inter_op_parallelism_threads": 2, "allow_soft_placement": true}, "sample_batch_size": 750, "train_batch_size": 30000, "observation_filter": "MeanStdFilter", "input": "sampler", "kl_target": 0.01, "callbacks": {"on_train_result": null, "on_sample_end": null, "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7f0a8e560e80>", "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7f0a8e560940>", "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7f0a8e560518>"}, "kl_coeff": 0.2, "num_envs_per_worker": 1, "monitor": false, "lr_schedule": null, "output_max_file_size": 67108864, "multiagent": {"policies_to_train": null, "policy_mapping_fn": null, "policy_graphs": {}}, "output_compress_columns": ["obs", "new_obs"], "straggler_mitigation": false, "env_config": {"run": "PPO", "flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"buf_length\": 1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.05,\n            \"eta3\": 0.0,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 5.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnv\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 600,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}"}, "env": "MultiWaveAttenuationMergePOEnv-v0_[eta1, eta2, eta3]:[1.0, 0.1, 0.0]_t_min:10.0_buf_len: 1", "batch_mode": "truncate_episodes", "log_level": "INFO", "simple_optimizer": false, "gamma": 0.99, "entropy_coeff": 0.0, "clip_actions": false, "num_cpus_per_worker": 1, "num_gpus": 0, "vf_loss_coeff": 1.0, "model": {"lstm_cell_size": 256, "conv_activation": "relu", "conv_filters": null, "channel_major": false, "fcnet_hiddens": [128, 64, 32], "max_seq_len": 20, "custom_preprocessor": null, "free_log_std": false, "dim": 84, "custom_options": {}, "squash_to_range": false, "fcnet_activation": "tanh", "framestack": true, "zero_mean": true, "grayscale": false, "use_lstm": false, "custom_model": null, "lstm_use_prev_action_reward": false}, "num_cpus_for_driver": 1, "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "lr": 0.0005, "output": null, "num_gpus_per_worker": 0, "sgd_minibatch_size": 128, "preprocessor_pref": "deepmind", "clip_param": 0.3, "sample_async": false, "custom_resources_per_worker": {}, "use_gae": true, "clip_rewards": null}, "num_metric_batches_dropped": 0, "node_ip": "10.138.0.2", "time_total_s": 603.3908269405365, "episodes_this_iter": 29, "timestamp": 1558327374, "episode_reward_max": 922.0235382979747, "info": {"load_time_ms": 8.37, "default": {"vf_loss": 11.662654876708984, "total_loss": 11.658243179321289, "entropy": 1.3492066860198975, "policy_loss": -0.006133915390819311, "cur_kl_coeff": 0.20000004768371582, "vf_explained_var": 0.847052812576294, "cur_lr": 0.0005000000237487257, "kl": 0.00860624760389328}, "num_steps_trained": 782539, "grad_time_ms": 16118.562, "num_steps_sampled": 782539, "sample_time_ms": 30103.357, "update_time_ms": 8.61}, "time_since_restore": 603.3908269405365, "timesteps_total": 782539, "episode_len_mean": 700.0, "episodes_total": 378, "training_iteration": 13, "episode_reward_mean": 767.6189473874933, "hostname": "flow-main", "experiment_id": "24525fc6f3cc408296359cca36b844c9", "done": false, "time_this_iter_s": 45.27610445022583, "iterations_since_restore": 13, "date": "2019-05-20_04-42-54", "timesteps_since_restore": 782539, "timesteps_this_iter": 61265, "custom_metrics": {"system_level_velocity_min": 4.821175817895046, "outflow_rate_max": 1115.7159716044207, "cost1_mean": 329.9820696058343, "outflow_rate_mean": 1013.1638212364934, "cost1_min": 126.56049955450285, "cost2_min": -144.26084336451282, "cost1_max": 374.3845104289143, "outflow_rate_min": 520.1722184048758, "cost2_max": -68.063666619483, "cost2_mean": -105.28616590884856, "system_level_velocity_max": 14.110008760585991, "system_level_velocity_mean": 12.392153500737882}, "pid": 277, "episode_reward_min": 449.33783888364314, "policy_reward_mean": {}}
{"config": {"num_sgd_iter": 10, "compress_observations": false, "input_evaluation": null, "vf_share_layers": false, "horizon": 1500, "num_workers": 20, "lambda": 0.97, "synchronize_filters": true, "vf_clip_param": 1000000.0, "optimizer": {}, "collect_metrics_timeout": 180, "tf_session_args": {"intra_op_parallelism_threads": 2, "device_count": {"CPU": 1}, "log_device_placement": false, "gpu_options": {"allow_growth": true}, "inter_op_parallelism_threads": 2, "allow_soft_placement": true}, "sample_batch_size": 750, "train_batch_size": 30000, "observation_filter": "MeanStdFilter", "input": "sampler", "kl_target": 0.01, "callbacks": {"on_train_result": null, "on_sample_end": null, "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7f0a8e558f28>", "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7f0a8e558ac8>", "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7f0a8e558160>"}, "kl_coeff": 0.2, "num_envs_per_worker": 1, "monitor": false, "lr_schedule": null, "output_max_file_size": 67108864, "multiagent": {"policies_to_train": null, "policy_mapping_fn": null, "policy_graphs": {}}, "output_compress_columns": ["obs", "new_obs"], "straggler_mitigation": false, "env_config": {"run": "PPO", "flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"buf_length\": 1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.05,\n            \"eta3\": 0.0,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 5.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnv\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 600,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}"}, "env": "MultiWaveAttenuationMergePOEnv-v0_[eta1, eta2, eta3]:[1.0, 0.1, 0.0]_t_min:10.0_buf_len: 1", "batch_mode": "truncate_episodes", "log_level": "INFO", "simple_optimizer": false, "gamma": 0.99, "entropy_coeff": 0.0, "clip_actions": false, "num_cpus_per_worker": 1, "num_gpus": 0, "vf_loss_coeff": 1.0, "model": {"lstm_cell_size": 256, "conv_activation": "relu", "conv_filters": null, "channel_major": false, "fcnet_hiddens": [128, 64, 32], "max_seq_len": 20, "custom_preprocessor": null, "free_log_std": false, "dim": 84, "custom_options": {}, "squash_to_range": false, "fcnet_activation": "tanh", "framestack": true, "zero_mean": true, "grayscale": false, "use_lstm": false, "custom_model": null, "lstm_use_prev_action_reward": false}, "num_cpus_for_driver": 1, "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "lr": 0.0005, "output": null, "num_gpus_per_worker": 0, "sgd_minibatch_size": 128, "preprocessor_pref": "deepmind", "clip_param": 0.3, "sample_async": false, "custom_resources_per_worker": {}, "use_gae": true, "clip_rewards": null}, "num_metric_batches_dropped": 0, "node_ip": "10.138.0.2", "time_total_s": 648.8916552066803, "episodes_this_iter": 27, "timestamp": 1558327419, "episode_reward_max": 922.9682175162511, "info": {"load_time_ms": 8.828, "default": {"vf_loss": 10.9514799118042, "total_loss": 10.947075843811035, "entropy": 1.3377379179000854, "policy_loss": -0.006212674546986818, "cur_kl_coeff": 0.20000004768371582, "vf_explained_var": 0.8575689792633057, "cur_lr": 0.0005000000237487257, "kl": 0.009047388099133968}, "num_steps_trained": 843181, "grad_time_ms": 16235.632, "num_steps_sampled": 843181, "sample_time_ms": 30323.251, "update_time_ms": 8.609}, "time_since_restore": 648.8916552066803, "timesteps_total": 843181, "episode_len_mean": 700.0, "episodes_total": 405, "training_iteration": 14, "episode_reward_mean": 773.9434265691955, "hostname": "flow-main", "experiment_id": "24525fc6f3cc408296359cca36b844c9", "done": false, "time_this_iter_s": 45.5008282661438, "iterations_since_restore": 14, "date": "2019-05-20_04-43-39", "timesteps_since_restore": 843181, "timesteps_this_iter": 60642, "custom_metrics": {"system_level_velocity_min": 9.585344948478923, "outflow_rate_max": 1115.7159716044207, "cost1_mean": 333.7962179720136, "outflow_rate_mean": 1024.6593450991522, "cost1_min": 258.4866311241272, "cost2_min": -144.26084336451282, "cost1_max": 381.4424729064337, "outflow_rate_min": 847.0341462440034, "cost2_max": -68.063666619483, "cost2_mean": -109.36667119204404, "system_level_velocity_max": 14.321503100326762, "system_level_velocity_mean": 12.528700528671415}, "pid": 277, "episode_reward_min": 590.1460227613896, "policy_reward_mean": {}}
{"config": {"num_sgd_iter": 10, "compress_observations": false, "input_evaluation": null, "vf_share_layers": false, "horizon": 1500, "num_workers": 20, "lambda": 0.97, "synchronize_filters": true, "vf_clip_param": 1000000.0, "optimizer": {}, "collect_metrics_timeout": 180, "tf_session_args": {"intra_op_parallelism_threads": 2, "device_count": {"CPU": 1}, "log_device_placement": false, "gpu_options": {"allow_growth": true}, "inter_op_parallelism_threads": 2, "allow_soft_placement": true}, "sample_batch_size": 750, "train_batch_size": 30000, "observation_filter": "MeanStdFilter", "input": "sampler", "kl_target": 0.01, "callbacks": {"on_train_result": null, "on_sample_end": null, "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7f0a8e558da0>", "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7f0a8e558080>", "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7f0a8e5584a8>"}, "kl_coeff": 0.2, "num_envs_per_worker": 1, "monitor": false, "lr_schedule": null, "output_max_file_size": 67108864, "multiagent": {"policies_to_train": null, "policy_mapping_fn": null, "policy_graphs": {}}, "output_compress_columns": ["obs", "new_obs"], "straggler_mitigation": false, "env_config": {"run": "PPO", "flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"buf_length\": 1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.05,\n            \"eta3\": 0.0,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 5.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnv\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 600,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}"}, "env": "MultiWaveAttenuationMergePOEnv-v0_[eta1, eta2, eta3]:[1.0, 0.1, 0.0]_t_min:10.0_buf_len: 1", "batch_mode": "truncate_episodes", "log_level": "INFO", "simple_optimizer": false, "gamma": 0.99, "entropy_coeff": 0.0, "clip_actions": false, "num_cpus_per_worker": 1, "num_gpus": 0, "vf_loss_coeff": 1.0, "model": {"lstm_cell_size": 256, "conv_activation": "relu", "conv_filters": null, "channel_major": false, "fcnet_hiddens": [128, 64, 32], "max_seq_len": 20, "custom_preprocessor": null, "free_log_std": false, "dim": 84, "custom_options": {}, "squash_to_range": false, "fcnet_activation": "tanh", "framestack": true, "zero_mean": true, "grayscale": false, "use_lstm": false, "custom_model": null, "lstm_use_prev_action_reward": false}, "num_cpus_for_driver": 1, "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "lr": 0.0005, "output": null, "num_gpus_per_worker": 0, "sgd_minibatch_size": 128, "preprocessor_pref": "deepmind", "clip_param": 0.3, "sample_async": false, "custom_resources_per_worker": {}, "use_gae": true, "clip_rewards": null}, "num_metric_batches_dropped": 0, "node_ip": "10.138.0.2", "time_total_s": 694.7991335391998, "episodes_this_iter": 27, "timestamp": 1558327465, "episode_reward_max": 923.0719019985142, "info": {"load_time_ms": 8.644, "default": {"vf_loss": 13.8457670211792, "total_loss": 13.841642379760742, "entropy": 1.3322640657424927, "policy_loss": -0.005921658594161272, "cur_kl_coeff": 0.20000003278255463, "vf_explained_var": 0.810359001159668, "cur_lr": 0.0005000000237487257, "kl": 0.008994301781058311}, "num_steps_trained": 900387, "grad_time_ms": 16288.113, "num_steps_sampled": 900387, "sample_time_ms": 30374.676, "update_time_ms": 8.423}, "time_since_restore": 694.7991335391998, "timesteps_total": 900387, "episode_len_mean": 700.0, "episodes_total": 432, "training_iteration": 15, "episode_reward_mean": 796.610243145522, "hostname": "flow-main", "experiment_id": "24525fc6f3cc408296359cca36b844c9", "done": false, "time_this_iter_s": 45.90747833251953, "iterations_since_restore": 15, "date": "2019-05-20_04-44-25", "timesteps_since_restore": 900387, "timesteps_this_iter": 57206, "custom_metrics": {"system_level_velocity_min": 9.51509923797179, "outflow_rate_max": 1151.614550208821, "cost1_mean": 342.7240738314132, "outflow_rate_mean": 1039.1263707108644, "cost1_min": 251.85921831952425, "cost2_min": -144.26084336451282, "cost1_max": 391.51659035102887, "outflow_rate_min": 858.9513985479032, "cost2_max": -71.25468236769039, "cost2_mean": -110.70134499691443, "system_level_velocity_max": 14.74885737293117, "system_level_velocity_mean": 12.875325692360237}, "pid": 277, "episode_reward_min": 639.2633386437936, "policy_reward_mean": {}}
{"config": {"num_sgd_iter": 10, "compress_observations": false, "input_evaluation": null, "vf_share_layers": false, "horizon": 1500, "num_workers": 20, "lambda": 0.97, "synchronize_filters": true, "vf_clip_param": 1000000.0, "optimizer": {}, "collect_metrics_timeout": 180, "tf_session_args": {"intra_op_parallelism_threads": 2, "device_count": {"CPU": 1}, "log_device_placement": false, "gpu_options": {"allow_growth": true}, "inter_op_parallelism_threads": 2, "allow_soft_placement": true}, "sample_batch_size": 750, "train_batch_size": 30000, "observation_filter": "MeanStdFilter", "input": "sampler", "kl_target": 0.01, "callbacks": {"on_train_result": null, "on_sample_end": null, "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7f0a8e560f28>", "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7f0a8e5c4cc0>", "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7f0a8e560da0>"}, "kl_coeff": 0.2, "num_envs_per_worker": 1, "monitor": false, "lr_schedule": null, "output_max_file_size": 67108864, "multiagent": {"policies_to_train": null, "policy_mapping_fn": null, "policy_graphs": {}}, "output_compress_columns": ["obs", "new_obs"], "straggler_mitigation": false, "env_config": {"run": "PPO", "flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"buf_length\": 1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.05,\n            \"eta3\": 0.0,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 5.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnv\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 600,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}"}, "env": "MultiWaveAttenuationMergePOEnv-v0_[eta1, eta2, eta3]:[1.0, 0.1, 0.0]_t_min:10.0_buf_len: 1", "batch_mode": "truncate_episodes", "log_level": "INFO", "simple_optimizer": false, "gamma": 0.99, "entropy_coeff": 0.0, "clip_actions": false, "num_cpus_per_worker": 1, "num_gpus": 0, "vf_loss_coeff": 1.0, "model": {"lstm_cell_size": 256, "conv_activation": "relu", "conv_filters": null, "channel_major": false, "fcnet_hiddens": [128, 64, 32], "max_seq_len": 20, "custom_preprocessor": null, "free_log_std": false, "dim": 84, "custom_options": {}, "squash_to_range": false, "fcnet_activation": "tanh", "framestack": true, "zero_mean": true, "grayscale": false, "use_lstm": false, "custom_model": null, "lstm_use_prev_action_reward": false}, "num_cpus_for_driver": 1, "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "lr": 0.0005, "output": null, "num_gpus_per_worker": 0, "sgd_minibatch_size": 128, "preprocessor_pref": "deepmind", "clip_param": 0.3, "sample_async": false, "custom_resources_per_worker": {}, "use_gae": true, "clip_rewards": null}, "num_metric_batches_dropped": 0, "node_ip": "10.138.0.2", "time_total_s": 741.4064295291901, "episodes_this_iter": 27, "timestamp": 1558327512, "episode_reward_max": 945.3037493243615, "info": {"load_time_ms": 8.68, "default": {"vf_loss": 11.924304962158203, "total_loss": 11.918907165527344, "entropy": 1.351147174835205, "policy_loss": -0.007726057432591915, "cur_kl_coeff": 0.20000004768371582, "vf_explained_var": 0.8508757948875427, "cur_lr": 0.0005000000237487257, "kl": 0.011641205288469791}, "num_steps_trained": 959578, "grad_time_ms": 16075.962, "num_steps_sampled": 959578, "sample_time_ms": 30653.296, "update_time_ms": 8.232}, "time_since_restore": 741.4064295291901, "timesteps_total": 959578, "episode_len_mean": 700.0, "episodes_total": 459, "training_iteration": 16, "episode_reward_mean": 802.7952067396742, "hostname": "flow-main", "experiment_id": "24525fc6f3cc408296359cca36b844c9", "done": false, "time_this_iter_s": 46.607295989990234, "iterations_since_restore": 16, "date": "2019-05-20_04-45-12", "timesteps_since_restore": 959578, "timesteps_this_iter": 59191, "custom_metrics": {"system_level_velocity_min": 9.51509923797179, "outflow_rate_max": 1166.2702841204316, "cost1_mean": 346.26035809676694, "outflow_rate_mean": 1047.8733677457994, "cost1_min": 251.85921831952425, "cost2_min": -147.29685686466735, "cost1_max": 404.99712030381113, "outflow_rate_min": 858.9513985479032, "cost2_max": -77.5747846416068, "cost2_mean": -114.16413430041331, "system_level_velocity_max": 15.18764620606063, "system_level_velocity_mean": 13.002662082494908}, "pid": 277, "episode_reward_min": 603.6414744731603, "policy_reward_mean": {}}
{"config": {"num_sgd_iter": 10, "compress_observations": false, "input_evaluation": null, "vf_share_layers": false, "horizon": 1500, "num_workers": 20, "lambda": 0.97, "synchronize_filters": true, "vf_clip_param": 1000000.0, "optimizer": {}, "collect_metrics_timeout": 180, "tf_session_args": {"intra_op_parallelism_threads": 2, "device_count": {"CPU": 1}, "log_device_placement": false, "gpu_options": {"allow_growth": true}, "inter_op_parallelism_threads": 2, "allow_soft_placement": true}, "sample_batch_size": 750, "train_batch_size": 30000, "observation_filter": "MeanStdFilter", "input": "sampler", "kl_target": 0.01, "callbacks": {"on_train_result": null, "on_sample_end": null, "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7f0a8e56cc18>", "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7f0a8e56cba8>", "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7f0a8e56c6a0>"}, "kl_coeff": 0.2, "num_envs_per_worker": 1, "monitor": false, "lr_schedule": null, "output_max_file_size": 67108864, "multiagent": {"policies_to_train": null, "policy_mapping_fn": null, "policy_graphs": {}}, "output_compress_columns": ["obs", "new_obs"], "straggler_mitigation": false, "env_config": {"run": "PPO", "flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"buf_length\": 1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.05,\n            \"eta3\": 0.0,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 5.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnv\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 600,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}"}, "env": "MultiWaveAttenuationMergePOEnv-v0_[eta1, eta2, eta3]:[1.0, 0.1, 0.0]_t_min:10.0_buf_len: 1", "batch_mode": "truncate_episodes", "log_level": "INFO", "simple_optimizer": false, "gamma": 0.99, "entropy_coeff": 0.0, "clip_actions": false, "num_cpus_per_worker": 1, "num_gpus": 0, "vf_loss_coeff": 1.0, "model": {"lstm_cell_size": 256, "conv_activation": "relu", "conv_filters": null, "channel_major": false, "fcnet_hiddens": [128, 64, 32], "max_seq_len": 20, "custom_preprocessor": null, "free_log_std": false, "dim": 84, "custom_options": {}, "squash_to_range": false, "fcnet_activation": "tanh", "framestack": true, "zero_mean": true, "grayscale": false, "use_lstm": false, "custom_model": null, "lstm_use_prev_action_reward": false}, "num_cpus_for_driver": 1, "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "lr": 0.0005, "output": null, "num_gpus_per_worker": 0, "sgd_minibatch_size": 128, "preprocessor_pref": "deepmind", "clip_param": 0.3, "sample_async": false, "custom_resources_per_worker": {}, "use_gae": true, "clip_rewards": null}, "num_metric_batches_dropped": 0, "node_ip": "10.138.0.2", "time_total_s": 785.0773878097534, "episodes_this_iter": 28, "timestamp": 1558327555, "episode_reward_max": 945.3037493243615, "info": {"load_time_ms": 8.437, "default": {"vf_loss": 15.843676567077637, "total_loss": 15.838645935058594, "entropy": 1.3453000783920288, "policy_loss": -0.00703325355425477, "cur_kl_coeff": 0.20000003278255463, "vf_explained_var": 0.7694770693778992, "cur_lr": 0.0005000000237487257, "kl": 0.010015237145125866}, "num_steps_trained": 1015514, "grad_time_ms": 15994.616, "num_steps_sampled": 1015514, "sample_time_ms": 30581.485, "update_time_ms": 8.194}, "time_since_restore": 785.0773878097534, "timesteps_total": 1015514, "episode_len_mean": 693.3, "episodes_total": 487, "training_iteration": 17, "episode_reward_mean": 799.2714780920759, "hostname": "flow-main", "experiment_id": "24525fc6f3cc408296359cca36b844c9", "done": false, "time_this_iter_s": 43.670958280563354, "iterations_since_restore": 17, "date": "2019-05-20_04-45-55", "timesteps_since_restore": 1015514, "timesteps_this_iter": 55936, "custom_metrics": {"system_level_velocity_min": 9.51509923797179, "outflow_rate_max": 1175.5445060301201, "cost1_mean": 346.2213508567776, "outflow_rate_mean": 1044.5087066539145, "cost1_min": 19.818923507931885, "cost2_min": -147.29685686466735, "cost1_max": 410.261313162413, "outflow_rate_min": 491.47048480133606, "cost2_max": -18.218345998235343, "cost2_mean": -111.30724811925563, "system_level_velocity_max": 17.770130319923606, "system_level_velocity_mean": 13.184995745000807}, "pid": 277, "episode_reward_min": 36.030225728685615, "policy_reward_mean": {}}
{"config": {"num_sgd_iter": 10, "compress_observations": false, "input_evaluation": null, "vf_share_layers": false, "horizon": 1500, "num_workers": 20, "lambda": 0.97, "synchronize_filters": true, "vf_clip_param": 1000000.0, "optimizer": {}, "collect_metrics_timeout": 180, "tf_session_args": {"intra_op_parallelism_threads": 2, "device_count": {"CPU": 1}, "log_device_placement": false, "gpu_options": {"allow_growth": true}, "inter_op_parallelism_threads": 2, "allow_soft_placement": true}, "sample_batch_size": 750, "train_batch_size": 30000, "observation_filter": "MeanStdFilter", "input": "sampler", "kl_target": 0.01, "callbacks": {"on_train_result": null, "on_sample_end": null, "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7f0a8e5580b8>", "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7f0a8e558c88>", "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7f0a8e5582b0>"}, "kl_coeff": 0.2, "num_envs_per_worker": 1, "monitor": false, "lr_schedule": null, "output_max_file_size": 67108864, "multiagent": {"policies_to_train": null, "policy_mapping_fn": null, "policy_graphs": {}}, "output_compress_columns": ["obs", "new_obs"], "straggler_mitigation": false, "env_config": {"run": "PPO", "flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"buf_length\": 1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.05,\n            \"eta3\": 0.0,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 5.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnv\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 600,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}"}, "env": "MultiWaveAttenuationMergePOEnv-v0_[eta1, eta2, eta3]:[1.0, 0.1, 0.0]_t_min:10.0_buf_len: 1", "batch_mode": "truncate_episodes", "log_level": "INFO", "simple_optimizer": false, "gamma": 0.99, "entropy_coeff": 0.0, "clip_actions": false, "num_cpus_per_worker": 1, "num_gpus": 0, "vf_loss_coeff": 1.0, "model": {"lstm_cell_size": 256, "conv_activation": "relu", "conv_filters": null, "channel_major": false, "fcnet_hiddens": [128, 64, 32], "max_seq_len": 20, "custom_preprocessor": null, "free_log_std": false, "dim": 84, "custom_options": {}, "squash_to_range": false, "fcnet_activation": "tanh", "framestack": true, "zero_mean": true, "grayscale": false, "use_lstm": false, "custom_model": null, "lstm_use_prev_action_reward": false}, "num_cpus_for_driver": 1, "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "lr": 0.0005, "output": null, "num_gpus_per_worker": 0, "sgd_minibatch_size": 128, "preprocessor_pref": "deepmind", "clip_param": 0.3, "sample_async": false, "custom_resources_per_worker": {}, "use_gae": true, "clip_rewards": null}, "num_metric_batches_dropped": 0, "node_ip": "10.138.0.2", "time_total_s": 828.4256298542023, "episodes_this_iter": 32, "timestamp": 1558327599, "episode_reward_max": 945.3037493243615, "info": {"load_time_ms": 8.347, "default": {"vf_loss": 16.337284088134766, "total_loss": 16.33124351501465, "entropy": 1.3478782176971436, "policy_loss": -0.008095914497971535, "cur_kl_coeff": 0.20000003278255463, "vf_explained_var": 0.7723587155342102, "cur_lr": 0.0005000000237487257, "kl": 0.01027813833206892}, "num_steps_trained": 1071943, "grad_time_ms": 15987.401, "num_steps_sampled": 1071943, "sample_time_ms": 30430.891, "update_time_ms": 8.011}, "time_since_restore": 828.4256298542023, "timesteps_total": 1071943, "episode_len_mean": 686.68, "episodes_total": 519, "training_iteration": 18, "episode_reward_mean": 787.6814800662972, "hostname": "flow-main", "experiment_id": "24525fc6f3cc408296359cca36b844c9", "done": false, "time_this_iter_s": 43.34824204444885, "iterations_since_restore": 18, "date": "2019-05-20_04-46-39", "timesteps_since_restore": 1071943, "timesteps_this_iter": 56429, "custom_metrics": {"system_level_velocity_min": 9.652070666969044, "outflow_rate_max": 1175.5445060301201, "cost1_mean": 348.4806928259409, "outflow_rate_mean": 1042.067858585276, "cost1_min": 19.818923507931885, "cost2_min": -147.29685686466735, "cost1_max": 410.85728320253594, "outflow_rate_min": 491.47048480133606, "cost2_max": -18.218345998235343, "cost2_mean": -105.44536284042456, "system_level_velocity_max": 17.96600358410627, "system_level_velocity_mean": 13.467774114177862}, "pid": 277, "episode_reward_min": 36.030225728685615, "policy_reward_mean": {}}
{"config": {"num_sgd_iter": 10, "compress_observations": false, "input_evaluation": null, "vf_share_layers": false, "horizon": 1500, "num_workers": 20, "lambda": 0.97, "synchronize_filters": true, "vf_clip_param": 1000000.0, "optimizer": {}, "collect_metrics_timeout": 180, "tf_session_args": {"intra_op_parallelism_threads": 2, "device_count": {"CPU": 1}, "log_device_placement": false, "gpu_options": {"allow_growth": true}, "inter_op_parallelism_threads": 2, "allow_soft_placement": true}, "sample_batch_size": 750, "train_batch_size": 30000, "observation_filter": "MeanStdFilter", "input": "sampler", "kl_target": 0.01, "callbacks": {"on_train_result": null, "on_sample_end": null, "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7f0a8e5d0780>", "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7f0a8e558ba8>", "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7f0a8e5d03c8>"}, "kl_coeff": 0.2, "num_envs_per_worker": 1, "monitor": false, "lr_schedule": null, "output_max_file_size": 67108864, "multiagent": {"policies_to_train": null, "policy_mapping_fn": null, "policy_graphs": {}}, "output_compress_columns": ["obs", "new_obs"], "straggler_mitigation": false, "env_config": {"run": "PPO", "flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"buf_length\": 1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.05,\n            \"eta3\": 0.0,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 5.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnv\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 600,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}"}, "env": "MultiWaveAttenuationMergePOEnv-v0_[eta1, eta2, eta3]:[1.0, 0.1, 0.0]_t_min:10.0_buf_len: 1", "batch_mode": "truncate_episodes", "log_level": "INFO", "simple_optimizer": false, "gamma": 0.99, "entropy_coeff": 0.0, "clip_actions": false, "num_cpus_per_worker": 1, "num_gpus": 0, "vf_loss_coeff": 1.0, "model": {"lstm_cell_size": 256, "conv_activation": "relu", "conv_filters": null, "channel_major": false, "fcnet_hiddens": [128, 64, 32], "max_seq_len": 20, "custom_preprocessor": null, "free_log_std": false, "dim": 84, "custom_options": {}, "squash_to_range": false, "fcnet_activation": "tanh", "framestack": true, "zero_mean": true, "grayscale": false, "use_lstm": false, "custom_model": null, "lstm_use_prev_action_reward": false}, "num_cpus_for_driver": 1, "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "lr": 0.0005, "output": null, "num_gpus_per_worker": 0, "sgd_minibatch_size": 128, "preprocessor_pref": "deepmind", "clip_param": 0.3, "sample_async": false, "custom_resources_per_worker": {}, "use_gae": true, "clip_rewards": null}, "num_metric_batches_dropped": 0, "node_ip": "10.138.0.2", "time_total_s": 871.3062708377838, "episodes_this_iter": 32, "timestamp": 1558327642, "episode_reward_max": 935.5709243042332, "info": {"load_time_ms": 7.841, "default": {"vf_loss": 18.739437103271484, "total_loss": 18.73382568359375, "entropy": 1.3457456827163696, "policy_loss": -0.007616771385073662, "cur_kl_coeff": 0.20000003278255463, "vf_explained_var": 0.7560963034629822, "cur_lr": 0.0005000000237487257, "kl": 0.010044709779322147}, "num_steps_trained": 1126621, "grad_time_ms": 15616.154, "num_steps_sampled": 1126621, "sample_time_ms": 29596.924, "update_time_ms": 8.067}, "time_since_restore": 871.3062708377838, "timesteps_total": 1126621, "episode_len_mean": 681.7, "episodes_total": 551, "training_iteration": 19, "episode_reward_mean": 770.2867512770846, "hostname": "flow-main", "experiment_id": "24525fc6f3cc408296359cca36b844c9", "done": false, "time_this_iter_s": 42.88064098358154, "iterations_since_restore": 19, "date": "2019-05-20_04-47-22", "timesteps_since_restore": 1126621, "timesteps_this_iter": 54678, "custom_metrics": {"system_level_velocity_min": 9.652070666969044, "outflow_rate_max": 1175.5445060301201, "cost1_mean": 344.7434902179052, "outflow_rate_mean": 1025.6519969496078, "cost1_min": 19.818923507931885, "cost2_min": -147.29685686466735, "cost1_max": 410.85728320253594, "outflow_rate_min": 491.47048480133606, "cost2_max": -18.218345998235343, "cost2_mean": -99.5686362449364, "system_level_velocity_max": 17.96600358410627, "system_level_velocity_mean": 13.472072502376031}, "pid": 277, "episode_reward_min": 36.030225728685615, "policy_reward_mean": {}}
{"config": {"num_sgd_iter": 10, "compress_observations": false, "input_evaluation": null, "vf_share_layers": false, "horizon": 1500, "num_workers": 20, "lambda": 0.97, "synchronize_filters": true, "vf_clip_param": 1000000.0, "optimizer": {}, "collect_metrics_timeout": 180, "tf_session_args": {"intra_op_parallelism_threads": 2, "device_count": {"CPU": 1}, "log_device_placement": false, "gpu_options": {"allow_growth": true}, "inter_op_parallelism_threads": 2, "allow_soft_placement": true}, "sample_batch_size": 750, "train_batch_size": 30000, "observation_filter": "MeanStdFilter", "input": "sampler", "kl_target": 0.01, "callbacks": {"on_train_result": null, "on_sample_end": null, "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7f0a8e56c940>", "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7f0a8e56c7f0>", "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7f0a8e56ceb8>"}, "kl_coeff": 0.2, "num_envs_per_worker": 1, "monitor": false, "lr_schedule": null, "output_max_file_size": 67108864, "multiagent": {"policies_to_train": null, "policy_mapping_fn": null, "policy_graphs": {}}, "output_compress_columns": ["obs", "new_obs"], "straggler_mitigation": false, "env_config": {"run": "PPO", "flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"buf_length\": 1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.05,\n            \"eta3\": 0.0,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 5.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnv\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 600,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}"}, "env": "MultiWaveAttenuationMergePOEnv-v0_[eta1, eta2, eta3]:[1.0, 0.1, 0.0]_t_min:10.0_buf_len: 1", "batch_mode": "truncate_episodes", "log_level": "INFO", "simple_optimizer": false, "gamma": 0.99, "entropy_coeff": 0.0, "clip_actions": false, "num_cpus_per_worker": 1, "num_gpus": 0, "vf_loss_coeff": 1.0, "model": {"lstm_cell_size": 256, "conv_activation": "relu", "conv_filters": null, "channel_major": false, "fcnet_hiddens": [128, 64, 32], "max_seq_len": 20, "custom_preprocessor": null, "free_log_std": false, "dim": 84, "custom_options": {}, "squash_to_range": false, "fcnet_activation": "tanh", "framestack": true, "zero_mean": true, "grayscale": false, "use_lstm": false, "custom_model": null, "lstm_use_prev_action_reward": false}, "num_cpus_for_driver": 1, "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "lr": 0.0005, "output": null, "num_gpus_per_worker": 0, "sgd_minibatch_size": 128, "preprocessor_pref": "deepmind", "clip_param": 0.3, "sample_async": false, "custom_resources_per_worker": {}, "use_gae": true, "clip_rewards": null}, "num_metric_batches_dropped": 0, "node_ip": "10.138.0.2", "time_total_s": 916.2585361003876, "episodes_this_iter": 32, "timestamp": 1558327687, "episode_reward_max": 900.3356203441737, "info": {"load_time_ms": 7.683, "default": {"vf_loss": 19.335060119628906, "total_loss": 19.329519271850586, "entropy": 1.3542814254760742, "policy_loss": -0.007590577006340027, "cur_kl_coeff": 0.20000003278255463, "vf_explained_var": 0.7218778133392334, "cur_lr": 0.0005000000237487257, "kl": 0.010256292298436165}, "num_steps_trained": 1181666, "grad_time_ms": 15588.939, "num_steps_sampled": 1181666, "sample_time_ms": 29284.405, "update_time_ms": 8.316}, "time_since_restore": 916.2585361003876, "timesteps_total": 1181666, "episode_len_mean": 688.4, "episodes_total": 583, "training_iteration": 20, "episode_reward_mean": 781.7435782217507, "hostname": "flow-main", "experiment_id": "24525fc6f3cc408296359cca36b844c9", "done": false, "time_this_iter_s": 44.95226526260376, "iterations_since_restore": 20, "date": "2019-05-20_04-48-07", "timesteps_since_restore": 1181666, "timesteps_this_iter": 55045, "custom_metrics": {"system_level_velocity_min": 9.25946839979531, "outflow_rate_max": 1175.5445060301201, "cost1_mean": 354.39613948241, "outflow_rate_mean": 1030.9733306539665, "cost1_min": 25.032003394465697, "cost2_min": -144.98094163987008, "cost1_max": 410.85728320253594, "outflow_rate_min": 519.3724242733701, "cost2_max": -21.772233879122254, "cost2_mean": -92.71739126718153, "system_level_velocity_max": 17.96600358410627, "system_level_velocity_mean": 13.696684945840886}, "pid": 277, "episode_reward_min": 55.54030703309136, "policy_reward_mean": {}}
{"config": {"num_sgd_iter": 10, "compress_observations": false, "input_evaluation": null, "vf_share_layers": false, "horizon": 1500, "num_workers": 20, "lambda": 0.97, "synchronize_filters": true, "vf_clip_param": 1000000.0, "optimizer": {}, "collect_metrics_timeout": 180, "tf_session_args": {"intra_op_parallelism_threads": 2, "device_count": {"CPU": 1}, "log_device_placement": false, "gpu_options": {"allow_growth": true}, "inter_op_parallelism_threads": 2, "allow_soft_placement": true}, "sample_batch_size": 750, "train_batch_size": 30000, "observation_filter": "MeanStdFilter", "input": "sampler", "kl_target": 0.01, "callbacks": {"on_train_result": null, "on_sample_end": null, "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7f0a8e558898>", "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7f0a8e558828>", "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7f0a8e560128>"}, "kl_coeff": 0.2, "num_envs_per_worker": 1, "monitor": false, "lr_schedule": null, "output_max_file_size": 67108864, "multiagent": {"policies_to_train": null, "policy_mapping_fn": null, "policy_graphs": {}}, "output_compress_columns": ["obs", "new_obs"], "straggler_mitigation": false, "env_config": {"run": "PPO", "flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"buf_length\": 1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.05,\n            \"eta3\": 0.0,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 5.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnv\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 600,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}"}, "env": "MultiWaveAttenuationMergePOEnv-v0_[eta1, eta2, eta3]:[1.0, 0.1, 0.0]_t_min:10.0_buf_len: 1", "batch_mode": "truncate_episodes", "log_level": "INFO", "simple_optimizer": false, "gamma": 0.99, "entropy_coeff": 0.0, "clip_actions": false, "num_cpus_per_worker": 1, "num_gpus": 0, "vf_loss_coeff": 1.0, "model": {"lstm_cell_size": 256, "conv_activation": "relu", "conv_filters": null, "channel_major": false, "fcnet_hiddens": [128, 64, 32], "max_seq_len": 20, "custom_preprocessor": null, "free_log_std": false, "dim": 84, "custom_options": {}, "squash_to_range": false, "fcnet_activation": "tanh", "framestack": true, "zero_mean": true, "grayscale": false, "use_lstm": false, "custom_model": null, "lstm_use_prev_action_reward": false}, "num_cpus_for_driver": 1, "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "lr": 0.0005, "output": null, "num_gpus_per_worker": 0, "sgd_minibatch_size": 128, "preprocessor_pref": "deepmind", "clip_param": 0.3, "sample_async": false, "custom_resources_per_worker": {}, "use_gae": true, "clip_rewards": null}, "num_metric_batches_dropped": 0, "node_ip": "10.138.0.2", "time_total_s": 961.0389404296875, "episodes_this_iter": 31, "timestamp": 1558327732, "episode_reward_max": 906.5124120933649, "info": {"load_time_ms": 7.47, "default": {"vf_loss": 18.77420997619629, "total_loss": 18.769367218017578, "entropy": 1.3579115867614746, "policy_loss": -0.006920753046870232, "cur_kl_coeff": 0.20000003278255463, "vf_explained_var": 0.7152070999145508, "cur_lr": 0.0005000000237487257, "kl": 0.01039111241698265}, "num_steps_trained": 1236493, "grad_time_ms": 15580.921, "num_steps_sampled": 1236493, "sample_time_ms": 28999.448, "update_time_ms": 8.492}, "time_since_restore": 961.0389404296875, "timesteps_total": 1236493, "episode_len_mean": 695.02, "episodes_total": 614, "training_iteration": 21, "episode_reward_mean": 779.5830193923865, "hostname": "flow-main", "experiment_id": "24525fc6f3cc408296359cca36b844c9", "done": false, "time_this_iter_s": 44.78040432929993, "iterations_since_restore": 21, "date": "2019-05-20_04-48-52", "timesteps_since_restore": 1236493, "timesteps_this_iter": 54827, "custom_metrics": {"system_level_velocity_min": 9.25946839979531, "outflow_rate_max": 1141.4298877704036, "cost1_mean": 353.13946324110924, "outflow_rate_mean": 1025.8882114400012, "cost1_min": 116.91867440035008, "cost2_min": -142.58814629480028, "cost1_max": 410.0952097122542, "outflow_rate_min": 772.3517847788663, "cost2_max": -41.59167077304379, "cost2_mean": -93.72362883818816, "system_level_velocity_max": 15.671399520870581, "system_level_velocity_mean": 13.488376296054614}, "pid": 277, "episode_reward_min": 275.6467323730723, "policy_reward_mean": {}}
{"config": {"num_sgd_iter": 10, "compress_observations": false, "input_evaluation": null, "vf_share_layers": false, "horizon": 1500, "num_workers": 20, "lambda": 0.97, "synchronize_filters": true, "vf_clip_param": 1000000.0, "optimizer": {}, "collect_metrics_timeout": 180, "tf_session_args": {"intra_op_parallelism_threads": 2, "device_count": {"CPU": 1}, "log_device_placement": false, "gpu_options": {"allow_growth": true}, "inter_op_parallelism_threads": 2, "allow_soft_placement": true}, "sample_batch_size": 750, "train_batch_size": 30000, "observation_filter": "MeanStdFilter", "input": "sampler", "kl_target": 0.01, "callbacks": {"on_train_result": null, "on_sample_end": null, "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7f0a8e560a20>", "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7f0a8e560240>", "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7f0a8e560278>"}, "kl_coeff": 0.2, "num_envs_per_worker": 1, "monitor": false, "lr_schedule": null, "output_max_file_size": 67108864, "multiagent": {"policies_to_train": null, "policy_mapping_fn": null, "policy_graphs": {}}, "output_compress_columns": ["obs", "new_obs"], "straggler_mitigation": false, "env_config": {"run": "PPO", "flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"buf_length\": 1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.05,\n            \"eta3\": 0.0,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 5.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnv\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 600,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}"}, "env": "MultiWaveAttenuationMergePOEnv-v0_[eta1, eta2, eta3]:[1.0, 0.1, 0.0]_t_min:10.0_buf_len: 1", "batch_mode": "truncate_episodes", "log_level": "INFO", "simple_optimizer": false, "gamma": 0.99, "entropy_coeff": 0.0, "clip_actions": false, "num_cpus_per_worker": 1, "num_gpus": 0, "vf_loss_coeff": 1.0, "model": {"lstm_cell_size": 256, "conv_activation": "relu", "conv_filters": null, "channel_major": false, "fcnet_hiddens": [128, 64, 32], "max_seq_len": 20, "custom_preprocessor": null, "free_log_std": false, "dim": 84, "custom_options": {}, "squash_to_range": false, "fcnet_activation": "tanh", "framestack": true, "zero_mean": true, "grayscale": false, "use_lstm": false, "custom_model": null, "lstm_use_prev_action_reward": false}, "num_cpus_for_driver": 1, "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "lr": 0.0005, "output": null, "num_gpus_per_worker": 0, "sgd_minibatch_size": 128, "preprocessor_pref": "deepmind", "clip_param": 0.3, "sample_async": false, "custom_resources_per_worker": {}, "use_gae": true, "clip_rewards": null}, "num_metric_batches_dropped": 0, "node_ip": "10.138.0.2", "time_total_s": 1003.7202062606812, "episodes_this_iter": 30, "timestamp": 1558327774, "episode_reward_max": 906.5124120933649, "info": {"load_time_ms": 7.121, "default": {"vf_loss": 19.483234405517578, "total_loss": 19.47821044921875, "entropy": 1.3429375886917114, "policy_loss": -0.007198772858828306, "cur_kl_coeff": 0.20000003278255463, "vf_explained_var": 0.6920280456542969, "cur_lr": 0.0005000000237487257, "kl": 0.010867251083254814}, "num_steps_trained": 1289047, "grad_time_ms": 15511.111, "num_steps_sampled": 1289047, "sample_time_ms": 28915.537, "update_time_ms": 8.615}, "time_since_restore": 1003.7202062606812, "timesteps_total": 1289047, "episode_len_mean": 695.02, "episodes_total": 644, "training_iteration": 22, "episode_reward_mean": 787.3261201003573, "hostname": "flow-main", "experiment_id": "24525fc6f3cc408296359cca36b844c9", "done": false, "time_this_iter_s": 42.68126583099365, "iterations_since_restore": 22, "date": "2019-05-20_04-49-34", "timesteps_since_restore": 1289047, "timesteps_this_iter": 52554, "custom_metrics": {"system_level_velocity_min": 9.25946839979531, "outflow_rate_max": 1133.125539470245, "cost1_mean": 360.33581786054486, "outflow_rate_mean": 1036.807080893106, "cost1_min": 116.91867440035008, "cost2_min": -138.26126478256262, "cost1_max": 422.3410100722007, "outflow_rate_min": 772.3517847788663, "cost2_max": -41.59167077304379, "cost2_mean": -90.27811521636784, "system_level_velocity_max": 16.10066941134717, "system_level_velocity_mean": 13.775451838108765}, "pid": 277, "episode_reward_min": 275.6467323730723, "policy_reward_mean": {}}
{"config": {"num_sgd_iter": 10, "compress_observations": false, "input_evaluation": null, "vf_share_layers": false, "horizon": 1500, "num_workers": 20, "lambda": 0.97, "synchronize_filters": true, "vf_clip_param": 1000000.0, "optimizer": {}, "collect_metrics_timeout": 180, "tf_session_args": {"intra_op_parallelism_threads": 2, "device_count": {"CPU": 1}, "log_device_placement": false, "gpu_options": {"allow_growth": true}, "inter_op_parallelism_threads": 2, "allow_soft_placement": true}, "sample_batch_size": 750, "train_batch_size": 30000, "observation_filter": "MeanStdFilter", "input": "sampler", "kl_target": 0.01, "callbacks": {"on_train_result": null, "on_sample_end": null, "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7f0a8e56c940>", "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7f0a8e56cc18>", "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7f0a8e56cb38>"}, "kl_coeff": 0.2, "num_envs_per_worker": 1, "monitor": false, "lr_schedule": null, "output_max_file_size": 67108864, "multiagent": {"policies_to_train": null, "policy_mapping_fn": null, "policy_graphs": {}}, "output_compress_columns": ["obs", "new_obs"], "straggler_mitigation": false, "env_config": {"run": "PPO", "flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"buf_length\": 1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.05,\n            \"eta3\": 0.0,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 5.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnv\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 600,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}"}, "env": "MultiWaveAttenuationMergePOEnv-v0_[eta1, eta2, eta3]:[1.0, 0.1, 0.0]_t_min:10.0_buf_len: 1", "batch_mode": "truncate_episodes", "log_level": "INFO", "simple_optimizer": false, "gamma": 0.99, "entropy_coeff": 0.0, "clip_actions": false, "num_cpus_per_worker": 1, "num_gpus": 0, "vf_loss_coeff": 1.0, "model": {"lstm_cell_size": 256, "conv_activation": "relu", "conv_filters": null, "channel_major": false, "fcnet_hiddens": [128, 64, 32], "max_seq_len": 20, "custom_preprocessor": null, "free_log_std": false, "dim": 84, "custom_options": {}, "squash_to_range": false, "fcnet_activation": "tanh", "framestack": true, "zero_mean": true, "grayscale": false, "use_lstm": false, "custom_model": null, "lstm_use_prev_action_reward": false}, "num_cpus_for_driver": 1, "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "lr": 0.0005, "output": null, "num_gpus_per_worker": 0, "sgd_minibatch_size": 128, "preprocessor_pref": "deepmind", "clip_param": 0.3, "sample_async": false, "custom_resources_per_worker": {}, "use_gae": true, "clip_rewards": null}, "num_metric_batches_dropped": 0, "node_ip": "10.138.0.2", "time_total_s": 1044.9895913600922, "episodes_this_iter": 28, "timestamp": 1558327816, "episode_reward_max": 906.5124120933649, "info": {"load_time_ms": 6.608, "default": {"vf_loss": 22.321760177612305, "total_loss": 22.31583595275879, "entropy": 1.3473598957061768, "policy_loss": -0.008242393843829632, "cur_kl_coeff": 0.20000004768371582, "vf_explained_var": 0.5902577042579651, "cur_lr": 0.0005000000237487257, "kl": 0.011583580635488033}, "num_steps_trained": 1340817, "grad_time_ms": 15256.11, "num_steps_sampled": 1340817, "sample_time_ms": 28775.492, "update_time_ms": 8.672}, "time_since_restore": 1044.9895913600922, "timesteps_total": 1340817, "episode_len_mean": 700.0, "episodes_total": 672, "training_iteration": 23, "episode_reward_mean": 797.835157384462, "hostname": "flow-main", "experiment_id": "24525fc6f3cc408296359cca36b844c9", "done": false, "time_this_iter_s": 41.26938509941101, "iterations_since_restore": 23, "date": "2019-05-20_04-50-16", "timesteps_since_restore": 1340817, "timesteps_this_iter": 51770, "custom_metrics": {"system_level_velocity_min": 10.697772547240945, "outflow_rate_max": 1133.125539470245, "cost1_mean": 368.3108769317642, "outflow_rate_mean": 1045.186510445273, "cost1_min": 281.9327140878024, "cost2_min": -131.2683637664488, "cost1_max": 422.3410100722007, "outflow_rate_min": 889.0134329970393, "cost2_max": -57.25059722174069, "cost2_mean": -88.80137965903435, "system_level_velocity_max": 16.10066941134717, "system_level_velocity_mean": 13.982770668898532}, "pid": 277, "episode_reward_min": 638.7940256631706, "policy_reward_mean": {}}
{"config": {"num_sgd_iter": 10, "compress_observations": false, "input_evaluation": null, "vf_share_layers": false, "horizon": 1500, "num_workers": 20, "lambda": 0.97, "synchronize_filters": true, "vf_clip_param": 1000000.0, "optimizer": {}, "collect_metrics_timeout": 180, "tf_session_args": {"intra_op_parallelism_threads": 2, "device_count": {"CPU": 1}, "log_device_placement": false, "gpu_options": {"allow_growth": true}, "inter_op_parallelism_threads": 2, "allow_soft_placement": true}, "sample_batch_size": 750, "train_batch_size": 30000, "observation_filter": "MeanStdFilter", "input": "sampler", "kl_target": 0.01, "callbacks": {"on_train_result": null, "on_sample_end": null, "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7f0a8e5a63c8>", "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7f0a8e558048>", "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7f0a8e5a6240>"}, "kl_coeff": 0.2, "num_envs_per_worker": 1, "monitor": false, "lr_schedule": null, "output_max_file_size": 67108864, "multiagent": {"policies_to_train": null, "policy_mapping_fn": null, "policy_graphs": {}}, "output_compress_columns": ["obs", "new_obs"], "straggler_mitigation": false, "env_config": {"run": "PPO", "flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"buf_length\": 1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.05,\n            \"eta3\": 0.0,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 5.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnv\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 600,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}"}, "env": "MultiWaveAttenuationMergePOEnv-v0_[eta1, eta2, eta3]:[1.0, 0.1, 0.0]_t_min:10.0_buf_len: 1", "batch_mode": "truncate_episodes", "log_level": "INFO", "simple_optimizer": false, "gamma": 0.99, "entropy_coeff": 0.0, "clip_actions": false, "num_cpus_per_worker": 1, "num_gpus": 0, "vf_loss_coeff": 1.0, "model": {"lstm_cell_size": 256, "conv_activation": "relu", "conv_filters": null, "channel_major": false, "fcnet_hiddens": [128, 64, 32], "max_seq_len": 20, "custom_preprocessor": null, "free_log_std": false, "dim": 84, "custom_options": {}, "squash_to_range": false, "fcnet_activation": "tanh", "framestack": true, "zero_mean": true, "grayscale": false, "use_lstm": false, "custom_model": null, "lstm_use_prev_action_reward": false}, "num_cpus_for_driver": 1, "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "lr": 0.0005, "output": null, "num_gpus_per_worker": 0, "sgd_minibatch_size": 128, "preprocessor_pref": "deepmind", "clip_param": 0.3, "sample_async": false, "custom_resources_per_worker": {}, "use_gae": true, "clip_rewards": null}, "num_metric_batches_dropped": 0, "node_ip": "10.138.0.2", "time_total_s": 1088.3808567523956, "episodes_this_iter": 32, "timestamp": 1558327859, "episode_reward_max": 901.5443571011882, "info": {"load_time_ms": 6.303, "default": {"vf_loss": 23.297658920288086, "total_loss": 23.292354583740234, "entropy": 1.3445931673049927, "policy_loss": -0.00740192923694849, "cur_kl_coeff": 0.20000004768371582, "vf_explained_var": 0.6240766048431396, "cur_lr": 0.0005000000237487257, "kl": 0.010503747500479221}, "num_steps_trained": 1393890, "grad_time_ms": 14949.478, "num_steps_sampled": 1393890, "sample_time_ms": 28873.697, "update_time_ms": 8.491}, "time_since_restore": 1088.3808567523956, "timesteps_total": 1393890, "episode_len_mean": 700.0, "episodes_total": 704, "training_iteration": 24, "episode_reward_mean": 804.0606751511791, "hostname": "flow-main", "experiment_id": "24525fc6f3cc408296359cca36b844c9", "done": false, "time_this_iter_s": 43.39126539230347, "iterations_since_restore": 24, "date": "2019-05-20_04-50-59", "timesteps_since_restore": 1393890, "timesteps_this_iter": 53073, "custom_metrics": {"system_level_velocity_min": 11.007058996588306, "outflow_rate_max": 1145.2770771944445, "cost1_mean": 371.56097521821465, "outflow_rate_mean": 1045.1002250425852, "cost1_min": 288.6273091513108, "cost2_min": -126.29987035487144, "cost1_max": 422.3410100722007, "outflow_rate_min": 889.0134329970393, "cost2_max": -52.17334215021985, "cost2_mean": -85.3305296337268, "system_level_velocity_max": 16.10066941134717, "system_level_velocity_mean": 14.132345547012417}, "pid": 277, "episode_reward_min": 647.3736255857973, "policy_reward_mean": {}}
{"config": {"num_sgd_iter": 10, "compress_observations": false, "input_evaluation": null, "vf_share_layers": false, "horizon": 1500, "num_workers": 20, "lambda": 0.97, "synchronize_filters": true, "vf_clip_param": 1000000.0, "optimizer": {}, "collect_metrics_timeout": 180, "tf_session_args": {"intra_op_parallelism_threads": 2, "device_count": {"CPU": 1}, "log_device_placement": false, "gpu_options": {"allow_growth": true}, "inter_op_parallelism_threads": 2, "allow_soft_placement": true}, "sample_batch_size": 750, "train_batch_size": 30000, "observation_filter": "MeanStdFilter", "input": "sampler", "kl_target": 0.01, "callbacks": {"on_train_result": null, "on_sample_end": null, "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7f0a8e5d2ef0>", "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7f0a8e5d2828>", "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7f0a8e5d2a58>"}, "kl_coeff": 0.2, "num_envs_per_worker": 1, "monitor": false, "lr_schedule": null, "output_max_file_size": 67108864, "multiagent": {"policies_to_train": null, "policy_mapping_fn": null, "policy_graphs": {}}, "output_compress_columns": ["obs", "new_obs"], "straggler_mitigation": false, "env_config": {"run": "PPO", "flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"buf_length\": 1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.05,\n            \"eta3\": 0.0,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 5.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnv\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 600,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}"}, "env": "MultiWaveAttenuationMergePOEnv-v0_[eta1, eta2, eta3]:[1.0, 0.1, 0.0]_t_min:10.0_buf_len: 1", "batch_mode": "truncate_episodes", "log_level": "INFO", "simple_optimizer": false, "gamma": 0.99, "entropy_coeff": 0.0, "clip_actions": false, "num_cpus_per_worker": 1, "num_gpus": 0, "vf_loss_coeff": 1.0, "model": {"lstm_cell_size": 256, "conv_activation": "relu", "conv_filters": null, "channel_major": false, "fcnet_hiddens": [128, 64, 32], "max_seq_len": 20, "custom_preprocessor": null, "free_log_std": false, "dim": 84, "custom_options": {}, "squash_to_range": false, "fcnet_activation": "tanh", "framestack": true, "zero_mean": true, "grayscale": false, "use_lstm": false, "custom_model": null, "lstm_use_prev_action_reward": false}, "num_cpus_for_driver": 1, "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "lr": 0.0005, "output": null, "num_gpus_per_worker": 0, "sgd_minibatch_size": 128, "preprocessor_pref": "deepmind", "clip_param": 0.3, "sample_async": false, "custom_resources_per_worker": {}, "use_gae": true, "clip_rewards": null}, "num_metric_batches_dropped": 0, "node_ip": "10.138.0.2", "time_total_s": 1130.0301048755646, "episodes_this_iter": 30, "timestamp": 1558327901, "episode_reward_max": 901.5443571011882, "info": {"load_time_ms": 6.345, "default": {"vf_loss": 22.779111862182617, "total_loss": 22.77275276184082, "entropy": 1.3432819843292236, "policy_loss": -0.008807530626654625, "cur_kl_coeff": 0.20000003278255463, "vf_explained_var": 0.64349365234375, "cur_lr": 0.0005000000237487257, "kl": 0.012244858779013157}, "num_steps_trained": 1447055, "grad_time_ms": 14614.453, "num_steps_sampled": 1447055, "sample_time_ms": 28785.517, "update_time_ms": 8.438}, "time_since_restore": 1130.0301048755646, "timesteps_total": 1447055, "episode_len_mean": 693.33, "episodes_total": 734, "training_iteration": 25, "episode_reward_mean": 799.8911709300186, "hostname": "flow-main", "experiment_id": "24525fc6f3cc408296359cca36b844c9", "done": false, "time_this_iter_s": 41.649248123168945, "iterations_since_restore": 25, "date": "2019-05-20_04-51-41", "timesteps_since_restore": 1447055, "timesteps_this_iter": 53165, "custom_metrics": {"system_level_velocity_min": 11.007058996588306, "outflow_rate_max": 1145.2770771944445, "cost1_mean": 369.78942870444627, "outflow_rate_mean": 1039.8563144125212, "cost1_min": 22.00103454360198, "cost2_min": -133.22011965479163, "cost1_max": 415.09705288391996, "outflow_rate_min": 500.73415127394753, "cost2_max": -20.356169269758258, "cost2_mean": -83.57894933364051, "system_level_velocity_max": 18.16987734336381, "system_level_velocity_mean": 14.25790757641333}, "pid": 277, "episode_reward_min": 39.7946702871006, "policy_reward_mean": {}}
{"config": {"num_sgd_iter": 10, "compress_observations": false, "input_evaluation": null, "vf_share_layers": false, "horizon": 1500, "num_workers": 20, "lambda": 0.97, "synchronize_filters": true, "vf_clip_param": 1000000.0, "optimizer": {}, "collect_metrics_timeout": 180, "tf_session_args": {"intra_op_parallelism_threads": 2, "device_count": {"CPU": 1}, "log_device_placement": false, "gpu_options": {"allow_growth": true}, "inter_op_parallelism_threads": 2, "allow_soft_placement": true}, "sample_batch_size": 750, "train_batch_size": 30000, "observation_filter": "MeanStdFilter", "input": "sampler", "kl_target": 0.01, "callbacks": {"on_train_result": null, "on_sample_end": null, "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7f0a8e5605f8>", "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7f0a8e560da0>", "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7f0a8e560e10>"}, "kl_coeff": 0.2, "num_envs_per_worker": 1, "monitor": false, "lr_schedule": null, "output_max_file_size": 67108864, "multiagent": {"policies_to_train": null, "policy_mapping_fn": null, "policy_graphs": {}}, "output_compress_columns": ["obs", "new_obs"], "straggler_mitigation": false, "env_config": {"run": "PPO", "flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"buf_length\": 1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.05,\n            \"eta3\": 0.0,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 5.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnv\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 600,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}"}, "env": "MultiWaveAttenuationMergePOEnv-v0_[eta1, eta2, eta3]:[1.0, 0.1, 0.0]_t_min:10.0_buf_len: 1", "batch_mode": "truncate_episodes", "log_level": "INFO", "simple_optimizer": false, "gamma": 0.99, "entropy_coeff": 0.0, "clip_actions": false, "num_cpus_per_worker": 1, "num_gpus": 0, "vf_loss_coeff": 1.0, "model": {"lstm_cell_size": 256, "conv_activation": "relu", "conv_filters": null, "channel_major": false, "fcnet_hiddens": [128, 64, 32], "max_seq_len": 20, "custom_preprocessor": null, "free_log_std": false, "dim": 84, "custom_options": {}, "squash_to_range": false, "fcnet_activation": "tanh", "framestack": true, "zero_mean": true, "grayscale": false, "use_lstm": false, "custom_model": null, "lstm_use_prev_action_reward": false}, "num_cpus_for_driver": 1, "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "lr": 0.0005, "output": null, "num_gpus_per_worker": 0, "sgd_minibatch_size": 128, "preprocessor_pref": "deepmind", "clip_param": 0.3, "sample_async": false, "custom_resources_per_worker": {}, "use_gae": true, "clip_rewards": null}, "num_metric_batches_dropped": 0, "node_ip": "10.138.0.2", "time_total_s": 1170.3695175647736, "episodes_this_iter": 29, "timestamp": 1558327941, "episode_reward_max": 917.1798739045432, "info": {"load_time_ms": 5.98, "default": {"vf_loss": 19.98819351196289, "total_loss": 19.980249404907227, "entropy": 1.3361190557479858, "policy_loss": -0.010840575210750103, "cur_kl_coeff": 0.20000003278255463, "vf_explained_var": 0.6865800023078918, "cur_lr": 0.0005000000237487257, "kl": 0.014487269334495068}, "num_steps_trained": 1499341, "grad_time_ms": 14500.31, "num_steps_sampled": 1499341, "sample_time_ms": 28273.912, "update_time_ms": 8.359}, "time_since_restore": 1170.3695175647736, "timesteps_total": 1499341, "episode_len_mean": 693.33, "episodes_total": 763, "training_iteration": 26, "episode_reward_mean": 799.1842361848609, "hostname": "flow-main", "experiment_id": "24525fc6f3cc408296359cca36b844c9", "done": false, "time_this_iter_s": 40.339412689208984, "iterations_since_restore": 26, "date": "2019-05-20_04-52-21", "timesteps_since_restore": 1499341, "timesteps_this_iter": 52286, "custom_metrics": {"system_level_velocity_min": 11.059017847373992, "outflow_rate_max": 1145.2770771944445, "cost1_mean": 372.05817863590823, "outflow_rate_mean": 1046.6176125627103, "cost1_min": 22.00103454360198, "cost2_min": -134.38205624940562, "cost1_max": 422.49532194177624, "outflow_rate_min": 500.73415127394753, "cost2_max": -20.356169269758258, "cost2_mean": -85.7240718240447, "system_level_velocity_max": 18.16987734336381, "system_level_velocity_mean": 14.344426728348108}, "pid": 277, "episode_reward_min": 39.7946702871006, "policy_reward_mean": {}}
{"config": {"num_sgd_iter": 10, "compress_observations": false, "input_evaluation": null, "vf_share_layers": false, "horizon": 1500, "num_workers": 20, "lambda": 0.97, "synchronize_filters": true, "vf_clip_param": 1000000.0, "optimizer": {}, "collect_metrics_timeout": 180, "tf_session_args": {"intra_op_parallelism_threads": 2, "device_count": {"CPU": 1}, "log_device_placement": false, "gpu_options": {"allow_growth": true}, "inter_op_parallelism_threads": 2, "allow_soft_placement": true}, "sample_batch_size": 750, "train_batch_size": 30000, "observation_filter": "MeanStdFilter", "input": "sampler", "kl_target": 0.01, "callbacks": {"on_train_result": null, "on_sample_end": null, "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7f0a8e56c080>", "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7f0a8e56ceb8>", "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7f0a8e56cb38>"}, "kl_coeff": 0.2, "num_envs_per_worker": 1, "monitor": false, "lr_schedule": null, "output_max_file_size": 67108864, "multiagent": {"policies_to_train": null, "policy_mapping_fn": null, "policy_graphs": {}}, "output_compress_columns": ["obs", "new_obs"], "straggler_mitigation": false, "env_config": {"run": "PPO", "flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"buf_length\": 1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.05,\n            \"eta3\": 0.0,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 5.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnv\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 600,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}"}, "env": "MultiWaveAttenuationMergePOEnv-v0_[eta1, eta2, eta3]:[1.0, 0.1, 0.0]_t_min:10.0_buf_len: 1", "batch_mode": "truncate_episodes", "log_level": "INFO", "simple_optimizer": false, "gamma": 0.99, "entropy_coeff": 0.0, "clip_actions": false, "num_cpus_per_worker": 1, "num_gpus": 0, "vf_loss_coeff": 1.0, "model": {"lstm_cell_size": 256, "conv_activation": "relu", "conv_filters": null, "channel_major": false, "fcnet_hiddens": [128, 64, 32], "max_seq_len": 20, "custom_preprocessor": null, "free_log_std": false, "dim": 84, "custom_options": {}, "squash_to_range": false, "fcnet_activation": "tanh", "framestack": true, "zero_mean": true, "grayscale": false, "use_lstm": false, "custom_model": null, "lstm_use_prev_action_reward": false}, "num_cpus_for_driver": 1, "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "lr": 0.0005, "output": null, "num_gpus_per_worker": 0, "sgd_minibatch_size": 128, "preprocessor_pref": "deepmind", "clip_param": 0.3, "sample_async": false, "custom_resources_per_worker": {}, "use_gae": true, "clip_rewards": null}, "num_metric_batches_dropped": 0, "node_ip": "10.138.0.2", "time_total_s": 1212.9243378639221, "episodes_this_iter": 29, "timestamp": 1558327984, "episode_reward_max": 917.1798739045432, "info": {"load_time_ms": 6.058, "default": {"vf_loss": 22.734006881713867, "total_loss": 22.727060317993164, "entropy": 1.341732382774353, "policy_loss": -0.009956707246601582, "cur_kl_coeff": 0.20000001788139343, "vf_explained_var": 0.6476748585700989, "cur_lr": 0.0005000000237487257, "kl": 0.015058265998959541}, "num_steps_trained": 1553702, "grad_time_ms": 14451.902, "num_steps_sampled": 1553702, "sample_time_ms": 28208.697, "update_time_ms": 8.515}, "time_since_restore": 1212.9243378639221, "timesteps_total": 1553702, "episode_len_mean": 693.33, "episodes_total": 792, "training_iteration": 27, "episode_reward_mean": 801.937814461353, "hostname": "flow-main", "experiment_id": "24525fc6f3cc408296359cca36b844c9", "done": false, "time_this_iter_s": 42.55482029914856, "iterations_since_restore": 27, "date": "2019-05-20_04-53-04", "timesteps_since_restore": 1553702, "timesteps_this_iter": 54361, "custom_metrics": {"system_level_velocity_min": 11.349027348177628, "outflow_rate_max": 1155.1742860059635, "cost1_mean": 372.52714092253984, "outflow_rate_mean": 1051.1006056609344, "cost1_min": 22.00103454360198, "cost2_min": -141.08504276450537, "cost1_max": 429.00191964087844, "outflow_rate_min": 500.73415127394753, "cost2_max": -20.356169269758258, "cost2_mean": -89.79791039791995, "system_level_velocity_max": 18.16987734336381, "system_level_velocity_mean": 14.354547909161717}, "pid": 277, "episode_reward_min": 39.7946702871006, "policy_reward_mean": {}}
{"config": {"num_sgd_iter": 10, "compress_observations": false, "input_evaluation": null, "vf_share_layers": false, "horizon": 1500, "num_workers": 20, "lambda": 0.97, "synchronize_filters": true, "vf_clip_param": 1000000.0, "optimizer": {}, "collect_metrics_timeout": 180, "tf_session_args": {"intra_op_parallelism_threads": 2, "device_count": {"CPU": 1}, "log_device_placement": false, "gpu_options": {"allow_growth": true}, "inter_op_parallelism_threads": 2, "allow_soft_placement": true}, "sample_batch_size": 750, "train_batch_size": 30000, "observation_filter": "MeanStdFilter", "input": "sampler", "kl_target": 0.01, "callbacks": {"on_train_result": null, "on_sample_end": null, "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7f0a8e57a438>", "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7f0a8e57a550>", "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7f0a8e57a080>"}, "kl_coeff": 0.2, "num_envs_per_worker": 1, "monitor": false, "lr_schedule": null, "output_max_file_size": 67108864, "multiagent": {"policies_to_train": null, "policy_mapping_fn": null, "policy_graphs": {}}, "output_compress_columns": ["obs", "new_obs"], "straggler_mitigation": false, "env_config": {"run": "PPO", "flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"buf_length\": 1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.05,\n            \"eta3\": 0.0,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 5.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnv\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 600,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}"}, "env": "MultiWaveAttenuationMergePOEnv-v0_[eta1, eta2, eta3]:[1.0, 0.1, 0.0]_t_min:10.0_buf_len: 1", "batch_mode": "truncate_episodes", "log_level": "INFO", "simple_optimizer": false, "gamma": 0.99, "entropy_coeff": 0.0, "clip_actions": false, "num_cpus_per_worker": 1, "num_gpus": 0, "vf_loss_coeff": 1.0, "model": {"lstm_cell_size": 256, "conv_activation": "relu", "conv_filters": null, "channel_major": false, "fcnet_hiddens": [128, 64, 32], "max_seq_len": 20, "custom_preprocessor": null, "free_log_std": false, "dim": 84, "custom_options": {}, "squash_to_range": false, "fcnet_activation": "tanh", "framestack": true, "zero_mean": true, "grayscale": false, "use_lstm": false, "custom_model": null, "lstm_use_prev_action_reward": false}, "num_cpus_for_driver": 1, "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "lr": 0.0005, "output": null, "num_gpus_per_worker": 0, "sgd_minibatch_size": 128, "preprocessor_pref": "deepmind", "clip_param": 0.3, "sample_async": false, "custom_resources_per_worker": {}, "use_gae": true, "clip_rewards": null}, "num_metric_batches_dropped": 0, "node_ip": "10.138.0.2", "time_total_s": 1252.995736837387, "episodes_this_iter": 28, "timestamp": 1558328024, "episode_reward_max": 932.0012409744929, "info": {"load_time_ms": 5.906, "default": {"vf_loss": 22.10515594482422, "total_loss": 22.097122192382812, "entropy": 1.346824049949646, "policy_loss": -0.011006832122802734, "cur_kl_coeff": 0.20000004768371582, "vf_explained_var": 0.6739438772201538, "cur_lr": 0.0005000000237487257, "kl": 0.014855406247079372}, "num_steps_trained": 1605285, "grad_time_ms": 14353.08, "num_steps_sampled": 1605285, "sample_time_ms": 27983.78, "update_time_ms": 8.742}, "time_since_restore": 1252.995736837387, "timesteps_total": 1605285, "episode_len_mean": 700.0, "episodes_total": 820, "training_iteration": 28, "episode_reward_mean": 809.8082077675376, "hostname": "flow-main", "experiment_id": "24525fc6f3cc408296359cca36b844c9", "done": false, "time_this_iter_s": 40.071398973464966, "iterations_since_restore": 28, "date": "2019-05-20_04-53-44", "timesteps_since_restore": 1605285, "timesteps_this_iter": 51583, "custom_metrics": {"system_level_velocity_min": 10.139836816222575, "outflow_rate_max": 1155.1742860059635, "cost1_mean": 377.81828376262024, "outflow_rate_mean": 1059.0648405708027, "cost1_min": 268.30948067382064, "cost2_min": -141.08504276450537, "cost1_max": 429.00191964087844, "outflow_rate_min": 893.6218372836531, "cost2_max": -54.14338263804893, "cost2_mean": -92.78029536092, "system_level_velocity_max": 16.288173123382204, "system_level_velocity_mean": 14.372434399369617}, "pid": 277, "episode_reward_min": 628.8570574107689, "policy_reward_mean": {}}
{"config": {"num_sgd_iter": 10, "compress_observations": false, "input_evaluation": null, "vf_share_layers": false, "horizon": 1500, "num_workers": 20, "lambda": 0.97, "synchronize_filters": true, "vf_clip_param": 1000000.0, "optimizer": {}, "collect_metrics_timeout": 180, "tf_session_args": {"intra_op_parallelism_threads": 2, "device_count": {"CPU": 1}, "log_device_placement": false, "gpu_options": {"allow_growth": true}, "inter_op_parallelism_threads": 2, "allow_soft_placement": true}, "sample_batch_size": 750, "train_batch_size": 30000, "observation_filter": "MeanStdFilter", "input": "sampler", "kl_target": 0.01, "callbacks": {"on_train_result": null, "on_sample_end": null, "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7f0a8e560cf8>", "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7f0a8e560da0>", "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7f0a8e5602b0>"}, "kl_coeff": 0.2, "num_envs_per_worker": 1, "monitor": false, "lr_schedule": null, "output_max_file_size": 67108864, "multiagent": {"policies_to_train": null, "policy_mapping_fn": null, "policy_graphs": {}}, "output_compress_columns": ["obs", "new_obs"], "straggler_mitigation": false, "env_config": {"run": "PPO", "flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"buf_length\": 1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.05,\n            \"eta3\": 0.0,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 5.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnv\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 600,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}"}, "env": "MultiWaveAttenuationMergePOEnv-v0_[eta1, eta2, eta3]:[1.0, 0.1, 0.0]_t_min:10.0_buf_len: 1", "batch_mode": "truncate_episodes", "log_level": "INFO", "simple_optimizer": false, "gamma": 0.99, "entropy_coeff": 0.0, "clip_actions": false, "num_cpus_per_worker": 1, "num_gpus": 0, "vf_loss_coeff": 1.0, "model": {"lstm_cell_size": 256, "conv_activation": "relu", "conv_filters": null, "channel_major": false, "fcnet_hiddens": [128, 64, 32], "max_seq_len": 20, "custom_preprocessor": null, "free_log_std": false, "dim": 84, "custom_options": {}, "squash_to_range": false, "fcnet_activation": "tanh", "framestack": true, "zero_mean": true, "grayscale": false, "use_lstm": false, "custom_model": null, "lstm_use_prev_action_reward": false}, "num_cpus_for_driver": 1, "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "lr": 0.0005, "output": null, "num_gpus_per_worker": 0, "sgd_minibatch_size": 128, "preprocessor_pref": "deepmind", "clip_param": 0.3, "sample_async": false, "custom_resources_per_worker": {}, "use_gae": true, "clip_rewards": null}, "num_metric_batches_dropped": 0, "node_ip": "10.138.0.2", "time_total_s": 1293.658417224884, "episodes_this_iter": 34, "timestamp": 1558328065, "episode_reward_max": 937.7025759207055, "info": {"load_time_ms": 6.048, "default": {"vf_loss": 28.543428421020508, "total_loss": 28.536367416381836, "entropy": 1.34138822555542, "policy_loss": -0.009988145902752876, "cur_kl_coeff": 0.20000003278255463, "vf_explained_var": 0.6123340725898743, "cur_lr": 0.0005000000237487257, "kl": 0.014616776257753372}, "num_steps_trained": 1655953, "grad_time_ms": 14073.328, "num_steps_sampled": 1655953, "sample_time_ms": 28044.331, "update_time_ms": 8.598}, "time_since_restore": 1293.658417224884, "timesteps_total": 1655953, "episode_len_mean": 698.47, "episodes_total": 854, "training_iteration": 29, "episode_reward_mean": 803.6750533020921, "hostname": "flow-main", "experiment_id": "24525fc6f3cc408296359cca36b844c9", "done": false, "time_this_iter_s": 40.66268038749695, "iterations_since_restore": 29, "date": "2019-05-20_04-54-25", "timesteps_since_restore": 1655953, "timesteps_this_iter": 50668, "custom_metrics": {"system_level_velocity_min": 10.139836816222575, "outflow_rate_max": 1155.1742860059635, "cost1_mean": 379.7126145134144, "outflow_rate_mean": 1041.8397783611042, "cost1_min": 268.30948067382064, "cost2_min": -141.08504276450537, "cost1_max": 429.00191964087844, "outflow_rate_min": 780.5280603130847, "cost2_max": -43.46857660908136, "cost2_mean": -88.29066817532734, "system_level_velocity_max": 16.694619463942207, "system_level_velocity_mean": 14.5177175538139}, "pid": 277, "episode_reward_min": 642.3141600105197, "policy_reward_mean": {}}
{"config": {"num_sgd_iter": 10, "compress_observations": false, "input_evaluation": null, "vf_share_layers": false, "horizon": 1500, "num_workers": 20, "lambda": 0.97, "synchronize_filters": true, "vf_clip_param": 1000000.0, "optimizer": {}, "collect_metrics_timeout": 180, "tf_session_args": {"intra_op_parallelism_threads": 2, "device_count": {"CPU": 1}, "log_device_placement": false, "gpu_options": {"allow_growth": true}, "inter_op_parallelism_threads": 2, "allow_soft_placement": true}, "sample_batch_size": 750, "train_batch_size": 30000, "observation_filter": "MeanStdFilter", "input": "sampler", "kl_target": 0.01, "callbacks": {"on_train_result": null, "on_sample_end": null, "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7f0a8e56ccc0>", "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7f0a8e56ca20>", "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7f0a8e56c438>"}, "kl_coeff": 0.2, "num_envs_per_worker": 1, "monitor": false, "lr_schedule": null, "output_max_file_size": 67108864, "multiagent": {"policies_to_train": null, "policy_mapping_fn": null, "policy_graphs": {}}, "output_compress_columns": ["obs", "new_obs"], "straggler_mitigation": false, "env_config": {"run": "PPO", "flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"buf_length\": 1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.05,\n            \"eta3\": 0.0,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 5.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnv\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 600,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}"}, "env": "MultiWaveAttenuationMergePOEnv-v0_[eta1, eta2, eta3]:[1.0, 0.1, 0.0]_t_min:10.0_buf_len: 1", "batch_mode": "truncate_episodes", "log_level": "INFO", "simple_optimizer": false, "gamma": 0.99, "entropy_coeff": 0.0, "clip_actions": false, "num_cpus_per_worker": 1, "num_gpus": 0, "vf_loss_coeff": 1.0, "model": {"lstm_cell_size": 256, "conv_activation": "relu", "conv_filters": null, "channel_major": false, "fcnet_hiddens": [128, 64, 32], "max_seq_len": 20, "custom_preprocessor": null, "free_log_std": false, "dim": 84, "custom_options": {}, "squash_to_range": false, "fcnet_activation": "tanh", "framestack": true, "zero_mean": true, "grayscale": false, "use_lstm": false, "custom_model": null, "lstm_use_prev_action_reward": false}, "num_cpus_for_driver": 1, "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "lr": 0.0005, "output": null, "num_gpus_per_worker": 0, "sgd_minibatch_size": 128, "preprocessor_pref": "deepmind", "clip_param": 0.3, "sample_async": false, "custom_resources_per_worker": {}, "use_gae": true, "clip_rewards": null}, "num_metric_batches_dropped": 0, "node_ip": "10.138.0.2", "time_total_s": 1332.8515830039978, "episodes_this_iter": 33, "timestamp": 1558328104, "episode_reward_max": 937.7025759207055, "info": {"load_time_ms": 5.923, "default": {"vf_loss": 29.630359649658203, "total_loss": 29.623443603515625, "entropy": 1.3491613864898682, "policy_loss": -0.009569594636559486, "cur_kl_coeff": 0.20000004768371582, "vf_explained_var": 0.4391009509563446, "cur_lr": 0.0005000000237487257, "kl": 0.01326773315668106}, "num_steps_trained": 1707719, "grad_time_ms": 13613.973, "num_steps_sampled": 1707719, "sample_time_ms": 27925.022, "update_time_ms": 8.446}, "time_since_restore": 1332.8515830039978, "timesteps_total": 1707719, "episode_len_mean": 698.47, "episodes_total": 887, "training_iteration": 30, "episode_reward_mean": 815.7436170033714, "hostname": "flow-main", "experiment_id": "24525fc6f3cc408296359cca36b844c9", "done": false, "time_this_iter_s": 39.19316577911377, "iterations_since_restore": 30, "date": "2019-05-20_04-55-04", "timesteps_since_restore": 1707719, "timesteps_this_iter": 51766, "custom_metrics": {"system_level_velocity_min": 10.139836816222575, "outflow_rate_max": 1164.6962486500886, "cost1_mean": 384.3982676009401, "outflow_rate_mean": 1038.4184147501896, "cost1_min": 268.30948067382064, "cost2_min": -128.4238739286425, "cost1_max": 428.3934389335552, "outflow_rate_min": 780.5280603130847, "cost2_max": -43.46857660908136, "cost2_mean": -81.69800838387526, "system_level_velocity_max": 16.694619463942207, "system_level_velocity_mean": 14.713619177053426}, "pid": 277, "episode_reward_min": 660.8845207319939, "policy_reward_mean": {}}
{"config": {"num_sgd_iter": 10, "compress_observations": false, "input_evaluation": null, "vf_share_layers": false, "horizon": 1500, "num_workers": 20, "lambda": 0.97, "synchronize_filters": true, "vf_clip_param": 1000000.0, "optimizer": {}, "collect_metrics_timeout": 180, "tf_session_args": {"intra_op_parallelism_threads": 2, "device_count": {"CPU": 1}, "log_device_placement": false, "gpu_options": {"allow_growth": true}, "inter_op_parallelism_threads": 2, "allow_soft_placement": true}, "sample_batch_size": 750, "train_batch_size": 30000, "observation_filter": "MeanStdFilter", "input": "sampler", "kl_target": 0.01, "callbacks": {"on_train_result": null, "on_sample_end": null, "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7f0a8e57a438>", "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7f0a8e57a4a8>", "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7f0a8e57a128>"}, "kl_coeff": 0.2, "num_envs_per_worker": 1, "monitor": false, "lr_schedule": null, "output_max_file_size": 67108864, "multiagent": {"policies_to_train": null, "policy_mapping_fn": null, "policy_graphs": {}}, "output_compress_columns": ["obs", "new_obs"], "straggler_mitigation": false, "env_config": {"run": "PPO", "flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"buf_length\": 1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.05,\n            \"eta3\": 0.0,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 5.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnv\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 600,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}"}, "env": "MultiWaveAttenuationMergePOEnv-v0_[eta1, eta2, eta3]:[1.0, 0.1, 0.0]_t_min:10.0_buf_len: 1", "batch_mode": "truncate_episodes", "log_level": "INFO", "simple_optimizer": false, "gamma": 0.99, "entropy_coeff": 0.0, "clip_actions": false, "num_cpus_per_worker": 1, "num_gpus": 0, "vf_loss_coeff": 1.0, "model": {"lstm_cell_size": 256, "conv_activation": "relu", "conv_filters": null, "channel_major": false, "fcnet_hiddens": [128, 64, 32], "max_seq_len": 20, "custom_preprocessor": null, "free_log_std": false, "dim": 84, "custom_options": {}, "squash_to_range": false, "fcnet_activation": "tanh", "framestack": true, "zero_mean": true, "grayscale": false, "use_lstm": false, "custom_model": null, "lstm_use_prev_action_reward": false}, "num_cpus_for_driver": 1, "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "lr": 0.0005, "output": null, "num_gpus_per_worker": 0, "sgd_minibatch_size": 128, "preprocessor_pref": "deepmind", "clip_param": 0.3, "sample_async": false, "custom_resources_per_worker": {}, "use_gae": true, "clip_rewards": null}, "num_metric_batches_dropped": 0, "node_ip": "10.138.0.2", "time_total_s": 1374.0127003192902, "episodes_this_iter": 29, "timestamp": 1558328145, "episode_reward_max": 937.7025759207055, "info": {"load_time_ms": 5.779, "default": {"vf_loss": 22.960235595703125, "total_loss": 22.952863693237305, "entropy": 1.3527055978775024, "policy_loss": -0.01041816733777523, "cur_kl_coeff": 0.20000004768371582, "vf_explained_var": 0.653188169002533, "cur_lr": 0.0005000000237487257, "kl": 0.015224875882267952}, "num_steps_trained": 1759509, "grad_time_ms": 13335.051, "num_steps_sampled": 1759509, "sample_time_ms": 27845.278, "update_time_ms": 8.242}, "time_since_restore": 1374.0127003192902, "timesteps_total": 1759509, "episode_len_mean": 698.47, "episodes_total": 916, "training_iteration": 31, "episode_reward_mean": 811.2914941246443, "hostname": "flow-main", "experiment_id": "24525fc6f3cc408296359cca36b844c9", "done": false, "time_this_iter_s": 41.16111731529236, "iterations_since_restore": 31, "date": "2019-05-20_04-55-45", "timesteps_since_restore": 1759509, "timesteps_this_iter": 51790, "custom_metrics": {"system_level_velocity_min": 10.657703525772096, "outflow_rate_max": 1164.6962486500886, "cost1_mean": 383.5703143176597, "outflow_rate_mean": 1033.6508791712308, "cost1_min": 278.5834469510738, "cost2_min": -122.4704053155548, "cost1_max": 434.3470176343571, "outflow_rate_min": 780.5280603130847, "cost2_max": -43.46857660908136, "cost2_mean": -79.37981334651514, "system_level_velocity_max": 16.694619463942207, "system_level_velocity_mean": 14.681644671548026}, "pid": 277, "episode_reward_min": 640.4113394478379, "policy_reward_mean": {}}
{"config": {"num_sgd_iter": 10, "compress_observations": false, "input_evaluation": null, "vf_share_layers": false, "horizon": 1500, "num_workers": 20, "lambda": 0.97, "synchronize_filters": true, "vf_clip_param": 1000000.0, "optimizer": {}, "collect_metrics_timeout": 180, "tf_session_args": {"intra_op_parallelism_threads": 2, "device_count": {"CPU": 1}, "log_device_placement": false, "gpu_options": {"allow_growth": true}, "inter_op_parallelism_threads": 2, "allow_soft_placement": true}, "sample_batch_size": 750, "train_batch_size": 30000, "observation_filter": "MeanStdFilter", "input": "sampler", "kl_target": 0.01, "callbacks": {"on_train_result": null, "on_sample_end": null, "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7f0a8e560f28>", "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7f0a8e560320>", "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7f0a8e5604a8>"}, "kl_coeff": 0.2, "num_envs_per_worker": 1, "monitor": false, "lr_schedule": null, "output_max_file_size": 67108864, "multiagent": {"policies_to_train": null, "policy_mapping_fn": null, "policy_graphs": {}}, "output_compress_columns": ["obs", "new_obs"], "straggler_mitigation": false, "env_config": {"run": "PPO", "flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"buf_length\": 1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.05,\n            \"eta3\": 0.0,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 5.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnv\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 600,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}"}, "env": "MultiWaveAttenuationMergePOEnv-v0_[eta1, eta2, eta3]:[1.0, 0.1, 0.0]_t_min:10.0_buf_len: 1", "batch_mode": "truncate_episodes", "log_level": "INFO", "simple_optimizer": false, "gamma": 0.99, "entropy_coeff": 0.0, "clip_actions": false, "num_cpus_per_worker": 1, "num_gpus": 0, "vf_loss_coeff": 1.0, "model": {"lstm_cell_size": 256, "conv_activation": "relu", "conv_filters": null, "channel_major": false, "fcnet_hiddens": [128, 64, 32], "max_seq_len": 20, "custom_preprocessor": null, "free_log_std": false, "dim": 84, "custom_options": {}, "squash_to_range": false, "fcnet_activation": "tanh", "framestack": true, "zero_mean": true, "grayscale": false, "use_lstm": false, "custom_model": null, "lstm_use_prev_action_reward": false}, "num_cpus_for_driver": 1, "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "lr": 0.0005, "output": null, "num_gpus_per_worker": 0, "sgd_minibatch_size": 128, "preprocessor_pref": "deepmind", "clip_param": 0.3, "sample_async": false, "custom_resources_per_worker": {}, "use_gae": true, "clip_rewards": null}, "num_metric_batches_dropped": 0, "node_ip": "10.138.0.2", "time_total_s": 1413.1656067371368, "episodes_this_iter": 29, "timestamp": 1558328184, "episode_reward_max": 921.994976866841, "info": {"load_time_ms": 5.484, "default": {"vf_loss": 25.440101623535156, "total_loss": 25.432830810546875, "entropy": 1.3345106840133667, "policy_loss": -0.010278414003551006, "cur_kl_coeff": 0.20000004768371582, "vf_explained_var": 0.4971800744533539, "cur_lr": 0.0005000000237487257, "kl": 0.015030830167233944}, "num_steps_trained": 1811235, "grad_time_ms": 13290.966, "num_steps_sampled": 1811235, "sample_time_ms": 27538.388, "update_time_ms": 8.087}, "time_since_restore": 1413.1656067371368, "timesteps_total": 1811235, "episode_len_mean": 700.0, "episodes_total": 945, "training_iteration": 32, "episode_reward_mean": 822.9861670889668, "hostname": "flow-main", "experiment_id": "24525fc6f3cc408296359cca36b844c9", "done": false, "time_this_iter_s": 39.15290641784668, "iterations_since_restore": 32, "date": "2019-05-20_04-56-24", "timesteps_since_restore": 1811235, "timesteps_this_iter": 51726, "custom_metrics": {"system_level_velocity_min": 10.657703525772096, "outflow_rate_max": 1173.9620621807355, "cost1_mean": 387.13338512688046, "outflow_rate_mean": 1046.5057399433924, "cost1_min": 278.5834469510738, "cost2_min": -122.4704053155548, "cost1_max": 440.4145825414722, "outflow_rate_min": 882.8985973653844, "cost2_max": -48.278070786394366, "cost2_mean": -77.78970636401971, "system_level_velocity_max": 16.812455049051074, "system_level_velocity_mean": 14.77111680106623}, "pid": 277, "episode_reward_min": 640.4113394478379, "policy_reward_mean": {}}
{"config": {"num_sgd_iter": 10, "compress_observations": false, "input_evaluation": null, "vf_share_layers": false, "horizon": 1500, "num_workers": 20, "lambda": 0.97, "synchronize_filters": true, "vf_clip_param": 1000000.0, "optimizer": {}, "collect_metrics_timeout": 180, "tf_session_args": {"intra_op_parallelism_threads": 2, "device_count": {"CPU": 1}, "log_device_placement": false, "gpu_options": {"allow_growth": true}, "inter_op_parallelism_threads": 2, "allow_soft_placement": true}, "sample_batch_size": 750, "train_batch_size": 30000, "observation_filter": "MeanStdFilter", "input": "sampler", "kl_target": 0.01, "callbacks": {"on_train_result": null, "on_sample_end": null, "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7f0a8e57af28>", "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7f0a8e57a7f0>", "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7f0a8e57a780>"}, "kl_coeff": 0.2, "num_envs_per_worker": 1, "monitor": false, "lr_schedule": null, "output_max_file_size": 67108864, "multiagent": {"policies_to_train": null, "policy_mapping_fn": null, "policy_graphs": {}}, "output_compress_columns": ["obs", "new_obs"], "straggler_mitigation": false, "env_config": {"run": "PPO", "flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"buf_length\": 1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.05,\n            \"eta3\": 0.0,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 5.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnv\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 600,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}"}, "env": "MultiWaveAttenuationMergePOEnv-v0_[eta1, eta2, eta3]:[1.0, 0.1, 0.0]_t_min:10.0_buf_len: 1", "batch_mode": "truncate_episodes", "log_level": "INFO", "simple_optimizer": false, "gamma": 0.99, "entropy_coeff": 0.0, "clip_actions": false, "num_cpus_per_worker": 1, "num_gpus": 0, "vf_loss_coeff": 1.0, "model": {"lstm_cell_size": 256, "conv_activation": "relu", "conv_filters": null, "channel_major": false, "fcnet_hiddens": [128, 64, 32], "max_seq_len": 20, "custom_preprocessor": null, "free_log_std": false, "dim": 84, "custom_options": {}, "squash_to_range": false, "fcnet_activation": "tanh", "framestack": true, "zero_mean": true, "grayscale": false, "use_lstm": false, "custom_model": null, "lstm_use_prev_action_reward": false}, "num_cpus_for_driver": 1, "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "lr": 0.0005, "output": null, "num_gpus_per_worker": 0, "sgd_minibatch_size": 128, "preprocessor_pref": "deepmind", "clip_param": 0.3, "sample_async": false, "custom_resources_per_worker": {}, "use_gae": true, "clip_rewards": null}, "num_metric_batches_dropped": 0, "node_ip": "10.138.0.2", "time_total_s": 1450.4644260406494, "episodes_this_iter": 32, "timestamp": 1558328222, "episode_reward_max": 921.994976866841, "info": {"load_time_ms": 5.491, "default": {"vf_loss": 29.421998977661133, "total_loss": 29.414369583129883, "entropy": 1.322374701499939, "policy_loss": -0.010856062173843384, "cur_kl_coeff": 0.20000004768371582, "vf_explained_var": 0.393533319234848, "cur_lr": 0.0005000000237487257, "kl": 0.016134360805153847}, "num_steps_trained": 1861693, "grad_time_ms": 13256.549, "num_steps_sampled": 1861693, "sample_time_ms": 27173.789, "update_time_ms": 8.143}, "time_since_restore": 1450.4644260406494, "timesteps_total": 1861693, "episode_len_mean": 700.0, "episodes_total": 977, "training_iteration": 33, "episode_reward_mean": 818.8548456869769, "hostname": "flow-main", "experiment_id": "24525fc6f3cc408296359cca36b844c9", "done": false, "time_this_iter_s": 37.29881930351257, "iterations_since_restore": 33, "date": "2019-05-20_04-57-02", "timesteps_since_restore": 1861693, "timesteps_this_iter": 50458, "custom_metrics": {"system_level_velocity_min": 10.657703525772096, "outflow_rate_max": 1173.9620621807355, "cost1_mean": 386.36318076696756, "outflow_rate_mean": 1044.5954787354951, "cost1_min": 278.5834469510738, "cost2_min": -122.4704053155548, "cost1_max": 440.4145825414722, "outflow_rate_min": 887.0751961144146, "cost2_max": -45.04059051498284, "cost2_mean": -77.1643112773055, "system_level_velocity_max": 16.812455049051074, "system_level_velocity_mean": 14.739098909477994}, "pid": 277, "episode_reward_min": 640.4113394478379, "policy_reward_mean": {}}
{"config": {"num_sgd_iter": 10, "compress_observations": false, "input_evaluation": null, "vf_share_layers": false, "horizon": 1500, "num_workers": 20, "lambda": 0.97, "synchronize_filters": true, "vf_clip_param": 1000000.0, "optimizer": {}, "collect_metrics_timeout": 180, "tf_session_args": {"intra_op_parallelism_threads": 2, "device_count": {"CPU": 1}, "log_device_placement": false, "gpu_options": {"allow_growth": true}, "inter_op_parallelism_threads": 2, "allow_soft_placement": true}, "sample_batch_size": 750, "train_batch_size": 30000, "observation_filter": "MeanStdFilter", "input": "sampler", "kl_target": 0.01, "callbacks": {"on_train_result": null, "on_sample_end": null, "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7f0a8e5d2f60>", "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7f0a8e57a208>", "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7f0a8e56c5c0>"}, "kl_coeff": 0.2, "num_envs_per_worker": 1, "monitor": false, "lr_schedule": null, "output_max_file_size": 67108864, "multiagent": {"policies_to_train": null, "policy_mapping_fn": null, "policy_graphs": {}}, "output_compress_columns": ["obs", "new_obs"], "straggler_mitigation": false, "env_config": {"run": "PPO", "flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"buf_length\": 1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.05,\n            \"eta3\": 0.0,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 5.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnv\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 600,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}"}, "env": "MultiWaveAttenuationMergePOEnv-v0_[eta1, eta2, eta3]:[1.0, 0.1, 0.0]_t_min:10.0_buf_len: 1", "batch_mode": "truncate_episodes", "log_level": "INFO", "simple_optimizer": false, "gamma": 0.99, "entropy_coeff": 0.0, "clip_actions": false, "num_cpus_per_worker": 1, "num_gpus": 0, "vf_loss_coeff": 1.0, "model": {"lstm_cell_size": 256, "conv_activation": "relu", "conv_filters": null, "channel_major": false, "fcnet_hiddens": [128, 64, 32], "max_seq_len": 20, "custom_preprocessor": null, "free_log_std": false, "dim": 84, "custom_options": {}, "squash_to_range": false, "fcnet_activation": "tanh", "framestack": true, "zero_mean": true, "grayscale": false, "use_lstm": false, "custom_model": null, "lstm_use_prev_action_reward": false}, "num_cpus_for_driver": 1, "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "lr": 0.0005, "output": null, "num_gpus_per_worker": 0, "sgd_minibatch_size": 128, "preprocessor_pref": "deepmind", "clip_param": 0.3, "sample_async": false, "custom_resources_per_worker": {}, "use_gae": true, "clip_rewards": null}, "num_metric_batches_dropped": 0, "node_ip": "10.138.0.2", "time_total_s": 1489.938268661499, "episodes_this_iter": 30, "timestamp": 1558328261, "episode_reward_max": 919.1943984066344, "info": {"load_time_ms": 5.346, "default": {"vf_loss": 26.865442276000977, "total_loss": 26.858400344848633, "entropy": 1.3198682069778442, "policy_loss": -0.010346111841499805, "cur_kl_coeff": 0.20000003278255463, "vf_explained_var": 0.39155498147010803, "cur_lr": 0.0005000000237487257, "kl": 0.016528496518731117}, "num_steps_trained": 1912315, "grad_time_ms": 13403.353, "num_steps_sampled": 1912315, "sample_time_ms": 26635.688, "update_time_ms": 8.177}, "time_since_restore": 1489.938268661499, "timesteps_total": 1912315, "episode_len_mean": 700.0, "episodes_total": 1007, "training_iteration": 34, "episode_reward_mean": 820.0483189955227, "hostname": "flow-main", "experiment_id": "24525fc6f3cc408296359cca36b844c9", "done": false, "time_this_iter_s": 39.47384262084961, "iterations_since_restore": 34, "date": "2019-05-20_04-57-41", "timesteps_since_restore": 1912315, "timesteps_this_iter": 50622, "custom_metrics": {"system_level_velocity_min": 11.955152694336503, "outflow_rate_max": 1173.9620621807355, "cost1_mean": 389.5401448340547, "outflow_rate_mean": 1043.4376835224998, "cost1_min": 314.54221327841196, "cost2_min": -122.4704053155548, "cost1_max": 440.4145825414722, "outflow_rate_min": 924.6801776714748, "cost2_max": -45.04059051498284, "cost2_mean": -74.04280268180018, "system_level_velocity_max": 16.812455049051074, "system_level_velocity_mean": 14.876990063298319}, "pid": 277, "episode_reward_min": 684.4819062063466, "policy_reward_mean": {}}
{"config": {"num_sgd_iter": 10, "compress_observations": false, "input_evaluation": null, "vf_share_layers": false, "horizon": 1500, "num_workers": 20, "lambda": 0.97, "synchronize_filters": true, "vf_clip_param": 1000000.0, "optimizer": {}, "collect_metrics_timeout": 180, "tf_session_args": {"intra_op_parallelism_threads": 2, "device_count": {"CPU": 1}, "log_device_placement": false, "gpu_options": {"allow_growth": true}, "inter_op_parallelism_threads": 2, "allow_soft_placement": true}, "sample_batch_size": 750, "train_batch_size": 30000, "observation_filter": "MeanStdFilter", "input": "sampler", "kl_target": 0.01, "callbacks": {"on_train_result": null, "on_sample_end": null, "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7f0a8e560710>", "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7f0a8e560da0>", "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7f0a8e56c828>"}, "kl_coeff": 0.2, "num_envs_per_worker": 1, "monitor": false, "lr_schedule": null, "output_max_file_size": 67108864, "multiagent": {"policies_to_train": null, "policy_mapping_fn": null, "policy_graphs": {}}, "output_compress_columns": ["obs", "new_obs"], "straggler_mitigation": false, "env_config": {"run": "PPO", "flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"buf_length\": 1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.05,\n            \"eta3\": 0.0,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 5.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnv\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 600,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}"}, "env": "MultiWaveAttenuationMergePOEnv-v0_[eta1, eta2, eta3]:[1.0, 0.1, 0.0]_t_min:10.0_buf_len: 1", "batch_mode": "truncate_episodes", "log_level": "INFO", "simple_optimizer": false, "gamma": 0.99, "entropy_coeff": 0.0, "clip_actions": false, "num_cpus_per_worker": 1, "num_gpus": 0, "vf_loss_coeff": 1.0, "model": {"lstm_cell_size": 256, "conv_activation": "relu", "conv_filters": null, "channel_major": false, "fcnet_hiddens": [128, 64, 32], "max_seq_len": 20, "custom_preprocessor": null, "free_log_std": false, "dim": 84, "custom_options": {}, "squash_to_range": false, "fcnet_activation": "tanh", "framestack": true, "zero_mean": true, "grayscale": false, "use_lstm": false, "custom_model": null, "lstm_use_prev_action_reward": false}, "num_cpus_for_driver": 1, "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "lr": 0.0005, "output": null, "num_gpus_per_worker": 0, "sgd_minibatch_size": 128, "preprocessor_pref": "deepmind", "clip_param": 0.3, "sample_async": false, "custom_resources_per_worker": {}, "use_gae": true, "clip_rewards": null}, "num_metric_batches_dropped": 0, "node_ip": "10.138.0.2", "time_total_s": 1530.35715675354, "episodes_this_iter": 34, "timestamp": 1558328302, "episode_reward_max": 919.1943984066344, "info": {"load_time_ms": 5.452, "default": {"vf_loss": 29.596424102783203, "total_loss": 29.588529586791992, "entropy": 1.3176062107086182, "policy_loss": -0.011246628127992153, "cur_kl_coeff": 0.20000003278255463, "vf_explained_var": 0.36256277561187744, "cur_lr": 0.0005000000237487257, "kl": 0.016757115721702576}, "num_steps_trained": 1961632, "grad_time_ms": 13425.233, "num_steps_sampled": 1961632, "sample_time_ms": 26488.237, "update_time_ms": 8.251}, "time_since_restore": 1530.35715675354, "timesteps_total": 1961632, "episode_len_mean": 693.2, "episodes_total": 1041, "training_iteration": 35, "episode_reward_mean": 813.2252355057316, "hostname": "flow-main", "experiment_id": "24525fc6f3cc408296359cca36b844c9", "done": false, "time_this_iter_s": 40.418888092041016, "iterations_since_restore": 35, "date": "2019-05-20_04-58-22", "timesteps_since_restore": 1961632, "timesteps_this_iter": 49317, "custom_metrics": {"system_level_velocity_min": 12.442457059047022, "outflow_rate_max": 1120.24976596644, "cost1_mean": 388.1561727664323, "outflow_rate_mean": 1034.0996088241382, "cost1_min": 12.858494875789125, "cost2_min": -106.8535905018995, "cost1_max": 432.0079065098547, "outflow_rate_min": 470.5008371641972, "cost2_max": -13.304701715624633, "cost2_mean": -68.84634499923084, "system_level_velocity_max": 16.639643858542033, "system_level_velocity_mean": 15.009329667146837}, "pid": 277, "episode_reward_min": 23.773663542880634, "policy_reward_mean": {}}
{"config": {"num_sgd_iter": 10, "compress_observations": false, "input_evaluation": null, "vf_share_layers": false, "horizon": 1500, "num_workers": 20, "lambda": 0.97, "synchronize_filters": true, "vf_clip_param": 1000000.0, "optimizer": {}, "collect_metrics_timeout": 180, "tf_session_args": {"intra_op_parallelism_threads": 2, "device_count": {"CPU": 1}, "log_device_placement": false, "gpu_options": {"allow_growth": true}, "inter_op_parallelism_threads": 2, "allow_soft_placement": true}, "sample_batch_size": 750, "train_batch_size": 30000, "observation_filter": "MeanStdFilter", "input": "sampler", "kl_target": 0.01, "callbacks": {"on_train_result": null, "on_sample_end": null, "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7f0a8e57a710>", "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7f0a8e57ada0>", "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7f0a8e57a978>"}, "kl_coeff": 0.2, "num_envs_per_worker": 1, "monitor": false, "lr_schedule": null, "output_max_file_size": 67108864, "multiagent": {"policies_to_train": null, "policy_mapping_fn": null, "policy_graphs": {}}, "output_compress_columns": ["obs", "new_obs"], "straggler_mitigation": false, "env_config": {"run": "PPO", "flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"buf_length\": 1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.05,\n            \"eta3\": 0.0,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 5.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnv\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 600,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}"}, "env": "MultiWaveAttenuationMergePOEnv-v0_[eta1, eta2, eta3]:[1.0, 0.1, 0.0]_t_min:10.0_buf_len: 1", "batch_mode": "truncate_episodes", "log_level": "INFO", "simple_optimizer": false, "gamma": 0.99, "entropy_coeff": 0.0, "clip_actions": false, "num_cpus_per_worker": 1, "num_gpus": 0, "vf_loss_coeff": 1.0, "model": {"lstm_cell_size": 256, "conv_activation": "relu", "conv_filters": null, "channel_major": false, "fcnet_hiddens": [128, 64, 32], "max_seq_len": 20, "custom_preprocessor": null, "free_log_std": false, "dim": 84, "custom_options": {}, "squash_to_range": false, "fcnet_activation": "tanh", "framestack": true, "zero_mean": true, "grayscale": false, "use_lstm": false, "custom_model": null, "lstm_use_prev_action_reward": false}, "num_cpus_for_driver": 1, "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "lr": 0.0005, "output": null, "num_gpus_per_worker": 0, "sgd_minibatch_size": 128, "preprocessor_pref": "deepmind", "clip_param": 0.3, "sample_async": false, "custom_resources_per_worker": {}, "use_gae": true, "clip_rewards": null}, "num_metric_batches_dropped": 0, "node_ip": "10.138.0.2", "time_total_s": 1567.498603105545, "episodes_this_iter": 30, "timestamp": 1558328339, "episode_reward_max": 919.1943984066344, "info": {"load_time_ms": 5.643, "default": {"vf_loss": 28.075246810913086, "total_loss": 28.0662841796875, "entropy": 1.307973027229309, "policy_loss": -0.012211358174681664, "cur_kl_coeff": 0.20000001788139343, "vf_explained_var": 0.42424875497817993, "cur_lr": 0.0005000000237487257, "kl": 0.01625180058181286}, "num_steps_trained": 2010107, "grad_time_ms": 13126.46, "num_steps_sampled": 2010107, "sample_time_ms": 26467.046, "update_time_ms": 8.62}, "time_since_restore": 1567.498603105545, "timesteps_total": 2010107, "episode_len_mean": 693.2, "episodes_total": 1071, "training_iteration": 36, "episode_reward_mean": 808.6997016141772, "hostname": "flow-main", "experiment_id": "24525fc6f3cc408296359cca36b844c9", "done": false, "time_this_iter_s": 37.141446352005005, "iterations_since_restore": 36, "date": "2019-05-20_04-58-59", "timesteps_since_restore": 2010107, "timesteps_this_iter": 48475, "custom_metrics": {"system_level_velocity_min": 11.138924155785187, "outflow_rate_max": 1120.24976596644, "cost1_mean": 389.02772532440065, "outflow_rate_mean": 1025.9724406786083, "cost1_min": 12.858494875789125, "cost2_min": -106.8535905018995, "cost1_max": 429.5842420060418, "outflow_rate_min": 470.5008371641972, "cost2_max": -13.304701715624633, "cost2_mean": -64.86661402676013, "system_level_velocity_max": 16.639643858542033, "system_level_velocity_mean": 15.079309011932917}, "pid": 277, "episode_reward_min": 23.773663542880634, "policy_reward_mean": {}}
{"config": {"num_sgd_iter": 10, "compress_observations": false, "input_evaluation": null, "vf_share_layers": false, "horizon": 1500, "num_workers": 20, "lambda": 0.97, "synchronize_filters": true, "vf_clip_param": 1000000.0, "optimizer": {}, "collect_metrics_timeout": 180, "tf_session_args": {"intra_op_parallelism_threads": 2, "device_count": {"CPU": 1}, "log_device_placement": false, "gpu_options": {"allow_growth": true}, "inter_op_parallelism_threads": 2, "allow_soft_placement": true}, "sample_batch_size": 750, "train_batch_size": 30000, "observation_filter": "MeanStdFilter", "input": "sampler", "kl_target": 0.01, "callbacks": {"on_train_result": null, "on_sample_end": null, "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7f0a8e57a2e8>", "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7f0a8e57af60>", "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7f0a8e57a390>"}, "kl_coeff": 0.2, "num_envs_per_worker": 1, "monitor": false, "lr_schedule": null, "output_max_file_size": 67108864, "multiagent": {"policies_to_train": null, "policy_mapping_fn": null, "policy_graphs": {}}, "output_compress_columns": ["obs", "new_obs"], "straggler_mitigation": false, "env_config": {"run": "PPO", "flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"buf_length\": 1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.05,\n            \"eta3\": 0.0,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 5.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnv\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 600,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}"}, "env": "MultiWaveAttenuationMergePOEnv-v0_[eta1, eta2, eta3]:[1.0, 0.1, 0.0]_t_min:10.0_buf_len: 1", "batch_mode": "truncate_episodes", "log_level": "INFO", "simple_optimizer": false, "gamma": 0.99, "entropy_coeff": 0.0, "clip_actions": false, "num_cpus_per_worker": 1, "num_gpus": 0, "vf_loss_coeff": 1.0, "model": {"lstm_cell_size": 256, "conv_activation": "relu", "conv_filters": null, "channel_major": false, "fcnet_hiddens": [128, 64, 32], "max_seq_len": 20, "custom_preprocessor": null, "free_log_std": false, "dim": 84, "custom_options": {}, "squash_to_range": false, "fcnet_activation": "tanh", "framestack": true, "zero_mean": true, "grayscale": false, "use_lstm": false, "custom_model": null, "lstm_use_prev_action_reward": false}, "num_cpus_for_driver": 1, "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "lr": 0.0005, "output": null, "num_gpus_per_worker": 0, "sgd_minibatch_size": 128, "preprocessor_pref": "deepmind", "clip_param": 0.3, "sample_async": false, "custom_resources_per_worker": {}, "use_gae": true, "clip_rewards": null}, "num_metric_batches_dropped": 0, "node_ip": "10.138.0.2", "time_total_s": 1607.7755861282349, "episodes_this_iter": 32, "timestamp": 1558328379, "episode_reward_max": 908.1781631872152, "info": {"load_time_ms": 5.664, "default": {"vf_loss": 28.236297607421875, "total_loss": 28.22690200805664, "entropy": 1.3231141567230225, "policy_loss": -0.012629750184714794, "cur_kl_coeff": 0.20000003278255463, "vf_explained_var": 0.4659929573535919, "cur_lr": 0.0005000000237487257, "kl": 0.016165660694241524}, "num_steps_trained": 2060224, "grad_time_ms": 12952.591, "num_steps_sampled": 2060224, "sample_time_ms": 26415.482, "update_time_ms": 8.442}, "time_since_restore": 1607.7755861282349, "timesteps_total": 2060224, "episode_len_mean": 687.75, "episodes_total": 1103, "training_iteration": 37, "episode_reward_mean": 798.9561138783502, "hostname": "flow-main", "experiment_id": "24525fc6f3cc408296359cca36b844c9", "done": false, "time_this_iter_s": 40.27698302268982, "iterations_since_restore": 37, "date": "2019-05-20_04-59-39", "timesteps_since_restore": 2060224, "timesteps_this_iter": 50117, "custom_metrics": {"system_level_velocity_min": 11.138924155785187, "outflow_rate_max": 1132.182334080729, "cost1_mean": 387.17819155886247, "outflow_rate_mean": 1022.3883855574048, "cost1_min": 12.858494875789125, "cost2_min": -106.8535905018995, "cost1_max": 429.5842420060418, "outflow_rate_min": 470.5008371641972, "cost2_max": -13.304701715624633, "cost2_mean": -62.861444155855736, "system_level_velocity_max": 16.639643858542033, "system_level_velocity_mean": 15.13488415739951}, "pid": 277, "episode_reward_min": 23.773663542880634, "policy_reward_mean": {}}
{"config": {"num_sgd_iter": 10, "compress_observations": false, "input_evaluation": null, "vf_share_layers": false, "horizon": 1500, "num_workers": 20, "lambda": 0.97, "synchronize_filters": true, "vf_clip_param": 1000000.0, "optimizer": {}, "collect_metrics_timeout": 180, "tf_session_args": {"intra_op_parallelism_threads": 2, "device_count": {"CPU": 1}, "log_device_placement": false, "gpu_options": {"allow_growth": true}, "inter_op_parallelism_threads": 2, "allow_soft_placement": true}, "sample_batch_size": 750, "train_batch_size": 30000, "observation_filter": "MeanStdFilter", "input": "sampler", "kl_target": 0.01, "callbacks": {"on_train_result": null, "on_sample_end": null, "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7f0a8e57ab00>", "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7f0a8e57a160>", "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7f0a8e57ad30>"}, "kl_coeff": 0.2, "num_envs_per_worker": 1, "monitor": false, "lr_schedule": null, "output_max_file_size": 67108864, "multiagent": {"policies_to_train": null, "policy_mapping_fn": null, "policy_graphs": {}}, "output_compress_columns": ["obs", "new_obs"], "straggler_mitigation": false, "env_config": {"run": "PPO", "flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"buf_length\": 1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.05,\n            \"eta3\": 0.0,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 5.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnv\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 600,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}"}, "env": "MultiWaveAttenuationMergePOEnv-v0_[eta1, eta2, eta3]:[1.0, 0.1, 0.0]_t_min:10.0_buf_len: 1", "batch_mode": "truncate_episodes", "log_level": "INFO", "simple_optimizer": false, "gamma": 0.99, "entropy_coeff": 0.0, "clip_actions": false, "num_cpus_per_worker": 1, "num_gpus": 0, "vf_loss_coeff": 1.0, "model": {"lstm_cell_size": 256, "conv_activation": "relu", "conv_filters": null, "channel_major": false, "fcnet_hiddens": [128, 64, 32], "max_seq_len": 20, "custom_preprocessor": null, "free_log_std": false, "dim": 84, "custom_options": {}, "squash_to_range": false, "fcnet_activation": "tanh", "framestack": true, "zero_mean": true, "grayscale": false, "use_lstm": false, "custom_model": null, "lstm_use_prev_action_reward": false}, "num_cpus_for_driver": 1, "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "lr": 0.0005, "output": null, "num_gpus_per_worker": 0, "sgd_minibatch_size": 128, "preprocessor_pref": "deepmind", "clip_param": 0.3, "sample_async": false, "custom_resources_per_worker": {}, "use_gae": true, "clip_rewards": null}, "num_metric_batches_dropped": 0, "node_ip": "10.138.0.2", "time_total_s": 1647.3223388195038, "episodes_this_iter": 31, "timestamp": 1558328419, "episode_reward_max": 908.1781631872152, "info": {"load_time_ms": 5.757, "default": {"vf_loss": 27.958730697631836, "total_loss": 27.95207977294922, "entropy": 1.31356942653656, "policy_loss": -0.009835131466388702, "cur_kl_coeff": 0.20000003278255463, "vf_explained_var": 0.43589094281196594, "cur_lr": 0.0005000000237487257, "kl": 0.015925126150250435}, "num_steps_trained": 2109539, "grad_time_ms": 12740.453, "num_steps_sampled": 2109539, "sample_time_ms": 26576.356, "update_time_ms": 8.316}, "time_since_restore": 1647.3223388195038, "timesteps_total": 2109539, "episode_len_mean": 685.88, "episodes_total": 1134, "training_iteration": 38, "episode_reward_mean": 795.0141124140378, "hostname": "flow-main", "experiment_id": "24525fc6f3cc408296359cca36b844c9", "done": false, "time_this_iter_s": 39.54675269126892, "iterations_since_restore": 38, "date": "2019-05-20_05-00-19", "timesteps_since_restore": 2109539, "timesteps_this_iter": 49315, "custom_metrics": {"system_level_velocity_min": 11.138924155785187, "outflow_rate_max": 1161.8028813638007, "cost1_mean": 387.4124186146787, "outflow_rate_mean": 1024.6463610601345, "cost1_min": 12.858494875789125, "cost2_min": -92.0897643848962, "cost1_max": 431.8609269416728, "outflow_rate_min": 470.5008371641972, "cost2_max": -13.304701715624633, "cost2_mean": -61.82306035425176, "system_level_velocity_max": 16.639643858542033, "system_level_velocity_mean": 15.194261015647472}, "pid": 277, "episode_reward_min": 23.773663542880634, "policy_reward_mean": {}}
{"config": {"num_sgd_iter": 10, "compress_observations": false, "input_evaluation": null, "vf_share_layers": false, "horizon": 1500, "num_workers": 20, "lambda": 0.97, "synchronize_filters": true, "vf_clip_param": 1000000.0, "optimizer": {}, "collect_metrics_timeout": 180, "tf_session_args": {"intra_op_parallelism_threads": 2, "device_count": {"CPU": 1}, "log_device_placement": false, "gpu_options": {"allow_growth": true}, "inter_op_parallelism_threads": 2, "allow_soft_placement": true}, "sample_batch_size": 750, "train_batch_size": 30000, "observation_filter": "MeanStdFilter", "input": "sampler", "kl_target": 0.01, "callbacks": {"on_train_result": null, "on_sample_end": null, "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7f0a8e57b7f0>", "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7f0a8e57b2e8>", "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7f0a8e57b630>"}, "kl_coeff": 0.2, "num_envs_per_worker": 1, "monitor": false, "lr_schedule": null, "output_max_file_size": 67108864, "multiagent": {"policies_to_train": null, "policy_mapping_fn": null, "policy_graphs": {}}, "output_compress_columns": ["obs", "new_obs"], "straggler_mitigation": false, "env_config": {"run": "PPO", "flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"buf_length\": 1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.05,\n            \"eta3\": 0.0,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 5.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnv\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 600,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}"}, "env": "MultiWaveAttenuationMergePOEnv-v0_[eta1, eta2, eta3]:[1.0, 0.1, 0.0]_t_min:10.0_buf_len: 1", "batch_mode": "truncate_episodes", "log_level": "INFO", "simple_optimizer": false, "gamma": 0.99, "entropy_coeff": 0.0, "clip_actions": false, "num_cpus_per_worker": 1, "num_gpus": 0, "vf_loss_coeff": 1.0, "model": {"lstm_cell_size": 256, "conv_activation": "relu", "conv_filters": null, "channel_major": false, "fcnet_hiddens": [128, 64, 32], "max_seq_len": 20, "custom_preprocessor": null, "free_log_std": false, "dim": 84, "custom_options": {}, "squash_to_range": false, "fcnet_activation": "tanh", "framestack": true, "zero_mean": true, "grayscale": false, "use_lstm": false, "custom_model": null, "lstm_use_prev_action_reward": false}, "num_cpus_for_driver": 1, "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "lr": 0.0005, "output": null, "num_gpus_per_worker": 0, "sgd_minibatch_size": 128, "preprocessor_pref": "deepmind", "clip_param": 0.3, "sample_async": false, "custom_resources_per_worker": {}, "use_gae": true, "clip_rewards": null}, "num_metric_batches_dropped": 0, "node_ip": "10.138.0.2", "time_total_s": 1685.906744480133, "episodes_this_iter": 31, "timestamp": 1558328457, "episode_reward_max": 902.017335608488, "info": {"load_time_ms": 5.969, "default": {"vf_loss": 29.12068748474121, "total_loss": 29.114816665649414, "entropy": 1.3113465309143066, "policy_loss": -0.008854261599481106, "cur_kl_coeff": 0.20000003278255463, "vf_explained_var": 0.37858283519744873, "cur_lr": 0.0005000000237487257, "kl": 0.014935321174561977}, "num_steps_trained": 2158140, "grad_time_ms": 12726.219, "num_steps_sampled": 2158140, "sample_time_ms": 26378.864, "update_time_ms": 8.296}, "time_since_restore": 1685.906744480133, "timesteps_total": 2158140, "episode_len_mean": 686.93, "episodes_total": 1165, "training_iteration": 39, "episode_reward_mean": 801.1200046881283, "hostname": "flow-main", "experiment_id": "24525fc6f3cc408296359cca36b844c9", "done": false, "time_this_iter_s": 38.58440566062927, "iterations_since_restore": 39, "date": "2019-05-20_05-00-57", "timesteps_since_restore": 2158140, "timesteps_this_iter": 48601, "custom_metrics": {"system_level_velocity_min": 11.438708151995677, "outflow_rate_max": 1161.8028813638007, "cost1_mean": 389.5194219087739, "outflow_rate_mean": 1029.563092557472, "cost1_min": 145.36504247040818, "cost2_min": -92.0897643848962, "cost1_max": 431.8609269416728, "outflow_rate_min": 756.3425331896952, "cost2_max": -34.42643177693172, "cost2_mean": -61.03588666289686, "system_level_velocity_max": 16.759328983538005, "system_level_velocity_mean": 15.270021194823372}, "pid": 277, "episode_reward_min": 302.12698884205025, "policy_reward_mean": {}}
{"config": {"num_sgd_iter": 10, "compress_observations": false, "input_evaluation": null, "vf_share_layers": false, "horizon": 1500, "num_workers": 20, "lambda": 0.97, "synchronize_filters": true, "vf_clip_param": 1000000.0, "optimizer": {}, "collect_metrics_timeout": 180, "tf_session_args": {"intra_op_parallelism_threads": 2, "device_count": {"CPU": 1}, "log_device_placement": false, "gpu_options": {"allow_growth": true}, "inter_op_parallelism_threads": 2, "allow_soft_placement": true}, "sample_batch_size": 750, "train_batch_size": 30000, "observation_filter": "MeanStdFilter", "input": "sampler", "kl_target": 0.01, "callbacks": {"on_train_result": null, "on_sample_end": null, "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7f0a8e57a7b8>", "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7f0a8e5a63c8>", "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7f0a8e57aeb8>"}, "kl_coeff": 0.2, "num_envs_per_worker": 1, "monitor": false, "lr_schedule": null, "output_max_file_size": 67108864, "multiagent": {"policies_to_train": null, "policy_mapping_fn": null, "policy_graphs": {}}, "output_compress_columns": ["obs", "new_obs"], "straggler_mitigation": false, "env_config": {"run": "PPO", "flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"buf_length\": 1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.05,\n            \"eta3\": 0.0,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 5.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnv\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 600,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}"}, "env": "MultiWaveAttenuationMergePOEnv-v0_[eta1, eta2, eta3]:[1.0, 0.1, 0.0]_t_min:10.0_buf_len: 1", "batch_mode": "truncate_episodes", "log_level": "INFO", "simple_optimizer": false, "gamma": 0.99, "entropy_coeff": 0.0, "clip_actions": false, "num_cpus_per_worker": 1, "num_gpus": 0, "vf_loss_coeff": 1.0, "model": {"lstm_cell_size": 256, "conv_activation": "relu", "conv_filters": null, "channel_major": false, "fcnet_hiddens": [128, 64, 32], "max_seq_len": 20, "custom_preprocessor": null, "free_log_std": false, "dim": 84, "custom_options": {}, "squash_to_range": false, "fcnet_activation": "tanh", "framestack": true, "zero_mean": true, "grayscale": false, "use_lstm": false, "custom_model": null, "lstm_use_prev_action_reward": false}, "num_cpus_for_driver": 1, "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "lr": 0.0005, "output": null, "num_gpus_per_worker": 0, "sgd_minibatch_size": 128, "preprocessor_pref": "deepmind", "clip_param": 0.3, "sample_async": false, "custom_resources_per_worker": {}, "use_gae": true, "clip_rewards": null}, "num_metric_batches_dropped": 0, "node_ip": "10.138.0.2", "time_total_s": 1723.4247374534607, "episodes_this_iter": 34, "timestamp": 1558328495, "episode_reward_max": 902.1668326456595, "info": {"load_time_ms": 6.147, "default": {"vf_loss": 34.08525848388672, "total_loss": 34.0761604309082, "entropy": 1.3007031679153442, "policy_loss": -0.012669838964939117, "cur_kl_coeff": 0.20000001788139343, "vf_explained_var": 0.3431226313114166, "cur_lr": 0.0005000000237487257, "kl": 0.017860962077975273}, "num_steps_trained": 2205797, "grad_time_ms": 12931.898, "num_steps_sampled": 2205797, "sample_time_ms": 26006.638, "update_time_ms": 8.419}, "time_since_restore": 1723.4247374534607, "timesteps_total": 2205797, "episode_len_mean": 687.07, "episodes_total": 1199, "training_iteration": 40, "episode_reward_mean": 789.2613061487223, "hostname": "flow-main", "experiment_id": "24525fc6f3cc408296359cca36b844c9", "done": false, "time_this_iter_s": 37.51799297332764, "iterations_since_restore": 40, "date": "2019-05-20_05-01-35", "timesteps_since_restore": 2205797, "timesteps_this_iter": 47657, "custom_metrics": {"system_level_velocity_min": 11.321525214762218, "outflow_rate_max": 1161.8028813638007, "cost1_mean": 387.14196681928956, "outflow_rate_mean": 1025.3131067925915, "cost1_min": 177.8129749826116, "cost2_min": -95.32077087223911, "cost1_max": 431.8609269416728, "outflow_rate_min": 831.2254238596227, "cost2_max": -34.42643177693172, "cost2_mean": -60.37216006761335, "system_level_velocity_max": 16.759328983538005, "system_level_velocity_mean": 15.202147016304641}, "pid": 277, "episode_reward_min": 366.94623401570345, "policy_reward_mean": {}}
{"config": {"num_sgd_iter": 10, "compress_observations": false, "input_evaluation": null, "vf_share_layers": false, "horizon": 1500, "num_workers": 20, "lambda": 0.97, "synchronize_filters": true, "vf_clip_param": 1000000.0, "optimizer": {}, "collect_metrics_timeout": 180, "tf_session_args": {"intra_op_parallelism_threads": 2, "device_count": {"CPU": 1}, "log_device_placement": false, "gpu_options": {"allow_growth": true}, "inter_op_parallelism_threads": 2, "allow_soft_placement": true}, "sample_batch_size": 750, "train_batch_size": 30000, "observation_filter": "MeanStdFilter", "input": "sampler", "kl_target": 0.01, "callbacks": {"on_train_result": null, "on_sample_end": null, "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7f0a8e57a550>", "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7f0a8e57a240>", "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7f0a8e57a390>"}, "kl_coeff": 0.2, "num_envs_per_worker": 1, "monitor": false, "lr_schedule": null, "output_max_file_size": 67108864, "multiagent": {"policies_to_train": null, "policy_mapping_fn": null, "policy_graphs": {}}, "output_compress_columns": ["obs", "new_obs"], "straggler_mitigation": false, "env_config": {"run": "PPO", "flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"buf_length\": 1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.05,\n            \"eta3\": 0.0,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 5.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnv\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 600,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}"}, "env": "MultiWaveAttenuationMergePOEnv-v0_[eta1, eta2, eta3]:[1.0, 0.1, 0.0]_t_min:10.0_buf_len: 1", "batch_mode": "truncate_episodes", "log_level": "INFO", "simple_optimizer": false, "gamma": 0.99, "entropy_coeff": 0.0, "clip_actions": false, "num_cpus_per_worker": 1, "num_gpus": 0, "vf_loss_coeff": 1.0, "model": {"lstm_cell_size": 256, "conv_activation": "relu", "conv_filters": null, "channel_major": false, "fcnet_hiddens": [128, 64, 32], "max_seq_len": 20, "custom_preprocessor": null, "free_log_std": false, "dim": 84, "custom_options": {}, "squash_to_range": false, "fcnet_activation": "tanh", "framestack": true, "zero_mean": true, "grayscale": false, "use_lstm": false, "custom_model": null, "lstm_use_prev_action_reward": false}, "num_cpus_for_driver": 1, "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "lr": 0.0005, "output": null, "num_gpus_per_worker": 0, "sgd_minibatch_size": 128, "preprocessor_pref": "deepmind", "clip_param": 0.3, "sample_async": false, "custom_resources_per_worker": {}, "use_gae": true, "clip_rewards": null}, "num_metric_batches_dropped": 0, "node_ip": "10.138.0.2", "time_total_s": 1760.740396976471, "episodes_this_iter": 31, "timestamp": 1558328532, "episode_reward_max": 902.1668326456595, "info": {"load_time_ms": 6.248, "default": {"vf_loss": 34.241310119628906, "total_loss": 34.234657287597656, "entropy": 1.3104777336120605, "policy_loss": -0.009939709678292274, "cur_kl_coeff": 0.20000003278255463, "vf_explained_var": 0.2718081772327423, "cur_lr": 0.0005000000237487257, "kl": 0.01643180102109909}, "num_steps_trained": 2253728, "grad_time_ms": 12885.129, "num_steps_sampled": 2253728, "sample_time_ms": 25669.8, "update_time_ms": 8.54}, "time_since_restore": 1760.740396976471, "timesteps_total": 2253728, "episode_len_mean": 687.07, "episodes_total": 1230, "training_iteration": 41, "episode_reward_mean": 789.9247243766376, "hostname": "flow-main", "experiment_id": "24525fc6f3cc408296359cca36b844c9", "done": false, "time_this_iter_s": 37.315659523010254, "iterations_since_restore": 41, "date": "2019-05-20_05-02-12", "timesteps_since_restore": 2253728, "timesteps_this_iter": 47931, "custom_metrics": {"system_level_velocity_min": 11.321525214762218, "outflow_rate_max": 1129.9291009478793, "cost1_mean": 388.42479459779344, "outflow_rate_mean": 1023.1896130948803, "cost1_min": 177.8129749826116, "cost2_min": -95.32077087223911, "cost1_max": 430.15853375014535, "outflow_rate_min": 831.2254238596227, "cost2_max": -34.42643177693172, "cost2_mean": -59.02764595285291, "system_level_velocity_max": 16.759328983538005, "system_level_velocity_mean": 15.290616643626045}, "pid": 277, "episode_reward_min": 366.94623401570345, "policy_reward_mean": {}}
{"config": {"num_sgd_iter": 10, "compress_observations": false, "input_evaluation": null, "vf_share_layers": false, "horizon": 1500, "num_workers": 20, "lambda": 0.97, "synchronize_filters": true, "vf_clip_param": 1000000.0, "optimizer": {}, "collect_metrics_timeout": 180, "tf_session_args": {"intra_op_parallelism_threads": 2, "device_count": {"CPU": 1}, "log_device_placement": false, "gpu_options": {"allow_growth": true}, "inter_op_parallelism_threads": 2, "allow_soft_placement": true}, "sample_batch_size": 750, "train_batch_size": 30000, "observation_filter": "MeanStdFilter", "input": "sampler", "kl_target": 0.01, "callbacks": {"on_train_result": null, "on_sample_end": null, "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7f0a8e56cdd8>", "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7f0a8e56cf98>", "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7f0a8e56c198>"}, "kl_coeff": 0.2, "num_envs_per_worker": 1, "monitor": false, "lr_schedule": null, "output_max_file_size": 67108864, "multiagent": {"policies_to_train": null, "policy_mapping_fn": null, "policy_graphs": {}}, "output_compress_columns": ["obs", "new_obs"], "straggler_mitigation": false, "env_config": {"run": "PPO", "flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"buf_length\": 1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.05,\n            \"eta3\": 0.0,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 5.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnv\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 600,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}"}, "env": "MultiWaveAttenuationMergePOEnv-v0_[eta1, eta2, eta3]:[1.0, 0.1, 0.0]_t_min:10.0_buf_len: 1", "batch_mode": "truncate_episodes", "log_level": "INFO", "simple_optimizer": false, "gamma": 0.99, "entropy_coeff": 0.0, "clip_actions": false, "num_cpus_per_worker": 1, "num_gpus": 0, "vf_loss_coeff": 1.0, "model": {"lstm_cell_size": 256, "conv_activation": "relu", "conv_filters": null, "channel_major": false, "fcnet_hiddens": [128, 64, 32], "max_seq_len": 20, "custom_preprocessor": null, "free_log_std": false, "dim": 84, "custom_options": {}, "squash_to_range": false, "fcnet_activation": "tanh", "framestack": true, "zero_mean": true, "grayscale": false, "use_lstm": false, "custom_model": null, "lstm_use_prev_action_reward": false}, "num_cpus_for_driver": 1, "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "lr": 0.0005, "output": null, "num_gpus_per_worker": 0, "sgd_minibatch_size": 128, "preprocessor_pref": "deepmind", "clip_param": 0.3, "sample_async": false, "custom_resources_per_worker": {}, "use_gae": true, "clip_rewards": null}, "num_metric_batches_dropped": 0, "node_ip": "10.138.0.2", "time_total_s": 1800.4250512123108, "episodes_this_iter": 33, "timestamp": 1558328572, "episode_reward_max": 902.1668326456595, "info": {"load_time_ms": 6.666, "default": {"vf_loss": 33.92021560668945, "total_loss": 33.91323471069336, "entropy": 1.3177626132965088, "policy_loss": -0.010098613798618317, "cur_kl_coeff": 0.20000001788139343, "vf_explained_var": 0.27151915431022644, "cur_lr": 0.0005000000237487257, "kl": 0.015596739016473293}, "num_steps_trained": 2302695, "grad_time_ms": 12765.762, "num_steps_sampled": 2302695, "sample_time_ms": 25842.832, "update_time_ms": 8.739}, "time_since_restore": 1800.4250512123108, "timesteps_total": 2302695, "episode_len_mean": 681.71, "episodes_total": 1263, "training_iteration": 42, "episode_reward_mean": 790.0839632341367, "hostname": "flow-main", "experiment_id": "24525fc6f3cc408296359cca36b844c9", "done": false, "time_this_iter_s": 39.684654235839844, "iterations_since_restore": 42, "date": "2019-05-20_05-02-52", "timesteps_since_restore": 2302695, "timesteps_this_iter": 48967, "custom_metrics": {"system_level_velocity_min": 11.321525214762218, "outflow_rate_max": 1129.9291009478793, "cost1_mean": 389.9992556773257, "outflow_rate_mean": 1031.1856323373304, "cost1_min": 22.074624044573007, "cost2_min": -95.32077087223911, "cost1_max": 431.64053858895426, "outflow_rate_min": 430.2769634673489, "cost2_max": -21.86538586624918, "cost2_mean": -59.65199011703254, "system_level_velocity_max": 17.891018984511643, "system_level_velocity_mean": 15.48797928979217}, "pid": 277, "episode_reward_min": 53.92733888398756, "policy_reward_mean": {}}
{"config": {"num_sgd_iter": 10, "compress_observations": false, "input_evaluation": null, "vf_share_layers": false, "horizon": 1500, "num_workers": 20, "lambda": 0.97, "synchronize_filters": true, "vf_clip_param": 1000000.0, "optimizer": {}, "collect_metrics_timeout": 180, "tf_session_args": {"intra_op_parallelism_threads": 2, "device_count": {"CPU": 1}, "log_device_placement": false, "gpu_options": {"allow_growth": true}, "inter_op_parallelism_threads": 2, "allow_soft_placement": true}, "sample_batch_size": 750, "train_batch_size": 30000, "observation_filter": "MeanStdFilter", "input": "sampler", "kl_target": 0.01, "callbacks": {"on_train_result": null, "on_sample_end": null, "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7f0a8e5d03c8>", "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7f0a8e57b7f0>", "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7f0a8e57bb38>"}, "kl_coeff": 0.2, "num_envs_per_worker": 1, "monitor": false, "lr_schedule": null, "output_max_file_size": 67108864, "multiagent": {"policies_to_train": null, "policy_mapping_fn": null, "policy_graphs": {}}, "output_compress_columns": ["obs", "new_obs"], "straggler_mitigation": false, "env_config": {"run": "PPO", "flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"buf_length\": 1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.05,\n            \"eta3\": 0.0,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 5.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnv\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 600,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}"}, "env": "MultiWaveAttenuationMergePOEnv-v0_[eta1, eta2, eta3]:[1.0, 0.1, 0.0]_t_min:10.0_buf_len: 1", "batch_mode": "truncate_episodes", "log_level": "INFO", "simple_optimizer": false, "gamma": 0.99, "entropy_coeff": 0.0, "clip_actions": false, "num_cpus_per_worker": 1, "num_gpus": 0, "vf_loss_coeff": 1.0, "model": {"lstm_cell_size": 256, "conv_activation": "relu", "conv_filters": null, "channel_major": false, "fcnet_hiddens": [128, 64, 32], "max_seq_len": 20, "custom_preprocessor": null, "free_log_std": false, "dim": 84, "custom_options": {}, "squash_to_range": false, "fcnet_activation": "tanh", "framestack": true, "zero_mean": true, "grayscale": false, "use_lstm": false, "custom_model": null, "lstm_use_prev_action_reward": false}, "num_cpus_for_driver": 1, "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "lr": 0.0005, "output": null, "num_gpus_per_worker": 0, "sgd_minibatch_size": 128, "preprocessor_pref": "deepmind", "clip_param": 0.3, "sample_async": false, "custom_resources_per_worker": {}, "use_gae": true, "clip_rewards": null}, "num_metric_batches_dropped": 0, "node_ip": "10.138.0.2", "time_total_s": 1839.0320718288422, "episodes_this_iter": 32, "timestamp": 1558328611, "episode_reward_max": 900.5594150064165, "info": {"load_time_ms": 6.734, "default": {"vf_loss": 33.193504333496094, "total_loss": 33.18638229370117, "entropy": 1.3105649948120117, "policy_loss": -0.010206721723079681, "cur_kl_coeff": 0.20000001788139343, "vf_explained_var": 0.27969828248023987, "cur_lr": 0.0005000000237487257, "kl": 0.015435773879289627}, "num_steps_trained": 2351621, "grad_time_ms": 12606.703, "num_steps_sampled": 2351621, "sample_time_ms": 26134.57, "update_time_ms": 8.669}, "time_since_restore": 1839.0320718288422, "timesteps_total": 2351621, "episode_len_mean": 676.27, "episodes_total": 1295, "training_iteration": 43, "episode_reward_mean": 791.0677426891625, "hostname": "flow-main", "experiment_id": "24525fc6f3cc408296359cca36b844c9", "done": false, "time_this_iter_s": 38.60702061653137, "iterations_since_restore": 43, "date": "2019-05-20_05-03-31", "timesteps_since_restore": 2351621, "timesteps_this_iter": 48926, "custom_metrics": {"system_level_velocity_min": 11.42104563341009, "outflow_rate_max": 1129.9291009478793, "cost1_mean": 388.50798824540965, "outflow_rate_mean": 1034.6262840977283, "cost1_min": 22.074624044573007, "cost2_min": -95.32077087223911, "cost1_max": 431.64053858895426, "outflow_rate_min": 430.2769634673489, "cost2_max": -21.86538586624918, "cost2_mean": -61.27554970141886, "system_level_velocity_max": 17.891018984511643, "system_level_velocity_mean": 15.529040594543323}, "pid": 277, "episode_reward_min": 53.92733888398756, "policy_reward_mean": {}}
{"config": {"num_sgd_iter": 10, "compress_observations": false, "input_evaluation": null, "vf_share_layers": false, "horizon": 1500, "num_workers": 20, "lambda": 0.97, "synchronize_filters": true, "vf_clip_param": 1000000.0, "optimizer": {}, "collect_metrics_timeout": 180, "tf_session_args": {"intra_op_parallelism_threads": 2, "device_count": {"CPU": 1}, "log_device_placement": false, "gpu_options": {"allow_growth": true}, "inter_op_parallelism_threads": 2, "allow_soft_placement": true}, "sample_batch_size": 750, "train_batch_size": 30000, "observation_filter": "MeanStdFilter", "input": "sampler", "kl_target": 0.01, "callbacks": {"on_train_result": null, "on_sample_end": null, "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7f0a8e56ca20>", "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7f0a8e56c0b8>", "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7f0a8e57a5f8>"}, "kl_coeff": 0.2, "num_envs_per_worker": 1, "monitor": false, "lr_schedule": null, "output_max_file_size": 67108864, "multiagent": {"policies_to_train": null, "policy_mapping_fn": null, "policy_graphs": {}}, "output_compress_columns": ["obs", "new_obs"], "straggler_mitigation": false, "env_config": {"run": "PPO", "flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"buf_length\": 1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.05,\n            \"eta3\": 0.0,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 5.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnv\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 600,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}"}, "env": "MultiWaveAttenuationMergePOEnv-v0_[eta1, eta2, eta3]:[1.0, 0.1, 0.0]_t_min:10.0_buf_len: 1", "batch_mode": "truncate_episodes", "log_level": "INFO", "simple_optimizer": false, "gamma": 0.99, "entropy_coeff": 0.0, "clip_actions": false, "num_cpus_per_worker": 1, "num_gpus": 0, "vf_loss_coeff": 1.0, "model": {"lstm_cell_size": 256, "conv_activation": "relu", "conv_filters": null, "channel_major": false, "fcnet_hiddens": [128, 64, 32], "max_seq_len": 20, "custom_preprocessor": null, "free_log_std": false, "dim": 84, "custom_options": {}, "squash_to_range": false, "fcnet_activation": "tanh", "framestack": true, "zero_mean": true, "grayscale": false, "use_lstm": false, "custom_model": null, "lstm_use_prev_action_reward": false}, "num_cpus_for_driver": 1, "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "lr": 0.0005, "output": null, "num_gpus_per_worker": 0, "sgd_minibatch_size": 128, "preprocessor_pref": "deepmind", "clip_param": 0.3, "sample_async": false, "custom_resources_per_worker": {}, "use_gae": true, "clip_rewards": null}, "num_metric_batches_dropped": 0, "node_ip": "10.138.0.2", "time_total_s": 1876.6581156253815, "episodes_this_iter": 30, "timestamp": 1558328648, "episode_reward_max": 911.829110038421, "info": {"load_time_ms": 6.812, "default": {"vf_loss": 31.0917911529541, "total_loss": 31.085994720458984, "entropy": 1.3156464099884033, "policy_loss": -0.009112939238548279, "cur_kl_coeff": 0.20000003278255463, "vf_explained_var": 0.34156081080436707, "cur_lr": 0.0005000000237487257, "kl": 0.016581987962126732}, "num_steps_trained": 2400335, "grad_time_ms": 12381.357, "num_steps_sampled": 2400335, "sample_time_ms": 26175.673, "update_time_ms": 8.584}, "time_since_restore": 1876.6581156253815, "timesteps_total": 2400335, "episode_len_mean": 674.25, "episodes_total": 1325, "training_iteration": 44, "episode_reward_mean": 800.8694119312419, "hostname": "flow-main", "experiment_id": "24525fc6f3cc408296359cca36b844c9", "done": false, "time_this_iter_s": 37.62604379653931, "iterations_since_restore": 44, "date": "2019-05-20_05-04-08", "timesteps_since_restore": 2400335, "timesteps_this_iter": 48714, "custom_metrics": {"system_level_velocity_min": 11.42104563341009, "outflow_rate_max": 1157.1636232358853, "cost1_mean": 393.4439330702494, "outflow_rate_mean": 1045.4792626573576, "cost1_min": 22.074624044573007, "cost2_min": -93.53334248950824, "cost1_max": 436.1803097581445, "outflow_rate_min": 430.2769634673489, "cost2_max": -21.86538586624918, "cost2_mean": -61.06021478168236, "system_level_velocity_max": 17.891018984511643, "system_level_velocity_mean": 15.768533754449024}, "pid": 277, "episode_reward_min": 53.92733888398756, "policy_reward_mean": {}}
{"config": {"num_sgd_iter": 10, "compress_observations": false, "input_evaluation": null, "vf_share_layers": false, "horizon": 1500, "num_workers": 20, "lambda": 0.97, "synchronize_filters": true, "vf_clip_param": 1000000.0, "optimizer": {}, "collect_metrics_timeout": 180, "tf_session_args": {"intra_op_parallelism_threads": 2, "device_count": {"CPU": 1}, "log_device_placement": false, "gpu_options": {"allow_growth": true}, "inter_op_parallelism_threads": 2, "allow_soft_placement": true}, "sample_batch_size": 750, "train_batch_size": 30000, "observation_filter": "MeanStdFilter", "input": "sampler", "kl_target": 0.01, "callbacks": {"on_train_result": null, "on_sample_end": null, "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7f0a8e57a550>", "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7f0a8e57a358>", "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7f0a8e57af60>"}, "kl_coeff": 0.2, "num_envs_per_worker": 1, "monitor": false, "lr_schedule": null, "output_max_file_size": 67108864, "multiagent": {"policies_to_train": null, "policy_mapping_fn": null, "policy_graphs": {}}, "output_compress_columns": ["obs", "new_obs"], "straggler_mitigation": false, "env_config": {"run": "PPO", "flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"buf_length\": 1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.05,\n            \"eta3\": 0.0,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 5.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnv\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 600,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}"}, "env": "MultiWaveAttenuationMergePOEnv-v0_[eta1, eta2, eta3]:[1.0, 0.1, 0.0]_t_min:10.0_buf_len: 1", "batch_mode": "truncate_episodes", "log_level": "INFO", "simple_optimizer": false, "gamma": 0.99, "entropy_coeff": 0.0, "clip_actions": false, "num_cpus_per_worker": 1, "num_gpus": 0, "vf_loss_coeff": 1.0, "model": {"lstm_cell_size": 256, "conv_activation": "relu", "conv_filters": null, "channel_major": false, "fcnet_hiddens": [128, 64, 32], "max_seq_len": 20, "custom_preprocessor": null, "free_log_std": false, "dim": 84, "custom_options": {}, "squash_to_range": false, "fcnet_activation": "tanh", "framestack": true, "zero_mean": true, "grayscale": false, "use_lstm": false, "custom_model": null, "lstm_use_prev_action_reward": false}, "num_cpus_for_driver": 1, "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "lr": 0.0005, "output": null, "num_gpus_per_worker": 0, "sgd_minibatch_size": 128, "preprocessor_pref": "deepmind", "clip_param": 0.3, "sample_async": false, "custom_resources_per_worker": {}, "use_gae": true, "clip_rewards": null}, "num_metric_batches_dropped": 0, "node_ip": "10.138.0.2", "time_total_s": 1913.2279529571533, "episodes_this_iter": 33, "timestamp": 1558328685, "episode_reward_max": 911.829110038421, "info": {"load_time_ms": 6.78, "default": {"vf_loss": 34.85662078857422, "total_loss": 34.84995651245117, "entropy": 1.3139503002166748, "policy_loss": -0.01001451350748539, "cur_kl_coeff": 0.20000003278255463, "vf_explained_var": 0.28099524974823, "cur_lr": 0.0005000000237487257, "kl": 0.016769979149103165}, "num_steps_trained": 2449180, "grad_time_ms": 12331.912, "num_steps_sampled": 2449180, "sample_time_ms": 25839.483, "update_time_ms": 8.673}, "time_since_restore": 1913.2279529571533, "timesteps_total": 2449180, "episode_len_mean": 680.48, "episodes_total": 1358, "training_iteration": 45, "episode_reward_mean": 803.4748438906457, "hostname": "flow-main", "experiment_id": "24525fc6f3cc408296359cca36b844c9", "done": false, "time_this_iter_s": 36.56983733177185, "iterations_since_restore": 45, "date": "2019-05-20_05-04-45", "timesteps_since_restore": 2449180, "timesteps_this_iter": 48845, "custom_metrics": {"system_level_velocity_min": 11.42104563341009, "outflow_rate_max": 1157.1636232358853, "cost1_mean": 392.01183646926404, "outflow_rate_mean": 1042.816056758256, "cost1_min": 16.895099421459673, "cost2_min": -93.53334248950824, "cost1_max": 440.65215941064224, "outflow_rate_min": 482.93475289541203, "cost2_max": -15.411445219476873, "cost2_mean": -63.67628172941634, "system_level_velocity_max": 18.162886914668192, "system_level_velocity_mean": 15.54700009625393}, "pid": 277, "episode_reward_min": 41.75615000881256, "policy_reward_mean": {}}
{"config": {"num_sgd_iter": 10, "compress_observations": false, "input_evaluation": null, "vf_share_layers": false, "horizon": 1500, "num_workers": 20, "lambda": 0.97, "synchronize_filters": true, "vf_clip_param": 1000000.0, "optimizer": {}, "collect_metrics_timeout": 180, "tf_session_args": {"intra_op_parallelism_threads": 2, "device_count": {"CPU": 1}, "log_device_placement": false, "gpu_options": {"allow_growth": true}, "inter_op_parallelism_threads": 2, "allow_soft_placement": true}, "sample_batch_size": 750, "train_batch_size": 30000, "observation_filter": "MeanStdFilter", "input": "sampler", "kl_target": 0.01, "callbacks": {"on_train_result": null, "on_sample_end": null, "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7f0a8e57b198>", "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7f0a8e57bac8>", "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7f0a8e57b4a8>"}, "kl_coeff": 0.2, "num_envs_per_worker": 1, "monitor": false, "lr_schedule": null, "output_max_file_size": 67108864, "multiagent": {"policies_to_train": null, "policy_mapping_fn": null, "policy_graphs": {}}, "output_compress_columns": ["obs", "new_obs"], "straggler_mitigation": false, "env_config": {"run": "PPO", "flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"buf_length\": 1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.05,\n            \"eta3\": 0.0,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 5.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnv\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 600,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}"}, "env": "MultiWaveAttenuationMergePOEnv-v0_[eta1, eta2, eta3]:[1.0, 0.1, 0.0]_t_min:10.0_buf_len: 1", "batch_mode": "truncate_episodes", "log_level": "INFO", "simple_optimizer": false, "gamma": 0.99, "entropy_coeff": 0.0, "clip_actions": false, "num_cpus_per_worker": 1, "num_gpus": 0, "vf_loss_coeff": 1.0, "model": {"lstm_cell_size": 256, "conv_activation": "relu", "conv_filters": null, "channel_major": false, "fcnet_hiddens": [128, 64, 32], "max_seq_len": 20, "custom_preprocessor": null, "free_log_std": false, "dim": 84, "custom_options": {}, "squash_to_range": false, "fcnet_activation": "tanh", "framestack": true, "zero_mean": true, "grayscale": false, "use_lstm": false, "custom_model": null, "lstm_use_prev_action_reward": false}, "num_cpus_for_driver": 1, "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "lr": 0.0005, "output": null, "num_gpus_per_worker": 0, "sgd_minibatch_size": 128, "preprocessor_pref": "deepmind", "clip_param": 0.3, "sample_async": false, "custom_resources_per_worker": {}, "use_gae": true, "clip_rewards": null}, "num_metric_batches_dropped": 0, "node_ip": "10.138.0.2", "time_total_s": 1952.3415200710297, "episodes_this_iter": 32, "timestamp": 1558328724, "episode_reward_max": 911.829110038421, "info": {"load_time_ms": 6.465, "default": {"vf_loss": 35.14310073852539, "total_loss": 35.13676452636719, "entropy": 1.3153266906738281, "policy_loss": -0.009844964370131493, "cur_kl_coeff": 0.20000003278255463, "vf_explained_var": 0.2531079947948456, "cur_lr": 0.0005000000237487257, "kl": 0.017557209357619286}, "num_steps_trained": 2498006, "grad_time_ms": 12537.381, "num_steps_sampled": 2498006, "sample_time_ms": 25831.775, "update_time_ms": 8.508}, "time_since_restore": 1952.3415200710297, "timesteps_total": 2498006, "episode_len_mean": 687.25, "episodes_total": 1390, "training_iteration": 46, "episode_reward_mean": 807.2728862931336, "hostname": "flow-main", "experiment_id": "24525fc6f3cc408296359cca36b844c9", "done": false, "time_this_iter_s": 39.11356711387634, "iterations_since_restore": 46, "date": "2019-05-20_05-05-24", "timesteps_since_restore": 2498006, "timesteps_this_iter": 48826, "custom_metrics": {"system_level_velocity_min": 12.102918825962531, "outflow_rate_max": 1157.1636232358853, "cost1_mean": 393.62094457155797, "outflow_rate_mean": 1045.2876480705434, "cost1_min": 16.895099421459673, "cost2_min": -93.53334248950824, "cost1_max": 440.65215941064224, "outflow_rate_min": 482.93475289541203, "cost2_max": -15.411445219476873, "cost2_mean": -66.2755468937244, "system_level_velocity_max": 18.162886914668192, "system_level_velocity_mean": 15.46737758131348}, "pid": 277, "episode_reward_min": 41.75615000881256, "policy_reward_mean": {}}
{"config": {"num_sgd_iter": 10, "compress_observations": false, "input_evaluation": null, "vf_share_layers": false, "horizon": 1500, "num_workers": 20, "lambda": 0.97, "synchronize_filters": true, "vf_clip_param": 1000000.0, "optimizer": {}, "collect_metrics_timeout": 180, "tf_session_args": {"intra_op_parallelism_threads": 2, "device_count": {"CPU": 1}, "log_device_placement": false, "gpu_options": {"allow_growth": true}, "inter_op_parallelism_threads": 2, "allow_soft_placement": true}, "sample_batch_size": 750, "train_batch_size": 30000, "observation_filter": "MeanStdFilter", "input": "sampler", "kl_target": 0.01, "callbacks": {"on_train_result": null, "on_sample_end": null, "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7f0a8e57a208>", "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7f0a8e57ad30>", "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7f0a8e57a160>"}, "kl_coeff": 0.2, "num_envs_per_worker": 1, "monitor": false, "lr_schedule": null, "output_max_file_size": 67108864, "multiagent": {"policies_to_train": null, "policy_mapping_fn": null, "policy_graphs": {}}, "output_compress_columns": ["obs", "new_obs"], "straggler_mitigation": false, "env_config": {"run": "PPO", "flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"buf_length\": 1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.05,\n            \"eta3\": 0.0,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 5.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnv\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 600,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}"}, "env": "MultiWaveAttenuationMergePOEnv-v0_[eta1, eta2, eta3]:[1.0, 0.1, 0.0]_t_min:10.0_buf_len: 1", "batch_mode": "truncate_episodes", "log_level": "INFO", "simple_optimizer": false, "gamma": 0.99, "entropy_coeff": 0.0, "clip_actions": false, "num_cpus_per_worker": 1, "num_gpus": 0, "vf_loss_coeff": 1.0, "model": {"lstm_cell_size": 256, "conv_activation": "relu", "conv_filters": null, "channel_major": false, "fcnet_hiddens": [128, 64, 32], "max_seq_len": 20, "custom_preprocessor": null, "free_log_std": false, "dim": 84, "custom_options": {}, "squash_to_range": false, "fcnet_activation": "tanh", "framestack": true, "zero_mean": true, "grayscale": false, "use_lstm": false, "custom_model": null, "lstm_use_prev_action_reward": false}, "num_cpus_for_driver": 1, "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "lr": 0.0005, "output": null, "num_gpus_per_worker": 0, "sgd_minibatch_size": 128, "preprocessor_pref": "deepmind", "clip_param": 0.3, "sample_async": false, "custom_resources_per_worker": {}, "use_gae": true, "clip_rewards": null}, "num_metric_batches_dropped": 0, "node_ip": "10.138.0.2", "time_total_s": 1992.186785697937, "episodes_this_iter": 31, "timestamp": 1558328764, "episode_reward_max": 920.7390411592241, "info": {"load_time_ms": 6.471, "default": {"vf_loss": 32.99042892456055, "total_loss": 32.98342514038086, "entropy": 1.3329330682754517, "policy_loss": -0.0101337730884552, "cur_kl_coeff": 0.20000003278255463, "vf_explained_var": 0.2853686809539795, "cur_lr": 0.0005000000237487257, "kl": 0.01563611999154091}, "num_steps_trained": 2547489, "grad_time_ms": 12670.683, "num_steps_sampled": 2547489, "sample_time_ms": 25655.641, "update_time_ms": 8.562}, "time_since_restore": 1992.186785697937, "timesteps_total": 2547489, "episode_len_mean": 688.02, "episodes_total": 1421, "training_iteration": 47, "episode_reward_mean": 808.3947405789494, "hostname": "flow-main", "experiment_id": "24525fc6f3cc408296359cca36b844c9", "done": false, "time_this_iter_s": 39.84526562690735, "iterations_since_restore": 47, "date": "2019-05-20_05-06-04", "timesteps_since_restore": 2547489, "timesteps_this_iter": 49483, "custom_metrics": {"system_level_velocity_min": 12.102918825962531, "outflow_rate_max": 1152.874558721785, "cost1_mean": 391.5665745496228, "outflow_rate_mean": 1042.5880324193938, "cost1_min": 16.895099421459673, "cost2_min": -92.72284872794758, "cost1_max": 440.65215941064224, "outflow_rate_min": 482.93475289541203, "cost2_max": -15.411445219476873, "cost2_mean": -67.6202580059267, "system_level_velocity_max": 18.162886914668192, "system_level_velocity_mean": 15.357274401213186}, "pid": 277, "episode_reward_min": 41.75615000881256, "policy_reward_mean": {}}
{"config": {"num_sgd_iter": 10, "compress_observations": false, "input_evaluation": null, "vf_share_layers": false, "horizon": 1500, "num_workers": 20, "lambda": 0.97, "synchronize_filters": true, "vf_clip_param": 1000000.0, "optimizer": {}, "collect_metrics_timeout": 180, "tf_session_args": {"intra_op_parallelism_threads": 2, "device_count": {"CPU": 1}, "log_device_placement": false, "gpu_options": {"allow_growth": true}, "inter_op_parallelism_threads": 2, "allow_soft_placement": true}, "sample_batch_size": 750, "train_batch_size": 30000, "observation_filter": "MeanStdFilter", "input": "sampler", "kl_target": 0.01, "callbacks": {"on_train_result": null, "on_sample_end": null, "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7f0a8e57a2b0>", "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7f0a8e57a320>", "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7f0a8e57b0b8>"}, "kl_coeff": 0.2, "num_envs_per_worker": 1, "monitor": false, "lr_schedule": null, "output_max_file_size": 67108864, "multiagent": {"policies_to_train": null, "policy_mapping_fn": null, "policy_graphs": {}}, "output_compress_columns": ["obs", "new_obs"], "straggler_mitigation": false, "env_config": {"run": "PPO", "flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"buf_length\": 1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.05,\n            \"eta3\": 0.0,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 5.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnv\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 600,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}"}, "env": "MultiWaveAttenuationMergePOEnv-v0_[eta1, eta2, eta3]:[1.0, 0.1, 0.0]_t_min:10.0_buf_len: 1", "batch_mode": "truncate_episodes", "log_level": "INFO", "simple_optimizer": false, "gamma": 0.99, "entropy_coeff": 0.0, "clip_actions": false, "num_cpus_per_worker": 1, "num_gpus": 0, "vf_loss_coeff": 1.0, "model": {"lstm_cell_size": 256, "conv_activation": "relu", "conv_filters": null, "channel_major": false, "fcnet_hiddens": [128, 64, 32], "max_seq_len": 20, "custom_preprocessor": null, "free_log_std": false, "dim": 84, "custom_options": {}, "squash_to_range": false, "fcnet_activation": "tanh", "framestack": true, "zero_mean": true, "grayscale": false, "use_lstm": false, "custom_model": null, "lstm_use_prev_action_reward": false}, "num_cpus_for_driver": 1, "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "lr": 0.0005, "output": null, "num_gpus_per_worker": 0, "sgd_minibatch_size": 128, "preprocessor_pref": "deepmind", "clip_param": 0.3, "sample_async": false, "custom_resources_per_worker": {}, "use_gae": true, "clip_rewards": null}, "num_metric_batches_dropped": 0, "node_ip": "10.138.0.2", "time_total_s": 2029.816011428833, "episodes_this_iter": 30, "timestamp": 1558328802, "episode_reward_max": 920.7390411592241, "info": {"load_time_ms": 6.432, "default": {"vf_loss": 32.187076568603516, "total_loss": 32.18009948730469, "entropy": 1.339980125427246, "policy_loss": -0.010379482991993427, "cur_kl_coeff": 0.20000003278255463, "vf_explained_var": 0.2554818391799927, "cur_lr": 0.0005000000237487257, "kl": 0.01700124703347683}, "num_steps_trained": 2596122, "grad_time_ms": 12697.671, "num_steps_sampled": 2596122, "sample_time_ms": 25436.246, "update_time_ms": 8.445}, "time_since_restore": 2029.816011428833, "timesteps_total": 2596122, "episode_len_mean": 679.22, "episodes_total": 1451, "training_iteration": 48, "episode_reward_mean": 797.0855838485722, "hostname": "flow-main", "experiment_id": "24525fc6f3cc408296359cca36b844c9", "done": false, "time_this_iter_s": 37.629225730895996, "iterations_since_restore": 48, "date": "2019-05-20_05-06-42", "timesteps_since_restore": 2596122, "timesteps_this_iter": 48633, "custom_metrics": {"system_level_velocity_min": 12.102918825962531, "outflow_rate_max": 1152.874558721785, "cost1_mean": 387.2687825646541, "outflow_rate_mean": 1031.6409857495971, "cost1_min": 16.895099421459673, "cost2_min": -96.09305466732947, "cost1_max": 440.65215941064224, "outflow_rate_min": 482.93475289541203, "cost2_max": -15.411445219476873, "cost2_mean": -65.83199847739662, "system_level_velocity_max": 18.70015935536041, "system_level_velocity_mean": 15.413245574721412}, "pid": 277, "episode_reward_min": 41.75615000881256, "policy_reward_mean": {}}
{"config": {"num_sgd_iter": 10, "compress_observations": false, "input_evaluation": null, "vf_share_layers": false, "horizon": 1500, "num_workers": 20, "lambda": 0.97, "synchronize_filters": true, "vf_clip_param": 1000000.0, "optimizer": {}, "collect_metrics_timeout": 180, "tf_session_args": {"intra_op_parallelism_threads": 2, "device_count": {"CPU": 1}, "log_device_placement": false, "gpu_options": {"allow_growth": true}, "inter_op_parallelism_threads": 2, "allow_soft_placement": true}, "sample_batch_size": 750, "train_batch_size": 30000, "observation_filter": "MeanStdFilter", "input": "sampler", "kl_target": 0.01, "callbacks": {"on_train_result": null, "on_sample_end": null, "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7f0a8e57b5c0>", "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7f0a8e57bdd8>", "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7f0a8e57bcc0>"}, "kl_coeff": 0.2, "num_envs_per_worker": 1, "monitor": false, "lr_schedule": null, "output_max_file_size": 67108864, "multiagent": {"policies_to_train": null, "policy_mapping_fn": null, "policy_graphs": {}}, "output_compress_columns": ["obs", "new_obs"], "straggler_mitigation": false, "env_config": {"run": "PPO", "flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"buf_length\": 1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.05,\n            \"eta3\": 0.0,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 5.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnv\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 600,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}"}, "env": "MultiWaveAttenuationMergePOEnv-v0_[eta1, eta2, eta3]:[1.0, 0.1, 0.0]_t_min:10.0_buf_len: 1", "batch_mode": "truncate_episodes", "log_level": "INFO", "simple_optimizer": false, "gamma": 0.99, "entropy_coeff": 0.0, "clip_actions": false, "num_cpus_per_worker": 1, "num_gpus": 0, "vf_loss_coeff": 1.0, "model": {"lstm_cell_size": 256, "conv_activation": "relu", "conv_filters": null, "channel_major": false, "fcnet_hiddens": [128, 64, 32], "max_seq_len": 20, "custom_preprocessor": null, "free_log_std": false, "dim": 84, "custom_options": {}, "squash_to_range": false, "fcnet_activation": "tanh", "framestack": true, "zero_mean": true, "grayscale": false, "use_lstm": false, "custom_model": null, "lstm_use_prev_action_reward": false}, "num_cpus_for_driver": 1, "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "lr": 0.0005, "output": null, "num_gpus_per_worker": 0, "sgd_minibatch_size": 128, "preprocessor_pref": "deepmind", "clip_param": 0.3, "sample_async": false, "custom_resources_per_worker": {}, "use_gae": true, "clip_rewards": null}, "num_metric_batches_dropped": 0, "node_ip": "10.138.0.2", "time_total_s": 2068.264642238617, "episodes_this_iter": 34, "timestamp": 1558328840, "episode_reward_max": 920.7390411592241, "info": {"load_time_ms": 6.047, "default": {"vf_loss": 35.48711395263672, "total_loss": 35.47970199584961, "entropy": 1.340811848640442, "policy_loss": -0.010551385581493378, "cur_kl_coeff": 0.20000004768371582, "vf_explained_var": 0.22177356481552124, "cur_lr": 0.0005000000237487257, "kl": 0.015713417902588844}, "num_steps_trained": 2644170, "grad_time_ms": 12661.41, "num_steps_sampled": 2644170, "sample_time_ms": 25462.72, "update_time_ms": 8.414}, "time_since_restore": 2068.264642238617, "timesteps_total": 2644170, "episode_len_mean": 681.65, "episodes_total": 1485, "training_iteration": 49, "episode_reward_mean": 794.545500156074, "hostname": "flow-main", "experiment_id": "24525fc6f3cc408296359cca36b844c9", "done": false, "time_this_iter_s": 38.448630809783936, "iterations_since_restore": 49, "date": "2019-05-20_05-07-20", "timesteps_since_restore": 2644170, "timesteps_this_iter": 48048, "custom_metrics": {"system_level_velocity_min": 12.389174010498067, "outflow_rate_max": 1152.874558721785, "cost1_mean": 388.87862845420153, "outflow_rate_mean": 1029.3055943519453, "cost1_min": 19.113241361880924, "cost2_min": -96.09305466732947, "cost1_max": 440.53640687640154, "outflow_rate_min": 470.1914627244593, "cost2_max": -17.830908454564156, "cost2_mean": -64.3128394889458, "system_level_velocity_max": 18.70015935536041, "system_level_velocity_mean": 15.371974767787224}, "pid": 277, "episode_reward_min": 41.573612658056334, "policy_reward_mean": {}}
{"config": {"num_sgd_iter": 10, "compress_observations": false, "input_evaluation": null, "vf_share_layers": false, "horizon": 1500, "num_workers": 20, "lambda": 0.97, "synchronize_filters": true, "vf_clip_param": 1000000.0, "optimizer": {}, "collect_metrics_timeout": 180, "tf_session_args": {"intra_op_parallelism_threads": 2, "device_count": {"CPU": 1}, "log_device_placement": false, "gpu_options": {"allow_growth": true}, "inter_op_parallelism_threads": 2, "allow_soft_placement": true}, "sample_batch_size": 750, "train_batch_size": 30000, "observation_filter": "MeanStdFilter", "input": "sampler", "kl_target": 0.01, "callbacks": {"on_train_result": null, "on_sample_end": null, "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7f0a8e57a9b0>", "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7f0a8e57a668>", "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7f0a8e57ae48>"}, "kl_coeff": 0.2, "num_envs_per_worker": 1, "monitor": false, "lr_schedule": null, "output_max_file_size": 67108864, "multiagent": {"policies_to_train": null, "policy_mapping_fn": null, "policy_graphs": {}}, "output_compress_columns": ["obs", "new_obs"], "straggler_mitigation": false, "env_config": {"run": "PPO", "flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"buf_length\": 1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.05,\n            \"eta3\": 0.0,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 5.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnv\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 600,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}"}, "env": "MultiWaveAttenuationMergePOEnv-v0_[eta1, eta2, eta3]:[1.0, 0.1, 0.0]_t_min:10.0_buf_len: 1", "batch_mode": "truncate_episodes", "log_level": "INFO", "simple_optimizer": false, "gamma": 0.99, "entropy_coeff": 0.0, "clip_actions": false, "num_cpus_per_worker": 1, "num_gpus": 0, "vf_loss_coeff": 1.0, "model": {"lstm_cell_size": 256, "conv_activation": "relu", "conv_filters": null, "channel_major": false, "fcnet_hiddens": [128, 64, 32], "max_seq_len": 20, "custom_preprocessor": null, "free_log_std": false, "dim": 84, "custom_options": {}, "squash_to_range": false, "fcnet_activation": "tanh", "framestack": true, "zero_mean": true, "grayscale": false, "use_lstm": false, "custom_model": null, "lstm_use_prev_action_reward": false}, "num_cpus_for_driver": 1, "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "lr": 0.0005, "output": null, "num_gpus_per_worker": 0, "sgd_minibatch_size": 128, "preprocessor_pref": "deepmind", "clip_param": 0.3, "sample_async": false, "custom_resources_per_worker": {}, "use_gae": true, "clip_rewards": null}, "num_metric_batches_dropped": 0, "node_ip": "10.138.0.2", "time_total_s": 2106.723242998123, "episodes_this_iter": 33, "timestamp": 1558328879, "episode_reward_max": 894.0792283611889, "info": {"load_time_ms": 5.909, "default": {"vf_loss": 35.53425216674805, "total_loss": 35.52671813964844, "entropy": 1.338075041770935, "policy_loss": -0.010926484130322933, "cur_kl_coeff": 0.20000004768371582, "vf_explained_var": 0.2734723389148712, "cur_lr": 0.0005000000237487257, "kl": 0.016961777582764626}, "num_steps_trained": 2692189, "grad_time_ms": 12649.301, "num_steps_sampled": 2692189, "sample_time_ms": 25571.782, "update_time_ms": 8.307}, "time_since_restore": 2106.723242998123, "timesteps_total": 2692189, "episode_len_mean": 677.71, "episodes_total": 1518, "training_iteration": 50, "episode_reward_mean": 781.2044364535792, "hostname": "flow-main", "experiment_id": "24525fc6f3cc408296359cca36b844c9", "done": false, "time_this_iter_s": 38.458600759506226, "iterations_since_restore": 50, "date": "2019-05-20_05-07-59", "timesteps_since_restore": 2692189, "timesteps_this_iter": 48019, "custom_metrics": {"system_level_velocity_min": 11.788489895746133, "outflow_rate_max": 1147.8678247931157, "cost1_mean": 385.0582367623576, "outflow_rate_mean": 1014.3018716762476, "cost1_min": 13.755154241275607, "cost2_min": -96.09305466732947, "cost1_max": 440.53640687640154, "outflow_rate_min": 442.92213116628903, "cost2_max": -16.02873324068309, "cost2_mean": -60.974962395084965, "system_level_velocity_max": 18.70015935536041, "system_level_velocity_mean": 15.317017390412047}, "pid": 277, "episode_reward_min": 28.112423807078436, "policy_reward_mean": {}}
{"config": {"num_sgd_iter": 10, "compress_observations": false, "input_evaluation": null, "vf_share_layers": false, "horizon": 1500, "num_workers": 20, "lambda": 0.97, "synchronize_filters": true, "vf_clip_param": 1000000.0, "optimizer": {}, "collect_metrics_timeout": 180, "tf_session_args": {"intra_op_parallelism_threads": 2, "device_count": {"CPU": 1}, "log_device_placement": false, "gpu_options": {"allow_growth": true}, "inter_op_parallelism_threads": 2, "allow_soft_placement": true}, "sample_batch_size": 750, "train_batch_size": 30000, "observation_filter": "MeanStdFilter", "input": "sampler", "kl_target": 0.01, "callbacks": {"on_train_result": null, "on_sample_end": null, "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7f0a8e586320>", "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7f0a8e586940>", "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7f0a8e586dd8>"}, "kl_coeff": 0.2, "num_envs_per_worker": 1, "monitor": false, "lr_schedule": null, "output_max_file_size": 67108864, "multiagent": {"policies_to_train": null, "policy_mapping_fn": null, "policy_graphs": {}}, "output_compress_columns": ["obs", "new_obs"], "straggler_mitigation": false, "env_config": {"run": "PPO", "flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"buf_length\": 1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.05,\n            \"eta3\": 0.0,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 5.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnv\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 600,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}"}, "env": "MultiWaveAttenuationMergePOEnv-v0_[eta1, eta2, eta3]:[1.0, 0.1, 0.0]_t_min:10.0_buf_len: 1", "batch_mode": "truncate_episodes", "log_level": "INFO", "simple_optimizer": false, "gamma": 0.99, "entropy_coeff": 0.0, "clip_actions": false, "num_cpus_per_worker": 1, "num_gpus": 0, "vf_loss_coeff": 1.0, "model": {"lstm_cell_size": 256, "conv_activation": "relu", "conv_filters": null, "channel_major": false, "fcnet_hiddens": [128, 64, 32], "max_seq_len": 20, "custom_preprocessor": null, "free_log_std": false, "dim": 84, "custom_options": {}, "squash_to_range": false, "fcnet_activation": "tanh", "framestack": true, "zero_mean": true, "grayscale": false, "use_lstm": false, "custom_model": null, "lstm_use_prev_action_reward": false}, "num_cpus_for_driver": 1, "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "lr": 0.0005, "output": null, "num_gpus_per_worker": 0, "sgd_minibatch_size": 128, "preprocessor_pref": "deepmind", "clip_param": 0.3, "sample_async": false, "custom_resources_per_worker": {}, "use_gae": true, "clip_rewards": null}, "num_metric_batches_dropped": 0, "node_ip": "10.138.0.2", "time_total_s": 2145.4716958999634, "episodes_this_iter": 31, "timestamp": 1558328917, "episode_reward_max": 883.0780503478336, "info": {"load_time_ms": 5.939, "default": {"vf_loss": 33.5791130065918, "total_loss": 33.57441329956055, "entropy": 1.3215779066085815, "policy_loss": -0.008096474222838879, "cur_kl_coeff": 0.20000001788139343, "vf_explained_var": 0.20975033938884735, "cur_lr": 0.0005000000237487257, "kl": 0.01698543131351471}, "num_steps_trained": 2739555, "grad_time_ms": 12591.874, "num_steps_sampled": 2739555, "sample_time_ms": 25772.575, "update_time_ms": 8.259}, "time_since_restore": 2145.4716958999634, "timesteps_total": 2739555, "episode_len_mean": 682.09, "episodes_total": 1549, "training_iteration": 51, "episode_reward_mean": 787.6191994810429, "hostname": "flow-main", "experiment_id": "24525fc6f3cc408296359cca36b844c9", "done": false, "time_this_iter_s": 38.74845290184021, "iterations_since_restore": 51, "date": "2019-05-20_05-08-37", "timesteps_since_restore": 2739555, "timesteps_this_iter": 47366, "custom_metrics": {"system_level_velocity_min": 11.788489895746133, "outflow_rate_max": 1147.8678247931157, "cost1_mean": 389.52902097875034, "outflow_rate_mean": 1022.2925763737228, "cost1_min": 13.755154241275607, "cost2_min": -86.24687337422014, "cost1_max": 440.0221353264726, "outflow_rate_min": 442.92213116628903, "cost2_max": -16.02873324068309, "cost2_mean": -59.32265064878453, "system_level_velocity_max": 17.881276483194686, "system_level_velocity_mean": 15.392246355686298}, "pid": 277, "episode_reward_min": 28.112423807078436, "policy_reward_mean": {}}
{"config": {"num_sgd_iter": 10, "compress_observations": false, "input_evaluation": null, "vf_share_layers": false, "horizon": 1500, "num_workers": 20, "lambda": 0.97, "synchronize_filters": true, "vf_clip_param": 1000000.0, "optimizer": {}, "collect_metrics_timeout": 180, "tf_session_args": {"intra_op_parallelism_threads": 2, "device_count": {"CPU": 1}, "log_device_placement": false, "gpu_options": {"allow_growth": true}, "inter_op_parallelism_threads": 2, "allow_soft_placement": true}, "sample_batch_size": 750, "train_batch_size": 30000, "observation_filter": "MeanStdFilter", "input": "sampler", "kl_target": 0.01, "callbacks": {"on_train_result": null, "on_sample_end": null, "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7f0a8e5ae128>", "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7f0a8e5ae8d0>", "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7f0a8e5aef98>"}, "kl_coeff": 0.2, "num_envs_per_worker": 1, "monitor": false, "lr_schedule": null, "output_max_file_size": 67108864, "multiagent": {"policies_to_train": null, "policy_mapping_fn": null, "policy_graphs": {}}, "output_compress_columns": ["obs", "new_obs"], "straggler_mitigation": false, "env_config": {"run": "PPO", "flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"buf_length\": 1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.05,\n            \"eta3\": 0.0,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 5.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnv\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 600,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}"}, "env": "MultiWaveAttenuationMergePOEnv-v0_[eta1, eta2, eta3]:[1.0, 0.1, 0.0]_t_min:10.0_buf_len: 1", "batch_mode": "truncate_episodes", "log_level": "INFO", "simple_optimizer": false, "gamma": 0.99, "entropy_coeff": 0.0, "clip_actions": false, "num_cpus_per_worker": 1, "num_gpus": 0, "vf_loss_coeff": 1.0, "model": {"lstm_cell_size": 256, "conv_activation": "relu", "conv_filters": null, "channel_major": false, "fcnet_hiddens": [128, 64, 32], "max_seq_len": 20, "custom_preprocessor": null, "free_log_std": false, "dim": 84, "custom_options": {}, "squash_to_range": false, "fcnet_activation": "tanh", "framestack": true, "zero_mean": true, "grayscale": false, "use_lstm": false, "custom_model": null, "lstm_use_prev_action_reward": false}, "num_cpus_for_driver": 1, "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "lr": 0.0005, "output": null, "num_gpus_per_worker": 0, "sgd_minibatch_size": 128, "preprocessor_pref": "deepmind", "clip_param": 0.3, "sample_async": false, "custom_resources_per_worker": {}, "use_gae": true, "clip_rewards": null}, "num_metric_batches_dropped": 0, "node_ip": "10.138.0.2", "time_total_s": 2183.009209871292, "episodes_this_iter": 32, "timestamp": 1558328955, "episode_reward_max": 883.0780503478336, "info": {"load_time_ms": 5.763, "default": {"vf_loss": 34.03309631347656, "total_loss": 34.026695251464844, "entropy": 1.304222822189331, "policy_loss": -0.009670041501522064, "cur_kl_coeff": 0.20000001788139343, "vf_explained_var": 0.2814338803291321, "cur_lr": 0.0005000000237487257, "kl": 0.016337189823389053}, "num_steps_trained": 2786951, "grad_time_ms": 12462.685, "num_steps_sampled": 2786951, "sample_time_ms": 25688.38, "update_time_ms": 8.165}, "time_since_restore": 2183.009209871292, "timesteps_total": 2786951, "episode_len_mean": 684.42, "episodes_total": 1581, "training_iteration": 52, "episode_reward_mean": 792.6677824427402, "hostname": "flow-main", "experiment_id": "24525fc6f3cc408296359cca36b844c9", "done": false, "time_this_iter_s": 37.537513971328735, "iterations_since_restore": 52, "date": "2019-05-20_05-09-15", "timesteps_since_restore": 2786951, "timesteps_this_iter": 47396, "custom_metrics": {"system_level_velocity_min": 11.788489895746133, "outflow_rate_max": 1147.8678247931157, "cost1_mean": 391.71623062496604, "outflow_rate_mean": 1026.2458501455699, "cost1_min": 13.755154241275607, "cost2_min": -86.24687337422014, "cost1_max": 440.0221353264726, "outflow_rate_min": 442.92213116628903, "cost2_max": -16.02873324068309, "cost2_mean": -58.10197999647591, "system_level_velocity_max": 17.103048381553045, "system_level_velocity_mean": 15.447198659895037}, "pid": 277, "episode_reward_min": 28.112423807078436, "policy_reward_mean": {}}
{"config": {"num_sgd_iter": 10, "compress_observations": false, "input_evaluation": null, "vf_share_layers": false, "horizon": 1500, "num_workers": 20, "lambda": 0.97, "synchronize_filters": true, "vf_clip_param": 1000000.0, "optimizer": {}, "collect_metrics_timeout": 180, "tf_session_args": {"intra_op_parallelism_threads": 2, "device_count": {"CPU": 1}, "log_device_placement": false, "gpu_options": {"allow_growth": true}, "inter_op_parallelism_threads": 2, "allow_soft_placement": true}, "sample_batch_size": 750, "train_batch_size": 30000, "observation_filter": "MeanStdFilter", "input": "sampler", "kl_target": 0.01, "callbacks": {"on_train_result": null, "on_sample_end": null, "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7f0a8e56ca20>", "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7f0a8e56cc50>", "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7f0a8e56c470>"}, "kl_coeff": 0.2, "num_envs_per_worker": 1, "monitor": false, "lr_schedule": null, "output_max_file_size": 67108864, "multiagent": {"policies_to_train": null, "policy_mapping_fn": null, "policy_graphs": {}}, "output_compress_columns": ["obs", "new_obs"], "straggler_mitigation": false, "env_config": {"run": "PPO", "flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"buf_length\": 1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.05,\n            \"eta3\": 0.0,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 5.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnv\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 600,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}"}, "env": "MultiWaveAttenuationMergePOEnv-v0_[eta1, eta2, eta3]:[1.0, 0.1, 0.0]_t_min:10.0_buf_len: 1", "batch_mode": "truncate_episodes", "log_level": "INFO", "simple_optimizer": false, "gamma": 0.99, "entropy_coeff": 0.0, "clip_actions": false, "num_cpus_per_worker": 1, "num_gpus": 0, "vf_loss_coeff": 1.0, "model": {"lstm_cell_size": 256, "conv_activation": "relu", "conv_filters": null, "channel_major": false, "fcnet_hiddens": [128, 64, 32], "max_seq_len": 20, "custom_preprocessor": null, "free_log_std": false, "dim": 84, "custom_options": {}, "squash_to_range": false, "fcnet_activation": "tanh", "framestack": true, "zero_mean": true, "grayscale": false, "use_lstm": false, "custom_model": null, "lstm_use_prev_action_reward": false}, "num_cpus_for_driver": 1, "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "lr": 0.0005, "output": null, "num_gpus_per_worker": 0, "sgd_minibatch_size": 128, "preprocessor_pref": "deepmind", "clip_param": 0.3, "sample_async": false, "custom_resources_per_worker": {}, "use_gae": true, "clip_rewards": null}, "num_metric_batches_dropped": 0, "node_ip": "10.138.0.2", "time_total_s": 2220.5527720451355, "episodes_this_iter": 31, "timestamp": 1558328993, "episode_reward_max": 877.9693433548314, "info": {"load_time_ms": 5.757, "default": {"vf_loss": 37.17382049560547, "total_loss": 37.1680793762207, "entropy": 1.2936846017837524, "policy_loss": -0.008963894098997116, "cur_kl_coeff": 0.20000003278255463, "vf_explained_var": 0.2460172325372696, "cur_lr": 0.0005000000237487257, "kl": 0.01612618751823902}, "num_steps_trained": 2834307, "grad_time_ms": 12491.735, "num_steps_sampled": 2834307, "sample_time_ms": 25554.037, "update_time_ms": 8.103}, "time_since_restore": 2220.5527720451355, "timesteps_total": 2834307, "episode_len_mean": 691.21, "episodes_total": 1612, "training_iteration": 53, "episode_reward_mean": 799.2199615427879, "hostname": "flow-main", "experiment_id": "24525fc6f3cc408296359cca36b844c9", "done": false, "time_this_iter_s": 37.543562173843384, "iterations_since_restore": 53, "date": "2019-05-20_05-09-53", "timesteps_since_restore": 2834307, "timesteps_this_iter": 47356, "custom_metrics": {"system_level_velocity_min": 11.973403111010539, "outflow_rate_max": 1131.7820514896805, "cost1_mean": 394.3374337060982, "outflow_rate_mean": 1025.2153235471974, "cost1_min": 161.2184608719841, "cost2_min": -86.24687337422014, "cost1_max": 439.77429451807023, "outflow_rate_min": 819.0387080012197, "cost2_max": -31.19314743631795, "cost2_mean": -56.941978126049975, "system_level_velocity_max": 17.100720900122635, "system_level_velocity_mean": 15.413092478519106}, "pid": 277, "episode_reward_min": 350.75845446887587, "policy_reward_mean": {}}
{"config": {"num_sgd_iter": 10, "compress_observations": false, "input_evaluation": null, "vf_share_layers": false, "horizon": 1500, "num_workers": 20, "lambda": 0.97, "synchronize_filters": true, "vf_clip_param": 1000000.0, "optimizer": {}, "collect_metrics_timeout": 180, "tf_session_args": {"intra_op_parallelism_threads": 2, "device_count": {"CPU": 1}, "log_device_placement": false, "gpu_options": {"allow_growth": true}, "inter_op_parallelism_threads": 2, "allow_soft_placement": true}, "sample_batch_size": 750, "train_batch_size": 30000, "observation_filter": "MeanStdFilter", "input": "sampler", "kl_target": 0.01, "callbacks": {"on_train_result": null, "on_sample_end": null, "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7f0a8e57aac8>", "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7f0a8e57ae80>", "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7f0a8e57a7f0>"}, "kl_coeff": 0.2, "num_envs_per_worker": 1, "monitor": false, "lr_schedule": null, "output_max_file_size": 67108864, "multiagent": {"policies_to_train": null, "policy_mapping_fn": null, "policy_graphs": {}}, "output_compress_columns": ["obs", "new_obs"], "straggler_mitigation": false, "env_config": {"run": "PPO", "flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"buf_length\": 1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.05,\n            \"eta3\": 0.0,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 5.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnv\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 600,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}"}, "env": "MultiWaveAttenuationMergePOEnv-v0_[eta1, eta2, eta3]:[1.0, 0.1, 0.0]_t_min:10.0_buf_len: 1", "batch_mode": "truncate_episodes", "log_level": "INFO", "simple_optimizer": false, "gamma": 0.99, "entropy_coeff": 0.0, "clip_actions": false, "num_cpus_per_worker": 1, "num_gpus": 0, "vf_loss_coeff": 1.0, "model": {"lstm_cell_size": 256, "conv_activation": "relu", "conv_filters": null, "channel_major": false, "fcnet_hiddens": [128, 64, 32], "max_seq_len": 20, "custom_preprocessor": null, "free_log_std": false, "dim": 84, "custom_options": {}, "squash_to_range": false, "fcnet_activation": "tanh", "framestack": true, "zero_mean": true, "grayscale": false, "use_lstm": false, "custom_model": null, "lstm_use_prev_action_reward": false}, "num_cpus_for_driver": 1, "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "lr": 0.0005, "output": null, "num_gpus_per_worker": 0, "sgd_minibatch_size": 128, "preprocessor_pref": "deepmind", "clip_param": 0.3, "sample_async": false, "custom_resources_per_worker": {}, "use_gae": true, "clip_rewards": null}, "num_metric_batches_dropped": 0, "node_ip": "10.138.0.2", "time_total_s": 2257.9782931804657, "episodes_this_iter": 31, "timestamp": 1558329030, "episode_reward_max": 875.3903532987315, "info": {"load_time_ms": 5.801, "default": {"vf_loss": 33.683929443359375, "total_loss": 33.6776123046875, "entropy": 1.2982730865478516, "policy_loss": -0.009661245159804821, "cur_kl_coeff": 0.20000001788139343, "vf_explained_var": 0.30761298537254333, "cur_lr": 0.0005000000237487257, "kl": 0.016716361045837402}, "num_steps_trained": 2881721, "grad_time_ms": 12602.323, "num_steps_sampled": 2881721, "sample_time_ms": 25422.967, "update_time_ms": 8.073}, "time_since_restore": 2257.9782931804657, "timesteps_total": 2881721, "episode_len_mean": 689.9, "episodes_total": 1643, "training_iteration": 54, "episode_reward_mean": 798.0270008986362, "hostname": "flow-main", "experiment_id": "24525fc6f3cc408296359cca36b844c9", "done": false, "time_this_iter_s": 37.4255211353302, "iterations_since_restore": 54, "date": "2019-05-20_05-10-30", "timesteps_since_restore": 2881721, "timesteps_this_iter": 47414, "custom_metrics": {"system_level_velocity_min": 11.703599337734072, "outflow_rate_max": 1139.9028200759744, "cost1_mean": 393.9328174674372, "outflow_rate_mean": 1022.4171357825365, "cost1_min": 79.78142961840496, "cost2_min": -91.99906818633463, "cost1_max": 440.0968638327247, "outflow_rate_min": 690.5728820304897, "cost2_max": -31.19314743631795, "cost2_mean": -56.12940424010621, "system_level_velocity_max": 17.100720900122635, "system_level_velocity_mean": 15.441129827337393}, "pid": 277, "episode_reward_min": 178.40166102042028, "policy_reward_mean": {}}
{"config": {"num_sgd_iter": 10, "compress_observations": false, "input_evaluation": null, "vf_share_layers": false, "horizon": 1500, "num_workers": 20, "lambda": 0.97, "synchronize_filters": true, "vf_clip_param": 1000000.0, "optimizer": {}, "collect_metrics_timeout": 180, "tf_session_args": {"intra_op_parallelism_threads": 2, "device_count": {"CPU": 1}, "log_device_placement": false, "gpu_options": {"allow_growth": true}, "inter_op_parallelism_threads": 2, "allow_soft_placement": true}, "sample_batch_size": 750, "train_batch_size": 30000, "observation_filter": "MeanStdFilter", "input": "sampler", "kl_target": 0.01, "callbacks": {"on_train_result": null, "on_sample_end": null, "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7f0a8e586fd0>", "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7f0a8e586d30>", "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7f0a8e586320>"}, "kl_coeff": 0.2, "num_envs_per_worker": 1, "monitor": false, "lr_schedule": null, "output_max_file_size": 67108864, "multiagent": {"policies_to_train": null, "policy_mapping_fn": null, "policy_graphs": {}}, "output_compress_columns": ["obs", "new_obs"], "straggler_mitigation": false, "env_config": {"run": "PPO", "flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"buf_length\": 1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.05,\n            \"eta3\": 0.0,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 5.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnv\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 600,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}"}, "env": "MultiWaveAttenuationMergePOEnv-v0_[eta1, eta2, eta3]:[1.0, 0.1, 0.0]_t_min:10.0_buf_len: 1", "batch_mode": "truncate_episodes", "log_level": "INFO", "simple_optimizer": false, "gamma": 0.99, "entropy_coeff": 0.0, "clip_actions": false, "num_cpus_per_worker": 1, "num_gpus": 0, "vf_loss_coeff": 1.0, "model": {"lstm_cell_size": 256, "conv_activation": "relu", "conv_filters": null, "channel_major": false, "fcnet_hiddens": [128, 64, 32], "max_seq_len": 20, "custom_preprocessor": null, "free_log_std": false, "dim": 84, "custom_options": {}, "squash_to_range": false, "fcnet_activation": "tanh", "framestack": true, "zero_mean": true, "grayscale": false, "use_lstm": false, "custom_model": null, "lstm_use_prev_action_reward": false}, "num_cpus_for_driver": 1, "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "lr": 0.0005, "output": null, "num_gpus_per_worker": 0, "sgd_minibatch_size": 128, "preprocessor_pref": "deepmind", "clip_param": 0.3, "sample_async": false, "custom_resources_per_worker": {}, "use_gae": true, "clip_rewards": null}, "num_metric_batches_dropped": 0, "node_ip": "10.138.0.2", "time_total_s": 2294.585292816162, "episodes_this_iter": 30, "timestamp": 1558329067, "episode_reward_max": 875.3903532987315, "info": {"load_time_ms": 5.59, "default": {"vf_loss": 32.16714859008789, "total_loss": 32.15836715698242, "entropy": 1.305587649345398, "policy_loss": -0.012796145863831043, "cur_kl_coeff": 0.20000004768371582, "vf_explained_var": 0.3549076318740845, "cur_lr": 0.0005000000237487257, "kl": 0.020070891827344894}, "num_steps_trained": 2928495, "grad_time_ms": 12609.232, "num_steps_sampled": 2928495, "sample_time_ms": 25422.474, "update_time_ms": 8.052}, "time_since_restore": 2294.585292816162, "timesteps_total": 2928495, "episode_len_mean": 692.33, "episodes_total": 1673, "training_iteration": 55, "episode_reward_mean": 798.9381073507927, "hostname": "flow-main", "experiment_id": "24525fc6f3cc408296359cca36b844c9", "done": false, "time_this_iter_s": 36.60699963569641, "iterations_since_restore": 55, "date": "2019-05-20_05-11-07", "timesteps_since_restore": 2928495, "timesteps_this_iter": 46774, "custom_metrics": {"system_level_velocity_min": 11.288368428477009, "outflow_rate_max": 1139.9028200759744, "cost1_mean": 396.75431723308645, "outflow_rate_mean": 1023.8398043556888, "cost1_min": 79.78142961840496, "cost2_min": -91.99906818633463, "cost1_max": 440.0968638327247, "outflow_rate_min": 690.5728820304897, "cost2_max": -33.15408147830654, "cost2_mean": -55.08149865617416, "system_level_velocity_max": 17.13671522031136, "system_level_velocity_mean": 15.492492986294744}, "pid": 277, "episode_reward_min": 178.40166102042028, "policy_reward_mean": {}}
{"config": {"num_sgd_iter": 10, "compress_observations": false, "input_evaluation": null, "vf_share_layers": false, "horizon": 1500, "num_workers": 20, "lambda": 0.97, "synchronize_filters": true, "vf_clip_param": 1000000.0, "optimizer": {}, "collect_metrics_timeout": 180, "tf_session_args": {"intra_op_parallelism_threads": 2, "device_count": {"CPU": 1}, "log_device_placement": false, "gpu_options": {"allow_growth": true}, "inter_op_parallelism_threads": 2, "allow_soft_placement": true}, "sample_batch_size": 750, "train_batch_size": 30000, "observation_filter": "MeanStdFilter", "input": "sampler", "kl_target": 0.01, "callbacks": {"on_train_result": null, "on_sample_end": null, "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7f0a8e586908>", "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7f0a8e586e48>", "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7f0a8e5867b8>"}, "kl_coeff": 0.2, "num_envs_per_worker": 1, "monitor": false, "lr_schedule": null, "output_max_file_size": 67108864, "multiagent": {"policies_to_train": null, "policy_mapping_fn": null, "policy_graphs": {}}, "output_compress_columns": ["obs", "new_obs"], "straggler_mitigation": false, "env_config": {"run": "PPO", "flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"buf_length\": 1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.05,\n            \"eta3\": 0.0,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 5.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnv\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 600,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}"}, "env": "MultiWaveAttenuationMergePOEnv-v0_[eta1, eta2, eta3]:[1.0, 0.1, 0.0]_t_min:10.0_buf_len: 1", "batch_mode": "truncate_episodes", "log_level": "INFO", "simple_optimizer": false, "gamma": 0.99, "entropy_coeff": 0.0, "clip_actions": false, "num_cpus_per_worker": 1, "num_gpus": 0, "vf_loss_coeff": 1.0, "model": {"lstm_cell_size": 256, "conv_activation": "relu", "conv_filters": null, "channel_major": false, "fcnet_hiddens": [128, 64, 32], "max_seq_len": 20, "custom_preprocessor": null, "free_log_std": false, "dim": 84, "custom_options": {}, "squash_to_range": false, "fcnet_activation": "tanh", "framestack": true, "zero_mean": true, "grayscale": false, "use_lstm": false, "custom_model": null, "lstm_use_prev_action_reward": false}, "num_cpus_for_driver": 1, "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "lr": 0.0005, "output": null, "num_gpus_per_worker": 0, "sgd_minibatch_size": 128, "preprocessor_pref": "deepmind", "clip_param": 0.3, "sample_async": false, "custom_resources_per_worker": {}, "use_gae": true, "clip_rewards": null}, "num_metric_batches_dropped": 0, "node_ip": "10.138.0.2", "time_total_s": 2333.760573863983, "episodes_this_iter": 31, "timestamp": 1558329106, "episode_reward_max": 883.4259615196645, "info": {"load_time_ms": 5.654, "default": {"vf_loss": 33.976112365722656, "total_loss": 33.969642639160156, "entropy": 1.3012844324111938, "policy_loss": -0.010980736464262009, "cur_kl_coeff": 0.2999999523162842, "vf_explained_var": 0.3180023729801178, "cur_lr": 0.0005000000237487257, "kl": 0.015048764646053314}, "num_steps_trained": 2975433, "grad_time_ms": 12525.3, "num_steps_sampled": 2975433, "sample_time_ms": 25511.296, "update_time_ms": 8.194}, "time_since_restore": 2333.760573863983, "timesteps_total": 2975433, "episode_len_mean": 692.33, "episodes_total": 1704, "training_iteration": 56, "episode_reward_mean": 797.2072760463218, "hostname": "flow-main", "experiment_id": "24525fc6f3cc408296359cca36b844c9", "done": false, "time_this_iter_s": 39.175281047821045, "iterations_since_restore": 56, "date": "2019-05-20_05-11-46", "timesteps_since_restore": 2975433, "timesteps_this_iter": 46938, "custom_metrics": {"system_level_velocity_min": 11.288368428477009, "outflow_rate_max": 1148.5284303774251, "cost1_mean": 397.93238542384773, "outflow_rate_mean": 1026.872155593792, "cost1_min": 79.78142961840496, "cost2_min": -91.99906818633463, "cost1_max": 440.0968638327247, "outflow_rate_min": 690.5728820304897, "cost2_max": -33.15408147830654, "cost2_mean": -55.578541140097926, "system_level_velocity_max": 17.13671522031136, "system_level_velocity_mean": 15.548525412101464}, "pid": 277, "episode_reward_min": 178.40166102042028, "policy_reward_mean": {}}
{"config": {"num_sgd_iter": 10, "compress_observations": false, "input_evaluation": null, "vf_share_layers": false, "horizon": 1500, "num_workers": 20, "lambda": 0.97, "synchronize_filters": true, "vf_clip_param": 1000000.0, "optimizer": {}, "collect_metrics_timeout": 180, "tf_session_args": {"intra_op_parallelism_threads": 2, "device_count": {"CPU": 1}, "log_device_placement": false, "gpu_options": {"allow_growth": true}, "inter_op_parallelism_threads": 2, "allow_soft_placement": true}, "sample_batch_size": 750, "train_batch_size": 30000, "observation_filter": "MeanStdFilter", "input": "sampler", "kl_target": 0.01, "callbacks": {"on_train_result": null, "on_sample_end": null, "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7f0a8e57b4a8>", "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7f0a8e57b3c8>", "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7f0a8e5d2e80>"}, "kl_coeff": 0.2, "num_envs_per_worker": 1, "monitor": false, "lr_schedule": null, "output_max_file_size": 67108864, "multiagent": {"policies_to_train": null, "policy_mapping_fn": null, "policy_graphs": {}}, "output_compress_columns": ["obs", "new_obs"], "straggler_mitigation": false, "env_config": {"run": "PPO", "flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"buf_length\": 1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.05,\n            \"eta3\": 0.0,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 5.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnv\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 600,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}"}, "env": "MultiWaveAttenuationMergePOEnv-v0_[eta1, eta2, eta3]:[1.0, 0.1, 0.0]_t_min:10.0_buf_len: 1", "batch_mode": "truncate_episodes", "log_level": "INFO", "simple_optimizer": false, "gamma": 0.99, "entropy_coeff": 0.0, "clip_actions": false, "num_cpus_per_worker": 1, "num_gpus": 0, "vf_loss_coeff": 1.0, "model": {"lstm_cell_size": 256, "conv_activation": "relu", "conv_filters": null, "channel_major": false, "fcnet_hiddens": [128, 64, 32], "max_seq_len": 20, "custom_preprocessor": null, "free_log_std": false, "dim": 84, "custom_options": {}, "squash_to_range": false, "fcnet_activation": "tanh", "framestack": true, "zero_mean": true, "grayscale": false, "use_lstm": false, "custom_model": null, "lstm_use_prev_action_reward": false}, "num_cpus_for_driver": 1, "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "lr": 0.0005, "output": null, "num_gpus_per_worker": 0, "sgd_minibatch_size": 128, "preprocessor_pref": "deepmind", "clip_param": 0.3, "sample_async": false, "custom_resources_per_worker": {}, "use_gae": true, "clip_rewards": null}, "num_metric_batches_dropped": 0, "node_ip": "10.138.0.2", "time_total_s": 2371.9844756126404, "episodes_this_iter": 32, "timestamp": 1558329144, "episode_reward_max": 885.3153790213893, "info": {"load_time_ms": 5.529, "default": {"vf_loss": 33.737754821777344, "total_loss": 33.73176193237305, "entropy": 1.3006716966629028, "policy_loss": -0.00976486410945654, "cur_kl_coeff": 0.2999999523162842, "vf_explained_var": 0.3188927173614502, "cur_lr": 0.0005000000237487257, "kl": 0.012568109668791294}, "num_steps_trained": 3022415, "grad_time_ms": 12320.235, "num_steps_sampled": 3022415, "sample_time_ms": 25554.888, "update_time_ms": 8.415}, "time_since_restore": 2371.9844756126404, "timesteps_total": 3022415, "episode_len_mean": 698.06, "episodes_total": 1736, "training_iteration": 57, "episode_reward_mean": 807.3103587568704, "hostname": "flow-main", "experiment_id": "24525fc6f3cc408296359cca36b844c9", "done": false, "time_this_iter_s": 38.22390174865723, "iterations_since_restore": 57, "date": "2019-05-20_05-12-24", "timesteps_since_restore": 3022415, "timesteps_this_iter": 46982, "custom_metrics": {"system_level_velocity_min": 11.288368428477009, "outflow_rate_max": 1162.5485065927778, "cost1_mean": 403.9752093439428, "outflow_rate_mean": 1037.7266896968367, "cost1_min": 294.6941958945264, "cost2_min": -89.60861773565216, "cost1_max": 447.01778478698225, "outflow_rate_min": 831.3336519710947, "cost2_max": -33.74260303183314, "cost2_mean": -55.18954838575753, "system_level_velocity_max": 17.256084719238228, "system_level_velocity_mean": 15.644615500405758}, "pid": 277, "episode_reward_min": 606.1031571679875, "policy_reward_mean": {}}
{"config": {"num_sgd_iter": 10, "compress_observations": false, "input_evaluation": null, "vf_share_layers": false, "horizon": 1500, "num_workers": 20, "lambda": 0.97, "synchronize_filters": true, "vf_clip_param": 1000000.0, "optimizer": {}, "collect_metrics_timeout": 180, "tf_session_args": {"intra_op_parallelism_threads": 2, "device_count": {"CPU": 1}, "log_device_placement": false, "gpu_options": {"allow_growth": true}, "inter_op_parallelism_threads": 2, "allow_soft_placement": true}, "sample_batch_size": 750, "train_batch_size": 30000, "observation_filter": "MeanStdFilter", "input": "sampler", "kl_target": 0.01, "callbacks": {"on_train_result": null, "on_sample_end": null, "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7f0a8e5a63c8>", "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7f0a8e57a7b8>", "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7f0a8e5ae710>"}, "kl_coeff": 0.2, "num_envs_per_worker": 1, "monitor": false, "lr_schedule": null, "output_max_file_size": 67108864, "multiagent": {"policies_to_train": null, "policy_mapping_fn": null, "policy_graphs": {}}, "output_compress_columns": ["obs", "new_obs"], "straggler_mitigation": false, "env_config": {"run": "PPO", "flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"buf_length\": 1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.05,\n            \"eta3\": 0.0,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 5.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnv\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 600,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}"}, "env": "MultiWaveAttenuationMergePOEnv-v0_[eta1, eta2, eta3]:[1.0, 0.1, 0.0]_t_min:10.0_buf_len: 1", "batch_mode": "truncate_episodes", "log_level": "INFO", "simple_optimizer": false, "gamma": 0.99, "entropy_coeff": 0.0, "clip_actions": false, "num_cpus_per_worker": 1, "num_gpus": 0, "vf_loss_coeff": 1.0, "model": {"lstm_cell_size": 256, "conv_activation": "relu", "conv_filters": null, "channel_major": false, "fcnet_hiddens": [128, 64, 32], "max_seq_len": 20, "custom_preprocessor": null, "free_log_std": false, "dim": 84, "custom_options": {}, "squash_to_range": false, "fcnet_activation": "tanh", "framestack": true, "zero_mean": true, "grayscale": false, "use_lstm": false, "custom_model": null, "lstm_use_prev_action_reward": false}, "num_cpus_for_driver": 1, "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "lr": 0.0005, "output": null, "num_gpus_per_worker": 0, "sgd_minibatch_size": 128, "preprocessor_pref": "deepmind", "clip_param": 0.3, "sample_async": false, "custom_resources_per_worker": {}, "use_gae": true, "clip_rewards": null}, "num_metric_batches_dropped": 0, "node_ip": "10.138.0.2", "time_total_s": 2408.879136800766, "episodes_this_iter": 31, "timestamp": 1558329181, "episode_reward_max": 885.3153790213893, "info": {"load_time_ms": 5.142, "default": {"vf_loss": 32.79290008544922, "total_loss": 32.785858154296875, "entropy": 1.3147600889205933, "policy_loss": -0.011053911410272121, "cur_kl_coeff": 0.2999999523162842, "vf_explained_var": 0.31048136949539185, "cur_lr": 0.0005000000237487257, "kl": 0.013372615911066532}, "num_steps_trained": 3069473, "grad_time_ms": 12129.98, "num_steps_sampled": 3069473, "sample_time_ms": 25671.946, "update_time_ms": 8.348}, "time_since_restore": 2408.879136800766, "timesteps_total": 3069473, "episode_len_mean": 700.0, "episodes_total": 1767, "training_iteration": 58, "episode_reward_mean": 804.9440592925193, "hostname": "flow-main", "experiment_id": "24525fc6f3cc408296359cca36b844c9", "done": false, "time_this_iter_s": 36.89466118812561, "iterations_since_restore": 58, "date": "2019-05-20_05-13-01", "timesteps_since_restore": 3069473, "timesteps_this_iter": 47058, "custom_metrics": {"system_level_velocity_min": 11.572630627833, "outflow_rate_max": 1162.5485065927778, "cost1_mean": 400.91020769235155, "outflow_rate_mean": 1029.1859691050734, "cost1_min": 300.8280471926317, "cost2_min": -89.60861773565216, "cost1_max": 447.01778478698225, "outflow_rate_min": 831.3336519710947, "cost2_max": -33.74260303183314, "cost2_mean": -56.91810900077989, "system_level_velocity_max": 17.256084719238228, "system_level_velocity_mean": 15.472484387683613}, "pid": 277, "episode_reward_min": 606.1031571679875, "policy_reward_mean": {}}
{"config": {"num_sgd_iter": 10, "compress_observations": false, "input_evaluation": null, "vf_share_layers": false, "horizon": 1500, "num_workers": 20, "lambda": 0.97, "synchronize_filters": true, "vf_clip_param": 1000000.0, "optimizer": {}, "collect_metrics_timeout": 180, "tf_session_args": {"intra_op_parallelism_threads": 2, "device_count": {"CPU": 1}, "log_device_placement": false, "gpu_options": {"allow_growth": true}, "inter_op_parallelism_threads": 2, "allow_soft_placement": true}, "sample_batch_size": 750, "train_batch_size": 30000, "observation_filter": "MeanStdFilter", "input": "sampler", "kl_target": 0.01, "callbacks": {"on_train_result": null, "on_sample_end": null, "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7f0a8e56c550>", "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7f0a8e56cdd8>", "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7f0a8e586e80>"}, "kl_coeff": 0.2, "num_envs_per_worker": 1, "monitor": false, "lr_schedule": null, "output_max_file_size": 67108864, "multiagent": {"policies_to_train": null, "policy_mapping_fn": null, "policy_graphs": {}}, "output_compress_columns": ["obs", "new_obs"], "straggler_mitigation": false, "env_config": {"run": "PPO", "flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"buf_length\": 1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.05,\n            \"eta3\": 0.0,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 5.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnv\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 600,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}"}, "env": "MultiWaveAttenuationMergePOEnv-v0_[eta1, eta2, eta3]:[1.0, 0.1, 0.0]_t_min:10.0_buf_len: 1", "batch_mode": "truncate_episodes", "log_level": "INFO", "simple_optimizer": false, "gamma": 0.99, "entropy_coeff": 0.0, "clip_actions": false, "num_cpus_per_worker": 1, "num_gpus": 0, "vf_loss_coeff": 1.0, "model": {"lstm_cell_size": 256, "conv_activation": "relu", "conv_filters": null, "channel_major": false, "fcnet_hiddens": [128, 64, 32], "max_seq_len": 20, "custom_preprocessor": null, "free_log_std": false, "dim": 84, "custom_options": {}, "squash_to_range": false, "fcnet_activation": "tanh", "framestack": true, "zero_mean": true, "grayscale": false, "use_lstm": false, "custom_model": null, "lstm_use_prev_action_reward": false}, "num_cpus_for_driver": 1, "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "lr": 0.0005, "output": null, "num_gpus_per_worker": 0, "sgd_minibatch_size": 128, "preprocessor_pref": "deepmind", "clip_param": 0.3, "sample_async": false, "custom_resources_per_worker": {}, "use_gae": true, "clip_rewards": null}, "num_metric_batches_dropped": 0, "node_ip": "10.138.0.2", "time_total_s": 2446.1320209503174, "episodes_this_iter": 35, "timestamp": 1558329218, "episode_reward_max": 885.3153790213893, "info": {"load_time_ms": 5.371, "default": {"vf_loss": 37.64906311035156, "total_loss": 37.64240264892578, "entropy": 1.311049461364746, "policy_loss": -0.010862195864319801, "cur_kl_coeff": 0.2999999523162842, "vf_explained_var": 0.25273025035858154, "cur_lr": 0.0005000000237487257, "kl": 0.014008180238306522}, "num_steps_trained": 3116446, "grad_time_ms": 12127.252, "num_steps_sampled": 3116446, "sample_time_ms": 25555.402, "update_time_ms": 8.376}, "time_since_restore": 2446.1320209503174, "timesteps_total": 3116446, "episode_len_mean": 690.97, "episodes_total": 1802, "training_iteration": 59, "episode_reward_mean": 796.1112766000452, "hostname": "flow-main", "experiment_id": "24525fc6f3cc408296359cca36b844c9", "done": false, "time_this_iter_s": 37.25288414955139, "iterations_since_restore": 59, "date": "2019-05-20_05-13-38", "timesteps_since_restore": 3116446, "timesteps_this_iter": 46973, "custom_metrics": {"system_level_velocity_min": 11.572630627833, "outflow_rate_max": 1162.5485065927778, "cost1_mean": 396.96408340026204, "outflow_rate_mean": 1020.4894195436967, "cost1_min": 22.20233270577048, "cost2_min": -89.60861773565216, "cost1_max": 447.01778478698225, "outflow_rate_min": 500.73415127394753, "cost2_max": -16.861663846506286, "cost2_mean": -55.758095162164246, "system_level_velocity_max": 17.936530518958403, "system_level_velocity_mean": 15.529896961353478}, "pid": 277, "episode_reward_min": 52.39548293810142, "policy_reward_mean": {}}
{"config": {"num_sgd_iter": 10, "compress_observations": false, "input_evaluation": null, "vf_share_layers": false, "horizon": 1500, "num_workers": 20, "lambda": 0.97, "synchronize_filters": true, "vf_clip_param": 1000000.0, "optimizer": {}, "collect_metrics_timeout": 180, "tf_session_args": {"intra_op_parallelism_threads": 2, "device_count": {"CPU": 1}, "log_device_placement": false, "gpu_options": {"allow_growth": true}, "inter_op_parallelism_threads": 2, "allow_soft_placement": true}, "sample_batch_size": 750, "train_batch_size": 30000, "observation_filter": "MeanStdFilter", "input": "sampler", "kl_target": 0.01, "callbacks": {"on_train_result": null, "on_sample_end": null, "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7f0a8e5d2550>", "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7f0a8e5865f8>", "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7f0a8e5866a0>"}, "kl_coeff": 0.2, "num_envs_per_worker": 1, "monitor": false, "lr_schedule": null, "output_max_file_size": 67108864, "multiagent": {"policies_to_train": null, "policy_mapping_fn": null, "policy_graphs": {}}, "output_compress_columns": ["obs", "new_obs"], "straggler_mitigation": false, "env_config": {"run": "PPO", "flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"buf_length\": 1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.05,\n            \"eta3\": 0.0,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 5.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnv\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 600,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}"}, "env": "MultiWaveAttenuationMergePOEnv-v0_[eta1, eta2, eta3]:[1.0, 0.1, 0.0]_t_min:10.0_buf_len: 1", "batch_mode": "truncate_episodes", "log_level": "INFO", "simple_optimizer": false, "gamma": 0.99, "entropy_coeff": 0.0, "clip_actions": false, "num_cpus_per_worker": 1, "num_gpus": 0, "vf_loss_coeff": 1.0, "model": {"lstm_cell_size": 256, "conv_activation": "relu", "conv_filters": null, "channel_major": false, "fcnet_hiddens": [128, 64, 32], "max_seq_len": 20, "custom_preprocessor": null, "free_log_std": false, "dim": 84, "custom_options": {}, "squash_to_range": false, "fcnet_activation": "tanh", "framestack": true, "zero_mean": true, "grayscale": false, "use_lstm": false, "custom_model": null, "lstm_use_prev_action_reward": false}, "num_cpus_for_driver": 1, "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "lr": 0.0005, "output": null, "num_gpus_per_worker": 0, "sgd_minibatch_size": 128, "preprocessor_pref": "deepmind", "clip_param": 0.3, "sample_async": false, "custom_resources_per_worker": {}, "use_gae": true, "clip_rewards": null}, "num_metric_batches_dropped": 0, "node_ip": "10.138.0.2", "time_total_s": 2482.8881030082703, "episodes_this_iter": 32, "timestamp": 1558329255, "episode_reward_max": 883.7131370839702, "info": {"load_time_ms": 5.42, "default": {"vf_loss": 35.49143981933594, "total_loss": 35.486793518066406, "entropy": 1.3187590837478638, "policy_loss": -0.008884195238351822, "cur_kl_coeff": 0.2999999523162842, "vf_explained_var": 0.2083008587360382, "cur_lr": 0.0005000000237487257, "kl": 0.014121518470346928}, "num_steps_trained": 3164478, "grad_time_ms": 12194.972, "num_steps_sampled": 3164478, "sample_time_ms": 25315.872, "update_time_ms": 8.295}, "time_since_restore": 2482.8881030082703, "timesteps_total": 3164478, "episode_len_mean": 690.97, "episodes_total": 1834, "training_iteration": 60, "episode_reward_mean": 794.1519478796154, "hostname": "flow-main", "experiment_id": "24525fc6f3cc408296359cca36b844c9", "done": false, "time_this_iter_s": 36.75608205795288, "iterations_since_restore": 60, "date": "2019-05-20_05-14-15", "timesteps_since_restore": 3164478, "timesteps_this_iter": 48032, "custom_metrics": {"system_level_velocity_min": 12.029373834171379, "outflow_rate_max": 1135.692236294389, "cost1_mean": 395.4959178629795, "outflow_rate_mean": 1008.9645900433005, "cost1_min": 22.20233270577048, "cost2_min": -92.1326918483584, "cost1_max": 442.8601663929593, "outflow_rate_min": 500.73415127394753, "cost2_max": -16.861663846506286, "cost2_mean": -55.89415614984338, "system_level_velocity_max": 17.936530518958403, "system_level_velocity_mean": 15.446361053202422}, "pid": 277, "episode_reward_min": 52.39548293810142, "policy_reward_mean": {}}
{"config": {"num_sgd_iter": 10, "compress_observations": false, "input_evaluation": null, "vf_share_layers": false, "horizon": 1500, "num_workers": 20, "lambda": 0.97, "synchronize_filters": true, "vf_clip_param": 1000000.0, "optimizer": {}, "collect_metrics_timeout": 180, "tf_session_args": {"intra_op_parallelism_threads": 2, "device_count": {"CPU": 1}, "log_device_placement": false, "gpu_options": {"allow_growth": true}, "inter_op_parallelism_threads": 2, "allow_soft_placement": true}, "sample_batch_size": 750, "train_batch_size": 30000, "observation_filter": "MeanStdFilter", "input": "sampler", "kl_target": 0.01, "callbacks": {"on_train_result": null, "on_sample_end": null, "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7f0a8e57b2e8>", "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7f0a8e57b080>", "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7f0a8e57bdd8>"}, "kl_coeff": 0.2, "num_envs_per_worker": 1, "monitor": false, "lr_schedule": null, "output_max_file_size": 67108864, "multiagent": {"policies_to_train": null, "policy_mapping_fn": null, "policy_graphs": {}}, "output_compress_columns": ["obs", "new_obs"], "straggler_mitigation": false, "env_config": {"run": "PPO", "flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"buf_length\": 1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.05,\n            \"eta3\": 0.0,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 5.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnv\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 600,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}"}, "env": "MultiWaveAttenuationMergePOEnv-v0_[eta1, eta2, eta3]:[1.0, 0.1, 0.0]_t_min:10.0_buf_len: 1", "batch_mode": "truncate_episodes", "log_level": "INFO", "simple_optimizer": false, "gamma": 0.99, "entropy_coeff": 0.0, "clip_actions": false, "num_cpus_per_worker": 1, "num_gpus": 0, "vf_loss_coeff": 1.0, "model": {"lstm_cell_size": 256, "conv_activation": "relu", "conv_filters": null, "channel_major": false, "fcnet_hiddens": [128, 64, 32], "max_seq_len": 20, "custom_preprocessor": null, "free_log_std": false, "dim": 84, "custom_options": {}, "squash_to_range": false, "fcnet_activation": "tanh", "framestack": true, "zero_mean": true, "grayscale": false, "use_lstm": false, "custom_model": null, "lstm_use_prev_action_reward": false}, "num_cpus_for_driver": 1, "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "lr": 0.0005, "output": null, "num_gpus_per_worker": 0, "sgd_minibatch_size": 128, "preprocessor_pref": "deepmind", "clip_param": 0.3, "sample_async": false, "custom_resources_per_worker": {}, "use_gae": true, "clip_rewards": null}, "num_metric_batches_dropped": 0, "node_ip": "10.138.0.2", "time_total_s": 2519.24098610878, "episodes_this_iter": 32, "timestamp": 1558329292, "episode_reward_max": 900.4816136307146, "info": {"load_time_ms": 5.294, "default": {"vf_loss": 34.11621856689453, "total_loss": 34.11018371582031, "entropy": 1.3046694993972778, "policy_loss": -0.010084567591547966, "cur_kl_coeff": 0.2999999523162842, "vf_explained_var": 0.18760070204734802, "cur_lr": 0.0005000000237487257, "kl": 0.013494530692696571}, "num_steps_trained": 3211214, "grad_time_ms": 12292.976, "num_steps_sampled": 3211214, "sample_time_ms": 24977.673, "update_time_ms": 8.495}, "time_since_restore": 2519.24098610878, "timesteps_total": 3211214, "episode_len_mean": 690.97, "episodes_total": 1866, "training_iteration": 61, "episode_reward_mean": 794.3205369885762, "hostname": "flow-main", "experiment_id": "24525fc6f3cc408296359cca36b844c9", "done": false, "time_this_iter_s": 36.352883100509644, "iterations_since_restore": 61, "date": "2019-05-20_05-14-52", "timesteps_since_restore": 3211214, "timesteps_this_iter": 46736, "custom_metrics": {"system_level_velocity_min": 11.697789743365615, "outflow_rate_max": 1135.692236294389, "cost1_mean": 399.1300299577217, "outflow_rate_mean": 1008.3633451106947, "cost1_min": 22.20233270577048, "cost2_min": -92.1326918483584, "cost1_max": 441.56899141233214, "outflow_rate_min": 500.73415127394753, "cost2_max": -16.861663846506286, "cost2_mean": -53.041239030592514, "system_level_velocity_max": 17.936530518958403, "system_level_velocity_mean": 15.588637725260675}, "pid": 277, "episode_reward_min": 52.39548293810142, "policy_reward_mean": {}}
{"config": {"num_sgd_iter": 10, "compress_observations": false, "input_evaluation": null, "vf_share_layers": false, "horizon": 1500, "num_workers": 20, "lambda": 0.97, "synchronize_filters": true, "vf_clip_param": 1000000.0, "optimizer": {}, "collect_metrics_timeout": 180, "tf_session_args": {"intra_op_parallelism_threads": 2, "device_count": {"CPU": 1}, "log_device_placement": false, "gpu_options": {"allow_growth": true}, "inter_op_parallelism_threads": 2, "allow_soft_placement": true}, "sample_batch_size": 750, "train_batch_size": 30000, "observation_filter": "MeanStdFilter", "input": "sampler", "kl_target": 0.01, "callbacks": {"on_train_result": null, "on_sample_end": null, "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7f0a8e560c50>", "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7f0a8e560e48>", "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7f0a8e56cc18>"}, "kl_coeff": 0.2, "num_envs_per_worker": 1, "monitor": false, "lr_schedule": null, "output_max_file_size": 67108864, "multiagent": {"policies_to_train": null, "policy_mapping_fn": null, "policy_graphs": {}}, "output_compress_columns": ["obs", "new_obs"], "straggler_mitigation": false, "env_config": {"run": "PPO", "flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"buf_length\": 1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.05,\n            \"eta3\": 0.0,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 5.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnv\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 600,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}"}, "env": "MultiWaveAttenuationMergePOEnv-v0_[eta1, eta2, eta3]:[1.0, 0.1, 0.0]_t_min:10.0_buf_len: 1", "batch_mode": "truncate_episodes", "log_level": "INFO", "simple_optimizer": false, "gamma": 0.99, "entropy_coeff": 0.0, "clip_actions": false, "num_cpus_per_worker": 1, "num_gpus": 0, "vf_loss_coeff": 1.0, "model": {"lstm_cell_size": 256, "conv_activation": "relu", "conv_filters": null, "channel_major": false, "fcnet_hiddens": [128, 64, 32], "max_seq_len": 20, "custom_preprocessor": null, "free_log_std": false, "dim": 84, "custom_options": {}, "squash_to_range": false, "fcnet_activation": "tanh", "framestack": true, "zero_mean": true, "grayscale": false, "use_lstm": false, "custom_model": null, "lstm_use_prev_action_reward": false}, "num_cpus_for_driver": 1, "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "lr": 0.0005, "output": null, "num_gpus_per_worker": 0, "sgd_minibatch_size": 128, "preprocessor_pref": "deepmind", "clip_param": 0.3, "sample_async": false, "custom_resources_per_worker": {}, "use_gae": true, "clip_rewards": null}, "num_metric_batches_dropped": 0, "node_ip": "10.138.0.2", "time_total_s": 2556.6808292865753, "episodes_this_iter": 31, "timestamp": 1558329329, "episode_reward_max": 900.4816136307146, "info": {"load_time_ms": 5.26, "default": {"vf_loss": 33.0303840637207, "total_loss": 33.02353286743164, "entropy": 1.3180471658706665, "policy_loss": -0.011116699315607548, "cur_kl_coeff": 0.2999999523162842, "vf_explained_var": 0.27350443601608276, "cur_lr": 0.0005000000237487257, "kl": 0.014215923845767975}, "num_steps_trained": 3258035, "grad_time_ms": 12407.984, "num_steps_sampled": 3258035, "sample_time_ms": 24850.693, "update_time_ms": 8.767}, "time_since_restore": 2556.6808292865753, "timesteps_total": 3258035, "episode_len_mean": 691.12, "episodes_total": 1897, "training_iteration": 62, "episode_reward_mean": 794.5425550419553, "hostname": "flow-main", "experiment_id": "24525fc6f3cc408296359cca36b844c9", "done": false, "time_this_iter_s": 37.43984317779541, "iterations_since_restore": 62, "date": "2019-05-20_05-15-29", "timesteps_since_restore": 3258035, "timesteps_this_iter": 46821, "custom_metrics": {"system_level_velocity_min": 11.697789743365615, "outflow_rate_max": 1135.692236294389, "cost1_mean": 400.3650010751315, "outflow_rate_mean": 1010.7026874034241, "cost1_min": 176.96563258546612, "cost2_min": -92.1326918483584, "cost1_max": 440.9464131603987, "outflow_rate_min": 840.2619841701121, "cost2_max": -32.29374161995128, "cost2_mean": -52.13183850665947, "system_level_velocity_max": 17.057113207382315, "system_level_velocity_mean": 15.599697007424417}, "pid": 277, "episode_reward_min": 347.3768968535383, "policy_reward_mean": {}}
{"config": {"num_sgd_iter": 10, "compress_observations": false, "input_evaluation": null, "vf_share_layers": false, "horizon": 1500, "num_workers": 20, "lambda": 0.97, "synchronize_filters": true, "vf_clip_param": 1000000.0, "optimizer": {}, "collect_metrics_timeout": 180, "tf_session_args": {"intra_op_parallelism_threads": 2, "device_count": {"CPU": 1}, "log_device_placement": false, "gpu_options": {"allow_growth": true}, "inter_op_parallelism_threads": 2, "allow_soft_placement": true}, "sample_batch_size": 750, "train_batch_size": 30000, "observation_filter": "MeanStdFilter", "input": "sampler", "kl_target": 0.01, "callbacks": {"on_train_result": null, "on_sample_end": null, "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7f0a8e586588>", "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7f0a8e5867b8>", "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7f0a8e586f98>"}, "kl_coeff": 0.2, "num_envs_per_worker": 1, "monitor": false, "lr_schedule": null, "output_max_file_size": 67108864, "multiagent": {"policies_to_train": null, "policy_mapping_fn": null, "policy_graphs": {}}, "output_compress_columns": ["obs", "new_obs"], "straggler_mitigation": false, "env_config": {"run": "PPO", "flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"buf_length\": 1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.05,\n            \"eta3\": 0.0,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 5.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnv\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 600,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}"}, "env": "MultiWaveAttenuationMergePOEnv-v0_[eta1, eta2, eta3]:[1.0, 0.1, 0.0]_t_min:10.0_buf_len: 1", "batch_mode": "truncate_episodes", "log_level": "INFO", "simple_optimizer": false, "gamma": 0.99, "entropy_coeff": 0.0, "clip_actions": false, "num_cpus_per_worker": 1, "num_gpus": 0, "vf_loss_coeff": 1.0, "model": {"lstm_cell_size": 256, "conv_activation": "relu", "conv_filters": null, "channel_major": false, "fcnet_hiddens": [128, 64, 32], "max_seq_len": 20, "custom_preprocessor": null, "free_log_std": false, "dim": 84, "custom_options": {}, "squash_to_range": false, "fcnet_activation": "tanh", "framestack": true, "zero_mean": true, "grayscale": false, "use_lstm": false, "custom_model": null, "lstm_use_prev_action_reward": false}, "num_cpus_for_driver": 1, "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "lr": 0.0005, "output": null, "num_gpus_per_worker": 0, "sgd_minibatch_size": 128, "preprocessor_pref": "deepmind", "clip_param": 0.3, "sample_async": false, "custom_resources_per_worker": {}, "use_gae": true, "clip_rewards": null}, "num_metric_batches_dropped": 0, "node_ip": "10.138.0.2", "time_total_s": 2594.459369659424, "episodes_this_iter": 32, "timestamp": 1558329367, "episode_reward_max": 900.4816136307146, "info": {"load_time_ms": 5.009, "default": {"vf_loss": 33.65676498413086, "total_loss": 33.649593353271484, "entropy": 1.3300557136535645, "policy_loss": -0.011542978696525097, "cur_kl_coeff": 0.2999999523162842, "vf_explained_var": 0.29148027300834656, "cur_lr": 0.0005000000237487257, "kl": 0.014559740200638771}, "num_steps_trained": 3304771, "grad_time_ms": 12340.726, "num_steps_sampled": 3304771, "sample_time_ms": 24940.8, "update_time_ms": 8.893}, "time_since_restore": 2594.459369659424, "timesteps_total": 3304771, "episode_len_mean": 693.48, "episodes_total": 1929, "training_iteration": 63, "episode_reward_mean": 791.8291465874433, "hostname": "flow-main", "experiment_id": "24525fc6f3cc408296359cca36b844c9", "done": false, "time_this_iter_s": 37.77854037284851, "iterations_since_restore": 63, "date": "2019-05-20_05-16-07", "timesteps_since_restore": 3304771, "timesteps_this_iter": 46736, "custom_metrics": {"system_level_velocity_min": 11.336313681634095, "outflow_rate_max": 1104.9273077339535, "cost1_mean": 399.59292101334904, "outflow_rate_mean": 1012.2504044385933, "cost1_min": 176.96563258546612, "cost2_min": -109.00024459123682, "cost1_max": 439.0285878841646, "outflow_rate_min": 840.2619841701121, "cost2_max": -32.392045803519125, "cost2_mean": -53.540843992551636, "system_level_velocity_max": 17.057113207382315, "system_level_velocity_mean": 15.501400229496335}, "pid": 277, "episode_reward_min": 347.3768968535383, "policy_reward_mean": {}}
{"config": {"num_sgd_iter": 10, "compress_observations": false, "input_evaluation": null, "vf_share_layers": false, "horizon": 1500, "num_workers": 20, "lambda": 0.97, "synchronize_filters": true, "vf_clip_param": 1000000.0, "optimizer": {}, "collect_metrics_timeout": 180, "tf_session_args": {"intra_op_parallelism_threads": 2, "device_count": {"CPU": 1}, "log_device_placement": false, "gpu_options": {"allow_growth": true}, "inter_op_parallelism_threads": 2, "allow_soft_placement": true}, "sample_batch_size": 750, "train_batch_size": 30000, "observation_filter": "MeanStdFilter", "input": "sampler", "kl_target": 0.01, "callbacks": {"on_train_result": null, "on_sample_end": null, "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7f0a8e57b7f0>", "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7f0a8e57bc50>", "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7f0a8e57b630>"}, "kl_coeff": 0.2, "num_envs_per_worker": 1, "monitor": false, "lr_schedule": null, "output_max_file_size": 67108864, "multiagent": {"policies_to_train": null, "policy_mapping_fn": null, "policy_graphs": {}}, "output_compress_columns": ["obs", "new_obs"], "straggler_mitigation": false, "env_config": {"run": "PPO", "flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"buf_length\": 1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.05,\n            \"eta3\": 0.0,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 5.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnv\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 600,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}"}, "env": "MultiWaveAttenuationMergePOEnv-v0_[eta1, eta2, eta3]:[1.0, 0.1, 0.0]_t_min:10.0_buf_len: 1", "batch_mode": "truncate_episodes", "log_level": "INFO", "simple_optimizer": false, "gamma": 0.99, "entropy_coeff": 0.0, "clip_actions": false, "num_cpus_per_worker": 1, "num_gpus": 0, "vf_loss_coeff": 1.0, "model": {"lstm_cell_size": 256, "conv_activation": "relu", "conv_filters": null, "channel_major": false, "fcnet_hiddens": [128, 64, 32], "max_seq_len": 20, "custom_preprocessor": null, "free_log_std": false, "dim": 84, "custom_options": {}, "squash_to_range": false, "fcnet_activation": "tanh", "framestack": true, "zero_mean": true, "grayscale": false, "use_lstm": false, "custom_model": null, "lstm_use_prev_action_reward": false}, "num_cpus_for_driver": 1, "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "lr": 0.0005, "output": null, "num_gpus_per_worker": 0, "sgd_minibatch_size": 128, "preprocessor_pref": "deepmind", "clip_param": 0.3, "sample_async": false, "custom_resources_per_worker": {}, "use_gae": true, "clip_rewards": null}, "num_metric_batches_dropped": 0, "node_ip": "10.138.0.2", "time_total_s": 2631.001289844513, "episodes_this_iter": 29, "timestamp": 1558329404, "episode_reward_max": 877.2633297545973, "info": {"load_time_ms": 5.049, "default": {"vf_loss": 32.256805419921875, "total_loss": 32.25008010864258, "entropy": 1.332242727279663, "policy_loss": -0.010642307810485363, "cur_kl_coeff": 0.29999998211860657, "vf_explained_var": 0.2830563187599182, "cur_lr": 0.0005000000237487257, "kl": 0.013062505051493645}, "num_steps_trained": 3352234, "grad_time_ms": 12181.505, "num_steps_sampled": 3352234, "sample_time_ms": 25012.367, "update_time_ms": 8.91}, "time_since_restore": 2631.001289844513, "timesteps_total": 3352234, "episode_len_mean": 691.56, "episodes_total": 1958, "training_iteration": 64, "episode_reward_mean": 792.2854121407039, "hostname": "flow-main", "experiment_id": "24525fc6f3cc408296359cca36b844c9", "done": false, "time_this_iter_s": 36.54192018508911, "iterations_since_restore": 64, "date": "2019-05-20_05-16-44", "timesteps_since_restore": 3352234, "timesteps_this_iter": 47463, "custom_metrics": {"system_level_velocity_min": 11.336313681634095, "outflow_rate_max": 1104.9273077339535, "cost1_mean": 398.3038898155786, "outflow_rate_mean": 1013.0839350318382, "cost1_min": 176.96563258546612, "cost2_min": -109.00024459123682, "cost1_max": 438.5310631704285, "outflow_rate_min": 840.2619841701121, "cost2_max": -32.392045803519125, "cost2_mean": -54.79539128366654, "system_level_velocity_max": 17.057113207382315, "system_level_velocity_mean": 15.461487775422206}, "pid": 277, "episode_reward_min": 347.3768968535383, "policy_reward_mean": {}}
{"config": {"num_sgd_iter": 10, "compress_observations": false, "input_evaluation": null, "vf_share_layers": false, "horizon": 1500, "num_workers": 20, "lambda": 0.97, "synchronize_filters": true, "vf_clip_param": 1000000.0, "optimizer": {}, "collect_metrics_timeout": 180, "tf_session_args": {"intra_op_parallelism_threads": 2, "device_count": {"CPU": 1}, "log_device_placement": false, "gpu_options": {"allow_growth": true}, "inter_op_parallelism_threads": 2, "allow_soft_placement": true}, "sample_batch_size": 750, "train_batch_size": 30000, "observation_filter": "MeanStdFilter", "input": "sampler", "kl_target": 0.01, "callbacks": {"on_train_result": null, "on_sample_end": null, "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7f0a8e5861d0>", "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7f0a8e5866a0>", "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7f0a8e586d30>"}, "kl_coeff": 0.2, "num_envs_per_worker": 1, "monitor": false, "lr_schedule": null, "output_max_file_size": 67108864, "multiagent": {"policies_to_train": null, "policy_mapping_fn": null, "policy_graphs": {}}, "output_compress_columns": ["obs", "new_obs"], "straggler_mitigation": false, "env_config": {"run": "PPO", "flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"buf_length\": 1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.05,\n            \"eta3\": 0.0,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 5.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnv\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 600,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}"}, "env": "MultiWaveAttenuationMergePOEnv-v0_[eta1, eta2, eta3]:[1.0, 0.1, 0.0]_t_min:10.0_buf_len: 1", "batch_mode": "truncate_episodes", "log_level": "INFO", "simple_optimizer": false, "gamma": 0.99, "entropy_coeff": 0.0, "clip_actions": false, "num_cpus_per_worker": 1, "num_gpus": 0, "vf_loss_coeff": 1.0, "model": {"lstm_cell_size": 256, "conv_activation": "relu", "conv_filters": null, "channel_major": false, "fcnet_hiddens": [128, 64, 32], "max_seq_len": 20, "custom_preprocessor": null, "free_log_std": false, "dim": 84, "custom_options": {}, "squash_to_range": false, "fcnet_activation": "tanh", "framestack": true, "zero_mean": true, "grayscale": false, "use_lstm": false, "custom_model": null, "lstm_use_prev_action_reward": false}, "num_cpus_for_driver": 1, "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "lr": 0.0005, "output": null, "num_gpus_per_worker": 0, "sgd_minibatch_size": 128, "preprocessor_pref": "deepmind", "clip_param": 0.3, "sample_async": false, "custom_resources_per_worker": {}, "use_gae": true, "clip_rewards": null}, "num_metric_batches_dropped": 0, "node_ip": "10.138.0.2", "time_total_s": 2668.615930080414, "episodes_this_iter": 31, "timestamp": 1558329441, "episode_reward_max": 877.2633297545973, "info": {"load_time_ms": 5.268, "default": {"vf_loss": 32.93075942993164, "total_loss": 32.92417526245117, "entropy": 1.3449758291244507, "policy_loss": -0.011160334572196007, "cur_kl_coeff": 0.29999998211860657, "vf_explained_var": 0.3092951476573944, "cur_lr": 0.0005000000237487257, "kl": 0.015240327455103397}, "num_steps_trained": 3400583, "grad_time_ms": 12207.558, "num_steps_sampled": 3400583, "sample_time_ms": 25086.64, "update_time_ms": 8.669}, "time_since_restore": 2668.615930080414, "timesteps_total": 3400583, "episode_len_mean": 691.56, "episodes_total": 1989, "training_iteration": 65, "episode_reward_mean": 793.7758810584836, "hostname": "flow-main", "experiment_id": "24525fc6f3cc408296359cca36b844c9", "done": false, "time_this_iter_s": 37.61464023590088, "iterations_since_restore": 65, "date": "2019-05-20_05-17-21", "timesteps_since_restore": 3400583, "timesteps_this_iter": 48349, "custom_metrics": {"system_level_velocity_min": 11.336313681634095, "outflow_rate_max": 1125.635076786799, "cost1_mean": 395.9266728418537, "outflow_rate_mean": 1017.5716970125885, "cost1_min": 176.96563258546612, "cost2_min": -109.00024459123682, "cost1_max": 438.5310631704285, "outflow_rate_min": 840.2619841701121, "cost2_max": -32.392045803519125, "cost2_mean": -57.19406206384435, "system_level_velocity_max": 17.057113207382315, "system_level_velocity_mean": 15.35277327567442}, "pid": 277, "episode_reward_min": 347.3768968535383, "policy_reward_mean": {}}
{"config": {"num_sgd_iter": 10, "compress_observations": false, "input_evaluation": null, "vf_share_layers": false, "horizon": 1500, "num_workers": 20, "lambda": 0.97, "synchronize_filters": true, "vf_clip_param": 1000000.0, "optimizer": {}, "collect_metrics_timeout": 180, "tf_session_args": {"intra_op_parallelism_threads": 2, "device_count": {"CPU": 1}, "log_device_placement": false, "gpu_options": {"allow_growth": true}, "inter_op_parallelism_threads": 2, "allow_soft_placement": true}, "sample_batch_size": 750, "train_batch_size": 30000, "observation_filter": "MeanStdFilter", "input": "sampler", "kl_target": 0.01, "callbacks": {"on_train_result": null, "on_sample_end": null, "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7f0a8e586eb8>", "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7f0a8e586d68>", "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7f0a8e586c50>"}, "kl_coeff": 0.2, "num_envs_per_worker": 1, "monitor": false, "lr_schedule": null, "output_max_file_size": 67108864, "multiagent": {"policies_to_train": null, "policy_mapping_fn": null, "policy_graphs": {}}, "output_compress_columns": ["obs", "new_obs"], "straggler_mitigation": false, "env_config": {"run": "PPO", "flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"buf_length\": 1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.05,\n            \"eta3\": 0.0,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 5.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnv\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 600,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}"}, "env": "MultiWaveAttenuationMergePOEnv-v0_[eta1, eta2, eta3]:[1.0, 0.1, 0.0]_t_min:10.0_buf_len: 1", "batch_mode": "truncate_episodes", "log_level": "INFO", "simple_optimizer": false, "gamma": 0.99, "entropy_coeff": 0.0, "clip_actions": false, "num_cpus_per_worker": 1, "num_gpus": 0, "vf_loss_coeff": 1.0, "model": {"lstm_cell_size": 256, "conv_activation": "relu", "conv_filters": null, "channel_major": false, "fcnet_hiddens": [128, 64, 32], "max_seq_len": 20, "custom_preprocessor": null, "free_log_std": false, "dim": 84, "custom_options": {}, "squash_to_range": false, "fcnet_activation": "tanh", "framestack": true, "zero_mean": true, "grayscale": false, "use_lstm": false, "custom_model": null, "lstm_use_prev_action_reward": false}, "num_cpus_for_driver": 1, "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "lr": 0.0005, "output": null, "num_gpus_per_worker": 0, "sgd_minibatch_size": 128, "preprocessor_pref": "deepmind", "clip_param": 0.3, "sample_async": false, "custom_resources_per_worker": {}, "use_gae": true, "clip_rewards": null}, "num_metric_batches_dropped": 0, "node_ip": "10.138.0.2", "time_total_s": 2705.520457983017, "episodes_this_iter": 30, "timestamp": 1558329478, "episode_reward_max": 877.2633297545973, "info": {"load_time_ms": 5.659, "default": {"vf_loss": 30.601333618164062, "total_loss": 30.59564781188965, "entropy": 1.3509060144424438, "policy_loss": -0.009787513874471188, "cur_kl_coeff": 0.2999999523162842, "vf_explained_var": 0.29734936356544495, "cur_lr": 0.0005000000237487257, "kl": 0.013674858026206493}, "num_steps_trained": 3448658, "grad_time_ms": 12362.647, "num_steps_sampled": 3448658, "sample_time_ms": 24704.779, "update_time_ms": 8.427}, "time_since_restore": 2705.520457983017, "timesteps_total": 3448658, "episode_len_mean": 694.53, "episodes_total": 2019, "training_iteration": 66, "episode_reward_mean": 801.7859736345704, "hostname": "flow-main", "experiment_id": "24525fc6f3cc408296359cca36b844c9", "done": false, "time_this_iter_s": 36.90452790260315, "iterations_since_restore": 66, "date": "2019-05-20_05-17-58", "timesteps_since_restore": 3448658, "timesteps_this_iter": 48075, "custom_metrics": {"system_level_velocity_min": 11.174920682479492, "outflow_rate_max": 1125.635076786799, "cost1_mean": 396.61880362466627, "outflow_rate_mean": 1021.2130269002362, "cost1_min": 211.3612519369899, "cost2_min": -106.10668947527117, "cost1_max": 441.59494835899426, "outflow_rate_min": 865.8757061350605, "cost2_max": -35.656289426043244, "cost2_mean": -58.568241510969244, "system_level_velocity_max": 16.898220143077165, "system_level_velocity_mean": 15.29682720240603}, "pid": 277, "episode_reward_min": 441.8540970796319, "policy_reward_mean": {}}
{"config": {"num_sgd_iter": 10, "compress_observations": false, "input_evaluation": null, "vf_share_layers": false, "horizon": 1500, "num_workers": 20, "lambda": 0.97, "synchronize_filters": true, "vf_clip_param": 1000000.0, "optimizer": {}, "collect_metrics_timeout": 180, "tf_session_args": {"intra_op_parallelism_threads": 2, "device_count": {"CPU": 1}, "log_device_placement": false, "gpu_options": {"allow_growth": true}, "inter_op_parallelism_threads": 2, "allow_soft_placement": true}, "sample_batch_size": 750, "train_batch_size": 30000, "observation_filter": "MeanStdFilter", "input": "sampler", "kl_target": 0.01, "callbacks": {"on_train_result": null, "on_sample_end": null, "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7f0a8e57b4a8>", "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7f0a8e57b9b0>", "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7f0a8e57bc18>"}, "kl_coeff": 0.2, "num_envs_per_worker": 1, "monitor": false, "lr_schedule": null, "output_max_file_size": 67108864, "multiagent": {"policies_to_train": null, "policy_mapping_fn": null, "policy_graphs": {}}, "output_compress_columns": ["obs", "new_obs"], "straggler_mitigation": false, "env_config": {"run": "PPO", "flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"buf_length\": 1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.05,\n            \"eta3\": 0.0,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 5.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnv\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 600,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}"}, "env": "MultiWaveAttenuationMergePOEnv-v0_[eta1, eta2, eta3]:[1.0, 0.1, 0.0]_t_min:10.0_buf_len: 1", "batch_mode": "truncate_episodes", "log_level": "INFO", "simple_optimizer": false, "gamma": 0.99, "entropy_coeff": 0.0, "clip_actions": false, "num_cpus_per_worker": 1, "num_gpus": 0, "vf_loss_coeff": 1.0, "model": {"lstm_cell_size": 256, "conv_activation": "relu", "conv_filters": null, "channel_major": false, "fcnet_hiddens": [128, 64, 32], "max_seq_len": 20, "custom_preprocessor": null, "free_log_std": false, "dim": 84, "custom_options": {}, "squash_to_range": false, "fcnet_activation": "tanh", "framestack": true, "zero_mean": true, "grayscale": false, "use_lstm": false, "custom_model": null, "lstm_use_prev_action_reward": false}, "num_cpus_for_driver": 1, "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "lr": 0.0005, "output": null, "num_gpus_per_worker": 0, "sgd_minibatch_size": 128, "preprocessor_pref": "deepmind", "clip_param": 0.3, "sample_async": false, "custom_resources_per_worker": {}, "use_gae": true, "clip_rewards": null}, "num_metric_batches_dropped": 0, "node_ip": "10.138.0.2", "time_total_s": 2742.936708688736, "episodes_this_iter": 32, "timestamp": 1558329516, "episode_reward_max": 878.9813319711214, "info": {"load_time_ms": 5.692, "default": {"vf_loss": 31.972862243652344, "total_loss": 31.96588897705078, "entropy": 1.3410675525665283, "policy_loss": -0.011273866519331932, "cur_kl_coeff": 0.2999999523162842, "vf_explained_var": 0.33695265650749207, "cur_lr": 0.0005000000237487257, "kl": 0.014333786442875862}, "num_steps_trained": 3495503, "grad_time_ms": 12473.26, "num_steps_sampled": 3495503, "sample_time_ms": 24513.087, "update_time_ms": 8.47}, "time_since_restore": 2742.936708688736, "timesteps_total": 3495503, "episode_len_mean": 692.04, "episodes_total": 2051, "training_iteration": 67, "episode_reward_mean": 796.1985284838248, "hostname": "flow-main", "experiment_id": "24525fc6f3cc408296359cca36b844c9", "done": false, "time_this_iter_s": 37.416250705718994, "iterations_since_restore": 67, "date": "2019-05-20_05-18-36", "timesteps_since_restore": 3495503, "timesteps_this_iter": 46845, "custom_metrics": {"system_level_velocity_min": 11.174920682479492, "outflow_rate_max": 1125.635076786799, "cost1_mean": 392.98742788959424, "outflow_rate_mean": 1019.3973905360618, "cost1_min": 211.3612519369899, "cost2_min": -106.10668947527117, "cost1_max": 441.59494835899426, "outflow_rate_min": 865.8757061350605, "cost2_max": -35.582473896695724, "cost2_mean": -58.98003920323492, "system_level_velocity_max": 16.898220143077165, "system_level_velocity_mean": 15.210383512659828}, "pid": 277, "episode_reward_min": 441.8540970796319, "policy_reward_mean": {}}
{"config": {"num_sgd_iter": 10, "compress_observations": false, "input_evaluation": null, "vf_share_layers": false, "horizon": 1500, "num_workers": 20, "lambda": 0.97, "synchronize_filters": true, "vf_clip_param": 1000000.0, "optimizer": {}, "collect_metrics_timeout": 180, "tf_session_args": {"intra_op_parallelism_threads": 2, "device_count": {"CPU": 1}, "log_device_placement": false, "gpu_options": {"allow_growth": true}, "inter_op_parallelism_threads": 2, "allow_soft_placement": true}, "sample_batch_size": 750, "train_batch_size": 30000, "observation_filter": "MeanStdFilter", "input": "sampler", "kl_target": 0.01, "callbacks": {"on_train_result": null, "on_sample_end": null, "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7f0a8e560dd8>", "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7f0a8e5d2a58>", "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7f0a8e560a90>"}, "kl_coeff": 0.2, "num_envs_per_worker": 1, "monitor": false, "lr_schedule": null, "output_max_file_size": 67108864, "multiagent": {"policies_to_train": null, "policy_mapping_fn": null, "policy_graphs": {}}, "output_compress_columns": ["obs", "new_obs"], "straggler_mitigation": false, "env_config": {"run": "PPO", "flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"buf_length\": 1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.05,\n            \"eta3\": 0.0,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 5.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnv\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 600,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}"}, "env": "MultiWaveAttenuationMergePOEnv-v0_[eta1, eta2, eta3]:[1.0, 0.1, 0.0]_t_min:10.0_buf_len: 1", "batch_mode": "truncate_episodes", "log_level": "INFO", "simple_optimizer": false, "gamma": 0.99, "entropy_coeff": 0.0, "clip_actions": false, "num_cpus_per_worker": 1, "num_gpus": 0, "vf_loss_coeff": 1.0, "model": {"lstm_cell_size": 256, "conv_activation": "relu", "conv_filters": null, "channel_major": false, "fcnet_hiddens": [128, 64, 32], "max_seq_len": 20, "custom_preprocessor": null, "free_log_std": false, "dim": 84, "custom_options": {}, "squash_to_range": false, "fcnet_activation": "tanh", "framestack": true, "zero_mean": true, "grayscale": false, "use_lstm": false, "custom_model": null, "lstm_use_prev_action_reward": false}, "num_cpus_for_driver": 1, "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "lr": 0.0005, "output": null, "num_gpus_per_worker": 0, "sgd_minibatch_size": 128, "preprocessor_pref": "deepmind", "clip_param": 0.3, "sample_async": false, "custom_resources_per_worker": {}, "use_gae": true, "clip_rewards": null}, "num_metric_batches_dropped": 0, "node_ip": "10.138.0.2", "time_total_s": 2779.8505749702454, "episodes_this_iter": 33, "timestamp": 1558329553, "episode_reward_max": 894.8498235927698, "info": {"load_time_ms": 6.065, "default": {"vf_loss": 37.00539779663086, "total_loss": 36.998661041259766, "entropy": 1.3180925846099854, "policy_loss": -0.011378816328942776, "cur_kl_coeff": 0.2999999523162842, "vf_explained_var": 0.17185527086257935, "cur_lr": 0.0005000000237487257, "kl": 0.015475042164325714}, "num_steps_trained": 3542084, "grad_time_ms": 12576.411, "num_steps_sampled": 3542084, "sample_time_ms": 24410.37, "update_time_ms": 8.724}, "time_since_restore": 2779.8505749702454, "timesteps_total": 3542084, "episode_len_mean": 693.96, "episodes_total": 2084, "training_iteration": 68, "episode_reward_mean": 799.8435560191386, "hostname": "flow-main", "experiment_id": "24525fc6f3cc408296359cca36b844c9", "done": false, "time_this_iter_s": 36.9138662815094, "iterations_since_restore": 68, "date": "2019-05-20_05-19-13", "timesteps_since_restore": 3542084, "timesteps_this_iter": 46581, "custom_metrics": {"system_level_velocity_min": 11.174920682479492, "outflow_rate_max": 1114.738590127673, "cost1_mean": 397.07588885145117, "outflow_rate_mean": 1018.0861072590575, "cost1_min": 211.3612519369899, "cost2_min": -106.10668947527117, "cost1_max": 441.59494835899426, "outflow_rate_min": 865.8757061350605, "cost2_max": -35.582473896695724, "cost2_mean": -56.833876138717805, "system_level_velocity_max": 17.085680726207887, "system_level_velocity_mean": 15.346664023609023}, "pid": 277, "episode_reward_min": 441.8540970796319, "policy_reward_mean": {}}
{"config": {"num_sgd_iter": 10, "compress_observations": false, "input_evaluation": null, "vf_share_layers": false, "horizon": 1500, "num_workers": 20, "lambda": 0.97, "synchronize_filters": true, "vf_clip_param": 1000000.0, "optimizer": {}, "collect_metrics_timeout": 180, "tf_session_args": {"intra_op_parallelism_threads": 2, "device_count": {"CPU": 1}, "log_device_placement": false, "gpu_options": {"allow_growth": true}, "inter_op_parallelism_threads": 2, "allow_soft_placement": true}, "sample_batch_size": 750, "train_batch_size": 30000, "observation_filter": "MeanStdFilter", "input": "sampler", "kl_target": 0.01, "callbacks": {"on_train_result": null, "on_sample_end": null, "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7f0a8e583f28>", "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7f0a8e583908>", "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7f0a8e583dd8>"}, "kl_coeff": 0.2, "num_envs_per_worker": 1, "monitor": false, "lr_schedule": null, "output_max_file_size": 67108864, "multiagent": {"policies_to_train": null, "policy_mapping_fn": null, "policy_graphs": {}}, "output_compress_columns": ["obs", "new_obs"], "straggler_mitigation": false, "env_config": {"run": "PPO", "flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"buf_length\": 1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.05,\n            \"eta3\": 0.0,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 5.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnv\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 600,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}"}, "env": "MultiWaveAttenuationMergePOEnv-v0_[eta1, eta2, eta3]:[1.0, 0.1, 0.0]_t_min:10.0_buf_len: 1", "batch_mode": "truncate_episodes", "log_level": "INFO", "simple_optimizer": false, "gamma": 0.99, "entropy_coeff": 0.0, "clip_actions": false, "num_cpus_per_worker": 1, "num_gpus": 0, "vf_loss_coeff": 1.0, "model": {"lstm_cell_size": 256, "conv_activation": "relu", "conv_filters": null, "channel_major": false, "fcnet_hiddens": [128, 64, 32], "max_seq_len": 20, "custom_preprocessor": null, "free_log_std": false, "dim": 84, "custom_options": {}, "squash_to_range": false, "fcnet_activation": "tanh", "framestack": true, "zero_mean": true, "grayscale": false, "use_lstm": false, "custom_model": null, "lstm_use_prev_action_reward": false}, "num_cpus_for_driver": 1, "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "lr": 0.0005, "output": null, "num_gpus_per_worker": 0, "sgd_minibatch_size": 128, "preprocessor_pref": "deepmind", "clip_param": 0.3, "sample_async": false, "custom_resources_per_worker": {}, "use_gae": true, "clip_rewards": null}, "num_metric_batches_dropped": 0, "node_ip": "10.138.0.2", "time_total_s": 2816.30034160614, "episodes_this_iter": 35, "timestamp": 1558329589, "episode_reward_max": 894.8498235927698, "info": {"load_time_ms": 6.05, "default": {"vf_loss": 38.482295989990234, "total_loss": 38.4769401550293, "entropy": 1.335458517074585, "policy_loss": -0.009641471318900585, "cur_kl_coeff": 0.29999998211860657, "vf_explained_var": 0.27141839265823364, "cur_lr": 0.0005000000237487257, "kl": 0.014272842556238174}, "num_steps_trained": 3589274, "grad_time_ms": 12389.049, "num_steps_sampled": 3589274, "sample_time_ms": 24517.17, "update_time_ms": 8.969}, "time_since_restore": 2816.30034160614, "timesteps_total": 3589274, "episode_len_mean": 672.22, "episodes_total": 2119, "training_iteration": 69, "episode_reward_mean": 780.1592397979726, "hostname": "flow-main", "experiment_id": "24525fc6f3cc408296359cca36b844c9", "done": false, "time_this_iter_s": 36.449766635894775, "iterations_since_restore": 69, "date": "2019-05-20_05-19-49", "timesteps_since_restore": 3589274, "timesteps_this_iter": 47190, "custom_metrics": {"system_level_velocity_min": 11.622512826066409, "outflow_rate_max": 1119.123138028879, "cost1_mean": 389.3185223153525, "outflow_rate_mean": 1006.081334624319, "cost1_min": 29.25444030364484, "cost2_min": -92.72019609907312, "cost1_max": 437.71392933367395, "outflow_rate_min": 511.4224117109496, "cost2_max": -19.421932554029112, "cost2_mean": -53.63129525328057, "system_level_velocity_max": 18.660797475747785, "system_level_velocity_mean": 15.626499646474153}, "pid": 277, "episode_reward_min": 60.96071400954552, "policy_reward_mean": {}}
{"config": {"num_sgd_iter": 10, "compress_observations": false, "input_evaluation": null, "vf_share_layers": false, "horizon": 1500, "num_workers": 20, "lambda": 0.97, "synchronize_filters": true, "vf_clip_param": 1000000.0, "optimizer": {}, "collect_metrics_timeout": 180, "tf_session_args": {"intra_op_parallelism_threads": 2, "device_count": {"CPU": 1}, "log_device_placement": false, "gpu_options": {"allow_growth": true}, "inter_op_parallelism_threads": 2, "allow_soft_placement": true}, "sample_batch_size": 750, "train_batch_size": 30000, "observation_filter": "MeanStdFilter", "input": "sampler", "kl_target": 0.01, "callbacks": {"on_train_result": null, "on_sample_end": null, "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7f0a8e57bdd8>", "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7f0a8e57b978>", "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7f0a8e57bc88>"}, "kl_coeff": 0.2, "num_envs_per_worker": 1, "monitor": false, "lr_schedule": null, "output_max_file_size": 67108864, "multiagent": {"policies_to_train": null, "policy_mapping_fn": null, "policy_graphs": {}}, "output_compress_columns": ["obs", "new_obs"], "straggler_mitigation": false, "env_config": {"run": "PPO", "flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"buf_length\": 1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.05,\n            \"eta3\": 0.0,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 5.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnv\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 600,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}"}, "env": "MultiWaveAttenuationMergePOEnv-v0_[eta1, eta2, eta3]:[1.0, 0.1, 0.0]_t_min:10.0_buf_len: 1", "batch_mode": "truncate_episodes", "log_level": "INFO", "simple_optimizer": false, "gamma": 0.99, "entropy_coeff": 0.0, "clip_actions": false, "num_cpus_per_worker": 1, "num_gpus": 0, "vf_loss_coeff": 1.0, "model": {"lstm_cell_size": 256, "conv_activation": "relu", "conv_filters": null, "channel_major": false, "fcnet_hiddens": [128, 64, 32], "max_seq_len": 20, "custom_preprocessor": null, "free_log_std": false, "dim": 84, "custom_options": {}, "squash_to_range": false, "fcnet_activation": "tanh", "framestack": true, "zero_mean": true, "grayscale": false, "use_lstm": false, "custom_model": null, "lstm_use_prev_action_reward": false}, "num_cpus_for_driver": 1, "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "lr": 0.0005, "output": null, "num_gpus_per_worker": 0, "sgd_minibatch_size": 128, "preprocessor_pref": "deepmind", "clip_param": 0.3, "sample_async": false, "custom_resources_per_worker": {}, "use_gae": true, "clip_rewards": null}, "num_metric_batches_dropped": 0, "node_ip": "10.138.0.2", "time_total_s": 2853.913876771927, "episodes_this_iter": 34, "timestamp": 1558329627, "episode_reward_max": 894.8498235927698, "info": {"load_time_ms": 6.159, "default": {"vf_loss": 31.90850067138672, "total_loss": 31.902029037475586, "entropy": 1.343220591545105, "policy_loss": -0.010990564711391926, "cur_kl_coeff": 0.2999999523162842, "vf_explained_var": 0.359331876039505, "cur_lr": 0.0005000000237487257, "kl": 0.015065550804138184}, "num_steps_trained": 3637109, "grad_time_ms": 12144.459, "num_steps_sampled": 3637109, "sample_time_ms": 24848.398, "update_time_ms": 8.999}, "time_since_restore": 2853.913876771927, "timesteps_total": 3637109, "episode_len_mean": 668.09, "episodes_total": 2153, "training_iteration": 70, "episode_reward_mean": 780.1724986478388, "hostname": "flow-main", "experiment_id": "24525fc6f3cc408296359cca36b844c9", "done": false, "time_this_iter_s": 37.61353516578674, "iterations_since_restore": 70, "date": "2019-05-20_05-20-27", "timesteps_since_restore": 3637109, "timesteps_this_iter": 47835, "custom_metrics": {"system_level_velocity_min": 11.90446620261133, "outflow_rate_max": 1119.123138028879, "cost1_mean": 389.7209430491335, "outflow_rate_mean": 1010.4159478580164, "cost1_min": 25.577864316452523, "cost2_min": -108.33177942000377, "cost1_max": 438.8961056961622, "outflow_rate_min": 511.4224117109496, "cost2_max": -17.25102614083442, "cost2_mean": -54.69105730166374, "system_level_velocity_max": 18.660797475747785, "system_level_velocity_mean": 15.750390935639059}, "pid": 277, "episode_reward_min": 58.9528478538768, "policy_reward_mean": {}}
{"config": {"num_sgd_iter": 10, "compress_observations": false, "input_evaluation": null, "vf_share_layers": false, "horizon": 1500, "num_workers": 20, "lambda": 0.97, "synchronize_filters": true, "vf_clip_param": 1000000.0, "optimizer": {}, "collect_metrics_timeout": 180, "tf_session_args": {"intra_op_parallelism_threads": 2, "device_count": {"CPU": 1}, "log_device_placement": false, "gpu_options": {"allow_growth": true}, "inter_op_parallelism_threads": 2, "allow_soft_placement": true}, "sample_batch_size": 750, "train_batch_size": 30000, "observation_filter": "MeanStdFilter", "input": "sampler", "kl_target": 0.01, "callbacks": {"on_train_result": null, "on_sample_end": null, "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7f0a8e5604a8>", "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7f0a8e5605f8>", "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7f0a8e5606d8>"}, "kl_coeff": 0.2, "num_envs_per_worker": 1, "monitor": false, "lr_schedule": null, "output_max_file_size": 67108864, "multiagent": {"policies_to_train": null, "policy_mapping_fn": null, "policy_graphs": {}}, "output_compress_columns": ["obs", "new_obs"], "straggler_mitigation": false, "env_config": {"run": "PPO", "flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"buf_length\": 1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.05,\n            \"eta3\": 0.0,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 5.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnv\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 600,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}"}, "env": "MultiWaveAttenuationMergePOEnv-v0_[eta1, eta2, eta3]:[1.0, 0.1, 0.0]_t_min:10.0_buf_len: 1", "batch_mode": "truncate_episodes", "log_level": "INFO", "simple_optimizer": false, "gamma": 0.99, "entropy_coeff": 0.0, "clip_actions": false, "num_cpus_per_worker": 1, "num_gpus": 0, "vf_loss_coeff": 1.0, "model": {"lstm_cell_size": 256, "conv_activation": "relu", "conv_filters": null, "channel_major": false, "fcnet_hiddens": [128, 64, 32], "max_seq_len": 20, "custom_preprocessor": null, "free_log_std": false, "dim": 84, "custom_options": {}, "squash_to_range": false, "fcnet_activation": "tanh", "framestack": true, "zero_mean": true, "grayscale": false, "use_lstm": false, "custom_model": null, "lstm_use_prev_action_reward": false}, "num_cpus_for_driver": 1, "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "lr": 0.0005, "output": null, "num_gpus_per_worker": 0, "sgd_minibatch_size": 128, "preprocessor_pref": "deepmind", "clip_param": 0.3, "sample_async": false, "custom_resources_per_worker": {}, "use_gae": true, "clip_rewards": null}, "num_metric_batches_dropped": 0, "node_ip": "10.138.0.2", "time_total_s": 2891.332836866379, "episodes_this_iter": 32, "timestamp": 1558329664, "episode_reward_max": 897.9385304106004, "info": {"load_time_ms": 6.323, "default": {"vf_loss": 33.05899429321289, "total_loss": 33.052490234375, "entropy": 1.3625071048736572, "policy_loss": -0.010963129810988903, "cur_kl_coeff": 0.2999999523162842, "vf_explained_var": 0.4470210075378418, "cur_lr": 0.0005000000237487257, "kl": 0.014867176301777363}, "num_steps_trained": 3685146, "grad_time_ms": 12183.8, "num_steps_sampled": 3685146, "sample_time_ms": 24914.755, "update_time_ms": 8.645}, "time_since_restore": 2891.332836866379, "timesteps_total": 3685146, "episode_len_mean": 668.09, "episodes_total": 2185, "training_iteration": 71, "episode_reward_mean": 774.007224417793, "hostname": "flow-main", "experiment_id": "24525fc6f3cc408296359cca36b844c9", "done": false, "time_this_iter_s": 37.418960094451904, "iterations_since_restore": 71, "date": "2019-05-20_05-21-04", "timesteps_since_restore": 3685146, "timesteps_this_iter": 48037, "custom_metrics": {"system_level_velocity_min": 11.780220188965476, "outflow_rate_max": 1128.8740400074194, "cost1_mean": 386.15911263258414, "outflow_rate_mean": 1014.7199514796968, "cost1_min": 25.577864316452523, "cost2_min": -108.33177942000377, "cost1_max": 442.93692359541694, "outflow_rate_min": 511.4224117109496, "cost2_max": -17.25102614083442, "cost2_mean": -58.460037320277586, "system_level_velocity_max": 18.660797475747785, "system_level_velocity_mean": 15.607292841662984}, "pid": 277, "episode_reward_min": 58.9528478538768, "policy_reward_mean": {}}
{"config": {"num_sgd_iter": 10, "compress_observations": false, "input_evaluation": null, "vf_share_layers": false, "horizon": 1500, "num_workers": 20, "lambda": 0.97, "synchronize_filters": true, "vf_clip_param": 1000000.0, "optimizer": {}, "collect_metrics_timeout": 180, "tf_session_args": {"intra_op_parallelism_threads": 2, "device_count": {"CPU": 1}, "log_device_placement": false, "gpu_options": {"allow_growth": true}, "inter_op_parallelism_threads": 2, "allow_soft_placement": true}, "sample_batch_size": 750, "train_batch_size": 30000, "observation_filter": "MeanStdFilter", "input": "sampler", "kl_target": 0.01, "callbacks": {"on_train_result": null, "on_sample_end": null, "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7f0a8e558470>", "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7f0a8e57a588>", "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7f0a8e5585c0>"}, "kl_coeff": 0.2, "num_envs_per_worker": 1, "monitor": false, "lr_schedule": null, "output_max_file_size": 67108864, "multiagent": {"policies_to_train": null, "policy_mapping_fn": null, "policy_graphs": {}}, "output_compress_columns": ["obs", "new_obs"], "straggler_mitigation": false, "env_config": {"run": "PPO", "flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"buf_length\": 1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.05,\n            \"eta3\": 0.0,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 5.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnv\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 600,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}"}, "env": "MultiWaveAttenuationMergePOEnv-v0_[eta1, eta2, eta3]:[1.0, 0.1, 0.0]_t_min:10.0_buf_len: 1", "batch_mode": "truncate_episodes", "log_level": "INFO", "simple_optimizer": false, "gamma": 0.99, "entropy_coeff": 0.0, "clip_actions": false, "num_cpus_per_worker": 1, "num_gpus": 0, "vf_loss_coeff": 1.0, "model": {"lstm_cell_size": 256, "conv_activation": "relu", "conv_filters": null, "channel_major": false, "fcnet_hiddens": [128, 64, 32], "max_seq_len": 20, "custom_preprocessor": null, "free_log_std": false, "dim": 84, "custom_options": {}, "squash_to_range": false, "fcnet_activation": "tanh", "framestack": true, "zero_mean": true, "grayscale": false, "use_lstm": false, "custom_model": null, "lstm_use_prev_action_reward": false}, "num_cpus_for_driver": 1, "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "lr": 0.0005, "output": null, "num_gpus_per_worker": 0, "sgd_minibatch_size": 128, "preprocessor_pref": "deepmind", "clip_param": 0.3, "sample_async": false, "custom_resources_per_worker": {}, "use_gae": true, "clip_rewards": null}, "num_metric_batches_dropped": 0, "node_ip": "10.138.0.2", "time_total_s": 2928.679053544998, "episodes_this_iter": 29, "timestamp": 1558329702, "episode_reward_max": 897.9385304106004, "info": {"load_time_ms": 6.553, "default": {"vf_loss": 33.23124694824219, "total_loss": 33.2248649597168, "entropy": 1.338882565498352, "policy_loss": -0.010633273050189018, "cur_kl_coeff": 0.29999998211860657, "vf_explained_var": 0.29160720109939575, "cur_lr": 0.0005000000237487257, "kl": 0.014170240610837936}, "num_steps_trained": 3732571, "grad_time_ms": 12338.452, "num_steps_sampled": 3732571, "sample_time_ms": 24748.024, "update_time_ms": 8.769}, "time_since_restore": 2928.679053544998, "timesteps_total": 3732571, "episode_len_mean": 693.38, "episodes_total": 2214, "training_iteration": 72, "episode_reward_mean": 806.1572126780226, "hostname": "flow-main", "experiment_id": "24525fc6f3cc408296359cca36b844c9", "done": false, "time_this_iter_s": 37.346216678619385, "iterations_since_restore": 72, "date": "2019-05-20_05-21-42", "timesteps_since_restore": 3732571, "timesteps_this_iter": 47425, "custom_metrics": {"system_level_velocity_min": 11.780220188965476, "outflow_rate_max": 1129.5909677371606, "cost1_mean": 401.42527685858914, "outflow_rate_mean": 1033.9413077804572, "cost1_min": 25.577864316452523, "cost2_min": -108.33177942000377, "cost1_max": 442.93692359541694, "outflow_rate_min": 515.2290298787997, "cost2_max": -17.25102614083442, "cost2_mean": -59.060260678975375, "system_level_velocity_max": 18.393925041339415, "system_level_velocity_mean": 15.537506222886188}, "pid": 277, "episode_reward_min": 58.9528478538768, "policy_reward_mean": {}}
{"config": {"num_sgd_iter": 10, "compress_observations": false, "input_evaluation": null, "vf_share_layers": false, "horizon": 1500, "num_workers": 20, "lambda": 0.97, "synchronize_filters": true, "vf_clip_param": 1000000.0, "optimizer": {}, "collect_metrics_timeout": 180, "tf_session_args": {"intra_op_parallelism_threads": 2, "device_count": {"CPU": 1}, "log_device_placement": false, "gpu_options": {"allow_growth": true}, "inter_op_parallelism_threads": 2, "allow_soft_placement": true}, "sample_batch_size": 750, "train_batch_size": 30000, "observation_filter": "MeanStdFilter", "input": "sampler", "kl_target": 0.01, "callbacks": {"on_train_result": null, "on_sample_end": null, "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7f0a8e583fd0>", "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7f0a8e583a58>", "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7f0a8e583c50>"}, "kl_coeff": 0.2, "num_envs_per_worker": 1, "monitor": false, "lr_schedule": null, "output_max_file_size": 67108864, "multiagent": {"policies_to_train": null, "policy_mapping_fn": null, "policy_graphs": {}}, "output_compress_columns": ["obs", "new_obs"], "straggler_mitigation": false, "env_config": {"run": "PPO", "flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"buf_length\": 1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.05,\n            \"eta3\": 0.0,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 5.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnv\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 600,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}"}, "env": "MultiWaveAttenuationMergePOEnv-v0_[eta1, eta2, eta3]:[1.0, 0.1, 0.0]_t_min:10.0_buf_len: 1", "batch_mode": "truncate_episodes", "log_level": "INFO", "simple_optimizer": false, "gamma": 0.99, "entropy_coeff": 0.0, "clip_actions": false, "num_cpus_per_worker": 1, "num_gpus": 0, "vf_loss_coeff": 1.0, "model": {"lstm_cell_size": 256, "conv_activation": "relu", "conv_filters": null, "channel_major": false, "fcnet_hiddens": [128, 64, 32], "max_seq_len": 20, "custom_preprocessor": null, "free_log_std": false, "dim": 84, "custom_options": {}, "squash_to_range": false, "fcnet_activation": "tanh", "framestack": true, "zero_mean": true, "grayscale": false, "use_lstm": false, "custom_model": null, "lstm_use_prev_action_reward": false}, "num_cpus_for_driver": 1, "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "lr": 0.0005, "output": null, "num_gpus_per_worker": 0, "sgd_minibatch_size": 128, "preprocessor_pref": "deepmind", "clip_param": 0.3, "sample_async": false, "custom_resources_per_worker": {}, "use_gae": true, "clip_rewards": null}, "num_metric_batches_dropped": 0, "node_ip": "10.138.0.2", "time_total_s": 2966.0929613113403, "episodes_this_iter": 29, "timestamp": 1558329739, "episode_reward_max": 897.9385304106004, "info": {"load_time_ms": 6.938, "default": {"vf_loss": 33.13770294189453, "total_loss": 33.13136291503906, "entropy": 1.3562393188476562, "policy_loss": -0.01123824343085289, "cur_kl_coeff": 0.2999999523162842, "vf_explained_var": 0.3135024309158325, "cur_lr": 0.0005000000237487257, "kl": 0.016331633552908897}, "num_steps_trained": 3780434, "grad_time_ms": 12573.337, "num_steps_sampled": 3780434, "sample_time_ms": 24476.383, "update_time_ms": 8.82}, "time_since_restore": 2966.0929613113403, "timesteps_total": 3780434, "episode_len_mean": 693.38, "episodes_total": 2243, "training_iteration": 73, "episode_reward_mean": 804.6411587709689, "hostname": "flow-main", "experiment_id": "24525fc6f3cc408296359cca36b844c9", "done": false, "time_this_iter_s": 37.41390776634216, "iterations_since_restore": 73, "date": "2019-05-20_05-22-19", "timesteps_since_restore": 3780434, "timesteps_this_iter": 47863, "custom_metrics": {"system_level_velocity_min": 11.01766068994453, "outflow_rate_max": 1137.1714073738922, "cost1_mean": 399.8904470883874, "outflow_rate_mean": 1031.1380122239748, "cost1_min": 25.577864316452523, "cost2_min": -101.49037434283846, "cost1_max": 443.98749923381826, "outflow_rate_min": 515.2290298787997, "cost2_max": -17.25102614083442, "cost2_mean": -58.42573106464406, "system_level_velocity_max": 18.393925041339415, "system_level_velocity_mean": 15.481469540379157}, "pid": 277, "episode_reward_min": 58.9528478538768, "policy_reward_mean": {}}
{"config": {"num_sgd_iter": 10, "compress_observations": false, "input_evaluation": null, "vf_share_layers": false, "horizon": 1500, "num_workers": 20, "lambda": 0.97, "synchronize_filters": true, "vf_clip_param": 1000000.0, "optimizer": {}, "collect_metrics_timeout": 180, "tf_session_args": {"intra_op_parallelism_threads": 2, "device_count": {"CPU": 1}, "log_device_placement": false, "gpu_options": {"allow_growth": true}, "inter_op_parallelism_threads": 2, "allow_soft_placement": true}, "sample_batch_size": 750, "train_batch_size": 30000, "observation_filter": "MeanStdFilter", "input": "sampler", "kl_target": 0.01, "callbacks": {"on_train_result": null, "on_sample_end": null, "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7f0a8e583208>", "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7f0a8e5d2e80>", "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7f0a8e583400>"}, "kl_coeff": 0.2, "num_envs_per_worker": 1, "monitor": false, "lr_schedule": null, "output_max_file_size": 67108864, "multiagent": {"policies_to_train": null, "policy_mapping_fn": null, "policy_graphs": {}}, "output_compress_columns": ["obs", "new_obs"], "straggler_mitigation": false, "env_config": {"run": "PPO", "flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"buf_length\": 1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.05,\n            \"eta3\": 0.0,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 5.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnv\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 600,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}"}, "env": "MultiWaveAttenuationMergePOEnv-v0_[eta1, eta2, eta3]:[1.0, 0.1, 0.0]_t_min:10.0_buf_len: 1", "batch_mode": "truncate_episodes", "log_level": "INFO", "simple_optimizer": false, "gamma": 0.99, "entropy_coeff": 0.0, "clip_actions": false, "num_cpus_per_worker": 1, "num_gpus": 0, "vf_loss_coeff": 1.0, "model": {"lstm_cell_size": 256, "conv_activation": "relu", "conv_filters": null, "channel_major": false, "fcnet_hiddens": [128, 64, 32], "max_seq_len": 20, "custom_preprocessor": null, "free_log_std": false, "dim": 84, "custom_options": {}, "squash_to_range": false, "fcnet_activation": "tanh", "framestack": true, "zero_mean": true, "grayscale": false, "use_lstm": false, "custom_model": null, "lstm_use_prev_action_reward": false}, "num_cpus_for_driver": 1, "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "lr": 0.0005, "output": null, "num_gpus_per_worker": 0, "sgd_minibatch_size": 128, "preprocessor_pref": "deepmind", "clip_param": 0.3, "sample_async": false, "custom_resources_per_worker": {}, "use_gae": true, "clip_rewards": null}, "num_metric_batches_dropped": 0, "node_ip": "10.138.0.2", "time_total_s": 3004.0723390579224, "episodes_this_iter": 29, "timestamp": 1558329777, "episode_reward_max": 906.8214106771471, "info": {"load_time_ms": 6.929, "default": {"vf_loss": 31.77042579650879, "total_loss": 31.764896392822266, "entropy": 1.3660356998443604, "policy_loss": -0.00989743322134018, "cur_kl_coeff": 0.29999998211860657, "vf_explained_var": 0.4453336298465729, "cur_lr": 0.0005000000237487257, "kl": 0.014562005177140236}, "num_steps_trained": 3829381, "grad_time_ms": 12634.513, "num_steps_sampled": 3829381, "sample_time_ms": 24555.826, "update_time_ms": 9.004}, "time_since_restore": 3004.0723390579224, "timesteps_total": 3829381, "episode_len_mean": 700.0, "episodes_total": 2272, "training_iteration": 74, "episode_reward_mean": 813.570093007908, "hostname": "flow-main", "experiment_id": "24525fc6f3cc408296359cca36b844c9", "done": false, "time_this_iter_s": 37.97937774658203, "iterations_since_restore": 74, "date": "2019-05-20_05-22-57", "timesteps_since_restore": 3829381, "timesteps_this_iter": 48947, "custom_metrics": {"system_level_velocity_min": 10.945189323872816, "outflow_rate_max": 1137.1714073738922, "cost1_mean": 403.0930519968866, "outflow_rate_mean": 1035.275144084352, "cost1_min": 283.2310480203235, "cost2_min": -119.36830808464232, "cost1_max": 443.98749923381826, "outflow_rate_min": 881.595854949051, "cost2_max": -38.15616080469281, "cost2_mean": -58.950086804537115, "system_level_velocity_max": 16.93070146883845, "system_level_velocity_mean": 15.411259198305693}, "pid": 277, "episode_reward_min": 617.142204116946, "policy_reward_mean": {}}
{"config": {"num_sgd_iter": 10, "compress_observations": false, "input_evaluation": null, "vf_share_layers": false, "horizon": 1500, "num_workers": 20, "lambda": 0.97, "synchronize_filters": true, "vf_clip_param": 1000000.0, "optimizer": {}, "collect_metrics_timeout": 180, "tf_session_args": {"intra_op_parallelism_threads": 2, "device_count": {"CPU": 1}, "log_device_placement": false, "gpu_options": {"allow_growth": true}, "inter_op_parallelism_threads": 2, "allow_soft_placement": true}, "sample_batch_size": 750, "train_batch_size": 30000, "observation_filter": "MeanStdFilter", "input": "sampler", "kl_target": 0.01, "callbacks": {"on_train_result": null, "on_sample_end": null, "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7f0a8e57bc88>", "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7f0a8e57bac8>", "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7f0a8e57b4a8>"}, "kl_coeff": 0.2, "num_envs_per_worker": 1, "monitor": false, "lr_schedule": null, "output_max_file_size": 67108864, "multiagent": {"policies_to_train": null, "policy_mapping_fn": null, "policy_graphs": {}}, "output_compress_columns": ["obs", "new_obs"], "straggler_mitigation": false, "env_config": {"run": "PPO", "flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"buf_length\": 1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.05,\n            \"eta3\": 0.0,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 5.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnv\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 600,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}"}, "env": "MultiWaveAttenuationMergePOEnv-v0_[eta1, eta2, eta3]:[1.0, 0.1, 0.0]_t_min:10.0_buf_len: 1", "batch_mode": "truncate_episodes", "log_level": "INFO", "simple_optimizer": false, "gamma": 0.99, "entropy_coeff": 0.0, "clip_actions": false, "num_cpus_per_worker": 1, "num_gpus": 0, "vf_loss_coeff": 1.0, "model": {"lstm_cell_size": 256, "conv_activation": "relu", "conv_filters": null, "channel_major": false, "fcnet_hiddens": [128, 64, 32], "max_seq_len": 20, "custom_preprocessor": null, "free_log_std": false, "dim": 84, "custom_options": {}, "squash_to_range": false, "fcnet_activation": "tanh", "framestack": true, "zero_mean": true, "grayscale": false, "use_lstm": false, "custom_model": null, "lstm_use_prev_action_reward": false}, "num_cpus_for_driver": 1, "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "lr": 0.0005, "output": null, "num_gpus_per_worker": 0, "sgd_minibatch_size": 128, "preprocessor_pref": "deepmind", "clip_param": 0.3, "sample_async": false, "custom_resources_per_worker": {}, "use_gae": true, "clip_rewards": null}, "num_metric_batches_dropped": 0, "node_ip": "10.138.0.2", "time_total_s": 3042.8580210208893, "episodes_this_iter": 30, "timestamp": 1558329816, "episode_reward_max": 906.8214106771471, "info": {"load_time_ms": 6.849, "default": {"vf_loss": 33.56464767456055, "total_loss": 33.558956146240234, "entropy": 1.3505959510803223, "policy_loss": -0.010011901147663593, "cur_kl_coeff": 0.2999999523162842, "vf_explained_var": 0.39564383029937744, "cur_lr": 0.0005000000237487257, "kl": 0.014392532408237457}, "num_steps_trained": 3878148, "grad_time_ms": 12512.874, "num_steps_sampled": 3878148, "sample_time_ms": 24795.952, "update_time_ms": 9.169}, "time_since_restore": 3042.8580210208893, "timesteps_total": 3878148, "episode_len_mean": 700.0, "episodes_total": 2302, "training_iteration": 75, "episode_reward_mean": 817.6232225895612, "hostname": "flow-main", "experiment_id": "24525fc6f3cc408296359cca36b844c9", "done": false, "time_this_iter_s": 38.78568196296692, "iterations_since_restore": 75, "date": "2019-05-20_05-23-36", "timesteps_since_restore": 3878148, "timesteps_this_iter": 48767, "custom_metrics": {"system_level_velocity_min": 10.568629431758787, "outflow_rate_max": 1137.1714073738922, "cost1_mean": 400.3075811565808, "outflow_rate_mean": 1027.8377980301857, "cost1_min": 278.30199593139673, "cost2_min": -119.36830808464232, "cost1_max": 443.98749923381826, "outflow_rate_min": 876.9584502172665, "cost2_max": -37.83716776230239, "cost2_mean": -58.48701269717286, "system_level_velocity_max": 16.939674711560592, "system_level_velocity_mean": 15.300200682296015}, "pid": 277, "episode_reward_min": 617.142204116946, "policy_reward_mean": {}}
{"config": {"num_sgd_iter": 10, "compress_observations": false, "input_evaluation": null, "vf_share_layers": false, "horizon": 1500, "num_workers": 20, "lambda": 0.97, "synchronize_filters": true, "vf_clip_param": 1000000.0, "optimizer": {}, "collect_metrics_timeout": 180, "tf_session_args": {"intra_op_parallelism_threads": 2, "device_count": {"CPU": 1}, "log_device_placement": false, "gpu_options": {"allow_growth": true}, "inter_op_parallelism_threads": 2, "allow_soft_placement": true}, "sample_batch_size": 750, "train_batch_size": 30000, "observation_filter": "MeanStdFilter", "input": "sampler", "kl_target": 0.01, "callbacks": {"on_train_result": null, "on_sample_end": null, "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7f0a8e560cf8>", "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7f0a8e5609b0>", "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7f0a8e586710>"}, "kl_coeff": 0.2, "num_envs_per_worker": 1, "monitor": false, "lr_schedule": null, "output_max_file_size": 67108864, "multiagent": {"policies_to_train": null, "policy_mapping_fn": null, "policy_graphs": {}}, "output_compress_columns": ["obs", "new_obs"], "straggler_mitigation": false, "env_config": {"run": "PPO", "flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"buf_length\": 1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.05,\n            \"eta3\": 0.0,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 5.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnv\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 600,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}"}, "env": "MultiWaveAttenuationMergePOEnv-v0_[eta1, eta2, eta3]:[1.0, 0.1, 0.0]_t_min:10.0_buf_len: 1", "batch_mode": "truncate_episodes", "log_level": "INFO", "simple_optimizer": false, "gamma": 0.99, "entropy_coeff": 0.0, "clip_actions": false, "num_cpus_per_worker": 1, "num_gpus": 0, "vf_loss_coeff": 1.0, "model": {"lstm_cell_size": 256, "conv_activation": "relu", "conv_filters": null, "channel_major": false, "fcnet_hiddens": [128, 64, 32], "max_seq_len": 20, "custom_preprocessor": null, "free_log_std": false, "dim": 84, "custom_options": {}, "squash_to_range": false, "fcnet_activation": "tanh", "framestack": true, "zero_mean": true, "grayscale": false, "use_lstm": false, "custom_model": null, "lstm_use_prev_action_reward": false}, "num_cpus_for_driver": 1, "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "lr": 0.0005, "output": null, "num_gpus_per_worker": 0, "sgd_minibatch_size": 128, "preprocessor_pref": "deepmind", "clip_param": 0.3, "sample_async": false, "custom_resources_per_worker": {}, "use_gae": true, "clip_rewards": null}, "num_metric_batches_dropped": 0, "node_ip": "10.138.0.2", "time_total_s": 3080.8603994846344, "episodes_this_iter": 34, "timestamp": 1558329854, "episode_reward_max": 910.9738750063018, "info": {"load_time_ms": 6.682, "default": {"vf_loss": 38.837440490722656, "total_loss": 38.83043670654297, "entropy": 1.3701220750808716, "policy_loss": -0.011648622341454029, "cur_kl_coeff": 0.29999998211860657, "vf_explained_var": 0.34132906794548035, "cur_lr": 0.0005000000237487257, "kl": 0.01547792088240385}, "num_steps_trained": 3926631, "grad_time_ms": 12199.693, "num_steps_sampled": 3926631, "sample_time_ms": 25220.943, "update_time_ms": 9.153}, "time_since_restore": 3080.8603994846344, "timesteps_total": 3926631, "episode_len_mean": 700.0, "episodes_total": 2336, "training_iteration": 76, "episode_reward_mean": 819.5491406558035, "hostname": "flow-main", "experiment_id": "24525fc6f3cc408296359cca36b844c9", "done": false, "time_this_iter_s": 38.00237846374512, "iterations_since_restore": 76, "date": "2019-05-20_05-24-14", "timesteps_since_restore": 3926631, "timesteps_this_iter": 48483, "custom_metrics": {"system_level_velocity_min": 10.568629431758787, "outflow_rate_max": 1141.748403080427, "cost1_mean": 400.10782581203495, "outflow_rate_mean": 1028.8650524159953, "cost1_min": 278.30199593139673, "cost2_min": -119.36830808464232, "cost1_max": 443.98749923381826, "outflow_rate_min": 876.9584502172665, "cost2_max": -37.83716776230239, "cost2_mean": -59.747480344520966, "system_level_velocity_max": 17.060765661345936, "system_level_velocity_mean": 15.26140109020924}, "pid": 277, "episode_reward_min": 599.4482405816537, "policy_reward_mean": {}}
{"config": {"num_sgd_iter": 10, "compress_observations": false, "input_evaluation": null, "vf_share_layers": false, "horizon": 1500, "num_workers": 20, "lambda": 0.97, "synchronize_filters": true, "vf_clip_param": 1000000.0, "optimizer": {}, "collect_metrics_timeout": 180, "tf_session_args": {"intra_op_parallelism_threads": 2, "device_count": {"CPU": 1}, "log_device_placement": false, "gpu_options": {"allow_growth": true}, "inter_op_parallelism_threads": 2, "allow_soft_placement": true}, "sample_batch_size": 750, "train_batch_size": 30000, "observation_filter": "MeanStdFilter", "input": "sampler", "kl_target": 0.01, "callbacks": {"on_train_result": null, "on_sample_end": null, "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7f0a8e586320>", "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7f0a8e586ac8>", "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7f0a8e586cc0>"}, "kl_coeff": 0.2, "num_envs_per_worker": 1, "monitor": false, "lr_schedule": null, "output_max_file_size": 67108864, "multiagent": {"policies_to_train": null, "policy_mapping_fn": null, "policy_graphs": {}}, "output_compress_columns": ["obs", "new_obs"], "straggler_mitigation": false, "env_config": {"run": "PPO", "flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"buf_length\": 1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.05,\n            \"eta3\": 0.0,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 5.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnv\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 600,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}"}, "env": "MultiWaveAttenuationMergePOEnv-v0_[eta1, eta2, eta3]:[1.0, 0.1, 0.0]_t_min:10.0_buf_len: 1", "batch_mode": "truncate_episodes", "log_level": "INFO", "simple_optimizer": false, "gamma": 0.99, "entropy_coeff": 0.0, "clip_actions": false, "num_cpus_per_worker": 1, "num_gpus": 0, "vf_loss_coeff": 1.0, "model": {"lstm_cell_size": 256, "conv_activation": "relu", "conv_filters": null, "channel_major": false, "fcnet_hiddens": [128, 64, 32], "max_seq_len": 20, "custom_preprocessor": null, "free_log_std": false, "dim": 84, "custom_options": {}, "squash_to_range": false, "fcnet_activation": "tanh", "framestack": true, "zero_mean": true, "grayscale": false, "use_lstm": false, "custom_model": null, "lstm_use_prev_action_reward": false}, "num_cpus_for_driver": 1, "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "lr": 0.0005, "output": null, "num_gpus_per_worker": 0, "sgd_minibatch_size": 128, "preprocessor_pref": "deepmind", "clip_param": 0.3, "sample_async": false, "custom_resources_per_worker": {}, "use_gae": true, "clip_rewards": null}, "num_metric_batches_dropped": 0, "node_ip": "10.138.0.2", "time_total_s": 3118.268993139267, "episodes_this_iter": 31, "timestamp": 1558329891, "episode_reward_max": 910.9738750063018, "info": {"load_time_ms": 6.521, "default": {"vf_loss": 37.03179168701172, "total_loss": 37.02594757080078, "entropy": 1.368003249168396, "policy_loss": -0.010386222042143345, "cur_kl_coeff": 0.29999998211860657, "vf_explained_var": 0.2973887324333191, "cur_lr": 0.0005000000237487257, "kl": 0.01513535063713789}, "num_steps_trained": 3974797, "grad_time_ms": 12214.712, "num_steps_sampled": 3974797, "sample_time_ms": 25206.252, "update_time_ms": 8.744}, "time_since_restore": 3118.268993139267, "timesteps_total": 3974797, "episode_len_mean": 700.0, "episodes_total": 2367, "training_iteration": 77, "episode_reward_mean": 819.7684504934256, "hostname": "flow-main", "experiment_id": "24525fc6f3cc408296359cca36b844c9", "done": false, "time_this_iter_s": 37.40859365463257, "iterations_since_restore": 77, "date": "2019-05-20_05-24-51", "timesteps_since_restore": 3974797, "timesteps_this_iter": 48166, "custom_metrics": {"system_level_velocity_min": 10.568629431758787, "outflow_rate_max": 1148.744943080566, "cost1_mean": 397.7533912723918, "outflow_rate_mean": 1025.200911864795, "cost1_min": 278.30199593139673, "cost2_min": -108.42388945248291, "cost1_max": 443.96638967686084, "outflow_rate_min": 876.9584502172665, "cost2_max": -36.40115453567758, "cost2_mean": -60.10717704872458, "system_level_velocity_max": 17.060765661345936, "system_level_velocity_mean": 15.174138610816897}, "pid": 277, "episode_reward_min": 599.4482405816537, "policy_reward_mean": {}}
{"config": {"num_sgd_iter": 10, "compress_observations": false, "input_evaluation": null, "vf_share_layers": false, "horizon": 1500, "num_workers": 20, "lambda": 0.97, "synchronize_filters": true, "vf_clip_param": 1000000.0, "optimizer": {}, "collect_metrics_timeout": 180, "tf_session_args": {"intra_op_parallelism_threads": 2, "device_count": {"CPU": 1}, "log_device_placement": false, "gpu_options": {"allow_growth": true}, "inter_op_parallelism_threads": 2, "allow_soft_placement": true}, "sample_batch_size": 750, "train_batch_size": 30000, "observation_filter": "MeanStdFilter", "input": "sampler", "kl_target": 0.01, "callbacks": {"on_train_result": null, "on_sample_end": null, "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7f0a8e583fd0>", "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7f0a8e583160>", "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7f0a8e583390>"}, "kl_coeff": 0.2, "num_envs_per_worker": 1, "monitor": false, "lr_schedule": null, "output_max_file_size": 67108864, "multiagent": {"policies_to_train": null, "policy_mapping_fn": null, "policy_graphs": {}}, "output_compress_columns": ["obs", "new_obs"], "straggler_mitigation": false, "env_config": {"run": "PPO", "flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"buf_length\": 1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.05,\n            \"eta3\": 0.0,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 5.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnv\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 600,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}"}, "env": "MultiWaveAttenuationMergePOEnv-v0_[eta1, eta2, eta3]:[1.0, 0.1, 0.0]_t_min:10.0_buf_len: 1", "batch_mode": "truncate_episodes", "log_level": "INFO", "simple_optimizer": false, "gamma": 0.99, "entropy_coeff": 0.0, "clip_actions": false, "num_cpus_per_worker": 1, "num_gpus": 0, "vf_loss_coeff": 1.0, "model": {"lstm_cell_size": 256, "conv_activation": "relu", "conv_filters": null, "channel_major": false, "fcnet_hiddens": [128, 64, 32], "max_seq_len": 20, "custom_preprocessor": null, "free_log_std": false, "dim": 84, "custom_options": {}, "squash_to_range": false, "fcnet_activation": "tanh", "framestack": true, "zero_mean": true, "grayscale": false, "use_lstm": false, "custom_model": null, "lstm_use_prev_action_reward": false}, "num_cpus_for_driver": 1, "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "lr": 0.0005, "output": null, "num_gpus_per_worker": 0, "sgd_minibatch_size": 128, "preprocessor_pref": "deepmind", "clip_param": 0.3, "sample_async": false, "custom_resources_per_worker": {}, "use_gae": true, "clip_rewards": null}, "num_metric_batches_dropped": 0, "node_ip": "10.138.0.2", "time_total_s": 3155.3825471401215, "episodes_this_iter": 31, "timestamp": 1558329929, "episode_reward_max": 910.9738750063018, "info": {"load_time_ms": 6.233, "default": {"vf_loss": 35.954402923583984, "total_loss": 35.94810104370117, "entropy": 1.3530653715133667, "policy_loss": -0.011065257713198662, "cur_kl_coeff": 0.2999999523162842, "vf_explained_var": 0.26398205757141113, "cur_lr": 0.0005000000237487257, "kl": 0.01588313654065132}, "num_steps_trained": 4022331, "grad_time_ms": 12406.408, "num_steps_sampled": 4022331, "sample_time_ms": 25036.177, "update_time_ms": 8.474}, "time_since_restore": 3155.3825471401215, "timesteps_total": 4022331, "episode_len_mean": 700.0, "episodes_total": 2398, "training_iteration": 78, "episode_reward_mean": 822.9474514829885, "hostname": "flow-main", "experiment_id": "24525fc6f3cc408296359cca36b844c9", "done": false, "time_this_iter_s": 37.11355400085449, "iterations_since_restore": 78, "date": "2019-05-20_05-25-29", "timesteps_since_restore": 4022331, "timesteps_this_iter": 47534, "custom_metrics": {"system_level_velocity_min": 10.980754911627116, "outflow_rate_max": 1148.744943080566, "cost1_mean": 401.7177242927137, "outflow_rate_mean": 1033.6515015594605, "cost1_min": 289.2852425852938, "cost2_min": -108.42388945248291, "cost1_max": 445.20963189226165, "outflow_rate_min": 883.8015088746462, "cost2_max": -36.40115453567758, "cost2_mean": -60.17521444530634, "system_level_velocity_max": 17.079396415037767, "system_level_velocity_mean": 15.331901106536861}, "pid": 277, "episode_reward_min": 599.4482405816537, "policy_reward_mean": {}}
{"config": {"num_sgd_iter": 10, "compress_observations": false, "input_evaluation": null, "vf_share_layers": false, "horizon": 1500, "num_workers": 20, "lambda": 0.97, "synchronize_filters": true, "vf_clip_param": 1000000.0, "optimizer": {}, "collect_metrics_timeout": 180, "tf_session_args": {"intra_op_parallelism_threads": 2, "device_count": {"CPU": 1}, "log_device_placement": false, "gpu_options": {"allow_growth": true}, "inter_op_parallelism_threads": 2, "allow_soft_placement": true}, "sample_batch_size": 750, "train_batch_size": 30000, "observation_filter": "MeanStdFilter", "input": "sampler", "kl_target": 0.01, "callbacks": {"on_train_result": null, "on_sample_end": null, "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7f0a8e57b588>", "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7f0a8e57bf98>", "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7f0a8e5a63c8>"}, "kl_coeff": 0.2, "num_envs_per_worker": 1, "monitor": false, "lr_schedule": null, "output_max_file_size": 67108864, "multiagent": {"policies_to_train": null, "policy_mapping_fn": null, "policy_graphs": {}}, "output_compress_columns": ["obs", "new_obs"], "straggler_mitigation": false, "env_config": {"run": "PPO", "flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"buf_length\": 1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.05,\n            \"eta3\": 0.0,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 5.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnv\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 600,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}"}, "env": "MultiWaveAttenuationMergePOEnv-v0_[eta1, eta2, eta3]:[1.0, 0.1, 0.0]_t_min:10.0_buf_len: 1", "batch_mode": "truncate_episodes", "log_level": "INFO", "simple_optimizer": false, "gamma": 0.99, "entropy_coeff": 0.0, "clip_actions": false, "num_cpus_per_worker": 1, "num_gpus": 0, "vf_loss_coeff": 1.0, "model": {"lstm_cell_size": 256, "conv_activation": "relu", "conv_filters": null, "channel_major": false, "fcnet_hiddens": [128, 64, 32], "max_seq_len": 20, "custom_preprocessor": null, "free_log_std": false, "dim": 84, "custom_options": {}, "squash_to_range": false, "fcnet_activation": "tanh", "framestack": true, "zero_mean": true, "grayscale": false, "use_lstm": false, "custom_model": null, "lstm_use_prev_action_reward": false}, "num_cpus_for_driver": 1, "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "lr": 0.0005, "output": null, "num_gpus_per_worker": 0, "sgd_minibatch_size": 128, "preprocessor_pref": "deepmind", "clip_param": 0.3, "sample_async": false, "custom_resources_per_worker": {}, "use_gae": true, "clip_rewards": null}, "num_metric_batches_dropped": 0, "node_ip": "10.138.0.2", "time_total_s": 3191.8369569778442, "episodes_this_iter": 34, "timestamp": 1558329965, "episode_reward_max": 910.3295772449075, "info": {"load_time_ms": 6.168, "default": {"vf_loss": 39.20566177368164, "total_loss": 39.199710845947266, "entropy": 1.34388267993927, "policy_loss": -0.010386129841208458, "cur_kl_coeff": 0.2999999523162842, "vf_explained_var": 0.20540571212768555, "cur_lr": 0.0005000000237487257, "kl": 0.014790798537433147}, "num_steps_trained": 4069416, "grad_time_ms": 12555.629, "num_steps_sampled": 4069416, "sample_time_ms": 24886.336, "update_time_ms": 8.54}, "time_since_restore": 3191.8369569778442, "timesteps_total": 4069416, "episode_len_mean": 700.0, "episodes_total": 2432, "training_iteration": 79, "episode_reward_mean": 823.7649643009275, "hostname": "flow-main", "experiment_id": "24525fc6f3cc408296359cca36b844c9", "done": false, "time_this_iter_s": 36.45440983772278, "iterations_since_restore": 79, "date": "2019-05-20_05-26-05", "timesteps_since_restore": 4069416, "timesteps_this_iter": 47085, "custom_metrics": {"system_level_velocity_min": 12.083317275911178, "outflow_rate_max": 1148.744943080566, "cost1_mean": 404.83629113056503, "outflow_rate_mean": 1033.8564428450688, "cost1_min": 315.4567581986178, "cost2_min": -93.1693524057794, "cost1_max": 445.20963189226165, "outflow_rate_min": 883.8015088746462, "cost2_max": -35.65395557931346, "cost2_mean": -57.8123132380965, "system_level_velocity_max": 17.079396415037767, "system_level_velocity_mean": 15.46753452328071}, "pid": 277, "episode_reward_min": 660.6940400208377, "policy_reward_mean": {}}
{"config": {"num_sgd_iter": 10, "compress_observations": false, "input_evaluation": null, "vf_share_layers": false, "horizon": 1500, "num_workers": 20, "lambda": 0.97, "synchronize_filters": true, "vf_clip_param": 1000000.0, "optimizer": {}, "collect_metrics_timeout": 180, "tf_session_args": {"intra_op_parallelism_threads": 2, "device_count": {"CPU": 1}, "log_device_placement": false, "gpu_options": {"allow_growth": true}, "inter_op_parallelism_threads": 2, "allow_soft_placement": true}, "sample_batch_size": 750, "train_batch_size": 30000, "observation_filter": "MeanStdFilter", "input": "sampler", "kl_target": 0.01, "callbacks": {"on_train_result": null, "on_sample_end": null, "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7f0a8e583630>", "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7f0a8e583198>", "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7f0a8e5830b8>"}, "kl_coeff": 0.2, "num_envs_per_worker": 1, "monitor": false, "lr_schedule": null, "output_max_file_size": 67108864, "multiagent": {"policies_to_train": null, "policy_mapping_fn": null, "policy_graphs": {}}, "output_compress_columns": ["obs", "new_obs"], "straggler_mitigation": false, "env_config": {"run": "PPO", "flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"buf_length\": 1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.05,\n            \"eta3\": 0.0,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 5.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnv\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 600,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}"}, "env": "MultiWaveAttenuationMergePOEnv-v0_[eta1, eta2, eta3]:[1.0, 0.1, 0.0]_t_min:10.0_buf_len: 1", "batch_mode": "truncate_episodes", "log_level": "INFO", "simple_optimizer": false, "gamma": 0.99, "entropy_coeff": 0.0, "clip_actions": false, "num_cpus_per_worker": 1, "num_gpus": 0, "vf_loss_coeff": 1.0, "model": {"lstm_cell_size": 256, "conv_activation": "relu", "conv_filters": null, "channel_major": false, "fcnet_hiddens": [128, 64, 32], "max_seq_len": 20, "custom_preprocessor": null, "free_log_std": false, "dim": 84, "custom_options": {}, "squash_to_range": false, "fcnet_activation": "tanh", "framestack": true, "zero_mean": true, "grayscale": false, "use_lstm": false, "custom_model": null, "lstm_use_prev_action_reward": false}, "num_cpus_for_driver": 1, "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "lr": 0.0005, "output": null, "num_gpus_per_worker": 0, "sgd_minibatch_size": 128, "preprocessor_pref": "deepmind", "clip_param": 0.3, "sample_async": false, "custom_resources_per_worker": {}, "use_gae": true, "clip_rewards": null}, "num_metric_batches_dropped": 0, "node_ip": "10.138.0.2", "time_total_s": 3230.9047400951385, "episodes_this_iter": 31, "timestamp": 1558330004, "episode_reward_max": 910.3295772449075, "info": {"load_time_ms": 6.025, "default": {"vf_loss": 36.66480255126953, "total_loss": 36.65833282470703, "entropy": 1.3442134857177734, "policy_loss": -0.01129070669412613, "cur_kl_coeff": 0.29999998211860657, "vf_explained_var": 0.23324500024318695, "cur_lr": 0.0005000000237487257, "kl": 0.01607358083128929}, "num_steps_trained": 4115825, "grad_time_ms": 12543.086, "num_steps_sampled": 4115825, "sample_time_ms": 25044.968, "update_time_ms": 8.894}, "time_since_restore": 3230.9047400951385, "timesteps_total": 4115825, "episode_len_mean": 697.51, "episodes_total": 2463, "training_iteration": 80, "episode_reward_mean": 817.6791905415917, "hostname": "flow-main", "experiment_id": "24525fc6f3cc408296359cca36b844c9", "done": false, "time_this_iter_s": 39.06778311729431, "iterations_since_restore": 80, "date": "2019-05-20_05-26-44", "timesteps_since_restore": 4115825, "timesteps_this_iter": 46409, "custom_metrics": {"system_level_velocity_min": 10.841493152980458, "outflow_rate_max": 1148.744943080566, "cost1_mean": 404.78574168518526, "outflow_rate_mean": 1030.855596252946, "cost1_min": 273.04001093066904, "cost2_min": -96.32856522884552, "cost1_max": 445.20963189226165, "outflow_rate_min": 873.1287976933152, "cost2_max": -34.43497051560467, "cost2_mean": -56.71424028257063, "system_level_velocity_max": 17.079396415037767, "system_level_velocity_mean": 15.528605281769764}, "pid": 277, "episode_reward_min": 545.0112945088191, "policy_reward_mean": {}}
{"config": {"num_sgd_iter": 10, "compress_observations": false, "input_evaluation": null, "vf_share_layers": false, "horizon": 1500, "num_workers": 20, "lambda": 0.97, "synchronize_filters": true, "vf_clip_param": 1000000.0, "optimizer": {}, "collect_metrics_timeout": 180, "tf_session_args": {"intra_op_parallelism_threads": 2, "device_count": {"CPU": 1}, "log_device_placement": false, "gpu_options": {"allow_growth": true}, "inter_op_parallelism_threads": 2, "allow_soft_placement": true}, "sample_batch_size": 750, "train_batch_size": 30000, "observation_filter": "MeanStdFilter", "input": "sampler", "kl_target": 0.01, "callbacks": {"on_train_result": null, "on_sample_end": null, "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7f0a8e5d2e80>", "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7f0a8e586470>", "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7f0a8e586550>"}, "kl_coeff": 0.2, "num_envs_per_worker": 1, "monitor": false, "lr_schedule": null, "output_max_file_size": 67108864, "multiagent": {"policies_to_train": null, "policy_mapping_fn": null, "policy_graphs": {}}, "output_compress_columns": ["obs", "new_obs"], "straggler_mitigation": false, "env_config": {"run": "PPO", "flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"buf_length\": 1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.05,\n            \"eta3\": 0.0,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 5.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnv\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 600,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}"}, "env": "MultiWaveAttenuationMergePOEnv-v0_[eta1, eta2, eta3]:[1.0, 0.1, 0.0]_t_min:10.0_buf_len: 1", "batch_mode": "truncate_episodes", "log_level": "INFO", "simple_optimizer": false, "gamma": 0.99, "entropy_coeff": 0.0, "clip_actions": false, "num_cpus_per_worker": 1, "num_gpus": 0, "vf_loss_coeff": 1.0, "model": {"lstm_cell_size": 256, "conv_activation": "relu", "conv_filters": null, "channel_major": false, "fcnet_hiddens": [128, 64, 32], "max_seq_len": 20, "custom_preprocessor": null, "free_log_std": false, "dim": 84, "custom_options": {}, "squash_to_range": false, "fcnet_activation": "tanh", "framestack": true, "zero_mean": true, "grayscale": false, "use_lstm": false, "custom_model": null, "lstm_use_prev_action_reward": false}, "num_cpus_for_driver": 1, "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "lr": 0.0005, "output": null, "num_gpus_per_worker": 0, "sgd_minibatch_size": 128, "preprocessor_pref": "deepmind", "clip_param": 0.3, "sample_async": false, "custom_resources_per_worker": {}, "use_gae": true, "clip_rewards": null}, "num_metric_batches_dropped": 0, "node_ip": "10.138.0.2", "time_total_s": 3267.533976793289, "episodes_this_iter": 32, "timestamp": 1558330041, "episode_reward_max": 896.4639728160511, "info": {"load_time_ms": 6.038, "default": {"vf_loss": 35.004146575927734, "total_loss": 34.998634338378906, "entropy": 1.365749716758728, "policy_loss": -0.010339665226638317, "cur_kl_coeff": 0.29999998211860657, "vf_explained_var": 0.3659338355064392, "cur_lr": 0.0005000000237487257, "kl": 0.01609303615987301}, "num_steps_trained": 4162934, "grad_time_ms": 12280.025, "num_steps_sampled": 4162934, "sample_time_ms": 25231.731, "update_time_ms": 8.907}, "time_since_restore": 3267.533976793289, "timesteps_total": 4162934, "episode_len_mean": 697.51, "episodes_total": 2495, "training_iteration": 81, "episode_reward_mean": 809.6607431232511, "hostname": "flow-main", "experiment_id": "24525fc6f3cc408296359cca36b844c9", "done": false, "time_this_iter_s": 36.629236698150635, "iterations_since_restore": 81, "date": "2019-05-20_05-27-21", "timesteps_since_restore": 4162934, "timesteps_this_iter": 47109, "custom_metrics": {"system_level_velocity_min": 10.841493152980458, "outflow_rate_max": 1123.208594763787, "cost1_mean": 403.0363493772866, "outflow_rate_mean": 1022.6701934489652, "cost1_min": 273.04001093066904, "cost2_min": -99.55787747021063, "cost1_max": 447.16737434426057, "outflow_rate_min": 873.1287976933152, "cost2_max": -34.43497051560467, "cost2_mean": -56.391115456578675, "system_level_velocity_max": 17.16911552168869, "system_level_velocity_mean": 15.47010791150612}, "pid": 277, "episode_reward_min": 545.0112945088191, "policy_reward_mean": {}}
{"config": {"num_sgd_iter": 10, "compress_observations": false, "input_evaluation": null, "vf_share_layers": false, "horizon": 1500, "num_workers": 20, "lambda": 0.97, "synchronize_filters": true, "vf_clip_param": 1000000.0, "optimizer": {}, "collect_metrics_timeout": 180, "tf_session_args": {"intra_op_parallelism_threads": 2, "device_count": {"CPU": 1}, "log_device_placement": false, "gpu_options": {"allow_growth": true}, "inter_op_parallelism_threads": 2, "allow_soft_placement": true}, "sample_batch_size": 750, "train_batch_size": 30000, "observation_filter": "MeanStdFilter", "input": "sampler", "kl_target": 0.01, "callbacks": {"on_train_result": null, "on_sample_end": null, "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7f0a8e5606a0>", "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7f0a8e560240>", "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7f0a8e560940>"}, "kl_coeff": 0.2, "num_envs_per_worker": 1, "monitor": false, "lr_schedule": null, "output_max_file_size": 67108864, "multiagent": {"policies_to_train": null, "policy_mapping_fn": null, "policy_graphs": {}}, "output_compress_columns": ["obs", "new_obs"], "straggler_mitigation": false, "env_config": {"run": "PPO", "flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"buf_length\": 1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.05,\n            \"eta3\": 0.0,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 5.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnv\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 600,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}"}, "env": "MultiWaveAttenuationMergePOEnv-v0_[eta1, eta2, eta3]:[1.0, 0.1, 0.0]_t_min:10.0_buf_len: 1", "batch_mode": "truncate_episodes", "log_level": "INFO", "simple_optimizer": false, "gamma": 0.99, "entropy_coeff": 0.0, "clip_actions": false, "num_cpus_per_worker": 1, "num_gpus": 0, "vf_loss_coeff": 1.0, "model": {"lstm_cell_size": 256, "conv_activation": "relu", "conv_filters": null, "channel_major": false, "fcnet_hiddens": [128, 64, 32], "max_seq_len": 20, "custom_preprocessor": null, "free_log_std": false, "dim": 84, "custom_options": {}, "squash_to_range": false, "fcnet_activation": "tanh", "framestack": true, "zero_mean": true, "grayscale": false, "use_lstm": false, "custom_model": null, "lstm_use_prev_action_reward": false}, "num_cpus_for_driver": 1, "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "lr": 0.0005, "output": null, "num_gpus_per_worker": 0, "sgd_minibatch_size": 128, "preprocessor_pref": "deepmind", "clip_param": 0.3, "sample_async": false, "custom_resources_per_worker": {}, "use_gae": true, "clip_rewards": null}, "num_metric_batches_dropped": 0, "node_ip": "10.138.0.2", "time_total_s": 3304.3601076602936, "episodes_this_iter": 29, "timestamp": 1558330078, "episode_reward_max": 896.4639728160511, "info": {"load_time_ms": 5.845, "default": {"vf_loss": 34.515743255615234, "total_loss": 34.510807037353516, "entropy": 1.373633861541748, "policy_loss": -0.009536330588161945, "cur_kl_coeff": 0.2999999523162842, "vf_explained_var": 0.2619290053844452, "cur_lr": 0.0005000000237487257, "kl": 0.015335596166551113}, "num_steps_trained": 4209888, "grad_time_ms": 12097.18, "num_steps_sampled": 4209888, "sample_time_ms": 25365.972, "update_time_ms": 8.328}, "time_since_restore": 3304.3601076602936, "timesteps_total": 4209888, "episode_len_mean": 697.51, "episodes_total": 2524, "training_iteration": 82, "episode_reward_mean": 807.4498647216424, "hostname": "flow-main", "experiment_id": "24525fc6f3cc408296359cca36b844c9", "done": false, "time_this_iter_s": 36.826130867004395, "iterations_since_restore": 82, "date": "2019-05-20_05-27-58", "timesteps_since_restore": 4209888, "timesteps_this_iter": 46954, "custom_metrics": {"system_level_velocity_min": 10.841493152980458, "outflow_rate_max": 1127.8599577763434, "cost1_mean": 403.0211845535178, "outflow_rate_mean": 1019.8539064325312, "cost1_min": 273.04001093066904, "cost2_min": -99.55787747021063, "cost1_max": 447.16737434426057, "outflow_rate_min": 873.1287976933152, "cost2_max": -34.43497051560467, "cost2_mean": -56.85442360240573, "system_level_velocity_max": 17.16911552168869, "system_level_velocity_mean": 15.480781429679737}, "pid": 277, "episode_reward_min": 545.0112945088191, "policy_reward_mean": {}}
{"config": {"num_sgd_iter": 10, "compress_observations": false, "input_evaluation": null, "vf_share_layers": false, "horizon": 1500, "num_workers": 20, "lambda": 0.97, "synchronize_filters": true, "vf_clip_param": 1000000.0, "optimizer": {}, "collect_metrics_timeout": 180, "tf_session_args": {"intra_op_parallelism_threads": 2, "device_count": {"CPU": 1}, "log_device_placement": false, "gpu_options": {"allow_growth": true}, "inter_op_parallelism_threads": 2, "allow_soft_placement": true}, "sample_batch_size": 750, "train_batch_size": 30000, "observation_filter": "MeanStdFilter", "input": "sampler", "kl_target": 0.01, "callbacks": {"on_train_result": null, "on_sample_end": null, "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7f0a8e558f28>", "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7f0a8e558358>", "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7f0a8e5585c0>"}, "kl_coeff": 0.2, "num_envs_per_worker": 1, "monitor": false, "lr_schedule": null, "output_max_file_size": 67108864, "multiagent": {"policies_to_train": null, "policy_mapping_fn": null, "policy_graphs": {}}, "output_compress_columns": ["obs", "new_obs"], "straggler_mitigation": false, "env_config": {"run": "PPO", "flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"buf_length\": 1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.05,\n            \"eta3\": 0.0,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 5.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnv\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 600,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}"}, "env": "MultiWaveAttenuationMergePOEnv-v0_[eta1, eta2, eta3]:[1.0, 0.1, 0.0]_t_min:10.0_buf_len: 1", "batch_mode": "truncate_episodes", "log_level": "INFO", "simple_optimizer": false, "gamma": 0.99, "entropy_coeff": 0.0, "clip_actions": false, "num_cpus_per_worker": 1, "num_gpus": 0, "vf_loss_coeff": 1.0, "model": {"lstm_cell_size": 256, "conv_activation": "relu", "conv_filters": null, "channel_major": false, "fcnet_hiddens": [128, 64, 32], "max_seq_len": 20, "custom_preprocessor": null, "free_log_std": false, "dim": 84, "custom_options": {}, "squash_to_range": false, "fcnet_activation": "tanh", "framestack": true, "zero_mean": true, "grayscale": false, "use_lstm": false, "custom_model": null, "lstm_use_prev_action_reward": false}, "num_cpus_for_driver": 1, "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "lr": 0.0005, "output": null, "num_gpus_per_worker": 0, "sgd_minibatch_size": 128, "preprocessor_pref": "deepmind", "clip_param": 0.3, "sample_async": false, "custom_resources_per_worker": {}, "use_gae": true, "clip_rewards": null}, "num_metric_batches_dropped": 0, "node_ip": "10.138.0.2", "time_total_s": 3339.9388468265533, "episodes_this_iter": 29, "timestamp": 1558330113, "episode_reward_max": 896.4639728160511, "info": {"load_time_ms": 5.864, "default": {"vf_loss": 33.756385803222656, "total_loss": 33.74909210205078, "entropy": 1.3721047639846802, "policy_loss": -0.01189245656132698, "cur_kl_coeff": 0.2999999523162842, "vf_explained_var": 0.2929719388484955, "cur_lr": 0.0005000000237487257, "kl": 0.015324662439525127}, "num_steps_trained": 4256187, "grad_time_ms": 12098.934, "num_steps_sampled": 4256187, "sample_time_ms": 25180.417, "update_time_ms": 8.107}, "time_since_restore": 3339.9388468265533, "timesteps_total": 4256187, "episode_len_mean": 693.91, "episodes_total": 2553, "training_iteration": 83, "episode_reward_mean": 805.4110643147756, "hostname": "flow-main", "experiment_id": "24525fc6f3cc408296359cca36b844c9", "done": false, "time_this_iter_s": 35.578739166259766, "iterations_since_restore": 83, "date": "2019-05-20_05-28-33", "timesteps_since_restore": 4256187, "timesteps_this_iter": 46299, "custom_metrics": {"system_level_velocity_min": 11.371583689010874, "outflow_rate_max": 1127.8599577763434, "cost1_mean": 405.1765147247833, "outflow_rate_mean": 1024.8589676258075, "cost1_min": 223.05340187165743, "cost2_min": -102.8062717402187, "cost1_max": 447.16737434426057, "outflow_rate_min": 812.7621462254949, "cost2_max": -39.537131992332455, "cost2_mean": -55.48388567547347, "system_level_velocity_max": 17.16911552168869, "system_level_velocity_mean": 15.649722860859923}, "pid": 277, "episode_reward_min": 434.2967280595201, "policy_reward_mean": {}}
{"config": {"num_sgd_iter": 10, "compress_observations": false, "input_evaluation": null, "vf_share_layers": false, "horizon": 1500, "num_workers": 20, "lambda": 0.97, "synchronize_filters": true, "vf_clip_param": 1000000.0, "optimizer": {}, "collect_metrics_timeout": 180, "tf_session_args": {"intra_op_parallelism_threads": 2, "device_count": {"CPU": 1}, "log_device_placement": false, "gpu_options": {"allow_growth": true}, "inter_op_parallelism_threads": 2, "allow_soft_placement": true}, "sample_batch_size": 750, "train_batch_size": 30000, "observation_filter": "MeanStdFilter", "input": "sampler", "kl_target": 0.01, "callbacks": {"on_train_result": null, "on_sample_end": null, "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7f0a8e583c88>", "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7f0a8e583400>", "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7f0a8e5837f0>"}, "kl_coeff": 0.2, "num_envs_per_worker": 1, "monitor": false, "lr_schedule": null, "output_max_file_size": 67108864, "multiagent": {"policies_to_train": null, "policy_mapping_fn": null, "policy_graphs": {}}, "output_compress_columns": ["obs", "new_obs"], "straggler_mitigation": false, "env_config": {"run": "PPO", "flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"buf_length\": 1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.05,\n            \"eta3\": 0.0,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 5.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnv\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 600,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}"}, "env": "MultiWaveAttenuationMergePOEnv-v0_[eta1, eta2, eta3]:[1.0, 0.1, 0.0]_t_min:10.0_buf_len: 1", "batch_mode": "truncate_episodes", "log_level": "INFO", "simple_optimizer": false, "gamma": 0.99, "entropy_coeff": 0.0, "clip_actions": false, "num_cpus_per_worker": 1, "num_gpus": 0, "vf_loss_coeff": 1.0, "model": {"lstm_cell_size": 256, "conv_activation": "relu", "conv_filters": null, "channel_major": false, "fcnet_hiddens": [128, 64, 32], "max_seq_len": 20, "custom_preprocessor": null, "free_log_std": false, "dim": 84, "custom_options": {}, "squash_to_range": false, "fcnet_activation": "tanh", "framestack": true, "zero_mean": true, "grayscale": false, "use_lstm": false, "custom_model": null, "lstm_use_prev_action_reward": false}, "num_cpus_for_driver": 1, "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "lr": 0.0005, "output": null, "num_gpus_per_worker": 0, "sgd_minibatch_size": 128, "preprocessor_pref": "deepmind", "clip_param": 0.3, "sample_async": false, "custom_resources_per_worker": {}, "use_gae": true, "clip_rewards": null}, "num_metric_batches_dropped": 0, "node_ip": "10.138.0.2", "time_total_s": 3376.8650658130646, "episodes_this_iter": 33, "timestamp": 1558330150, "episode_reward_max": 891.4557601344893, "info": {"load_time_ms": 5.922, "default": {"vf_loss": 36.32730484008789, "total_loss": 36.31951904296875, "entropy": 1.379132866859436, "policy_loss": -0.012565568089485168, "cur_kl_coeff": 0.2999999523162842, "vf_explained_var": 0.29201996326446533, "cur_lr": 0.0005000000237487257, "kl": 0.01593276858329773}, "num_steps_trained": 4303102, "grad_time_ms": 12153.04, "num_steps_sampled": 4303102, "sample_time_ms": 25022.718, "update_time_ms": 8.124}, "time_since_restore": 3376.8650658130646, "timesteps_total": 4303102, "episode_len_mean": 685.47, "episodes_total": 2586, "training_iteration": 84, "episode_reward_mean": 796.8182091323234, "hostname": "flow-main", "experiment_id": "24525fc6f3cc408296359cca36b844c9", "done": false, "time_this_iter_s": 36.92621898651123, "iterations_since_restore": 84, "date": "2019-05-20_05-29-10", "timesteps_since_restore": 4303102, "timesteps_this_iter": 46915, "custom_metrics": {"system_level_velocity_min": 12.272387645377595, "outflow_rate_max": 1127.8599577763434, "cost1_mean": 400.36537570059454, "outflow_rate_mean": 1021.1598608261495, "cost1_min": 178.2824393890245, "cost2_min": -102.8062717402187, "cost1_max": 445.6711477138068, "outflow_rate_min": 812.7621462254949, "cost2_max": -35.06593489572243, "cost2_mean": -54.067697045312116, "system_level_velocity_max": 17.42032278248365, "system_level_velocity_mean": 15.676111032319666}, "pid": 277, "episode_reward_min": 372.3625776447142, "policy_reward_mean": {}}
{"config": {"num_sgd_iter": 10, "compress_observations": false, "input_evaluation": null, "vf_share_layers": false, "horizon": 1500, "num_workers": 20, "lambda": 0.97, "synchronize_filters": true, "vf_clip_param": 1000000.0, "optimizer": {}, "collect_metrics_timeout": 180, "tf_session_args": {"intra_op_parallelism_threads": 2, "device_count": {"CPU": 1}, "log_device_placement": false, "gpu_options": {"allow_growth": true}, "inter_op_parallelism_threads": 2, "allow_soft_placement": true}, "sample_batch_size": 750, "train_batch_size": 30000, "observation_filter": "MeanStdFilter", "input": "sampler", "kl_target": 0.01, "callbacks": {"on_train_result": null, "on_sample_end": null, "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7f0a8e560278>", "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7f0a8e560710>", "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7f0a8e560f60>"}, "kl_coeff": 0.2, "num_envs_per_worker": 1, "monitor": false, "lr_schedule": null, "output_max_file_size": 67108864, "multiagent": {"policies_to_train": null, "policy_mapping_fn": null, "policy_graphs": {}}, "output_compress_columns": ["obs", "new_obs"], "straggler_mitigation": false, "env_config": {"run": "PPO", "flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"buf_length\": 1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.05,\n            \"eta3\": 0.0,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 5.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnv\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 600,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}"}, "env": "MultiWaveAttenuationMergePOEnv-v0_[eta1, eta2, eta3]:[1.0, 0.1, 0.0]_t_min:10.0_buf_len: 1", "batch_mode": "truncate_episodes", "log_level": "INFO", "simple_optimizer": false, "gamma": 0.99, "entropy_coeff": 0.0, "clip_actions": false, "num_cpus_per_worker": 1, "num_gpus": 0, "vf_loss_coeff": 1.0, "model": {"lstm_cell_size": 256, "conv_activation": "relu", "conv_filters": null, "channel_major": false, "fcnet_hiddens": [128, 64, 32], "max_seq_len": 20, "custom_preprocessor": null, "free_log_std": false, "dim": 84, "custom_options": {}, "squash_to_range": false, "fcnet_activation": "tanh", "framestack": true, "zero_mean": true, "grayscale": false, "use_lstm": false, "custom_model": null, "lstm_use_prev_action_reward": false}, "num_cpus_for_driver": 1, "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "lr": 0.0005, "output": null, "num_gpus_per_worker": 0, "sgd_minibatch_size": 128, "preprocessor_pref": "deepmind", "clip_param": 0.3, "sample_async": false, "custom_resources_per_worker": {}, "use_gae": true, "clip_rewards": null}, "num_metric_batches_dropped": 0, "node_ip": "10.138.0.2", "time_total_s": 3414.5502157211304, "episodes_this_iter": 33, "timestamp": 1558330188, "episode_reward_max": 891.4557601344893, "info": {"load_time_ms": 5.651, "default": {"vf_loss": 38.17302322387695, "total_loss": 38.16689682006836, "entropy": 1.3763409852981567, "policy_loss": -0.010842871852219105, "cur_kl_coeff": 0.29999998211860657, "vf_explained_var": 0.28458496928215027, "cur_lr": 0.0005000000237487257, "kl": 0.015727795660495758}, "num_steps_trained": 4349746, "grad_time_ms": 12137.874, "num_steps_sampled": 4349746, "sample_time_ms": 24927.497, "update_time_ms": 8.184}, "time_since_restore": 3414.5502157211304, "timesteps_total": 4349746, "episode_len_mean": 676.96, "episodes_total": 2619, "training_iteration": 85, "episode_reward_mean": 784.863297807278, "hostname": "flow-main", "experiment_id": "24525fc6f3cc408296359cca36b844c9", "done": false, "time_this_iter_s": 37.685149908065796, "iterations_since_restore": 85, "date": "2019-05-20_05-29-48", "timesteps_since_restore": 4349746, "timesteps_this_iter": 46644, "custom_metrics": {"system_level_velocity_min": 12.272387645377595, "outflow_rate_max": 1120.2274696787363, "cost1_mean": 394.07862579422084, "outflow_rate_mean": 1009.8180409027478, "cost1_min": 23.117419878520433, "cost2_min": -102.8062717402187, "cost1_max": 444.06540958439706, "outflow_rate_min": 468.0820169799465, "cost2_max": -22.944921013936288, "cost2_mean": -52.83066154581207, "system_level_velocity_max": 18.727738869781316, "system_level_velocity_mean": 15.6563967507017}, "pid": 277, "episode_reward_min": 46.445062535806095, "policy_reward_mean": {}}
{"config": {"num_sgd_iter": 10, "compress_observations": false, "input_evaluation": null, "vf_share_layers": false, "horizon": 1500, "num_workers": 20, "lambda": 0.97, "synchronize_filters": true, "vf_clip_param": 1000000.0, "optimizer": {}, "collect_metrics_timeout": 180, "tf_session_args": {"intra_op_parallelism_threads": 2, "device_count": {"CPU": 1}, "log_device_placement": false, "gpu_options": {"allow_growth": true}, "inter_op_parallelism_threads": 2, "allow_soft_placement": true}, "sample_batch_size": 750, "train_batch_size": 30000, "observation_filter": "MeanStdFilter", "input": "sampler", "kl_target": 0.01, "callbacks": {"on_train_result": null, "on_sample_end": null, "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7f0a8e583080>", "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7f0a8e583860>", "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7f0a8e583f28>"}, "kl_coeff": 0.2, "num_envs_per_worker": 1, "monitor": false, "lr_schedule": null, "output_max_file_size": 67108864, "multiagent": {"policies_to_train": null, "policy_mapping_fn": null, "policy_graphs": {}}, "output_compress_columns": ["obs", "new_obs"], "straggler_mitigation": false, "env_config": {"run": "PPO", "flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"buf_length\": 1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.05,\n            \"eta3\": 0.0,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 5.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnv\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 600,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}"}, "env": "MultiWaveAttenuationMergePOEnv-v0_[eta1, eta2, eta3]:[1.0, 0.1, 0.0]_t_min:10.0_buf_len: 1", "batch_mode": "truncate_episodes", "log_level": "INFO", "simple_optimizer": false, "gamma": 0.99, "entropy_coeff": 0.0, "clip_actions": false, "num_cpus_per_worker": 1, "num_gpus": 0, "vf_loss_coeff": 1.0, "model": {"lstm_cell_size": 256, "conv_activation": "relu", "conv_filters": null, "channel_major": false, "fcnet_hiddens": [128, 64, 32], "max_seq_len": 20, "custom_preprocessor": null, "free_log_std": false, "dim": 84, "custom_options": {}, "squash_to_range": false, "fcnet_activation": "tanh", "framestack": true, "zero_mean": true, "grayscale": false, "use_lstm": false, "custom_model": null, "lstm_use_prev_action_reward": false}, "num_cpus_for_driver": 1, "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "lr": 0.0005, "output": null, "num_gpus_per_worker": 0, "sgd_minibatch_size": 128, "preprocessor_pref": "deepmind", "clip_param": 0.3, "sample_async": false, "custom_resources_per_worker": {}, "use_gae": true, "clip_rewards": null}, "num_metric_batches_dropped": 0, "node_ip": "10.138.0.2", "time_total_s": 3453.8795692920685, "episodes_this_iter": 33, "timestamp": 1558330228, "episode_reward_max": 879.8063047599763, "info": {"load_time_ms": 5.646, "default": {"vf_loss": 39.1796989440918, "total_loss": 39.17304229736328, "entropy": 1.3858169317245483, "policy_loss": -0.01188715174794197, "cur_kl_coeff": 0.29999998211860657, "vf_explained_var": 0.25922152400016785, "cur_lr": 0.0005000000237487257, "kl": 0.017426516860723495}, "num_steps_trained": 4398027, "grad_time_ms": 12239.782, "num_steps_sampled": 4398027, "sample_time_ms": 24958.176, "update_time_ms": 8.339}, "time_since_restore": 3453.8795692920685, "timesteps_total": 4398027, "episode_len_mean": 676.38, "episodes_total": 2652, "training_iteration": 86, "episode_reward_mean": 780.166052468374, "hostname": "flow-main", "experiment_id": "24525fc6f3cc408296359cca36b844c9", "done": false, "time_this_iter_s": 39.32935357093811, "iterations_since_restore": 86, "date": "2019-05-20_05-30-28", "timesteps_since_restore": 4398027, "timesteps_this_iter": 48281, "custom_metrics": {"system_level_velocity_min": 11.333865988740484, "outflow_rate_max": 1120.2274696787363, "cost1_mean": 391.4247683465975, "outflow_rate_mean": 998.7050404924881, "cost1_min": 21.614262968185827, "cost2_min": -86.18442468172991, "cost1_max": 442.6128496655011, "outflow_rate_min": 468.0820169799465, "cost2_max": -19.45335908543203, "cost2_mean": -51.05594116104412, "system_level_velocity_max": 18.731729884799087, "system_level_velocity_mean": 15.603391645003981}, "pid": 277, "episode_reward_min": 45.43790951599914, "policy_reward_mean": {}}
{"config": {"num_sgd_iter": 10, "compress_observations": false, "input_evaluation": null, "vf_share_layers": false, "horizon": 1500, "num_workers": 20, "lambda": 0.97, "synchronize_filters": true, "vf_clip_param": 1000000.0, "optimizer": {}, "collect_metrics_timeout": 180, "tf_session_args": {"intra_op_parallelism_threads": 2, "device_count": {"CPU": 1}, "log_device_placement": false, "gpu_options": {"allow_growth": true}, "inter_op_parallelism_threads": 2, "allow_soft_placement": true}, "sample_batch_size": 750, "train_batch_size": 30000, "observation_filter": "MeanStdFilter", "input": "sampler", "kl_target": 0.01, "callbacks": {"on_train_result": null, "on_sample_end": null, "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7f0a8e5834e0>", "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7f0a8e5839b0>", "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7f0a8e583978>"}, "kl_coeff": 0.2, "num_envs_per_worker": 1, "monitor": false, "lr_schedule": null, "output_max_file_size": 67108864, "multiagent": {"policies_to_train": null, "policy_mapping_fn": null, "policy_graphs": {}}, "output_compress_columns": ["obs", "new_obs"], "straggler_mitigation": false, "env_config": {"run": "PPO", "flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"buf_length\": 1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.05,\n            \"eta3\": 0.0,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 5.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnv\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 600,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}"}, "env": "MultiWaveAttenuationMergePOEnv-v0_[eta1, eta2, eta3]:[1.0, 0.1, 0.0]_t_min:10.0_buf_len: 1", "batch_mode": "truncate_episodes", "log_level": "INFO", "simple_optimizer": false, "gamma": 0.99, "entropy_coeff": 0.0, "clip_actions": false, "num_cpus_per_worker": 1, "num_gpus": 0, "vf_loss_coeff": 1.0, "model": {"lstm_cell_size": 256, "conv_activation": "relu", "conv_filters": null, "channel_major": false, "fcnet_hiddens": [128, 64, 32], "max_seq_len": 20, "custom_preprocessor": null, "free_log_std": false, "dim": 84, "custom_options": {}, "squash_to_range": false, "fcnet_activation": "tanh", "framestack": true, "zero_mean": true, "grayscale": false, "use_lstm": false, "custom_model": null, "lstm_use_prev_action_reward": false}, "num_cpus_for_driver": 1, "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "lr": 0.0005, "output": null, "num_gpus_per_worker": 0, "sgd_minibatch_size": 128, "preprocessor_pref": "deepmind", "clip_param": 0.3, "sample_async": false, "custom_resources_per_worker": {}, "use_gae": true, "clip_rewards": null}, "num_metric_batches_dropped": 0, "node_ip": "10.138.0.2", "time_total_s": 3490.8452911376953, "episodes_this_iter": 34, "timestamp": 1558330265, "episode_reward_max": 886.7060496656138, "info": {"load_time_ms": 5.95, "default": {"vf_loss": 37.88352966308594, "total_loss": 37.87638473510742, "entropy": 1.3857345581054688, "policy_loss": -0.011900661513209343, "cur_kl_coeff": 0.2999999523162842, "vf_explained_var": 0.23839466273784637, "cur_lr": 0.0005000000237487257, "kl": 0.015863455832004547}, "num_steps_trained": 4444784, "grad_time_ms": 12004.419, "num_steps_sampled": 4444784, "sample_time_ms": 25148.338, "update_time_ms": 8.349}, "time_since_restore": 3490.8452911376953, "timesteps_total": 4444784, "episode_len_mean": 684.82, "episodes_total": 2686, "training_iteration": 87, "episode_reward_mean": 792.8069446379054, "hostname": "flow-main", "experiment_id": "24525fc6f3cc408296359cca36b844c9", "done": false, "time_this_iter_s": 36.96572184562683, "iterations_since_restore": 87, "date": "2019-05-20_05-31-05", "timesteps_since_restore": 4444784, "timesteps_this_iter": 46757, "custom_metrics": {"system_level_velocity_min": 11.333865988740484, "outflow_rate_max": 1099.595786731361, "cost1_mean": 396.32211331825994, "outflow_rate_mean": 1000.2721879708661, "cost1_min": 21.614262968185827, "cost2_min": -86.18442468172991, "cost1_max": 438.6181644675653, "outflow_rate_min": 468.0820169799465, "cost2_max": -19.45335908543203, "cost2_mean": -50.82014665407643, "system_level_velocity_max": 18.731729884799087, "system_level_velocity_mean": 15.57213291001445}, "pid": 277, "episode_reward_min": 45.43790951599914, "policy_reward_mean": {}}
{"config": {"num_sgd_iter": 10, "compress_observations": false, "input_evaluation": null, "vf_share_layers": false, "horizon": 1500, "num_workers": 20, "lambda": 0.97, "synchronize_filters": true, "vf_clip_param": 1000000.0, "optimizer": {}, "collect_metrics_timeout": 180, "tf_session_args": {"intra_op_parallelism_threads": 2, "device_count": {"CPU": 1}, "log_device_placement": false, "gpu_options": {"allow_growth": true}, "inter_op_parallelism_threads": 2, "allow_soft_placement": true}, "sample_batch_size": 750, "train_batch_size": 30000, "observation_filter": "MeanStdFilter", "input": "sampler", "kl_target": 0.01, "callbacks": {"on_train_result": null, "on_sample_end": null, "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7f0a8e57bfd0>", "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7f0a8e57b5f8>", "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7f0a8e57b588>"}, "kl_coeff": 0.2, "num_envs_per_worker": 1, "monitor": false, "lr_schedule": null, "output_max_file_size": 67108864, "multiagent": {"policies_to_train": null, "policy_mapping_fn": null, "policy_graphs": {}}, "output_compress_columns": ["obs", "new_obs"], "straggler_mitigation": false, "env_config": {"run": "PPO", "flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"buf_length\": 1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.05,\n            \"eta3\": 0.0,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 5.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnv\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 600,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}"}, "env": "MultiWaveAttenuationMergePOEnv-v0_[eta1, eta2, eta3]:[1.0, 0.1, 0.0]_t_min:10.0_buf_len: 1", "batch_mode": "truncate_episodes", "log_level": "INFO", "simple_optimizer": false, "gamma": 0.99, "entropy_coeff": 0.0, "clip_actions": false, "num_cpus_per_worker": 1, "num_gpus": 0, "vf_loss_coeff": 1.0, "model": {"lstm_cell_size": 256, "conv_activation": "relu", "conv_filters": null, "channel_major": false, "fcnet_hiddens": [128, 64, 32], "max_seq_len": 20, "custom_preprocessor": null, "free_log_std": false, "dim": 84, "custom_options": {}, "squash_to_range": false, "fcnet_activation": "tanh", "framestack": true, "zero_mean": true, "grayscale": false, "use_lstm": false, "custom_model": null, "lstm_use_prev_action_reward": false}, "num_cpus_for_driver": 1, "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "lr": 0.0005, "output": null, "num_gpus_per_worker": 0, "sgd_minibatch_size": 128, "preprocessor_pref": "deepmind", "clip_param": 0.3, "sample_async": false, "custom_resources_per_worker": {}, "use_gae": true, "clip_rewards": null}, "num_metric_batches_dropped": 0, "node_ip": "10.138.0.2", "time_total_s": 3529.171008825302, "episodes_this_iter": 33, "timestamp": 1558330303, "episode_reward_max": 886.7060496656138, "info": {"load_time_ms": 5.998, "default": {"vf_loss": 35.12668228149414, "total_loss": 35.118919372558594, "entropy": 1.4167850017547607, "policy_loss": -0.012923425994813442, "cur_kl_coeff": 0.29999998211860657, "vf_explained_var": 0.3706797957420349, "cur_lr": 0.0005000000237487257, "kl": 0.017202693969011307}, "num_steps_trained": 4492260, "grad_time_ms": 11866.447, "num_steps_sampled": 4492260, "sample_time_ms": 25408.001, "update_time_ms": 8.466}, "time_since_restore": 3529.171008825302, "timesteps_total": 4492260, "episode_len_mean": 686.75, "episodes_total": 2719, "training_iteration": 88, "episode_reward_mean": 786.0353492741597, "hostname": "flow-main", "experiment_id": "24525fc6f3cc408296359cca36b844c9", "done": false, "time_this_iter_s": 38.32571768760681, "iterations_since_restore": 88, "date": "2019-05-20_05-31-43", "timesteps_since_restore": 4492260, "timesteps_this_iter": 47476, "custom_metrics": {"system_level_velocity_min": 10.986939397096293, "outflow_rate_max": 1102.4610328157269, "cost1_mean": 393.2238179104279, "outflow_rate_mean": 1001.6665071474465, "cost1_min": 21.614262968185827, "cost2_min": -92.01887877971168, "cost1_max": 438.9081372117694, "outflow_rate_min": 481.7588240837895, "cost2_max": -19.45335908543203, "cost2_mean": -52.885586373439125, "system_level_velocity_max": 18.731729884799087, "system_level_velocity_mean": 15.384538500506915}, "pid": 277, "episode_reward_min": 45.43790951599914, "policy_reward_mean": {}}
{"config": {"num_sgd_iter": 10, "compress_observations": false, "input_evaluation": null, "vf_share_layers": false, "horizon": 1500, "num_workers": 20, "lambda": 0.97, "synchronize_filters": true, "vf_clip_param": 1000000.0, "optimizer": {}, "collect_metrics_timeout": 180, "tf_session_args": {"intra_op_parallelism_threads": 2, "device_count": {"CPU": 1}, "log_device_placement": false, "gpu_options": {"allow_growth": true}, "inter_op_parallelism_threads": 2, "allow_soft_placement": true}, "sample_batch_size": 750, "train_batch_size": 30000, "observation_filter": "MeanStdFilter", "input": "sampler", "kl_target": 0.01, "callbacks": {"on_train_result": null, "on_sample_end": null, "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7f0a8e586c88>", "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7f0a8e57bf28>", "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7f0a8e56cac8>"}, "kl_coeff": 0.2, "num_envs_per_worker": 1, "monitor": false, "lr_schedule": null, "output_max_file_size": 67108864, "multiagent": {"policies_to_train": null, "policy_mapping_fn": null, "policy_graphs": {}}, "output_compress_columns": ["obs", "new_obs"], "straggler_mitigation": false, "env_config": {"run": "PPO", "flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"buf_length\": 1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.05,\n            \"eta3\": 0.0,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 5.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnv\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 600,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}"}, "env": "MultiWaveAttenuationMergePOEnv-v0_[eta1, eta2, eta3]:[1.0, 0.1, 0.0]_t_min:10.0_buf_len: 1", "batch_mode": "truncate_episodes", "log_level": "INFO", "simple_optimizer": false, "gamma": 0.99, "entropy_coeff": 0.0, "clip_actions": false, "num_cpus_per_worker": 1, "num_gpus": 0, "vf_loss_coeff": 1.0, "model": {"lstm_cell_size": 256, "conv_activation": "relu", "conv_filters": null, "channel_major": false, "fcnet_hiddens": [128, 64, 32], "max_seq_len": 20, "custom_preprocessor": null, "free_log_std": false, "dim": 84, "custom_options": {}, "squash_to_range": false, "fcnet_activation": "tanh", "framestack": true, "zero_mean": true, "grayscale": false, "use_lstm": false, "custom_model": null, "lstm_use_prev_action_reward": false}, "num_cpus_for_driver": 1, "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "lr": 0.0005, "output": null, "num_gpus_per_worker": 0, "sgd_minibatch_size": 128, "preprocessor_pref": "deepmind", "clip_param": 0.3, "sample_async": false, "custom_resources_per_worker": {}, "use_gae": true, "clip_rewards": null}, "num_metric_batches_dropped": 0, "node_ip": "10.138.0.2", "time_total_s": 3565.0588989257812, "episodes_this_iter": 32, "timestamp": 1558330339, "episode_reward_max": 915.2580219509565, "info": {"load_time_ms": 5.815, "default": {"vf_loss": 38.75437927246094, "total_loss": 38.7479133605957, "entropy": 1.3956255912780762, "policy_loss": -0.01166303176432848, "cur_kl_coeff": 0.2999999523162842, "vf_explained_var": 0.19867222011089325, "cur_lr": 0.0005000000237487257, "kl": 0.017318855971097946}, "num_steps_trained": 4539302, "grad_time_ms": 11894.562, "num_steps_sampled": 4539302, "sample_time_ms": 25324.018, "update_time_ms": 8.308}, "time_since_restore": 3565.0588989257812, "timesteps_total": 4539302, "episode_len_mean": 681.22, "episodes_total": 2751, "training_iteration": 89, "episode_reward_mean": 790.8690929625473, "hostname": "flow-main", "experiment_id": "24525fc6f3cc408296359cca36b844c9", "done": false, "time_this_iter_s": 35.887890100479126, "iterations_since_restore": 89, "date": "2019-05-20_05-32-19", "timesteps_since_restore": 4539302, "timesteps_this_iter": 47042, "custom_metrics": {"system_level_velocity_min": 10.986939397096293, "outflow_rate_max": 1102.4610328157269, "cost1_mean": 392.8142833293417, "outflow_rate_mean": 1004.4474028711716, "cost1_min": 28.416171225940577, "cost2_min": -92.01887877971168, "cost1_max": 442.3465010314717, "outflow_rate_min": 525.7510791713053, "cost2_max": -19.493369980828913, "cost2_mean": -53.1785024309897, "system_level_velocity_max": 18.61882394988862, "system_level_velocity_mean": 15.49396121864296}, "pid": 277, "episode_reward_min": 58.15711018254747, "policy_reward_mean": {}}
{"config": {"num_sgd_iter": 10, "compress_observations": false, "input_evaluation": null, "vf_share_layers": false, "horizon": 1500, "num_workers": 20, "lambda": 0.97, "synchronize_filters": true, "vf_clip_param": 1000000.0, "optimizer": {}, "collect_metrics_timeout": 180, "tf_session_args": {"intra_op_parallelism_threads": 2, "device_count": {"CPU": 1}, "log_device_placement": false, "gpu_options": {"allow_growth": true}, "inter_op_parallelism_threads": 2, "allow_soft_placement": true}, "sample_batch_size": 750, "train_batch_size": 30000, "observation_filter": "MeanStdFilter", "input": "sampler", "kl_target": 0.01, "callbacks": {"on_train_result": null, "on_sample_end": null, "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7f0a8e583320>", "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7f0a8e5d0780>", "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7f0a8e583908>"}, "kl_coeff": 0.2, "num_envs_per_worker": 1, "monitor": false, "lr_schedule": null, "output_max_file_size": 67108864, "multiagent": {"policies_to_train": null, "policy_mapping_fn": null, "policy_graphs": {}}, "output_compress_columns": ["obs", "new_obs"], "straggler_mitigation": false, "env_config": {"run": "PPO", "flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"buf_length\": 1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.05,\n            \"eta3\": 0.0,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 5.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnv\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 600,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}"}, "env": "MultiWaveAttenuationMergePOEnv-v0_[eta1, eta2, eta3]:[1.0, 0.1, 0.0]_t_min:10.0_buf_len: 1", "batch_mode": "truncate_episodes", "log_level": "INFO", "simple_optimizer": false, "gamma": 0.99, "entropy_coeff": 0.0, "clip_actions": false, "num_cpus_per_worker": 1, "num_gpus": 0, "vf_loss_coeff": 1.0, "model": {"lstm_cell_size": 256, "conv_activation": "relu", "conv_filters": null, "channel_major": false, "fcnet_hiddens": [128, 64, 32], "max_seq_len": 20, "custom_preprocessor": null, "free_log_std": false, "dim": 84, "custom_options": {}, "squash_to_range": false, "fcnet_activation": "tanh", "framestack": true, "zero_mean": true, "grayscale": false, "use_lstm": false, "custom_model": null, "lstm_use_prev_action_reward": false}, "num_cpus_for_driver": 1, "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "lr": 0.0005, "output": null, "num_gpus_per_worker": 0, "sgd_minibatch_size": 128, "preprocessor_pref": "deepmind", "clip_param": 0.3, "sample_async": false, "custom_resources_per_worker": {}, "use_gae": true, "clip_rewards": null}, "num_metric_batches_dropped": 0, "node_ip": "10.138.0.2", "time_total_s": 3601.902647972107, "episodes_this_iter": 30, "timestamp": 1558330376, "episode_reward_max": 915.2580219509565, "info": {"load_time_ms": 5.7, "default": {"vf_loss": 34.524925231933594, "total_loss": 34.518550872802734, "entropy": 1.4221153259277344, "policy_loss": -0.010818472132086754, "cur_kl_coeff": 0.29999998211860657, "vf_explained_var": 0.23687340319156647, "cur_lr": 0.0005000000237487257, "kl": 0.014809774234890938}, "num_steps_trained": 4586416, "grad_time_ms": 12061.238, "num_steps_sampled": 4586416, "sample_time_ms": 24933.934, "update_time_ms": 8.196}, "time_since_restore": 3601.902647972107, "timesteps_total": 4586416, "episode_len_mean": 681.22, "episodes_total": 2781, "training_iteration": 90, "episode_reward_mean": 792.6840169951755, "hostname": "flow-main", "experiment_id": "24525fc6f3cc408296359cca36b844c9", "done": false, "time_this_iter_s": 36.843749046325684, "iterations_since_restore": 90, "date": "2019-05-20_05-32-56", "timesteps_since_restore": 4586416, "timesteps_this_iter": 47114, "custom_metrics": {"system_level_velocity_min": 10.986939397096293, "outflow_rate_max": 1102.4610328157269, "cost1_mean": 393.9247576952366, "outflow_rate_mean": 1005.5420725455344, "cost1_min": 28.416171225940577, "cost2_min": -92.01887877971168, "cost1_max": 442.3465010314717, "outflow_rate_min": 525.7510791713053, "cost2_max": -19.493369980828913, "cost2_mean": -53.23371378713071, "system_level_velocity_max": 18.61882394988862, "system_level_velocity_mean": 15.536679907192845}, "pid": 277, "episode_reward_min": 58.15711018254747, "policy_reward_mean": {}}
{"config": {"num_sgd_iter": 10, "compress_observations": false, "input_evaluation": null, "vf_share_layers": false, "horizon": 1500, "num_workers": 20, "lambda": 0.97, "synchronize_filters": true, "vf_clip_param": 1000000.0, "optimizer": {}, "collect_metrics_timeout": 180, "tf_session_args": {"intra_op_parallelism_threads": 2, "device_count": {"CPU": 1}, "log_device_placement": false, "gpu_options": {"allow_growth": true}, "inter_op_parallelism_threads": 2, "allow_soft_placement": true}, "sample_batch_size": 750, "train_batch_size": 30000, "observation_filter": "MeanStdFilter", "input": "sampler", "kl_target": 0.01, "callbacks": {"on_train_result": null, "on_sample_end": null, "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7f0a8e57ae48>", "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7f0a8e57a208>", "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7f0a8e57a668>"}, "kl_coeff": 0.2, "num_envs_per_worker": 1, "monitor": false, "lr_schedule": null, "output_max_file_size": 67108864, "multiagent": {"policies_to_train": null, "policy_mapping_fn": null, "policy_graphs": {}}, "output_compress_columns": ["obs", "new_obs"], "straggler_mitigation": false, "env_config": {"run": "PPO", "flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"buf_length\": 1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.05,\n            \"eta3\": 0.0,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 5.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnv\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 600,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}"}, "env": "MultiWaveAttenuationMergePOEnv-v0_[eta1, eta2, eta3]:[1.0, 0.1, 0.0]_t_min:10.0_buf_len: 1", "batch_mode": "truncate_episodes", "log_level": "INFO", "simple_optimizer": false, "gamma": 0.99, "entropy_coeff": 0.0, "clip_actions": false, "num_cpus_per_worker": 1, "num_gpus": 0, "vf_loss_coeff": 1.0, "model": {"lstm_cell_size": 256, "conv_activation": "relu", "conv_filters": null, "channel_major": false, "fcnet_hiddens": [128, 64, 32], "max_seq_len": 20, "custom_preprocessor": null, "free_log_std": false, "dim": 84, "custom_options": {}, "squash_to_range": false, "fcnet_activation": "tanh", "framestack": true, "zero_mean": true, "grayscale": false, "use_lstm": false, "custom_model": null, "lstm_use_prev_action_reward": false}, "num_cpus_for_driver": 1, "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "lr": 0.0005, "output": null, "num_gpus_per_worker": 0, "sgd_minibatch_size": 128, "preprocessor_pref": "deepmind", "clip_param": 0.3, "sample_async": false, "custom_resources_per_worker": {}, "use_gae": true, "clip_rewards": null}, "num_metric_batches_dropped": 0, "node_ip": "10.138.0.2", "time_total_s": 3641.7606477737427, "episodes_this_iter": 33, "timestamp": 1558330416, "episode_reward_max": 915.2580219509565, "info": {"load_time_ms": 5.285, "default": {"vf_loss": 35.18608093261719, "total_loss": 35.177581787109375, "entropy": 1.4145792722702026, "policy_loss": -0.013634366914629936, "cur_kl_coeff": 0.29999998211860657, "vf_explained_var": 0.2906342148780823, "cur_lr": 0.0005000000237487257, "kl": 0.017109284177422523}, "num_steps_trained": 4633598, "grad_time_ms": 12318.263, "num_steps_sampled": 4633598, "sample_time_ms": 24997.928, "update_time_ms": 8.283}, "time_since_restore": 3641.7606477737427, "timesteps_total": 4633598, "episode_len_mean": 669.71, "episodes_total": 2814, "training_iteration": 91, "episode_reward_mean": 778.2008167241678, "hostname": "flow-main", "experiment_id": "24525fc6f3cc408296359cca36b844c9", "done": false, "time_this_iter_s": 39.85799980163574, "iterations_since_restore": 91, "date": "2019-05-20_05-33-36", "timesteps_since_restore": 4633598, "timesteps_this_iter": 47182, "custom_metrics": {"system_level_velocity_min": 10.986939397096293, "outflow_rate_max": 1094.6214062314173, "cost1_mean": 385.2772697219461, "outflow_rate_mean": 987.5436386417214, "cost1_min": 16.50535988683304, "cost2_min": -88.45785627594013, "cost1_max": 442.3465010314717, "outflow_rate_min": 478.9342030958992, "cost2_max": -15.272288665475774, "cost2_mean": -52.00184637081641, "system_level_velocity_max": 19.129423301378026, "system_level_velocity_mean": 15.493301235546165}, "pid": 277, "episode_reward_min": 39.61469524883538, "policy_reward_mean": {}}
{"config": {"num_sgd_iter": 10, "compress_observations": false, "input_evaluation": null, "vf_share_layers": false, "horizon": 1500, "num_workers": 20, "lambda": 0.97, "synchronize_filters": true, "vf_clip_param": 1000000.0, "optimizer": {}, "collect_metrics_timeout": 180, "tf_session_args": {"intra_op_parallelism_threads": 2, "device_count": {"CPU": 1}, "log_device_placement": false, "gpu_options": {"allow_growth": true}, "inter_op_parallelism_threads": 2, "allow_soft_placement": true}, "sample_batch_size": 750, "train_batch_size": 30000, "observation_filter": "MeanStdFilter", "input": "sampler", "kl_target": 0.01, "callbacks": {"on_train_result": null, "on_sample_end": null, "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7f0a8e5d0780>", "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7f0a8e57a8d0>", "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7f0a8e56c780>"}, "kl_coeff": 0.2, "num_envs_per_worker": 1, "monitor": false, "lr_schedule": null, "output_max_file_size": 67108864, "multiagent": {"policies_to_train": null, "policy_mapping_fn": null, "policy_graphs": {}}, "output_compress_columns": ["obs", "new_obs"], "straggler_mitigation": false, "env_config": {"run": "PPO", "flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"buf_length\": 1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.05,\n            \"eta3\": 0.0,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 5.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnv\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 600,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}"}, "env": "MultiWaveAttenuationMergePOEnv-v0_[eta1, eta2, eta3]:[1.0, 0.1, 0.0]_t_min:10.0_buf_len: 1", "batch_mode": "truncate_episodes", "log_level": "INFO", "simple_optimizer": false, "gamma": 0.99, "entropy_coeff": 0.0, "clip_actions": false, "num_cpus_per_worker": 1, "num_gpus": 0, "vf_loss_coeff": 1.0, "model": {"lstm_cell_size": 256, "conv_activation": "relu", "conv_filters": null, "channel_major": false, "fcnet_hiddens": [128, 64, 32], "max_seq_len": 20, "custom_preprocessor": null, "free_log_std": false, "dim": 84, "custom_options": {}, "squash_to_range": false, "fcnet_activation": "tanh", "framestack": true, "zero_mean": true, "grayscale": false, "use_lstm": false, "custom_model": null, "lstm_use_prev_action_reward": false}, "num_cpus_for_driver": 1, "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "lr": 0.0005, "output": null, "num_gpus_per_worker": 0, "sgd_minibatch_size": 128, "preprocessor_pref": "deepmind", "clip_param": 0.3, "sample_async": false, "custom_resources_per_worker": {}, "use_gae": true, "clip_rewards": null}, "num_metric_batches_dropped": 0, "node_ip": "10.138.0.2", "time_total_s": 3676.699521303177, "episodes_this_iter": 30, "timestamp": 1558330451, "episode_reward_max": 888.6617159925902, "info": {"load_time_ms": 5.213, "default": {"vf_loss": 32.48996353149414, "total_loss": 32.48235321044922, "entropy": 1.4013316631317139, "policy_loss": -0.012713989242911339, "cur_kl_coeff": 0.29999998211860657, "vf_explained_var": 0.2948688268661499, "cur_lr": 0.0005000000237487257, "kl": 0.016998693346977234}, "num_steps_trained": 4680740, "grad_time_ms": 12255.684, "num_steps_sampled": 4680740, "sample_time_ms": 24872.767, "update_time_ms": 8.412}, "time_since_restore": 3676.699521303177, "timesteps_total": 4680740, "episode_len_mean": 676.27, "episodes_total": 2844, "training_iteration": 92, "episode_reward_mean": 785.5139828697902, "hostname": "flow-main", "experiment_id": "24525fc6f3cc408296359cca36b844c9", "done": false, "time_this_iter_s": 34.938873529434204, "iterations_since_restore": 92, "date": "2019-05-20_05-34-11", "timesteps_since_restore": 4680740, "timesteps_this_iter": 47142, "custom_metrics": {"system_level_velocity_min": 11.268263535335523, "outflow_rate_max": 1089.7874115137715, "cost1_mean": 390.0510316911893, "outflow_rate_mean": 991.1261348021145, "cost1_min": 16.50535988683304, "cost2_min": -100.99221502570913, "cost1_max": 441.5318405055873, "outflow_rate_min": 478.9342030958992, "cost2_max": -15.272288665475774, "cost2_mean": -51.46909686470616, "system_level_velocity_max": 19.129423301378026, "system_level_velocity_mean": 15.517104426648645}, "pid": 277, "episode_reward_min": 39.61469524883538, "policy_reward_mean": {}}
{"config": {"num_sgd_iter": 10, "compress_observations": false, "input_evaluation": null, "vf_share_layers": false, "horizon": 1500, "num_workers": 20, "lambda": 0.97, "synchronize_filters": true, "vf_clip_param": 1000000.0, "optimizer": {}, "collect_metrics_timeout": 180, "tf_session_args": {"intra_op_parallelism_threads": 2, "device_count": {"CPU": 1}, "log_device_placement": false, "gpu_options": {"allow_growth": true}, "inter_op_parallelism_threads": 2, "allow_soft_placement": true}, "sample_batch_size": 750, "train_batch_size": 30000, "observation_filter": "MeanStdFilter", "input": "sampler", "kl_target": 0.01, "callbacks": {"on_train_result": null, "on_sample_end": null, "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7f0a8e560748>", "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7f0a8e586c88>", "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7f0a8e5609b0>"}, "kl_coeff": 0.2, "num_envs_per_worker": 1, "monitor": false, "lr_schedule": null, "output_max_file_size": 67108864, "multiagent": {"policies_to_train": null, "policy_mapping_fn": null, "policy_graphs": {}}, "output_compress_columns": ["obs", "new_obs"], "straggler_mitigation": false, "env_config": {"run": "PPO", "flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"buf_length\": 1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.05,\n            \"eta3\": 0.0,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 5.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnv\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 600,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}"}, "env": "MultiWaveAttenuationMergePOEnv-v0_[eta1, eta2, eta3]:[1.0, 0.1, 0.0]_t_min:10.0_buf_len: 1", "batch_mode": "truncate_episodes", "log_level": "INFO", "simple_optimizer": false, "gamma": 0.99, "entropy_coeff": 0.0, "clip_actions": false, "num_cpus_per_worker": 1, "num_gpus": 0, "vf_loss_coeff": 1.0, "model": {"lstm_cell_size": 256, "conv_activation": "relu", "conv_filters": null, "channel_major": false, "fcnet_hiddens": [128, 64, 32], "max_seq_len": 20, "custom_preprocessor": null, "free_log_std": false, "dim": 84, "custom_options": {}, "squash_to_range": false, "fcnet_activation": "tanh", "framestack": true, "zero_mean": true, "grayscale": false, "use_lstm": false, "custom_model": null, "lstm_use_prev_action_reward": false}, "num_cpus_for_driver": 1, "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "lr": 0.0005, "output": null, "num_gpus_per_worker": 0, "sgd_minibatch_size": 128, "preprocessor_pref": "deepmind", "clip_param": 0.3, "sample_async": false, "custom_resources_per_worker": {}, "use_gae": true, "clip_rewards": null}, "num_metric_batches_dropped": 0, "node_ip": "10.138.0.2", "time_total_s": 3713.859134197235, "episodes_this_iter": 32, "timestamp": 1558330488, "episode_reward_max": 896.7630365977477, "info": {"load_time_ms": 5.243, "default": {"vf_loss": 37.0068359375, "total_loss": 36.999427795410156, "entropy": 1.425406575202942, "policy_loss": -0.012286127544939518, "cur_kl_coeff": 0.2999999523162842, "vf_explained_var": 0.21307820081710815, "cur_lr": 0.0005000000237487257, "kl": 0.01626797765493393}, "num_steps_trained": 4727241, "grad_time_ms": 12141.958, "num_steps_sampled": 4727241, "sample_time_ms": 25144.989, "update_time_ms": 8.503}, "time_since_restore": 3713.859134197235, "timesteps_total": 4727241, "episode_len_mean": 677.12, "episodes_total": 2876, "training_iteration": 93, "episode_reward_mean": 786.3813480687559, "hostname": "flow-main", "experiment_id": "24525fc6f3cc408296359cca36b844c9", "done": false, "time_this_iter_s": 37.15961289405823, "iterations_since_restore": 93, "date": "2019-05-20_05-34-48", "timesteps_since_restore": 4727241, "timesteps_this_iter": 46501, "custom_metrics": {"system_level_velocity_min": 11.268263535335523, "outflow_rate_max": 1089.7874115137715, "cost1_mean": 393.1893276574865, "outflow_rate_mean": 997.0478968235687, "cost1_min": 16.50535988683304, "cost2_min": -100.99221502570913, "cost1_max": 441.5318405055873, "outflow_rate_min": 478.9342030958992, "cost2_max": -15.272288665475774, "cost2_mean": -50.6705786057999, "system_level_velocity_max": 19.129423301378026, "system_level_velocity_mean": 15.606386848729652}, "pid": 277, "episode_reward_min": 39.61469524883538, "policy_reward_mean": {}}
{"config": {"num_sgd_iter": 10, "compress_observations": false, "input_evaluation": null, "vf_share_layers": false, "horizon": 1500, "num_workers": 20, "lambda": 0.97, "synchronize_filters": true, "vf_clip_param": 1000000.0, "optimizer": {}, "collect_metrics_timeout": 180, "tf_session_args": {"intra_op_parallelism_threads": 2, "device_count": {"CPU": 1}, "log_device_placement": false, "gpu_options": {"allow_growth": true}, "inter_op_parallelism_threads": 2, "allow_soft_placement": true}, "sample_batch_size": 750, "train_batch_size": 30000, "observation_filter": "MeanStdFilter", "input": "sampler", "kl_target": 0.01, "callbacks": {"on_train_result": null, "on_sample_end": null, "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7f0a8e5830b8>", "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7f0a8e583320>", "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7f0a8e583048>"}, "kl_coeff": 0.2, "num_envs_per_worker": 1, "monitor": false, "lr_schedule": null, "output_max_file_size": 67108864, "multiagent": {"policies_to_train": null, "policy_mapping_fn": null, "policy_graphs": {}}, "output_compress_columns": ["obs", "new_obs"], "straggler_mitigation": false, "env_config": {"run": "PPO", "flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"buf_length\": 1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.05,\n            \"eta3\": 0.0,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 5.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnv\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 600,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}"}, "env": "MultiWaveAttenuationMergePOEnv-v0_[eta1, eta2, eta3]:[1.0, 0.1, 0.0]_t_min:10.0_buf_len: 1", "batch_mode": "truncate_episodes", "log_level": "INFO", "simple_optimizer": false, "gamma": 0.99, "entropy_coeff": 0.0, "clip_actions": false, "num_cpus_per_worker": 1, "num_gpus": 0, "vf_loss_coeff": 1.0, "model": {"lstm_cell_size": 256, "conv_activation": "relu", "conv_filters": null, "channel_major": false, "fcnet_hiddens": [128, 64, 32], "max_seq_len": 20, "custom_preprocessor": null, "free_log_std": false, "dim": 84, "custom_options": {}, "squash_to_range": false, "fcnet_activation": "tanh", "framestack": true, "zero_mean": true, "grayscale": false, "use_lstm": false, "custom_model": null, "lstm_use_prev_action_reward": false}, "num_cpus_for_driver": 1, "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "lr": 0.0005, "output": null, "num_gpus_per_worker": 0, "sgd_minibatch_size": 128, "preprocessor_pref": "deepmind", "clip_param": 0.3, "sample_async": false, "custom_resources_per_worker": {}, "use_gae": true, "clip_rewards": null}, "num_metric_batches_dropped": 0, "node_ip": "10.138.0.2", "time_total_s": 3750.803281545639, "episodes_this_iter": 30, "timestamp": 1558330525, "episode_reward_max": 896.7630365977477, "info": {"load_time_ms": 5.032, "default": {"vf_loss": 33.399898529052734, "total_loss": 33.39270782470703, "entropy": 1.4360600709915161, "policy_loss": -0.012356462888419628, "cur_kl_coeff": 0.2999999523162842, "vf_explained_var": 0.26527127623558044, "cur_lr": 0.0005000000237487257, "kl": 0.017216531559824944}, "num_steps_trained": 4774017, "grad_time_ms": 12186.933, "num_steps_sampled": 4774017, "sample_time_ms": 25101.264, "update_time_ms": 8.537}, "time_since_restore": 3750.803281545639, "timesteps_total": 4774017, "episode_len_mean": 683.87, "episodes_total": 2906, "training_iteration": 94, "episode_reward_mean": 790.6125058601776, "hostname": "flow-main", "experiment_id": "24525fc6f3cc408296359cca36b844c9", "done": false, "time_this_iter_s": 36.94414734840393, "iterations_since_restore": 94, "date": "2019-05-20_05-35-25", "timesteps_since_restore": 4774017, "timesteps_this_iter": 46776, "custom_metrics": {"system_level_velocity_min": 11.268263535335523, "outflow_rate_max": 1089.7874115137715, "cost1_mean": 396.1989463846396, "outflow_rate_mean": 998.6360597467329, "cost1_min": 31.167815770393602, "cost2_min": -100.99221502570913, "cost1_max": 441.5318405055873, "outflow_rate_min": 522.5848682327718, "cost2_max": -19.99576277460638, "cost2_mean": -50.76788585716581, "system_level_velocity_max": 18.08570077071512, "system_level_velocity_mean": 15.540502952636942}, "pid": 277, "episode_reward_min": 69.17317288871982, "policy_reward_mean": {}}
{"config": {"num_sgd_iter": 10, "compress_observations": false, "input_evaluation": null, "vf_share_layers": false, "horizon": 1500, "num_workers": 20, "lambda": 0.97, "synchronize_filters": true, "vf_clip_param": 1000000.0, "optimizer": {}, "collect_metrics_timeout": 180, "tf_session_args": {"intra_op_parallelism_threads": 2, "device_count": {"CPU": 1}, "log_device_placement": false, "gpu_options": {"allow_growth": true}, "inter_op_parallelism_threads": 2, "allow_soft_placement": true}, "sample_batch_size": 750, "train_batch_size": 30000, "observation_filter": "MeanStdFilter", "input": "sampler", "kl_target": 0.01, "callbacks": {"on_train_result": null, "on_sample_end": null, "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7f0a8e57a8d0>", "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7f0a8e57a780>", "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7f0a8e57a588>"}, "kl_coeff": 0.2, "num_envs_per_worker": 1, "monitor": false, "lr_schedule": null, "output_max_file_size": 67108864, "multiagent": {"policies_to_train": null, "policy_mapping_fn": null, "policy_graphs": {}}, "output_compress_columns": ["obs", "new_obs"], "straggler_mitigation": false, "env_config": {"run": "PPO", "flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"buf_length\": 1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.05,\n            \"eta3\": 0.0,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 5.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnv\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 600,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}"}, "env": "MultiWaveAttenuationMergePOEnv-v0_[eta1, eta2, eta3]:[1.0, 0.1, 0.0]_t_min:10.0_buf_len: 1", "batch_mode": "truncate_episodes", "log_level": "INFO", "simple_optimizer": false, "gamma": 0.99, "entropy_coeff": 0.0, "clip_actions": false, "num_cpus_per_worker": 1, "num_gpus": 0, "vf_loss_coeff": 1.0, "model": {"lstm_cell_size": 256, "conv_activation": "relu", "conv_filters": null, "channel_major": false, "fcnet_hiddens": [128, 64, 32], "max_seq_len": 20, "custom_preprocessor": null, "free_log_std": false, "dim": 84, "custom_options": {}, "squash_to_range": false, "fcnet_activation": "tanh", "framestack": true, "zero_mean": true, "grayscale": false, "use_lstm": false, "custom_model": null, "lstm_use_prev_action_reward": false}, "num_cpus_for_driver": 1, "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "lr": 0.0005, "output": null, "num_gpus_per_worker": 0, "sgd_minibatch_size": 128, "preprocessor_pref": "deepmind", "clip_param": 0.3, "sample_async": false, "custom_resources_per_worker": {}, "use_gae": true, "clip_rewards": null}, "num_metric_batches_dropped": 0, "node_ip": "10.138.0.2", "time_total_s": 3788.953120470047, "episodes_this_iter": 34, "timestamp": 1558330563, "episode_reward_max": 896.7630365977477, "info": {"load_time_ms": 5.243, "default": {"vf_loss": 37.7250862121582, "total_loss": 37.716224670410156, "entropy": 1.4424680471420288, "policy_loss": -0.014149094931781292, "cur_kl_coeff": 0.2999999523162842, "vf_explained_var": 0.2482304573059082, "cur_lr": 0.0005000000237487257, "kl": 0.01762259006500244}, "num_steps_trained": 4820887, "grad_time_ms": 12250.235, "num_steps_sampled": 4820887, "sample_time_ms": 25084.125, "update_time_ms": 8.74}, "time_since_restore": 3788.953120470047, "timesteps_total": 4820887, "episode_len_mean": 668.3, "episodes_total": 2940, "training_iteration": 95, "episode_reward_mean": 763.7694012193746, "hostname": "flow-main", "experiment_id": "24525fc6f3cc408296359cca36b844c9", "done": false, "time_this_iter_s": 38.14983892440796, "iterations_since_restore": 95, "date": "2019-05-20_05-36-03", "timesteps_since_restore": 4820887, "timesteps_this_iter": 46870, "custom_metrics": {"system_level_velocity_min": 12.128530173205275, "outflow_rate_max": 1087.5387629452714, "cost1_mean": 385.031590335401, "outflow_rate_mean": 977.7599151462612, "cost1_min": 10.276943942473416, "cost2_min": -83.87009508761541, "cost1_max": 441.5318405055873, "outflow_rate_min": 450.926683142202, "cost2_max": -8.827871478685605, "cost2_mean": -48.705384923692556, "system_level_velocity_max": 18.82276840103957, "system_level_velocity_mean": 15.522768740271255}, "pid": 277, "episode_reward_min": 19.523150683187485, "policy_reward_mean": {}}
{"config": {"num_sgd_iter": 10, "compress_observations": false, "input_evaluation": null, "vf_share_layers": false, "horizon": 1500, "num_workers": 20, "lambda": 0.97, "synchronize_filters": true, "vf_clip_param": 1000000.0, "optimizer": {}, "collect_metrics_timeout": 180, "tf_session_args": {"intra_op_parallelism_threads": 2, "device_count": {"CPU": 1}, "log_device_placement": false, "gpu_options": {"allow_growth": true}, "inter_op_parallelism_threads": 2, "allow_soft_placement": true}, "sample_batch_size": 750, "train_batch_size": 30000, "observation_filter": "MeanStdFilter", "input": "sampler", "kl_target": 0.01, "callbacks": {"on_train_result": null, "on_sample_end": null, "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7f0a8e586208>", "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7f0a8e5d2978>", "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7f0a8e5860b8>"}, "kl_coeff": 0.2, "num_envs_per_worker": 1, "monitor": false, "lr_schedule": null, "output_max_file_size": 67108864, "multiagent": {"policies_to_train": null, "policy_mapping_fn": null, "policy_graphs": {}}, "output_compress_columns": ["obs", "new_obs"], "straggler_mitigation": false, "env_config": {"run": "PPO", "flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"buf_length\": 1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.05,\n            \"eta3\": 0.0,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 5.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnv\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 600,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}"}, "env": "MultiWaveAttenuationMergePOEnv-v0_[eta1, eta2, eta3]:[1.0, 0.1, 0.0]_t_min:10.0_buf_len: 1", "batch_mode": "truncate_episodes", "log_level": "INFO", "simple_optimizer": false, "gamma": 0.99, "entropy_coeff": 0.0, "clip_actions": false, "num_cpus_per_worker": 1, "num_gpus": 0, "vf_loss_coeff": 1.0, "model": {"lstm_cell_size": 256, "conv_activation": "relu", "conv_filters": null, "channel_major": false, "fcnet_hiddens": [128, 64, 32], "max_seq_len": 20, "custom_preprocessor": null, "free_log_std": false, "dim": 84, "custom_options": {}, "squash_to_range": false, "fcnet_activation": "tanh", "framestack": true, "zero_mean": true, "grayscale": false, "use_lstm": false, "custom_model": null, "lstm_use_prev_action_reward": false}, "num_cpus_for_driver": 1, "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "lr": 0.0005, "output": null, "num_gpus_per_worker": 0, "sgd_minibatch_size": 128, "preprocessor_pref": "deepmind", "clip_param": 0.3, "sample_async": false, "custom_resources_per_worker": {}, "use_gae": true, "clip_rewards": null}, "num_metric_batches_dropped": 0, "node_ip": "10.138.0.2", "time_total_s": 3826.8753247261047, "episodes_this_iter": 35, "timestamp": 1558330601, "episode_reward_max": 872.5012231860527, "info": {"load_time_ms": 5.253, "default": {"vf_loss": 37.41706466674805, "total_loss": 37.408756256103516, "entropy": 1.4195117950439453, "policy_loss": -0.013523885048925877, "cur_kl_coeff": 0.2999999523162842, "vf_explained_var": 0.278393030166626, "cur_lr": 0.0005000000237487257, "kl": 0.01738908141851425}, "num_steps_trained": 4867351, "grad_time_ms": 12288.633, "num_steps_sampled": 4867351, "sample_time_ms": 24904.179, "update_time_ms": 8.58}, "time_since_restore": 3826.8753247261047, "timesteps_total": 4867351, "episode_len_mean": 673.09, "episodes_total": 2975, "training_iteration": 96, "episode_reward_mean": 749.2308873735051, "hostname": "flow-main", "experiment_id": "24525fc6f3cc408296359cca36b844c9", "done": false, "time_this_iter_s": 37.92220425605774, "iterations_since_restore": 96, "date": "2019-05-20_05-36-41", "timesteps_since_restore": 4867351, "timesteps_this_iter": 46464, "custom_metrics": {"system_level_velocity_min": 12.128530173205275, "outflow_rate_max": 1082.7480959501088, "cost1_mean": 381.88274790374345, "outflow_rate_mean": 955.7310714936707, "cost1_min": 10.276943942473416, "cost2_min": -83.87009508761541, "cost1_max": 432.88963865424677, "outflow_rate_min": 450.926683142202, "cost2_max": -8.827871478685605, "cost2_mean": -47.796562994373524, "system_level_velocity_max": 18.82276840103957, "system_level_velocity_mean": 15.334758638829776}, "pid": 277, "episode_reward_min": 19.523150683187485, "policy_reward_mean": {}}
{"config": {"num_sgd_iter": 10, "compress_observations": false, "input_evaluation": null, "vf_share_layers": false, "horizon": 1500, "num_workers": 20, "lambda": 0.97, "synchronize_filters": true, "vf_clip_param": 1000000.0, "optimizer": {}, "collect_metrics_timeout": 180, "tf_session_args": {"intra_op_parallelism_threads": 2, "device_count": {"CPU": 1}, "log_device_placement": false, "gpu_options": {"allow_growth": true}, "inter_op_parallelism_threads": 2, "allow_soft_placement": true}, "sample_batch_size": 750, "train_batch_size": 30000, "observation_filter": "MeanStdFilter", "input": "sampler", "kl_target": 0.01, "callbacks": {"on_train_result": null, "on_sample_end": null, "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7f0a8e583978>", "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7f0a8e583390>", "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7f0a8e583908>"}, "kl_coeff": 0.2, "num_envs_per_worker": 1, "monitor": false, "lr_schedule": null, "output_max_file_size": 67108864, "multiagent": {"policies_to_train": null, "policy_mapping_fn": null, "policy_graphs": {}}, "output_compress_columns": ["obs", "new_obs"], "straggler_mitigation": false, "env_config": {"run": "PPO", "flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"buf_length\": 1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.05,\n            \"eta3\": 0.0,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 5.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnv\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 600,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}"}, "env": "MultiWaveAttenuationMergePOEnv-v0_[eta1, eta2, eta3]:[1.0, 0.1, 0.0]_t_min:10.0_buf_len: 1", "batch_mode": "truncate_episodes", "log_level": "INFO", "simple_optimizer": false, "gamma": 0.99, "entropy_coeff": 0.0, "clip_actions": false, "num_cpus_per_worker": 1, "num_gpus": 0, "vf_loss_coeff": 1.0, "model": {"lstm_cell_size": 256, "conv_activation": "relu", "conv_filters": null, "channel_major": false, "fcnet_hiddens": [128, 64, 32], "max_seq_len": 20, "custom_preprocessor": null, "free_log_std": false, "dim": 84, "custom_options": {}, "squash_to_range": false, "fcnet_activation": "tanh", "framestack": true, "zero_mean": true, "grayscale": false, "use_lstm": false, "custom_model": null, "lstm_use_prev_action_reward": false}, "num_cpus_for_driver": 1, "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "lr": 0.0005, "output": null, "num_gpus_per_worker": 0, "sgd_minibatch_size": 128, "preprocessor_pref": "deepmind", "clip_param": 0.3, "sample_async": false, "custom_resources_per_worker": {}, "use_gae": true, "clip_rewards": null}, "num_metric_batches_dropped": 0, "node_ip": "10.138.0.2", "time_total_s": 3862.7336263656616, "episodes_this_iter": 33, "timestamp": 1558330637, "episode_reward_max": 877.6680744707905, "info": {"load_time_ms": 4.898, "default": {"vf_loss": 38.31067657470703, "total_loss": 38.3039436340332, "entropy": 1.3883512020111084, "policy_loss": -0.01179000549018383, "cur_kl_coeff": 0.29999998211860657, "vf_explained_var": 0.21836049854755402, "cur_lr": 0.0005000000237487257, "kl": 0.016853662207722664}, "num_steps_trained": 4913439, "grad_time_ms": 12349.306, "num_steps_sampled": 4913439, "sample_time_ms": 24731.213, "update_time_ms": 8.789}, "time_since_restore": 3862.7336263656616, "timesteps_total": 4913439, "episode_len_mean": 673.09, "episodes_total": 3008, "training_iteration": 97, "episode_reward_mean": 747.870031510723, "hostname": "flow-main", "experiment_id": "24525fc6f3cc408296359cca36b844c9", "done": false, "time_this_iter_s": 35.858301639556885, "iterations_since_restore": 97, "date": "2019-05-20_05-37-17", "timesteps_since_restore": 4913439, "timesteps_this_iter": 46088, "custom_metrics": {"system_level_velocity_min": 10.669384659917199, "outflow_rate_max": 1082.7480959501088, "cost1_mean": 384.69935648743956, "outflow_rate_mean": 953.3841388431771, "cost1_min": 10.276943942473416, "cost2_min": -79.77332959755336, "cost1_max": 435.23061370923585, "outflow_rate_min": 450.926683142202, "cost2_max": -8.827871478685605, "cost2_mean": -45.603906109725266, "system_level_velocity_max": 18.82276840103957, "system_level_velocity_mean": 15.485332377338619}, "pid": 277, "episode_reward_min": 19.523150683187485, "policy_reward_mean": {}}
{"config": {"num_sgd_iter": 10, "compress_observations": false, "input_evaluation": null, "vf_share_layers": false, "horizon": 1500, "num_workers": 20, "lambda": 0.97, "synchronize_filters": true, "vf_clip_param": 1000000.0, "optimizer": {}, "collect_metrics_timeout": 180, "tf_session_args": {"intra_op_parallelism_threads": 2, "device_count": {"CPU": 1}, "log_device_placement": false, "gpu_options": {"allow_growth": true}, "inter_op_parallelism_threads": 2, "allow_soft_placement": true}, "sample_batch_size": 750, "train_batch_size": 30000, "observation_filter": "MeanStdFilter", "input": "sampler", "kl_target": 0.01, "callbacks": {"on_train_result": null, "on_sample_end": null, "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7f0a8e5604a8>", "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7f0a8e560b00>", "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7f0a8e560e10>"}, "kl_coeff": 0.2, "num_envs_per_worker": 1, "monitor": false, "lr_schedule": null, "output_max_file_size": 67108864, "multiagent": {"policies_to_train": null, "policy_mapping_fn": null, "policy_graphs": {}}, "output_compress_columns": ["obs", "new_obs"], "straggler_mitigation": false, "env_config": {"run": "PPO", "flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"buf_length\": 1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.05,\n            \"eta3\": 0.0,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 5.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnv\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 600,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}"}, "env": "MultiWaveAttenuationMergePOEnv-v0_[eta1, eta2, eta3]:[1.0, 0.1, 0.0]_t_min:10.0_buf_len: 1", "batch_mode": "truncate_episodes", "log_level": "INFO", "simple_optimizer": false, "gamma": 0.99, "entropy_coeff": 0.0, "clip_actions": false, "num_cpus_per_worker": 1, "num_gpus": 0, "vf_loss_coeff": 1.0, "model": {"lstm_cell_size": 256, "conv_activation": "relu", "conv_filters": null, "channel_major": false, "fcnet_hiddens": [128, 64, 32], "max_seq_len": 20, "custom_preprocessor": null, "free_log_std": false, "dim": 84, "custom_options": {}, "squash_to_range": false, "fcnet_activation": "tanh", "framestack": true, "zero_mean": true, "grayscale": false, "use_lstm": false, "custom_model": null, "lstm_use_prev_action_reward": false}, "num_cpus_for_driver": 1, "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "lr": 0.0005, "output": null, "num_gpus_per_worker": 0, "sgd_minibatch_size": 128, "preprocessor_pref": "deepmind", "clip_param": 0.3, "sample_async": false, "custom_resources_per_worker": {}, "use_gae": true, "clip_rewards": null}, "num_metric_batches_dropped": 0, "node_ip": "10.138.0.2", "time_total_s": 3898.8505623340607, "episodes_this_iter": 35, "timestamp": 1558330673, "episode_reward_max": 877.6680744707905, "info": {"load_time_ms": 5.015, "default": {"vf_loss": 36.330081939697266, "total_loss": 36.32229232788086, "entropy": 1.4243814945220947, "policy_loss": -0.01265008095651865, "cur_kl_coeff": 0.2999999523162842, "vf_explained_var": 0.2970404028892517, "cur_lr": 0.0005000000237487257, "kl": 0.016209647059440613}, "num_steps_trained": 4959368, "grad_time_ms": 12344.414, "num_steps_sampled": 4959368, "sample_time_ms": 24515.73, "update_time_ms": 8.836}, "time_since_restore": 3898.8505623340607, "timesteps_total": 4959368, "episode_len_mean": 690.2, "episodes_total": 3043, "training_iteration": 98, "episode_reward_mean": 759.4392116831474, "hostname": "flow-main", "experiment_id": "24525fc6f3cc408296359cca36b844c9", "done": false, "time_this_iter_s": 36.11693596839905, "iterations_since_restore": 98, "date": "2019-05-20_05-37-53", "timesteps_since_restore": 4959368, "timesteps_this_iter": 45929, "custom_metrics": {"system_level_velocity_min": 10.669384659917199, "outflow_rate_max": 1073.4036622958736, "cost1_mean": 396.8846799423564, "outflow_rate_mean": 965.986107814171, "cost1_min": 19.439493341554186, "cost2_min": -79.77332959755336, "cost1_max": 435.23061370923585, "outflow_rate_min": 487.90790141812573, "cost2_max": -17.841731183428536, "cost2_mean": -45.27367392848434, "system_level_velocity_max": 18.022269040807476, "system_level_velocity_mean": 15.546284053553238}, "pid": 277, "episode_reward_min": 39.28411341054542, "policy_reward_mean": {}}
{"config": {"num_sgd_iter": 10, "compress_observations": false, "input_evaluation": null, "vf_share_layers": false, "horizon": 1500, "num_workers": 20, "lambda": 0.97, "synchronize_filters": true, "vf_clip_param": 1000000.0, "optimizer": {}, "collect_metrics_timeout": 180, "tf_session_args": {"intra_op_parallelism_threads": 2, "device_count": {"CPU": 1}, "log_device_placement": false, "gpu_options": {"allow_growth": true}, "inter_op_parallelism_threads": 2, "allow_soft_placement": true}, "sample_batch_size": 750, "train_batch_size": 30000, "observation_filter": "MeanStdFilter", "input": "sampler", "kl_target": 0.01, "callbacks": {"on_train_result": null, "on_sample_end": null, "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7f0a8e5831d0>", "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7f0a8e5834a8>", "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7f0a8e5834e0>"}, "kl_coeff": 0.2, "num_envs_per_worker": 1, "monitor": false, "lr_schedule": null, "output_max_file_size": 67108864, "multiagent": {"policies_to_train": null, "policy_mapping_fn": null, "policy_graphs": {}}, "output_compress_columns": ["obs", "new_obs"], "straggler_mitigation": false, "env_config": {"run": "PPO", "flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"buf_length\": 1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.05,\n            \"eta3\": 0.0,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 5.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnv\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 600,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}"}, "env": "MultiWaveAttenuationMergePOEnv-v0_[eta1, eta2, eta3]:[1.0, 0.1, 0.0]_t_min:10.0_buf_len: 1", "batch_mode": "truncate_episodes", "log_level": "INFO", "simple_optimizer": false, "gamma": 0.99, "entropy_coeff": 0.0, "clip_actions": false, "num_cpus_per_worker": 1, "num_gpus": 0, "vf_loss_coeff": 1.0, "model": {"lstm_cell_size": 256, "conv_activation": "relu", "conv_filters": null, "channel_major": false, "fcnet_hiddens": [128, 64, 32], "max_seq_len": 20, "custom_preprocessor": null, "free_log_std": false, "dim": 84, "custom_options": {}, "squash_to_range": false, "fcnet_activation": "tanh", "framestack": true, "zero_mean": true, "grayscale": false, "use_lstm": false, "custom_model": null, "lstm_use_prev_action_reward": false}, "num_cpus_for_driver": 1, "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "lr": 0.0005, "output": null, "num_gpus_per_worker": 0, "sgd_minibatch_size": 128, "preprocessor_pref": "deepmind", "clip_param": 0.3, "sample_async": false, "custom_resources_per_worker": {}, "use_gae": true, "clip_rewards": null}, "num_metric_batches_dropped": 0, "node_ip": "10.138.0.2", "time_total_s": 3933.6353018283844, "episodes_this_iter": 31, "timestamp": 1558330708, "episode_reward_max": 877.6680744707905, "info": {"load_time_ms": 5.047, "default": {"vf_loss": 34.52450942993164, "total_loss": 34.516929626464844, "entropy": 1.4050321578979492, "policy_loss": -0.012922560796141624, "cur_kl_coeff": 0.2999999523162842, "vf_explained_var": 0.2895829677581787, "cur_lr": 0.0005000000237487257, "kl": 0.017803633585572243}, "num_steps_trained": 5005426, "grad_time_ms": 12403.353, "num_steps_sampled": 5005426, "sample_time_ms": 24346.408, "update_time_ms": 8.795}, "time_since_restore": 3933.6353018283844, "timesteps_total": 5005426, "episode_len_mean": 688.65, "episodes_total": 3074, "training_iteration": 99, "episode_reward_mean": 757.1924116021207, "hostname": "flow-main", "experiment_id": "24525fc6f3cc408296359cca36b844c9", "done": false, "time_this_iter_s": 34.78473949432373, "iterations_since_restore": 99, "date": "2019-05-20_05-38-28", "timesteps_since_restore": 5005426, "timesteps_this_iter": 46058, "custom_metrics": {"system_level_velocity_min": 10.669384659917199, "outflow_rate_max": 1073.4036622958736, "cost1_mean": 396.9233933966544, "outflow_rate_mean": 964.7680616443428, "cost1_min": 19.439493341554186, "cost2_min": -79.77332959755336, "cost1_max": 435.23061370923585, "outflow_rate_min": 487.90790141812573, "cost2_max": -17.841731183428536, "cost2_mean": -45.3446924888734, "system_level_velocity_max": 18.022269040807476, "system_level_velocity_mean": 15.57088536314995}, "pid": 277, "episode_reward_min": 39.28411341054542, "policy_reward_mean": {}}
{"config": {"num_sgd_iter": 10, "compress_observations": false, "input_evaluation": null, "vf_share_layers": false, "horizon": 1500, "num_workers": 20, "lambda": 0.97, "synchronize_filters": true, "vf_clip_param": 1000000.0, "optimizer": {}, "collect_metrics_timeout": 180, "tf_session_args": {"intra_op_parallelism_threads": 2, "device_count": {"CPU": 1}, "log_device_placement": false, "gpu_options": {"allow_growth": true}, "inter_op_parallelism_threads": 2, "allow_soft_placement": true}, "sample_batch_size": 750, "train_batch_size": 30000, "observation_filter": "MeanStdFilter", "input": "sampler", "kl_target": 0.01, "callbacks": {"on_train_result": null, "on_sample_end": null, "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7f0a8e56c7b8>", "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7f0a8e56ce48>", "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7f0a8e56ca20>"}, "kl_coeff": 0.2, "num_envs_per_worker": 1, "monitor": false, "lr_schedule": null, "output_max_file_size": 67108864, "multiagent": {"policies_to_train": null, "policy_mapping_fn": null, "policy_graphs": {}}, "output_compress_columns": ["obs", "new_obs"], "straggler_mitigation": false, "env_config": {"run": "PPO", "flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"buf_length\": 1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.05,\n            \"eta3\": 0.0,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 5.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnv\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 600,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}"}, "env": "MultiWaveAttenuationMergePOEnv-v0_[eta1, eta2, eta3]:[1.0, 0.1, 0.0]_t_min:10.0_buf_len: 1", "batch_mode": "truncate_episodes", "log_level": "INFO", "simple_optimizer": false, "gamma": 0.99, "entropy_coeff": 0.0, "clip_actions": false, "num_cpus_per_worker": 1, "num_gpus": 0, "vf_loss_coeff": 1.0, "model": {"lstm_cell_size": 256, "conv_activation": "relu", "conv_filters": null, "channel_major": false, "fcnet_hiddens": [128, 64, 32], "max_seq_len": 20, "custom_preprocessor": null, "free_log_std": false, "dim": 84, "custom_options": {}, "squash_to_range": false, "fcnet_activation": "tanh", "framestack": true, "zero_mean": true, "grayscale": false, "use_lstm": false, "custom_model": null, "lstm_use_prev_action_reward": false}, "num_cpus_for_driver": 1, "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "lr": 0.0005, "output": null, "num_gpus_per_worker": 0, "sgd_minibatch_size": 128, "preprocessor_pref": "deepmind", "clip_param": 0.3, "sample_async": false, "custom_resources_per_worker": {}, "use_gae": true, "clip_rewards": null}, "num_metric_batches_dropped": 0, "node_ip": "10.138.0.2", "time_total_s": 3968.637510061264, "episodes_this_iter": 32, "timestamp": 1558330743, "episode_reward_max": 850.4078894836562, "info": {"load_time_ms": 5.302, "default": {"vf_loss": 33.50746536254883, "total_loss": 33.500999450683594, "entropy": 1.440463662147522, "policy_loss": -0.012016181834042072, "cur_kl_coeff": 0.2999999523162842, "vf_explained_var": 0.3122832179069519, "cur_lr": 0.0005000000237487257, "kl": 0.01850101351737976}, "num_steps_trained": 5052385, "grad_time_ms": 12318.702, "num_steps_sampled": 5052385, "sample_time_ms": 24247.705, "update_time_ms": 8.727}, "time_since_restore": 3968.637510061264, "timesteps_total": 5052385, "episode_len_mean": 682.08, "episodes_total": 3106, "training_iteration": 100, "episode_reward_mean": 746.7845578766024, "hostname": "flow-main", "experiment_id": "24525fc6f3cc408296359cca36b844c9", "done": true, "time_this_iter_s": 35.00220823287964, "iterations_since_restore": 100, "date": "2019-05-20_05-39-03", "timesteps_since_restore": 5052385, "timesteps_this_iter": 46959, "custom_metrics": {"system_level_velocity_min": 12.158194697038613, "outflow_rate_max": 1075.4581385434906, "cost1_mean": 392.1385707340345, "outflow_rate_mean": 960.6888720255577, "cost1_min": 19.439493341554186, "cost2_min": -78.05651294466583, "cost1_max": 434.9747655693508, "outflow_rate_min": 487.90790141812573, "cost2_max": -17.841731183428536, "cost2_mean": -46.05637002513789, "system_level_velocity_max": 19.119098309627343, "system_level_velocity_mean": 15.550253881860653}, "pid": 277, "episode_reward_min": 39.28411341054542, "policy_reward_mean": {}}
