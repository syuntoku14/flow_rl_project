{"pid": 43700, "hostname": "flow-main", "date": "2019-05-09_05-34-02", "custom_metrics": {"cost2_min": -196.69214278086903, "cost1_max": 467.8748463785227, "outflow_rate_min": 436.3117125192799, "cost2_mean": -176.28929398972699, "outflow_rate_max": 1248.544907104124, "system_level_velocity_min": 11.104618455757093, "cost1_min": 116.60175034337853, "cost2_max": -87.79619852588445, "system_level_velocity_max": 16.40953628104567, "cost1_mean": 346.04008298974793, "system_level_velocity_mean": 12.831053493128755, "outflow_rate_mean": 1022.1004423395145}, "episodes_total": 22168, "num_metric_batches_dropped": 0, "info": {"default": {"kl": 0.00912777241319418, "entropy": 2.7400553226470947, "total_loss": 27.609899520874023, "cur_kl_coeff": 0.44999995827674866, "vf_explained_var": 0.8770766854286194, "vf_loss": 27.61235809326172, "cur_lr": 0.0005000000237487257, "policy_loss": -0.006567042320966721}, "grad_time_ms": 43065.581, "update_time_ms": 434.485, "num_steps_trained": 38300457, "num_steps_sampled": 38300457, "load_time_ms": 132.516, "sample_time_ms": 27074.374}, "episode_reward_max": 834.2642265556142, "iterations_since_restore": 1, "episode_reward_mean": 594.0924457363946, "timesteps_total": 38300457, "timesteps_since_restore": 179369, "experiment_id": "9b178520507b4656ac608c6ff2056ff7", "node_ip": "10.138.0.2", "timestamp": 1557380042, "episode_reward_min": 180.21880809230746, "done": false, "training_iteration": 301, "time_total_s": 14314.006746768951, "time_since_restore": 71.12991738319397, "policy_reward_mean": {}, "episode_len_mean": 726.5396825396825, "episodes_this_iter": 63, "timesteps_this_iter": 179369, "time_this_iter_s": 71.12991738319397, "config": {"num_workers": 60, "tf_session_args": {"device_count": {"CPU": 1}, "gpu_options": {"allow_growth": true}, "inter_op_parallelism_threads": 2, "log_device_placement": false, "allow_soft_placement": true, "intra_op_parallelism_threads": 2}, "batch_mode": "truncate_episodes", "collect_metrics_timeout": 180, "sample_batch_size": 750, "custom_resources_per_worker": {}, "vf_share_layers": false, "gamma": 0.99, "optimizer": {}, "input_evaluation": null, "num_envs_per_worker": 1, "train_batch_size": 90000, "vf_clip_param": 1000000.0, "kl_target": 0.01, "entropy_coeff": 0.0, "env_config": {"run": "PPO", "flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.3,\n            \"eta3\": 0.1,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 10.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 600,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}"}, "num_gpus_per_worker": 0, "synchronize_filters": true, "straggler_mitigation": false, "num_gpus": 0, "model": {"custom_options": {}, "custom_model": null, "custom_preprocessor": null, "squash_to_range": false, "framestack": true, "fcnet_hiddens": [128, 64, 32], "fcnet_activation": "tanh", "lstm_use_prev_action_reward": false, "grayscale": false, "conv_activation": "relu", "channel_major": false, "conv_filters": null, "dim": 84, "lstm_cell_size": 256, "use_lstm": false, "zero_mean": true, "free_log_std": false, "max_seq_len": 20}, "observation_filter": "MeanStdFilter", "use_gae": true, "log_level": "INFO", "num_sgd_iter": 10, "monitor": false, "env": "MultiWaveAttenuationMergePOEnvBufferedObs-v0no_random_eta2:0.2", "clip_param": 0.3, "lambda": 0.97, "simple_optimizer": false, "sgd_minibatch_size": 128, "num_cpus_for_driver": 1, "input": "sampler", "output": null, "horizon": 1500, "preprocessor_pref": "deepmind", "compress_observations": false, "output_compress_columns": ["obs", "new_obs"], "clip_rewards": null, "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "multiagent": {"policies_to_train": null, "policy_graphs": {}, "policy_mapping_fn": null}, "callbacks": {"on_train_result": null, "on_sample_end": null, "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7fe94dd4e908>", "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7fe94dced048>", "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7fe94dced080>"}, "num_cpus_per_worker": 1, "kl_coeff": 0.2, "lr": 0.0005, "sample_async": false, "output_max_file_size": 67108864, "lr_schedule": null, "clip_actions": false, "vf_loss_coeff": 1.0}}
{"pid": 43700, "hostname": "flow-main", "date": "2019-05-09_05-35-11", "custom_metrics": {"cost2_min": -196.7076446991982, "cost1_max": 467.8748463785227, "outflow_rate_min": 436.3117125192799, "cost2_mean": -176.42584921356305, "outflow_rate_max": 1248.544907104124, "system_level_velocity_min": 11.104618455757093, "cost1_min": 116.60175034337853, "cost2_max": -87.79619852588445, "system_level_velocity_max": 16.40953628104567, "cost1_mean": 350.64424520446767, "system_level_velocity_mean": 13.019006857074196, "outflow_rate_mean": 1033.1411354090453}, "episodes_total": 22215, "num_metric_batches_dropped": 0, "info": {"default": {"kl": 0.013962093740701675, "entropy": 2.744968891143799, "total_loss": 18.713048934936523, "cur_kl_coeff": 0.20000003278255463, "vf_explained_var": 0.9088909029960632, "vf_loss": 18.71652603149414, "cur_lr": 0.0005000000237487257, "policy_loss": -0.006269609555602074}, "grad_time_ms": 42009.175, "update_time_ms": 223.192, "num_steps_trained": 38478311, "num_steps_sampled": 38478311, "load_time_ms": 91.844, "sample_time_ms": 27174.007}, "episode_reward_max": 834.2642265556142, "iterations_since_restore": 2, "episode_reward_mean": 602.4218855140816, "timesteps_total": 38478311, "timesteps_since_restore": 357223, "experiment_id": "9b178520507b4656ac608c6ff2056ff7", "node_ip": "10.138.0.2", "timestamp": 1557380111, "episode_reward_min": 179.98189238287176, "done": false, "training_iteration": 302, "time_total_s": 14382.646571874619, "time_since_restore": 139.76974248886108, "policy_reward_mean": {}, "episode_len_mean": 726.13, "episodes_this_iter": 47, "timesteps_this_iter": 177854, "time_this_iter_s": 68.63982510566711, "config": {"num_workers": 60, "tf_session_args": {"device_count": {"CPU": 1}, "gpu_options": {"allow_growth": true}, "inter_op_parallelism_threads": 2, "log_device_placement": false, "allow_soft_placement": true, "intra_op_parallelism_threads": 2}, "batch_mode": "truncate_episodes", "collect_metrics_timeout": 180, "sample_batch_size": 750, "custom_resources_per_worker": {}, "vf_share_layers": false, "gamma": 0.99, "optimizer": {}, "input_evaluation": null, "num_envs_per_worker": 1, "train_batch_size": 90000, "vf_clip_param": 1000000.0, "kl_target": 0.01, "entropy_coeff": 0.0, "env_config": {"run": "PPO", "flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.3,\n            \"eta3\": 0.1,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 10.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 600,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}"}, "num_gpus_per_worker": 0, "synchronize_filters": true, "straggler_mitigation": false, "num_gpus": 0, "model": {"custom_options": {}, "custom_model": null, "custom_preprocessor": null, "squash_to_range": false, "framestack": true, "fcnet_hiddens": [128, 64, 32], "fcnet_activation": "tanh", "lstm_use_prev_action_reward": false, "grayscale": false, "conv_activation": "relu", "channel_major": false, "conv_filters": null, "dim": 84, "lstm_cell_size": 256, "use_lstm": false, "zero_mean": true, "free_log_std": false, "max_seq_len": 20}, "observation_filter": "MeanStdFilter", "use_gae": true, "log_level": "INFO", "num_sgd_iter": 10, "monitor": false, "env": "MultiWaveAttenuationMergePOEnvBufferedObs-v0no_random_eta2:0.2", "clip_param": 0.3, "lambda": 0.97, "simple_optimizer": false, "sgd_minibatch_size": 128, "num_cpus_for_driver": 1, "input": "sampler", "output": null, "horizon": 1500, "preprocessor_pref": "deepmind", "compress_observations": false, "output_compress_columns": ["obs", "new_obs"], "clip_rewards": null, "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "multiagent": {"policies_to_train": null, "policy_graphs": {}, "policy_mapping_fn": null}, "callbacks": {"on_train_result": null, "on_sample_end": null, "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7fe94dceda58>", "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7fe94dceda90>", "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7fe94dcedac8>"}, "num_cpus_per_worker": 1, "kl_coeff": 0.2, "lr": 0.0005, "sample_async": false, "output_max_file_size": 67108864, "lr_schedule": null, "clip_actions": false, "vf_loss_coeff": 1.0}}
{"pid": 43700, "hostname": "flow-main", "date": "2019-05-09_05-36-21", "custom_metrics": {"cost2_min": -196.7076446991982, "cost1_max": 466.0690076721381, "outflow_rate_min": 422.41347580358257, "cost2_mean": -175.94296691249497, "outflow_rate_max": 1243.4019905530163, "system_level_velocity_min": 10.999110835142977, "cost1_min": 113.58079958167752, "cost2_max": -91.18030627509131, "system_level_velocity_max": 16.355120587111767, "cost1_mean": 349.1979887073306, "system_level_velocity_mean": 13.082264007553874, "outflow_rate_mean": 1029.1869402873695}, "episodes_total": 22303, "num_metric_batches_dropped": 0, "info": {"default": {"kl": 0.014239642769098282, "entropy": 2.7371602058410645, "total_loss": 21.276823043823242, "cur_kl_coeff": 0.20000004768371582, "vf_explained_var": 0.8956102132797241, "vf_loss": 21.279932022094727, "cur_lr": 0.0005000000237487257, "policy_loss": -0.005957600194960833}, "grad_time_ms": 41768.361, "update_time_ms": 152.157, "num_steps_trained": 38656362, "num_steps_sampled": 38656362, "load_time_ms": 80.9, "sample_time_ms": 27325.57}, "episode_reward_max": 857.7450360773117, "iterations_since_restore": 3, "episode_reward_mean": 597.5578633552562, "timesteps_total": 38656362, "timesteps_since_restore": 535274, "experiment_id": "9b178520507b4656ac608c6ff2056ff7", "node_ip": "10.138.0.2", "timestamp": 1557380181, "episode_reward_min": 172.3670110494949, "done": false, "training_iteration": 303, "time_total_s": 14451.96100115776, "time_since_restore": 209.08417177200317, "policy_reward_mean": {}, "episode_len_mean": 718.72, "episodes_this_iter": 88, "timesteps_this_iter": 178051, "time_this_iter_s": 69.31442928314209, "config": {"num_workers": 60, "tf_session_args": {"device_count": {"CPU": 1}, "gpu_options": {"allow_growth": true}, "inter_op_parallelism_threads": 2, "log_device_placement": false, "allow_soft_placement": true, "intra_op_parallelism_threads": 2}, "batch_mode": "truncate_episodes", "collect_metrics_timeout": 180, "sample_batch_size": 750, "custom_resources_per_worker": {}, "vf_share_layers": false, "gamma": 0.99, "optimizer": {}, "input_evaluation": null, "num_envs_per_worker": 1, "train_batch_size": 90000, "vf_clip_param": 1000000.0, "kl_target": 0.01, "entropy_coeff": 0.0, "env_config": {"run": "PPO", "flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.3,\n            \"eta3\": 0.1,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 10.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 600,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}"}, "num_gpus_per_worker": 0, "synchronize_filters": true, "straggler_mitigation": false, "num_gpus": 0, "model": {"custom_options": {}, "custom_model": null, "custom_preprocessor": null, "squash_to_range": false, "framestack": true, "fcnet_hiddens": [128, 64, 32], "fcnet_activation": "tanh", "lstm_use_prev_action_reward": false, "grayscale": false, "conv_activation": "relu", "channel_major": false, "conv_filters": null, "dim": 84, "lstm_cell_size": 256, "use_lstm": false, "zero_mean": true, "free_log_std": false, "max_seq_len": 20}, "observation_filter": "MeanStdFilter", "use_gae": true, "log_level": "INFO", "num_sgd_iter": 10, "monitor": false, "env": "MultiWaveAttenuationMergePOEnvBufferedObs-v0no_random_eta2:0.2", "clip_param": 0.3, "lambda": 0.97, "simple_optimizer": false, "sgd_minibatch_size": 128, "num_cpus_for_driver": 1, "input": "sampler", "output": null, "horizon": 1500, "preprocessor_pref": "deepmind", "compress_observations": false, "output_compress_columns": ["obs", "new_obs"], "clip_rewards": null, "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "multiagent": {"policies_to_train": null, "policy_graphs": {}, "policy_mapping_fn": null}, "callbacks": {"on_train_result": null, "on_sample_end": null, "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7fe94dd04390>", "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7fe94dd043c8>", "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7fe94dd04400>"}, "num_cpus_per_worker": 1, "kl_coeff": 0.2, "lr": 0.0005, "sample_async": false, "output_max_file_size": 67108864, "lr_schedule": null, "clip_actions": false, "vf_loss_coeff": 1.0}}
{"pid": 43700, "hostname": "flow-main", "date": "2019-05-09_05-37-29", "custom_metrics": {"cost2_min": -198.10484272873518, "cost1_max": 455.6520885738819, "outflow_rate_min": 422.41347580358257, "cost2_mean": -178.12034622983458, "outflow_rate_max": 1230.769598547707, "system_level_velocity_min": 11.168756047237101, "cost1_min": 113.58079958167752, "cost2_max": -91.09717257123069, "system_level_velocity_max": 15.944460471628368, "cost1_mean": 350.06452515123704, "system_level_velocity_mean": 12.76460218550206, "outflow_rate_mean": 1034.7537579444027}, "episodes_total": 22387, "num_metric_batches_dropped": 0, "info": {"default": {"kl": 0.015067887492477894, "entropy": 2.750366449356079, "total_loss": 20.695655822753906, "cur_kl_coeff": 0.20000003278255463, "vf_explained_var": 0.8902407884597778, "vf_loss": 20.699859619140625, "cur_lr": 0.0005000000237487257, "policy_loss": -0.007217399775981903}, "grad_time_ms": 41579.158, "update_time_ms": 116.671, "num_steps_trained": 38834044, "num_steps_sampled": 38834044, "load_time_ms": 77.063, "sample_time_ms": 27348.823}, "episode_reward_max": 797.4106133288669, "iterations_since_restore": 4, "episode_reward_mean": 601.7051099320182, "timesteps_total": 38834044, "timesteps_since_restore": 712956, "experiment_id": "9b178520507b4656ac608c6ff2056ff7", "node_ip": "10.138.0.2", "timestamp": 1557380249, "episode_reward_min": 172.3670110494949, "done": false, "training_iteration": 304, "time_total_s": 14520.7972509861, "time_since_restore": 277.9204216003418, "policy_reward_mean": {}, "episode_len_mean": 737.94, "episodes_this_iter": 84, "timesteps_this_iter": 177682, "time_this_iter_s": 68.83624982833862, "config": {"num_workers": 60, "tf_session_args": {"device_count": {"CPU": 1}, "gpu_options": {"allow_growth": true}, "inter_op_parallelism_threads": 2, "log_device_placement": false, "allow_soft_placement": true, "intra_op_parallelism_threads": 2}, "batch_mode": "truncate_episodes", "collect_metrics_timeout": 180, "sample_batch_size": 750, "custom_resources_per_worker": {}, "vf_share_layers": false, "gamma": 0.99, "optimizer": {}, "input_evaluation": null, "num_envs_per_worker": 1, "train_batch_size": 90000, "vf_clip_param": 1000000.0, "kl_target": 0.01, "entropy_coeff": 0.0, "env_config": {"run": "PPO", "flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.3,\n            \"eta3\": 0.1,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 10.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 600,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}"}, "num_gpus_per_worker": 0, "synchronize_filters": true, "straggler_mitigation": false, "num_gpus": 0, "model": {"custom_options": {}, "custom_model": null, "custom_preprocessor": null, "squash_to_range": false, "framestack": true, "fcnet_hiddens": [128, 64, 32], "fcnet_activation": "tanh", "lstm_use_prev_action_reward": false, "grayscale": false, "conv_activation": "relu", "channel_major": false, "conv_filters": null, "dim": 84, "lstm_cell_size": 256, "use_lstm": false, "zero_mean": true, "free_log_std": false, "max_seq_len": 20}, "observation_filter": "MeanStdFilter", "use_gae": true, "log_level": "INFO", "num_sgd_iter": 10, "monitor": false, "env": "MultiWaveAttenuationMergePOEnvBufferedObs-v0no_random_eta2:0.2", "clip_param": 0.3, "lambda": 0.97, "simple_optimizer": false, "sgd_minibatch_size": 128, "num_cpus_for_driver": 1, "input": "sampler", "output": null, "horizon": 1500, "preprocessor_pref": "deepmind", "compress_observations": false, "output_compress_columns": ["obs", "new_obs"], "clip_rewards": null, "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "multiagent": {"policies_to_train": null, "policy_graphs": {}, "policy_mapping_fn": null}, "callbacks": {"on_train_result": null, "on_sample_end": null, "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7fe94dced9e8>", "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7fe94dcedb00>", "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7fe94dceda20>"}, "num_cpus_per_worker": 1, "kl_coeff": 0.2, "lr": 0.0005, "sample_async": false, "output_max_file_size": 67108864, "lr_schedule": null, "clip_actions": false, "vf_loss_coeff": 1.0}}
{"pid": 43700, "hostname": "flow-main", "date": "2019-05-09_05-38-42", "custom_metrics": {"cost2_min": -198.55084438841934, "cost1_max": 466.86719967300667, "outflow_rate_min": 432.00563784982114, "cost2_mean": -178.47830634163552, "outflow_rate_max": 1245.4465050192052, "system_level_velocity_min": 11.173055983741879, "cost1_min": 112.64898524720908, "cost2_max": -87.24345465529186, "system_level_velocity_max": 16.31842809305686, "cost1_mean": 352.78852277439995, "system_level_velocity_mean": 12.807548082213849, "outflow_rate_mean": 1040.9950860687334}, "episodes_total": 22470, "num_metric_batches_dropped": 0, "info": {"default": {"kl": 0.014817291870713234, "entropy": 2.761336088180542, "total_loss": 22.397247314453125, "cur_kl_coeff": 0.20000001788139343, "vf_explained_var": 0.8875499963760376, "vf_loss": 22.401369094848633, "cur_lr": 0.0005000000237487257, "policy_loss": -0.007084940560162067}, "grad_time_ms": 41984.951, "update_time_ms": 95.334, "num_steps_trained": 39013521, "num_steps_sampled": 39013521, "load_time_ms": 72.174, "sample_time_ms": 27505.845}, "episode_reward_max": 842.4083839807585, "iterations_since_restore": 5, "episode_reward_mean": 606.6904623952316, "timesteps_total": 39013521, "timesteps_since_restore": 892433, "experiment_id": "9b178520507b4656ac608c6ff2056ff7", "node_ip": "10.138.0.2", "timestamp": 1557380322, "episode_reward_min": 173.02855992567933, "done": false, "training_iteration": 305, "time_total_s": 14592.957275867462, "time_since_restore": 350.0804464817047, "policy_reward_mean": {}, "episode_len_mean": 739.59, "episodes_this_iter": 83, "timesteps_this_iter": 179477, "time_this_iter_s": 72.16002488136292, "config": {"num_workers": 60, "tf_session_args": {"device_count": {"CPU": 1}, "gpu_options": {"allow_growth": true}, "inter_op_parallelism_threads": 2, "log_device_placement": false, "allow_soft_placement": true, "intra_op_parallelism_threads": 2}, "batch_mode": "truncate_episodes", "collect_metrics_timeout": 180, "sample_batch_size": 750, "custom_resources_per_worker": {}, "vf_share_layers": false, "gamma": 0.99, "optimizer": {}, "input_evaluation": null, "num_envs_per_worker": 1, "train_batch_size": 90000, "vf_clip_param": 1000000.0, "kl_target": 0.01, "entropy_coeff": 0.0, "env_config": {"run": "PPO", "flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.3,\n            \"eta3\": 0.1,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 10.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 600,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}"}, "num_gpus_per_worker": 0, "synchronize_filters": true, "straggler_mitigation": false, "num_gpus": 0, "model": {"custom_options": {}, "custom_model": null, "custom_preprocessor": null, "squash_to_range": false, "framestack": true, "fcnet_hiddens": [128, 64, 32], "fcnet_activation": "tanh", "lstm_use_prev_action_reward": false, "grayscale": false, "conv_activation": "relu", "channel_major": false, "conv_filters": null, "dim": 84, "lstm_cell_size": 256, "use_lstm": false, "zero_mean": true, "free_log_std": false, "max_seq_len": 20}, "observation_filter": "MeanStdFilter", "use_gae": true, "log_level": "INFO", "num_sgd_iter": 10, "monitor": false, "env": "MultiWaveAttenuationMergePOEnvBufferedObs-v0no_random_eta2:0.2", "clip_param": 0.3, "lambda": 0.97, "simple_optimizer": false, "sgd_minibatch_size": 128, "num_cpus_for_driver": 1, "input": "sampler", "output": null, "horizon": 1500, "preprocessor_pref": "deepmind", "compress_observations": false, "output_compress_columns": ["obs", "new_obs"], "clip_rewards": null, "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "multiagent": {"policies_to_train": null, "policy_graphs": {}, "policy_mapping_fn": null}, "callbacks": {"on_train_result": null, "on_sample_end": null, "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7fe94dd044a8>", "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7fe94dd04278>", "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7fe94dd046a0>"}, "num_cpus_per_worker": 1, "kl_coeff": 0.2, "lr": 0.0005, "sample_async": false, "output_max_file_size": 67108864, "lr_schedule": null, "clip_actions": false, "vf_loss_coeff": 1.0}}
{"pid": 43700, "hostname": "flow-main", "date": "2019-05-09_05-39-53", "custom_metrics": {"cost2_min": -200.8778981652896, "cost1_max": 453.44895688616776, "outflow_rate_min": 424.2432315492078, "cost2_mean": -177.2645307654536, "outflow_rate_max": 1233.0110466388367, "system_level_velocity_min": 9.867150019158302, "cost1_min": 111.30674372858749, "cost2_max": -86.04612626871008, "system_level_velocity_max": 15.909865476372143, "cost1_mean": 353.2620709209239, "system_level_velocity_mean": 12.900322004736468, "outflow_rate_mean": 1043.6881000881588}, "episodes_total": 22555, "num_metric_batches_dropped": 0, "info": {"default": {"kl": 0.015617660246789455, "entropy": 2.761672258377075, "total_loss": 23.729921340942383, "cur_kl_coeff": 0.20000003278255463, "vf_explained_var": 0.8798043727874756, "vf_loss": 23.733768463134766, "cur_lr": 0.0005000000237487257, "policy_loss": -0.00696964655071497}, "grad_time_ms": 41957.205, "update_time_ms": 81.21, "num_steps_trained": 39192524, "num_steps_sampled": 39192524, "load_time_ms": 72.582, "sample_time_ms": 27723.132}, "episode_reward_max": 795.87180036756, "iterations_since_restore": 6, "episode_reward_mean": 605.3432881041132, "timesteps_total": 39192524, "timesteps_since_restore": 1071436, "experiment_id": "9b178520507b4656ac608c6ff2056ff7", "node_ip": "10.138.0.2", "timestamp": 1557380393, "episode_reward_min": 173.86210328130446, "done": false, "training_iteration": 306, "time_total_s": 14663.985891103745, "time_since_restore": 421.10906171798706, "policy_reward_mean": {}, "episode_len_mean": 736.15, "episodes_this_iter": 85, "timesteps_this_iter": 179003, "time_this_iter_s": 71.02861523628235, "config": {"num_workers": 60, "tf_session_args": {"device_count": {"CPU": 1}, "gpu_options": {"allow_growth": true}, "inter_op_parallelism_threads": 2, "log_device_placement": false, "allow_soft_placement": true, "intra_op_parallelism_threads": 2}, "batch_mode": "truncate_episodes", "collect_metrics_timeout": 180, "sample_batch_size": 750, "custom_resources_per_worker": {}, "vf_share_layers": false, "gamma": 0.99, "optimizer": {}, "input_evaluation": null, "num_envs_per_worker": 1, "train_batch_size": 90000, "vf_clip_param": 1000000.0, "kl_target": 0.01, "entropy_coeff": 0.0, "env_config": {"run": "PPO", "flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.3,\n            \"eta3\": 0.1,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 10.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 600,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}"}, "num_gpus_per_worker": 0, "synchronize_filters": true, "straggler_mitigation": false, "num_gpus": 0, "model": {"custom_options": {}, "custom_model": null, "custom_preprocessor": null, "squash_to_range": false, "framestack": true, "fcnet_hiddens": [128, 64, 32], "fcnet_activation": "tanh", "lstm_use_prev_action_reward": false, "grayscale": false, "conv_activation": "relu", "channel_major": false, "conv_filters": null, "dim": 84, "lstm_cell_size": 256, "use_lstm": false, "zero_mean": true, "free_log_std": false, "max_seq_len": 20}, "observation_filter": "MeanStdFilter", "use_gae": true, "log_level": "INFO", "num_sgd_iter": 10, "monitor": false, "env": "MultiWaveAttenuationMergePOEnvBufferedObs-v0no_random_eta2:0.2", "clip_param": 0.3, "lambda": 0.97, "simple_optimizer": false, "sgd_minibatch_size": 128, "num_cpus_for_driver": 1, "input": "sampler", "output": null, "horizon": 1500, "preprocessor_pref": "deepmind", "compress_observations": false, "output_compress_columns": ["obs", "new_obs"], "clip_rewards": null, "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "multiagent": {"policies_to_train": null, "policy_graphs": {}, "policy_mapping_fn": null}, "callbacks": {"on_train_result": null, "on_sample_end": null, "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7fe94dced8d0>", "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7fe94dcedcf8>", "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7fe94dced908>"}, "num_cpus_per_worker": 1, "kl_coeff": 0.2, "lr": 0.0005, "sample_async": false, "output_max_file_size": 67108864, "lr_schedule": null, "clip_actions": false, "vf_loss_coeff": 1.0}}
{"pid": 43700, "hostname": "flow-main", "date": "2019-05-09_05-41-03", "custom_metrics": {"cost2_min": -198.87812403032413, "cost1_max": 438.8101530891071, "outflow_rate_min": 253.32967474409116, "cost2_mean": -174.6758772583128, "outflow_rate_max": 1216.544854923334, "system_level_velocity_min": 10.418387236698889, "cost1_min": 49.296046266218966, "cost2_max": -53.307865153396946, "system_level_velocity_max": 15.475720752326751, "cost1_mean": 346.8558413891559, "system_level_velocity_mean": 12.76241964130114, "outflow_rate_mean": 1027.8813517364415}, "episodes_total": 22640, "num_metric_batches_dropped": 0, "info": {"default": {"kl": 0.014917264692485332, "entropy": 2.7603917121887207, "total_loss": 25.435625076293945, "cur_kl_coeff": 0.20000001788139343, "vf_explained_var": 0.871570348739624, "vf_loss": 25.43972396850586, "cur_lr": 0.0005000000237487257, "policy_loss": -0.007083533797413111}, "grad_time_ms": 41935.104, "update_time_ms": 71.165, "num_steps_trained": 39372023, "num_steps_sampled": 39372023, "load_time_ms": 68.609, "sample_time_ms": 27796.949}, "episode_reward_max": 748.1864941076539, "iterations_since_restore": 7, "episode_reward_mean": 594.8666155529868, "timesteps_total": 39372023, "timesteps_since_restore": 1250935, "experiment_id": "9b178520507b4656ac608c6ff2056ff7", "node_ip": "10.138.0.2", "timestamp": 1557380463, "episode_reward_min": 56.95961691455947, "done": false, "training_iteration": 307, "time_total_s": 14734.418923139572, "time_since_restore": 491.5420937538147, "policy_reward_mean": {}, "episode_len_mean": 730.02, "episodes_this_iter": 85, "timesteps_this_iter": 179499, "time_this_iter_s": 70.43303203582764, "config": {"num_workers": 60, "tf_session_args": {"device_count": {"CPU": 1}, "gpu_options": {"allow_growth": true}, "inter_op_parallelism_threads": 2, "log_device_placement": false, "allow_soft_placement": true, "intra_op_parallelism_threads": 2}, "batch_mode": "truncate_episodes", "collect_metrics_timeout": 180, "sample_batch_size": 750, "custom_resources_per_worker": {}, "vf_share_layers": false, "gamma": 0.99, "optimizer": {}, "input_evaluation": null, "num_envs_per_worker": 1, "train_batch_size": 90000, "vf_clip_param": 1000000.0, "kl_target": 0.01, "entropy_coeff": 0.0, "env_config": {"run": "PPO", "flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.3,\n            \"eta3\": 0.1,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 10.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 600,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}"}, "num_gpus_per_worker": 0, "synchronize_filters": true, "straggler_mitigation": false, "num_gpus": 0, "model": {"custom_options": {}, "custom_model": null, "custom_preprocessor": null, "squash_to_range": false, "framestack": true, "fcnet_hiddens": [128, 64, 32], "fcnet_activation": "tanh", "lstm_use_prev_action_reward": false, "grayscale": false, "conv_activation": "relu", "channel_major": false, "conv_filters": null, "dim": 84, "lstm_cell_size": 256, "use_lstm": false, "zero_mean": true, "free_log_std": false, "max_seq_len": 20}, "observation_filter": "MeanStdFilter", "use_gae": true, "log_level": "INFO", "num_sgd_iter": 10, "monitor": false, "env": "MultiWaveAttenuationMergePOEnvBufferedObs-v0no_random_eta2:0.2", "clip_param": 0.3, "lambda": 0.97, "simple_optimizer": false, "sgd_minibatch_size": 128, "num_cpus_for_driver": 1, "input": "sampler", "output": null, "horizon": 1500, "preprocessor_pref": "deepmind", "compress_observations": false, "output_compress_columns": ["obs", "new_obs"], "clip_rewards": null, "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "multiagent": {"policies_to_train": null, "policy_graphs": {}, "policy_mapping_fn": null}, "callbacks": {"on_train_result": null, "on_sample_end": null, "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7fe94dd04908>", "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7fe94dd04160>", "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7fe94dd04898>"}, "num_cpus_per_worker": 1, "kl_coeff": 0.2, "lr": 0.0005, "sample_async": false, "output_max_file_size": 67108864, "lr_schedule": null, "clip_actions": false, "vf_loss_coeff": 1.0}}
{"pid": 43700, "hostname": "flow-main", "date": "2019-05-09_05-42-14", "custom_metrics": {"cost2_min": -198.87812403032413, "cost1_max": 444.0296324547427, "outflow_rate_min": 597.0146509402858, "cost2_mean": -175.55239411113857, "outflow_rate_max": 1225.7455287568475, "system_level_velocity_min": 9.735118321233841, "cost1_min": 179.6584379992575, "cost2_max": -119.08959597610007, "system_level_velocity_max": 15.694207794594407, "cost1_mean": 348.8699379381456, "system_level_velocity_mean": 12.556671305774833, "outflow_rate_mean": 1034.3439453639157}, "episodes_total": 22723, "num_metric_batches_dropped": 0, "info": {"default": {"kl": 0.014364403672516346, "entropy": 2.7701776027679443, "total_loss": 25.55748176574707, "cur_kl_coeff": 0.20000001788139343, "vf_explained_var": 0.8691015243530273, "vf_loss": 25.561969757080078, "cur_lr": 0.0005000000237487257, "policy_loss": -0.007359164766967297}, "grad_time_ms": 41883.558, "update_time_ms": 63.85, "num_steps_trained": 39551913, "num_steps_sampled": 39551913, "load_time_ms": 66.821, "sample_time_ms": 27941.797}, "episode_reward_max": 764.4028126376943, "iterations_since_restore": 8, "episode_reward_mean": 604.615868530905, "timesteps_total": 39551913, "timesteps_since_restore": 1430825, "experiment_id": "9b178520507b4656ac608c6ff2056ff7", "node_ip": "10.138.0.2", "timestamp": 1557380534, "episode_reward_min": 301.4663530850469, "done": false, "training_iteration": 308, "time_total_s": 14805.300117969513, "time_since_restore": 562.4232885837555, "policy_reward_mean": {}, "episode_len_mean": 746.73, "episodes_this_iter": 83, "timesteps_this_iter": 179890, "time_this_iter_s": 70.8811948299408, "config": {"num_workers": 60, "tf_session_args": {"device_count": {"CPU": 1}, "gpu_options": {"allow_growth": true}, "inter_op_parallelism_threads": 2, "log_device_placement": false, "allow_soft_placement": true, "intra_op_parallelism_threads": 2}, "batch_mode": "truncate_episodes", "collect_metrics_timeout": 180, "sample_batch_size": 750, "custom_resources_per_worker": {}, "vf_share_layers": false, "gamma": 0.99, "optimizer": {}, "input_evaluation": null, "num_envs_per_worker": 1, "train_batch_size": 90000, "vf_clip_param": 1000000.0, "kl_target": 0.01, "entropy_coeff": 0.0, "env_config": {"run": "PPO", "flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.3,\n            \"eta3\": 0.1,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 10.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 600,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}"}, "num_gpus_per_worker": 0, "synchronize_filters": true, "straggler_mitigation": false, "num_gpus": 0, "model": {"custom_options": {}, "custom_model": null, "custom_preprocessor": null, "squash_to_range": false, "framestack": true, "fcnet_hiddens": [128, 64, 32], "fcnet_activation": "tanh", "lstm_use_prev_action_reward": false, "grayscale": false, "conv_activation": "relu", "channel_major": false, "conv_filters": null, "dim": 84, "lstm_cell_size": 256, "use_lstm": false, "zero_mean": true, "free_log_std": false, "max_seq_len": 20}, "observation_filter": "MeanStdFilter", "use_gae": true, "log_level": "INFO", "num_sgd_iter": 10, "monitor": false, "env": "MultiWaveAttenuationMergePOEnvBufferedObs-v0no_random_eta2:0.2", "clip_param": 0.3, "lambda": 0.97, "simple_optimizer": false, "sgd_minibatch_size": 128, "num_cpus_for_driver": 1, "input": "sampler", "output": null, "horizon": 1500, "preprocessor_pref": "deepmind", "compress_observations": false, "output_compress_columns": ["obs", "new_obs"], "clip_rewards": null, "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "multiagent": {"policies_to_train": null, "policy_graphs": {}, "policy_mapping_fn": null}, "callbacks": {"on_train_result": null, "on_sample_end": null, "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7fe94dceddd8>", "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7fe91bc2f550>", "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7fe94dcedf28>"}, "num_cpus_per_worker": 1, "kl_coeff": 0.2, "lr": 0.0005, "sample_async": false, "output_max_file_size": 67108864, "lr_schedule": null, "clip_actions": false, "vf_loss_coeff": 1.0}}
{"pid": 43700, "hostname": "flow-main", "date": "2019-05-09_05-43-25", "custom_metrics": {"cost2_min": -208.62260240878115, "cost1_max": 440.596380324415, "outflow_rate_min": 592.5901374374628, "cost2_mean": -174.12351705028289, "outflow_rate_max": 1214.6237197620144, "system_level_velocity_min": 10.756443014067225, "cost1_min": 182.62844291281482, "cost2_max": -123.6583510805852, "system_level_velocity_max": 15.450464054117695, "cost1_mean": 348.4494849844083, "system_level_velocity_mean": 12.578119465219045, "outflow_rate_mean": 1031.8866690888096}, "episodes_total": 22806, "num_metric_batches_dropped": 0, "info": {"default": {"kl": 0.015662647783756256, "entropy": 2.78007173538208, "total_loss": 24.542348861694336, "cur_kl_coeff": 0.20000003278255463, "vf_explained_var": 0.8794202208518982, "vf_loss": 24.546886444091797, "cur_lr": 0.0005000000237487257, "policy_loss": -0.007668475154787302}, "grad_time_ms": 41784.568, "update_time_ms": 58.021, "num_steps_trained": 39734195, "num_steps_sampled": 39734195, "load_time_ms": 64.874, "sample_time_ms": 28102.927}, "episode_reward_max": 786.098467620763, "iterations_since_restore": 9, "episode_reward_mean": 606.6352891915677, "timesteps_total": 39734195, "timesteps_since_restore": 1613107, "experiment_id": "9b178520507b4656ac608c6ff2056ff7", "node_ip": "10.138.0.2", "timestamp": 1557380605, "episode_reward_min": 309.6459995755245, "done": false, "training_iteration": 309, "time_total_s": 14876.092406988144, "time_since_restore": 633.2155776023865, "policy_reward_mean": {}, "episode_len_mean": 743.2, "episodes_this_iter": 83, "timesteps_this_iter": 182282, "time_this_iter_s": 70.79228901863098, "config": {"num_workers": 60, "tf_session_args": {"device_count": {"CPU": 1}, "gpu_options": {"allow_growth": true}, "inter_op_parallelism_threads": 2, "log_device_placement": false, "allow_soft_placement": true, "intra_op_parallelism_threads": 2}, "batch_mode": "truncate_episodes", "collect_metrics_timeout": 180, "sample_batch_size": 750, "custom_resources_per_worker": {}, "vf_share_layers": false, "gamma": 0.99, "optimizer": {}, "input_evaluation": null, "num_envs_per_worker": 1, "train_batch_size": 90000, "vf_clip_param": 1000000.0, "kl_target": 0.01, "entropy_coeff": 0.0, "env_config": {"run": "PPO", "flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.3,\n            \"eta3\": 0.1,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 10.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 600,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}"}, "num_gpus_per_worker": 0, "synchronize_filters": true, "straggler_mitigation": false, "num_gpus": 0, "model": {"custom_options": {}, "custom_model": null, "custom_preprocessor": null, "squash_to_range": false, "framestack": true, "fcnet_hiddens": [128, 64, 32], "fcnet_activation": "tanh", "lstm_use_prev_action_reward": false, "grayscale": false, "conv_activation": "relu", "channel_major": false, "conv_filters": null, "dim": 84, "lstm_cell_size": 256, "use_lstm": false, "zero_mean": true, "free_log_std": false, "max_seq_len": 20}, "observation_filter": "MeanStdFilter", "use_gae": true, "log_level": "INFO", "num_sgd_iter": 10, "monitor": false, "env": "MultiWaveAttenuationMergePOEnvBufferedObs-v0no_random_eta2:0.2", "clip_param": 0.3, "lambda": 0.97, "simple_optimizer": false, "sgd_minibatch_size": 128, "num_cpus_for_driver": 1, "input": "sampler", "output": null, "horizon": 1500, "preprocessor_pref": "deepmind", "compress_observations": false, "output_compress_columns": ["obs", "new_obs"], "clip_rewards": null, "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "multiagent": {"policies_to_train": null, "policy_graphs": {}, "policy_mapping_fn": null}, "callbacks": {"on_train_result": null, "on_sample_end": null, "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7fe94dd04cf8>", "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7fe94dd04ba8>", "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7fe94dd04320>"}, "num_cpus_per_worker": 1, "kl_coeff": 0.2, "lr": 0.0005, "sample_async": false, "output_max_file_size": 67108864, "lr_schedule": null, "clip_actions": false, "vf_loss_coeff": 1.0}}
{"pid": 43700, "hostname": "flow-main", "date": "2019-05-09_05-44-36", "custom_metrics": {"cost2_min": -195.68051032485573, "cost1_max": 453.0314370979241, "outflow_rate_min": 429.78318762182477, "cost2_mean": -169.68739074245775, "outflow_rate_max": 1237.0315734332619, "system_level_velocity_min": 9.6134235199511, "cost1_min": 117.36490291769138, "cost2_max": -91.70255401359628, "system_level_velocity_max": 15.895195347377017, "cost1_mean": 334.65009280136377, "system_level_velocity_mean": 12.431372383472038, "outflow_rate_mean": 996.7292036394999}, "episodes_total": 22892, "num_metric_batches_dropped": 0, "info": {"default": {"kl": 0.015494132414460182, "entropy": 2.7899107933044434, "total_loss": 25.536991119384766, "cur_kl_coeff": 0.20000003278255463, "vf_explained_var": 0.8777392506599426, "vf_loss": 25.541013717651367, "cur_lr": 0.0005000000237487257, "policy_loss": -0.007121802773326635}, "grad_time_ms": 41813.225, "update_time_ms": 53.19, "num_steps_trained": 39914829, "num_steps_sampled": 39914829, "load_time_ms": 65.669, "sample_time_ms": 28164.313}, "episode_reward_max": 847.8430841019236, "iterations_since_restore": 10, "episode_reward_mean": 585.9847390851414, "timesteps_total": 39914829, "timesteps_since_restore": 1793741, "experiment_id": "9b178520507b4656ac608c6ff2056ff7", "node_ip": "10.138.0.2", "timestamp": 1557380676, "episode_reward_min": 182.17379694312262, "done": false, "training_iteration": 310, "time_total_s": 14947.300174236298, "time_since_restore": 704.4233448505402, "policy_reward_mean": {}, "episode_len_mean": 724.0, "episodes_this_iter": 86, "timesteps_this_iter": 180634, "time_this_iter_s": 71.20776724815369, "config": {"num_workers": 60, "tf_session_args": {"device_count": {"CPU": 1}, "gpu_options": {"allow_growth": true}, "inter_op_parallelism_threads": 2, "log_device_placement": false, "allow_soft_placement": true, "intra_op_parallelism_threads": 2}, "batch_mode": "truncate_episodes", "collect_metrics_timeout": 180, "sample_batch_size": 750, "custom_resources_per_worker": {}, "vf_share_layers": false, "gamma": 0.99, "optimizer": {}, "input_evaluation": null, "num_envs_per_worker": 1, "train_batch_size": 90000, "vf_clip_param": 1000000.0, "kl_target": 0.01, "entropy_coeff": 0.0, "env_config": {"run": "PPO", "flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.3,\n            \"eta3\": 0.1,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 10.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 600,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}"}, "num_gpus_per_worker": 0, "synchronize_filters": true, "straggler_mitigation": false, "num_gpus": 0, "model": {"custom_options": {}, "custom_model": null, "custom_preprocessor": null, "squash_to_range": false, "framestack": true, "fcnet_hiddens": [128, 64, 32], "fcnet_activation": "tanh", "lstm_use_prev_action_reward": false, "grayscale": false, "conv_activation": "relu", "channel_major": false, "conv_filters": null, "dim": 84, "lstm_cell_size": 256, "use_lstm": false, "zero_mean": true, "free_log_std": false, "max_seq_len": 20}, "observation_filter": "MeanStdFilter", "use_gae": true, "log_level": "INFO", "num_sgd_iter": 10, "monitor": false, "env": "MultiWaveAttenuationMergePOEnvBufferedObs-v0no_random_eta2:0.2", "clip_param": 0.3, "lambda": 0.97, "simple_optimizer": false, "sgd_minibatch_size": 128, "num_cpus_for_driver": 1, "input": "sampler", "output": null, "horizon": 1500, "preprocessor_pref": "deepmind", "compress_observations": false, "output_compress_columns": ["obs", "new_obs"], "clip_rewards": null, "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "multiagent": {"policies_to_train": null, "policy_graphs": {}, "policy_mapping_fn": null}, "callbacks": {"on_train_result": null, "on_sample_end": null, "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7fe94dced748>", "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7fe94dcedeb8>", "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7fe94dcede80>"}, "num_cpus_per_worker": 1, "kl_coeff": 0.2, "lr": 0.0005, "sample_async": false, "output_max_file_size": 67108864, "lr_schedule": null, "clip_actions": false, "vf_loss_coeff": 1.0}}
{"pid": 43700, "hostname": "flow-main", "date": "2019-05-09_05-45-47", "custom_metrics": {"cost2_min": -197.32226888861126, "cost1_max": 445.98662408407233, "outflow_rate_min": 427.4612046743135, "cost2_mean": -169.90726651299596, "outflow_rate_max": 1223.1261169338575, "system_level_velocity_min": 10.46218678172725, "cost1_min": 111.58348367399901, "cost2_max": -86.68979512973678, "system_level_velocity_max": 15.665033685860891, "cost1_mean": 339.55207702390874, "system_level_velocity_mean": 12.555775519093164, "outflow_rate_mean": 1010.1271207787173}, "episodes_total": 22977, "num_metric_batches_dropped": 0, "info": {"default": {"kl": 0.014665520749986172, "entropy": 2.8040947914123535, "total_loss": 25.297565460205078, "cur_kl_coeff": 0.20000003278255463, "vf_explained_var": 0.8796004056930542, "vf_loss": 25.30167007446289, "cur_lr": 0.0005000000237487257, "policy_loss": -0.00703603308647871}, "grad_time_ms": 41603.704, "update_time_ms": 10.803, "num_steps_trained": 40093841, "num_steps_sampled": 40093841, "load_time_ms": 58.562, "sample_time_ms": 28371.667}, "episode_reward_max": 783.4232430353803, "iterations_since_restore": 11, "episode_reward_mean": 586.6240579143696, "timesteps_total": 40093841, "timesteps_since_restore": 1972753, "experiment_id": "9b178520507b4656ac608c6ff2056ff7", "node_ip": "10.138.0.2", "timestamp": 1557380747, "episode_reward_min": 172.49999089420402, "done": false, "training_iteration": 311, "time_total_s": 15017.814193248749, "time_since_restore": 774.9373638629913, "policy_reward_mean": {}, "episode_len_mean": 726.39, "episodes_this_iter": 85, "timesteps_this_iter": 179012, "time_this_iter_s": 70.51401901245117, "config": {"num_workers": 60, "tf_session_args": {"device_count": {"CPU": 1}, "gpu_options": {"allow_growth": true}, "inter_op_parallelism_threads": 2, "log_device_placement": false, "allow_soft_placement": true, "intra_op_parallelism_threads": 2}, "batch_mode": "truncate_episodes", "collect_metrics_timeout": 180, "sample_batch_size": 750, "custom_resources_per_worker": {}, "vf_share_layers": false, "gamma": 0.99, "optimizer": {}, "input_evaluation": null, "num_envs_per_worker": 1, "train_batch_size": 90000, "vf_clip_param": 1000000.0, "kl_target": 0.01, "entropy_coeff": 0.0, "env_config": {"run": "PPO", "flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.3,\n            \"eta3\": 0.1,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 10.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 600,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}"}, "num_gpus_per_worker": 0, "synchronize_filters": true, "straggler_mitigation": false, "num_gpus": 0, "model": {"custom_options": {}, "custom_model": null, "custom_preprocessor": null, "squash_to_range": false, "framestack": true, "fcnet_hiddens": [128, 64, 32], "fcnet_activation": "tanh", "lstm_use_prev_action_reward": false, "grayscale": false, "conv_activation": "relu", "channel_major": false, "conv_filters": null, "dim": 84, "lstm_cell_size": 256, "use_lstm": false, "zero_mean": true, "free_log_std": false, "max_seq_len": 20}, "observation_filter": "MeanStdFilter", "use_gae": true, "log_level": "INFO", "num_sgd_iter": 10, "monitor": false, "env": "MultiWaveAttenuationMergePOEnvBufferedObs-v0no_random_eta2:0.2", "clip_param": 0.3, "lambda": 0.97, "simple_optimizer": false, "sgd_minibatch_size": 128, "num_cpus_for_driver": 1, "input": "sampler", "output": null, "horizon": 1500, "preprocessor_pref": "deepmind", "compress_observations": false, "output_compress_columns": ["obs", "new_obs"], "clip_rewards": null, "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "multiagent": {"policies_to_train": null, "policy_graphs": {}, "policy_mapping_fn": null}, "callbacks": {"on_train_result": null, "on_sample_end": null, "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7fe94dd04828>", "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7fe94dd04ef0>", "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7fe94dd04a58>"}, "num_cpus_per_worker": 1, "kl_coeff": 0.2, "lr": 0.0005, "sample_async": false, "output_max_file_size": 67108864, "lr_schedule": null, "clip_actions": false, "vf_loss_coeff": 1.0}}
{"pid": 43700, "hostname": "flow-main", "date": "2019-05-09_05-46-58", "custom_metrics": {"cost2_min": -193.22513400191872, "cost1_max": 451.9154539025451, "outflow_rate_min": 439.2175216597152, "cost2_mean": -170.85595269467441, "outflow_rate_max": 1222.1581717020067, "system_level_velocity_min": 9.335688802295456, "cost1_min": 117.97879605395038, "cost2_max": -96.65081448049968, "system_level_velocity_max": 15.86268721335871, "cost1_mean": 343.4287740041797, "system_level_velocity_mean": 12.346839173949439, "outflow_rate_mean": 1019.480646675362}, "episodes_total": 23060, "num_metric_batches_dropped": 0, "info": {"default": {"kl": 0.014863172546029091, "entropy": 2.8061606884002686, "total_loss": 25.668996810913086, "cur_kl_coeff": 0.20000001788139343, "vf_explained_var": 0.8765168786048889, "vf_loss": 25.673795700073242, "cur_lr": 0.0005000000237487257, "policy_loss": -0.007776075508445501}, "grad_time_ms": 41742.372, "update_time_ms": 10.644, "num_steps_trained": 40275320, "num_steps_sampled": 40275320, "load_time_ms": 60.953, "sample_time_ms": 28453.796}, "episode_reward_max": 802.6219301874107, "iterations_since_restore": 12, "episode_reward_mean": 601.8457153729211, "timesteps_total": 40275320, "timesteps_since_restore": 2154232, "experiment_id": "9b178520507b4656ac608c6ff2056ff7", "node_ip": "10.138.0.2", "timestamp": 1557380818, "episode_reward_min": 180.66722444182128, "done": false, "training_iteration": 312, "time_total_s": 15088.680148363113, "time_since_restore": 845.803318977356, "policy_reward_mean": {}, "episode_len_mean": 745.75, "episodes_this_iter": 83, "timesteps_this_iter": 181479, "time_this_iter_s": 70.86595511436462, "config": {"num_workers": 60, "tf_session_args": {"device_count": {"CPU": 1}, "gpu_options": {"allow_growth": true}, "inter_op_parallelism_threads": 2, "log_device_placement": false, "allow_soft_placement": true, "intra_op_parallelism_threads": 2}, "batch_mode": "truncate_episodes", "collect_metrics_timeout": 180, "sample_batch_size": 750, "custom_resources_per_worker": {}, "vf_share_layers": false, "gamma": 0.99, "optimizer": {}, "input_evaluation": null, "num_envs_per_worker": 1, "train_batch_size": 90000, "vf_clip_param": 1000000.0, "kl_target": 0.01, "entropy_coeff": 0.0, "env_config": {"run": "PPO", "flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.3,\n            \"eta3\": 0.1,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 10.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 600,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}"}, "num_gpus_per_worker": 0, "synchronize_filters": true, "straggler_mitigation": false, "num_gpus": 0, "model": {"custom_options": {}, "custom_model": null, "custom_preprocessor": null, "squash_to_range": false, "framestack": true, "fcnet_hiddens": [128, 64, 32], "fcnet_activation": "tanh", "lstm_use_prev_action_reward": false, "grayscale": false, "conv_activation": "relu", "channel_major": false, "conv_filters": null, "dim": 84, "lstm_cell_size": 256, "use_lstm": false, "zero_mean": true, "free_log_std": false, "max_seq_len": 20}, "observation_filter": "MeanStdFilter", "use_gae": true, "log_level": "INFO", "num_sgd_iter": 10, "monitor": false, "env": "MultiWaveAttenuationMergePOEnvBufferedObs-v0no_random_eta2:0.2", "clip_param": 0.3, "lambda": 0.97, "simple_optimizer": false, "sgd_minibatch_size": 128, "num_cpus_for_driver": 1, "input": "sampler", "output": null, "horizon": 1500, "preprocessor_pref": "deepmind", "compress_observations": false, "output_compress_columns": ["obs", "new_obs"], "clip_rewards": null, "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "multiagent": {"policies_to_train": null, "policy_graphs": {}, "policy_mapping_fn": null}, "callbacks": {"on_train_result": null, "on_sample_end": null, "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7fe94dd04278>", "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7fe94dcedc50>", "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7fe94dcede80>"}, "num_cpus_per_worker": 1, "kl_coeff": 0.2, "lr": 0.0005, "sample_async": false, "output_max_file_size": 67108864, "lr_schedule": null, "clip_actions": false, "vf_loss_coeff": 1.0}}
{"pid": 43700, "hostname": "flow-main", "date": "2019-05-09_05-48-08", "custom_metrics": {"cost2_min": -204.10368050328105, "cost1_max": 451.9154539025451, "outflow_rate_min": 425.5086467992908, "cost2_mean": -170.76216464376418, "outflow_rate_max": 1222.1581717020067, "system_level_velocity_min": 10.577545703361485, "cost1_min": 117.97879605395038, "cost2_max": -96.65081448049968, "system_level_velocity_max": 15.900583060995848, "cost1_mean": 342.8603088226947, "system_level_velocity_mean": 12.569774381927063, "outflow_rate_mean": 1015.8490717037035}, "episodes_total": 23146, "num_metric_batches_dropped": 0, "info": {"default": {"kl": 0.014889350160956383, "entropy": 2.791207790374756, "total_loss": 28.98726463317871, "cur_kl_coeff": 0.20000001788139343, "vf_explained_var": 0.8659903407096863, "vf_loss": 28.992115020751953, "cur_lr": 0.0005000000237487257, "policy_loss": -0.00782825332134962}, "grad_time_ms": 41766.498, "update_time_ms": 10.835, "num_steps_trained": 40456711, "num_steps_sampled": 40456711, "load_time_ms": 59.325, "sample_time_ms": 28517.905}, "episode_reward_max": 802.6219301874107, "iterations_since_restore": 13, "episode_reward_mean": 597.9660343553614, "timesteps_total": 40456711, "timesteps_since_restore": 2335623, "experiment_id": "9b178520507b4656ac608c6ff2056ff7", "node_ip": "10.138.0.2", "timestamp": 1557380888, "episode_reward_min": 180.66722444182128, "done": false, "training_iteration": 313, "time_total_s": 15158.84998846054, "time_since_restore": 915.9731590747833, "policy_reward_mean": {}, "episode_len_mean": 732.06, "episodes_this_iter": 86, "timesteps_this_iter": 181391, "time_this_iter_s": 70.16984009742737, "config": {"num_workers": 60, "tf_session_args": {"device_count": {"CPU": 1}, "gpu_options": {"allow_growth": true}, "inter_op_parallelism_threads": 2, "log_device_placement": false, "allow_soft_placement": true, "intra_op_parallelism_threads": 2}, "batch_mode": "truncate_episodes", "collect_metrics_timeout": 180, "sample_batch_size": 750, "custom_resources_per_worker": {}, "vf_share_layers": false, "gamma": 0.99, "optimizer": {}, "input_evaluation": null, "num_envs_per_worker": 1, "train_batch_size": 90000, "vf_clip_param": 1000000.0, "kl_target": 0.01, "entropy_coeff": 0.0, "env_config": {"run": "PPO", "flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.3,\n            \"eta3\": 0.1,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 10.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 600,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}"}, "num_gpus_per_worker": 0, "synchronize_filters": true, "straggler_mitigation": false, "num_gpus": 0, "model": {"custom_options": {}, "custom_model": null, "custom_preprocessor": null, "squash_to_range": false, "framestack": true, "fcnet_hiddens": [128, 64, 32], "fcnet_activation": "tanh", "lstm_use_prev_action_reward": false, "grayscale": false, "conv_activation": "relu", "channel_major": false, "conv_filters": null, "dim": 84, "lstm_cell_size": 256, "use_lstm": false, "zero_mean": true, "free_log_std": false, "max_seq_len": 20}, "observation_filter": "MeanStdFilter", "use_gae": true, "log_level": "INFO", "num_sgd_iter": 10, "monitor": false, "env": "MultiWaveAttenuationMergePOEnvBufferedObs-v0no_random_eta2:0.2", "clip_param": 0.3, "lambda": 0.97, "simple_optimizer": false, "sgd_minibatch_size": 128, "num_cpus_for_driver": 1, "input": "sampler", "output": null, "horizon": 1500, "preprocessor_pref": "deepmind", "compress_observations": false, "output_compress_columns": ["obs", "new_obs"], "clip_rewards": null, "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "multiagent": {"policies_to_train": null, "policy_graphs": {}, "policy_mapping_fn": null}, "callbacks": {"on_train_result": null, "on_sample_end": null, "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7fe94dd04358>", "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7fe94dd044e0>", "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7fe94dd040f0>"}, "num_cpus_per_worker": 1, "kl_coeff": 0.2, "lr": 0.0005, "sample_async": false, "output_max_file_size": 67108864, "lr_schedule": null, "clip_actions": false, "vf_loss_coeff": 1.0}}
{"pid": 43700, "hostname": "flow-main", "date": "2019-05-09_05-49-20", "custom_metrics": {"cost2_min": -190.31418034527388, "cost1_max": 422.6975928442845, "outflow_rate_min": 582.2409769366938, "cost2_mean": -170.8088929939743, "outflow_rate_max": 1191.2672248473566, "system_level_velocity_min": 10.314047796475984, "cost1_min": 179.7863091688955, "cost2_max": -123.00236253197286, "system_level_velocity_max": 15.263424599040867, "cost1_mean": 339.7613750750194, "system_level_velocity_mean": 12.299565572072622, "outflow_rate_mean": 1012.33831751232}, "episodes_total": 23229, "num_metric_batches_dropped": 0, "info": {"default": {"kl": 0.015735825523734093, "entropy": 2.808603525161743, "total_loss": 26.53236198425293, "cur_kl_coeff": 0.20000001788139343, "vf_explained_var": 0.8727931380271912, "vf_loss": 26.537355422973633, "cur_lr": 0.0005000000237487257, "policy_loss": -0.0081378985196352}, "grad_time_ms": 42010.272, "update_time_ms": 10.925, "num_steps_trained": 40636262, "num_steps_sampled": 40636262, "load_time_ms": 58.994, "sample_time_ms": 28600.756}, "episode_reward_max": 711.394078985448, "iterations_since_restore": 14, "episode_reward_mean": 594.0249974969355, "timesteps_total": 40636262, "timesteps_since_restore": 2515174, "experiment_id": "9b178520507b4656ac608c6ff2056ff7", "node_ip": "10.138.0.2", "timestamp": 1557380960, "episode_reward_min": 309.3284188415054, "done": false, "training_iteration": 314, "time_total_s": 15230.94168972969, "time_since_restore": 988.0648603439331, "policy_reward_mean": {}, "episode_len_mean": 743.35, "episodes_this_iter": 83, "timesteps_this_iter": 179551, "time_this_iter_s": 72.09170126914978, "config": {"num_workers": 60, "tf_session_args": {"device_count": {"CPU": 1}, "gpu_options": {"allow_growth": true}, "inter_op_parallelism_threads": 2, "log_device_placement": false, "allow_soft_placement": true, "intra_op_parallelism_threads": 2}, "batch_mode": "truncate_episodes", "collect_metrics_timeout": 180, "sample_batch_size": 750, "custom_resources_per_worker": {}, "vf_share_layers": false, "gamma": 0.99, "optimizer": {}, "input_evaluation": null, "num_envs_per_worker": 1, "train_batch_size": 90000, "vf_clip_param": 1000000.0, "kl_target": 0.01, "entropy_coeff": 0.0, "env_config": {"run": "PPO", "flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.3,\n            \"eta3\": 0.1,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 10.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 600,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}"}, "num_gpus_per_worker": 0, "synchronize_filters": true, "straggler_mitigation": false, "num_gpus": 0, "model": {"custom_options": {}, "custom_model": null, "custom_preprocessor": null, "squash_to_range": false, "framestack": true, "fcnet_hiddens": [128, 64, 32], "fcnet_activation": "tanh", "lstm_use_prev_action_reward": false, "grayscale": false, "conv_activation": "relu", "channel_major": false, "conv_filters": null, "dim": 84, "lstm_cell_size": 256, "use_lstm": false, "zero_mean": true, "free_log_std": false, "max_seq_len": 20}, "observation_filter": "MeanStdFilter", "use_gae": true, "log_level": "INFO", "num_sgd_iter": 10, "monitor": false, "env": "MultiWaveAttenuationMergePOEnvBufferedObs-v0no_random_eta2:0.2", "clip_param": 0.3, "lambda": 0.97, "simple_optimizer": false, "sgd_minibatch_size": 128, "num_cpus_for_driver": 1, "input": "sampler", "output": null, "horizon": 1500, "preprocessor_pref": "deepmind", "compress_observations": false, "output_compress_columns": ["obs", "new_obs"], "clip_rewards": null, "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "multiagent": {"policies_to_train": null, "policy_graphs": {}, "policy_mapping_fn": null}, "callbacks": {"on_train_result": null, "on_sample_end": null, "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7fe94dcedef0>", "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7fe94dcedc50>", "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7fe94dcedb38>"}, "num_cpus_per_worker": 1, "kl_coeff": 0.2, "lr": 0.0005, "sample_async": false, "output_max_file_size": 67108864, "lr_schedule": null, "clip_actions": false, "vf_loss_coeff": 1.0}}
{"pid": 43700, "hostname": "flow-main", "date": "2019-05-09_05-50-31", "custom_metrics": {"cost2_min": -194.09792690162024, "cost1_max": 446.05958815196317, "outflow_rate_min": 417.6494677311894, "cost2_mean": -169.20655409835618, "outflow_rate_max": 1230.3882449800317, "system_level_velocity_min": 10.72396715966318, "cost1_min": 113.93990295807136, "cost2_max": -89.41261450890856, "system_level_velocity_max": 15.751634137598202, "cost1_mean": 334.958785397768, "system_level_velocity_mean": 12.32866172473859, "outflow_rate_mean": 998.1852244112655}, "episodes_total": 23315, "num_metric_batches_dropped": 0, "info": {"default": {"kl": 0.01567457802593708, "entropy": 2.8044209480285645, "total_loss": 25.873497009277344, "cur_kl_coeff": 0.20000001788139343, "vf_explained_var": 0.8735290169715881, "vf_loss": 25.878292083740234, "cur_lr": 0.0005000000237487257, "policy_loss": -0.007931198924779892}, "grad_time_ms": 41815.483, "update_time_ms": 11.021, "num_steps_trained": 40817115, "num_steps_sampled": 40817115, "load_time_ms": 60.887, "sample_time_ms": 28622.343}, "episode_reward_max": 792.8589528297069, "iterations_since_restore": 15, "episode_reward_mean": 584.9187542569812, "timesteps_total": 40817115, "timesteps_since_restore": 2696027, "experiment_id": "9b178520507b4656ac608c6ff2056ff7", "node_ip": "10.138.0.2", "timestamp": 1557381031, "episode_reward_min": 182.7509978725087, "done": false, "training_iteration": 315, "time_total_s": 15301.369484424591, "time_since_restore": 1058.4926550388336, "policy_reward_mean": {}, "episode_len_mean": 730.88, "episodes_this_iter": 86, "timesteps_this_iter": 180853, "time_this_iter_s": 70.42779469490051, "config": {"num_workers": 60, "tf_session_args": {"device_count": {"CPU": 1}, "gpu_options": {"allow_growth": true}, "inter_op_parallelism_threads": 2, "log_device_placement": false, "allow_soft_placement": true, "intra_op_parallelism_threads": 2}, "batch_mode": "truncate_episodes", "collect_metrics_timeout": 180, "sample_batch_size": 750, "custom_resources_per_worker": {}, "vf_share_layers": false, "gamma": 0.99, "optimizer": {}, "input_evaluation": null, "num_envs_per_worker": 1, "train_batch_size": 90000, "vf_clip_param": 1000000.0, "kl_target": 0.01, "entropy_coeff": 0.0, "env_config": {"run": "PPO", "flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.3,\n            \"eta3\": 0.1,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 10.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 600,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}"}, "num_gpus_per_worker": 0, "synchronize_filters": true, "straggler_mitigation": false, "num_gpus": 0, "model": {"custom_options": {}, "custom_model": null, "custom_preprocessor": null, "squash_to_range": false, "framestack": true, "fcnet_hiddens": [128, 64, 32], "fcnet_activation": "tanh", "lstm_use_prev_action_reward": false, "grayscale": false, "conv_activation": "relu", "channel_major": false, "conv_filters": null, "dim": 84, "lstm_cell_size": 256, "use_lstm": false, "zero_mean": true, "free_log_std": false, "max_seq_len": 20}, "observation_filter": "MeanStdFilter", "use_gae": true, "log_level": "INFO", "num_sgd_iter": 10, "monitor": false, "env": "MultiWaveAttenuationMergePOEnvBufferedObs-v0no_random_eta2:0.2", "clip_param": 0.3, "lambda": 0.97, "simple_optimizer": false, "sgd_minibatch_size": 128, "num_cpus_for_driver": 1, "input": "sampler", "output": null, "horizon": 1500, "preprocessor_pref": "deepmind", "compress_observations": false, "output_compress_columns": ["obs", "new_obs"], "clip_rewards": null, "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "multiagent": {"policies_to_train": null, "policy_graphs": {}, "policy_mapping_fn": null}, "callbacks": {"on_train_result": null, "on_sample_end": null, "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7fe94dd04e10>", "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7fe94dd04cf8>", "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7fe94dd04320>"}, "num_cpus_per_worker": 1, "kl_coeff": 0.2, "lr": 0.0005, "sample_async": false, "output_max_file_size": 67108864, "lr_schedule": null, "clip_actions": false, "vf_loss_coeff": 1.0}}
{"pid": 43700, "hostname": "flow-main", "date": "2019-05-09_05-51-41", "custom_metrics": {"cost2_min": -197.90657847639764, "cost1_max": 443.20865323646694, "outflow_rate_min": 439.31796527193706, "cost2_mean": -172.40350289277615, "outflow_rate_max": 1216.0359237682721, "system_level_velocity_min": 10.318440860207444, "cost1_min": 116.7090855365876, "cost2_max": -89.99904451219331, "system_level_velocity_max": 15.502321494842986, "cost1_mean": 348.62294278162545, "system_level_velocity_mean": 12.530184948568522, "outflow_rate_mean": 1032.0485899067644}, "episodes_total": 23399, "num_metric_batches_dropped": 0, "info": {"default": {"kl": 0.01483495905995369, "entropy": 2.801914691925049, "total_loss": 26.986217498779297, "cur_kl_coeff": 0.20000003278255463, "vf_explained_var": 0.87567138671875, "vf_loss": 26.990882873535156, "cur_lr": 0.0005000000237487257, "policy_loss": -0.007632298860698938}, "grad_time_ms": 41787.033, "update_time_ms": 11.302, "num_steps_trained": 40998451, "num_steps_sampled": 40998451, "load_time_ms": 60.256, "sample_time_ms": 28588.152}, "episode_reward_max": 799.8172210482074, "iterations_since_restore": 16, "episode_reward_mean": 609.0580358274116, "timesteps_total": 40998451, "timesteps_since_restore": 2877363, "experiment_id": "9b178520507b4656ac608c6ff2056ff7", "node_ip": "10.138.0.2", "timestamp": 1557381101, "episode_reward_min": 182.14424663707103, "done": false, "training_iteration": 316, "time_total_s": 15371.800406455994, "time_since_restore": 1128.9235770702362, "policy_reward_mean": {}, "episode_len_mean": 744.92, "episodes_this_iter": 84, "timesteps_this_iter": 181336, "time_this_iter_s": 70.43092203140259, "config": {"num_workers": 60, "tf_session_args": {"device_count": {"CPU": 1}, "gpu_options": {"allow_growth": true}, "inter_op_parallelism_threads": 2, "log_device_placement": false, "allow_soft_placement": true, "intra_op_parallelism_threads": 2}, "batch_mode": "truncate_episodes", "collect_metrics_timeout": 180, "sample_batch_size": 750, "custom_resources_per_worker": {}, "vf_share_layers": false, "gamma": 0.99, "optimizer": {}, "input_evaluation": null, "num_envs_per_worker": 1, "train_batch_size": 90000, "vf_clip_param": 1000000.0, "kl_target": 0.01, "entropy_coeff": 0.0, "env_config": {"run": "PPO", "flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.3,\n            \"eta3\": 0.1,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 10.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 600,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}"}, "num_gpus_per_worker": 0, "synchronize_filters": true, "straggler_mitigation": false, "num_gpus": 0, "model": {"custom_options": {}, "custom_model": null, "custom_preprocessor": null, "squash_to_range": false, "framestack": true, "fcnet_hiddens": [128, 64, 32], "fcnet_activation": "tanh", "lstm_use_prev_action_reward": false, "grayscale": false, "conv_activation": "relu", "channel_major": false, "conv_filters": null, "dim": 84, "lstm_cell_size": 256, "use_lstm": false, "zero_mean": true, "free_log_std": false, "max_seq_len": 20}, "observation_filter": "MeanStdFilter", "use_gae": true, "log_level": "INFO", "num_sgd_iter": 10, "monitor": false, "env": "MultiWaveAttenuationMergePOEnvBufferedObs-v0no_random_eta2:0.2", "clip_param": 0.3, "lambda": 0.97, "simple_optimizer": false, "sgd_minibatch_size": 128, "num_cpus_for_driver": 1, "input": "sampler", "output": null, "horizon": 1500, "preprocessor_pref": "deepmind", "compress_observations": false, "output_compress_columns": ["obs", "new_obs"], "clip_rewards": null, "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "multiagent": {"policies_to_train": null, "policy_graphs": {}, "policy_mapping_fn": null}, "callbacks": {"on_train_result": null, "on_sample_end": null, "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7fe94dd046a0>", "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7fe94dd04ef0>", "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7fe94dd049e8>"}, "num_cpus_per_worker": 1, "kl_coeff": 0.2, "lr": 0.0005, "sample_async": false, "output_max_file_size": 67108864, "lr_schedule": null, "clip_actions": false, "vf_loss_coeff": 1.0}}
{"pid": 43700, "hostname": "flow-main", "date": "2019-05-09_05-52-50", "custom_metrics": {"cost2_min": -194.1481736052638, "cost1_max": 460.4837611087802, "outflow_rate_min": 587.7398735393482, "cost2_mean": -171.36096536228476, "outflow_rate_max": 1229.3302572774612, "system_level_velocity_min": 9.444715778689686, "cost1_min": 176.61012131455936, "cost2_max": -118.80078409056705, "system_level_velocity_max": 16.072213901419246, "cost1_mean": 346.00583921897737, "system_level_velocity_mean": 12.525997136007016, "outflow_rate_mean": 1026.537546558722}, "episodes_total": 23482, "num_metric_batches_dropped": 0, "info": {"default": {"kl": 0.015871308743953705, "entropy": 2.785501003265381, "total_loss": 26.771650314331055, "cur_kl_coeff": 0.20000003278255463, "vf_explained_var": 0.8750177025794983, "vf_loss": 26.776065826416016, "cur_lr": 0.0005000000237487257, "policy_loss": -0.0075892298482358456}, "grad_time_ms": 41667.367, "update_time_ms": 11.261, "num_steps_trained": 41176900, "num_steps_sampled": 41176900, "load_time_ms": 62.18, "sample_time_ms": 28538.717}, "episode_reward_max": 842.2552040212328, "iterations_since_restore": 17, "episode_reward_mean": 601.3314573149371, "timesteps_total": 41176900, "timesteps_since_restore": 3055812, "experiment_id": "9b178520507b4656ac608c6ff2056ff7", "node_ip": "10.138.0.2", "timestamp": 1557381170, "episode_reward_min": 296.0653787279891, "done": false, "training_iteration": 317, "time_total_s": 15440.565456151962, "time_since_restore": 1197.6886267662048, "policy_reward_mean": {}, "episode_len_mean": 741.62, "episodes_this_iter": 83, "timesteps_this_iter": 178449, "time_this_iter_s": 68.76504969596863, "config": {"num_workers": 60, "tf_session_args": {"device_count": {"CPU": 1}, "gpu_options": {"allow_growth": true}, "inter_op_parallelism_threads": 2, "log_device_placement": false, "allow_soft_placement": true, "intra_op_parallelism_threads": 2}, "batch_mode": "truncate_episodes", "collect_metrics_timeout": 180, "sample_batch_size": 750, "custom_resources_per_worker": {}, "vf_share_layers": false, "gamma": 0.99, "optimizer": {}, "input_evaluation": null, "num_envs_per_worker": 1, "train_batch_size": 90000, "vf_clip_param": 1000000.0, "kl_target": 0.01, "entropy_coeff": 0.0, "env_config": {"run": "PPO", "flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.3,\n            \"eta3\": 0.1,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 10.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 600,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}"}, "num_gpus_per_worker": 0, "synchronize_filters": true, "straggler_mitigation": false, "num_gpus": 0, "model": {"custom_options": {}, "custom_model": null, "custom_preprocessor": null, "squash_to_range": false, "framestack": true, "fcnet_hiddens": [128, 64, 32], "fcnet_activation": "tanh", "lstm_use_prev_action_reward": false, "grayscale": false, "conv_activation": "relu", "channel_major": false, "conv_filters": null, "dim": 84, "lstm_cell_size": 256, "use_lstm": false, "zero_mean": true, "free_log_std": false, "max_seq_len": 20}, "observation_filter": "MeanStdFilter", "use_gae": true, "log_level": "INFO", "num_sgd_iter": 10, "monitor": false, "env": "MultiWaveAttenuationMergePOEnvBufferedObs-v0no_random_eta2:0.2", "clip_param": 0.3, "lambda": 0.97, "simple_optimizer": false, "sgd_minibatch_size": 128, "num_cpus_for_driver": 1, "input": "sampler", "output": null, "horizon": 1500, "preprocessor_pref": "deepmind", "compress_observations": false, "output_compress_columns": ["obs", "new_obs"], "clip_rewards": null, "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "multiagent": {"policies_to_train": null, "policy_graphs": {}, "policy_mapping_fn": null}, "callbacks": {"on_train_result": null, "on_sample_end": null, "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7fe94dd04550>", "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7fe94dd04400>", "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7fe94dd04208>"}, "num_cpus_per_worker": 1, "kl_coeff": 0.2, "lr": 0.0005, "sample_async": false, "output_max_file_size": 67108864, "lr_schedule": null, "clip_actions": false, "vf_loss_coeff": 1.0}}
{"pid": 43700, "hostname": "flow-main", "date": "2019-05-09_05-54-00", "custom_metrics": {"cost2_min": -193.6123389349696, "cost1_max": 454.5085600446072, "outflow_rate_min": 437.9344421473361, "cost2_mean": -171.2704152242699, "outflow_rate_max": 1227.0859150127985, "system_level_velocity_min": 9.444715778689686, "cost1_min": 117.25609692609908, "cost2_max": -95.19461387232708, "system_level_velocity_max": 15.869044447793394, "cost1_mean": 349.0309069630111, "system_level_velocity_mean": 12.541728240204819, "outflow_rate_mean": 1035.7919557163316}, "episodes_total": 23564, "num_metric_batches_dropped": 0, "info": {"default": {"kl": 0.01506065297871828, "entropy": 2.824734926223755, "total_loss": 24.731277465820312, "cur_kl_coeff": 0.20000001788139343, "vf_explained_var": 0.8842788934707642, "vf_loss": 24.735910415649414, "cur_lr": 0.0005000000237487257, "policy_loss": -0.00764484191313386}, "grad_time_ms": 41628.435, "update_time_ms": 11.093, "num_steps_trained": 41356778, "num_steps_sampled": 41356778, "load_time_ms": 61.255, "sample_time_ms": 28444.454}, "episode_reward_max": 829.2329556881341, "iterations_since_restore": 18, "episode_reward_mean": 607.2635816737879, "timesteps_total": 41356778, "timesteps_since_restore": 3235690, "experiment_id": "9b178520507b4656ac608c6ff2056ff7", "node_ip": "10.138.0.2", "timestamp": 1557381240, "episode_reward_min": 177.2770117145574, "done": false, "training_iteration": 318, "time_total_s": 15510.111360549927, "time_since_restore": 1267.2345311641693, "policy_reward_mean": {}, "episode_len_mean": 745.75, "episodes_this_iter": 82, "timesteps_this_iter": 179878, "time_this_iter_s": 69.54590439796448, "config": {"num_workers": 60, "tf_session_args": {"device_count": {"CPU": 1}, "gpu_options": {"allow_growth": true}, "inter_op_parallelism_threads": 2, "log_device_placement": false, "allow_soft_placement": true, "intra_op_parallelism_threads": 2}, "batch_mode": "truncate_episodes", "collect_metrics_timeout": 180, "sample_batch_size": 750, "custom_resources_per_worker": {}, "vf_share_layers": false, "gamma": 0.99, "optimizer": {}, "input_evaluation": null, "num_envs_per_worker": 1, "train_batch_size": 90000, "vf_clip_param": 1000000.0, "kl_target": 0.01, "entropy_coeff": 0.0, "env_config": {"run": "PPO", "flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.3,\n            \"eta3\": 0.1,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 10.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 600,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}"}, "num_gpus_per_worker": 0, "synchronize_filters": true, "straggler_mitigation": false, "num_gpus": 0, "model": {"custom_options": {}, "custom_model": null, "custom_preprocessor": null, "squash_to_range": false, "framestack": true, "fcnet_hiddens": [128, 64, 32], "fcnet_activation": "tanh", "lstm_use_prev_action_reward": false, "grayscale": false, "conv_activation": "relu", "channel_major": false, "conv_filters": null, "dim": 84, "lstm_cell_size": 256, "use_lstm": false, "zero_mean": true, "free_log_std": false, "max_seq_len": 20}, "observation_filter": "MeanStdFilter", "use_gae": true, "log_level": "INFO", "num_sgd_iter": 10, "monitor": false, "env": "MultiWaveAttenuationMergePOEnvBufferedObs-v0no_random_eta2:0.2", "clip_param": 0.3, "lambda": 0.97, "simple_optimizer": false, "sgd_minibatch_size": 128, "num_cpus_for_driver": 1, "input": "sampler", "output": null, "horizon": 1500, "preprocessor_pref": "deepmind", "compress_observations": false, "output_compress_columns": ["obs", "new_obs"], "clip_rewards": null, "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "multiagent": {"policies_to_train": null, "policy_graphs": {}, "policy_mapping_fn": null}, "callbacks": {"on_train_result": null, "on_sample_end": null, "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7fe94dd04978>", "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7fe94dd04d68>", "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7fe94dd04f60>"}, "num_cpus_per_worker": 1, "kl_coeff": 0.2, "lr": 0.0005, "sample_async": false, "output_max_file_size": 67108864, "lr_schedule": null, "clip_actions": false, "vf_loss_coeff": 1.0}}
{"pid": 43700, "hostname": "flow-main", "date": "2019-05-09_05-55-11", "custom_metrics": {"cost2_min": -193.7801675379714, "cost1_max": 427.9389627355472, "outflow_rate_min": 440.2349440842109, "cost2_mean": -167.8873245906454, "outflow_rate_max": 1193.7686823349122, "system_level_velocity_min": 10.891380609541311, "cost1_min": 117.08899132609073, "cost2_max": -89.22179703884555, "system_level_velocity_max": 15.043414136000058, "cost1_mean": 338.47269112713604, "system_level_velocity_mean": 12.441719455347473, "outflow_rate_mean": 1009.129360077835}, "episodes_total": 23650, "num_metric_batches_dropped": 0, "info": {"default": {"kl": 0.016180293634533882, "entropy": 2.836780548095703, "total_loss": 25.324146270751953, "cur_kl_coeff": 0.20000003278255463, "vf_explained_var": 0.8840385675430298, "vf_loss": 25.328540802001953, "cur_lr": 0.0005000000237487257, "policy_loss": -0.00763180386275053}, "grad_time_ms": 41685.484, "update_time_ms": 11.211, "num_steps_trained": 41537120, "num_steps_sampled": 41537120, "load_time_ms": 64.441, "sample_time_ms": 28403.43}, "episode_reward_max": 753.084377684775, "iterations_since_restore": 19, "episode_reward_mean": 591.7394688303938, "timesteps_total": 41537120, "timesteps_since_restore": 3416032, "experiment_id": "9b178520507b4656ac608c6ff2056ff7", "node_ip": "10.138.0.2", "timestamp": 1557381311, "episode_reward_min": 180.8613668728733, "done": false, "training_iteration": 319, "time_total_s": 15581.091437578201, "time_since_restore": 1338.2146081924438, "policy_reward_mean": {}, "episode_len_mean": 731.73, "episodes_this_iter": 86, "timesteps_this_iter": 180342, "time_this_iter_s": 70.98007702827454, "config": {"num_workers": 60, "tf_session_args": {"device_count": {"CPU": 1}, "gpu_options": {"allow_growth": true}, "inter_op_parallelism_threads": 2, "log_device_placement": false, "allow_soft_placement": true, "intra_op_parallelism_threads": 2}, "batch_mode": "truncate_episodes", "collect_metrics_timeout": 180, "sample_batch_size": 750, "custom_resources_per_worker": {}, "vf_share_layers": false, "gamma": 0.99, "optimizer": {}, "input_evaluation": null, "num_envs_per_worker": 1, "train_batch_size": 90000, "vf_clip_param": 1000000.0, "kl_target": 0.01, "entropy_coeff": 0.0, "env_config": {"run": "PPO", "flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.3,\n            \"eta3\": 0.1,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 10.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 600,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}"}, "num_gpus_per_worker": 0, "synchronize_filters": true, "straggler_mitigation": false, "num_gpus": 0, "model": {"custom_options": {}, "custom_model": null, "custom_preprocessor": null, "squash_to_range": false, "framestack": true, "fcnet_hiddens": [128, 64, 32], "fcnet_activation": "tanh", "lstm_use_prev_action_reward": false, "grayscale": false, "conv_activation": "relu", "channel_major": false, "conv_filters": null, "dim": 84, "lstm_cell_size": 256, "use_lstm": false, "zero_mean": true, "free_log_std": false, "max_seq_len": 20}, "observation_filter": "MeanStdFilter", "use_gae": true, "log_level": "INFO", "num_sgd_iter": 10, "monitor": false, "env": "MultiWaveAttenuationMergePOEnvBufferedObs-v0no_random_eta2:0.2", "clip_param": 0.3, "lambda": 0.97, "simple_optimizer": false, "sgd_minibatch_size": 128, "num_cpus_for_driver": 1, "input": "sampler", "output": null, "horizon": 1500, "preprocessor_pref": "deepmind", "compress_observations": false, "output_compress_columns": ["obs", "new_obs"], "clip_rewards": null, "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "multiagent": {"policies_to_train": null, "policy_graphs": {}, "policy_mapping_fn": null}, "callbacks": {"on_train_result": null, "on_sample_end": null, "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7fe94dd042b0>", "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7fe94dd040f0>", "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7fe94dd04ef0>"}, "num_cpus_per_worker": 1, "kl_coeff": 0.2, "lr": 0.0005, "sample_async": false, "output_max_file_size": 67108864, "lr_schedule": null, "clip_actions": false, "vf_loss_coeff": 1.0}}
{"pid": 43700, "hostname": "flow-main", "date": "2019-05-09_05-56-21", "custom_metrics": {"cost2_min": -190.41953342444617, "cost1_max": 416.7055952257507, "outflow_rate_min": 414.14539905240474, "cost2_mean": -165.67228071758515, "outflow_rate_max": 1184.1235377657472, "system_level_velocity_min": 10.459169524297566, "cost1_min": 105.83083826677353, "cost2_max": -77.279973424247, "system_level_velocity_max": 14.671793680578942, "cost1_mean": 336.75700131377727, "system_level_velocity_mean": 12.355846693436368, "outflow_rate_mean": 1003.2271152715521}, "episodes_total": 23731, "num_metric_batches_dropped": 0, "info": {"default": {"kl": 0.015077900141477585, "entropy": 2.8490285873413086, "total_loss": 23.64625358581543, "cur_kl_coeff": 0.20000003278255463, "vf_explained_var": 0.8901495337486267, "vf_loss": 23.65076446533203, "cur_lr": 0.0005000000237487257, "policy_loss": -0.0075277420692145824}, "grad_time_ms": 41659.389, "update_time_ms": 11.31, "num_steps_trained": 41717371, "num_steps_sampled": 41717371, "load_time_ms": 62.054, "sample_time_ms": 28362.582}, "episode_reward_max": 733.9587870162978, "iterations_since_restore": 20, "episode_reward_mean": 588.5598216698809, "timesteps_total": 41717371, "timesteps_since_restore": 3596283, "experiment_id": "9b178520507b4656ac608c6ff2056ff7", "node_ip": "10.138.0.2", "timestamp": 1557381381, "episode_reward_min": 169.73236909372403, "done": false, "training_iteration": 320, "time_total_s": 15651.61815071106, "time_since_restore": 1408.7413213253021, "policy_reward_mean": {}, "episode_len_mean": 731.72, "episodes_this_iter": 81, "timesteps_this_iter": 180251, "time_this_iter_s": 70.52671313285828, "config": {"num_workers": 60, "tf_session_args": {"device_count": {"CPU": 1}, "gpu_options": {"allow_growth": true}, "inter_op_parallelism_threads": 2, "log_device_placement": false, "allow_soft_placement": true, "intra_op_parallelism_threads": 2}, "batch_mode": "truncate_episodes", "collect_metrics_timeout": 180, "sample_batch_size": 750, "custom_resources_per_worker": {}, "vf_share_layers": false, "gamma": 0.99, "optimizer": {}, "input_evaluation": null, "num_envs_per_worker": 1, "train_batch_size": 90000, "vf_clip_param": 1000000.0, "kl_target": 0.01, "entropy_coeff": 0.0, "env_config": {"run": "PPO", "flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.3,\n            \"eta3\": 0.1,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 10.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 600,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}"}, "num_gpus_per_worker": 0, "synchronize_filters": true, "straggler_mitigation": false, "num_gpus": 0, "model": {"custom_options": {}, "custom_model": null, "custom_preprocessor": null, "squash_to_range": false, "framestack": true, "fcnet_hiddens": [128, 64, 32], "fcnet_activation": "tanh", "lstm_use_prev_action_reward": false, "grayscale": false, "conv_activation": "relu", "channel_major": false, "conv_filters": null, "dim": 84, "lstm_cell_size": 256, "use_lstm": false, "zero_mean": true, "free_log_std": false, "max_seq_len": 20}, "observation_filter": "MeanStdFilter", "use_gae": true, "log_level": "INFO", "num_sgd_iter": 10, "monitor": false, "env": "MultiWaveAttenuationMergePOEnvBufferedObs-v0no_random_eta2:0.2", "clip_param": 0.3, "lambda": 0.97, "simple_optimizer": false, "sgd_minibatch_size": 128, "num_cpus_for_driver": 1, "input": "sampler", "output": null, "horizon": 1500, "preprocessor_pref": "deepmind", "compress_observations": false, "output_compress_columns": ["obs", "new_obs"], "clip_rewards": null, "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "multiagent": {"policies_to_train": null, "policy_graphs": {}, "policy_mapping_fn": null}, "callbacks": {"on_train_result": null, "on_sample_end": null, "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7fe94dd04278>", "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7fe94dd04400>", "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7fe94dd044e0>"}, "num_cpus_per_worker": 1, "kl_coeff": 0.2, "lr": 0.0005, "sample_async": false, "output_max_file_size": 67108864, "lr_schedule": null, "clip_actions": false, "vf_loss_coeff": 1.0}}
{"pid": 43700, "hostname": "flow-main", "date": "2019-05-09_05-57-32", "custom_metrics": {"cost2_min": -198.15238161720745, "cost1_max": 453.6169886758472, "outflow_rate_min": 592.9393849420013, "cost2_mean": -171.45974880971622, "outflow_rate_max": 1224.879085751219, "system_level_velocity_min": 8.73156559098035, "cost1_min": 178.92604282881067, "cost2_max": -117.48846574369111, "system_level_velocity_max": 15.901455304399299, "cost1_mean": 348.59771045677655, "system_level_velocity_mean": 12.53415925359802, "outflow_rate_mean": 1032.688346394483}, "episodes_total": 23815, "num_metric_batches_dropped": 0, "info": {"default": {"kl": 0.016115926206111908, "entropy": 2.8656182289123535, "total_loss": 23.808931350708008, "cur_kl_coeff": 0.20000003278255463, "vf_explained_var": 0.8941773772239685, "vf_loss": 23.812944412231445, "cur_lr": 0.0005000000237487257, "policy_loss": -0.007237954530864954}, "grad_time_ms": 41776.251, "update_time_ms": 11.372, "num_steps_trained": 41899932, "num_steps_sampled": 41899932, "load_time_ms": 62.649, "sample_time_ms": 28254.616}, "episode_reward_max": 825.3271719375281, "iterations_since_restore": 21, "episode_reward_mean": 603.7902771324488, "timesteps_total": 41899932, "timesteps_since_restore": 3778844, "experiment_id": "9b178520507b4656ac608c6ff2056ff7", "node_ip": "10.138.0.2", "timestamp": 1557381452, "episode_reward_min": 300.0582761330102, "done": false, "training_iteration": 321, "time_total_s": 15722.256560087204, "time_since_restore": 1479.3797307014465, "policy_reward_mean": {}, "episode_len_mean": 744.21, "episodes_this_iter": 84, "timesteps_this_iter": 182561, "time_this_iter_s": 70.63840937614441, "config": {"num_workers": 60, "tf_session_args": {"device_count": {"CPU": 1}, "gpu_options": {"allow_growth": true}, "inter_op_parallelism_threads": 2, "log_device_placement": false, "allow_soft_placement": true, "intra_op_parallelism_threads": 2}, "batch_mode": "truncate_episodes", "collect_metrics_timeout": 180, "sample_batch_size": 750, "custom_resources_per_worker": {}, "vf_share_layers": false, "gamma": 0.99, "optimizer": {}, "input_evaluation": null, "num_envs_per_worker": 1, "train_batch_size": 90000, "vf_clip_param": 1000000.0, "kl_target": 0.01, "entropy_coeff": 0.0, "env_config": {"run": "PPO", "flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.3,\n            \"eta3\": 0.1,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 10.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 600,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}"}, "num_gpus_per_worker": 0, "synchronize_filters": true, "straggler_mitigation": false, "num_gpus": 0, "model": {"custom_options": {}, "custom_model": null, "custom_preprocessor": null, "squash_to_range": false, "framestack": true, "fcnet_hiddens": [128, 64, 32], "fcnet_activation": "tanh", "lstm_use_prev_action_reward": false, "grayscale": false, "conv_activation": "relu", "channel_major": false, "conv_filters": null, "dim": 84, "lstm_cell_size": 256, "use_lstm": false, "zero_mean": true, "free_log_std": false, "max_seq_len": 20}, "observation_filter": "MeanStdFilter", "use_gae": true, "log_level": "INFO", "num_sgd_iter": 10, "monitor": false, "env": "MultiWaveAttenuationMergePOEnvBufferedObs-v0no_random_eta2:0.2", "clip_param": 0.3, "lambda": 0.97, "simple_optimizer": false, "sgd_minibatch_size": 128, "num_cpus_for_driver": 1, "input": "sampler", "output": null, "horizon": 1500, "preprocessor_pref": "deepmind", "compress_observations": false, "output_compress_columns": ["obs", "new_obs"], "clip_rewards": null, "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "multiagent": {"policies_to_train": null, "policy_graphs": {}, "policy_mapping_fn": null}, "callbacks": {"on_train_result": null, "on_sample_end": null, "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7fe94dd048d0>", "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7fe94dd04438>", "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7fe94dd04198>"}, "num_cpus_per_worker": 1, "kl_coeff": 0.2, "lr": 0.0005, "sample_async": false, "output_max_file_size": 67108864, "lr_schedule": null, "clip_actions": false, "vf_loss_coeff": 1.0}}
{"pid": 43700, "hostname": "flow-main", "date": "2019-05-09_05-58-42", "custom_metrics": {"cost2_min": -194.92329280576308, "cost1_max": 452.1585883916655, "outflow_rate_min": 419.6782755554075, "cost2_mean": -166.21732854353738, "outflow_rate_max": 1218.4180557657992, "system_level_velocity_min": 9.008286410956888, "cost1_min": 111.81948076537097, "cost2_max": -89.64717300764872, "system_level_velocity_max": 15.967256569748534, "cost1_mean": 337.5024291720613, "system_level_velocity_mean": 12.268470606851094, "outflow_rate_mean": 1006.0285190216557}, "episodes_total": 23898, "num_metric_batches_dropped": 0, "info": {"default": {"kl": 0.015966666862368584, "entropy": 2.8760275840759277, "total_loss": 22.533401489257812, "cur_kl_coeff": 0.20000003278255463, "vf_explained_var": 0.9052392840385437, "vf_loss": 22.537456512451172, "cur_lr": 0.0005000000237487257, "policy_loss": -0.007247225847095251}, "grad_time_ms": 41715.32, "update_time_ms": 11.39, "num_steps_trained": 42079716, "num_steps_sampled": 42079716, "load_time_ms": 61.205, "sample_time_ms": 28254.895}, "episode_reward_max": 827.1445757359002, "iterations_since_restore": 22, "episode_reward_mean": 588.114757402876, "timesteps_total": 42079716, "timesteps_since_restore": 3958628, "experiment_id": "9b178520507b4656ac608c6ff2056ff7", "node_ip": "10.138.0.2", "timestamp": 1557381522, "episode_reward_min": 175.38042774213093, "done": false, "training_iteration": 322, "time_total_s": 15792.492696285248, "time_since_restore": 1549.6158668994904, "policy_reward_mean": {}, "episode_len_mean": 737.94, "episodes_this_iter": 83, "timesteps_this_iter": 179784, "time_this_iter_s": 70.23613619804382, "config": {"num_workers": 60, "tf_session_args": {"device_count": {"CPU": 1}, "gpu_options": {"allow_growth": true}, "inter_op_parallelism_threads": 2, "log_device_placement": false, "allow_soft_placement": true, "intra_op_parallelism_threads": 2}, "batch_mode": "truncate_episodes", "collect_metrics_timeout": 180, "sample_batch_size": 750, "custom_resources_per_worker": {}, "vf_share_layers": false, "gamma": 0.99, "optimizer": {}, "input_evaluation": null, "num_envs_per_worker": 1, "train_batch_size": 90000, "vf_clip_param": 1000000.0, "kl_target": 0.01, "entropy_coeff": 0.0, "env_config": {"run": "PPO", "flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.3,\n            \"eta3\": 0.1,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 10.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 600,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}"}, "num_gpus_per_worker": 0, "synchronize_filters": true, "straggler_mitigation": false, "num_gpus": 0, "model": {"custom_options": {}, "custom_model": null, "custom_preprocessor": null, "squash_to_range": false, "framestack": true, "fcnet_hiddens": [128, 64, 32], "fcnet_activation": "tanh", "lstm_use_prev_action_reward": false, "grayscale": false, "conv_activation": "relu", "channel_major": false, "conv_filters": null, "dim": 84, "lstm_cell_size": 256, "use_lstm": false, "zero_mean": true, "free_log_std": false, "max_seq_len": 20}, "observation_filter": "MeanStdFilter", "use_gae": true, "log_level": "INFO", "num_sgd_iter": 10, "monitor": false, "env": "MultiWaveAttenuationMergePOEnvBufferedObs-v0no_random_eta2:0.2", "clip_param": 0.3, "lambda": 0.97, "simple_optimizer": false, "sgd_minibatch_size": 128, "num_cpus_for_driver": 1, "input": "sampler", "output": null, "horizon": 1500, "preprocessor_pref": "deepmind", "compress_observations": false, "output_compress_columns": ["obs", "new_obs"], "clip_rewards": null, "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "multiagent": {"policies_to_train": null, "policy_graphs": {}, "policy_mapping_fn": null}, "callbacks": {"on_train_result": null, "on_sample_end": null, "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7fe94dcedb38>", "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7fe94dced748>", "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7fe94dced7f0>"}, "num_cpus_per_worker": 1, "kl_coeff": 0.2, "lr": 0.0005, "sample_async": false, "output_max_file_size": 67108864, "lr_schedule": null, "clip_actions": false, "vf_loss_coeff": 1.0}}
{"pid": 43700, "hostname": "flow-main", "date": "2019-05-09_05-59-54", "custom_metrics": {"cost2_min": -189.3371698009743, "cost1_max": 431.9912992433947, "outflow_rate_min": 813.3595416660444, "cost2_mean": -167.51961818913122, "outflow_rate_max": 1204.0262831565747, "system_level_velocity_min": 9.008286410956888, "cost1_min": 248.94029537857577, "cost2_max": -143.44003823632303, "system_level_velocity_max": 15.178851349389156, "cost1_mean": 345.80659308922645, "system_level_velocity_mean": 12.300603695996669, "outflow_rate_mean": 1027.141913089982}, "episodes_total": 23980, "num_metric_batches_dropped": 0, "info": {"default": {"kl": 0.015795372426509857, "entropy": 2.8667948246002197, "total_loss": 24.727710723876953, "cur_kl_coeff": 0.20000003278255463, "vf_explained_var": 0.8974507451057434, "vf_loss": 24.732454299926758, "cur_lr": 0.0005000000237487257, "policy_loss": -0.007902514189481735}, "grad_time_ms": 41848.144, "update_time_ms": 11.313, "num_steps_trained": 42260417, "num_steps_sampled": 42260417, "load_time_ms": 63.9, "sample_time_ms": 28223.43}, "episode_reward_max": 744.529527739717, "iterations_since_restore": 23, "episode_reward_mean": 609.0604433695198, "timesteps_total": 42260417, "timesteps_since_restore": 4139329, "experiment_id": "9b178520507b4656ac608c6ff2056ff7", "node_ip": "10.138.0.2", "timestamp": 1557381594, "episode_reward_min": 473.39532490798825, "done": false, "training_iteration": 323, "time_total_s": 15863.721091032028, "time_since_restore": 1620.8442616462708, "policy_reward_mean": {}, "episode_len_mean": 751.0, "episodes_this_iter": 82, "timesteps_this_iter": 180701, "time_this_iter_s": 71.2283947467804, "config": {"num_workers": 60, "tf_session_args": {"device_count": {"CPU": 1}, "gpu_options": {"allow_growth": true}, "inter_op_parallelism_threads": 2, "log_device_placement": false, "allow_soft_placement": true, "intra_op_parallelism_threads": 2}, "batch_mode": "truncate_episodes", "collect_metrics_timeout": 180, "sample_batch_size": 750, "custom_resources_per_worker": {}, "vf_share_layers": false, "gamma": 0.99, "optimizer": {}, "input_evaluation": null, "num_envs_per_worker": 1, "train_batch_size": 90000, "vf_clip_param": 1000000.0, "kl_target": 0.01, "entropy_coeff": 0.0, "env_config": {"run": "PPO", "flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.3,\n            \"eta3\": 0.1,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 10.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 600,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}"}, "num_gpus_per_worker": 0, "synchronize_filters": true, "straggler_mitigation": false, "num_gpus": 0, "model": {"custom_options": {}, "custom_model": null, "custom_preprocessor": null, "squash_to_range": false, "framestack": true, "fcnet_hiddens": [128, 64, 32], "fcnet_activation": "tanh", "lstm_use_prev_action_reward": false, "grayscale": false, "conv_activation": "relu", "channel_major": false, "conv_filters": null, "dim": 84, "lstm_cell_size": 256, "use_lstm": false, "zero_mean": true, "free_log_std": false, "max_seq_len": 20}, "observation_filter": "MeanStdFilter", "use_gae": true, "log_level": "INFO", "num_sgd_iter": 10, "monitor": false, "env": "MultiWaveAttenuationMergePOEnvBufferedObs-v0no_random_eta2:0.2", "clip_param": 0.3, "lambda": 0.97, "simple_optimizer": false, "sgd_minibatch_size": 128, "num_cpus_for_driver": 1, "input": "sampler", "output": null, "horizon": 1500, "preprocessor_pref": "deepmind", "compress_observations": false, "output_compress_columns": ["obs", "new_obs"], "clip_rewards": null, "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "multiagent": {"policies_to_train": null, "policy_graphs": {}, "policy_mapping_fn": null}, "callbacks": {"on_train_result": null, "on_sample_end": null, "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7fe94dd045f8>", "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7fe94dd04ef0>", "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7fe94dd04b38>"}, "num_cpus_per_worker": 1, "kl_coeff": 0.2, "lr": 0.0005, "sample_async": false, "output_max_file_size": 67108864, "lr_schedule": null, "clip_actions": false, "vf_loss_coeff": 1.0}}
{"pid": 43700, "hostname": "flow-main", "date": "2019-05-09_06-01-03", "custom_metrics": {"cost2_min": -191.47446333351508, "cost1_max": 423.94454897585945, "outflow_rate_min": 436.21177100077716, "cost2_mean": -164.79315816996535, "outflow_rate_max": 1185.2800006255252, "system_level_velocity_min": 9.16410959095955, "cost1_min": 118.93029684152697, "cost2_max": -92.66635434127772, "system_level_velocity_max": 14.857130945871543, "cost1_mean": 335.4980065464539, "system_level_velocity_mean": 12.31214859710623, "outflow_rate_mean": 999.7800283863218}, "episodes_total": 24066, "num_metric_batches_dropped": 0, "info": {"default": {"kl": 0.016095969825983047, "entropy": 2.8719754219055176, "total_loss": 24.36004638671875, "cur_kl_coeff": 0.20000001788139343, "vf_explained_var": 0.8984827995300293, "vf_loss": 24.36532211303711, "cur_lr": 0.0005000000237487257, "policy_loss": -0.008495853282511234}, "grad_time_ms": 41549.499, "update_time_ms": 11.196, "num_steps_trained": 42440998, "num_steps_sampled": 42440998, "load_time_ms": 64.305, "sample_time_ms": 28205.421}, "episode_reward_max": 779.0280242948807, "iterations_since_restore": 24, "episode_reward_mean": 593.712870147298, "timesteps_total": 42440998, "timesteps_since_restore": 4319910, "experiment_id": "9b178520507b4656ac608c6ff2056ff7", "node_ip": "10.138.0.2", "timestamp": 1557381663, "episode_reward_min": 180.4129713688582, "done": false, "training_iteration": 324, "time_total_s": 15932.642771244049, "time_since_restore": 1689.7659418582916, "policy_reward_mean": {}, "episode_len_mean": 731.18, "episodes_this_iter": 86, "timesteps_this_iter": 180581, "time_this_iter_s": 68.92168021202087, "config": {"num_workers": 60, "tf_session_args": {"device_count": {"CPU": 1}, "gpu_options": {"allow_growth": true}, "inter_op_parallelism_threads": 2, "log_device_placement": false, "allow_soft_placement": true, "intra_op_parallelism_threads": 2}, "batch_mode": "truncate_episodes", "collect_metrics_timeout": 180, "sample_batch_size": 750, "custom_resources_per_worker": {}, "vf_share_layers": false, "gamma": 0.99, "optimizer": {}, "input_evaluation": null, "num_envs_per_worker": 1, "train_batch_size": 90000, "vf_clip_param": 1000000.0, "kl_target": 0.01, "entropy_coeff": 0.0, "env_config": {"run": "PPO", "flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.3,\n            \"eta3\": 0.1,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 10.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 600,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}"}, "num_gpus_per_worker": 0, "synchronize_filters": true, "straggler_mitigation": false, "num_gpus": 0, "model": {"custom_options": {}, "custom_model": null, "custom_preprocessor": null, "squash_to_range": false, "framestack": true, "fcnet_hiddens": [128, 64, 32], "fcnet_activation": "tanh", "lstm_use_prev_action_reward": false, "grayscale": false, "conv_activation": "relu", "channel_major": false, "conv_filters": null, "dim": 84, "lstm_cell_size": 256, "use_lstm": false, "zero_mean": true, "free_log_std": false, "max_seq_len": 20}, "observation_filter": "MeanStdFilter", "use_gae": true, "log_level": "INFO", "num_sgd_iter": 10, "monitor": false, "env": "MultiWaveAttenuationMergePOEnvBufferedObs-v0no_random_eta2:0.2", "clip_param": 0.3, "lambda": 0.97, "simple_optimizer": false, "sgd_minibatch_size": 128, "num_cpus_for_driver": 1, "input": "sampler", "output": null, "horizon": 1500, "preprocessor_pref": "deepmind", "compress_observations": false, "output_compress_columns": ["obs", "new_obs"], "clip_rewards": null, "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "multiagent": {"policies_to_train": null, "policy_graphs": {}, "policy_mapping_fn": null}, "callbacks": {"on_train_result": null, "on_sample_end": null, "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7fe94dced710>", "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7fe94dcede80>", "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7fe94dcedc18>"}, "num_cpus_per_worker": 1, "kl_coeff": 0.2, "lr": 0.0005, "sample_async": false, "output_max_file_size": 67108864, "lr_schedule": null, "clip_actions": false, "vf_loss_coeff": 1.0}}
{"pid": 43700, "hostname": "flow-main", "date": "2019-05-09_06-02-13", "custom_metrics": {"cost2_min": -196.45587418466624, "cost1_max": 430.0833934519428, "outflow_rate_min": 413.8038035087991, "cost2_mean": -164.9064475133056, "outflow_rate_max": 1193.1618257184198, "system_level_velocity_min": 8.997691686908151, "cost1_min": 108.8388520247456, "cost2_max": -82.0364763840706, "system_level_velocity_max": 15.075287821898058, "cost1_mean": 330.7106536380114, "system_level_velocity_mean": 12.417234980115222, "outflow_rate_mean": 987.718054069747}, "episodes_total": 24154, "num_metric_batches_dropped": 0, "info": {"default": {"kl": 0.016813235357403755, "entropy": 2.8406996726989746, "total_loss": 25.956268310546875, "cur_kl_coeff": 0.20000001788139343, "vf_explained_var": 0.8905425667762756, "vf_loss": 25.96160125732422, "cur_lr": 0.0005000000237487257, "policy_loss": -0.008697019889950752}, "grad_time_ms": 41489.114, "update_time_ms": 11.256, "num_steps_trained": 42620514, "num_steps_sampled": 42620514, "load_time_ms": 62.936, "sample_time_ms": 28229.395}, "episode_reward_max": 781.1243683408693, "iterations_since_restore": 25, "episode_reward_mean": 580.109765341971, "timesteps_total": 42620514, "timesteps_since_restore": 4499426, "experiment_id": "9b178520507b4656ac608c6ff2056ff7", "node_ip": "10.138.0.2", "timestamp": 1557381733, "episode_reward_min": 172.3612526241265, "done": false, "training_iteration": 325, "time_total_s": 16002.712220191956, "time_since_restore": 1759.8353908061981, "policy_reward_mean": {}, "episode_len_mean": 716.15, "episodes_this_iter": 88, "timesteps_this_iter": 179516, "time_this_iter_s": 70.0694489479065, "config": {"num_workers": 60, "tf_session_args": {"device_count": {"CPU": 1}, "gpu_options": {"allow_growth": true}, "inter_op_parallelism_threads": 2, "log_device_placement": false, "allow_soft_placement": true, "intra_op_parallelism_threads": 2}, "batch_mode": "truncate_episodes", "collect_metrics_timeout": 180, "sample_batch_size": 750, "custom_resources_per_worker": {}, "vf_share_layers": false, "gamma": 0.99, "optimizer": {}, "input_evaluation": null, "num_envs_per_worker": 1, "train_batch_size": 90000, "vf_clip_param": 1000000.0, "kl_target": 0.01, "entropy_coeff": 0.0, "env_config": {"run": "PPO", "flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.3,\n            \"eta3\": 0.1,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 10.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 600,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}"}, "num_gpus_per_worker": 0, "synchronize_filters": true, "straggler_mitigation": false, "num_gpus": 0, "model": {"custom_options": {}, "custom_model": null, "custom_preprocessor": null, "squash_to_range": false, "framestack": true, "fcnet_hiddens": [128, 64, 32], "fcnet_activation": "tanh", "lstm_use_prev_action_reward": false, "grayscale": false, "conv_activation": "relu", "channel_major": false, "conv_filters": null, "dim": 84, "lstm_cell_size": 256, "use_lstm": false, "zero_mean": true, "free_log_std": false, "max_seq_len": 20}, "observation_filter": "MeanStdFilter", "use_gae": true, "log_level": "INFO", "num_sgd_iter": 10, "monitor": false, "env": "MultiWaveAttenuationMergePOEnvBufferedObs-v0no_random_eta2:0.2", "clip_param": 0.3, "lambda": 0.97, "simple_optimizer": false, "sgd_minibatch_size": 128, "num_cpus_for_driver": 1, "input": "sampler", "output": null, "horizon": 1500, "preprocessor_pref": "deepmind", "compress_observations": false, "output_compress_columns": ["obs", "new_obs"], "clip_rewards": null, "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "multiagent": {"policies_to_train": null, "policy_graphs": {}, "policy_mapping_fn": null}, "callbacks": {"on_train_result": null, "on_sample_end": null, "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7fe94dd4ec88>", "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7fe94dd044a8>", "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7fe94dd04320>"}, "num_cpus_per_worker": 1, "kl_coeff": 0.2, "lr": 0.0005, "sample_async": false, "output_max_file_size": 67108864, "lr_schedule": null, "clip_actions": false, "vf_loss_coeff": 1.0}}
{"pid": 43700, "hostname": "flow-main", "date": "2019-05-09_06-03-25", "custom_metrics": {"cost2_min": -198.7953941758262, "cost1_max": 436.1475043789746, "outflow_rate_min": 419.73849534504376, "cost2_mean": -168.21008882758545, "outflow_rate_max": 1196.7067128110807, "system_level_velocity_min": 10.796162833757702, "cost1_min": 112.38311288224601, "cost2_max": -87.0555582828899, "system_level_velocity_max": 15.196783410680771, "cost1_mean": 346.1692031095883, "system_level_velocity_mean": 12.586894131136049, "outflow_rate_mean": 1025.5065538799563}, "episodes_total": 24235, "num_metric_batches_dropped": 0, "info": {"default": {"kl": 0.016339518129825592, "entropy": 2.8666224479675293, "total_loss": 23.430814743041992, "cur_kl_coeff": 0.20000001788139343, "vf_explained_var": 0.8964516520500183, "vf_loss": 23.436279296875, "cur_lr": 0.0005000000237487257, "policy_loss": -0.008731609210371971}, "grad_time_ms": 41579.873, "update_time_ms": 11.021, "num_steps_trained": 42800666, "num_steps_sampled": 42800666, "load_time_ms": 62.568, "sample_time_ms": 28293.214}, "episode_reward_max": 804.2926475750321, "iterations_since_restore": 26, "episode_reward_mean": 606.6070286026046, "timesteps_total": 42800666, "timesteps_since_restore": 4679578, "experiment_id": "9b178520507b4656ac608c6ff2056ff7", "node_ip": "10.138.0.2", "timestamp": 1557381805, "episode_reward_min": 175.45427309843987, "done": false, "training_iteration": 326, "time_total_s": 16074.672430992126, "time_since_restore": 1831.795601606369, "policy_reward_mean": {}, "episode_len_mean": 735.24, "episodes_this_iter": 81, "timesteps_this_iter": 180152, "time_this_iter_s": 71.9602108001709, "config": {"num_workers": 60, "tf_session_args": {"device_count": {"CPU": 1}, "gpu_options": {"allow_growth": true}, "inter_op_parallelism_threads": 2, "log_device_placement": false, "allow_soft_placement": true, "intra_op_parallelism_threads": 2}, "batch_mode": "truncate_episodes", "collect_metrics_timeout": 180, "sample_batch_size": 750, "custom_resources_per_worker": {}, "vf_share_layers": false, "gamma": 0.99, "optimizer": {}, "input_evaluation": null, "num_envs_per_worker": 1, "train_batch_size": 90000, "vf_clip_param": 1000000.0, "kl_target": 0.01, "entropy_coeff": 0.0, "env_config": {"run": "PPO", "flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.3,\n            \"eta3\": 0.1,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 10.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 600,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}"}, "num_gpus_per_worker": 0, "synchronize_filters": true, "straggler_mitigation": false, "num_gpus": 0, "model": {"custom_options": {}, "custom_model": null, "custom_preprocessor": null, "squash_to_range": false, "framestack": true, "fcnet_hiddens": [128, 64, 32], "fcnet_activation": "tanh", "lstm_use_prev_action_reward": false, "grayscale": false, "conv_activation": "relu", "channel_major": false, "conv_filters": null, "dim": 84, "lstm_cell_size": 256, "use_lstm": false, "zero_mean": true, "free_log_std": false, "max_seq_len": 20}, "observation_filter": "MeanStdFilter", "use_gae": true, "log_level": "INFO", "num_sgd_iter": 10, "monitor": false, "env": "MultiWaveAttenuationMergePOEnvBufferedObs-v0no_random_eta2:0.2", "clip_param": 0.3, "lambda": 0.97, "simple_optimizer": false, "sgd_minibatch_size": 128, "num_cpus_for_driver": 1, "input": "sampler", "output": null, "horizon": 1500, "preprocessor_pref": "deepmind", "compress_observations": false, "output_compress_columns": ["obs", "new_obs"], "clip_rewards": null, "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "multiagent": {"policies_to_train": null, "policy_graphs": {}, "policy_mapping_fn": null}, "callbacks": {"on_train_result": null, "on_sample_end": null, "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7fe94dd040b8>", "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7fe94dd04c18>", "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7fe94dd04f28>"}, "num_cpus_per_worker": 1, "kl_coeff": 0.2, "lr": 0.0005, "sample_async": false, "output_max_file_size": 67108864, "lr_schedule": null, "clip_actions": false, "vf_loss_coeff": 1.0}}
{"pid": 43700, "hostname": "flow-main", "date": "2019-05-09_06-04-37", "custom_metrics": {"cost2_min": -197.43331787438515, "cost1_max": 449.0067774853459, "outflow_rate_min": 432.71554563596743, "cost2_mean": -165.54788258373327, "outflow_rate_max": 1211.2098736123974, "system_level_velocity_min": 10.420743994832376, "cost1_min": 114.36617078947307, "cost2_max": -87.0555582828899, "system_level_velocity_max": 15.758858647472271, "cost1_mean": 337.6402074549104, "system_level_velocity_mean": 12.516546505604678, "outflow_rate_mean": 1001.6612020695019}, "episodes_total": 24319, "num_metric_batches_dropped": 0, "info": {"default": {"kl": 0.015632618218660355, "entropy": 2.903557300567627, "total_loss": 23.513050079345703, "cur_kl_coeff": 0.20000003278255463, "vf_explained_var": 0.8971821665763855, "vf_loss": 23.518014907836914, "cur_lr": 0.0005000000237487257, "policy_loss": -0.00808944832533598}, "grad_time_ms": 41855.838, "update_time_ms": 11.236, "num_steps_trained": 42981736, "num_steps_sampled": 42981736, "load_time_ms": 64.562, "sample_time_ms": 28385.558}, "episode_reward_max": 855.1667165618658, "iterations_since_restore": 27, "episode_reward_mean": 588.8408872941627, "timesteps_total": 42981736, "timesteps_since_restore": 4860648, "experiment_id": "9b178520507b4656ac608c6ff2056ff7", "node_ip": "10.138.0.2", "timestamp": 1557381877, "episode_reward_min": 170.33721211861192, "done": false, "training_iteration": 327, "time_total_s": 16147.13278055191, "time_since_restore": 1904.255951166153, "policy_reward_mean": {}, "episode_len_mean": 724.11, "episodes_this_iter": 84, "timesteps_this_iter": 181070, "time_this_iter_s": 72.46034955978394, "config": {"num_workers": 60, "tf_session_args": {"device_count": {"CPU": 1}, "gpu_options": {"allow_growth": true}, "inter_op_parallelism_threads": 2, "log_device_placement": false, "allow_soft_placement": true, "intra_op_parallelism_threads": 2}, "batch_mode": "truncate_episodes", "collect_metrics_timeout": 180, "sample_batch_size": 750, "custom_resources_per_worker": {}, "vf_share_layers": false, "gamma": 0.99, "optimizer": {}, "input_evaluation": null, "num_envs_per_worker": 1, "train_batch_size": 90000, "vf_clip_param": 1000000.0, "kl_target": 0.01, "entropy_coeff": 0.0, "env_config": {"run": "PPO", "flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.3,\n            \"eta3\": 0.1,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 10.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 600,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}"}, "num_gpus_per_worker": 0, "synchronize_filters": true, "straggler_mitigation": false, "num_gpus": 0, "model": {"custom_options": {}, "custom_model": null, "custom_preprocessor": null, "squash_to_range": false, "framestack": true, "fcnet_hiddens": [128, 64, 32], "fcnet_activation": "tanh", "lstm_use_prev_action_reward": false, "grayscale": false, "conv_activation": "relu", "channel_major": false, "conv_filters": null, "dim": 84, "lstm_cell_size": 256, "use_lstm": false, "zero_mean": true, "free_log_std": false, "max_seq_len": 20}, "observation_filter": "MeanStdFilter", "use_gae": true, "log_level": "INFO", "num_sgd_iter": 10, "monitor": false, "env": "MultiWaveAttenuationMergePOEnvBufferedObs-v0no_random_eta2:0.2", "clip_param": 0.3, "lambda": 0.97, "simple_optimizer": false, "sgd_minibatch_size": 128, "num_cpus_for_driver": 1, "input": "sampler", "output": null, "horizon": 1500, "preprocessor_pref": "deepmind", "compress_observations": false, "output_compress_columns": ["obs", "new_obs"], "clip_rewards": null, "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "multiagent": {"policies_to_train": null, "policy_graphs": {}, "policy_mapping_fn": null}, "callbacks": {"on_train_result": null, "on_sample_end": null, "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7fe94dcede48>", "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7fe94dcedb00>", "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7fe94dcedc88>"}, "num_cpus_per_worker": 1, "kl_coeff": 0.2, "lr": 0.0005, "sample_async": false, "output_max_file_size": 67108864, "lr_schedule": null, "clip_actions": false, "vf_loss_coeff": 1.0}}
{"pid": 43700, "hostname": "flow-main", "date": "2019-05-09_06-05-48", "custom_metrics": {"cost2_min": -197.80622866111014, "cost1_max": 468.6097517526066, "outflow_rate_min": 444.1129842012556, "cost2_mean": -166.93636958339812, "outflow_rate_max": 1246.1928689872805, "system_level_velocity_min": 10.280057192074446, "cost1_min": 118.8378773301488, "cost2_max": -93.7887277235408, "system_level_velocity_max": 16.382545604480303, "cost1_mean": 341.29124005670695, "system_level_velocity_mean": 12.280133161623592, "outflow_rate_mean": 1012.2036733064593}, "episodes_total": 24402, "num_metric_batches_dropped": 0, "info": {"default": {"kl": 0.01643547974526882, "entropy": 2.869347095489502, "total_loss": 25.307201385498047, "cur_kl_coeff": 0.20000001788139343, "vf_explained_var": 0.8928859829902649, "vf_loss": 25.311580657958984, "cur_lr": 0.0005000000237487257, "policy_loss": -0.007668732665479183}, "grad_time_ms": 41956.572, "update_time_ms": 11.238, "num_steps_trained": 43161226, "num_steps_sampled": 43161226, "load_time_ms": 64.062, "sample_time_ms": 28384.813}, "episode_reward_max": 848.9389085910547, "iterations_since_restore": 28, "episode_reward_mean": 600.1309773841135, "timesteps_total": 43161226, "timesteps_since_restore": 5040138, "experiment_id": "9b178520507b4656ac608c6ff2056ff7", "node_ip": "10.138.0.2", "timestamp": 1557381948, "episode_reward_min": 180.4961056518064, "done": false, "training_iteration": 328, "time_total_s": 16217.674886226654, "time_since_restore": 1974.7980568408966, "policy_reward_mean": {}, "episode_len_mean": 745.75, "episodes_this_iter": 83, "timesteps_this_iter": 179490, "time_this_iter_s": 70.54210567474365, "config": {"num_workers": 60, "tf_session_args": {"device_count": {"CPU": 1}, "gpu_options": {"allow_growth": true}, "inter_op_parallelism_threads": 2, "log_device_placement": false, "allow_soft_placement": true, "intra_op_parallelism_threads": 2}, "batch_mode": "truncate_episodes", "collect_metrics_timeout": 180, "sample_batch_size": 750, "custom_resources_per_worker": {}, "vf_share_layers": false, "gamma": 0.99, "optimizer": {}, "input_evaluation": null, "num_envs_per_worker": 1, "train_batch_size": 90000, "vf_clip_param": 1000000.0, "kl_target": 0.01, "entropy_coeff": 0.0, "env_config": {"run": "PPO", "flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.3,\n            \"eta3\": 0.1,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 10.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 600,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}"}, "num_gpus_per_worker": 0, "synchronize_filters": true, "straggler_mitigation": false, "num_gpus": 0, "model": {"custom_options": {}, "custom_model": null, "custom_preprocessor": null, "squash_to_range": false, "framestack": true, "fcnet_hiddens": [128, 64, 32], "fcnet_activation": "tanh", "lstm_use_prev_action_reward": false, "grayscale": false, "conv_activation": "relu", "channel_major": false, "conv_filters": null, "dim": 84, "lstm_cell_size": 256, "use_lstm": false, "zero_mean": true, "free_log_std": false, "max_seq_len": 20}, "observation_filter": "MeanStdFilter", "use_gae": true, "log_level": "INFO", "num_sgd_iter": 10, "monitor": false, "env": "MultiWaveAttenuationMergePOEnvBufferedObs-v0no_random_eta2:0.2", "clip_param": 0.3, "lambda": 0.97, "simple_optimizer": false, "sgd_minibatch_size": 128, "num_cpus_for_driver": 1, "input": "sampler", "output": null, "horizon": 1500, "preprocessor_pref": "deepmind", "compress_observations": false, "output_compress_columns": ["obs", "new_obs"], "clip_rewards": null, "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "multiagent": {"policies_to_train": null, "policy_graphs": {}, "policy_mapping_fn": null}, "callbacks": {"on_train_result": null, "on_sample_end": null, "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7fe94dd04a58>", "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7fe94dd0cb38>", "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7fe94dd0cdd8>"}, "num_cpus_per_worker": 1, "kl_coeff": 0.2, "lr": 0.0005, "sample_async": false, "output_max_file_size": 67108864, "lr_schedule": null, "clip_actions": false, "vf_loss_coeff": 1.0}}
{"pid": 43700, "hostname": "flow-main", "date": "2019-05-09_06-06-59", "custom_metrics": {"cost2_min": -194.1830235277498, "cost1_max": 472.6993055123047, "outflow_rate_min": 441.4277895771861, "cost2_mean": -167.36745349131533, "outflow_rate_max": 1257.5538903162, "system_level_velocity_min": 10.386112423668683, "cost1_min": 116.76422290047962, "cost2_max": -88.38854690727496, "system_level_velocity_max": 16.67215253872938, "cost1_mean": 340.2982354245712, "system_level_velocity_mean": 12.347896708603717, "outflow_rate_mean": 1010.9518985850725}, "episodes_total": 24486, "num_metric_batches_dropped": 0, "info": {"default": {"kl": 0.015674268826842308, "entropy": 2.8877828121185303, "total_loss": 25.993404388427734, "cur_kl_coeff": 0.20000001788139343, "vf_explained_var": 0.8894960880279541, "vf_loss": 25.997835159301758, "cur_lr": 0.0005000000237487257, "policy_loss": -0.0075628855265676975}, "grad_time_ms": 42052.237, "update_time_ms": 10.924, "num_steps_trained": 43343258, "num_steps_sampled": 43343258, "load_time_ms": 63.117, "sample_time_ms": 28336.841}, "episode_reward_max": 843.6333906745122, "iterations_since_restore": 29, "episode_reward_mean": 594.8954554723931, "timesteps_total": 43343258, "timesteps_since_restore": 5222170, "experiment_id": "9b178520507b4656ac608c6ff2056ff7", "node_ip": "10.138.0.2", "timestamp": 1557382019, "episode_reward_min": 186.00047170813914, "done": false, "training_iteration": 329, "time_total_s": 16289.10775899887, "time_since_restore": 2046.2309296131134, "policy_reward_mean": {}, "episode_len_mean": 741.45, "episodes_this_iter": 84, "timesteps_this_iter": 182032, "time_this_iter_s": 71.4328727722168, "config": {"num_workers": 60, "tf_session_args": {"device_count": {"CPU": 1}, "gpu_options": {"allow_growth": true}, "inter_op_parallelism_threads": 2, "log_device_placement": false, "allow_soft_placement": true, "intra_op_parallelism_threads": 2}, "batch_mode": "truncate_episodes", "collect_metrics_timeout": 180, "sample_batch_size": 750, "custom_resources_per_worker": {}, "vf_share_layers": false, "gamma": 0.99, "optimizer": {}, "input_evaluation": null, "num_envs_per_worker": 1, "train_batch_size": 90000, "vf_clip_param": 1000000.0, "kl_target": 0.01, "entropy_coeff": 0.0, "env_config": {"run": "PPO", "flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.3,\n            \"eta3\": 0.1,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 10.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 600,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}"}, "num_gpus_per_worker": 0, "synchronize_filters": true, "straggler_mitigation": false, "num_gpus": 0, "model": {"custom_options": {}, "custom_model": null, "custom_preprocessor": null, "squash_to_range": false, "framestack": true, "fcnet_hiddens": [128, 64, 32], "fcnet_activation": "tanh", "lstm_use_prev_action_reward": false, "grayscale": false, "conv_activation": "relu", "channel_major": false, "conv_filters": null, "dim": 84, "lstm_cell_size": 256, "use_lstm": false, "zero_mean": true, "free_log_std": false, "max_seq_len": 20}, "observation_filter": "MeanStdFilter", "use_gae": true, "log_level": "INFO", "num_sgd_iter": 10, "monitor": false, "env": "MultiWaveAttenuationMergePOEnvBufferedObs-v0no_random_eta2:0.2", "clip_param": 0.3, "lambda": 0.97, "simple_optimizer": false, "sgd_minibatch_size": 128, "num_cpus_for_driver": 1, "input": "sampler", "output": null, "horizon": 1500, "preprocessor_pref": "deepmind", "compress_observations": false, "output_compress_columns": ["obs", "new_obs"], "clip_rewards": null, "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "multiagent": {"policies_to_train": null, "policy_graphs": {}, "policy_mapping_fn": null}, "callbacks": {"on_train_result": null, "on_sample_end": null, "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7fe94dcedc18>", "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7fe94dcedeb8>", "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7fe94dced710>"}, "num_cpus_per_worker": 1, "kl_coeff": 0.2, "lr": 0.0005, "sample_async": false, "output_max_file_size": 67108864, "lr_schedule": null, "clip_actions": false, "vf_loss_coeff": 1.0}}
{"pid": 43700, "hostname": "flow-main", "date": "2019-05-09_06-08-10", "custom_metrics": {"cost2_min": -199.8849274775876, "cost1_max": 463.99006595965307, "outflow_rate_min": 432.18744846725184, "cost2_mean": -169.86156898547588, "outflow_rate_max": 1252.2691538775002, "system_level_velocity_min": 9.537515221519472, "cost1_min": 113.38075238472746, "cost2_max": -90.51875284504018, "system_level_velocity_max": 16.402336765999657, "cost1_mean": 339.5769029647947, "system_level_velocity_mean": 12.380787330932453, "outflow_rate_mean": 1010.9671159066523}, "episodes_total": 24569, "num_metric_batches_dropped": 0, "info": {"default": {"kl": 0.01688007079064846, "entropy": 2.885154962539673, "total_loss": 25.691734313964844, "cur_kl_coeff": 0.20000001788139343, "vf_explained_var": 0.8836998343467712, "vf_loss": 25.69618034362793, "cur_lr": 0.0005000000237487257, "policy_loss": -0.007824936881661415}, "grad_time_ms": 42074.419, "update_time_ms": 11.107, "num_steps_trained": 43521902, "num_steps_sampled": 43521902, "load_time_ms": 65.081, "sample_time_ms": 28351.916}, "episode_reward_max": 795.5750608682631, "iterations_since_restore": 30, "episode_reward_mean": 590.5980706517747, "timesteps_total": 43521902, "timesteps_since_restore": 5400814, "experiment_id": "9b178520507b4656ac608c6ff2056ff7", "node_ip": "10.138.0.2", "timestamp": 1557382090, "episode_reward_min": 171.71926074963238, "done": false, "training_iteration": 330, "time_total_s": 16360.00988125801, "time_since_restore": 2117.1330518722534, "policy_reward_mean": {}, "episode_len_mean": 739.74, "episodes_this_iter": 83, "timesteps_this_iter": 178644, "time_this_iter_s": 70.90212225914001, "config": {"num_workers": 60, "tf_session_args": {"device_count": {"CPU": 1}, "gpu_options": {"allow_growth": true}, "inter_op_parallelism_threads": 2, "log_device_placement": false, "allow_soft_placement": true, "intra_op_parallelism_threads": 2}, "batch_mode": "truncate_episodes", "collect_metrics_timeout": 180, "sample_batch_size": 750, "custom_resources_per_worker": {}, "vf_share_layers": false, "gamma": 0.99, "optimizer": {}, "input_evaluation": null, "num_envs_per_worker": 1, "train_batch_size": 90000, "vf_clip_param": 1000000.0, "kl_target": 0.01, "entropy_coeff": 0.0, "env_config": {"run": "PPO", "flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.3,\n            \"eta3\": 0.1,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 10.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 600,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}"}, "num_gpus_per_worker": 0, "synchronize_filters": true, "straggler_mitigation": false, "num_gpus": 0, "model": {"custom_options": {}, "custom_model": null, "custom_preprocessor": null, "squash_to_range": false, "framestack": true, "fcnet_hiddens": [128, 64, 32], "fcnet_activation": "tanh", "lstm_use_prev_action_reward": false, "grayscale": false, "conv_activation": "relu", "channel_major": false, "conv_filters": null, "dim": 84, "lstm_cell_size": 256, "use_lstm": false, "zero_mean": true, "free_log_std": false, "max_seq_len": 20}, "observation_filter": "MeanStdFilter", "use_gae": true, "log_level": "INFO", "num_sgd_iter": 10, "monitor": false, "env": "MultiWaveAttenuationMergePOEnvBufferedObs-v0no_random_eta2:0.2", "clip_param": 0.3, "lambda": 0.97, "simple_optimizer": false, "sgd_minibatch_size": 128, "num_cpus_for_driver": 1, "input": "sampler", "output": null, "horizon": 1500, "preprocessor_pref": "deepmind", "compress_observations": false, "output_compress_columns": ["obs", "new_obs"], "clip_rewards": null, "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "multiagent": {"policies_to_train": null, "policy_graphs": {}, "policy_mapping_fn": null}, "callbacks": {"on_train_result": null, "on_sample_end": null, "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7fe94dd0c240>", "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7fe94dd0cb38>", "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7fe94dd0c208>"}, "num_cpus_per_worker": 1, "kl_coeff": 0.2, "lr": 0.0005, "sample_async": false, "output_max_file_size": 67108864, "lr_schedule": null, "clip_actions": false, "vf_loss_coeff": 1.0}}
{"pid": 43700, "hostname": "flow-main", "date": "2019-05-09_06-09-22", "custom_metrics": {"cost2_min": -199.8849274775876, "cost1_max": 465.4864489316278, "outflow_rate_min": 722.6505419236324, "cost2_mean": -171.53073311513447, "outflow_rate_max": 1252.2691538775002, "system_level_velocity_min": 10.296218241713069, "cost1_min": 244.87802447088893, "cost2_max": -145.31415885615388, "system_level_velocity_max": 16.402336765999657, "cost1_mean": 345.77210935364974, "system_level_velocity_mean": 12.439365879782878, "outflow_rate_mean": 1024.161824096849}, "episodes_total": 24651, "num_metric_batches_dropped": 0, "info": {"default": {"kl": 0.018066635355353355, "entropy": 2.8774542808532715, "total_loss": 27.6413631439209, "cur_kl_coeff": 0.20000003278255463, "vf_explained_var": 0.8738408088684082, "vf_loss": 27.645055770874023, "cur_lr": 0.0005000000237487257, "policy_loss": -0.007305963430553675}, "grad_time_ms": 42122.986, "update_time_ms": 11.262, "num_steps_trained": 43702307, "num_steps_sampled": 43702307, "load_time_ms": 66.435, "sample_time_ms": 28412.144}, "episode_reward_max": 830.2177382562226, "iterations_since_restore": 31, "episode_reward_mean": 604.1128219173575, "timesteps_total": 43702307, "timesteps_since_restore": 5581219, "experiment_id": "9b178520507b4656ac608c6ff2056ff7", "node_ip": "10.138.0.2", "timestamp": 1557382162, "episode_reward_min": 411.0654547835074, "done": false, "training_iteration": 331, "time_total_s": 16431.759682416916, "time_since_restore": 2188.8828530311584, "policy_reward_mean": {}, "episode_len_mean": 747.59, "episodes_this_iter": 82, "timesteps_this_iter": 180405, "time_this_iter_s": 71.74980115890503, "config": {"num_workers": 60, "tf_session_args": {"device_count": {"CPU": 1}, "gpu_options": {"allow_growth": true}, "inter_op_parallelism_threads": 2, "log_device_placement": false, "allow_soft_placement": true, "intra_op_parallelism_threads": 2}, "batch_mode": "truncate_episodes", "collect_metrics_timeout": 180, "sample_batch_size": 750, "custom_resources_per_worker": {}, "vf_share_layers": false, "gamma": 0.99, "optimizer": {}, "input_evaluation": null, "num_envs_per_worker": 1, "train_batch_size": 90000, "vf_clip_param": 1000000.0, "kl_target": 0.01, "entropy_coeff": 0.0, "env_config": {"run": "PPO", "flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.3,\n            \"eta3\": 0.1,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 10.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 600,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}"}, "num_gpus_per_worker": 0, "synchronize_filters": true, "straggler_mitigation": false, "num_gpus": 0, "model": {"custom_options": {}, "custom_model": null, "custom_preprocessor": null, "squash_to_range": false, "framestack": true, "fcnet_hiddens": [128, 64, 32], "fcnet_activation": "tanh", "lstm_use_prev_action_reward": false, "grayscale": false, "conv_activation": "relu", "channel_major": false, "conv_filters": null, "dim": 84, "lstm_cell_size": 256, "use_lstm": false, "zero_mean": true, "free_log_std": false, "max_seq_len": 20}, "observation_filter": "MeanStdFilter", "use_gae": true, "log_level": "INFO", "num_sgd_iter": 10, "monitor": false, "env": "MultiWaveAttenuationMergePOEnvBufferedObs-v0no_random_eta2:0.2", "clip_param": 0.3, "lambda": 0.97, "simple_optimizer": false, "sgd_minibatch_size": 128, "num_cpus_for_driver": 1, "input": "sampler", "output": null, "horizon": 1500, "preprocessor_pref": "deepmind", "compress_observations": false, "output_compress_columns": ["obs", "new_obs"], "clip_rewards": null, "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "multiagent": {"policies_to_train": null, "policy_graphs": {}, "policy_mapping_fn": null}, "callbacks": {"on_train_result": null, "on_sample_end": null, "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7fe94dcedc50>", "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7fe94dced6a0>", "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7fe94dcedb00>"}, "num_cpus_per_worker": 1, "kl_coeff": 0.2, "lr": 0.0005, "sample_async": false, "output_max_file_size": 67108864, "lr_schedule": null, "clip_actions": false, "vf_loss_coeff": 1.0}}
{"pid": 43700, "hostname": "flow-main", "date": "2019-05-09_06-10-34", "custom_metrics": {"cost2_min": -200.44646200625772, "cost1_max": 459.8060662329735, "outflow_rate_min": 430.53463720896053, "cost2_mean": -173.81049639178798, "outflow_rate_max": 1237.239126935527, "system_level_velocity_min": 10.848040495262042, "cost1_min": 113.16493408464636, "cost2_max": -90.93771985275713, "system_level_velocity_max": 16.111705441290958, "cost1_mean": 351.80256691085503, "system_level_velocity_mean": 12.79685148223123, "outflow_rate_mean": 1036.5724474642523}, "episodes_total": 24735, "num_metric_batches_dropped": 0, "info": {"default": {"kl": 0.016693906858563423, "entropy": 2.8811821937561035, "total_loss": 27.233034133911133, "cur_kl_coeff": 0.20000000298023224, "vf_explained_var": 0.8823717832565308, "vf_loss": 27.237567901611328, "cur_lr": 0.0005000000237487257, "policy_loss": -0.007871564477682114}, "grad_time_ms": 42189.362, "update_time_ms": 11.4, "num_steps_trained": 43881680, "num_steps_sampled": 43881680, "load_time_ms": 67.186, "sample_time_ms": 28508.379}, "episode_reward_max": 801.7569227095248, "iterations_since_restore": 32, "episode_reward_mean": 607.5497017920585, "timesteps_total": 43881680, "timesteps_since_restore": 5760592, "experiment_id": "9b178520507b4656ac608c6ff2056ff7", "node_ip": "10.138.0.2", "timestamp": 1557382234, "episode_reward_min": 171.2764563889817, "done": false, "training_iteration": 332, "time_total_s": 16503.612728118896, "time_since_restore": 2260.735898733139, "policy_reward_mean": {}, "episode_len_mean": 738.73, "episodes_this_iter": 84, "timesteps_this_iter": 179373, "time_this_iter_s": 71.85304570198059, "config": {"num_workers": 60, "tf_session_args": {"device_count": {"CPU": 1}, "gpu_options": {"allow_growth": true}, "inter_op_parallelism_threads": 2, "log_device_placement": false, "allow_soft_placement": true, "intra_op_parallelism_threads": 2}, "batch_mode": "truncate_episodes", "collect_metrics_timeout": 180, "sample_batch_size": 750, "custom_resources_per_worker": {}, "vf_share_layers": false, "gamma": 0.99, "optimizer": {}, "input_evaluation": null, "num_envs_per_worker": 1, "train_batch_size": 90000, "vf_clip_param": 1000000.0, "kl_target": 0.01, "entropy_coeff": 0.0, "env_config": {"run": "PPO", "flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.3,\n            \"eta3\": 0.1,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 10.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 600,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}"}, "num_gpus_per_worker": 0, "synchronize_filters": true, "straggler_mitigation": false, "num_gpus": 0, "model": {"custom_options": {}, "custom_model": null, "custom_preprocessor": null, "squash_to_range": false, "framestack": true, "fcnet_hiddens": [128, 64, 32], "fcnet_activation": "tanh", "lstm_use_prev_action_reward": false, "grayscale": false, "conv_activation": "relu", "channel_major": false, "conv_filters": null, "dim": 84, "lstm_cell_size": 256, "use_lstm": false, "zero_mean": true, "free_log_std": false, "max_seq_len": 20}, "observation_filter": "MeanStdFilter", "use_gae": true, "log_level": "INFO", "num_sgd_iter": 10, "monitor": false, "env": "MultiWaveAttenuationMergePOEnvBufferedObs-v0no_random_eta2:0.2", "clip_param": 0.3, "lambda": 0.97, "simple_optimizer": false, "sgd_minibatch_size": 128, "num_cpus_for_driver": 1, "input": "sampler", "output": null, "horizon": 1500, "preprocessor_pref": "deepmind", "compress_observations": false, "output_compress_columns": ["obs", "new_obs"], "clip_rewards": null, "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "multiagent": {"policies_to_train": null, "policy_graphs": {}, "policy_mapping_fn": null}, "callbacks": {"on_train_result": null, "on_sample_end": null, "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7fe94dd0c240>", "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7fe94dd0c198>", "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7fe94dd0ca90>"}, "num_cpus_per_worker": 1, "kl_coeff": 0.2, "lr": 0.0005, "sample_async": false, "output_max_file_size": 67108864, "lr_schedule": null, "clip_actions": false, "vf_loss_coeff": 1.0}}
{"pid": 43700, "hostname": "flow-main", "date": "2019-05-09_06-11-45", "custom_metrics": {"cost2_min": -196.97124089693796, "cost1_max": 455.8818686394907, "outflow_rate_min": 430.53463720896053, "cost2_mean": -171.4837850310615, "outflow_rate_max": 1239.1704835617688, "system_level_velocity_min": 10.3843174583827, "cost1_min": 113.16493408464636, "cost2_max": -90.93771985275713, "system_level_velocity_max": 16.066300274645982, "cost1_mean": 343.52720776625387, "system_level_velocity_mean": 12.453484616497269, "outflow_rate_mean": 1018.463501395394}, "episodes_total": 24817, "num_metric_batches_dropped": 0, "info": {"default": {"kl": 0.01625368371605873, "entropy": 2.9161221981048584, "total_loss": 25.518022537231445, "cur_kl_coeff": 0.20000003278255463, "vf_explained_var": 0.8845902681350708, "vf_loss": 25.522340774536133, "cur_lr": 0.0005000000237487257, "policy_loss": -0.007568762172013521}, "grad_time_ms": 42065.803, "update_time_ms": 11.33, "num_steps_trained": 44063692, "num_steps_sampled": 44063692, "load_time_ms": 65.292, "sample_time_ms": 28590.367}, "episode_reward_max": 794.3176464433805, "iterations_since_restore": 33, "episode_reward_mean": 594.8584444815633, "timesteps_total": 44063692, "timesteps_since_restore": 5942604, "experiment_id": "9b178520507b4656ac608c6ff2056ff7", "node_ip": "10.138.0.2", "timestamp": 1557382305, "episode_reward_min": 171.2764563889817, "done": false, "training_iteration": 333, "time_total_s": 16574.404704093933, "time_since_restore": 2331.5278747081757, "policy_reward_mean": {}, "episode_len_mean": 742.26, "episodes_this_iter": 82, "timesteps_this_iter": 182012, "time_this_iter_s": 70.79197597503662, "config": {"num_workers": 60, "tf_session_args": {"device_count": {"CPU": 1}, "gpu_options": {"allow_growth": true}, "inter_op_parallelism_threads": 2, "log_device_placement": false, "allow_soft_placement": true, "intra_op_parallelism_threads": 2}, "batch_mode": "truncate_episodes", "collect_metrics_timeout": 180, "sample_batch_size": 750, "custom_resources_per_worker": {}, "vf_share_layers": false, "gamma": 0.99, "optimizer": {}, "input_evaluation": null, "num_envs_per_worker": 1, "train_batch_size": 90000, "vf_clip_param": 1000000.0, "kl_target": 0.01, "entropy_coeff": 0.0, "env_config": {"run": "PPO", "flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.3,\n            \"eta3\": 0.1,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 10.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 600,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}"}, "num_gpus_per_worker": 0, "synchronize_filters": true, "straggler_mitigation": false, "num_gpus": 0, "model": {"custom_options": {}, "custom_model": null, "custom_preprocessor": null, "squash_to_range": false, "framestack": true, "fcnet_hiddens": [128, 64, 32], "fcnet_activation": "tanh", "lstm_use_prev_action_reward": false, "grayscale": false, "conv_activation": "relu", "channel_major": false, "conv_filters": null, "dim": 84, "lstm_cell_size": 256, "use_lstm": false, "zero_mean": true, "free_log_std": false, "max_seq_len": 20}, "observation_filter": "MeanStdFilter", "use_gae": true, "log_level": "INFO", "num_sgd_iter": 10, "monitor": false, "env": "MultiWaveAttenuationMergePOEnvBufferedObs-v0no_random_eta2:0.2", "clip_param": 0.3, "lambda": 0.97, "simple_optimizer": false, "sgd_minibatch_size": 128, "num_cpus_for_driver": 1, "input": "sampler", "output": null, "horizon": 1500, "preprocessor_pref": "deepmind", "compress_observations": false, "output_compress_columns": ["obs", "new_obs"], "clip_rewards": null, "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "multiagent": {"policies_to_train": null, "policy_graphs": {}, "policy_mapping_fn": null}, "callbacks": {"on_train_result": null, "on_sample_end": null, "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7fe94dcedeb8>", "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7fe94dd0c7b8>", "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7fe94dd0c588>"}, "num_cpus_per_worker": 1, "kl_coeff": 0.2, "lr": 0.0005, "sample_async": false, "output_max_file_size": 67108864, "lr_schedule": null, "clip_actions": false, "vf_loss_coeff": 1.0}}
{"pid": 43700, "hostname": "flow-main", "date": "2019-05-09_06-12-56", "custom_metrics": {"cost2_min": -196.66480905539802, "cost1_max": 452.70403278812233, "outflow_rate_min": 434.4295117147198, "cost2_mean": -171.99603294803117, "outflow_rate_max": 1227.5250794754097, "system_level_velocity_min": 9.254080964892232, "cost1_min": 114.70307453789013, "cost2_max": -95.94320626286685, "system_level_velocity_max": 15.857423391994578, "cost1_mean": 345.04176997269974, "system_level_velocity_mean": 12.616073603230712, "outflow_rate_mean": 1023.104435197655}, "episodes_total": 24902, "num_metric_batches_dropped": 0, "info": {"default": {"kl": 0.015909360721707344, "entropy": 2.921276092529297, "total_loss": 26.06577491760254, "cur_kl_coeff": 0.20000001788139343, "vf_explained_var": 0.8847748637199402, "vf_loss": 26.070114135742188, "cur_lr": 0.0005000000237487257, "policy_loss": -0.007519475184381008}, "grad_time_ms": 42241.391, "update_time_ms": 11.43, "num_steps_trained": 44245192, "num_steps_sampled": 44245192, "load_time_ms": 65.072, "sample_time_ms": 28624.185}, "episode_reward_max": 799.4461141887563, "iterations_since_restore": 34, "episode_reward_mean": 594.6262218954923, "timesteps_total": 44245192, "timesteps_since_restore": 6124104, "experiment_id": "9b178520507b4656ac608c6ff2056ff7", "node_ip": "10.138.0.2", "timestamp": 1557382376, "episode_reward_min": 173.74326021165766, "done": false, "training_iteration": 334, "time_total_s": 16645.43336057663, "time_since_restore": 2402.556531190872, "policy_reward_mean": {}, "episode_len_mean": 736.97, "episodes_this_iter": 85, "timesteps_this_iter": 181500, "time_this_iter_s": 71.02865648269653, "config": {"num_workers": 60, "tf_session_args": {"device_count": {"CPU": 1}, "gpu_options": {"allow_growth": true}, "inter_op_parallelism_threads": 2, "log_device_placement": false, "allow_soft_placement": true, "intra_op_parallelism_threads": 2}, "batch_mode": "truncate_episodes", "collect_metrics_timeout": 180, "sample_batch_size": 750, "custom_resources_per_worker": {}, "vf_share_layers": false, "gamma": 0.99, "optimizer": {}, "input_evaluation": null, "num_envs_per_worker": 1, "train_batch_size": 90000, "vf_clip_param": 1000000.0, "kl_target": 0.01, "entropy_coeff": 0.0, "env_config": {"run": "PPO", "flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.3,\n            \"eta3\": 0.1,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 10.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 600,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}"}, "num_gpus_per_worker": 0, "synchronize_filters": true, "straggler_mitigation": false, "num_gpus": 0, "model": {"custom_options": {}, "custom_model": null, "custom_preprocessor": null, "squash_to_range": false, "framestack": true, "fcnet_hiddens": [128, 64, 32], "fcnet_activation": "tanh", "lstm_use_prev_action_reward": false, "grayscale": false, "conv_activation": "relu", "channel_major": false, "conv_filters": null, "dim": 84, "lstm_cell_size": 256, "use_lstm": false, "zero_mean": true, "free_log_std": false, "max_seq_len": 20}, "observation_filter": "MeanStdFilter", "use_gae": true, "log_level": "INFO", "num_sgd_iter": 10, "monitor": false, "env": "MultiWaveAttenuationMergePOEnvBufferedObs-v0no_random_eta2:0.2", "clip_param": 0.3, "lambda": 0.97, "simple_optimizer": false, "sgd_minibatch_size": 128, "num_cpus_for_driver": 1, "input": "sampler", "output": null, "horizon": 1500, "preprocessor_pref": "deepmind", "compress_observations": false, "output_compress_columns": ["obs", "new_obs"], "clip_rewards": null, "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "multiagent": {"policies_to_train": null, "policy_graphs": {}, "policy_mapping_fn": null}, "callbacks": {"on_train_result": null, "on_sample_end": null, "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7fe94dd0cdd8>", "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7fe94dd0cac8>", "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7fe94dd0cb00>"}, "num_cpus_per_worker": 1, "kl_coeff": 0.2, "lr": 0.0005, "sample_async": false, "output_max_file_size": 67108864, "lr_schedule": null, "clip_actions": false, "vf_loss_coeff": 1.0}}
{"pid": 43700, "hostname": "flow-main", "date": "2019-05-09_06-14-06", "custom_metrics": {"cost2_min": -196.04229933724923, "cost1_max": 444.06780772956307, "outflow_rate_min": 598.1435090117302, "cost2_mean": -174.14905660699603, "outflow_rate_max": 1223.1356558910911, "system_level_velocity_min": 9.49150593176475, "cost1_min": 179.27718103591155, "cost2_max": -123.08064205381325, "system_level_velocity_max": 15.61863691328832, "cost1_mean": 345.8267558657586, "system_level_velocity_mean": 12.474830258473826, "outflow_rate_mean": 1025.866104016113}, "episodes_total": 24985, "num_metric_batches_dropped": 0, "info": {"default": {"kl": 0.017094815149903297, "entropy": 2.89949631690979, "total_loss": 27.50381851196289, "cur_kl_coeff": 0.20000001788139343, "vf_explained_var": 0.8788970708847046, "vf_loss": 27.50727653503418, "cur_lr": 0.0005000000237487257, "policy_loss": -0.006876691710203886}, "grad_time_ms": 42259.602, "update_time_ms": 11.473, "num_steps_trained": 44426050, "num_steps_sampled": 44426050, "load_time_ms": 65.172, "sample_time_ms": 28637.876}, "episode_reward_max": 756.08744789969, "iterations_since_restore": 35, "episode_reward_mean": 597.8475150515108, "timesteps_total": 44426050, "timesteps_since_restore": 6304962, "experiment_id": "9b178520507b4656ac608c6ff2056ff7", "node_ip": "10.138.0.2", "timestamp": 1557382446, "episode_reward_min": 291.69192868634906, "done": false, "training_iteration": 335, "time_total_s": 16715.781076431274, "time_since_restore": 2472.904247045517, "policy_reward_mean": {}, "episode_len_mean": 745.82, "episodes_this_iter": 83, "timesteps_this_iter": 180858, "time_this_iter_s": 70.34771585464478, "config": {"num_workers": 60, "tf_session_args": {"device_count": {"CPU": 1}, "gpu_options": {"allow_growth": true}, "inter_op_parallelism_threads": 2, "log_device_placement": false, "allow_soft_placement": true, "intra_op_parallelism_threads": 2}, "batch_mode": "truncate_episodes", "collect_metrics_timeout": 180, "sample_batch_size": 750, "custom_resources_per_worker": {}, "vf_share_layers": false, "gamma": 0.99, "optimizer": {}, "input_evaluation": null, "num_envs_per_worker": 1, "train_batch_size": 90000, "vf_clip_param": 1000000.0, "kl_target": 0.01, "entropy_coeff": 0.0, "env_config": {"run": "PPO", "flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.3,\n            \"eta3\": 0.1,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 10.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 600,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}"}, "num_gpus_per_worker": 0, "synchronize_filters": true, "straggler_mitigation": false, "num_gpus": 0, "model": {"custom_options": {}, "custom_model": null, "custom_preprocessor": null, "squash_to_range": false, "framestack": true, "fcnet_hiddens": [128, 64, 32], "fcnet_activation": "tanh", "lstm_use_prev_action_reward": false, "grayscale": false, "conv_activation": "relu", "channel_major": false, "conv_filters": null, "dim": 84, "lstm_cell_size": 256, "use_lstm": false, "zero_mean": true, "free_log_std": false, "max_seq_len": 20}, "observation_filter": "MeanStdFilter", "use_gae": true, "log_level": "INFO", "num_sgd_iter": 10, "monitor": false, "env": "MultiWaveAttenuationMergePOEnvBufferedObs-v0no_random_eta2:0.2", "clip_param": 0.3, "lambda": 0.97, "simple_optimizer": false, "sgd_minibatch_size": 128, "num_cpus_for_driver": 1, "input": "sampler", "output": null, "horizon": 1500, "preprocessor_pref": "deepmind", "compress_observations": false, "output_compress_columns": ["obs", "new_obs"], "clip_rewards": null, "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "multiagent": {"policies_to_train": null, "policy_graphs": {}, "policy_mapping_fn": null}, "callbacks": {"on_train_result": null, "on_sample_end": null, "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7fe94dd0c630>", "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7fe94dd0c710>", "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7fe94dd0c518>"}, "num_cpus_per_worker": 1, "kl_coeff": 0.2, "lr": 0.0005, "sample_async": false, "output_max_file_size": 67108864, "lr_schedule": null, "clip_actions": false, "vf_loss_coeff": 1.0}}
{"pid": 43700, "hostname": "flow-main", "date": "2019-05-09_06-15-20", "custom_metrics": {"cost2_min": -199.59990475547926, "cost1_max": 450.30535800473655, "outflow_rate_min": 430.46324059054473, "cost2_mean": -173.63283209041333, "outflow_rate_max": 1232.3390035916232, "system_level_velocity_min": 10.820560721388805, "cost1_min": 111.89437674167252, "cost2_max": -88.1325426646167, "system_level_velocity_max": 15.922111348859625, "cost1_mean": 345.9918642656797, "system_level_velocity_mean": 12.58938181342112, "outflow_rate_mean": 1025.285368733351}, "episodes_total": 25069, "num_metric_batches_dropped": 0, "info": {"default": {"kl": 0.015428204089403152, "entropy": 2.904399871826172, "total_loss": 26.315631866455078, "cur_kl_coeff": 0.20000003278255463, "vf_explained_var": 0.8826842308044434, "vf_loss": 26.319761276245117, "cur_lr": 0.0005000000237487257, "policy_loss": -0.007214582525193691}, "grad_time_ms": 42459.59, "update_time_ms": 11.36, "num_steps_trained": 44607322, "num_steps_sampled": 44607322, "load_time_ms": 66.267, "sample_time_ms": 28645.585}, "episode_reward_max": 755.2104271734133, "iterations_since_restore": 36, "episode_reward_mean": 593.7302004481392, "timesteps_total": 44607322, "timesteps_since_restore": 6486234, "experiment_id": "9b178520507b4656ac608c6ff2056ff7", "node_ip": "10.138.0.2", "timestamp": 1557382520, "episode_reward_min": 173.6668498300113, "done": false, "training_iteration": 336, "time_total_s": 16789.833374023438, "time_since_restore": 2546.95654463768, "policy_reward_mean": {}, "episode_len_mean": 740.5, "episodes_this_iter": 84, "timesteps_this_iter": 181272, "time_this_iter_s": 74.05229759216309, "config": {"num_workers": 60, "tf_session_args": {"device_count": {"CPU": 1}, "gpu_options": {"allow_growth": true}, "inter_op_parallelism_threads": 2, "log_device_placement": false, "allow_soft_placement": true, "intra_op_parallelism_threads": 2}, "batch_mode": "truncate_episodes", "collect_metrics_timeout": 180, "sample_batch_size": 750, "custom_resources_per_worker": {}, "vf_share_layers": false, "gamma": 0.99, "optimizer": {}, "input_evaluation": null, "num_envs_per_worker": 1, "train_batch_size": 90000, "vf_clip_param": 1000000.0, "kl_target": 0.01, "entropy_coeff": 0.0, "env_config": {"run": "PPO", "flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.3,\n            \"eta3\": 0.1,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 10.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 600,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}"}, "num_gpus_per_worker": 0, "synchronize_filters": true, "straggler_mitigation": false, "num_gpus": 0, "model": {"custom_options": {}, "custom_model": null, "custom_preprocessor": null, "squash_to_range": false, "framestack": true, "fcnet_hiddens": [128, 64, 32], "fcnet_activation": "tanh", "lstm_use_prev_action_reward": false, "grayscale": false, "conv_activation": "relu", "channel_major": false, "conv_filters": null, "dim": 84, "lstm_cell_size": 256, "use_lstm": false, "zero_mean": true, "free_log_std": false, "max_seq_len": 20}, "observation_filter": "MeanStdFilter", "use_gae": true, "log_level": "INFO", "num_sgd_iter": 10, "monitor": false, "env": "MultiWaveAttenuationMergePOEnvBufferedObs-v0no_random_eta2:0.2", "clip_param": 0.3, "lambda": 0.97, "simple_optimizer": false, "sgd_minibatch_size": 128, "num_cpus_for_driver": 1, "input": "sampler", "output": null, "horizon": 1500, "preprocessor_pref": "deepmind", "compress_observations": false, "output_compress_columns": ["obs", "new_obs"], "clip_rewards": null, "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "multiagent": {"policies_to_train": null, "policy_graphs": {}, "policy_mapping_fn": null}, "callbacks": {"on_train_result": null, "on_sample_end": null, "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7fe94dd0c908>", "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7fe94dd0cf60>", "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7fe94dd0c978>"}, "num_cpus_per_worker": 1, "kl_coeff": 0.2, "lr": 0.0005, "sample_async": false, "output_max_file_size": 67108864, "lr_schedule": null, "clip_actions": false, "vf_loss_coeff": 1.0}}
{"pid": 43700, "hostname": "flow-main", "date": "2019-05-09_06-16-31", "custom_metrics": {"cost2_min": -192.7511483707745, "cost1_max": 434.965615195772, "outflow_rate_min": 406.41593525154144, "cost2_mean": -172.5756072937167, "outflow_rate_max": 1205.0321209152596, "system_level_velocity_min": 9.31236884850968, "cost1_min": 110.86271585149134, "cost2_max": -92.77319757527059, "system_level_velocity_max": 15.873118719102518, "cost1_mean": 340.0735587798954, "system_level_velocity_mean": 12.567804751883688, "outflow_rate_mean": 1009.5204705621384}, "episodes_total": 25153, "num_metric_batches_dropped": 0, "info": {"default": {"kl": 0.015234650112688541, "entropy": 2.917098045349121, "total_loss": 27.373432159423828, "cur_kl_coeff": 0.20000003278255463, "vf_explained_var": 0.8760678172111511, "vf_loss": 27.378019332885742, "cur_lr": 0.0005000000237487257, "policy_loss": -0.007633270230144262}, "grad_time_ms": 42257.889, "update_time_ms": 11.288, "num_steps_trained": 44787337, "num_steps_sampled": 44787337, "load_time_ms": 62.229, "sample_time_ms": 28603.187}, "episode_reward_max": 762.5934201419319, "iterations_since_restore": 37, "episode_reward_mean": 588.6859204289728, "timesteps_total": 44787337, "timesteps_since_restore": 6666249, "experiment_id": "9b178520507b4656ac608c6ff2056ff7", "node_ip": "10.138.0.2", "timestamp": 1557382591, "episode_reward_min": 174.4809871610567, "done": false, "training_iteration": 337, "time_total_s": 16859.806635141373, "time_since_restore": 2616.9298057556152, "policy_reward_mean": {}, "episode_len_mean": 730.03, "episodes_this_iter": 84, "timesteps_this_iter": 180015, "time_this_iter_s": 69.97326111793518, "config": {"num_workers": 60, "tf_session_args": {"device_count": {"CPU": 1}, "gpu_options": {"allow_growth": true}, "inter_op_parallelism_threads": 2, "log_device_placement": false, "allow_soft_placement": true, "intra_op_parallelism_threads": 2}, "batch_mode": "truncate_episodes", "collect_metrics_timeout": 180, "sample_batch_size": 750, "custom_resources_per_worker": {}, "vf_share_layers": false, "gamma": 0.99, "optimizer": {}, "input_evaluation": null, "num_envs_per_worker": 1, "train_batch_size": 90000, "vf_clip_param": 1000000.0, "kl_target": 0.01, "entropy_coeff": 0.0, "env_config": {"run": "PPO", "flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.3,\n            \"eta3\": 0.1,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 10.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 600,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}"}, "num_gpus_per_worker": 0, "synchronize_filters": true, "straggler_mitigation": false, "num_gpus": 0, "model": {"custom_options": {}, "custom_model": null, "custom_preprocessor": null, "squash_to_range": false, "framestack": true, "fcnet_hiddens": [128, 64, 32], "fcnet_activation": "tanh", "lstm_use_prev_action_reward": false, "grayscale": false, "conv_activation": "relu", "channel_major": false, "conv_filters": null, "dim": 84, "lstm_cell_size": 256, "use_lstm": false, "zero_mean": true, "free_log_std": false, "max_seq_len": 20}, "observation_filter": "MeanStdFilter", "use_gae": true, "log_level": "INFO", "num_sgd_iter": 10, "monitor": false, "env": "MultiWaveAttenuationMergePOEnvBufferedObs-v0no_random_eta2:0.2", "clip_param": 0.3, "lambda": 0.97, "simple_optimizer": false, "sgd_minibatch_size": 128, "num_cpus_for_driver": 1, "input": "sampler", "output": null, "horizon": 1500, "preprocessor_pref": "deepmind", "compress_observations": false, "output_compress_columns": ["obs", "new_obs"], "clip_rewards": null, "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "multiagent": {"policies_to_train": null, "policy_graphs": {}, "policy_mapping_fn": null}, "callbacks": {"on_train_result": null, "on_sample_end": null, "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7fe94dced6a0>", "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7fe94dced7f0>", "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7fe94dd0c518>"}, "num_cpus_per_worker": 1, "kl_coeff": 0.2, "lr": 0.0005, "sample_async": false, "output_max_file_size": 67108864, "lr_schedule": null, "clip_actions": false, "vf_loss_coeff": 1.0}}
{"pid": 43700, "hostname": "flow-main", "date": "2019-05-09_06-17-40", "custom_metrics": {"cost2_min": -197.1083710141295, "cost1_max": 441.64640439222944, "outflow_rate_min": 584.3934330582662, "cost2_mean": -172.86933063857643, "outflow_rate_max": 1219.5868573673129, "system_level_velocity_min": 9.708380823367232, "cost1_min": 177.30801275267532, "cost2_max": -121.04518242863097, "system_level_velocity_max": 15.873118719102518, "cost1_mean": 342.95193919510325, "system_level_velocity_mean": 12.50284085670459, "outflow_rate_mean": 1017.4575895584504}, "episodes_total": 25237, "num_metric_batches_dropped": 0, "info": {"default": {"kl": 0.015869049355387688, "entropy": 2.9002370834350586, "total_loss": 27.124906539916992, "cur_kl_coeff": 0.20000003278255463, "vf_explained_var": 0.8774112462997437, "vf_loss": 27.129425048828125, "cur_lr": 0.0005000000237487257, "policy_loss": -0.007693295367062092}, "grad_time_ms": 42175.427, "update_time_ms": 11.287, "num_steps_trained": 44967700, "num_steps_sampled": 44967700, "load_time_ms": 62.281, "sample_time_ms": 28617.29}, "episode_reward_max": 752.2364067589724, "iterations_since_restore": 38, "episode_reward_mean": 593.9550152846165, "timesteps_total": 44967700, "timesteps_since_restore": 6846612, "experiment_id": "9b178520507b4656ac608c6ff2056ff7", "node_ip": "10.138.0.2", "timestamp": 1557382660, "episode_reward_min": 288.90734625681733, "done": false, "training_iteration": 338, "time_total_s": 16929.634682893753, "time_since_restore": 2686.7578535079956, "policy_reward_mean": {}, "episode_len_mean": 739.71, "episodes_this_iter": 84, "timesteps_this_iter": 180363, "time_this_iter_s": 69.82804775238037, "config": {"num_workers": 60, "tf_session_args": {"device_count": {"CPU": 1}, "gpu_options": {"allow_growth": true}, "inter_op_parallelism_threads": 2, "log_device_placement": false, "allow_soft_placement": true, "intra_op_parallelism_threads": 2}, "batch_mode": "truncate_episodes", "collect_metrics_timeout": 180, "sample_batch_size": 750, "custom_resources_per_worker": {}, "vf_share_layers": false, "gamma": 0.99, "optimizer": {}, "input_evaluation": null, "num_envs_per_worker": 1, "train_batch_size": 90000, "vf_clip_param": 1000000.0, "kl_target": 0.01, "entropy_coeff": 0.0, "env_config": {"run": "PPO", "flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.3,\n            \"eta3\": 0.1,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 10.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 600,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}"}, "num_gpus_per_worker": 0, "synchronize_filters": true, "straggler_mitigation": false, "num_gpus": 0, "model": {"custom_options": {}, "custom_model": null, "custom_preprocessor": null, "squash_to_range": false, "framestack": true, "fcnet_hiddens": [128, 64, 32], "fcnet_activation": "tanh", "lstm_use_prev_action_reward": false, "grayscale": false, "conv_activation": "relu", "channel_major": false, "conv_filters": null, "dim": 84, "lstm_cell_size": 256, "use_lstm": false, "zero_mean": true, "free_log_std": false, "max_seq_len": 20}, "observation_filter": "MeanStdFilter", "use_gae": true, "log_level": "INFO", "num_sgd_iter": 10, "monitor": false, "env": "MultiWaveAttenuationMergePOEnvBufferedObs-v0no_random_eta2:0.2", "clip_param": 0.3, "lambda": 0.97, "simple_optimizer": false, "sgd_minibatch_size": 128, "num_cpus_for_driver": 1, "input": "sampler", "output": null, "horizon": 1500, "preprocessor_pref": "deepmind", "compress_observations": false, "output_compress_columns": ["obs", "new_obs"], "clip_rewards": null, "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "multiagent": {"policies_to_train": null, "policy_graphs": {}, "policy_mapping_fn": null}, "callbacks": {"on_train_result": null, "on_sample_end": null, "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7fe94dd0cf98>", "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7fe94dd0c9e8>", "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7fe94dd0cc88>"}, "num_cpus_per_worker": 1, "kl_coeff": 0.2, "lr": 0.0005, "sample_async": false, "output_max_file_size": 67108864, "lr_schedule": null, "clip_actions": false, "vf_loss_coeff": 1.0}}
{"pid": 43700, "hostname": "flow-main", "date": "2019-05-09_06-18-50", "custom_metrics": {"cost2_min": -207.2991807664621, "cost1_max": 434.76923641596613, "outflow_rate_min": 433.2677600842102, "cost2_mean": -173.40428260599037, "outflow_rate_max": 1211.7765651314044, "system_level_velocity_min": 9.099664111525472, "cost1_min": 119.54271408996749, "cost2_max": -99.34023902192229, "system_level_velocity_max": 15.302851148333408, "cost1_mean": 347.52002373700265, "system_level_velocity_mean": 12.525703857292122, "outflow_rate_mean": 1030.3573099694786}, "episodes_total": 25320, "num_metric_batches_dropped": 0, "info": {"default": {"kl": 0.014819476753473282, "entropy": 2.921215057373047, "total_loss": 26.915821075439453, "cur_kl_coeff": 0.20000001788139343, "vf_explained_var": 0.8815792798995972, "vf_loss": 26.9190731048584, "cur_lr": 0.0005000000237487257, "policy_loss": -0.0062151141464710236}, "grad_time_ms": 42059.125, "update_time_ms": 11.483, "num_steps_trained": 45149836, "num_steps_sampled": 45149836, "load_time_ms": 59.563, "sample_time_ms": 28585.869}, "episode_reward_max": 737.3133706353378, "iterations_since_restore": 39, "episode_reward_mean": 599.0509622684299, "timesteps_total": 45149836, "timesteps_since_restore": 7028748, "experiment_id": "9b178520507b4656ac608c6ff2056ff7", "node_ip": "10.138.0.2", "timestamp": 1557382730, "episode_reward_min": 182.57753572206047, "done": false, "training_iteration": 339, "time_total_s": 16999.586786031723, "time_since_restore": 2756.7099566459656, "policy_reward_mean": {}, "episode_len_mean": 745.75, "episodes_this_iter": 83, "timesteps_this_iter": 182136, "time_this_iter_s": 69.95210313796997, "config": {"num_workers": 60, "tf_session_args": {"device_count": {"CPU": 1}, "gpu_options": {"allow_growth": true}, "inter_op_parallelism_threads": 2, "log_device_placement": false, "allow_soft_placement": true, "intra_op_parallelism_threads": 2}, "batch_mode": "truncate_episodes", "collect_metrics_timeout": 180, "sample_batch_size": 750, "custom_resources_per_worker": {}, "vf_share_layers": false, "gamma": 0.99, "optimizer": {}, "input_evaluation": null, "num_envs_per_worker": 1, "train_batch_size": 90000, "vf_clip_param": 1000000.0, "kl_target": 0.01, "entropy_coeff": 0.0, "env_config": {"run": "PPO", "flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.3,\n            \"eta3\": 0.1,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 10.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 600,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}"}, "num_gpus_per_worker": 0, "synchronize_filters": true, "straggler_mitigation": false, "num_gpus": 0, "model": {"custom_options": {}, "custom_model": null, "custom_preprocessor": null, "squash_to_range": false, "framestack": true, "fcnet_hiddens": [128, 64, 32], "fcnet_activation": "tanh", "lstm_use_prev_action_reward": false, "grayscale": false, "conv_activation": "relu", "channel_major": false, "conv_filters": null, "dim": 84, "lstm_cell_size": 256, "use_lstm": false, "zero_mean": true, "free_log_std": false, "max_seq_len": 20}, "observation_filter": "MeanStdFilter", "use_gae": true, "log_level": "INFO", "num_sgd_iter": 10, "monitor": false, "env": "MultiWaveAttenuationMergePOEnvBufferedObs-v0no_random_eta2:0.2", "clip_param": 0.3, "lambda": 0.97, "simple_optimizer": false, "sgd_minibatch_size": 128, "num_cpus_for_driver": 1, "input": "sampler", "output": null, "horizon": 1500, "preprocessor_pref": "deepmind", "compress_observations": false, "output_compress_columns": ["obs", "new_obs"], "clip_rewards": null, "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "multiagent": {"policies_to_train": null, "policy_graphs": {}, "policy_mapping_fn": null}, "callbacks": {"on_train_result": null, "on_sample_end": null, "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7fe94dd0c518>", "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7fe94dd0c6d8>", "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7fe94dd0cd68>"}, "num_cpus_per_worker": 1, "kl_coeff": 0.2, "lr": 0.0005, "sample_async": false, "output_max_file_size": 67108864, "lr_schedule": null, "clip_actions": false, "vf_loss_coeff": 1.0}}
{"pid": 43700, "hostname": "flow-main", "date": "2019-05-09_06-20-01", "custom_metrics": {"cost2_min": -194.44724551317427, "cost1_max": 464.90604115861436, "outflow_rate_min": 425.8682259142957, "cost2_mean": -171.52182521076497, "outflow_rate_max": 1241.2515088508671, "system_level_velocity_min": 9.099664111525472, "cost1_min": 116.53819091784838, "cost2_max": -90.41249180657803, "system_level_velocity_max": 16.355638665299708, "cost1_mean": 345.37014524404634, "system_level_velocity_mean": 12.811788588087284, "outflow_rate_mean": 1022.4762012788893}, "episodes_total": 25404, "num_metric_batches_dropped": 0, "info": {"default": {"kl": 0.016114292666316032, "entropy": 2.9136369228363037, "total_loss": 28.41292381286621, "cur_kl_coeff": 0.20000001788139343, "vf_explained_var": 0.8800415992736816, "vf_loss": 28.416738510131836, "cur_lr": 0.0005000000237487257, "policy_loss": -0.0070380717515945435}, "grad_time_ms": 42153.208, "update_time_ms": 11.349, "num_steps_trained": 45330022, "num_steps_sampled": 45330022, "load_time_ms": 56.575, "sample_time_ms": 28502.039}, "episode_reward_max": 827.7004770529496, "iterations_since_restore": 40, "episode_reward_mean": 590.8025429054906, "timesteps_total": 45330022, "timesteps_since_restore": 7208934, "experiment_id": "9b178520507b4656ac608c6ff2056ff7", "node_ip": "10.138.0.2", "timestamp": 1557382801, "episode_reward_min": 176.69931116540027, "done": false, "training_iteration": 340, "time_total_s": 17070.579652309418, "time_since_restore": 2827.7028229236603, "policy_reward_mean": {}, "episode_len_mean": 726.64, "episodes_this_iter": 84, "timesteps_this_iter": 180186, "time_this_iter_s": 70.9928662776947, "config": {"num_workers": 60, "tf_session_args": {"device_count": {"CPU": 1}, "gpu_options": {"allow_growth": true}, "inter_op_parallelism_threads": 2, "log_device_placement": false, "allow_soft_placement": true, "intra_op_parallelism_threads": 2}, "batch_mode": "truncate_episodes", "collect_metrics_timeout": 180, "sample_batch_size": 750, "custom_resources_per_worker": {}, "vf_share_layers": false, "gamma": 0.99, "optimizer": {}, "input_evaluation": null, "num_envs_per_worker": 1, "train_batch_size": 90000, "vf_clip_param": 1000000.0, "kl_target": 0.01, "entropy_coeff": 0.0, "env_config": {"run": "PPO", "flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.3,\n            \"eta3\": 0.1,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 10.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 600,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}"}, "num_gpus_per_worker": 0, "synchronize_filters": true, "straggler_mitigation": false, "num_gpus": 0, "model": {"custom_options": {}, "custom_model": null, "custom_preprocessor": null, "squash_to_range": false, "framestack": true, "fcnet_hiddens": [128, 64, 32], "fcnet_activation": "tanh", "lstm_use_prev_action_reward": false, "grayscale": false, "conv_activation": "relu", "channel_major": false, "conv_filters": null, "dim": 84, "lstm_cell_size": 256, "use_lstm": false, "zero_mean": true, "free_log_std": false, "max_seq_len": 20}, "observation_filter": "MeanStdFilter", "use_gae": true, "log_level": "INFO", "num_sgd_iter": 10, "monitor": false, "env": "MultiWaveAttenuationMergePOEnvBufferedObs-v0no_random_eta2:0.2", "clip_param": 0.3, "lambda": 0.97, "simple_optimizer": false, "sgd_minibatch_size": 128, "num_cpus_for_driver": 1, "input": "sampler", "output": null, "horizon": 1500, "preprocessor_pref": "deepmind", "compress_observations": false, "output_compress_columns": ["obs", "new_obs"], "clip_rewards": null, "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "multiagent": {"policies_to_train": null, "policy_graphs": {}, "policy_mapping_fn": null}, "callbacks": {"on_train_result": null, "on_sample_end": null, "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7fe9c6100b70>", "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7fe94dd0c320>", "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7fe94dd0ccf8>"}, "num_cpus_per_worker": 1, "kl_coeff": 0.2, "lr": 0.0005, "sample_async": false, "output_max_file_size": 67108864, "lr_schedule": null, "clip_actions": false, "vf_loss_coeff": 1.0}}
{"pid": 43700, "hostname": "flow-main", "date": "2019-05-09_06-21-12", "custom_metrics": {"cost2_min": -197.02405376207224, "cost1_max": 459.8021891739278, "outflow_rate_min": 425.0542104738818, "cost2_mean": -172.42551888797286, "outflow_rate_max": 1236.3693177937234, "system_level_velocity_min": 10.387032222305358, "cost1_min": 113.28952387093126, "cost2_max": -91.02372390010042, "system_level_velocity_max": 16.08263829745468, "cost1_mean": 341.84850813207856, "system_level_velocity_mean": 12.687755440213046, "outflow_rate_mean": 1013.3745509625663}, "episodes_total": 25491, "num_metric_batches_dropped": 0, "info": {"default": {"kl": 0.01588868908584118, "entropy": 2.9153947830200195, "total_loss": 27.440576553344727, "cur_kl_coeff": 0.20000001788139343, "vf_explained_var": 0.8810497522354126, "vf_loss": 27.444643020629883, "cur_lr": 0.0005000000237487257, "policy_loss": -0.007246709428727627}, "grad_time_ms": 42044.477, "update_time_ms": 11.381, "num_steps_trained": 45510227, "num_steps_sampled": 45510227, "load_time_ms": 51.625, "sample_time_ms": 28490.196}, "episode_reward_max": 810.2934473491476, "iterations_since_restore": 41, "episode_reward_mean": 585.5289953008262, "timesteps_total": 45510227, "timesteps_since_restore": 7389139, "experiment_id": "9b178520507b4656ac608c6ff2056ff7", "node_ip": "10.138.0.2", "timestamp": 1557382872, "episode_reward_min": 172.42124532418686, "done": false, "training_iteration": 341, "time_total_s": 17141.067414283752, "time_since_restore": 2898.190584897995, "policy_reward_mean": {}, "episode_len_mean": 726.5, "episodes_this_iter": 87, "timesteps_this_iter": 180205, "time_this_iter_s": 70.48776197433472, "config": {"num_workers": 60, "tf_session_args": {"device_count": {"CPU": 1}, "gpu_options": {"allow_growth": true}, "inter_op_parallelism_threads": 2, "log_device_placement": false, "allow_soft_placement": true, "intra_op_parallelism_threads": 2}, "batch_mode": "truncate_episodes", "collect_metrics_timeout": 180, "sample_batch_size": 750, "custom_resources_per_worker": {}, "vf_share_layers": false, "gamma": 0.99, "optimizer": {}, "input_evaluation": null, "num_envs_per_worker": 1, "train_batch_size": 90000, "vf_clip_param": 1000000.0, "kl_target": 0.01, "entropy_coeff": 0.0, "env_config": {"run": "PPO", "flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.3,\n            \"eta3\": 0.1,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 10.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 600,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}"}, "num_gpus_per_worker": 0, "synchronize_filters": true, "straggler_mitigation": false, "num_gpus": 0, "model": {"custom_options": {}, "custom_model": null, "custom_preprocessor": null, "squash_to_range": false, "framestack": true, "fcnet_hiddens": [128, 64, 32], "fcnet_activation": "tanh", "lstm_use_prev_action_reward": false, "grayscale": false, "conv_activation": "relu", "channel_major": false, "conv_filters": null, "dim": 84, "lstm_cell_size": 256, "use_lstm": false, "zero_mean": true, "free_log_std": false, "max_seq_len": 20}, "observation_filter": "MeanStdFilter", "use_gae": true, "log_level": "INFO", "num_sgd_iter": 10, "monitor": false, "env": "MultiWaveAttenuationMergePOEnvBufferedObs-v0no_random_eta2:0.2", "clip_param": 0.3, "lambda": 0.97, "simple_optimizer": false, "sgd_minibatch_size": 128, "num_cpus_for_driver": 1, "input": "sampler", "output": null, "horizon": 1500, "preprocessor_pref": "deepmind", "compress_observations": false, "output_compress_columns": ["obs", "new_obs"], "clip_rewards": null, "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "multiagent": {"policies_to_train": null, "policy_graphs": {}, "policy_mapping_fn": null}, "callbacks": {"on_train_result": null, "on_sample_end": null, "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7fe94dd0ce48>", "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7fe94dd0c7b8>", "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7fe94dd0c780>"}, "num_cpus_per_worker": 1, "kl_coeff": 0.2, "lr": 0.0005, "sample_async": false, "output_max_file_size": 67108864, "lr_schedule": null, "clip_actions": false, "vf_loss_coeff": 1.0}}
{"pid": 43700, "hostname": "flow-main", "date": "2019-05-09_06-22-23", "custom_metrics": {"cost2_min": -198.00454610198057, "cost1_max": 452.2684920466513, "outflow_rate_min": 419.65668037420284, "cost2_mean": -172.84135130607964, "outflow_rate_max": 1231.719947352223, "system_level_velocity_min": 9.557545321372613, "cost1_min": 113.39676063089883, "cost2_max": -91.02372390010042, "system_level_velocity_max": 15.916584643502256, "cost1_mean": 343.7200984369336, "system_level_velocity_mean": 12.704491517749158, "outflow_rate_mean": 1016.8674140356827}, "episodes_total": 25573, "num_metric_batches_dropped": 0, "info": {"default": {"kl": 0.01561149675399065, "entropy": 2.929945230484009, "total_loss": 25.927593231201172, "cur_kl_coeff": 0.20000001788139343, "vf_explained_var": 0.8884423971176147, "vf_loss": 25.931062698364258, "cur_lr": 0.0005000000237487257, "policy_loss": -0.006593388505280018}, "grad_time_ms": 42006.493, "update_time_ms": 11.399, "num_steps_trained": 45691643, "num_steps_sampled": 45691643, "load_time_ms": 50.255, "sample_time_ms": 28435.389}, "episode_reward_max": 793.9369904568023, "iterations_since_restore": 42, "episode_reward_mean": 591.409105754641, "timesteps_total": 45691643, "timesteps_since_restore": 7570555, "experiment_id": "9b178520507b4656ac608c6ff2056ff7", "node_ip": "10.138.0.2", "timestamp": 1557382943, "episode_reward_min": 172.42124532418686, "done": false, "training_iteration": 342, "time_total_s": 17212.02274441719, "time_since_restore": 2969.145915031433, "policy_reward_mean": {}, "episode_len_mean": 728.13, "episodes_this_iter": 82, "timesteps_this_iter": 181416, "time_this_iter_s": 70.95533013343811, "config": {"num_workers": 60, "tf_session_args": {"device_count": {"CPU": 1}, "gpu_options": {"allow_growth": true}, "inter_op_parallelism_threads": 2, "log_device_placement": false, "allow_soft_placement": true, "intra_op_parallelism_threads": 2}, "batch_mode": "truncate_episodes", "collect_metrics_timeout": 180, "sample_batch_size": 750, "custom_resources_per_worker": {}, "vf_share_layers": false, "gamma": 0.99, "optimizer": {}, "input_evaluation": null, "num_envs_per_worker": 1, "train_batch_size": 90000, "vf_clip_param": 1000000.0, "kl_target": 0.01, "entropy_coeff": 0.0, "env_config": {"run": "PPO", "flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.3,\n            \"eta3\": 0.1,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 10.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 600,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}"}, "num_gpus_per_worker": 0, "synchronize_filters": true, "straggler_mitigation": false, "num_gpus": 0, "model": {"custom_options": {}, "custom_model": null, "custom_preprocessor": null, "squash_to_range": false, "framestack": true, "fcnet_hiddens": [128, 64, 32], "fcnet_activation": "tanh", "lstm_use_prev_action_reward": false, "grayscale": false, "conv_activation": "relu", "channel_major": false, "conv_filters": null, "dim": 84, "lstm_cell_size": 256, "use_lstm": false, "zero_mean": true, "free_log_std": false, "max_seq_len": 20}, "observation_filter": "MeanStdFilter", "use_gae": true, "log_level": "INFO", "num_sgd_iter": 10, "monitor": false, "env": "MultiWaveAttenuationMergePOEnvBufferedObs-v0no_random_eta2:0.2", "clip_param": 0.3, "lambda": 0.97, "simple_optimizer": false, "sgd_minibatch_size": 128, "num_cpus_for_driver": 1, "input": "sampler", "output": null, "horizon": 1500, "preprocessor_pref": "deepmind", "compress_observations": false, "output_compress_columns": ["obs", "new_obs"], "clip_rewards": null, "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "multiagent": {"policies_to_train": null, "policy_graphs": {}, "policy_mapping_fn": null}, "callbacks": {"on_train_result": null, "on_sample_end": null, "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7fe94dd0c0b8>", "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7fe94dd0c160>", "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7fe94dd0cf60>"}, "num_cpus_per_worker": 1, "kl_coeff": 0.2, "lr": 0.0005, "sample_async": false, "output_max_file_size": 67108864, "lr_schedule": null, "clip_actions": false, "vf_loss_coeff": 1.0}}
{"pid": 43700, "hostname": "flow-main", "date": "2019-05-09_06-23-35", "custom_metrics": {"cost2_min": -201.16909288457185, "cost1_max": 448.3411556482101, "outflow_rate_min": 808.9077868019024, "cost2_mean": -177.21303545796985, "outflow_rate_max": 1231.8132198474464, "system_level_velocity_min": 8.962402644573013, "cost1_min": 245.22431955109857, "cost2_max": -154.85605734950508, "system_level_velocity_max": 15.795245820049042, "cost1_mean": 352.5625667177908, "system_level_velocity_mean": 12.589684252502428, "outflow_rate_mean": 1040.1939712329463}, "episodes_total": 25655, "num_metric_batches_dropped": 0, "info": {"default": {"kl": 0.015735290944576263, "entropy": 2.9360034465789795, "total_loss": 26.992483139038086, "cur_kl_coeff": 0.20000003278255463, "vf_explained_var": 0.8794649243354797, "vf_loss": 26.99701499938965, "cur_lr": 0.0005000000237487257, "policy_loss": -0.007678045425564051}, "grad_time_ms": 42137.011, "update_time_ms": 11.49, "num_steps_trained": 45875533, "num_steps_sampled": 45875533, "load_time_ms": 49.077, "sample_time_ms": 28425.07}, "episode_reward_max": 758.8879730577521, "iterations_since_restore": 43, "episode_reward_mean": 609.151415869354, "timesteps_total": 45875533, "timesteps_since_restore": 7754445, "experiment_id": "9b178520507b4656ac608c6ff2056ff7", "node_ip": "10.138.0.2", "timestamp": 1557383015, "episode_reward_min": 509.9896985723856, "done": false, "training_iteration": 343, "time_total_s": 17284.038222789764, "time_since_restore": 3041.161393404007, "policy_reward_mean": {}, "episode_len_mean": 751.0, "episodes_this_iter": 82, "timesteps_this_iter": 183890, "time_this_iter_s": 72.01547837257385, "config": {"num_workers": 60, "tf_session_args": {"device_count": {"CPU": 1}, "gpu_options": {"allow_growth": true}, "inter_op_parallelism_threads": 2, "log_device_placement": false, "allow_soft_placement": true, "intra_op_parallelism_threads": 2}, "batch_mode": "truncate_episodes", "collect_metrics_timeout": 180, "sample_batch_size": 750, "custom_resources_per_worker": {}, "vf_share_layers": false, "gamma": 0.99, "optimizer": {}, "input_evaluation": null, "num_envs_per_worker": 1, "train_batch_size": 90000, "vf_clip_param": 1000000.0, "kl_target": 0.01, "entropy_coeff": 0.0, "env_config": {"run": "PPO", "flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.3,\n            \"eta3\": 0.1,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 10.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 600,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}"}, "num_gpus_per_worker": 0, "synchronize_filters": true, "straggler_mitigation": false, "num_gpus": 0, "model": {"custom_options": {}, "custom_model": null, "custom_preprocessor": null, "squash_to_range": false, "framestack": true, "fcnet_hiddens": [128, 64, 32], "fcnet_activation": "tanh", "lstm_use_prev_action_reward": false, "grayscale": false, "conv_activation": "relu", "channel_major": false, "conv_filters": null, "dim": 84, "lstm_cell_size": 256, "use_lstm": false, "zero_mean": true, "free_log_std": false, "max_seq_len": 20}, "observation_filter": "MeanStdFilter", "use_gae": true, "log_level": "INFO", "num_sgd_iter": 10, "monitor": false, "env": "MultiWaveAttenuationMergePOEnvBufferedObs-v0no_random_eta2:0.2", "clip_param": 0.3, "lambda": 0.97, "simple_optimizer": false, "sgd_minibatch_size": 128, "num_cpus_for_driver": 1, "input": "sampler", "output": null, "horizon": 1500, "preprocessor_pref": "deepmind", "compress_observations": false, "output_compress_columns": ["obs", "new_obs"], "clip_rewards": null, "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "multiagent": {"policies_to_train": null, "policy_graphs": {}, "policy_mapping_fn": null}, "callbacks": {"on_train_result": null, "on_sample_end": null, "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7fe94dd04dd8>", "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7fe94dd04d30>", "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7fe94dd04a20>"}, "num_cpus_per_worker": 1, "kl_coeff": 0.2, "lr": 0.0005, "sample_async": false, "output_max_file_size": 67108864, "lr_schedule": null, "clip_actions": false, "vf_loss_coeff": 1.0}}
{"pid": 43700, "hostname": "flow-main", "date": "2019-05-09_06-24-46", "custom_metrics": {"cost2_min": -197.60775819171067, "cost1_max": 431.46687740512584, "outflow_rate_min": 812.5216762281249, "cost2_mean": -173.99586521677153, "outflow_rate_max": 1208.5767963520116, "system_level_velocity_min": 9.284321894852782, "cost1_min": 256.24265285523745, "cost2_max": -145.59784239363125, "system_level_velocity_max": 15.257983812295874, "cost1_mean": 344.3166846486818, "system_level_velocity_mean": 12.31899495192354, "outflow_rate_mean": 1022.7824313893537}, "episodes_total": 25736, "num_metric_batches_dropped": 0, "info": {"default": {"kl": 0.016220366582274437, "entropy": 2.9422595500946045, "total_loss": 26.232879638671875, "cur_kl_coeff": 0.20000003278255463, "vf_explained_var": 0.8861507177352905, "vf_loss": 26.2371883392334, "cur_lr": 0.0005000000237487257, "policy_loss": -0.0075533343479037285}, "grad_time_ms": 42143.872, "update_time_ms": 11.357, "num_steps_trained": 46056263, "num_steps_sampled": 46056263, "load_time_ms": 46.87, "sample_time_ms": 28422.043}, "episode_reward_max": 747.7794371664007, "iterations_since_restore": 44, "episode_reward_mean": 596.2412582948654, "timesteps_total": 46056263, "timesteps_since_restore": 7935175, "experiment_id": "9b178520507b4656ac608c6ff2056ff7", "node_ip": "10.138.0.2", "timestamp": 1557383086, "episode_reward_min": 511.444274382153, "done": false, "training_iteration": 344, "time_total_s": 17355.09877872467, "time_since_restore": 3112.221949338913, "policy_reward_mean": {}, "episode_len_mean": 751.0, "episodes_this_iter": 81, "timesteps_this_iter": 180730, "time_this_iter_s": 71.060555934906, "config": {"num_workers": 60, "tf_session_args": {"device_count": {"CPU": 1}, "gpu_options": {"allow_growth": true}, "inter_op_parallelism_threads": 2, "log_device_placement": false, "allow_soft_placement": true, "intra_op_parallelism_threads": 2}, "batch_mode": "truncate_episodes", "collect_metrics_timeout": 180, "sample_batch_size": 750, "custom_resources_per_worker": {}, "vf_share_layers": false, "gamma": 0.99, "optimizer": {}, "input_evaluation": null, "num_envs_per_worker": 1, "train_batch_size": 90000, "vf_clip_param": 1000000.0, "kl_target": 0.01, "entropy_coeff": 0.0, "env_config": {"run": "PPO", "flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.3,\n            \"eta3\": 0.1,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 10.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 600,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}"}, "num_gpus_per_worker": 0, "synchronize_filters": true, "straggler_mitigation": false, "num_gpus": 0, "model": {"custom_options": {}, "custom_model": null, "custom_preprocessor": null, "squash_to_range": false, "framestack": true, "fcnet_hiddens": [128, 64, 32], "fcnet_activation": "tanh", "lstm_use_prev_action_reward": false, "grayscale": false, "conv_activation": "relu", "channel_major": false, "conv_filters": null, "dim": 84, "lstm_cell_size": 256, "use_lstm": false, "zero_mean": true, "free_log_std": false, "max_seq_len": 20}, "observation_filter": "MeanStdFilter", "use_gae": true, "log_level": "INFO", "num_sgd_iter": 10, "monitor": false, "env": "MultiWaveAttenuationMergePOEnvBufferedObs-v0no_random_eta2:0.2", "clip_param": 0.3, "lambda": 0.97, "simple_optimizer": false, "sgd_minibatch_size": 128, "num_cpus_for_driver": 1, "input": "sampler", "output": null, "horizon": 1500, "preprocessor_pref": "deepmind", "compress_observations": false, "output_compress_columns": ["obs", "new_obs"], "clip_rewards": null, "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "multiagent": {"policies_to_train": null, "policy_graphs": {}, "policy_mapping_fn": null}, "callbacks": {"on_train_result": null, "on_sample_end": null, "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7fe94dd0ca20>", "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7fe94dd0c9b0>", "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7fe94dd0ca90>"}, "num_cpus_per_worker": 1, "kl_coeff": 0.2, "lr": 0.0005, "sample_async": false, "output_max_file_size": 67108864, "lr_schedule": null, "clip_actions": false, "vf_loss_coeff": 1.0}}
{"pid": 43700, "hostname": "flow-main", "date": "2019-05-09_06-25-59", "custom_metrics": {"cost2_min": -205.4692952545054, "cost1_max": 463.4203995665455, "outflow_rate_min": 870.1373265824096, "cost2_mean": -175.9955169831893, "outflow_rate_max": 1248.154566971694, "system_level_velocity_min": 10.588521488459046, "cost1_min": 291.8910378039349, "cost2_max": -148.61404787388983, "system_level_velocity_max": 16.293396162246996, "cost1_mean": 353.1933817661463, "system_level_velocity_mean": 12.630761585966347, "outflow_rate_mean": 1042.1193226627367}, "episodes_total": 25818, "num_metric_batches_dropped": 0, "info": {"default": {"kl": 0.015373785980045795, "entropy": 2.936099052429199, "total_loss": 26.910573959350586, "cur_kl_coeff": 0.20000001788139343, "vf_explained_var": 0.884990394115448, "vf_loss": 26.914443969726562, "cur_lr": 0.0005000000237487257, "policy_loss": -0.006943889893591404}, "grad_time_ms": 42268.483, "update_time_ms": 11.305, "num_steps_trained": 46238079, "num_steps_sampled": 46238079, "load_time_ms": 46.732, "sample_time_ms": 28502.962}, "episode_reward_max": 801.1446318191374, "iterations_since_restore": 45, "episode_reward_mean": 603.1234622169121, "timesteps_total": 46238079, "timesteps_since_restore": 8116991, "experiment_id": "9b178520507b4656ac608c6ff2056ff7", "node_ip": "10.138.0.2", "timestamp": 1557383159, "episode_reward_min": 519.2203869979483, "done": false, "training_iteration": 345, "time_total_s": 17427.543384075165, "time_since_restore": 3184.6665546894073, "policy_reward_mean": {}, "episode_len_mean": 751.0, "episodes_this_iter": 82, "timesteps_this_iter": 181816, "time_this_iter_s": 72.44460535049438, "config": {"num_workers": 60, "tf_session_args": {"device_count": {"CPU": 1}, "gpu_options": {"allow_growth": true}, "inter_op_parallelism_threads": 2, "log_device_placement": false, "allow_soft_placement": true, "intra_op_parallelism_threads": 2}, "batch_mode": "truncate_episodes", "collect_metrics_timeout": 180, "sample_batch_size": 750, "custom_resources_per_worker": {}, "vf_share_layers": false, "gamma": 0.99, "optimizer": {}, "input_evaluation": null, "num_envs_per_worker": 1, "train_batch_size": 90000, "vf_clip_param": 1000000.0, "kl_target": 0.01, "entropy_coeff": 0.0, "env_config": {"run": "PPO", "flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.3,\n            \"eta3\": 0.1,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 10.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 600,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}"}, "num_gpus_per_worker": 0, "synchronize_filters": true, "straggler_mitigation": false, "num_gpus": 0, "model": {"custom_options": {}, "custom_model": null, "custom_preprocessor": null, "squash_to_range": false, "framestack": true, "fcnet_hiddens": [128, 64, 32], "fcnet_activation": "tanh", "lstm_use_prev_action_reward": false, "grayscale": false, "conv_activation": "relu", "channel_major": false, "conv_filters": null, "dim": 84, "lstm_cell_size": 256, "use_lstm": false, "zero_mean": true, "free_log_std": false, "max_seq_len": 20}, "observation_filter": "MeanStdFilter", "use_gae": true, "log_level": "INFO", "num_sgd_iter": 10, "monitor": false, "env": "MultiWaveAttenuationMergePOEnvBufferedObs-v0no_random_eta2:0.2", "clip_param": 0.3, "lambda": 0.97, "simple_optimizer": false, "sgd_minibatch_size": 128, "num_cpus_for_driver": 1, "input": "sampler", "output": null, "horizon": 1500, "preprocessor_pref": "deepmind", "compress_observations": false, "output_compress_columns": ["obs", "new_obs"], "clip_rewards": null, "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "multiagent": {"policies_to_train": null, "policy_graphs": {}, "policy_mapping_fn": null}, "callbacks": {"on_train_result": null, "on_sample_end": null, "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7fe94dd0c940>", "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7fe94dd0ccc0>", "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7fe94dd0ce48>"}, "num_cpus_per_worker": 1, "kl_coeff": 0.2, "lr": 0.0005, "sample_async": false, "output_max_file_size": 67108864, "lr_schedule": null, "clip_actions": false, "vf_loss_coeff": 1.0}}
{"pid": 43700, "hostname": "flow-main", "date": "2019-05-09_06-27-10", "custom_metrics": {"cost2_min": -198.64897420183505, "cost1_max": 469.465249789748, "outflow_rate_min": 437.7397691821321, "cost2_mean": -172.33779207568944, "outflow_rate_max": 1246.1456289853681, "system_level_velocity_min": 10.909242788900757, "cost1_min": 116.16783821525577, "cost2_max": -88.78624257472065, "system_level_velocity_max": 16.407873955109423, "cost1_mean": 345.3021599365287, "system_level_velocity_mean": 12.55162228291779, "outflow_rate_mean": 1023.8988506300683}, "episodes_total": 25902, "num_metric_batches_dropped": 0, "info": {"default": {"kl": 0.01555943675339222, "entropy": 2.9392144680023193, "total_loss": 26.953523635864258, "cur_kl_coeff": 0.20000001788139343, "vf_explained_var": 0.8872135877609253, "vf_loss": 26.957988739013672, "cur_lr": 0.0005000000237487257, "policy_loss": -0.0075773815624415874}, "grad_time_ms": 42009.098, "update_time_ms": 11.231, "num_steps_trained": 46418911, "num_steps_sampled": 46418911, "load_time_ms": 43.727, "sample_time_ms": 28443.564}, "episode_reward_max": 841.1773703495087, "iterations_since_restore": 46, "episode_reward_mean": 591.852318396348, "timesteps_total": 46418911, "timesteps_since_restore": 8297823, "experiment_id": "9b178520507b4656ac608c6ff2056ff7", "node_ip": "10.138.0.2", "timestamp": 1557383230, "episode_reward_min": 179.23971904002627, "done": false, "training_iteration": 346, "time_total_s": 17498.368674993515, "time_since_restore": 3255.4918456077576, "policy_reward_mean": {}, "episode_len_mean": 740.5, "episodes_this_iter": 84, "timesteps_this_iter": 180832, "time_this_iter_s": 70.82529091835022, "config": {"num_workers": 60, "tf_session_args": {"device_count": {"CPU": 1}, "gpu_options": {"allow_growth": true}, "inter_op_parallelism_threads": 2, "log_device_placement": false, "allow_soft_placement": true, "intra_op_parallelism_threads": 2}, "batch_mode": "truncate_episodes", "collect_metrics_timeout": 180, "sample_batch_size": 750, "custom_resources_per_worker": {}, "vf_share_layers": false, "gamma": 0.99, "optimizer": {}, "input_evaluation": null, "num_envs_per_worker": 1, "train_batch_size": 90000, "vf_clip_param": 1000000.0, "kl_target": 0.01, "entropy_coeff": 0.0, "env_config": {"run": "PPO", "flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.3,\n            \"eta3\": 0.1,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 10.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 600,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}"}, "num_gpus_per_worker": 0, "synchronize_filters": true, "straggler_mitigation": false, "num_gpus": 0, "model": {"custom_options": {}, "custom_model": null, "custom_preprocessor": null, "squash_to_range": false, "framestack": true, "fcnet_hiddens": [128, 64, 32], "fcnet_activation": "tanh", "lstm_use_prev_action_reward": false, "grayscale": false, "conv_activation": "relu", "channel_major": false, "conv_filters": null, "dim": 84, "lstm_cell_size": 256, "use_lstm": false, "zero_mean": true, "free_log_std": false, "max_seq_len": 20}, "observation_filter": "MeanStdFilter", "use_gae": true, "log_level": "INFO", "num_sgd_iter": 10, "monitor": false, "env": "MultiWaveAttenuationMergePOEnvBufferedObs-v0no_random_eta2:0.2", "clip_param": 0.3, "lambda": 0.97, "simple_optimizer": false, "sgd_minibatch_size": 128, "num_cpus_for_driver": 1, "input": "sampler", "output": null, "horizon": 1500, "preprocessor_pref": "deepmind", "compress_observations": false, "output_compress_columns": ["obs", "new_obs"], "clip_rewards": null, "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "multiagent": {"policies_to_train": null, "policy_graphs": {}, "policy_mapping_fn": null}, "callbacks": {"on_train_result": null, "on_sample_end": null, "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7fe94dd04d30>", "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7fe94dd0cb00>", "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7fe94dd0ccf8>"}, "num_cpus_per_worker": 1, "kl_coeff": 0.2, "lr": 0.0005, "sample_async": false, "output_max_file_size": 67108864, "lr_schedule": null, "clip_actions": false, "vf_loss_coeff": 1.0}}
{"pid": 43700, "hostname": "flow-main", "date": "2019-05-09_06-28-20", "custom_metrics": {"cost2_min": -195.68821176792966, "cost1_max": 442.9855344679718, "outflow_rate_min": 889.3948839983398, "cost2_mean": -173.59789778056643, "outflow_rate_max": 1224.679675234489, "system_level_velocity_min": 10.642734549663686, "cost1_min": 298.4761975122997, "cost2_max": -142.97386594795307, "system_level_velocity_max": 15.599234024219568, "cost1_mean": 355.58647909635727, "system_level_velocity_mean": 12.71645044300368, "outflow_rate_mean": 1047.5174456267919}, "episodes_total": 25984, "num_metric_batches_dropped": 0, "info": {"default": {"kl": 0.014856338500976562, "entropy": 2.9453847408294678, "total_loss": 27.560749053955078, "cur_kl_coeff": 0.20000003278255463, "vf_explained_var": 0.8806295990943909, "vf_loss": 27.565534591674805, "cur_lr": 0.0005000000237487257, "policy_loss": -0.007756428327411413}, "grad_time_ms": 42044.642, "update_time_ms": 11.137, "num_steps_trained": 46599171, "num_steps_sampled": 46599171, "load_time_ms": 45.38, "sample_time_ms": 28433.132}, "episode_reward_max": 760.8419886206652, "iterations_since_restore": 47, "episode_reward_mean": 613.3173507496375, "timesteps_total": 46599171, "timesteps_since_restore": 8478083, "experiment_id": "9b178520507b4656ac608c6ff2056ff7", "node_ip": "10.138.0.2", "timestamp": 1557383300, "episode_reward_min": 536.333422124919, "done": false, "training_iteration": 347, "time_total_s": 17568.606308698654, "time_since_restore": 3325.7294793128967, "policy_reward_mean": {}, "episode_len_mean": 751.0, "episodes_this_iter": 82, "timesteps_this_iter": 180260, "time_this_iter_s": 70.23763370513916, "config": {"num_workers": 60, "tf_session_args": {"device_count": {"CPU": 1}, "gpu_options": {"allow_growth": true}, "inter_op_parallelism_threads": 2, "log_device_placement": false, "allow_soft_placement": true, "intra_op_parallelism_threads": 2}, "batch_mode": "truncate_episodes", "collect_metrics_timeout": 180, "sample_batch_size": 750, "custom_resources_per_worker": {}, "vf_share_layers": false, "gamma": 0.99, "optimizer": {}, "input_evaluation": null, "num_envs_per_worker": 1, "train_batch_size": 90000, "vf_clip_param": 1000000.0, "kl_target": 0.01, "entropy_coeff": 0.0, "env_config": {"run": "PPO", "flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.3,\n            \"eta3\": 0.1,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 10.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 600,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}"}, "num_gpus_per_worker": 0, "synchronize_filters": true, "straggler_mitigation": false, "num_gpus": 0, "model": {"custom_options": {}, "custom_model": null, "custom_preprocessor": null, "squash_to_range": false, "framestack": true, "fcnet_hiddens": [128, 64, 32], "fcnet_activation": "tanh", "lstm_use_prev_action_reward": false, "grayscale": false, "conv_activation": "relu", "channel_major": false, "conv_filters": null, "dim": 84, "lstm_cell_size": 256, "use_lstm": false, "zero_mean": true, "free_log_std": false, "max_seq_len": 20}, "observation_filter": "MeanStdFilter", "use_gae": true, "log_level": "INFO", "num_sgd_iter": 10, "monitor": false, "env": "MultiWaveAttenuationMergePOEnvBufferedObs-v0no_random_eta2:0.2", "clip_param": 0.3, "lambda": 0.97, "simple_optimizer": false, "sgd_minibatch_size": 128, "num_cpus_for_driver": 1, "input": "sampler", "output": null, "horizon": 1500, "preprocessor_pref": "deepmind", "compress_observations": false, "output_compress_columns": ["obs", "new_obs"], "clip_rewards": null, "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "multiagent": {"policies_to_train": null, "policy_graphs": {}, "policy_mapping_fn": null}, "callbacks": {"on_train_result": null, "on_sample_end": null, "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7fe94dd0ceb8>", "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7fe94dd0c7b8>", "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7fe94dd0c710>"}, "num_cpus_per_worker": 1, "kl_coeff": 0.2, "lr": 0.0005, "sample_async": false, "output_max_file_size": 67108864, "lr_schedule": null, "clip_actions": false, "vf_loss_coeff": 1.0}}
{"pid": 43700, "hostname": "flow-main", "date": "2019-05-09_06-29-30", "custom_metrics": {"cost2_min": -203.82077008268215, "cost1_max": 465.333290684601, "outflow_rate_min": 439.75434721985084, "cost2_mean": -172.4465582426093, "outflow_rate_max": 1245.1974128691056, "system_level_velocity_min": 10.997545573928342, "cost1_min": 118.1866467090884, "cost2_max": -93.62601969126959, "system_level_velocity_max": 16.374344808286818, "cost1_mean": 344.99995528619297, "system_level_velocity_mean": 12.680459752478617, "outflow_rate_mean": 1018.5861292166344}, "episodes_total": 26069, "num_metric_batches_dropped": 0, "info": {"default": {"kl": 0.015308285132050514, "entropy": 2.951176643371582, "total_loss": 28.461563110351562, "cur_kl_coeff": 0.20000003278255463, "vf_explained_var": 0.8821545839309692, "vf_loss": 28.4649600982666, "cur_lr": 0.0005000000237487257, "policy_loss": -0.006455930415540934}, "grad_time_ms": 42006.797, "update_time_ms": 11.278, "num_steps_trained": 46779797, "num_steps_sampled": 46779797, "load_time_ms": 45.046, "sample_time_ms": 28462.599}, "episode_reward_max": 827.9881937412738, "iterations_since_restore": 48, "episode_reward_mean": 594.057471523881, "timesteps_total": 46779797, "timesteps_since_restore": 8658709, "experiment_id": "9b178520507b4656ac608c6ff2056ff7", "node_ip": "10.138.0.2", "timestamp": 1557383370, "episode_reward_min": 182.3935047871354, "done": false, "training_iteration": 348, "time_total_s": 17638.366985797882, "time_since_restore": 3395.4901564121246, "policy_reward_mean": {}, "episode_len_mean": 733.89, "episodes_this_iter": 85, "timesteps_this_iter": 180626, "time_this_iter_s": 69.7606770992279, "config": {"num_workers": 60, "tf_session_args": {"device_count": {"CPU": 1}, "gpu_options": {"allow_growth": true}, "inter_op_parallelism_threads": 2, "log_device_placement": false, "allow_soft_placement": true, "intra_op_parallelism_threads": 2}, "batch_mode": "truncate_episodes", "collect_metrics_timeout": 180, "sample_batch_size": 750, "custom_resources_per_worker": {}, "vf_share_layers": false, "gamma": 0.99, "optimizer": {}, "input_evaluation": null, "num_envs_per_worker": 1, "train_batch_size": 90000, "vf_clip_param": 1000000.0, "kl_target": 0.01, "entropy_coeff": 0.0, "env_config": {"run": "PPO", "flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.3,\n            \"eta3\": 0.1,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 10.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 600,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}"}, "num_gpus_per_worker": 0, "synchronize_filters": true, "straggler_mitigation": false, "num_gpus": 0, "model": {"custom_options": {}, "custom_model": null, "custom_preprocessor": null, "squash_to_range": false, "framestack": true, "fcnet_hiddens": [128, 64, 32], "fcnet_activation": "tanh", "lstm_use_prev_action_reward": false, "grayscale": false, "conv_activation": "relu", "channel_major": false, "conv_filters": null, "dim": 84, "lstm_cell_size": 256, "use_lstm": false, "zero_mean": true, "free_log_std": false, "max_seq_len": 20}, "observation_filter": "MeanStdFilter", "use_gae": true, "log_level": "INFO", "num_sgd_iter": 10, "monitor": false, "env": "MultiWaveAttenuationMergePOEnvBufferedObs-v0no_random_eta2:0.2", "clip_param": 0.3, "lambda": 0.97, "simple_optimizer": false, "sgd_minibatch_size": 128, "num_cpus_for_driver": 1, "input": "sampler", "output": null, "horizon": 1500, "preprocessor_pref": "deepmind", "compress_observations": false, "output_compress_columns": ["obs", "new_obs"], "clip_rewards": null, "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "multiagent": {"policies_to_train": null, "policy_graphs": {}, "policy_mapping_fn": null}, "callbacks": {"on_train_result": null, "on_sample_end": null, "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7fe94dd0c7f0>", "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7fe94dd0c2b0>", "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7fe94dd0c8d0>"}, "num_cpus_per_worker": 1, "kl_coeff": 0.2, "lr": 0.0005, "sample_async": false, "output_max_file_size": 67108864, "lr_schedule": null, "clip_actions": false, "vf_loss_coeff": 1.0}}
{"pid": 43700, "hostname": "flow-main", "date": "2019-05-09_06-30-42", "custom_metrics": {"cost2_min": -199.82528951951213, "cost1_max": 462.428062738143, "outflow_rate_min": 447.59006063883197, "cost2_mean": -172.04504219177437, "outflow_rate_max": 1248.407052323104, "system_level_velocity_min": 10.865688685139274, "cost1_min": 119.80098737117567, "cost2_max": -98.14296669444838, "system_level_velocity_max": 16.332725656366115, "cost1_mean": 344.1612411938412, "system_level_velocity_mean": 12.55441444213491, "outflow_rate_mean": 1020.5193112192554}, "episodes_total": 26153, "num_metric_batches_dropped": 0, "info": {"default": {"kl": 0.015541428700089455, "entropy": 2.956674575805664, "total_loss": 28.307477951049805, "cur_kl_coeff": 0.20000001788139343, "vf_explained_var": 0.8830885887145996, "vf_loss": 28.311508178710938, "cur_lr": 0.0005000000237487257, "policy_loss": -0.0071387761272490025}, "grad_time_ms": 42242.328, "update_time_ms": 11.333, "num_steps_trained": 46960014, "num_steps_sampled": 46960014, "load_time_ms": 46.052, "sample_time_ms": 28466.123}, "episode_reward_max": 803.5444751466139, "iterations_since_restore": 49, "episode_reward_mean": 594.9801087357932, "timesteps_total": 46960014, "timesteps_since_restore": 8838926, "experiment_id": "9b178520507b4656ac608c6ff2056ff7", "node_ip": "10.138.0.2", "timestamp": 1557383442, "episode_reward_min": 180.41036358343698, "done": false, "training_iteration": 349, "time_total_s": 17710.689831495285, "time_since_restore": 3467.8130021095276, "policy_reward_mean": {}, "episode_len_mean": 739.01, "episodes_this_iter": 84, "timesteps_this_iter": 180217, "time_this_iter_s": 72.32284569740295, "config": {"num_workers": 60, "tf_session_args": {"device_count": {"CPU": 1}, "gpu_options": {"allow_growth": true}, "inter_op_parallelism_threads": 2, "log_device_placement": false, "allow_soft_placement": true, "intra_op_parallelism_threads": 2}, "batch_mode": "truncate_episodes", "collect_metrics_timeout": 180, "sample_batch_size": 750, "custom_resources_per_worker": {}, "vf_share_layers": false, "gamma": 0.99, "optimizer": {}, "input_evaluation": null, "num_envs_per_worker": 1, "train_batch_size": 90000, "vf_clip_param": 1000000.0, "kl_target": 0.01, "entropy_coeff": 0.0, "env_config": {"run": "PPO", "flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.3,\n            \"eta3\": 0.1,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 10.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 600,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}"}, "num_gpus_per_worker": 0, "synchronize_filters": true, "straggler_mitigation": false, "num_gpus": 0, "model": {"custom_options": {}, "custom_model": null, "custom_preprocessor": null, "squash_to_range": false, "framestack": true, "fcnet_hiddens": [128, 64, 32], "fcnet_activation": "tanh", "lstm_use_prev_action_reward": false, "grayscale": false, "conv_activation": "relu", "channel_major": false, "conv_filters": null, "dim": 84, "lstm_cell_size": 256, "use_lstm": false, "zero_mean": true, "free_log_std": false, "max_seq_len": 20}, "observation_filter": "MeanStdFilter", "use_gae": true, "log_level": "INFO", "num_sgd_iter": 10, "monitor": false, "env": "MultiWaveAttenuationMergePOEnvBufferedObs-v0no_random_eta2:0.2", "clip_param": 0.3, "lambda": 0.97, "simple_optimizer": false, "sgd_minibatch_size": 128, "num_cpus_for_driver": 1, "input": "sampler", "output": null, "horizon": 1500, "preprocessor_pref": "deepmind", "compress_observations": false, "output_compress_columns": ["obs", "new_obs"], "clip_rewards": null, "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "multiagent": {"policies_to_train": null, "policy_graphs": {}, "policy_mapping_fn": null}, "callbacks": {"on_train_result": null, "on_sample_end": null, "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7fe94dd0c7b8>", "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7fe94dd0ceb8>", "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7fe94dd0c470>"}, "num_cpus_per_worker": 1, "kl_coeff": 0.2, "lr": 0.0005, "sample_async": false, "output_max_file_size": 67108864, "lr_schedule": null, "clip_actions": false, "vf_loss_coeff": 1.0}}
{"pid": 43700, "hostname": "flow-main", "date": "2019-05-09_06-31-52", "custom_metrics": {"cost2_min": -198.56332951447615, "cost1_max": 463.9506714119836, "outflow_rate_min": 856.8084530179657, "cost2_mean": -174.41349976979174, "outflow_rate_max": 1245.640218850077, "system_level_velocity_min": 10.734200855034764, "cost1_min": 294.90105583228654, "cost2_max": -144.86619371432923, "system_level_velocity_max": 16.273331350143643, "cost1_mean": 351.86781426361557, "system_level_velocity_mean": 12.578125301338826, "outflow_rate_mean": 1040.6414627334752}, "episodes_total": 26234, "num_metric_batches_dropped": 0, "info": {"default": {"kl": 0.015242206864058971, "entropy": 2.9699323177337646, "total_loss": 26.51740074157715, "cur_kl_coeff": 0.20000001788139343, "vf_explained_var": 0.8870294690132141, "vf_loss": 26.521699905395508, "cur_lr": 0.0005000000237487257, "policy_loss": -0.007346844766288996}, "grad_time_ms": 42029.462, "update_time_ms": 11.416, "num_steps_trained": 47140868, "num_steps_sampled": 47140868, "load_time_ms": 47.417, "sample_time_ms": 28594.364}, "episode_reward_max": 805.5988169480596, "iterations_since_restore": 50, "episode_reward_mean": 603.3532527410921, "timesteps_total": 47140868, "timesteps_since_restore": 9019780, "experiment_id": "9b178520507b4656ac608c6ff2056ff7", "node_ip": "10.138.0.2", "timestamp": 1557383512, "episode_reward_min": 529.9943718409846, "done": false, "training_iteration": 350, "time_total_s": 17780.853523254395, "time_since_restore": 3537.976693868637, "policy_reward_mean": {}, "episode_len_mean": 751.0, "episodes_this_iter": 81, "timesteps_this_iter": 180854, "time_this_iter_s": 70.1636917591095, "config": {"num_workers": 60, "tf_session_args": {"device_count": {"CPU": 1}, "gpu_options": {"allow_growth": true}, "inter_op_parallelism_threads": 2, "log_device_placement": false, "allow_soft_placement": true, "intra_op_parallelism_threads": 2}, "batch_mode": "truncate_episodes", "collect_metrics_timeout": 180, "sample_batch_size": 750, "custom_resources_per_worker": {}, "vf_share_layers": false, "gamma": 0.99, "optimizer": {}, "input_evaluation": null, "num_envs_per_worker": 1, "train_batch_size": 90000, "vf_clip_param": 1000000.0, "kl_target": 0.01, "entropy_coeff": 0.0, "env_config": {"run": "PPO", "flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.3,\n            \"eta3\": 0.1,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 10.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 600,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}"}, "num_gpus_per_worker": 0, "synchronize_filters": true, "straggler_mitigation": false, "num_gpus": 0, "model": {"custom_options": {}, "custom_model": null, "custom_preprocessor": null, "squash_to_range": false, "framestack": true, "fcnet_hiddens": [128, 64, 32], "fcnet_activation": "tanh", "lstm_use_prev_action_reward": false, "grayscale": false, "conv_activation": "relu", "channel_major": false, "conv_filters": null, "dim": 84, "lstm_cell_size": 256, "use_lstm": false, "zero_mean": true, "free_log_std": false, "max_seq_len": 20}, "observation_filter": "MeanStdFilter", "use_gae": true, "log_level": "INFO", "num_sgd_iter": 10, "monitor": false, "env": "MultiWaveAttenuationMergePOEnvBufferedObs-v0no_random_eta2:0.2", "clip_param": 0.3, "lambda": 0.97, "simple_optimizer": false, "sgd_minibatch_size": 128, "num_cpus_for_driver": 1, "input": "sampler", "output": null, "horizon": 1500, "preprocessor_pref": "deepmind", "compress_observations": false, "output_compress_columns": ["obs", "new_obs"], "clip_rewards": null, "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "multiagent": {"policies_to_train": null, "policy_graphs": {}, "policy_mapping_fn": null}, "callbacks": {"on_train_result": null, "on_sample_end": null, "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7fe94dd0ca58>", "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7fe94dd0cba8>", "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7fe94dd0c978>"}, "num_cpus_per_worker": 1, "kl_coeff": 0.2, "lr": 0.0005, "sample_async": false, "output_max_file_size": 67108864, "lr_schedule": null, "clip_actions": false, "vf_loss_coeff": 1.0}}
{"pid": 43700, "hostname": "flow-main", "date": "2019-05-09_06-33-03", "custom_metrics": {"cost2_min": -195.77582117377872, "cost1_max": 445.27337871949163, "outflow_rate_min": 432.46895985759113, "cost2_mean": -172.04175565383014, "outflow_rate_max": 1226.3652466632075, "system_level_velocity_min": 10.48080892203266, "cost1_min": 113.22217186848188, "cost2_max": -93.00757244432617, "system_level_velocity_max": 15.640173462854335, "cost1_mean": 347.60672528631653, "system_level_velocity_mean": 12.531183191873486, "outflow_rate_mean": 1029.3648265209354}, "episodes_total": 26317, "num_metric_batches_dropped": 0, "info": {"default": {"kl": 0.01648428477346897, "entropy": 2.9734902381896973, "total_loss": 26.926258087158203, "cur_kl_coeff": 0.20000003278255463, "vf_explained_var": 0.8828790783882141, "vf_loss": 26.930723190307617, "cur_lr": 0.0005000000237487257, "policy_loss": -0.0077656228095293045}, "grad_time_ms": 42027.658, "update_time_ms": 11.108, "num_steps_trained": 47322617, "num_steps_sampled": 47322617, "load_time_ms": 50.165, "sample_time_ms": 28554.142}, "episode_reward_max": 758.1462143278117, "iterations_since_restore": 51, "episode_reward_mean": 600.574237775715, "timesteps_total": 47322617, "timesteps_since_restore": 9201529, "experiment_id": "9b178520507b4656ac608c6ff2056ff7", "node_ip": "10.138.0.2", "timestamp": 1557383583, "episode_reward_min": 169.443406810415, "done": false, "training_iteration": 351, "time_total_s": 17850.941683530807, "time_since_restore": 3608.06485414505, "policy_reward_mean": {}, "episode_len_mean": 745.67, "episodes_this_iter": 83, "timesteps_this_iter": 181749, "time_this_iter_s": 70.08816027641296, "config": {"num_workers": 60, "tf_session_args": {"device_count": {"CPU": 1}, "gpu_options": {"allow_growth": true}, "inter_op_parallelism_threads": 2, "log_device_placement": false, "allow_soft_placement": true, "intra_op_parallelism_threads": 2}, "batch_mode": "truncate_episodes", "collect_metrics_timeout": 180, "sample_batch_size": 750, "custom_resources_per_worker": {}, "vf_share_layers": false, "gamma": 0.99, "optimizer": {}, "input_evaluation": null, "num_envs_per_worker": 1, "train_batch_size": 90000, "vf_clip_param": 1000000.0, "kl_target": 0.01, "entropy_coeff": 0.0, "env_config": {"run": "PPO", "flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.3,\n            \"eta3\": 0.1,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 10.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 600,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}"}, "num_gpus_per_worker": 0, "synchronize_filters": true, "straggler_mitigation": false, "num_gpus": 0, "model": {"custom_options": {}, "custom_model": null, "custom_preprocessor": null, "squash_to_range": false, "framestack": true, "fcnet_hiddens": [128, 64, 32], "fcnet_activation": "tanh", "lstm_use_prev_action_reward": false, "grayscale": false, "conv_activation": "relu", "channel_major": false, "conv_filters": null, "dim": 84, "lstm_cell_size": 256, "use_lstm": false, "zero_mean": true, "free_log_std": false, "max_seq_len": 20}, "observation_filter": "MeanStdFilter", "use_gae": true, "log_level": "INFO", "num_sgd_iter": 10, "monitor": false, "env": "MultiWaveAttenuationMergePOEnvBufferedObs-v0no_random_eta2:0.2", "clip_param": 0.3, "lambda": 0.97, "simple_optimizer": false, "sgd_minibatch_size": 128, "num_cpus_for_driver": 1, "input": "sampler", "output": null, "horizon": 1500, "preprocessor_pref": "deepmind", "compress_observations": false, "output_compress_columns": ["obs", "new_obs"], "clip_rewards": null, "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "multiagent": {"policies_to_train": null, "policy_graphs": {}, "policy_mapping_fn": null}, "callbacks": {"on_train_result": null, "on_sample_end": null, "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7fe94dd0cb00>", "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7fe94dd0ceb8>", "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7fe94dd0c7b8>"}, "num_cpus_per_worker": 1, "kl_coeff": 0.2, "lr": 0.0005, "sample_async": false, "output_max_file_size": 67108864, "lr_schedule": null, "clip_actions": false, "vf_loss_coeff": 1.0}}
{"pid": 43700, "hostname": "flow-main", "date": "2019-05-09_06-34-14", "custom_metrics": {"cost2_min": -203.17808560471497, "cost1_max": 445.27337871949163, "outflow_rate_min": 432.46895985759113, "cost2_mean": -173.2107253179864, "outflow_rate_max": 1226.3652466632075, "system_level_velocity_min": 11.103131002353074, "cost1_min": 113.22217186848188, "cost2_max": -93.00757244432617, "system_level_velocity_max": 15.640173462854335, "cost1_mean": 348.9125602782549, "system_level_velocity_mean": 12.574721998696516, "outflow_rate_mean": 1033.4641018015564}, "episodes_total": 26398, "num_metric_batches_dropped": 0, "info": {"default": {"kl": 0.016782023012638092, "entropy": 2.9812793731689453, "total_loss": 25.843334197998047, "cur_kl_coeff": 0.20000001788139343, "vf_explained_var": 0.887756884098053, "vf_loss": 25.84792709350586, "cur_lr": 0.0005000000237487257, "policy_loss": -0.00795062817633152}, "grad_time_ms": 42009.154, "update_time_ms": 11.039, "num_steps_trained": 47503473, "num_steps_sampled": 47503473, "load_time_ms": 50.868, "sample_time_ms": 28612.632}, "episode_reward_max": 758.1462143278117, "iterations_since_restore": 52, "episode_reward_mean": 599.0490818319743, "timesteps_total": 47503473, "timesteps_since_restore": 9382385, "experiment_id": "9b178520507b4656ac608c6ff2056ff7", "node_ip": "10.138.0.2", "timestamp": 1557383654, "episode_reward_min": 169.443406810415, "done": false, "training_iteration": 352, "time_total_s": 17922.30151462555, "time_since_restore": 3679.424685239792, "policy_reward_mean": {}, "episode_len_mean": 745.67, "episodes_this_iter": 81, "timesteps_this_iter": 180856, "time_this_iter_s": 71.35983109474182, "config": {"num_workers": 60, "tf_session_args": {"device_count": {"CPU": 1}, "gpu_options": {"allow_growth": true}, "inter_op_parallelism_threads": 2, "log_device_placement": false, "allow_soft_placement": true, "intra_op_parallelism_threads": 2}, "batch_mode": "truncate_episodes", "collect_metrics_timeout": 180, "sample_batch_size": 750, "custom_resources_per_worker": {}, "vf_share_layers": false, "gamma": 0.99, "optimizer": {}, "input_evaluation": null, "num_envs_per_worker": 1, "train_batch_size": 90000, "vf_clip_param": 1000000.0, "kl_target": 0.01, "entropy_coeff": 0.0, "env_config": {"run": "PPO", "flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.3,\n            \"eta3\": 0.1,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 10.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 600,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}"}, "num_gpus_per_worker": 0, "synchronize_filters": true, "straggler_mitigation": false, "num_gpus": 0, "model": {"custom_options": {}, "custom_model": null, "custom_preprocessor": null, "squash_to_range": false, "framestack": true, "fcnet_hiddens": [128, 64, 32], "fcnet_activation": "tanh", "lstm_use_prev_action_reward": false, "grayscale": false, "conv_activation": "relu", "channel_major": false, "conv_filters": null, "dim": 84, "lstm_cell_size": 256, "use_lstm": false, "zero_mean": true, "free_log_std": false, "max_seq_len": 20}, "observation_filter": "MeanStdFilter", "use_gae": true, "log_level": "INFO", "num_sgd_iter": 10, "monitor": false, "env": "MultiWaveAttenuationMergePOEnvBufferedObs-v0no_random_eta2:0.2", "clip_param": 0.3, "lambda": 0.97, "simple_optimizer": false, "sgd_minibatch_size": 128, "num_cpus_for_driver": 1, "input": "sampler", "output": null, "horizon": 1500, "preprocessor_pref": "deepmind", "compress_observations": false, "output_compress_columns": ["obs", "new_obs"], "clip_rewards": null, "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "multiagent": {"policies_to_train": null, "policy_graphs": {}, "policy_mapping_fn": null}, "callbacks": {"on_train_result": null, "on_sample_end": null, "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7fe94d055dd8>", "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7fe94d055d30>", "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7fe94d055c88>"}, "num_cpus_per_worker": 1, "kl_coeff": 0.2, "lr": 0.0005, "sample_async": false, "output_max_file_size": 67108864, "lr_schedule": null, "clip_actions": false, "vf_loss_coeff": 1.0}}
{"pid": 43700, "hostname": "flow-main", "date": "2019-05-09_06-35-26", "custom_metrics": {"cost2_min": -202.6741080136518, "cost1_max": 459.3971878077879, "outflow_rate_min": 842.8501531956496, "cost2_mean": -176.65378977434426, "outflow_rate_max": 1235.7229439395883, "system_level_velocity_min": 9.6068165582376, "cost1_min": 265.32711871147694, "cost2_max": -153.09572992872327, "system_level_velocity_max": 16.08594601617914, "cost1_mean": 352.2889444603732, "system_level_velocity_mean": 12.594147343473873, "outflow_rate_mean": 1041.4136356741226}, "episodes_total": 26480, "num_metric_batches_dropped": 0, "info": {"default": {"kl": 0.015991086140275, "entropy": 2.955409049987793, "total_loss": 27.87104606628418, "cur_kl_coeff": 0.20000003278255463, "vf_explained_var": 0.8791875839233398, "vf_loss": 27.87565803527832, "cur_lr": 0.0005000000237487257, "policy_loss": -0.007807253859937191}, "grad_time_ms": 41947.472, "update_time_ms": 10.95, "num_steps_trained": 47682601, "num_steps_sampled": 47682601, "load_time_ms": 52.228, "sample_time_ms": 28661.008}, "episode_reward_max": 805.8272236101815, "iterations_since_restore": 53, "episode_reward_mean": 606.3373257770894, "timesteps_total": 47682601, "timesteps_since_restore": 9561513, "experiment_id": "9b178520507b4656ac608c6ff2056ff7", "node_ip": "10.138.0.2", "timestamp": 1557383726, "episode_reward_min": 534.4159918533666, "done": false, "training_iteration": 353, "time_total_s": 17994.153953552246, "time_since_restore": 3751.2771241664886, "policy_reward_mean": {}, "episode_len_mean": 751.0, "episodes_this_iter": 82, "timesteps_this_iter": 179128, "time_this_iter_s": 71.85243892669678, "config": {"num_workers": 60, "tf_session_args": {"device_count": {"CPU": 1}, "gpu_options": {"allow_growth": true}, "inter_op_parallelism_threads": 2, "log_device_placement": false, "allow_soft_placement": true, "intra_op_parallelism_threads": 2}, "batch_mode": "truncate_episodes", "collect_metrics_timeout": 180, "sample_batch_size": 750, "custom_resources_per_worker": {}, "vf_share_layers": false, "gamma": 0.99, "optimizer": {}, "input_evaluation": null, "num_envs_per_worker": 1, "train_batch_size": 90000, "vf_clip_param": 1000000.0, "kl_target": 0.01, "entropy_coeff": 0.0, "env_config": {"run": "PPO", "flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.3,\n            \"eta3\": 0.1,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 10.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 600,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}"}, "num_gpus_per_worker": 0, "synchronize_filters": true, "straggler_mitigation": false, "num_gpus": 0, "model": {"custom_options": {}, "custom_model": null, "custom_preprocessor": null, "squash_to_range": false, "framestack": true, "fcnet_hiddens": [128, 64, 32], "fcnet_activation": "tanh", "lstm_use_prev_action_reward": false, "grayscale": false, "conv_activation": "relu", "channel_major": false, "conv_filters": null, "dim": 84, "lstm_cell_size": 256, "use_lstm": false, "zero_mean": true, "free_log_std": false, "max_seq_len": 20}, "observation_filter": "MeanStdFilter", "use_gae": true, "log_level": "INFO", "num_sgd_iter": 10, "monitor": false, "env": "MultiWaveAttenuationMergePOEnvBufferedObs-v0no_random_eta2:0.2", "clip_param": 0.3, "lambda": 0.97, "simple_optimizer": false, "sgd_minibatch_size": 128, "num_cpus_for_driver": 1, "input": "sampler", "output": null, "horizon": 1500, "preprocessor_pref": "deepmind", "compress_observations": false, "output_compress_columns": ["obs", "new_obs"], "clip_rewards": null, "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "multiagent": {"policies_to_train": null, "policy_graphs": {}, "policy_mapping_fn": null}, "callbacks": {"on_train_result": null, "on_sample_end": null, "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7fe94dd0c828>", "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7fe94dd0c630>", "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7fe94dd0c5f8>"}, "num_cpus_per_worker": 1, "kl_coeff": 0.2, "lr": 0.0005, "sample_async": false, "output_max_file_size": 67108864, "lr_schedule": null, "clip_actions": false, "vf_loss_coeff": 1.0}}
{"pid": 43700, "hostname": "flow-main", "date": "2019-05-09_06-36-37", "custom_metrics": {"cost2_min": -199.76068106376687, "cost1_max": 459.3971878077879, "outflow_rate_min": 253.51364256198752, "cost2_mean": -175.03934400732405, "outflow_rate_max": 1235.7229439395883, "system_level_velocity_min": 9.749985414118818, "cost1_min": 49.958700115341315, "cost2_max": -56.176509608079, "system_level_velocity_max": 16.08594601617914, "cost1_mean": 347.57473162568306, "system_level_velocity_mean": 12.608079106368784, "outflow_rate_mean": 1029.9618768834841}, "episodes_total": 26564, "num_metric_batches_dropped": 0, "info": {"default": {"kl": 0.016514254733920097, "entropy": 2.9813144207000732, "total_loss": 26.5257568359375, "cur_kl_coeff": 0.20000003278255463, "vf_explained_var": 0.8782712817192078, "vf_loss": 26.529321670532227, "cur_lr": 0.0005000000237487257, "policy_loss": -0.006867497693747282}, "grad_time_ms": 41896.981, "update_time_ms": 11.036, "num_steps_trained": 47864220, "num_steps_sampled": 47864220, "load_time_ms": 54.472, "sample_time_ms": 28728.267}, "episode_reward_max": 805.8272236101815, "iterations_since_restore": 54, "episode_reward_mean": 600.4790890199332, "timesteps_total": 47864220, "timesteps_since_restore": 9743132, "experiment_id": "9b178520507b4656ac608c6ff2056ff7", "node_ip": "10.138.0.2", "timestamp": 1557383797, "episode_reward_min": 57.13196141711121, "done": false, "training_iteration": 354, "time_total_s": 18065.413314580917, "time_since_restore": 3822.53648519516, "policy_reward_mean": {}, "episode_len_mean": 740.42, "episodes_this_iter": 84, "timesteps_this_iter": 181619, "time_this_iter_s": 71.25936102867126, "config": {"num_workers": 60, "tf_session_args": {"device_count": {"CPU": 1}, "gpu_options": {"allow_growth": true}, "inter_op_parallelism_threads": 2, "log_device_placement": false, "allow_soft_placement": true, "intra_op_parallelism_threads": 2}, "batch_mode": "truncate_episodes", "collect_metrics_timeout": 180, "sample_batch_size": 750, "custom_resources_per_worker": {}, "vf_share_layers": false, "gamma": 0.99, "optimizer": {}, "input_evaluation": null, "num_envs_per_worker": 1, "train_batch_size": 90000, "vf_clip_param": 1000000.0, "kl_target": 0.01, "entropy_coeff": 0.0, "env_config": {"run": "PPO", "flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.3,\n            \"eta3\": 0.1,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 10.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 600,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}"}, "num_gpus_per_worker": 0, "synchronize_filters": true, "straggler_mitigation": false, "num_gpus": 0, "model": {"custom_options": {}, "custom_model": null, "custom_preprocessor": null, "squash_to_range": false, "framestack": true, "fcnet_hiddens": [128, 64, 32], "fcnet_activation": "tanh", "lstm_use_prev_action_reward": false, "grayscale": false, "conv_activation": "relu", "channel_major": false, "conv_filters": null, "dim": 84, "lstm_cell_size": 256, "use_lstm": false, "zero_mean": true, "free_log_std": false, "max_seq_len": 20}, "observation_filter": "MeanStdFilter", "use_gae": true, "log_level": "INFO", "num_sgd_iter": 10, "monitor": false, "env": "MultiWaveAttenuationMergePOEnvBufferedObs-v0no_random_eta2:0.2", "clip_param": 0.3, "lambda": 0.97, "simple_optimizer": false, "sgd_minibatch_size": 128, "num_cpus_for_driver": 1, "input": "sampler", "output": null, "horizon": 1500, "preprocessor_pref": "deepmind", "compress_observations": false, "output_compress_columns": ["obs", "new_obs"], "clip_rewards": null, "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "multiagent": {"policies_to_train": null, "policy_graphs": {}, "policy_mapping_fn": null}, "callbacks": {"on_train_result": null, "on_sample_end": null, "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7fe94d0555c0>", "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7fe94d055630>", "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7fe94d0550f0>"}, "num_cpus_per_worker": 1, "kl_coeff": 0.2, "lr": 0.0005, "sample_async": false, "output_max_file_size": 67108864, "lr_schedule": null, "clip_actions": false, "vf_loss_coeff": 1.0}}
{"pid": 43700, "hostname": "flow-main", "date": "2019-05-09_06-37-48", "custom_metrics": {"cost2_min": -202.23905460951804, "cost1_max": 443.1504102144024, "outflow_rate_min": 420.06123654048065, "cost2_mean": -172.4303316335276, "outflow_rate_max": 1224.3379604538552, "system_level_velocity_min": 9.400344151873167, "cost1_min": 112.84043509352392, "cost2_max": -89.38021826749025, "system_level_velocity_max": 15.575542759133244, "cost1_mean": 344.3173540554554, "system_level_velocity_mean": 12.601923843692395, "outflow_rate_mean": 1020.0293349591008}, "episodes_total": 26648, "num_metric_batches_dropped": 0, "info": {"default": {"kl": 0.016070807352662086, "entropy": 2.9854683876037598, "total_loss": 27.292423248291016, "cur_kl_coeff": 0.20000003278255463, "vf_explained_var": 0.8748403787612915, "vf_loss": 27.296178817749023, "cur_lr": 0.0005000000237487257, "policy_loss": -0.006966973654925823}, "grad_time_ms": 41823.254, "update_time_ms": 10.962, "num_steps_trained": 48045101, "num_steps_sampled": 48045101, "load_time_ms": 53.467, "sample_time_ms": 28590.016}, "episode_reward_max": 759.3233725275531, "iterations_since_restore": 55, "episode_reward_mean": 596.2657021778551, "timesteps_total": 48045101, "timesteps_since_restore": 9924013, "experiment_id": "9b178520507b4656ac608c6ff2056ff7", "node_ip": "10.138.0.2", "timestamp": 1557383868, "episode_reward_min": 172.64433515552614, "done": false, "training_iteration": 355, "time_total_s": 18135.697120904922, "time_since_restore": 3892.820291519165, "policy_reward_mean": {}, "episode_len_mean": 735.99, "episodes_this_iter": 84, "timesteps_this_iter": 180881, "time_this_iter_s": 70.28380632400513, "config": {"num_workers": 60, "tf_session_args": {"device_count": {"CPU": 1}, "gpu_options": {"allow_growth": true}, "inter_op_parallelism_threads": 2, "log_device_placement": false, "allow_soft_placement": true, "intra_op_parallelism_threads": 2}, "batch_mode": "truncate_episodes", "collect_metrics_timeout": 180, "sample_batch_size": 750, "custom_resources_per_worker": {}, "vf_share_layers": false, "gamma": 0.99, "optimizer": {}, "input_evaluation": null, "num_envs_per_worker": 1, "train_batch_size": 90000, "vf_clip_param": 1000000.0, "kl_target": 0.01, "entropy_coeff": 0.0, "env_config": {"run": "PPO", "flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.3,\n            \"eta3\": 0.1,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 10.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 600,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}"}, "num_gpus_per_worker": 0, "synchronize_filters": true, "straggler_mitigation": false, "num_gpus": 0, "model": {"custom_options": {}, "custom_model": null, "custom_preprocessor": null, "squash_to_range": false, "framestack": true, "fcnet_hiddens": [128, 64, 32], "fcnet_activation": "tanh", "lstm_use_prev_action_reward": false, "grayscale": false, "conv_activation": "relu", "channel_major": false, "conv_filters": null, "dim": 84, "lstm_cell_size": 256, "use_lstm": false, "zero_mean": true, "free_log_std": false, "max_seq_len": 20}, "observation_filter": "MeanStdFilter", "use_gae": true, "log_level": "INFO", "num_sgd_iter": 10, "monitor": false, "env": "MultiWaveAttenuationMergePOEnvBufferedObs-v0no_random_eta2:0.2", "clip_param": 0.3, "lambda": 0.97, "simple_optimizer": false, "sgd_minibatch_size": 128, "num_cpus_for_driver": 1, "input": "sampler", "output": null, "horizon": 1500, "preprocessor_pref": "deepmind", "compress_observations": false, "output_compress_columns": ["obs", "new_obs"], "clip_rewards": null, "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "multiagent": {"policies_to_train": null, "policy_graphs": {}, "policy_mapping_fn": null}, "callbacks": {"on_train_result": null, "on_sample_end": null, "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7fe94dd0c048>", "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7fe94dd0ce48>", "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7fe94dd0cc18>"}, "num_cpus_per_worker": 1, "kl_coeff": 0.2, "lr": 0.0005, "sample_async": false, "output_max_file_size": 67108864, "lr_schedule": null, "clip_actions": false, "vf_loss_coeff": 1.0}}
{"pid": 43700, "hostname": "flow-main", "date": "2019-05-09_06-38-58", "custom_metrics": {"cost2_min": -205.17156748910526, "cost1_max": 464.5788852144252, "outflow_rate_min": 420.06123654048065, "cost2_mean": -173.3008297425538, "outflow_rate_max": 1246.964730594947, "system_level_velocity_min": 10.374838684599416, "cost1_min": 112.84043509352392, "cost2_max": -89.38021826749025, "system_level_velocity_max": 16.34197088091438, "cost1_mean": 345.8839078258633, "system_level_velocity_mean": 12.550051173383627, "outflow_rate_mean": 1023.2461373075864}, "episodes_total": 26731, "num_metric_batches_dropped": 0, "info": {"default": {"kl": 0.015998952090740204, "entropy": 2.980006456375122, "total_loss": 25.175065994262695, "cur_kl_coeff": 0.20000001788139343, "vf_explained_var": 0.8845860958099365, "vf_loss": 25.178434371948242, "cur_lr": 0.0005000000237487257, "policy_loss": -0.006568670738488436}, "grad_time_ms": 41828.341, "update_time_ms": 11.099, "num_steps_trained": 48225608, "num_steps_sampled": 48225608, "load_time_ms": 55.686, "sample_time_ms": 28540.095}, "episode_reward_max": 803.8006100907774, "iterations_since_restore": 56, "episode_reward_mean": 595.782122125924, "timesteps_total": 48225608, "timesteps_since_restore": 10104520, "experiment_id": "9b178520507b4656ac608c6ff2056ff7", "node_ip": "10.138.0.2", "timestamp": 1557383938, "episode_reward_min": 174.741153825982, "done": false, "training_iteration": 356, "time_total_s": 18206.09159398079, "time_since_restore": 3963.2147645950317, "policy_reward_mean": {}, "episode_len_mean": 741.36, "episodes_this_iter": 83, "timesteps_this_iter": 180507, "time_this_iter_s": 70.3944730758667, "config": {"num_workers": 60, "tf_session_args": {"device_count": {"CPU": 1}, "gpu_options": {"allow_growth": true}, "inter_op_parallelism_threads": 2, "log_device_placement": false, "allow_soft_placement": true, "intra_op_parallelism_threads": 2}, "batch_mode": "truncate_episodes", "collect_metrics_timeout": 180, "sample_batch_size": 750, "custom_resources_per_worker": {}, "vf_share_layers": false, "gamma": 0.99, "optimizer": {}, "input_evaluation": null, "num_envs_per_worker": 1, "train_batch_size": 90000, "vf_clip_param": 1000000.0, "kl_target": 0.01, "entropy_coeff": 0.0, "env_config": {"run": "PPO", "flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.3,\n            \"eta3\": 0.1,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 10.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 600,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}"}, "num_gpus_per_worker": 0, "synchronize_filters": true, "straggler_mitigation": false, "num_gpus": 0, "model": {"custom_options": {}, "custom_model": null, "custom_preprocessor": null, "squash_to_range": false, "framestack": true, "fcnet_hiddens": [128, 64, 32], "fcnet_activation": "tanh", "lstm_use_prev_action_reward": false, "grayscale": false, "conv_activation": "relu", "channel_major": false, "conv_filters": null, "dim": 84, "lstm_cell_size": 256, "use_lstm": false, "zero_mean": true, "free_log_std": false, "max_seq_len": 20}, "observation_filter": "MeanStdFilter", "use_gae": true, "log_level": "INFO", "num_sgd_iter": 10, "monitor": false, "env": "MultiWaveAttenuationMergePOEnvBufferedObs-v0no_random_eta2:0.2", "clip_param": 0.3, "lambda": 0.97, "simple_optimizer": false, "sgd_minibatch_size": 128, "num_cpus_for_driver": 1, "input": "sampler", "output": null, "horizon": 1500, "preprocessor_pref": "deepmind", "compress_observations": false, "output_compress_columns": ["obs", "new_obs"], "clip_rewards": null, "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "multiagent": {"policies_to_train": null, "policy_graphs": {}, "policy_mapping_fn": null}, "callbacks": {"on_train_result": null, "on_sample_end": null, "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7fe94d055a20>", "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7fe94d055320>", "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7fe94d055668>"}, "num_cpus_per_worker": 1, "kl_coeff": 0.2, "lr": 0.0005, "sample_async": false, "output_max_file_size": 67108864, "lr_schedule": null, "clip_actions": false, "vf_loss_coeff": 1.0}}
{"pid": 43700, "hostname": "flow-main", "date": "2019-05-09_06-40-09", "custom_metrics": {"cost2_min": -204.5094064178634, "cost1_max": 462.3897133345372, "outflow_rate_min": 434.1458009802354, "cost2_mean": -173.1310084991164, "outflow_rate_max": 1244.0260460731529, "system_level_velocity_min": 9.596448926316421, "cost1_min": 114.42817552635566, "cost2_max": -95.53786066335363, "system_level_velocity_max": 16.169909940562388, "cost1_mean": 343.2016167606791, "system_level_velocity_mean": 12.839676172965465, "outflow_rate_mean": 1015.8879085905078}, "episodes_total": 26817, "num_metric_batches_dropped": 0, "info": {"default": {"kl": 0.015580002218484879, "entropy": 2.981158971786499, "total_loss": 28.088808059692383, "cur_kl_coeff": 0.20000001788139343, "vf_explained_var": 0.8738762140274048, "vf_loss": 28.092418670654297, "cur_lr": 0.0005000000237487257, "policy_loss": -0.0067275152541697025}, "grad_time_ms": 41838.43, "update_time_ms": 11.087, "num_steps_trained": 48405156, "num_steps_sampled": 48405156, "load_time_ms": 53.631, "sample_time_ms": 28563.798}, "episode_reward_max": 794.2692012990382, "iterations_since_restore": 57, "episode_reward_mean": 589.4637470806996, "timesteps_total": 48405156, "timesteps_since_restore": 10284068, "experiment_id": "9b178520507b4656ac608c6ff2056ff7", "node_ip": "10.138.0.2", "timestamp": 1557384009, "episode_reward_min": 173.5831340773762, "done": false, "training_iteration": 357, "time_total_s": 18276.64776611328, "time_since_restore": 4033.770936727524, "policy_reward_mean": {}, "episode_len_mean": 721.38, "episodes_this_iter": 86, "timesteps_this_iter": 179548, "time_this_iter_s": 70.55617213249207, "config": {"num_workers": 60, "tf_session_args": {"device_count": {"CPU": 1}, "gpu_options": {"allow_growth": true}, "inter_op_parallelism_threads": 2, "log_device_placement": false, "allow_soft_placement": true, "intra_op_parallelism_threads": 2}, "batch_mode": "truncate_episodes", "collect_metrics_timeout": 180, "sample_batch_size": 750, "custom_resources_per_worker": {}, "vf_share_layers": false, "gamma": 0.99, "optimizer": {}, "input_evaluation": null, "num_envs_per_worker": 1, "train_batch_size": 90000, "vf_clip_param": 1000000.0, "kl_target": 0.01, "entropy_coeff": 0.0, "env_config": {"run": "PPO", "flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.3,\n            \"eta3\": 0.1,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 10.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 600,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}"}, "num_gpus_per_worker": 0, "synchronize_filters": true, "straggler_mitigation": false, "num_gpus": 0, "model": {"custom_options": {}, "custom_model": null, "custom_preprocessor": null, "squash_to_range": false, "framestack": true, "fcnet_hiddens": [128, 64, 32], "fcnet_activation": "tanh", "lstm_use_prev_action_reward": false, "grayscale": false, "conv_activation": "relu", "channel_major": false, "conv_filters": null, "dim": 84, "lstm_cell_size": 256, "use_lstm": false, "zero_mean": true, "free_log_std": false, "max_seq_len": 20}, "observation_filter": "MeanStdFilter", "use_gae": true, "log_level": "INFO", "num_sgd_iter": 10, "monitor": false, "env": "MultiWaveAttenuationMergePOEnvBufferedObs-v0no_random_eta2:0.2", "clip_param": 0.3, "lambda": 0.97, "simple_optimizer": false, "sgd_minibatch_size": 128, "num_cpus_for_driver": 1, "input": "sampler", "output": null, "horizon": 1500, "preprocessor_pref": "deepmind", "compress_observations": false, "output_compress_columns": ["obs", "new_obs"], "clip_rewards": null, "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "multiagent": {"policies_to_train": null, "policy_graphs": {}, "policy_mapping_fn": null}, "callbacks": {"on_train_result": null, "on_sample_end": null, "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7fe94dd0cb00>", "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7fe94dd0c780>", "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7fe94dd0c2b0>"}, "num_cpus_per_worker": 1, "kl_coeff": 0.2, "lr": 0.0005, "sample_async": false, "output_max_file_size": 67108864, "lr_schedule": null, "clip_actions": false, "vf_loss_coeff": 1.0}}
{"pid": 43700, "hostname": "flow-main", "date": "2019-05-09_06-41-18", "custom_metrics": {"cost2_min": -200.64998686729524, "cost1_max": 478.38338261155803, "outflow_rate_min": 429.50007465616915, "cost2_mean": -172.15062337396856, "outflow_rate_max": 1258.9798625197532, "system_level_velocity_min": 9.132651460753761, "cost1_min": 114.42817552635566, "cost2_max": -95.70610060905847, "system_level_velocity_max": 16.819534093385403, "cost1_mean": 340.81680205834067, "system_level_velocity_mean": 12.601198951548074, "outflow_rate_mean": 1009.9257809684331}, "episodes_total": 26901, "num_metric_batches_dropped": 0, "info": {"default": {"kl": 0.01646781526505947, "entropy": 2.9798007011413574, "total_loss": 26.059236526489258, "cur_kl_coeff": 0.20000003278255463, "vf_explained_var": 0.8827215433120728, "vf_loss": 26.062780380249023, "cur_lr": 0.0005000000237487257, "policy_loss": -0.006838041823357344}, "grad_time_ms": 41838.131, "update_time_ms": 11.004, "num_steps_trained": 48583476, "num_steps_sampled": 48583476, "load_time_ms": 58.542, "sample_time_ms": 28552.156}, "episode_reward_max": 856.7253202993859, "iterations_since_restore": 58, "episode_reward_mean": 585.6010334660099, "timesteps_total": 48583476, "timesteps_since_restore": 10462388, "experiment_id": "9b178520507b4656ac608c6ff2056ff7", "node_ip": "10.138.0.2", "timestamp": 1557384078, "episode_reward_min": 173.5831340773762, "done": false, "training_iteration": 358, "time_total_s": 18346.333771705627, "time_since_restore": 4103.45694231987, "policy_reward_mean": {}, "episode_len_mean": 729.94, "episodes_this_iter": 84, "timesteps_this_iter": 178320, "time_this_iter_s": 69.68600559234619, "config": {"num_workers": 60, "tf_session_args": {"device_count": {"CPU": 1}, "gpu_options": {"allow_growth": true}, "inter_op_parallelism_threads": 2, "log_device_placement": false, "allow_soft_placement": true, "intra_op_parallelism_threads": 2}, "batch_mode": "truncate_episodes", "collect_metrics_timeout": 180, "sample_batch_size": 750, "custom_resources_per_worker": {}, "vf_share_layers": false, "gamma": 0.99, "optimizer": {}, "input_evaluation": null, "num_envs_per_worker": 1, "train_batch_size": 90000, "vf_clip_param": 1000000.0, "kl_target": 0.01, "entropy_coeff": 0.0, "env_config": {"run": "PPO", "flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.3,\n            \"eta3\": 0.1,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 10.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 600,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}"}, "num_gpus_per_worker": 0, "synchronize_filters": true, "straggler_mitigation": false, "num_gpus": 0, "model": {"custom_options": {}, "custom_model": null, "custom_preprocessor": null, "squash_to_range": false, "framestack": true, "fcnet_hiddens": [128, 64, 32], "fcnet_activation": "tanh", "lstm_use_prev_action_reward": false, "grayscale": false, "conv_activation": "relu", "channel_major": false, "conv_filters": null, "dim": 84, "lstm_cell_size": 256, "use_lstm": false, "zero_mean": true, "free_log_std": false, "max_seq_len": 20}, "observation_filter": "MeanStdFilter", "use_gae": true, "log_level": "INFO", "num_sgd_iter": 10, "monitor": false, "env": "MultiWaveAttenuationMergePOEnvBufferedObs-v0no_random_eta2:0.2", "clip_param": 0.3, "lambda": 0.97, "simple_optimizer": false, "sgd_minibatch_size": 128, "num_cpus_for_driver": 1, "input": "sampler", "output": null, "horizon": 1500, "preprocessor_pref": "deepmind", "compress_observations": false, "output_compress_columns": ["obs", "new_obs"], "clip_rewards": null, "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "multiagent": {"policies_to_train": null, "policy_graphs": {}, "policy_mapping_fn": null}, "callbacks": {"on_train_result": null, "on_sample_end": null, "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7fe94d055cf8>", "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7fe94d0554e0>", "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7fe94d055c50>"}, "num_cpus_per_worker": 1, "kl_coeff": 0.2, "lr": 0.0005, "sample_async": false, "output_max_file_size": 67108864, "lr_schedule": null, "clip_actions": false, "vf_loss_coeff": 1.0}}
{"pid": 43700, "hostname": "flow-main", "date": "2019-05-09_06-42-29", "custom_metrics": {"cost2_min": -201.08324821660878, "cost1_max": 468.2539575537009, "outflow_rate_min": 821.2761151497765, "cost2_mean": -175.2124048459569, "outflow_rate_max": 1248.5966533637857, "system_level_velocity_min": 9.132651460753761, "cost1_min": 252.89382730482558, "cost2_max": -145.54130733532827, "system_level_velocity_max": 16.413416080298973, "cost1_mean": 353.2083073645027, "system_level_velocity_mean": 12.637255137512886, "outflow_rate_mean": 1041.4046742384123}, "episodes_total": 26983, "num_metric_batches_dropped": 0, "info": {"default": {"kl": 0.01623883843421936, "entropy": 2.9893059730529785, "total_loss": 26.653127670288086, "cur_kl_coeff": 0.20000001788139343, "vf_explained_var": 0.8763995170593262, "vf_loss": 26.656755447387695, "cur_lr": 0.0005000000237487257, "policy_loss": -0.00687526585534215}, "grad_time_ms": 41695.105, "update_time_ms": 11.03, "num_steps_trained": 48762744, "num_steps_sampled": 48762744, "load_time_ms": 59.97, "sample_time_ms": 28545.658}, "episode_reward_max": 826.4889229753566, "iterations_since_restore": 59, "episode_reward_mean": 609.7292503186902, "timesteps_total": 48762744, "timesteps_since_restore": 10641656, "experiment_id": "9b178520507b4656ac608c6ff2056ff7", "node_ip": "10.138.0.2", "timestamp": 1557384149, "episode_reward_min": 497.1417985900078, "done": false, "training_iteration": 359, "time_total_s": 18417.18032169342, "time_since_restore": 4174.303492307663, "policy_reward_mean": {}, "episode_len_mean": 751.0, "episodes_this_iter": 82, "timesteps_this_iter": 179268, "time_this_iter_s": 70.84654998779297, "config": {"num_workers": 60, "tf_session_args": {"device_count": {"CPU": 1}, "gpu_options": {"allow_growth": true}, "inter_op_parallelism_threads": 2, "log_device_placement": false, "allow_soft_placement": true, "intra_op_parallelism_threads": 2}, "batch_mode": "truncate_episodes", "collect_metrics_timeout": 180, "sample_batch_size": 750, "custom_resources_per_worker": {}, "vf_share_layers": false, "gamma": 0.99, "optimizer": {}, "input_evaluation": null, "num_envs_per_worker": 1, "train_batch_size": 90000, "vf_clip_param": 1000000.0, "kl_target": 0.01, "entropy_coeff": 0.0, "env_config": {"run": "PPO", "flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.3,\n            \"eta3\": 0.1,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 10.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 600,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}"}, "num_gpus_per_worker": 0, "synchronize_filters": true, "straggler_mitigation": false, "num_gpus": 0, "model": {"custom_options": {}, "custom_model": null, "custom_preprocessor": null, "squash_to_range": false, "framestack": true, "fcnet_hiddens": [128, 64, 32], "fcnet_activation": "tanh", "lstm_use_prev_action_reward": false, "grayscale": false, "conv_activation": "relu", "channel_major": false, "conv_filters": null, "dim": 84, "lstm_cell_size": 256, "use_lstm": false, "zero_mean": true, "free_log_std": false, "max_seq_len": 20}, "observation_filter": "MeanStdFilter", "use_gae": true, "log_level": "INFO", "num_sgd_iter": 10, "monitor": false, "env": "MultiWaveAttenuationMergePOEnvBufferedObs-v0no_random_eta2:0.2", "clip_param": 0.3, "lambda": 0.97, "simple_optimizer": false, "sgd_minibatch_size": 128, "num_cpus_for_driver": 1, "input": "sampler", "output": null, "horizon": 1500, "preprocessor_pref": "deepmind", "compress_observations": false, "output_compress_columns": ["obs", "new_obs"], "clip_rewards": null, "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "multiagent": {"policies_to_train": null, "policy_graphs": {}, "policy_mapping_fn": null}, "callbacks": {"on_train_result": null, "on_sample_end": null, "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7fe94dd0c550>", "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7fe94dd0ccc0>", "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7fe94dd0c048>"}, "num_cpus_per_worker": 1, "kl_coeff": 0.2, "lr": 0.0005, "sample_async": false, "output_max_file_size": 67108864, "lr_schedule": null, "clip_actions": false, "vf_loss_coeff": 1.0}}
{"pid": 43700, "hostname": "flow-main", "date": "2019-05-09_06-43-40", "custom_metrics": {"cost2_min": -201.45171195663303, "cost1_max": 474.65627809129967, "outflow_rate_min": 430.6171352939174, "cost2_mean": -173.72443520967508, "outflow_rate_max": 1258.7121013756264, "system_level_velocity_min": 8.655789805909189, "cost1_min": 113.21655900647553, "cost2_max": -94.49970840124851, "system_level_velocity_max": 16.69704842382881, "cost1_mean": 349.5054991356099, "system_level_velocity_mean": 12.694312243668378, "outflow_rate_mean": 1030.4045337683372}, "episodes_total": 27067, "num_metric_batches_dropped": 0, "info": {"default": {"kl": 0.016864998266100883, "entropy": 2.994513988494873, "total_loss": 26.88151741027832, "cur_kl_coeff": 0.20000003278255463, "vf_explained_var": 0.8764708638191223, "vf_loss": 26.885833740234375, "cur_lr": 0.0005000000237487257, "policy_loss": -0.007691449951380491}, "grad_time_ms": 41800.984, "update_time_ms": 10.903, "num_steps_trained": 48941826, "num_steps_sampled": 48941826, "load_time_ms": 61.239, "sample_time_ms": 28504.691}, "episode_reward_max": 839.9186411880089, "iterations_since_restore": 60, "episode_reward_mean": 603.8708623625103, "timesteps_total": 48941826, "timesteps_since_restore": 10820738, "experiment_id": "9b178520507b4656ac608c6ff2056ff7", "node_ip": "10.138.0.2", "timestamp": 1557384220, "episode_reward_min": 170.46518475064, "done": false, "training_iteration": 360, "time_total_s": 18487.976123809814, "time_since_restore": 4245.099294424057, "policy_reward_mean": {}, "episode_len_mean": 740.44, "episodes_this_iter": 84, "timesteps_this_iter": 179082, "time_this_iter_s": 70.79580211639404, "config": {"num_workers": 60, "tf_session_args": {"device_count": {"CPU": 1}, "gpu_options": {"allow_growth": true}, "inter_op_parallelism_threads": 2, "log_device_placement": false, "allow_soft_placement": true, "intra_op_parallelism_threads": 2}, "batch_mode": "truncate_episodes", "collect_metrics_timeout": 180, "sample_batch_size": 750, "custom_resources_per_worker": {}, "vf_share_layers": false, "gamma": 0.99, "optimizer": {}, "input_evaluation": null, "num_envs_per_worker": 1, "train_batch_size": 90000, "vf_clip_param": 1000000.0, "kl_target": 0.01, "entropy_coeff": 0.0, "env_config": {"run": "PPO", "flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.3,\n            \"eta3\": 0.1,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 10.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 600,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}"}, "num_gpus_per_worker": 0, "synchronize_filters": true, "straggler_mitigation": false, "num_gpus": 0, "model": {"custom_options": {}, "custom_model": null, "custom_preprocessor": null, "squash_to_range": false, "framestack": true, "fcnet_hiddens": [128, 64, 32], "fcnet_activation": "tanh", "lstm_use_prev_action_reward": false, "grayscale": false, "conv_activation": "relu", "channel_major": false, "conv_filters": null, "dim": 84, "lstm_cell_size": 256, "use_lstm": false, "zero_mean": true, "free_log_std": false, "max_seq_len": 20}, "observation_filter": "MeanStdFilter", "use_gae": true, "log_level": "INFO", "num_sgd_iter": 10, "monitor": false, "env": "MultiWaveAttenuationMergePOEnvBufferedObs-v0no_random_eta2:0.2", "clip_param": 0.3, "lambda": 0.97, "simple_optimizer": false, "sgd_minibatch_size": 128, "num_cpus_for_driver": 1, "input": "sampler", "output": null, "horizon": 1500, "preprocessor_pref": "deepmind", "compress_observations": false, "output_compress_columns": ["obs", "new_obs"], "clip_rewards": null, "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "multiagent": {"policies_to_train": null, "policy_graphs": {}, "policy_mapping_fn": null}, "callbacks": {"on_train_result": null, "on_sample_end": null, "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7fe94d055518>", "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7fe94d0550b8>", "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7fe94d055278>"}, "num_cpus_per_worker": 1, "kl_coeff": 0.2, "lr": 0.0005, "sample_async": false, "output_max_file_size": 67108864, "lr_schedule": null, "clip_actions": false, "vf_loss_coeff": 1.0}}
{"pid": 43700, "hostname": "flow-main", "date": "2019-05-09_06-44-52", "custom_metrics": {"cost2_min": -201.45171195663303, "cost1_max": 473.67533112987616, "outflow_rate_min": 429.8125085400921, "cost2_mean": -174.4865877964812, "outflow_rate_max": 1261.4172619379515, "system_level_velocity_min": 8.655789805909189, "cost1_min": 114.43326298795242, "cost2_max": -93.53435914760553, "system_level_velocity_max": 16.731685755894596, "cost1_mean": 350.7089849025137, "system_level_velocity_mean": 12.824271035405838, "outflow_rate_mean": 1035.2406825926755}, "episodes_total": 27151, "num_metric_batches_dropped": 0, "info": {"default": {"kl": 0.015639778226614, "entropy": 3.018862009048462, "total_loss": 26.988866806030273, "cur_kl_coeff": 0.20000003278255463, "vf_explained_var": 0.877639889717102, "vf_loss": 26.99216651916504, "cur_lr": 0.0005000000237487257, "policy_loss": -0.006424674764275551}, "grad_time_ms": 41952.372, "update_time_ms": 11.093, "num_steps_trained": 49124566, "num_steps_sampled": 49124566, "load_time_ms": 59.636, "sample_time_ms": 28544.299}, "episode_reward_max": 829.6039722630675, "iterations_since_restore": 61, "episode_reward_mean": 601.2727071594313, "timesteps_total": 49124566, "timesteps_since_restore": 11003478, "experiment_id": "9b178520507b4656ac608c6ff2056ff7", "node_ip": "10.138.0.2", "timestamp": 1557384292, "episode_reward_min": 172.98404616707995, "done": false, "training_iteration": 361, "time_total_s": 18559.951815128326, "time_since_restore": 4317.074985742569, "policy_reward_mean": {}, "episode_len_mean": 735.16, "episodes_this_iter": 84, "timesteps_this_iter": 182740, "time_this_iter_s": 71.97569131851196, "config": {"num_workers": 60, "tf_session_args": {"device_count": {"CPU": 1}, "gpu_options": {"allow_growth": true}, "inter_op_parallelism_threads": 2, "log_device_placement": false, "allow_soft_placement": true, "intra_op_parallelism_threads": 2}, "batch_mode": "truncate_episodes", "collect_metrics_timeout": 180, "sample_batch_size": 750, "custom_resources_per_worker": {}, "vf_share_layers": false, "gamma": 0.99, "optimizer": {}, "input_evaluation": null, "num_envs_per_worker": 1, "train_batch_size": 90000, "vf_clip_param": 1000000.0, "kl_target": 0.01, "entropy_coeff": 0.0, "env_config": {"run": "PPO", "flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.3,\n            \"eta3\": 0.1,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 10.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 600,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}"}, "num_gpus_per_worker": 0, "synchronize_filters": true, "straggler_mitigation": false, "num_gpus": 0, "model": {"custom_options": {}, "custom_model": null, "custom_preprocessor": null, "squash_to_range": false, "framestack": true, "fcnet_hiddens": [128, 64, 32], "fcnet_activation": "tanh", "lstm_use_prev_action_reward": false, "grayscale": false, "conv_activation": "relu", "channel_major": false, "conv_filters": null, "dim": 84, "lstm_cell_size": 256, "use_lstm": false, "zero_mean": true, "free_log_std": false, "max_seq_len": 20}, "observation_filter": "MeanStdFilter", "use_gae": true, "log_level": "INFO", "num_sgd_iter": 10, "monitor": false, "env": "MultiWaveAttenuationMergePOEnvBufferedObs-v0no_random_eta2:0.2", "clip_param": 0.3, "lambda": 0.97, "simple_optimizer": false, "sgd_minibatch_size": 128, "num_cpus_for_driver": 1, "input": "sampler", "output": null, "horizon": 1500, "preprocessor_pref": "deepmind", "compress_observations": false, "output_compress_columns": ["obs", "new_obs"], "clip_rewards": null, "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "multiagent": {"policies_to_train": null, "policy_graphs": {}, "policy_mapping_fn": null}, "callbacks": {"on_train_result": null, "on_sample_end": null, "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7fe94dd0ce48>", "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7fe94dd0c470>", "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7fe94dd0c630>"}, "num_cpus_per_worker": 1, "kl_coeff": 0.2, "lr": 0.0005, "sample_async": false, "output_max_file_size": 67108864, "lr_schedule": null, "clip_actions": false, "vf_loss_coeff": 1.0}}
{"pid": 43700, "hostname": "flow-main", "date": "2019-05-09_06-46-05", "custom_metrics": {"cost2_min": -199.94338995439193, "cost1_max": 473.67533112987616, "outflow_rate_min": 447.6902118308032, "cost2_mean": -176.05195343239714, "outflow_rate_max": 1261.4172619379515, "system_level_velocity_min": 9.031123518483202, "cost1_min": 119.9479188042255, "cost2_max": -104.26065727966787, "system_level_velocity_max": 16.731685755894596, "cost1_mean": 355.39540974752873, "system_level_velocity_mean": 12.78340784339143, "outflow_rate_mean": 1046.3666371366494}, "episodes_total": 27233, "num_metric_batches_dropped": 0, "info": {"default": {"kl": 0.015593132935464382, "entropy": 3.0100226402282715, "total_loss": 25.47042465209961, "cur_kl_coeff": 0.20000003278255463, "vf_explained_var": 0.885966956615448, "vf_loss": 25.474035263061523, "cur_lr": 0.0005000000237487257, "policy_loss": -0.006734220311045647}, "grad_time_ms": 42109.544, "update_time_ms": 11.136, "num_steps_trained": 49305438, "num_steps_sampled": 49305438, "load_time_ms": 59.728, "sample_time_ms": 28560.786}, "episode_reward_max": 829.6039722630675, "iterations_since_restore": 62, "episode_reward_mean": 611.2934065852955, "timesteps_total": 49305438, "timesteps_since_restore": 11184350, "experiment_id": "9b178520507b4656ac608c6ff2056ff7", "node_ip": "10.138.0.2", "timestamp": 1557384365, "episode_reward_min": 177.65543016773432, "done": false, "training_iteration": 362, "time_total_s": 18633.0445728302, "time_since_restore": 4390.167743444443, "policy_reward_mean": {}, "episode_len_mean": 745.75, "episodes_this_iter": 82, "timesteps_this_iter": 180872, "time_this_iter_s": 73.09275770187378, "config": {"num_workers": 60, "tf_session_args": {"device_count": {"CPU": 1}, "gpu_options": {"allow_growth": true}, "inter_op_parallelism_threads": 2, "log_device_placement": false, "allow_soft_placement": true, "intra_op_parallelism_threads": 2}, "batch_mode": "truncate_episodes", "collect_metrics_timeout": 180, "sample_batch_size": 750, "custom_resources_per_worker": {}, "vf_share_layers": false, "gamma": 0.99, "optimizer": {}, "input_evaluation": null, "num_envs_per_worker": 1, "train_batch_size": 90000, "vf_clip_param": 1000000.0, "kl_target": 0.01, "entropy_coeff": 0.0, "env_config": {"run": "PPO", "flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.3,\n            \"eta3\": 0.1,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 10.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 600,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}"}, "num_gpus_per_worker": 0, "synchronize_filters": true, "straggler_mitigation": false, "num_gpus": 0, "model": {"custom_options": {}, "custom_model": null, "custom_preprocessor": null, "squash_to_range": false, "framestack": true, "fcnet_hiddens": [128, 64, 32], "fcnet_activation": "tanh", "lstm_use_prev_action_reward": false, "grayscale": false, "conv_activation": "relu", "channel_major": false, "conv_filters": null, "dim": 84, "lstm_cell_size": 256, "use_lstm": false, "zero_mean": true, "free_log_std": false, "max_seq_len": 20}, "observation_filter": "MeanStdFilter", "use_gae": true, "log_level": "INFO", "num_sgd_iter": 10, "monitor": false, "env": "MultiWaveAttenuationMergePOEnvBufferedObs-v0no_random_eta2:0.2", "clip_param": 0.3, "lambda": 0.97, "simple_optimizer": false, "sgd_minibatch_size": 128, "num_cpus_for_driver": 1, "input": "sampler", "output": null, "horizon": 1500, "preprocessor_pref": "deepmind", "compress_observations": false, "output_compress_columns": ["obs", "new_obs"], "clip_rewards": null, "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "multiagent": {"policies_to_train": null, "policy_graphs": {}, "policy_mapping_fn": null}, "callbacks": {"on_train_result": null, "on_sample_end": null, "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7fe94d0555f8>", "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7fe94d055160>", "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7fe94d055748>"}, "num_cpus_per_worker": 1, "kl_coeff": 0.2, "lr": 0.0005, "sample_async": false, "output_max_file_size": 67108864, "lr_schedule": null, "clip_actions": false, "vf_loss_coeff": 1.0}}
{"pid": 43700, "hostname": "flow-main", "date": "2019-05-09_06-47-17", "custom_metrics": {"cost2_min": -197.0669154662122, "cost1_max": 470.2143127336417, "outflow_rate_min": 702.3418220869656, "cost2_mean": -174.88614534388253, "outflow_rate_max": 1252.4466230695548, "system_level_velocity_min": 9.031123518483202, "cost1_min": 236.44513885358282, "cost2_max": -145.1588570195861, "system_level_velocity_max": 16.474638264824666, "cost1_mean": 351.3095653466029, "system_level_velocity_mean": 12.616420865438984, "outflow_rate_mean": 1038.163488401855}, "episodes_total": 27314, "num_metric_batches_dropped": 0, "info": {"default": {"kl": 0.016205543652176857, "entropy": 3.0382587909698486, "total_loss": 24.48941421508789, "cur_kl_coeff": 0.20000003278255463, "vf_explained_var": 0.88873690366745, "vf_loss": 24.492280960083008, "cur_lr": 0.0005000000237487257, "policy_loss": -0.0061098369769752026}, "grad_time_ms": 42096.431, "update_time_ms": 11.074, "num_steps_trained": 49487653, "num_steps_sampled": 49487653, "load_time_ms": 62.145, "sample_time_ms": 28533.527}, "episode_reward_max": 836.4745200215805, "iterations_since_restore": 63, "episode_reward_mean": 601.5281192220912, "timesteps_total": 49487653, "timesteps_since_restore": 11366565, "experiment_id": "9b178520507b4656ac608c6ff2056ff7", "node_ip": "10.138.0.2", "timestamp": 1557384437, "episode_reward_min": 404.67190688456117, "done": false, "training_iteration": 363, "time_total_s": 18704.548619508743, "time_since_restore": 4461.671790122986, "policy_reward_mean": {}, "episode_len_mean": 747.47, "episodes_this_iter": 81, "timesteps_this_iter": 182215, "time_this_iter_s": 71.50404667854309, "config": {"num_workers": 60, "tf_session_args": {"device_count": {"CPU": 1}, "gpu_options": {"allow_growth": true}, "inter_op_parallelism_threads": 2, "log_device_placement": false, "allow_soft_placement": true, "intra_op_parallelism_threads": 2}, "batch_mode": "truncate_episodes", "collect_metrics_timeout": 180, "sample_batch_size": 750, "custom_resources_per_worker": {}, "vf_share_layers": false, "gamma": 0.99, "optimizer": {}, "input_evaluation": null, "num_envs_per_worker": 1, "train_batch_size": 90000, "vf_clip_param": 1000000.0, "kl_target": 0.01, "entropy_coeff": 0.0, "env_config": {"run": "PPO", "flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.3,\n            \"eta3\": 0.1,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 10.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 600,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}"}, "num_gpus_per_worker": 0, "synchronize_filters": true, "straggler_mitigation": false, "num_gpus": 0, "model": {"custom_options": {}, "custom_model": null, "custom_preprocessor": null, "squash_to_range": false, "framestack": true, "fcnet_hiddens": [128, 64, 32], "fcnet_activation": "tanh", "lstm_use_prev_action_reward": false, "grayscale": false, "conv_activation": "relu", "channel_major": false, "conv_filters": null, "dim": 84, "lstm_cell_size": 256, "use_lstm": false, "zero_mean": true, "free_log_std": false, "max_seq_len": 20}, "observation_filter": "MeanStdFilter", "use_gae": true, "log_level": "INFO", "num_sgd_iter": 10, "monitor": false, "env": "MultiWaveAttenuationMergePOEnvBufferedObs-v0no_random_eta2:0.2", "clip_param": 0.3, "lambda": 0.97, "simple_optimizer": false, "sgd_minibatch_size": 128, "num_cpus_for_driver": 1, "input": "sampler", "output": null, "horizon": 1500, "preprocessor_pref": "deepmind", "compress_observations": false, "output_compress_columns": ["obs", "new_obs"], "clip_rewards": null, "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "multiagent": {"policies_to_train": null, "policy_graphs": {}, "policy_mapping_fn": null}, "callbacks": {"on_train_result": null, "on_sample_end": null, "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7fe94dd0c7b8>", "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7fe94dd0cc50>", "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7fe94dd0c6a0>"}, "num_cpus_per_worker": 1, "kl_coeff": 0.2, "lr": 0.0005, "sample_async": false, "output_max_file_size": 67108864, "lr_schedule": null, "clip_actions": false, "vf_loss_coeff": 1.0}}
{"pid": 43700, "hostname": "flow-main", "date": "2019-05-09_06-48-28", "custom_metrics": {"cost2_min": -197.0669154662122, "cost1_max": 473.2912831798127, "outflow_rate_min": 420.37620218132207, "cost2_mean": -172.7529075093628, "outflow_rate_max": 1250.7210332606412, "system_level_velocity_min": 9.973358580711222, "cost1_min": 113.63982563976552, "cost2_max": -97.96849760466432, "system_level_velocity_max": 16.511628402946087, "cost1_mean": 347.8447959131892, "system_level_velocity_mean": 12.54351820778065, "outflow_rate_mean": 1030.5132788777867}, "episodes_total": 27396, "num_metric_batches_dropped": 0, "info": {"default": {"kl": 0.01607019640505314, "entropy": 3.028095006942749, "total_loss": 24.983121871948242, "cur_kl_coeff": 0.20000001788139343, "vf_explained_var": 0.8881264328956604, "vf_loss": 24.987239837646484, "cur_lr": 0.0005000000237487257, "policy_loss": -0.007332143373787403}, "grad_time_ms": 42162.592, "update_time_ms": 11.137, "num_steps_trained": 49669784, "num_steps_sampled": 49669784, "load_time_ms": 62.752, "sample_time_ms": 28475.96}, "episode_reward_max": 861.3978291316035, "iterations_since_restore": 64, "episode_reward_mean": 599.8493732254724, "timesteps_total": 49669784, "timesteps_since_restore": 11548696, "experiment_id": "9b178520507b4656ac608c6ff2056ff7", "node_ip": "10.138.0.2", "timestamp": 1557384508, "episode_reward_min": 172.76009465317807, "done": false, "training_iteration": 364, "time_total_s": 18775.90455508232, "time_since_restore": 4533.027725696564, "policy_reward_mean": {}, "episode_len_mean": 744.92, "episodes_this_iter": 82, "timesteps_this_iter": 182131, "time_this_iter_s": 71.35593557357788, "config": {"num_workers": 60, "tf_session_args": {"device_count": {"CPU": 1}, "gpu_options": {"allow_growth": true}, "inter_op_parallelism_threads": 2, "log_device_placement": false, "allow_soft_placement": true, "intra_op_parallelism_threads": 2}, "batch_mode": "truncate_episodes", "collect_metrics_timeout": 180, "sample_batch_size": 750, "custom_resources_per_worker": {}, "vf_share_layers": false, "gamma": 0.99, "optimizer": {}, "input_evaluation": null, "num_envs_per_worker": 1, "train_batch_size": 90000, "vf_clip_param": 1000000.0, "kl_target": 0.01, "entropy_coeff": 0.0, "env_config": {"run": "PPO", "flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.3,\n            \"eta3\": 0.1,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 10.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 600,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}"}, "num_gpus_per_worker": 0, "synchronize_filters": true, "straggler_mitigation": false, "num_gpus": 0, "model": {"custom_options": {}, "custom_model": null, "custom_preprocessor": null, "squash_to_range": false, "framestack": true, "fcnet_hiddens": [128, 64, 32], "fcnet_activation": "tanh", "lstm_use_prev_action_reward": false, "grayscale": false, "conv_activation": "relu", "channel_major": false, "conv_filters": null, "dim": 84, "lstm_cell_size": 256, "use_lstm": false, "zero_mean": true, "free_log_std": false, "max_seq_len": 20}, "observation_filter": "MeanStdFilter", "use_gae": true, "log_level": "INFO", "num_sgd_iter": 10, "monitor": false, "env": "MultiWaveAttenuationMergePOEnvBufferedObs-v0no_random_eta2:0.2", "clip_param": 0.3, "lambda": 0.97, "simple_optimizer": false, "sgd_minibatch_size": 128, "num_cpus_for_driver": 1, "input": "sampler", "output": null, "horizon": 1500, "preprocessor_pref": "deepmind", "compress_observations": false, "output_compress_columns": ["obs", "new_obs"], "clip_rewards": null, "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "multiagent": {"policies_to_train": null, "policy_graphs": {}, "policy_mapping_fn": null}, "callbacks": {"on_train_result": null, "on_sample_end": null, "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7fe94d0553c8>", "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7fe94d055e80>", "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7fe94d055080>"}, "num_cpus_per_worker": 1, "kl_coeff": 0.2, "lr": 0.0005, "sample_async": false, "output_max_file_size": 67108864, "lr_schedule": null, "clip_actions": false, "vf_loss_coeff": 1.0}}
{"pid": 43700, "hostname": "flow-main", "date": "2019-05-09_06-49-38", "custom_metrics": {"cost2_min": -197.36839659821578, "cost1_max": 473.2912831798127, "outflow_rate_min": 420.37620218132207, "cost2_mean": -174.1218092219794, "outflow_rate_max": 1250.7210332606412, "system_level_velocity_min": 10.57335661913673, "cost1_min": 113.63982563976552, "cost2_max": -97.96849760466432, "system_level_velocity_max": 16.511628402946087, "cost1_mean": 350.45347548116604, "system_level_velocity_mean": 12.628040324223011, "outflow_rate_mean": 1035.8292913290534}, "episodes_total": 27478, "num_metric_batches_dropped": 0, "info": {"default": {"kl": 0.016900422051548958, "entropy": 3.007495880126953, "total_loss": 26.705066680908203, "cur_kl_coeff": 0.20000003278255463, "vf_explained_var": 0.8797975182533264, "vf_loss": 26.708621978759766, "cur_lr": 0.0005000000237487257, "policy_loss": -0.006933148484677076}, "grad_time_ms": 42075.456, "update_time_ms": 11.342, "num_steps_trained": 49847571, "num_steps_sampled": 49847571, "load_time_ms": 64.86, "sample_time_ms": 28478.852}, "episode_reward_max": 861.3978291316035, "iterations_since_restore": 65, "episode_reward_mean": 608.7158128705724, "timesteps_total": 49847571, "timesteps_since_restore": 11726483, "experiment_id": "9b178520507b4656ac608c6ff2056ff7", "node_ip": "10.138.0.2", "timestamp": 1557384578, "episode_reward_min": 172.76009465317807, "done": false, "training_iteration": 365, "time_total_s": 18845.38031578064, "time_since_restore": 4602.503486394882, "policy_reward_mean": {}, "episode_len_mean": 745.67, "episodes_this_iter": 82, "timesteps_this_iter": 177787, "time_this_iter_s": 69.47576069831848, "config": {"num_workers": 60, "tf_session_args": {"device_count": {"CPU": 1}, "gpu_options": {"allow_growth": true}, "inter_op_parallelism_threads": 2, "log_device_placement": false, "allow_soft_placement": true, "intra_op_parallelism_threads": 2}, "batch_mode": "truncate_episodes", "collect_metrics_timeout": 180, "sample_batch_size": 750, "custom_resources_per_worker": {}, "vf_share_layers": false, "gamma": 0.99, "optimizer": {}, "input_evaluation": null, "num_envs_per_worker": 1, "train_batch_size": 90000, "vf_clip_param": 1000000.0, "kl_target": 0.01, "entropy_coeff": 0.0, "env_config": {"run": "PPO", "flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.3,\n            \"eta3\": 0.1,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 10.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 600,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}"}, "num_gpus_per_worker": 0, "synchronize_filters": true, "straggler_mitigation": false, "num_gpus": 0, "model": {"custom_options": {}, "custom_model": null, "custom_preprocessor": null, "squash_to_range": false, "framestack": true, "fcnet_hiddens": [128, 64, 32], "fcnet_activation": "tanh", "lstm_use_prev_action_reward": false, "grayscale": false, "conv_activation": "relu", "channel_major": false, "conv_filters": null, "dim": 84, "lstm_cell_size": 256, "use_lstm": false, "zero_mean": true, "free_log_std": false, "max_seq_len": 20}, "observation_filter": "MeanStdFilter", "use_gae": true, "log_level": "INFO", "num_sgd_iter": 10, "monitor": false, "env": "MultiWaveAttenuationMergePOEnvBufferedObs-v0no_random_eta2:0.2", "clip_param": 0.3, "lambda": 0.97, "simple_optimizer": false, "sgd_minibatch_size": 128, "num_cpus_for_driver": 1, "input": "sampler", "output": null, "horizon": 1500, "preprocessor_pref": "deepmind", "compress_observations": false, "output_compress_columns": ["obs", "new_obs"], "clip_rewards": null, "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "multiagent": {"policies_to_train": null, "policy_graphs": {}, "policy_mapping_fn": null}, "callbacks": {"on_train_result": null, "on_sample_end": null, "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7fe94dd0c1d0>", "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7fe94dd0c828>", "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7fe94dd0cd68>"}, "num_cpus_per_worker": 1, "kl_coeff": 0.2, "lr": 0.0005, "sample_async": false, "output_max_file_size": 67108864, "lr_schedule": null, "clip_actions": false, "vf_loss_coeff": 1.0}}
{"pid": 43700, "hostname": "flow-main", "date": "2019-05-09_06-50-50", "custom_metrics": {"cost2_min": -200.73521729469857, "cost1_max": 447.85912432983605, "outflow_rate_min": 439.4894389526946, "cost2_mean": -173.71847948869478, "outflow_rate_max": 1229.330310176317, "system_level_velocity_min": 10.981727060718807, "cost1_min": 118.94413313534584, "cost2_max": -99.10638575948941, "system_level_velocity_max": 15.760363618946933, "cost1_mean": 351.77656470040574, "system_level_velocity_mean": 12.669321016496138, "outflow_rate_mean": 1039.432813886176}, "episodes_total": 27559, "num_metric_batches_dropped": 0, "info": {"default": {"kl": 0.015671994537115097, "entropy": 3.042775869369507, "total_loss": 26.153179168701172, "cur_kl_coeff": 0.20000001788139343, "vf_explained_var": 0.8794960379600525, "vf_loss": 26.157073974609375, "cur_lr": 0.0005000000237487257, "policy_loss": -0.007029277738183737}, "grad_time_ms": 42158.427, "update_time_ms": 11.272, "num_steps_trained": 50027700, "num_steps_sampled": 50027700, "load_time_ms": 65.281, "sample_time_ms": 28557.722}, "episode_reward_max": 750.3310233095557, "iterations_since_restore": 66, "episode_reward_mean": 602.5611868152366, "timesteps_total": 50027700, "timesteps_since_restore": 11906612, "experiment_id": "9b178520507b4656ac608c6ff2056ff7", "node_ip": "10.138.0.2", "timestamp": 1557384650, "episode_reward_min": 179.9087680546615, "done": false, "training_iteration": 366, "time_total_s": 18917.405647277832, "time_since_restore": 4674.528817892075, "policy_reward_mean": {}, "episode_len_mean": 745.75, "episodes_this_iter": 81, "timesteps_this_iter": 180129, "time_this_iter_s": 72.02533149719238, "config": {"num_workers": 60, "tf_session_args": {"device_count": {"CPU": 1}, "gpu_options": {"allow_growth": true}, "inter_op_parallelism_threads": 2, "log_device_placement": false, "allow_soft_placement": true, "intra_op_parallelism_threads": 2}, "batch_mode": "truncate_episodes", "collect_metrics_timeout": 180, "sample_batch_size": 750, "custom_resources_per_worker": {}, "vf_share_layers": false, "gamma": 0.99, "optimizer": {}, "input_evaluation": null, "num_envs_per_worker": 1, "train_batch_size": 90000, "vf_clip_param": 1000000.0, "kl_target": 0.01, "entropy_coeff": 0.0, "env_config": {"run": "PPO", "flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.3,\n            \"eta3\": 0.1,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 10.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 600,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}"}, "num_gpus_per_worker": 0, "synchronize_filters": true, "straggler_mitigation": false, "num_gpus": 0, "model": {"custom_options": {}, "custom_model": null, "custom_preprocessor": null, "squash_to_range": false, "framestack": true, "fcnet_hiddens": [128, 64, 32], "fcnet_activation": "tanh", "lstm_use_prev_action_reward": false, "grayscale": false, "conv_activation": "relu", "channel_major": false, "conv_filters": null, "dim": 84, "lstm_cell_size": 256, "use_lstm": false, "zero_mean": true, "free_log_std": false, "max_seq_len": 20}, "observation_filter": "MeanStdFilter", "use_gae": true, "log_level": "INFO", "num_sgd_iter": 10, "monitor": false, "env": "MultiWaveAttenuationMergePOEnvBufferedObs-v0no_random_eta2:0.2", "clip_param": 0.3, "lambda": 0.97, "simple_optimizer": false, "sgd_minibatch_size": 128, "num_cpus_for_driver": 1, "input": "sampler", "output": null, "horizon": 1500, "preprocessor_pref": "deepmind", "compress_observations": false, "output_compress_columns": ["obs", "new_obs"], "clip_rewards": null, "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "multiagent": {"policies_to_train": null, "policy_graphs": {}, "policy_mapping_fn": null}, "callbacks": {"on_train_result": null, "on_sample_end": null, "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7fe94d055e48>", "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7fe94d055b00>", "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7fe94d0557f0>"}, "num_cpus_per_worker": 1, "kl_coeff": 0.2, "lr": 0.0005, "sample_async": false, "output_max_file_size": 67108864, "lr_schedule": null, "clip_actions": false, "vf_loss_coeff": 1.0}}
{"pid": 43700, "hostname": "flow-main", "date": "2019-05-09_06-52-01", "custom_metrics": {"cost2_min": -202.89876149312914, "cost1_max": 463.0024296713914, "outflow_rate_min": 437.0256331336483, "cost2_mean": -171.60319777679905, "outflow_rate_max": 1241.1428392148223, "system_level_velocity_min": 9.915837162786545, "cost1_min": 118.42545101185081, "cost2_max": -93.6298722869887, "system_level_velocity_max": 16.250092157762193, "cost1_mean": 340.88997900329093, "system_level_velocity_mean": 12.451287914735598, "outflow_rate_mean": 1011.6881710497541}, "episodes_total": 27643, "num_metric_batches_dropped": 0, "info": {"default": {"kl": 0.01576772704720497, "entropy": 3.032590389251709, "total_loss": 27.166244506835938, "cur_kl_coeff": 0.20000003278255463, "vf_explained_var": 0.8766962885856628, "vf_loss": 27.169025421142578, "cur_lr": 0.0005000000237487257, "policy_loss": -0.005932700354605913}, "grad_time_ms": 42136.191, "update_time_ms": 11.357, "num_steps_trained": 50208969, "num_steps_sampled": 50208969, "load_time_ms": 67.387, "sample_time_ms": 28576.044}, "episode_reward_max": 804.140574740318, "iterations_since_restore": 67, "episode_reward_mean": 592.247121800777, "timesteps_total": 50208969, "timesteps_since_restore": 12087881, "experiment_id": "9b178520507b4656ac608c6ff2056ff7", "node_ip": "10.138.0.2", "timestamp": 1557384721, "episode_reward_min": 183.4656918901974, "done": false, "training_iteration": 367, "time_total_s": 18987.958714962006, "time_since_restore": 4745.081885576248, "policy_reward_mean": {}, "episode_len_mean": 738.77, "episodes_this_iter": 84, "timesteps_this_iter": 181269, "time_this_iter_s": 70.55306768417358, "config": {"num_workers": 60, "tf_session_args": {"device_count": {"CPU": 1}, "gpu_options": {"allow_growth": true}, "inter_op_parallelism_threads": 2, "log_device_placement": false, "allow_soft_placement": true, "intra_op_parallelism_threads": 2}, "batch_mode": "truncate_episodes", "collect_metrics_timeout": 180, "sample_batch_size": 750, "custom_resources_per_worker": {}, "vf_share_layers": false, "gamma": 0.99, "optimizer": {}, "input_evaluation": null, "num_envs_per_worker": 1, "train_batch_size": 90000, "vf_clip_param": 1000000.0, "kl_target": 0.01, "entropy_coeff": 0.0, "env_config": {"run": "PPO", "flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.3,\n            \"eta3\": 0.1,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 10.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 600,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}"}, "num_gpus_per_worker": 0, "synchronize_filters": true, "straggler_mitigation": false, "num_gpus": 0, "model": {"custom_options": {}, "custom_model": null, "custom_preprocessor": null, "squash_to_range": false, "framestack": true, "fcnet_hiddens": [128, 64, 32], "fcnet_activation": "tanh", "lstm_use_prev_action_reward": false, "grayscale": false, "conv_activation": "relu", "channel_major": false, "conv_filters": null, "dim": 84, "lstm_cell_size": 256, "use_lstm": false, "zero_mean": true, "free_log_std": false, "max_seq_len": 20}, "observation_filter": "MeanStdFilter", "use_gae": true, "log_level": "INFO", "num_sgd_iter": 10, "monitor": false, "env": "MultiWaveAttenuationMergePOEnvBufferedObs-v0no_random_eta2:0.2", "clip_param": 0.3, "lambda": 0.97, "simple_optimizer": false, "sgd_minibatch_size": 128, "num_cpus_for_driver": 1, "input": "sampler", "output": null, "horizon": 1500, "preprocessor_pref": "deepmind", "compress_observations": false, "output_compress_columns": ["obs", "new_obs"], "clip_rewards": null, "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "multiagent": {"policies_to_train": null, "policy_graphs": {}, "policy_mapping_fn": null}, "callbacks": {"on_train_result": null, "on_sample_end": null, "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7fe94dd0cb00>", "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7fe94dd0c550>", "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7fe94dd0c128>"}, "num_cpus_per_worker": 1, "kl_coeff": 0.2, "lr": 0.0005, "sample_async": false, "output_max_file_size": 67108864, "lr_schedule": null, "clip_actions": false, "vf_loss_coeff": 1.0}}
{"pid": 43700, "hostname": "flow-main", "date": "2019-05-09_06-53-10", "custom_metrics": {"cost2_min": -193.76244959223794, "cost1_max": 458.66339696630916, "outflow_rate_min": 437.0256331336483, "cost2_mean": -168.9622498583649, "outflow_rate_max": 1245.736987317827, "system_level_velocity_min": 8.886875567667973, "cost1_min": 116.23734132890148, "cost2_max": -93.6298722869887, "system_level_velocity_max": 16.177370692794042, "cost1_mean": 335.87116641398114, "system_level_velocity_mean": 12.442018212101623, "outflow_rate_mean": 1000.478899976057}, "episodes_total": 27725, "num_metric_batches_dropped": 0, "info": {"default": {"kl": 0.016588503494858742, "entropy": 3.047044515609741, "total_loss": 27.278148651123047, "cur_kl_coeff": 0.20000003278255463, "vf_explained_var": 0.8787233829498291, "vf_loss": 27.281827926635742, "cur_lr": 0.0005000000237487257, "policy_loss": -0.006993284448981285}, "grad_time_ms": 42158.571, "update_time_ms": 11.147, "num_steps_trained": 50388978, "num_steps_sampled": 50388978, "load_time_ms": 64.194, "sample_time_ms": 28549.937}, "episode_reward_max": 791.5614676710545, "iterations_since_restore": 68, "episode_reward_mean": 582.6015120315682, "timesteps_total": 50388978, "timesteps_since_restore": 12267890, "experiment_id": "9b178520507b4656ac608c6ff2056ff7", "node_ip": "10.138.0.2", "timestamp": 1557384790, "episode_reward_min": 168.61541581756367, "done": false, "training_iteration": 368, "time_total_s": 19057.579248905182, "time_since_restore": 4814.702419519424, "policy_reward_mean": {}, "episode_len_mean": 729.92, "episodes_this_iter": 82, "timesteps_this_iter": 180009, "time_this_iter_s": 69.62053394317627, "config": {"num_workers": 60, "tf_session_args": {"device_count": {"CPU": 1}, "gpu_options": {"allow_growth": true}, "inter_op_parallelism_threads": 2, "log_device_placement": false, "allow_soft_placement": true, "intra_op_parallelism_threads": 2}, "batch_mode": "truncate_episodes", "collect_metrics_timeout": 180, "sample_batch_size": 750, "custom_resources_per_worker": {}, "vf_share_layers": false, "gamma": 0.99, "optimizer": {}, "input_evaluation": null, "num_envs_per_worker": 1, "train_batch_size": 90000, "vf_clip_param": 1000000.0, "kl_target": 0.01, "entropy_coeff": 0.0, "env_config": {"run": "PPO", "flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.3,\n            \"eta3\": 0.1,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 10.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 600,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}"}, "num_gpus_per_worker": 0, "synchronize_filters": true, "straggler_mitigation": false, "num_gpus": 0, "model": {"custom_options": {}, "custom_model": null, "custom_preprocessor": null, "squash_to_range": false, "framestack": true, "fcnet_hiddens": [128, 64, 32], "fcnet_activation": "tanh", "lstm_use_prev_action_reward": false, "grayscale": false, "conv_activation": "relu", "channel_major": false, "conv_filters": null, "dim": 84, "lstm_cell_size": 256, "use_lstm": false, "zero_mean": true, "free_log_std": false, "max_seq_len": 20}, "observation_filter": "MeanStdFilter", "use_gae": true, "log_level": "INFO", "num_sgd_iter": 10, "monitor": false, "env": "MultiWaveAttenuationMergePOEnvBufferedObs-v0no_random_eta2:0.2", "clip_param": 0.3, "lambda": 0.97, "simple_optimizer": false, "sgd_minibatch_size": 128, "num_cpus_for_driver": 1, "input": "sampler", "output": null, "horizon": 1500, "preprocessor_pref": "deepmind", "compress_observations": false, "output_compress_columns": ["obs", "new_obs"], "clip_rewards": null, "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "multiagent": {"policies_to_train": null, "policy_graphs": {}, "policy_mapping_fn": null}, "callbacks": {"on_train_result": null, "on_sample_end": null, "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7fe94d055eb8>", "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7fe94d0559b0>", "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7fe94d055710>"}, "num_cpus_per_worker": 1, "kl_coeff": 0.2, "lr": 0.0005, "sample_async": false, "output_max_file_size": 67108864, "lr_schedule": null, "clip_actions": false, "vf_loss_coeff": 1.0}}
{"pid": 43700, "hostname": "flow-main", "date": "2019-05-09_06-54-20", "custom_metrics": {"cost2_min": -194.4389558361456, "cost1_max": 420.69910784159856, "outflow_rate_min": 254.23111705178346, "cost2_mean": -170.08816832543664, "outflow_rate_max": 1194.6199772218251, "system_level_velocity_min": 10.939685473972315, "cost1_min": 51.30361854168639, "cost2_max": -63.02687351270551, "system_level_velocity_max": 15.280620536959914, "cost1_mean": 339.88194289284434, "system_level_velocity_mean": 12.567729368307019, "outflow_rate_mean": 1009.3201167770457}, "episodes_total": 27810, "num_metric_batches_dropped": 0, "info": {"default": {"kl": 0.01745382323861122, "entropy": 3.0171329975128174, "total_loss": 28.93935775756836, "cur_kl_coeff": 0.20000003278255463, "vf_explained_var": 0.8683621287345886, "vf_loss": 28.943439483642578, "cur_lr": 0.0005000000237487257, "policy_loss": -0.007570992223918438}, "grad_time_ms": 42056.495, "update_time_ms": 11.021, "num_steps_trained": 50566009, "num_steps_sampled": 50566009, "load_time_ms": 63.235, "sample_time_ms": 28534.158}, "episode_reward_max": 696.0862329162263, "iterations_since_restore": 69, "episode_reward_mean": 587.0886499998886, "timesteps_total": 50566009, "timesteps_since_restore": 12444921, "experiment_id": "9b178520507b4656ac608c6ff2056ff7", "node_ip": "10.138.0.2", "timestamp": 1557384860, "episode_reward_min": 57.01504924110661, "done": false, "training_iteration": 369, "time_total_s": 19127.259735107422, "time_since_restore": 4884.382905721664, "policy_reward_mean": {}, "episode_len_mean": 729.19, "episodes_this_iter": 85, "timesteps_this_iter": 177031, "time_this_iter_s": 69.68048620223999, "config": {"num_workers": 60, "tf_session_args": {"device_count": {"CPU": 1}, "gpu_options": {"allow_growth": true}, "inter_op_parallelism_threads": 2, "log_device_placement": false, "allow_soft_placement": true, "intra_op_parallelism_threads": 2}, "batch_mode": "truncate_episodes", "collect_metrics_timeout": 180, "sample_batch_size": 750, "custom_resources_per_worker": {}, "vf_share_layers": false, "gamma": 0.99, "optimizer": {}, "input_evaluation": null, "num_envs_per_worker": 1, "train_batch_size": 90000, "vf_clip_param": 1000000.0, "kl_target": 0.01, "entropy_coeff": 0.0, "env_config": {"run": "PPO", "flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.3,\n            \"eta3\": 0.1,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 10.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 600,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}"}, "num_gpus_per_worker": 0, "synchronize_filters": true, "straggler_mitigation": false, "num_gpus": 0, "model": {"custom_options": {}, "custom_model": null, "custom_preprocessor": null, "squash_to_range": false, "framestack": true, "fcnet_hiddens": [128, 64, 32], "fcnet_activation": "tanh", "lstm_use_prev_action_reward": false, "grayscale": false, "conv_activation": "relu", "channel_major": false, "conv_filters": null, "dim": 84, "lstm_cell_size": 256, "use_lstm": false, "zero_mean": true, "free_log_std": false, "max_seq_len": 20}, "observation_filter": "MeanStdFilter", "use_gae": true, "log_level": "INFO", "num_sgd_iter": 10, "monitor": false, "env": "MultiWaveAttenuationMergePOEnvBufferedObs-v0no_random_eta2:0.2", "clip_param": 0.3, "lambda": 0.97, "simple_optimizer": false, "sgd_minibatch_size": 128, "num_cpus_for_driver": 1, "input": "sampler", "output": null, "horizon": 1500, "preprocessor_pref": "deepmind", "compress_observations": false, "output_compress_columns": ["obs", "new_obs"], "clip_rewards": null, "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "multiagent": {"policies_to_train": null, "policy_graphs": {}, "policy_mapping_fn": null}, "callbacks": {"on_train_result": null, "on_sample_end": null, "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7fe94dd0cd68>", "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7fe94dd0c1d0>", "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7fe94dcedcc0>"}, "num_cpus_per_worker": 1, "kl_coeff": 0.2, "lr": 0.0005, "sample_async": false, "output_max_file_size": 67108864, "lr_schedule": null, "clip_actions": false, "vf_loss_coeff": 1.0}}
{"pid": 43700, "hostname": "flow-main", "date": "2019-05-09_06-55-29", "custom_metrics": {"cost2_min": -200.22946507029468, "cost1_max": 449.8372798703645, "outflow_rate_min": 868.196704953328, "cost2_mean": -175.25666210754417, "outflow_rate_max": 1234.4930514456355, "system_level_velocity_min": 10.727541572978577, "cost1_min": 276.43567537113984, "cost2_max": -147.27301157461233, "system_level_velocity_max": 15.925810689572133, "cost1_mean": 359.6130907628161, "system_level_velocity_mean": 12.907622200645617, "outflow_rate_mean": 1056.0870981690357}, "episodes_total": 27892, "num_metric_batches_dropped": 0, "info": {"default": {"kl": 0.01784902811050415, "entropy": 3.014814853668213, "total_loss": 27.60066795349121, "cur_kl_coeff": 0.20000003278255463, "vf_explained_var": 0.8695300817489624, "vf_loss": 27.60416030883789, "cur_lr": 0.0005000000237487257, "policy_loss": -0.007064369507133961}, "grad_time_ms": 41959.641, "update_time_ms": 11.059, "num_steps_trained": 50743740, "num_steps_sampled": 50743740, "load_time_ms": 60.147, "sample_time_ms": 28495.851}, "episode_reward_max": 748.7188366084158, "iterations_since_restore": 70, "episode_reward_mean": 619.863201792182, "timesteps_total": 50743740, "timesteps_since_restore": 12622652, "experiment_id": "9b178520507b4656ac608c6ff2056ff7", "node_ip": "10.138.0.2", "timestamp": 1557384929, "episode_reward_min": 467.6358672204275, "done": false, "training_iteration": 370, "time_total_s": 19196.696319818497, "time_since_restore": 4953.819490432739, "policy_reward_mean": {}, "episode_len_mean": 749.38, "episodes_this_iter": 82, "timesteps_this_iter": 177731, "time_this_iter_s": 69.43658471107483, "config": {"num_workers": 60, "tf_session_args": {"device_count": {"CPU": 1}, "gpu_options": {"allow_growth": true}, "inter_op_parallelism_threads": 2, "log_device_placement": false, "allow_soft_placement": true, "intra_op_parallelism_threads": 2}, "batch_mode": "truncate_episodes", "collect_metrics_timeout": 180, "sample_batch_size": 750, "custom_resources_per_worker": {}, "vf_share_layers": false, "gamma": 0.99, "optimizer": {}, "input_evaluation": null, "num_envs_per_worker": 1, "train_batch_size": 90000, "vf_clip_param": 1000000.0, "kl_target": 0.01, "entropy_coeff": 0.0, "env_config": {"run": "PPO", "flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.3,\n            \"eta3\": 0.1,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 10.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 600,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}"}, "num_gpus_per_worker": 0, "synchronize_filters": true, "straggler_mitigation": false, "num_gpus": 0, "model": {"custom_options": {}, "custom_model": null, "custom_preprocessor": null, "squash_to_range": false, "framestack": true, "fcnet_hiddens": [128, 64, 32], "fcnet_activation": "tanh", "lstm_use_prev_action_reward": false, "grayscale": false, "conv_activation": "relu", "channel_major": false, "conv_filters": null, "dim": 84, "lstm_cell_size": 256, "use_lstm": false, "zero_mean": true, "free_log_std": false, "max_seq_len": 20}, "observation_filter": "MeanStdFilter", "use_gae": true, "log_level": "INFO", "num_sgd_iter": 10, "monitor": false, "env": "MultiWaveAttenuationMergePOEnvBufferedObs-v0no_random_eta2:0.2", "clip_param": 0.3, "lambda": 0.97, "simple_optimizer": false, "sgd_minibatch_size": 128, "num_cpus_for_driver": 1, "input": "sampler", "output": null, "horizon": 1500, "preprocessor_pref": "deepmind", "compress_observations": false, "output_compress_columns": ["obs", "new_obs"], "clip_rewards": null, "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "multiagent": {"policies_to_train": null, "policy_graphs": {}, "policy_mapping_fn": null}, "callbacks": {"on_train_result": null, "on_sample_end": null, "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7fe94d055fd0>", "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7fe94d055390>", "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7fe94d0551d0>"}, "num_cpus_per_worker": 1, "kl_coeff": 0.2, "lr": 0.0005, "sample_async": false, "output_max_file_size": 67108864, "lr_schedule": null, "clip_actions": false, "vf_loss_coeff": 1.0}}
{"pid": 43700, "hostname": "flow-main", "date": "2019-05-09_06-56-41", "custom_metrics": {"cost2_min": -198.36895471543912, "cost1_max": 467.6566111326847, "outflow_rate_min": 439.1516892056664, "cost2_mean": -173.15356533688356, "outflow_rate_max": 1251.9943110295917, "system_level_velocity_min": 9.349247799833327, "cost1_min": 118.63763685149438, "cost2_max": -93.86759123688515, "system_level_velocity_max": 16.492051447112264, "cost1_mean": 346.6461899370494, "system_level_velocity_mean": 12.822223817278495, "outflow_rate_mean": 1023.4923397314456}, "episodes_total": 27978, "num_metric_batches_dropped": 0, "info": {"default": {"kl": 0.015851883217692375, "entropy": 3.0099024772644043, "total_loss": 29.388168334960938, "cur_kl_coeff": 0.20000003278255463, "vf_explained_var": 0.8646321296691895, "vf_loss": 29.391687393188477, "cur_lr": 0.0005000000237487257, "policy_loss": -0.006694587413221598}, "grad_time_ms": 41946.488, "update_time_ms": 10.87, "num_steps_trained": 50922471, "num_steps_sampled": 50922471, "load_time_ms": 61.434, "sample_time_ms": 28434.124}, "episode_reward_max": 807.4348098247408, "iterations_since_restore": 71, "episode_reward_mean": 599.1446980878676, "timesteps_total": 50922471, "timesteps_since_restore": 12801383, "experiment_id": "9b178520507b4656ac608c6ff2056ff7", "node_ip": "10.138.0.2", "timestamp": 1557385001, "episode_reward_min": 178.9035937387728, "done": false, "training_iteration": 371, "time_total_s": 19267.941822052002, "time_since_restore": 5025.0649926662445, "policy_reward_mean": {}, "episode_len_mean": 730.9, "episodes_this_iter": 86, "timesteps_this_iter": 178731, "time_this_iter_s": 71.24550223350525, "config": {"num_workers": 60, "tf_session_args": {"device_count": {"CPU": 1}, "gpu_options": {"allow_growth": true}, "inter_op_parallelism_threads": 2, "log_device_placement": false, "allow_soft_placement": true, "intra_op_parallelism_threads": 2}, "batch_mode": "truncate_episodes", "collect_metrics_timeout": 180, "sample_batch_size": 750, "custom_resources_per_worker": {}, "vf_share_layers": false, "gamma": 0.99, "optimizer": {}, "input_evaluation": null, "num_envs_per_worker": 1, "train_batch_size": 90000, "vf_clip_param": 1000000.0, "kl_target": 0.01, "entropy_coeff": 0.0, "env_config": {"run": "PPO", "flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.3,\n            \"eta3\": 0.1,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 10.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 600,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}"}, "num_gpus_per_worker": 0, "synchronize_filters": true, "straggler_mitigation": false, "num_gpus": 0, "model": {"custom_options": {}, "custom_model": null, "custom_preprocessor": null, "squash_to_range": false, "framestack": true, "fcnet_hiddens": [128, 64, 32], "fcnet_activation": "tanh", "lstm_use_prev_action_reward": false, "grayscale": false, "conv_activation": "relu", "channel_major": false, "conv_filters": null, "dim": 84, "lstm_cell_size": 256, "use_lstm": false, "zero_mean": true, "free_log_std": false, "max_seq_len": 20}, "observation_filter": "MeanStdFilter", "use_gae": true, "log_level": "INFO", "num_sgd_iter": 10, "monitor": false, "env": "MultiWaveAttenuationMergePOEnvBufferedObs-v0no_random_eta2:0.2", "clip_param": 0.3, "lambda": 0.97, "simple_optimizer": false, "sgd_minibatch_size": 128, "num_cpus_for_driver": 1, "input": "sampler", "output": null, "horizon": 1500, "preprocessor_pref": "deepmind", "compress_observations": false, "output_compress_columns": ["obs", "new_obs"], "clip_rewards": null, "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "multiagent": {"policies_to_train": null, "policy_graphs": {}, "policy_mapping_fn": null}, "callbacks": {"on_train_result": null, "on_sample_end": null, "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7fe94dd0cb00>", "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7fe94dd04128>", "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7fe94dd04518>"}, "num_cpus_per_worker": 1, "kl_coeff": 0.2, "lr": 0.0005, "sample_async": false, "output_max_file_size": 67108864, "lr_schedule": null, "clip_actions": false, "vf_loss_coeff": 1.0}}
{"pid": 43700, "hostname": "flow-main", "date": "2019-05-09_06-57-50", "custom_metrics": {"cost2_min": -203.28813355172292, "cost1_max": 462.27271903172044, "outflow_rate_min": 444.2249109402739, "cost2_mean": -173.4447031218262, "outflow_rate_max": 1245.3509575447672, "system_level_velocity_min": 8.871680179568113, "cost1_min": 120.6412999342169, "cost2_max": -97.52151036466582, "system_level_velocity_max": 16.2645249578069, "cost1_mean": 348.65923176894495, "system_level_velocity_mean": 12.740033536968797, "outflow_rate_mean": 1030.350128927543}, "episodes_total": 28062, "num_metric_batches_dropped": 0, "info": {"default": {"kl": 0.016595859080553055, "entropy": 3.047427177429199, "total_loss": 27.063568115234375, "cur_kl_coeff": 0.20000003278255463, "vf_explained_var": 0.8755671977996826, "vf_loss": 27.0667781829834, "cur_lr": 0.0005000000237487257, "policy_loss": -0.006529300007969141}, "grad_time_ms": 41679.555, "update_time_ms": 10.868, "num_steps_trained": 51102786, "num_steps_sampled": 51102786, "load_time_ms": 59.658, "sample_time_ms": 28346.545}, "episode_reward_max": 797.6272172606309, "iterations_since_restore": 72, "episode_reward_mean": 595.2090703199656, "timesteps_total": 51102786, "timesteps_since_restore": 12981698, "experiment_id": "9b178520507b4656ac608c6ff2056ff7", "node_ip": "10.138.0.2", "timestamp": 1557385070, "episode_reward_min": 184.70946680639602, "done": false, "training_iteration": 372, "time_total_s": 19337.470989704132, "time_since_restore": 5094.594160318375, "policy_reward_mean": {}, "episode_len_mean": 738.02, "episodes_this_iter": 84, "timesteps_this_iter": 180315, "time_this_iter_s": 69.52916765213013, "config": {"num_workers": 60, "tf_session_args": {"device_count": {"CPU": 1}, "gpu_options": {"allow_growth": true}, "inter_op_parallelism_threads": 2, "log_device_placement": false, "allow_soft_placement": true, "intra_op_parallelism_threads": 2}, "batch_mode": "truncate_episodes", "collect_metrics_timeout": 180, "sample_batch_size": 750, "custom_resources_per_worker": {}, "vf_share_layers": false, "gamma": 0.99, "optimizer": {}, "input_evaluation": null, "num_envs_per_worker": 1, "train_batch_size": 90000, "vf_clip_param": 1000000.0, "kl_target": 0.01, "entropy_coeff": 0.0, "env_config": {"run": "PPO", "flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.3,\n            \"eta3\": 0.1,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 10.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 600,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}"}, "num_gpus_per_worker": 0, "synchronize_filters": true, "straggler_mitigation": false, "num_gpus": 0, "model": {"custom_options": {}, "custom_model": null, "custom_preprocessor": null, "squash_to_range": false, "framestack": true, "fcnet_hiddens": [128, 64, 32], "fcnet_activation": "tanh", "lstm_use_prev_action_reward": false, "grayscale": false, "conv_activation": "relu", "channel_major": false, "conv_filters": null, "dim": 84, "lstm_cell_size": 256, "use_lstm": false, "zero_mean": true, "free_log_std": false, "max_seq_len": 20}, "observation_filter": "MeanStdFilter", "use_gae": true, "log_level": "INFO", "num_sgd_iter": 10, "monitor": false, "env": "MultiWaveAttenuationMergePOEnvBufferedObs-v0no_random_eta2:0.2", "clip_param": 0.3, "lambda": 0.97, "simple_optimizer": false, "sgd_minibatch_size": 128, "num_cpus_for_driver": 1, "input": "sampler", "output": null, "horizon": 1500, "preprocessor_pref": "deepmind", "compress_observations": false, "output_compress_columns": ["obs", "new_obs"], "clip_rewards": null, "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "multiagent": {"policies_to_train": null, "policy_graphs": {}, "policy_mapping_fn": null}, "callbacks": {"on_train_result": null, "on_sample_end": null, "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7fe94dd04d30>", "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7fe94dd04d68>", "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7fe94dd040f0>"}, "num_cpus_per_worker": 1, "kl_coeff": 0.2, "lr": 0.0005, "sample_async": false, "output_max_file_size": 67108864, "lr_schedule": null, "clip_actions": false, "vf_loss_coeff": 1.0}}
{"pid": 43700, "hostname": "flow-main", "date": "2019-05-09_06-59-00", "custom_metrics": {"cost2_min": -201.48634406676442, "cost1_max": 474.3286657107336, "outflow_rate_min": 427.5122261681682, "cost2_mean": -173.46377559182002, "outflow_rate_max": 1252.8035377406427, "system_level_velocity_min": 9.611328142440053, "cost1_min": 116.18603352739412, "cost2_max": -97.52151036466582, "system_level_velocity_max": 16.5729724730541, "cost1_mean": 350.68579033371503, "system_level_velocity_mean": 12.791299217867023, "outflow_rate_mean": 1036.143057452934}, "episodes_total": 28144, "num_metric_batches_dropped": 0, "info": {"default": {"kl": 0.016933152452111244, "entropy": 3.0228896141052246, "total_loss": 28.273996353149414, "cur_kl_coeff": 0.20000003278255463, "vf_explained_var": 0.8712723851203918, "vf_loss": 28.277883529663086, "cur_lr": 0.0005000000237487257, "policy_loss": -0.007272898219525814}, "grad_time_ms": 41533.325, "update_time_ms": 11.026, "num_steps_trained": 51279928, "num_steps_sampled": 51279928, "load_time_ms": 58.265, "sample_time_ms": 28272.863}, "episode_reward_max": 848.859359704184, "iterations_since_restore": 73, "episode_reward_mean": 600.0081943805322, "timesteps_total": 51279928, "timesteps_since_restore": 13158840, "experiment_id": "9b178520507b4656ac608c6ff2056ff7", "node_ip": "10.138.0.2", "timestamp": 1557385140, "episode_reward_min": 173.9309209764648, "done": false, "training_iteration": 373, "time_total_s": 19406.74751520157, "time_since_restore": 5163.870685815811, "policy_reward_mean": {}, "episode_len_mean": 740.42, "episodes_this_iter": 82, "timesteps_this_iter": 177142, "time_this_iter_s": 69.27652549743652, "config": {"num_workers": 60, "tf_session_args": {"device_count": {"CPU": 1}, "gpu_options": {"allow_growth": true}, "inter_op_parallelism_threads": 2, "log_device_placement": false, "allow_soft_placement": true, "intra_op_parallelism_threads": 2}, "batch_mode": "truncate_episodes", "collect_metrics_timeout": 180, "sample_batch_size": 750, "custom_resources_per_worker": {}, "vf_share_layers": false, "gamma": 0.99, "optimizer": {}, "input_evaluation": null, "num_envs_per_worker": 1, "train_batch_size": 90000, "vf_clip_param": 1000000.0, "kl_target": 0.01, "entropy_coeff": 0.0, "env_config": {"run": "PPO", "flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.3,\n            \"eta3\": 0.1,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 10.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 600,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}"}, "num_gpus_per_worker": 0, "synchronize_filters": true, "straggler_mitigation": false, "num_gpus": 0, "model": {"custom_options": {}, "custom_model": null, "custom_preprocessor": null, "squash_to_range": false, "framestack": true, "fcnet_hiddens": [128, 64, 32], "fcnet_activation": "tanh", "lstm_use_prev_action_reward": false, "grayscale": false, "conv_activation": "relu", "channel_major": false, "conv_filters": null, "dim": 84, "lstm_cell_size": 256, "use_lstm": false, "zero_mean": true, "free_log_std": false, "max_seq_len": 20}, "observation_filter": "MeanStdFilter", "use_gae": true, "log_level": "INFO", "num_sgd_iter": 10, "monitor": false, "env": "MultiWaveAttenuationMergePOEnvBufferedObs-v0no_random_eta2:0.2", "clip_param": 0.3, "lambda": 0.97, "simple_optimizer": false, "sgd_minibatch_size": 128, "num_cpus_for_driver": 1, "input": "sampler", "output": null, "horizon": 1500, "preprocessor_pref": "deepmind", "compress_observations": false, "output_compress_columns": ["obs", "new_obs"], "clip_rewards": null, "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "multiagent": {"policies_to_train": null, "policy_graphs": {}, "policy_mapping_fn": null}, "callbacks": {"on_train_result": null, "on_sample_end": null, "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7fe94dd0c7b8>", "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7fe94dd0c710>", "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7fe94dd0ce48>"}, "num_cpus_per_worker": 1, "kl_coeff": 0.2, "lr": 0.0005, "sample_async": false, "output_max_file_size": 67108864, "lr_schedule": null, "clip_actions": false, "vf_loss_coeff": 1.0}}
{"pid": 43700, "hostname": "flow-main", "date": "2019-05-09_07-00-09", "custom_metrics": {"cost2_min": -199.68130002050557, "cost1_max": 467.96177878617596, "outflow_rate_min": 823.3860750663549, "cost2_mean": -173.57076507344158, "outflow_rate_max": 1254.5165060639665, "system_level_velocity_min": 9.262844374186846, "cost1_min": 252.9124155241346, "cost2_max": -146.43975000508914, "system_level_velocity_max": 16.536414372736157, "cost1_mean": 352.7452907394452, "system_level_velocity_mean": 12.67677693855833, "outflow_rate_mean": 1040.6955135193998}, "episodes_total": 28226, "num_metric_batches_dropped": 0, "info": {"default": {"kl": 0.016444675624370575, "entropy": 3.026670217514038, "total_loss": 27.258424758911133, "cur_kl_coeff": 0.20000003278255463, "vf_explained_var": 0.8724598288536072, "vf_loss": 27.262067794799805, "cur_lr": 0.0005000000237487257, "policy_loss": -0.006929268594831228}, "grad_time_ms": 41356.394, "update_time_ms": 10.93, "num_steps_trained": 51457839, "num_steps_sampled": 51457839, "load_time_ms": 57.166, "sample_time_ms": 28227.399}, "episode_reward_max": 795.0127141325676, "iterations_since_restore": 74, "episode_reward_mean": 608.3250507691232, "timesteps_total": 51457839, "timesteps_since_restore": 13336751, "experiment_id": "9b178520507b4656ac608c6ff2056ff7", "node_ip": "10.138.0.2", "timestamp": 1557385209, "episode_reward_min": 502.0234975530528, "done": false, "training_iteration": 374, "time_total_s": 19475.83502316475, "time_since_restore": 5232.958193778992, "policy_reward_mean": {}, "episode_len_mean": 751.0, "episodes_this_iter": 82, "timesteps_this_iter": 177911, "time_this_iter_s": 69.08750796318054, "config": {"num_workers": 60, "tf_session_args": {"device_count": {"CPU": 1}, "gpu_options": {"allow_growth": true}, "inter_op_parallelism_threads": 2, "log_device_placement": false, "allow_soft_placement": true, "intra_op_parallelism_threads": 2}, "batch_mode": "truncate_episodes", "collect_metrics_timeout": 180, "sample_batch_size": 750, "custom_resources_per_worker": {}, "vf_share_layers": false, "gamma": 0.99, "optimizer": {}, "input_evaluation": null, "num_envs_per_worker": 1, "train_batch_size": 90000, "vf_clip_param": 1000000.0, "kl_target": 0.01, "entropy_coeff": 0.0, "env_config": {"run": "PPO", "flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.3,\n            \"eta3\": 0.1,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 10.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 600,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}"}, "num_gpus_per_worker": 0, "synchronize_filters": true, "straggler_mitigation": false, "num_gpus": 0, "model": {"custom_options": {}, "custom_model": null, "custom_preprocessor": null, "squash_to_range": false, "framestack": true, "fcnet_hiddens": [128, 64, 32], "fcnet_activation": "tanh", "lstm_use_prev_action_reward": false, "grayscale": false, "conv_activation": "relu", "channel_major": false, "conv_filters": null, "dim": 84, "lstm_cell_size": 256, "use_lstm": false, "zero_mean": true, "free_log_std": false, "max_seq_len": 20}, "observation_filter": "MeanStdFilter", "use_gae": true, "log_level": "INFO", "num_sgd_iter": 10, "monitor": false, "env": "MultiWaveAttenuationMergePOEnvBufferedObs-v0no_random_eta2:0.2", "clip_param": 0.3, "lambda": 0.97, "simple_optimizer": false, "sgd_minibatch_size": 128, "num_cpus_for_driver": 1, "input": "sampler", "output": null, "horizon": 1500, "preprocessor_pref": "deepmind", "compress_observations": false, "output_compress_columns": ["obs", "new_obs"], "clip_rewards": null, "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "multiagent": {"policies_to_train": null, "policy_graphs": {}, "policy_mapping_fn": null}, "callbacks": {"on_train_result": null, "on_sample_end": null, "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7fe94dd042b0>", "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7fe94dd04cf8>", "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7fe94dd044e0>"}, "num_cpus_per_worker": 1, "kl_coeff": 0.2, "lr": 0.0005, "sample_async": false, "output_max_file_size": 67108864, "lr_schedule": null, "clip_actions": false, "vf_loss_coeff": 1.0}}
{"pid": 43700, "hostname": "flow-main", "date": "2019-05-09_07-01-19", "custom_metrics": {"cost2_min": -199.98995196753341, "cost1_max": 481.4225051917007, "outflow_rate_min": 882.5414711820395, "cost2_mean": -174.356741926212, "outflow_rate_max": 1269.0965623353165, "system_level_velocity_min": 10.524317258053593, "cost1_min": 291.5775348644739, "cost2_max": -146.43975000508914, "system_level_velocity_max": 17.0017523267633, "cost1_mean": 352.2851294744086, "system_level_velocity_mean": 12.678828260231993, "outflow_rate_mean": 1040.131872216874}, "episodes_total": 28308, "num_metric_batches_dropped": 0, "info": {"default": {"kl": 0.01581455022096634, "entropy": 3.0600504875183105, "total_loss": 26.9872989654541, "cur_kl_coeff": 0.20000001788139343, "vf_explained_var": 0.8704761266708374, "vf_loss": 26.991416931152344, "cur_lr": 0.0005000000237487257, "policy_loss": -0.007282187696546316}, "grad_time_ms": 41324.757, "update_time_ms": 10.779, "num_steps_trained": 51637796, "num_steps_sampled": 51637796, "load_time_ms": 57.396, "sample_time_ms": 28272.773}, "episode_reward_max": 850.1079218530174, "iterations_since_restore": 75, "episode_reward_mean": 606.0036556178413, "timesteps_total": 51637796, "timesteps_since_restore": 13516708, "experiment_id": "9b178520507b4656ac608c6ff2056ff7", "node_ip": "10.138.0.2", "timestamp": 1557385279, "episode_reward_min": 514.3725652328635, "done": false, "training_iteration": 375, "time_total_s": 19545.48297739029, "time_since_restore": 5302.606148004532, "policy_reward_mean": {}, "episode_len_mean": 749.35, "episodes_this_iter": 82, "timesteps_this_iter": 179957, "time_this_iter_s": 69.64795422554016, "config": {"num_workers": 60, "tf_session_args": {"device_count": {"CPU": 1}, "gpu_options": {"allow_growth": true}, "inter_op_parallelism_threads": 2, "log_device_placement": false, "allow_soft_placement": true, "intra_op_parallelism_threads": 2}, "batch_mode": "truncate_episodes", "collect_metrics_timeout": 180, "sample_batch_size": 750, "custom_resources_per_worker": {}, "vf_share_layers": false, "gamma": 0.99, "optimizer": {}, "input_evaluation": null, "num_envs_per_worker": 1, "train_batch_size": 90000, "vf_clip_param": 1000000.0, "kl_target": 0.01, "entropy_coeff": 0.0, "env_config": {"run": "PPO", "flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.3,\n            \"eta3\": 0.1,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 10.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 600,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}"}, "num_gpus_per_worker": 0, "synchronize_filters": true, "straggler_mitigation": false, "num_gpus": 0, "model": {"custom_options": {}, "custom_model": null, "custom_preprocessor": null, "squash_to_range": false, "framestack": true, "fcnet_hiddens": [128, 64, 32], "fcnet_activation": "tanh", "lstm_use_prev_action_reward": false, "grayscale": false, "conv_activation": "relu", "channel_major": false, "conv_filters": null, "dim": 84, "lstm_cell_size": 256, "use_lstm": false, "zero_mean": true, "free_log_std": false, "max_seq_len": 20}, "observation_filter": "MeanStdFilter", "use_gae": true, "log_level": "INFO", "num_sgd_iter": 10, "monitor": false, "env": "MultiWaveAttenuationMergePOEnvBufferedObs-v0no_random_eta2:0.2", "clip_param": 0.3, "lambda": 0.97, "simple_optimizer": false, "sgd_minibatch_size": 128, "num_cpus_for_driver": 1, "input": "sampler", "output": null, "horizon": 1500, "preprocessor_pref": "deepmind", "compress_observations": false, "output_compress_columns": ["obs", "new_obs"], "clip_rewards": null, "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "multiagent": {"policies_to_train": null, "policy_graphs": {}, "policy_mapping_fn": null}, "callbacks": {"on_train_result": null, "on_sample_end": null, "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7fe94dd0c1d0>", "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7fe94dd0ca90>", "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7fe94dd0c940>"}, "num_cpus_per_worker": 1, "kl_coeff": 0.2, "lr": 0.0005, "sample_async": false, "output_max_file_size": 67108864, "lr_schedule": null, "clip_actions": false, "vf_loss_coeff": 1.0}}
{"pid": 43700, "hostname": "flow-main", "date": "2019-05-09_07-02-29", "custom_metrics": {"cost2_min": -199.84553716570744, "cost1_max": 465.2652209457889, "outflow_rate_min": 577.8740760366868, "cost2_mean": -173.5472594666787, "outflow_rate_max": 1251.1364417054542, "system_level_velocity_min": 9.461353621748948, "cost1_min": 175.35509505218957, "cost2_max": -127.35370473574883, "system_level_velocity_max": 16.48719146722322, "cost1_mean": 349.04199832634947, "system_level_velocity_mean": 12.639750528684246, "outflow_rate_mean": 1031.632442722866}, "episodes_total": 28391, "num_metric_batches_dropped": 0, "info": {"default": {"kl": 0.019135411828756332, "entropy": 3.064882278442383, "total_loss": 27.346439361572266, "cur_kl_coeff": 0.20000001788139343, "vf_explained_var": 0.8679921627044678, "vf_loss": 27.349348068237305, "cur_lr": 0.0005000000237487257, "policy_loss": -0.006734868977218866}, "grad_time_ms": 41154.909, "update_time_ms": 11.069, "num_steps_trained": 51816661, "num_steps_sampled": 51816661, "load_time_ms": 57.299, "sample_time_ms": 28251.101}, "episode_reward_max": 796.32614275555, "iterations_since_restore": 76, "episode_reward_mean": 604.0122608486747, "timesteps_total": 51816661, "timesteps_since_restore": 13695573, "experiment_id": "9b178520507b4656ac608c6ff2056ff7", "node_ip": "10.138.0.2", "timestamp": 1557385349, "episode_reward_min": 285.20356127506824, "done": false, "training_iteration": 376, "time_total_s": 19615.599637508392, "time_since_restore": 5372.722808122635, "policy_reward_mean": {}, "episode_len_mean": 744.92, "episodes_this_iter": 83, "timesteps_this_iter": 178865, "time_this_iter_s": 70.11666011810303, "config": {"num_workers": 60, "tf_session_args": {"device_count": {"CPU": 1}, "gpu_options": {"allow_growth": true}, "inter_op_parallelism_threads": 2, "log_device_placement": false, "allow_soft_placement": true, "intra_op_parallelism_threads": 2}, "batch_mode": "truncate_episodes", "collect_metrics_timeout": 180, "sample_batch_size": 750, "custom_resources_per_worker": {}, "vf_share_layers": false, "gamma": 0.99, "optimizer": {}, "input_evaluation": null, "num_envs_per_worker": 1, "train_batch_size": 90000, "vf_clip_param": 1000000.0, "kl_target": 0.01, "entropy_coeff": 0.0, "env_config": {"run": "PPO", "flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.3,\n            \"eta3\": 0.1,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 10.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 600,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}"}, "num_gpus_per_worker": 0, "synchronize_filters": true, "straggler_mitigation": false, "num_gpus": 0, "model": {"custom_options": {}, "custom_model": null, "custom_preprocessor": null, "squash_to_range": false, "framestack": true, "fcnet_hiddens": [128, 64, 32], "fcnet_activation": "tanh", "lstm_use_prev_action_reward": false, "grayscale": false, "conv_activation": "relu", "channel_major": false, "conv_filters": null, "dim": 84, "lstm_cell_size": 256, "use_lstm": false, "zero_mean": true, "free_log_std": false, "max_seq_len": 20}, "observation_filter": "MeanStdFilter", "use_gae": true, "log_level": "INFO", "num_sgd_iter": 10, "monitor": false, "env": "MultiWaveAttenuationMergePOEnvBufferedObs-v0no_random_eta2:0.2", "clip_param": 0.3, "lambda": 0.97, "simple_optimizer": false, "sgd_minibatch_size": 128, "num_cpus_for_driver": 1, "input": "sampler", "output": null, "horizon": 1500, "preprocessor_pref": "deepmind", "compress_observations": false, "output_compress_columns": ["obs", "new_obs"], "clip_rewards": null, "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "multiagent": {"policies_to_train": null, "policy_graphs": {}, "policy_mapping_fn": null}, "callbacks": {"on_train_result": null, "on_sample_end": null, "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7fe94dd0c240>", "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7fe94dd0c518>", "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7fe94dd0c320>"}, "num_cpus_per_worker": 1, "kl_coeff": 0.2, "lr": 0.0005, "sample_async": false, "output_max_file_size": 67108864, "lr_schedule": null, "clip_actions": false, "vf_loss_coeff": 1.0}}
{"pid": 43700, "hostname": "flow-main", "date": "2019-05-09_07-03-38", "custom_metrics": {"cost2_min": -205.39699653286044, "cost1_max": 459.5039088799636, "outflow_rate_min": 418.78720458565886, "cost2_mean": -170.84796475722868, "outflow_rate_max": 1241.1193888144335, "system_level_velocity_min": 9.200596497728677, "cost1_min": 113.34126104881243, "cost2_max": -94.49301003964436, "system_level_velocity_max": 16.15487194491092, "cost1_mean": 337.5933241730747, "system_level_velocity_mean": 12.420324463149896, "outflow_rate_mean": 1003.454962441082}, "episodes_total": 28477, "num_metric_batches_dropped": 0, "info": {"default": {"kl": 0.017023073509335518, "entropy": 3.077406883239746, "total_loss": 27.996076583862305, "cur_kl_coeff": 0.20000003278255463, "vf_explained_var": 0.8617267608642578, "vf_loss": 27.999563217163086, "cur_lr": 0.0005000000237487257, "policy_loss": -0.0068913171999156475}, "grad_time_ms": 41107.024, "update_time_ms": 11.056, "num_steps_trained": 51995142, "num_steps_sampled": 51995142, "load_time_ms": 57.514, "sample_time_ms": 28179.958}, "episode_reward_max": 795.8313391157426, "iterations_since_restore": 77, "episode_reward_mean": 591.584648806776, "timesteps_total": 51995142, "timesteps_since_restore": 13874054, "experiment_id": "9b178520507b4656ac608c6ff2056ff7", "node_ip": "10.138.0.2", "timestamp": 1557385418, "episode_reward_min": 174.36075484773608, "done": false, "training_iteration": 377, "time_total_s": 19684.94540286064, "time_since_restore": 5442.068573474884, "policy_reward_mean": {}, "episode_len_mean": 734.36, "episodes_this_iter": 86, "timesteps_this_iter": 178481, "time_this_iter_s": 69.34576535224915, "config": {"num_workers": 60, "tf_session_args": {"device_count": {"CPU": 1}, "gpu_options": {"allow_growth": true}, "inter_op_parallelism_threads": 2, "log_device_placement": false, "allow_soft_placement": true, "intra_op_parallelism_threads": 2}, "batch_mode": "truncate_episodes", "collect_metrics_timeout": 180, "sample_batch_size": 750, "custom_resources_per_worker": {}, "vf_share_layers": false, "gamma": 0.99, "optimizer": {}, "input_evaluation": null, "num_envs_per_worker": 1, "train_batch_size": 90000, "vf_clip_param": 1000000.0, "kl_target": 0.01, "entropy_coeff": 0.0, "env_config": {"run": "PPO", "flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.3,\n            \"eta3\": 0.1,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 10.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 600,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}"}, "num_gpus_per_worker": 0, "synchronize_filters": true, "straggler_mitigation": false, "num_gpus": 0, "model": {"custom_options": {}, "custom_model": null, "custom_preprocessor": null, "squash_to_range": false, "framestack": true, "fcnet_hiddens": [128, 64, 32], "fcnet_activation": "tanh", "lstm_use_prev_action_reward": false, "grayscale": false, "conv_activation": "relu", "channel_major": false, "conv_filters": null, "dim": 84, "lstm_cell_size": 256, "use_lstm": false, "zero_mean": true, "free_log_std": false, "max_seq_len": 20}, "observation_filter": "MeanStdFilter", "use_gae": true, "log_level": "INFO", "num_sgd_iter": 10, "monitor": false, "env": "MultiWaveAttenuationMergePOEnvBufferedObs-v0no_random_eta2:0.2", "clip_param": 0.3, "lambda": 0.97, "simple_optimizer": false, "sgd_minibatch_size": 128, "num_cpus_for_driver": 1, "input": "sampler", "output": null, "horizon": 1500, "preprocessor_pref": "deepmind", "compress_observations": false, "output_compress_columns": ["obs", "new_obs"], "clip_rewards": null, "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "multiagent": {"policies_to_train": null, "policy_graphs": {}, "policy_mapping_fn": null}, "callbacks": {"on_train_result": null, "on_sample_end": null, "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7fe94d055e48>", "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7fe94d055cf8>", "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7fe94d0551d0>"}, "num_cpus_per_worker": 1, "kl_coeff": 0.2, "lr": 0.0005, "sample_async": false, "output_max_file_size": 67108864, "lr_schedule": null, "clip_actions": false, "vf_loss_coeff": 1.0}}
{"pid": 43700, "hostname": "flow-main", "date": "2019-05-09_07-04-49", "custom_metrics": {"cost2_min": -202.48831052831298, "cost1_max": 465.52734374476256, "outflow_rate_min": 418.78720458565886, "cost2_mean": -171.91086680756536, "outflow_rate_max": 1249.1418057296255, "system_level_velocity_min": 10.66038378304379, "cost1_min": 113.34126104881243, "cost2_max": -94.49301003964436, "system_level_velocity_max": 16.35342518444119, "cost1_mean": 342.1561126068216, "system_level_velocity_mean": 12.55204441329544, "outflow_rate_mean": 1015.9573347583354}, "episodes_total": 28559, "num_metric_batches_dropped": 0, "info": {"default": {"kl": 0.01661909557878971, "entropy": 3.084056854248047, "total_loss": 26.89196014404297, "cur_kl_coeff": 0.20000001788139343, "vf_explained_var": 0.8667609691619873, "vf_loss": 26.895538330078125, "cur_lr": 0.0005000000237487257, "policy_loss": -0.006900840438902378}, "grad_time_ms": 41149.097, "update_time_ms": 11.062, "num_steps_trained": 52175290, "num_steps_sampled": 52175290, "load_time_ms": 58.752, "sample_time_ms": 28209.503}, "episode_reward_max": 805.7183914962652, "iterations_since_restore": 78, "episode_reward_mean": 593.7612688528317, "timesteps_total": 52175290, "timesteps_since_restore": 14054202, "experiment_id": "9b178520507b4656ac608c6ff2056ff7", "node_ip": "10.138.0.2", "timestamp": 1557385489, "episode_reward_min": 174.36075484773608, "done": false, "training_iteration": 378, "time_total_s": 19755.287554979324, "time_since_restore": 5512.410725593567, "policy_reward_mean": {}, "episode_len_mean": 735.24, "episodes_this_iter": 82, "timesteps_this_iter": 180148, "time_this_iter_s": 70.34215211868286, "config": {"num_workers": 60, "tf_session_args": {"device_count": {"CPU": 1}, "gpu_options": {"allow_growth": true}, "inter_op_parallelism_threads": 2, "log_device_placement": false, "allow_soft_placement": true, "intra_op_parallelism_threads": 2}, "batch_mode": "truncate_episodes", "collect_metrics_timeout": 180, "sample_batch_size": 750, "custom_resources_per_worker": {}, "vf_share_layers": false, "gamma": 0.99, "optimizer": {}, "input_evaluation": null, "num_envs_per_worker": 1, "train_batch_size": 90000, "vf_clip_param": 1000000.0, "kl_target": 0.01, "entropy_coeff": 0.0, "env_config": {"run": "PPO", "flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.3,\n            \"eta3\": 0.1,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 10.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 600,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}"}, "num_gpus_per_worker": 0, "synchronize_filters": true, "straggler_mitigation": false, "num_gpus": 0, "model": {"custom_options": {}, "custom_model": null, "custom_preprocessor": null, "squash_to_range": false, "framestack": true, "fcnet_hiddens": [128, 64, 32], "fcnet_activation": "tanh", "lstm_use_prev_action_reward": false, "grayscale": false, "conv_activation": "relu", "channel_major": false, "conv_filters": null, "dim": 84, "lstm_cell_size": 256, "use_lstm": false, "zero_mean": true, "free_log_std": false, "max_seq_len": 20}, "observation_filter": "MeanStdFilter", "use_gae": true, "log_level": "INFO", "num_sgd_iter": 10, "monitor": false, "env": "MultiWaveAttenuationMergePOEnvBufferedObs-v0no_random_eta2:0.2", "clip_param": 0.3, "lambda": 0.97, "simple_optimizer": false, "sgd_minibatch_size": 128, "num_cpus_for_driver": 1, "input": "sampler", "output": null, "horizon": 1500, "preprocessor_pref": "deepmind", "compress_observations": false, "output_compress_columns": ["obs", "new_obs"], "clip_rewards": null, "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "multiagent": {"policies_to_train": null, "policy_graphs": {}, "policy_mapping_fn": null}, "callbacks": {"on_train_result": null, "on_sample_end": null, "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7fe94dd0c748>", "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7fe94dd0cb38>", "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7fe94dd0c978>"}, "num_cpus_per_worker": 1, "kl_coeff": 0.2, "lr": 0.0005, "sample_async": false, "output_max_file_size": 67108864, "lr_schedule": null, "clip_actions": false, "vf_loss_coeff": 1.0}}
{"pid": 43700, "hostname": "flow-main", "date": "2019-05-09_07-05-59", "custom_metrics": {"cost2_min": -202.18059845786152, "cost1_max": 471.433748515103, "outflow_rate_min": 433.71980605569786, "cost2_mean": -170.52801483860162, "outflow_rate_max": 1255.5327136869375, "system_level_velocity_min": 10.101693866832035, "cost1_min": 117.80118545850785, "cost2_max": -92.97149883275733, "system_level_velocity_max": 16.594576362359557, "cost1_mean": 345.61770963885726, "system_level_velocity_mean": 12.647730570074602, "outflow_rate_mean": 1020.7260782995393}, "episodes_total": 28642, "num_metric_batches_dropped": 0, "info": {"default": {"kl": 0.016302892938256264, "entropy": 3.0995566844940186, "total_loss": 26.777061462402344, "cur_kl_coeff": 0.20000003278255463, "vf_explained_var": 0.873214066028595, "vf_loss": 26.781282424926758, "cur_lr": 0.0005000000237487257, "policy_loss": -0.007483270484954119}, "grad_time_ms": 41176.903, "update_time_ms": 10.99, "num_steps_trained": 52355657, "num_steps_sampled": 52355657, "load_time_ms": 55.957, "sample_time_ms": 28258.708}, "episode_reward_max": 828.0651754397738, "iterations_since_restore": 79, "episode_reward_mean": 594.0329360564716, "timesteps_total": 52355657, "timesteps_since_restore": 14234569, "experiment_id": "9b178520507b4656ac608c6ff2056ff7", "node_ip": "10.138.0.2", "timestamp": 1557385559, "episode_reward_min": 179.9451335003987, "done": false, "training_iteration": 379, "time_total_s": 19825.711158275604, "time_since_restore": 5582.834328889847, "policy_reward_mean": {}, "episode_len_mean": 736.15, "episodes_this_iter": 83, "timesteps_this_iter": 180367, "time_this_iter_s": 70.42360329627991, "config": {"num_workers": 60, "tf_session_args": {"device_count": {"CPU": 1}, "gpu_options": {"allow_growth": true}, "inter_op_parallelism_threads": 2, "log_device_placement": false, "allow_soft_placement": true, "intra_op_parallelism_threads": 2}, "batch_mode": "truncate_episodes", "collect_metrics_timeout": 180, "sample_batch_size": 750, "custom_resources_per_worker": {}, "vf_share_layers": false, "gamma": 0.99, "optimizer": {}, "input_evaluation": null, "num_envs_per_worker": 1, "train_batch_size": 90000, "vf_clip_param": 1000000.0, "kl_target": 0.01, "entropy_coeff": 0.0, "env_config": {"run": "PPO", "flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.3,\n            \"eta3\": 0.1,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 10.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 600,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}"}, "num_gpus_per_worker": 0, "synchronize_filters": true, "straggler_mitigation": false, "num_gpus": 0, "model": {"custom_options": {}, "custom_model": null, "custom_preprocessor": null, "squash_to_range": false, "framestack": true, "fcnet_hiddens": [128, 64, 32], "fcnet_activation": "tanh", "lstm_use_prev_action_reward": false, "grayscale": false, "conv_activation": "relu", "channel_major": false, "conv_filters": null, "dim": 84, "lstm_cell_size": 256, "use_lstm": false, "zero_mean": true, "free_log_std": false, "max_seq_len": 20}, "observation_filter": "MeanStdFilter", "use_gae": true, "log_level": "INFO", "num_sgd_iter": 10, "monitor": false, "env": "MultiWaveAttenuationMergePOEnvBufferedObs-v0no_random_eta2:0.2", "clip_param": 0.3, "lambda": 0.97, "simple_optimizer": false, "sgd_minibatch_size": 128, "num_cpus_for_driver": 1, "input": "sampler", "output": null, "horizon": 1500, "preprocessor_pref": "deepmind", "compress_observations": false, "output_compress_columns": ["obs", "new_obs"], "clip_rewards": null, "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "multiagent": {"policies_to_train": null, "policy_graphs": {}, "policy_mapping_fn": null}, "callbacks": {"on_train_result": null, "on_sample_end": null, "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7fe94dd0c240>", "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7fe94d055ef0>", "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7fe94d0551d0>"}, "num_cpus_per_worker": 1, "kl_coeff": 0.2, "lr": 0.0005, "sample_async": false, "output_max_file_size": 67108864, "lr_schedule": null, "clip_actions": false, "vf_loss_coeff": 1.0}}
{"pid": 43700, "hostname": "flow-main", "date": "2019-05-09_07-07-10", "custom_metrics": {"cost2_min": -200.88412755851414, "cost1_max": 460.6799119409762, "outflow_rate_min": 418.5386479838098, "cost2_mean": -167.25879329816166, "outflow_rate_max": 1240.236848792279, "system_level_velocity_min": 10.245562078615446, "cost1_min": 112.27154905882796, "cost2_max": -89.36969966246954, "system_level_velocity_max": 16.14170316366561, "cost1_mean": 337.99220353810745, "system_level_velocity_mean": 12.587200208748989, "outflow_rate_mean": 1003.6402596122057}, "episodes_total": 28728, "num_metric_batches_dropped": 0, "info": {"default": {"kl": 0.016502782702445984, "entropy": 3.1093223094940186, "total_loss": 27.77984046936035, "cur_kl_coeff": 0.20000004768371582, "vf_explained_var": 0.867267906665802, "vf_loss": 27.78407859802246, "cur_lr": 0.0005000000237487257, "policy_loss": -0.0075387125834822655}, "grad_time_ms": 41353.848, "update_time_ms": 10.86, "num_steps_trained": 52533816, "num_steps_sampled": 52533816, "load_time_ms": 56.613, "sample_time_ms": 28272.925}, "episode_reward_max": 797.8749745195641, "iterations_since_restore": 80, "episode_reward_mean": 583.3111141925826, "timesteps_total": 52533816, "timesteps_since_restore": 14412728, "experiment_id": "9b178520507b4656ac608c6ff2056ff7", "node_ip": "10.138.0.2", "timestamp": 1557385630, "episode_reward_min": 172.8003854670334, "done": false, "training_iteration": 380, "time_total_s": 19897.07718205452, "time_since_restore": 5654.200352668762, "policy_reward_mean": {}, "episode_len_mean": 724.54, "episodes_this_iter": 86, "timesteps_this_iter": 178159, "time_this_iter_s": 71.3660237789154, "config": {"num_workers": 60, "tf_session_args": {"device_count": {"CPU": 1}, "gpu_options": {"allow_growth": true}, "inter_op_parallelism_threads": 2, "log_device_placement": false, "allow_soft_placement": true, "intra_op_parallelism_threads": 2}, "batch_mode": "truncate_episodes", "collect_metrics_timeout": 180, "sample_batch_size": 750, "custom_resources_per_worker": {}, "vf_share_layers": false, "gamma": 0.99, "optimizer": {}, "input_evaluation": null, "num_envs_per_worker": 1, "train_batch_size": 90000, "vf_clip_param": 1000000.0, "kl_target": 0.01, "entropy_coeff": 0.0, "env_config": {"run": "PPO", "flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.3,\n            \"eta3\": 0.1,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 10.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 600,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}"}, "num_gpus_per_worker": 0, "synchronize_filters": true, "straggler_mitigation": false, "num_gpus": 0, "model": {"custom_options": {}, "custom_model": null, "custom_preprocessor": null, "squash_to_range": false, "framestack": true, "fcnet_hiddens": [128, 64, 32], "fcnet_activation": "tanh", "lstm_use_prev_action_reward": false, "grayscale": false, "conv_activation": "relu", "channel_major": false, "conv_filters": null, "dim": 84, "lstm_cell_size": 256, "use_lstm": false, "zero_mean": true, "free_log_std": false, "max_seq_len": 20}, "observation_filter": "MeanStdFilter", "use_gae": true, "log_level": "INFO", "num_sgd_iter": 10, "monitor": false, "env": "MultiWaveAttenuationMergePOEnvBufferedObs-v0no_random_eta2:0.2", "clip_param": 0.3, "lambda": 0.97, "simple_optimizer": false, "sgd_minibatch_size": 128, "num_cpus_for_driver": 1, "input": "sampler", "output": null, "horizon": 1500, "preprocessor_pref": "deepmind", "compress_observations": false, "output_compress_columns": ["obs", "new_obs"], "clip_rewards": null, "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "multiagent": {"policies_to_train": null, "policy_graphs": {}, "policy_mapping_fn": null}, "callbacks": {"on_train_result": null, "on_sample_end": null, "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7fe94dd0c6a0>", "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7fe94dd0cda0>", "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7fe94dd0c4e0>"}, "num_cpus_per_worker": 1, "kl_coeff": 0.2, "lr": 0.0005, "sample_async": false, "output_max_file_size": 67108864, "lr_schedule": null, "clip_actions": false, "vf_loss_coeff": 1.0}}
{"pid": 43700, "hostname": "flow-main", "date": "2019-05-09_07-08-20", "custom_metrics": {"cost2_min": -202.0693516323423, "cost1_max": 445.5839636632369, "outflow_rate_min": 423.3087000643467, "cost2_mean": -171.35273793215532, "outflow_rate_max": 1227.171500433874, "system_level_velocity_min": 9.363597267696484, "cost1_min": 113.08045474585467, "cost2_max": -92.54743876437229, "system_level_velocity_max": 16.334222369430776, "cost1_mean": 349.25021451380417, "system_level_velocity_mean": 12.80864390671976, "outflow_rate_mean": 1031.4155056624897}, "episodes_total": 28811, "num_metric_batches_dropped": 0, "info": {"default": {"kl": 0.016062507405877113, "entropy": 3.1044468879699707, "total_loss": 27.150604248046875, "cur_kl_coeff": 0.20000003278255463, "vf_explained_var": 0.8739334940910339, "vf_loss": 27.153615951538086, "cur_lr": 0.0005000000237487257, "policy_loss": -0.006226810626685619}, "grad_time_ms": 41184.609, "update_time_ms": 11.053, "num_steps_trained": 52713437, "num_steps_sampled": 52713437, "load_time_ms": 55.181, "sample_time_ms": 28288.541}, "episode_reward_max": 749.0328704859959, "iterations_since_restore": 81, "episode_reward_mean": 599.1033739463388, "timesteps_total": 52713437, "timesteps_since_restore": 14592349, "experiment_id": "9b178520507b4656ac608c6ff2056ff7", "node_ip": "10.138.0.2", "timestamp": 1557385700, "episode_reward_min": 172.8003854670334, "done": false, "training_iteration": 381, "time_total_s": 19966.779444217682, "time_since_restore": 5723.902614831924, "policy_reward_mean": {}, "episode_len_mean": 735.23, "episodes_this_iter": 83, "timesteps_this_iter": 179621, "time_this_iter_s": 69.70226216316223, "config": {"num_workers": 60, "tf_session_args": {"device_count": {"CPU": 1}, "gpu_options": {"allow_growth": true}, "inter_op_parallelism_threads": 2, "log_device_placement": false, "allow_soft_placement": true, "intra_op_parallelism_threads": 2}, "batch_mode": "truncate_episodes", "collect_metrics_timeout": 180, "sample_batch_size": 750, "custom_resources_per_worker": {}, "vf_share_layers": false, "gamma": 0.99, "optimizer": {}, "input_evaluation": null, "num_envs_per_worker": 1, "train_batch_size": 90000, "vf_clip_param": 1000000.0, "kl_target": 0.01, "entropy_coeff": 0.0, "env_config": {"run": "PPO", "flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.3,\n            \"eta3\": 0.1,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 10.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 600,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}"}, "num_gpus_per_worker": 0, "synchronize_filters": true, "straggler_mitigation": false, "num_gpus": 0, "model": {"custom_options": {}, "custom_model": null, "custom_preprocessor": null, "squash_to_range": false, "framestack": true, "fcnet_hiddens": [128, 64, 32], "fcnet_activation": "tanh", "lstm_use_prev_action_reward": false, "grayscale": false, "conv_activation": "relu", "channel_major": false, "conv_filters": null, "dim": 84, "lstm_cell_size": 256, "use_lstm": false, "zero_mean": true, "free_log_std": false, "max_seq_len": 20}, "observation_filter": "MeanStdFilter", "use_gae": true, "log_level": "INFO", "num_sgd_iter": 10, "monitor": false, "env": "MultiWaveAttenuationMergePOEnvBufferedObs-v0no_random_eta2:0.2", "clip_param": 0.3, "lambda": 0.97, "simple_optimizer": false, "sgd_minibatch_size": 128, "num_cpus_for_driver": 1, "input": "sampler", "output": null, "horizon": 1500, "preprocessor_pref": "deepmind", "compress_observations": false, "output_compress_columns": ["obs", "new_obs"], "clip_rewards": null, "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "multiagent": {"policies_to_train": null, "policy_graphs": {}, "policy_mapping_fn": null}, "callbacks": {"on_train_result": null, "on_sample_end": null, "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7fe94d055240>", "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7fe94d055ef0>", "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7fe94d055358>"}, "num_cpus_per_worker": 1, "kl_coeff": 0.2, "lr": 0.0005, "sample_async": false, "output_max_file_size": 67108864, "lr_schedule": null, "clip_actions": false, "vf_loss_coeff": 1.0}}
{"pid": 43700, "hostname": "flow-main", "date": "2019-05-09_07-09-30", "custom_metrics": {"cost2_min": -200.62611710031774, "cost1_max": 467.36086584899965, "outflow_rate_min": 555.5470834201061, "cost2_mean": -174.16737568059526, "outflow_rate_max": 1253.8794806311196, "system_level_velocity_min": 9.363597267696484, "cost1_min": 173.2631660047955, "cost2_max": -134.89060225216718, "system_level_velocity_max": 16.578350453206316, "cost1_mean": 355.2709350874768, "system_level_velocity_mean": 12.827418754368914, "outflow_rate_mean": 1047.0819773553098}, "episodes_total": 28893, "num_metric_batches_dropped": 0, "info": {"default": {"kl": 0.018408361822366714, "entropy": 3.105250358581543, "total_loss": 26.860321044921875, "cur_kl_coeff": 0.20000003278255463, "vf_explained_var": 0.86822110414505, "vf_loss": 26.862546920776367, "cur_lr": 0.0005000000237487257, "policy_loss": -0.005903583485633135}, "grad_time_ms": 41254.583, "update_time_ms": 10.897, "num_steps_trained": 52893170, "num_steps_sampled": 52893170, "load_time_ms": 55.067, "sample_time_ms": 28228.023}, "episode_reward_max": 794.4507449050408, "iterations_since_restore": 82, "episode_reward_mean": 608.7776742055827, "timesteps_total": 52893170, "timesteps_since_restore": 14772082, "experiment_id": "9b178520507b4656ac608c6ff2056ff7", "node_ip": "10.138.0.2", "timestamp": 1557385770, "episode_reward_min": 286.5934671084237, "done": false, "training_iteration": 382, "time_total_s": 20036.38545870781, "time_since_restore": 5793.508629322052, "policy_reward_mean": {}, "episode_len_mean": 745.84, "episodes_this_iter": 82, "timesteps_this_iter": 179733, "time_this_iter_s": 69.60601449012756, "config": {"num_workers": 60, "tf_session_args": {"device_count": {"CPU": 1}, "gpu_options": {"allow_growth": true}, "inter_op_parallelism_threads": 2, "log_device_placement": false, "allow_soft_placement": true, "intra_op_parallelism_threads": 2}, "batch_mode": "truncate_episodes", "collect_metrics_timeout": 180, "sample_batch_size": 750, "custom_resources_per_worker": {}, "vf_share_layers": false, "gamma": 0.99, "optimizer": {}, "input_evaluation": null, "num_envs_per_worker": 1, "train_batch_size": 90000, "vf_clip_param": 1000000.0, "kl_target": 0.01, "entropy_coeff": 0.0, "env_config": {"run": "PPO", "flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.3,\n            \"eta3\": 0.1,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 10.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 600,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}"}, "num_gpus_per_worker": 0, "synchronize_filters": true, "straggler_mitigation": false, "num_gpus": 0, "model": {"custom_options": {}, "custom_model": null, "custom_preprocessor": null, "squash_to_range": false, "framestack": true, "fcnet_hiddens": [128, 64, 32], "fcnet_activation": "tanh", "lstm_use_prev_action_reward": false, "grayscale": false, "conv_activation": "relu", "channel_major": false, "conv_filters": null, "dim": 84, "lstm_cell_size": 256, "use_lstm": false, "zero_mean": true, "free_log_std": false, "max_seq_len": 20}, "observation_filter": "MeanStdFilter", "use_gae": true, "log_level": "INFO", "num_sgd_iter": 10, "monitor": false, "env": "MultiWaveAttenuationMergePOEnvBufferedObs-v0no_random_eta2:0.2", "clip_param": 0.3, "lambda": 0.97, "simple_optimizer": false, "sgd_minibatch_size": 128, "num_cpus_for_driver": 1, "input": "sampler", "output": null, "horizon": 1500, "preprocessor_pref": "deepmind", "compress_observations": false, "output_compress_columns": ["obs", "new_obs"], "clip_rewards": null, "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "multiagent": {"policies_to_train": null, "policy_graphs": {}, "policy_mapping_fn": null}, "callbacks": {"on_train_result": null, "on_sample_end": null, "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7fe94dd0ca20>", "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7fe94dd046a0>", "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7fe94dd04e80>"}, "num_cpus_per_worker": 1, "kl_coeff": 0.2, "lr": 0.0005, "sample_async": false, "output_max_file_size": 67108864, "lr_schedule": null, "clip_actions": false, "vf_loss_coeff": 1.0}}
{"pid": 43700, "hostname": "flow-main", "date": "2019-05-09_07-10-39", "custom_metrics": {"cost2_min": -196.69954116380399, "cost1_max": 460.56274334535965, "outflow_rate_min": 431.03579922451655, "cost2_mean": -171.55756561806092, "outflow_rate_max": 1244.803152357556, "system_level_velocity_min": 9.021126424711579, "cost1_min": 116.17350269592741, "cost2_max": -95.45604656255816, "system_level_velocity_max": 16.27185408494629, "cost1_mean": 348.1020888016304, "system_level_velocity_mean": 12.702953170343795, "outflow_rate_mean": 1029.478746857928}, "episodes_total": 28976, "num_metric_batches_dropped": 0, "info": {"default": {"kl": 0.016588682308793068, "entropy": 3.1070611476898193, "total_loss": 28.180234909057617, "cur_kl_coeff": 0.20000003278255463, "vf_explained_var": 0.8657020926475525, "vf_loss": 28.183759689331055, "cur_lr": 0.0005000000237487257, "policy_loss": -0.006841268390417099}, "grad_time_ms": 41252.314, "update_time_ms": 10.866, "num_steps_trained": 53070196, "num_steps_sampled": 53070196, "load_time_ms": 53.131, "sample_time_ms": 28178.362}, "episode_reward_max": 786.7001555290084, "iterations_since_restore": 83, "episode_reward_mean": 600.5819626347944, "timesteps_total": 53070196, "timesteps_since_restore": 14949108, "experiment_id": "9b178520507b4656ac608c6ff2056ff7", "node_ip": "10.138.0.2", "timestamp": 1557385839, "episode_reward_min": 181.86336709458104, "done": false, "training_iteration": 383, "time_total_s": 20105.10287809372, "time_since_restore": 5862.226048707962, "policy_reward_mean": {}, "episode_len_mean": 739.81, "episodes_this_iter": 83, "timesteps_this_iter": 177026, "time_this_iter_s": 68.71741938591003, "config": {"num_workers": 60, "tf_session_args": {"device_count": {"CPU": 1}, "gpu_options": {"allow_growth": true}, "inter_op_parallelism_threads": 2, "log_device_placement": false, "allow_soft_placement": true, "intra_op_parallelism_threads": 2}, "batch_mode": "truncate_episodes", "collect_metrics_timeout": 180, "sample_batch_size": 750, "custom_resources_per_worker": {}, "vf_share_layers": false, "gamma": 0.99, "optimizer": {}, "input_evaluation": null, "num_envs_per_worker": 1, "train_batch_size": 90000, "vf_clip_param": 1000000.0, "kl_target": 0.01, "entropy_coeff": 0.0, "env_config": {"run": "PPO", "flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.3,\n            \"eta3\": 0.1,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 10.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 600,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}"}, "num_gpus_per_worker": 0, "synchronize_filters": true, "straggler_mitigation": false, "num_gpus": 0, "model": {"custom_options": {}, "custom_model": null, "custom_preprocessor": null, "squash_to_range": false, "framestack": true, "fcnet_hiddens": [128, 64, 32], "fcnet_activation": "tanh", "lstm_use_prev_action_reward": false, "grayscale": false, "conv_activation": "relu", "channel_major": false, "conv_filters": null, "dim": 84, "lstm_cell_size": 256, "use_lstm": false, "zero_mean": true, "free_log_std": false, "max_seq_len": 20}, "observation_filter": "MeanStdFilter", "use_gae": true, "log_level": "INFO", "num_sgd_iter": 10, "monitor": false, "env": "MultiWaveAttenuationMergePOEnvBufferedObs-v0no_random_eta2:0.2", "clip_param": 0.3, "lambda": 0.97, "simple_optimizer": false, "sgd_minibatch_size": 128, "num_cpus_for_driver": 1, "input": "sampler", "output": null, "horizon": 1500, "preprocessor_pref": "deepmind", "compress_observations": false, "output_compress_columns": ["obs", "new_obs"], "clip_rewards": null, "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "multiagent": {"policies_to_train": null, "policy_graphs": {}, "policy_mapping_fn": null}, "callbacks": {"on_train_result": null, "on_sample_end": null, "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7fe94d055240>", "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7fe94d055e48>", "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7fe94d0554a8>"}, "num_cpus_per_worker": 1, "kl_coeff": 0.2, "lr": 0.0005, "sample_async": false, "output_max_file_size": 67108864, "lr_schedule": null, "clip_actions": false, "vf_loss_coeff": 1.0}}
{"pid": 43700, "hostname": "flow-main", "date": "2019-05-09_07-11-50", "custom_metrics": {"cost2_min": -200.39817488256045, "cost1_max": 460.56274334535965, "outflow_rate_min": 431.03579922451655, "cost2_mean": -171.81248448689058, "outflow_rate_max": 1244.803152357556, "system_level_velocity_min": 8.925730938726524, "cost1_min": 116.17350269592741, "cost2_max": -95.45604656255816, "system_level_velocity_max": 16.27185408494629, "cost1_mean": 346.46719971752566, "system_level_velocity_mean": 12.661524368613357, "outflow_rate_mean": 1025.5860980729094}, "episodes_total": 29059, "num_metric_batches_dropped": 0, "info": {"default": {"kl": 0.01639682613313198, "entropy": 3.1107497215270996, "total_loss": 26.618345260620117, "cur_kl_coeff": 0.20000003278255463, "vf_explained_var": 0.8666743636131287, "vf_loss": 26.621736526489258, "cur_lr": 0.0005000000237487257, "policy_loss": -0.0066670142114162445}, "grad_time_ms": 41440.156, "update_time_ms": 10.922, "num_steps_trained": 53248988, "num_steps_sampled": 53248988, "load_time_ms": 51.199, "sample_time_ms": 28212.712}, "episode_reward_max": 786.7001555290084, "iterations_since_restore": 84, "episode_reward_mean": 598.5380741792741, "timesteps_total": 53248988, "timesteps_since_restore": 15127900, "experiment_id": "9b178520507b4656ac608c6ff2056ff7", "node_ip": "10.138.0.2", "timestamp": 1557385910, "episode_reward_min": 176.69069848276806, "done": false, "training_iteration": 384, "time_total_s": 20176.394989967346, "time_since_restore": 5933.518160581589, "policy_reward_mean": {}, "episode_len_mean": 739.75, "episodes_this_iter": 83, "timesteps_this_iter": 178792, "time_this_iter_s": 71.29211187362671, "config": {"num_workers": 60, "tf_session_args": {"device_count": {"CPU": 1}, "gpu_options": {"allow_growth": true}, "inter_op_parallelism_threads": 2, "log_device_placement": false, "allow_soft_placement": true, "intra_op_parallelism_threads": 2}, "batch_mode": "truncate_episodes", "collect_metrics_timeout": 180, "sample_batch_size": 750, "custom_resources_per_worker": {}, "vf_share_layers": false, "gamma": 0.99, "optimizer": {}, "input_evaluation": null, "num_envs_per_worker": 1, "train_batch_size": 90000, "vf_clip_param": 1000000.0, "kl_target": 0.01, "entropy_coeff": 0.0, "env_config": {"run": "PPO", "flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.3,\n            \"eta3\": 0.1,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 10.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 600,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}"}, "num_gpus_per_worker": 0, "synchronize_filters": true, "straggler_mitigation": false, "num_gpus": 0, "model": {"custom_options": {}, "custom_model": null, "custom_preprocessor": null, "squash_to_range": false, "framestack": true, "fcnet_hiddens": [128, 64, 32], "fcnet_activation": "tanh", "lstm_use_prev_action_reward": false, "grayscale": false, "conv_activation": "relu", "channel_major": false, "conv_filters": null, "dim": 84, "lstm_cell_size": 256, "use_lstm": false, "zero_mean": true, "free_log_std": false, "max_seq_len": 20}, "observation_filter": "MeanStdFilter", "use_gae": true, "log_level": "INFO", "num_sgd_iter": 10, "monitor": false, "env": "MultiWaveAttenuationMergePOEnvBufferedObs-v0no_random_eta2:0.2", "clip_param": 0.3, "lambda": 0.97, "simple_optimizer": false, "sgd_minibatch_size": 128, "num_cpus_for_driver": 1, "input": "sampler", "output": null, "horizon": 1500, "preprocessor_pref": "deepmind", "compress_observations": false, "output_compress_columns": ["obs", "new_obs"], "clip_rewards": null, "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "multiagent": {"policies_to_train": null, "policy_graphs": {}, "policy_mapping_fn": null}, "callbacks": {"on_train_result": null, "on_sample_end": null, "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7fe94dd0c978>", "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7fe94dd0c208>", "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7fe94dd0c7f0>"}, "num_cpus_per_worker": 1, "kl_coeff": 0.2, "lr": 0.0005, "sample_async": false, "output_max_file_size": 67108864, "lr_schedule": null, "clip_actions": false, "vf_loss_coeff": 1.0}}
{"pid": 43700, "hostname": "flow-main", "date": "2019-05-09_07-13-00", "custom_metrics": {"cost2_min": -198.51156625726287, "cost1_max": 474.6053740975864, "outflow_rate_min": 418.7218088207693, "cost2_mean": -170.92021620314867, "outflow_rate_max": 1268.8993208214947, "system_level_velocity_min": 10.935575187363835, "cost1_min": 113.31008945715216, "cost2_max": -92.82754704521173, "system_level_velocity_max": 16.893679925324832, "cost1_mean": 341.00471348273794, "system_level_velocity_mean": 12.645167931531759, "outflow_rate_mean": 1009.983878977111}, "episodes_total": 29145, "num_metric_batches_dropped": 0, "info": {"default": {"kl": 0.0165754072368145, "entropy": 3.089869976043701, "total_loss": 26.470508575439453, "cur_kl_coeff": 0.20000001788139343, "vf_explained_var": 0.8731210827827454, "vf_loss": 26.475019454956055, "cur_lr": 0.0005000000237487257, "policy_loss": -0.00782583374530077}, "grad_time_ms": 41523.532, "update_time_ms": 11.029, "num_steps_trained": 53425959, "num_steps_sampled": 53425959, "load_time_ms": 46.691, "sample_time_ms": 28148.101}, "episode_reward_max": 835.1451481586893, "iterations_since_restore": 85, "episode_reward_mean": 588.9440581926583, "timesteps_total": 53425959, "timesteps_since_restore": 15304871, "experiment_id": "9b178520507b4656ac608c6ff2056ff7", "node_ip": "10.138.0.2", "timestamp": 1557385980, "episode_reward_min": 170.84719637778517, "done": false, "training_iteration": 385, "time_total_s": 20246.17788720131, "time_since_restore": 6003.301057815552, "policy_reward_mean": {}, "episode_len_mean": 729.76, "episodes_this_iter": 86, "timesteps_this_iter": 176971, "time_this_iter_s": 69.78289723396301, "config": {"num_workers": 60, "tf_session_args": {"device_count": {"CPU": 1}, "gpu_options": {"allow_growth": true}, "inter_op_parallelism_threads": 2, "log_device_placement": false, "allow_soft_placement": true, "intra_op_parallelism_threads": 2}, "batch_mode": "truncate_episodes", "collect_metrics_timeout": 180, "sample_batch_size": 750, "custom_resources_per_worker": {}, "vf_share_layers": false, "gamma": 0.99, "optimizer": {}, "input_evaluation": null, "num_envs_per_worker": 1, "train_batch_size": 90000, "vf_clip_param": 1000000.0, "kl_target": 0.01, "entropy_coeff": 0.0, "env_config": {"run": "PPO", "flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.3,\n            \"eta3\": 0.1,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 10.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 600,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}"}, "num_gpus_per_worker": 0, "synchronize_filters": true, "straggler_mitigation": false, "num_gpus": 0, "model": {"custom_options": {}, "custom_model": null, "custom_preprocessor": null, "squash_to_range": false, "framestack": true, "fcnet_hiddens": [128, 64, 32], "fcnet_activation": "tanh", "lstm_use_prev_action_reward": false, "grayscale": false, "conv_activation": "relu", "channel_major": false, "conv_filters": null, "dim": 84, "lstm_cell_size": 256, "use_lstm": false, "zero_mean": true, "free_log_std": false, "max_seq_len": 20}, "observation_filter": "MeanStdFilter", "use_gae": true, "log_level": "INFO", "num_sgd_iter": 10, "monitor": false, "env": "MultiWaveAttenuationMergePOEnvBufferedObs-v0no_random_eta2:0.2", "clip_param": 0.3, "lambda": 0.97, "simple_optimizer": false, "sgd_minibatch_size": 128, "num_cpus_for_driver": 1, "input": "sampler", "output": null, "horizon": 1500, "preprocessor_pref": "deepmind", "compress_observations": false, "output_compress_columns": ["obs", "new_obs"], "clip_rewards": null, "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "multiagent": {"policies_to_train": null, "policy_graphs": {}, "policy_mapping_fn": null}, "callbacks": {"on_train_result": null, "on_sample_end": null, "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7fe94d0551d0>", "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7fe94d055518>", "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7fe94d055128>"}, "num_cpus_per_worker": 1, "kl_coeff": 0.2, "lr": 0.0005, "sample_async": false, "output_max_file_size": 67108864, "lr_schedule": null, "clip_actions": false, "vf_loss_coeff": 1.0}}
{"pid": 43700, "hostname": "flow-main", "date": "2019-05-09_07-14-10", "custom_metrics": {"cost2_min": -203.9989264353173, "cost1_max": 474.6053740975864, "outflow_rate_min": 418.7218088207693, "cost2_mean": -173.93702307732397, "outflow_rate_max": 1268.8993208214947, "system_level_velocity_min": 9.800320203825759, "cost1_min": 113.31008945715216, "cost2_max": -93.68055967871604, "system_level_velocity_max": 16.893679925324832, "cost1_mean": 352.4263876992763, "system_level_velocity_mean": 13.014752620007918, "outflow_rate_mean": 1035.3172013818016}, "episodes_total": 29227, "num_metric_batches_dropped": 0, "info": {"default": {"kl": 0.016670286655426025, "entropy": 3.1001462936401367, "total_loss": 29.044687271118164, "cur_kl_coeff": 0.20000003278255463, "vf_explained_var": 0.8653858304023743, "vf_loss": 29.047687530517578, "cur_lr": 0.0005000000237487257, "policy_loss": -0.006333430763334036}, "grad_time_ms": 41570.156, "update_time_ms": 10.867, "num_steps_trained": 53605672, "num_steps_sampled": 53605672, "load_time_ms": 43.858, "sample_time_ms": 28096.64}, "episode_reward_max": 835.1451481586893, "iterations_since_restore": 86, "episode_reward_mean": 599.2704186225187, "timesteps_total": 53605672, "timesteps_since_restore": 15484584, "experiment_id": "9b178520507b4656ac608c6ff2056ff7", "node_ip": "10.138.0.2", "timestamp": 1557386050, "episode_reward_min": 169.96385346235232, "done": false, "training_iteration": 386, "time_total_s": 20316.212427139282, "time_since_restore": 6073.335597753525, "policy_reward_mean": {}, "episode_len_mean": 731.71, "episodes_this_iter": 82, "timesteps_this_iter": 179713, "time_this_iter_s": 70.03453993797302, "config": {"num_workers": 60, "tf_session_args": {"device_count": {"CPU": 1}, "gpu_options": {"allow_growth": true}, "inter_op_parallelism_threads": 2, "log_device_placement": false, "allow_soft_placement": true, "intra_op_parallelism_threads": 2}, "batch_mode": "truncate_episodes", "collect_metrics_timeout": 180, "sample_batch_size": 750, "custom_resources_per_worker": {}, "vf_share_layers": false, "gamma": 0.99, "optimizer": {}, "input_evaluation": null, "num_envs_per_worker": 1, "train_batch_size": 90000, "vf_clip_param": 1000000.0, "kl_target": 0.01, "entropy_coeff": 0.0, "env_config": {"run": "PPO", "flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.3,\n            \"eta3\": 0.1,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 10.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 600,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}"}, "num_gpus_per_worker": 0, "synchronize_filters": true, "straggler_mitigation": false, "num_gpus": 0, "model": {"custom_options": {}, "custom_model": null, "custom_preprocessor": null, "squash_to_range": false, "framestack": true, "fcnet_hiddens": [128, 64, 32], "fcnet_activation": "tanh", "lstm_use_prev_action_reward": false, "grayscale": false, "conv_activation": "relu", "channel_major": false, "conv_filters": null, "dim": 84, "lstm_cell_size": 256, "use_lstm": false, "zero_mean": true, "free_log_std": false, "max_seq_len": 20}, "observation_filter": "MeanStdFilter", "use_gae": true, "log_level": "INFO", "num_sgd_iter": 10, "monitor": false, "env": "MultiWaveAttenuationMergePOEnvBufferedObs-v0no_random_eta2:0.2", "clip_param": 0.3, "lambda": 0.97, "simple_optimizer": false, "sgd_minibatch_size": 128, "num_cpus_for_driver": 1, "input": "sampler", "output": null, "horizon": 1500, "preprocessor_pref": "deepmind", "compress_observations": false, "output_compress_columns": ["obs", "new_obs"], "clip_rewards": null, "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "multiagent": {"policies_to_train": null, "policy_graphs": {}, "policy_mapping_fn": null}, "callbacks": {"on_train_result": null, "on_sample_end": null, "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7fe94dd0c748>", "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7fe94dd0c3c8>", "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7fe94dd0c8d0>"}, "num_cpus_per_worker": 1, "kl_coeff": 0.2, "lr": 0.0005, "sample_async": false, "output_max_file_size": 67108864, "lr_schedule": null, "clip_actions": false, "vf_loss_coeff": 1.0}}
{"pid": 43700, "hostname": "flow-main", "date": "2019-05-09_07-15-21", "custom_metrics": {"cost2_min": -207.14618398756377, "cost1_max": 452.8240558402058, "outflow_rate_min": 421.4675451862737, "cost2_mean": -173.67650278970478, "outflow_rate_max": 1239.1515498839942, "system_level_velocity_min": 8.940385665919742, "cost1_min": 113.93870250996144, "cost2_max": -98.60441216260136, "system_level_velocity_max": 16.0728926960038, "cost1_mean": 345.6117951623486, "system_level_velocity_mean": 12.897882907110851, "outflow_rate_mean": 1023.4535297393778}, "episodes_total": 29313, "num_metric_batches_dropped": 0, "info": {"default": {"kl": 0.015791073441505432, "entropy": 3.0811524391174316, "total_loss": 27.4657039642334, "cur_kl_coeff": 0.20000003278255463, "vf_explained_var": 0.8781708478927612, "vf_loss": 27.46853256225586, "cur_lr": 0.0005000000237487257, "policy_loss": -0.005984834861010313}, "grad_time_ms": 41622.853, "update_time_ms": 11.016, "num_steps_trained": 53784740, "num_steps_sampled": 53784740, "load_time_ms": 41.9, "sample_time_ms": 28171.394}, "episode_reward_max": 750.3747250625862, "iterations_since_restore": 87, "episode_reward_mean": 588.4158020258506, "timesteps_total": 53784740, "timesteps_since_restore": 15663652, "experiment_id": "9b178520507b4656ac608c6ff2056ff7", "node_ip": "10.138.0.2", "timestamp": 1557386121, "episode_reward_min": 170.69963675744802, "done": false, "training_iteration": 387, "time_total_s": 20386.843620300293, "time_since_restore": 6143.9667909145355, "policy_reward_mean": {}, "episode_len_mean": 726.39, "episodes_this_iter": 86, "timesteps_this_iter": 179068, "time_this_iter_s": 70.63119316101074, "config": {"num_workers": 60, "tf_session_args": {"device_count": {"CPU": 1}, "gpu_options": {"allow_growth": true}, "inter_op_parallelism_threads": 2, "log_device_placement": false, "allow_soft_placement": true, "intra_op_parallelism_threads": 2}, "batch_mode": "truncate_episodes", "collect_metrics_timeout": 180, "sample_batch_size": 750, "custom_resources_per_worker": {}, "vf_share_layers": false, "gamma": 0.99, "optimizer": {}, "input_evaluation": null, "num_envs_per_worker": 1, "train_batch_size": 90000, "vf_clip_param": 1000000.0, "kl_target": 0.01, "entropy_coeff": 0.0, "env_config": {"run": "PPO", "flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.3,\n            \"eta3\": 0.1,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 10.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 600,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}"}, "num_gpus_per_worker": 0, "synchronize_filters": true, "straggler_mitigation": false, "num_gpus": 0, "model": {"custom_options": {}, "custom_model": null, "custom_preprocessor": null, "squash_to_range": false, "framestack": true, "fcnet_hiddens": [128, 64, 32], "fcnet_activation": "tanh", "lstm_use_prev_action_reward": false, "grayscale": false, "conv_activation": "relu", "channel_major": false, "conv_filters": null, "dim": 84, "lstm_cell_size": 256, "use_lstm": false, "zero_mean": true, "free_log_std": false, "max_seq_len": 20}, "observation_filter": "MeanStdFilter", "use_gae": true, "log_level": "INFO", "num_sgd_iter": 10, "monitor": false, "env": "MultiWaveAttenuationMergePOEnvBufferedObs-v0no_random_eta2:0.2", "clip_param": 0.3, "lambda": 0.97, "simple_optimizer": false, "sgd_minibatch_size": 128, "num_cpus_for_driver": 1, "input": "sampler", "output": null, "horizon": 1500, "preprocessor_pref": "deepmind", "compress_observations": false, "output_compress_columns": ["obs", "new_obs"], "clip_rewards": null, "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "multiagent": {"policies_to_train": null, "policy_graphs": {}, "policy_mapping_fn": null}, "callbacks": {"on_train_result": null, "on_sample_end": null, "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7fe94d055be0>", "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7fe94d0554a8>", "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7fe94d055358>"}, "num_cpus_per_worker": 1, "kl_coeff": 0.2, "lr": 0.0005, "sample_async": false, "output_max_file_size": 67108864, "lr_schedule": null, "clip_actions": false, "vf_loss_coeff": 1.0}}
{"pid": 43700, "hostname": "flow-main", "date": "2019-05-09_07-16-31", "custom_metrics": {"cost2_min": -204.74823180867583, "cost1_max": 478.5743354262466, "outflow_rate_min": 429.41544696316646, "cost2_mean": -174.4499620856239, "outflow_rate_max": 1264.3753586742098, "system_level_velocity_min": 9.46615811070769, "cost1_min": 113.98007908270816, "cost2_max": -93.30415127029539, "system_level_velocity_max": 16.851862128803276, "cost1_mean": 353.5257283220606, "system_level_velocity_mean": 13.018453580030739, "outflow_rate_mean": 1042.1217985196681}, "episodes_total": 29397, "num_metric_batches_dropped": 0, "info": {"default": {"kl": 0.01661282777786255, "entropy": 3.1057932376861572, "total_loss": 28.06578254699707, "cur_kl_coeff": 0.20000001788139343, "vf_explained_var": 0.8753692507743835, "vf_loss": 28.06935691833496, "cur_lr": 0.0005000000237487257, "policy_loss": -0.006898527964949608}, "grad_time_ms": 41637.153, "update_time_ms": 11.371, "num_steps_trained": 53963372, "num_steps_sampled": 53963372, "load_time_ms": 39.875, "sample_time_ms": 28153.855}, "episode_reward_max": 832.5391666313212, "iterations_since_restore": 88, "episode_reward_mean": 600.4159694780643, "timesteps_total": 53963372, "timesteps_since_restore": 15842284, "experiment_id": "9b178520507b4656ac608c6ff2056ff7", "node_ip": "10.138.0.2", "timestamp": 1557386191, "episode_reward_min": 171.8611246168002, "done": false, "training_iteration": 388, "time_total_s": 20457.16711330414, "time_since_restore": 6214.290283918381, "policy_reward_mean": {}, "episode_len_mean": 733.44, "episodes_this_iter": 84, "timesteps_this_iter": 178632, "time_this_iter_s": 70.32349300384521, "config": {"num_workers": 60, "tf_session_args": {"device_count": {"CPU": 1}, "gpu_options": {"allow_growth": true}, "inter_op_parallelism_threads": 2, "log_device_placement": false, "allow_soft_placement": true, "intra_op_parallelism_threads": 2}, "batch_mode": "truncate_episodes", "collect_metrics_timeout": 180, "sample_batch_size": 750, "custom_resources_per_worker": {}, "vf_share_layers": false, "gamma": 0.99, "optimizer": {}, "input_evaluation": null, "num_envs_per_worker": 1, "train_batch_size": 90000, "vf_clip_param": 1000000.0, "kl_target": 0.01, "entropy_coeff": 0.0, "env_config": {"run": "PPO", "flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.3,\n            \"eta3\": 0.1,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 10.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 600,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}"}, "num_gpus_per_worker": 0, "synchronize_filters": true, "straggler_mitigation": false, "num_gpus": 0, "model": {"custom_options": {}, "custom_model": null, "custom_preprocessor": null, "squash_to_range": false, "framestack": true, "fcnet_hiddens": [128, 64, 32], "fcnet_activation": "tanh", "lstm_use_prev_action_reward": false, "grayscale": false, "conv_activation": "relu", "channel_major": false, "conv_filters": null, "dim": 84, "lstm_cell_size": 256, "use_lstm": false, "zero_mean": true, "free_log_std": false, "max_seq_len": 20}, "observation_filter": "MeanStdFilter", "use_gae": true, "log_level": "INFO", "num_sgd_iter": 10, "monitor": false, "env": "MultiWaveAttenuationMergePOEnvBufferedObs-v0no_random_eta2:0.2", "clip_param": 0.3, "lambda": 0.97, "simple_optimizer": false, "sgd_minibatch_size": 128, "num_cpus_for_driver": 1, "input": "sampler", "output": null, "horizon": 1500, "preprocessor_pref": "deepmind", "compress_observations": false, "output_compress_columns": ["obs", "new_obs"], "clip_rewards": null, "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "multiagent": {"policies_to_train": null, "policy_graphs": {}, "policy_mapping_fn": null}, "callbacks": {"on_train_result": null, "on_sample_end": null, "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7fe94dd0cbe0>", "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7fe94dd0ca20>", "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7fe94dd0c978>"}, "num_cpus_per_worker": 1, "kl_coeff": 0.2, "lr": 0.0005, "sample_async": false, "output_max_file_size": 67108864, "lr_schedule": null, "clip_actions": false, "vf_loss_coeff": 1.0}}
{"pid": 43700, "hostname": "flow-main", "date": "2019-05-09_07-17-42", "custom_metrics": {"cost2_min": -205.03711959069247, "cost1_max": 467.49334961506656, "outflow_rate_min": 411.6531332251501, "cost2_mean": -175.10559847758685, "outflow_rate_max": 1256.3901770487357, "system_level_velocity_min": 9.46615811070769, "cost1_min": 113.85314083352714, "cost2_max": -98.14437263782928, "system_level_velocity_max": 16.571252608421887, "cost1_mean": 352.45072274549585, "system_level_velocity_mean": 12.815099880165176, "outflow_rate_mean": 1038.4973328381668}, "episodes_total": 29481, "num_metric_batches_dropped": 0, "info": {"default": {"kl": 0.015664471313357353, "entropy": 3.1187000274658203, "total_loss": 27.711877822875977, "cur_kl_coeff": 0.20000001788139343, "vf_explained_var": 0.8733221888542175, "vf_loss": 27.71529197692871, "cur_lr": 0.0005000000237487257, "policy_loss": -0.006551039405167103}, "grad_time_ms": 41610.475, "update_time_ms": 11.437, "num_steps_trained": 54143263, "num_steps_sampled": 54143263, "load_time_ms": 40.839, "sample_time_ms": 28185.464}, "episode_reward_max": 788.9214520369769, "iterations_since_restore": 89, "episode_reward_mean": 604.5364296084027, "timesteps_total": 54143263, "timesteps_since_restore": 16022175, "experiment_id": "9b178520507b4656ac608c6ff2056ff7", "node_ip": "10.138.0.2", "timestamp": 1557386262, "episode_reward_min": 174.36749634800685, "done": false, "training_iteration": 389, "time_total_s": 20527.64685177803, "time_since_restore": 6284.770022392273, "policy_reward_mean": {}, "episode_len_mean": 741.32, "episodes_this_iter": 84, "timesteps_this_iter": 179891, "time_this_iter_s": 70.47973847389221, "config": {"num_workers": 60, "tf_session_args": {"device_count": {"CPU": 1}, "gpu_options": {"allow_growth": true}, "inter_op_parallelism_threads": 2, "log_device_placement": false, "allow_soft_placement": true, "intra_op_parallelism_threads": 2}, "batch_mode": "truncate_episodes", "collect_metrics_timeout": 180, "sample_batch_size": 750, "custom_resources_per_worker": {}, "vf_share_layers": false, "gamma": 0.99, "optimizer": {}, "input_evaluation": null, "num_envs_per_worker": 1, "train_batch_size": 90000, "vf_clip_param": 1000000.0, "kl_target": 0.01, "entropy_coeff": 0.0, "env_config": {"run": "PPO", "flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.3,\n            \"eta3\": 0.1,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 10.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 600,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}"}, "num_gpus_per_worker": 0, "synchronize_filters": true, "straggler_mitigation": false, "num_gpus": 0, "model": {"custom_options": {}, "custom_model": null, "custom_preprocessor": null, "squash_to_range": false, "framestack": true, "fcnet_hiddens": [128, 64, 32], "fcnet_activation": "tanh", "lstm_use_prev_action_reward": false, "grayscale": false, "conv_activation": "relu", "channel_major": false, "conv_filters": null, "dim": 84, "lstm_cell_size": 256, "use_lstm": false, "zero_mean": true, "free_log_std": false, "max_seq_len": 20}, "observation_filter": "MeanStdFilter", "use_gae": true, "log_level": "INFO", "num_sgd_iter": 10, "monitor": false, "env": "MultiWaveAttenuationMergePOEnvBufferedObs-v0no_random_eta2:0.2", "clip_param": 0.3, "lambda": 0.97, "simple_optimizer": false, "sgd_minibatch_size": 128, "num_cpus_for_driver": 1, "input": "sampler", "output": null, "horizon": 1500, "preprocessor_pref": "deepmind", "compress_observations": false, "output_compress_columns": ["obs", "new_obs"], "clip_rewards": null, "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "multiagent": {"policies_to_train": null, "policy_graphs": {}, "policy_mapping_fn": null}, "callbacks": {"on_train_result": null, "on_sample_end": null, "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7fe94dd04ba8>", "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7fe94dd044a8>", "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7fe94dd04a20>"}, "num_cpus_per_worker": 1, "kl_coeff": 0.2, "lr": 0.0005, "sample_async": false, "output_max_file_size": 67108864, "lr_schedule": null, "clip_actions": false, "vf_loss_coeff": 1.0}}
{"pid": 43700, "hostname": "flow-main", "date": "2019-05-09_07-18-52", "custom_metrics": {"cost2_min": -200.75647981491562, "cost1_max": 472.3636371229737, "outflow_rate_min": 603.2860520668021, "cost2_mean": -174.4556914923387, "outflow_rate_max": 1256.989063537633, "system_level_velocity_min": 9.087243898325116, "cost1_min": 186.0184526812066, "cost2_max": -126.11254028536092, "system_level_velocity_max": 16.64608745807269, "cost1_mean": 350.99130821435864, "system_level_velocity_mean": 12.697246197801217, "outflow_rate_mean": 1034.56938621903}, "episodes_total": 29564, "num_metric_batches_dropped": 0, "info": {"default": {"kl": 0.0162372924387455, "entropy": 3.1096675395965576, "total_loss": 27.23617172241211, "cur_kl_coeff": 0.20000003278255463, "vf_explained_var": 0.8778674602508545, "vf_loss": 27.239511489868164, "cur_lr": 0.0005000000237487257, "policy_loss": -0.006587018258869648}, "grad_time_ms": 41477.463, "update_time_ms": 11.572, "num_steps_trained": 54323081, "num_steps_sampled": 54323081, "load_time_ms": 41.267, "sample_time_ms": 28222.518}, "episode_reward_max": 826.5928098041949, "iterations_since_restore": 90, "episode_reward_mean": 606.7918878585737, "timesteps_total": 54323081, "timesteps_since_restore": 16201993, "experiment_id": "9b178520507b4656ac608c6ff2056ff7", "node_ip": "10.138.0.2", "timestamp": 1557386332, "episode_reward_min": 310.8809409222208, "done": false, "training_iteration": 390, "time_total_s": 20598.04943227768, "time_since_restore": 6355.172602891922, "policy_reward_mean": {}, "episode_len_mean": 744.26, "episodes_this_iter": 83, "timesteps_this_iter": 179818, "time_this_iter_s": 70.40258049964905, "config": {"num_workers": 60, "tf_session_args": {"device_count": {"CPU": 1}, "gpu_options": {"allow_growth": true}, "inter_op_parallelism_threads": 2, "log_device_placement": false, "allow_soft_placement": true, "intra_op_parallelism_threads": 2}, "batch_mode": "truncate_episodes", "collect_metrics_timeout": 180, "sample_batch_size": 750, "custom_resources_per_worker": {}, "vf_share_layers": false, "gamma": 0.99, "optimizer": {}, "input_evaluation": null, "num_envs_per_worker": 1, "train_batch_size": 90000, "vf_clip_param": 1000000.0, "kl_target": 0.01, "entropy_coeff": 0.0, "env_config": {"run": "PPO", "flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.3,\n            \"eta3\": 0.1,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 10.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 600,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}"}, "num_gpus_per_worker": 0, "synchronize_filters": true, "straggler_mitigation": false, "num_gpus": 0, "model": {"custom_options": {}, "custom_model": null, "custom_preprocessor": null, "squash_to_range": false, "framestack": true, "fcnet_hiddens": [128, 64, 32], "fcnet_activation": "tanh", "lstm_use_prev_action_reward": false, "grayscale": false, "conv_activation": "relu", "channel_major": false, "conv_filters": null, "dim": 84, "lstm_cell_size": 256, "use_lstm": false, "zero_mean": true, "free_log_std": false, "max_seq_len": 20}, "observation_filter": "MeanStdFilter", "use_gae": true, "log_level": "INFO", "num_sgd_iter": 10, "monitor": false, "env": "MultiWaveAttenuationMergePOEnvBufferedObs-v0no_random_eta2:0.2", "clip_param": 0.3, "lambda": 0.97, "simple_optimizer": false, "sgd_minibatch_size": 128, "num_cpus_for_driver": 1, "input": "sampler", "output": null, "horizon": 1500, "preprocessor_pref": "deepmind", "compress_observations": false, "output_compress_columns": ["obs", "new_obs"], "clip_rewards": null, "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "multiagent": {"policies_to_train": null, "policy_graphs": {}, "policy_mapping_fn": null}, "callbacks": {"on_train_result": null, "on_sample_end": null, "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7fe94dd0c7f0>", "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7fe94dd0ccf8>", "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7fe94dd0c3c8>"}, "num_cpus_per_worker": 1, "kl_coeff": 0.2, "lr": 0.0005, "sample_async": false, "output_max_file_size": 67108864, "lr_schedule": null, "clip_actions": false, "vf_loss_coeff": 1.0}}
{"pid": 43700, "hostname": "flow-main", "date": "2019-05-09_07-20-02", "custom_metrics": {"cost2_min": -197.88234010818383, "cost1_max": 459.5261617569487, "outflow_rate_min": 440.4769722192888, "cost2_mean": -174.6053458568469, "outflow_rate_max": 1241.9237859862433, "system_level_velocity_min": 10.870741179152851, "cost1_min": 118.7460362919303, "cost2_max": -95.64042190323876, "system_level_velocity_max": 16.102238305452122, "cost1_mean": 346.4996584966791, "system_level_velocity_mean": 12.601065957221806, "outflow_rate_mean": 1023.3836943922922}, "episodes_total": 29646, "num_metric_batches_dropped": 0, "info": {"default": {"kl": 0.01568797044456005, "entropy": 3.108851671218872, "total_loss": 26.95427894592285, "cur_kl_coeff": 0.20000001788139343, "vf_explained_var": 0.8742966651916504, "vf_loss": 26.957576751708984, "cur_lr": 0.0005000000237487257, "policy_loss": -0.006436188239604235}, "grad_time_ms": 41458.125, "update_time_ms": 11.496, "num_steps_trained": 54502948, "num_steps_sampled": 54502948, "load_time_ms": 41.541, "sample_time_ms": 28253.894}, "episode_reward_max": 779.6210464304307, "iterations_since_restore": 91, "episode_reward_mean": 600.5053954507562, "timesteps_total": 54502948, "timesteps_since_restore": 16381860, "experiment_id": "9b178520507b4656ac608c6ff2056ff7", "node_ip": "10.138.0.2", "timestamp": 1557386402, "episode_reward_min": 179.19089931707975, "done": false, "training_iteration": 391, "time_total_s": 20667.866553544998, "time_since_restore": 6424.989724159241, "policy_reward_mean": {}, "episode_len_mean": 740.5, "episodes_this_iter": 82, "timesteps_this_iter": 179867, "time_this_iter_s": 69.81712126731873, "config": {"num_workers": 60, "tf_session_args": {"device_count": {"CPU": 1}, "gpu_options": {"allow_growth": true}, "inter_op_parallelism_threads": 2, "log_device_placement": false, "allow_soft_placement": true, "intra_op_parallelism_threads": 2}, "batch_mode": "truncate_episodes", "collect_metrics_timeout": 180, "sample_batch_size": 750, "custom_resources_per_worker": {}, "vf_share_layers": false, "gamma": 0.99, "optimizer": {}, "input_evaluation": null, "num_envs_per_worker": 1, "train_batch_size": 90000, "vf_clip_param": 1000000.0, "kl_target": 0.01, "entropy_coeff": 0.0, "env_config": {"run": "PPO", "flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.3,\n            \"eta3\": 0.1,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 10.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 600,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}"}, "num_gpus_per_worker": 0, "synchronize_filters": true, "straggler_mitigation": false, "num_gpus": 0, "model": {"custom_options": {}, "custom_model": null, "custom_preprocessor": null, "squash_to_range": false, "framestack": true, "fcnet_hiddens": [128, 64, 32], "fcnet_activation": "tanh", "lstm_use_prev_action_reward": false, "grayscale": false, "conv_activation": "relu", "channel_major": false, "conv_filters": null, "dim": 84, "lstm_cell_size": 256, "use_lstm": false, "zero_mean": true, "free_log_std": false, "max_seq_len": 20}, "observation_filter": "MeanStdFilter", "use_gae": true, "log_level": "INFO", "num_sgd_iter": 10, "monitor": false, "env": "MultiWaveAttenuationMergePOEnvBufferedObs-v0no_random_eta2:0.2", "clip_param": 0.3, "lambda": 0.97, "simple_optimizer": false, "sgd_minibatch_size": 128, "num_cpus_for_driver": 1, "input": "sampler", "output": null, "horizon": 1500, "preprocessor_pref": "deepmind", "compress_observations": false, "output_compress_columns": ["obs", "new_obs"], "clip_rewards": null, "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "multiagent": {"policies_to_train": null, "policy_graphs": {}, "policy_mapping_fn": null}, "callbacks": {"on_train_result": null, "on_sample_end": null, "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7fe94dcedc88>", "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7fe94dced978>", "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7fe94dcedcc0>"}, "num_cpus_per_worker": 1, "kl_coeff": 0.2, "lr": 0.0005, "sample_async": false, "output_max_file_size": 67108864, "lr_schedule": null, "clip_actions": false, "vf_loss_coeff": 1.0}}
{"pid": 43700, "hostname": "flow-main", "date": "2019-05-09_07-21-12", "custom_metrics": {"cost2_min": -197.5657231688071, "cost1_max": 459.5261617569487, "outflow_rate_min": 445.2960380214968, "cost2_mean": -174.17385252416875, "outflow_rate_max": 1241.9237859862433, "system_level_velocity_min": 10.48299977262207, "cost1_min": 119.28742013281386, "cost2_max": -95.64042190323876, "system_level_velocity_max": 16.102238305452122, "cost1_mean": 348.4257397002264, "system_level_velocity_mean": 12.647295451819309, "outflow_rate_mean": 1027.998339460806}, "episodes_total": 29728, "num_metric_batches_dropped": 0, "info": {"default": {"kl": 0.017060063779354095, "entropy": 3.119800090789795, "total_loss": 25.522329330444336, "cur_kl_coeff": 0.20000001788139343, "vf_explained_var": 0.8799460530281067, "vf_loss": 25.525775909423828, "cur_lr": 0.0005000000237487257, "policy_loss": -0.006857794709503651}, "grad_time_ms": 41455.279, "update_time_ms": 11.548, "num_steps_trained": 54681240, "num_steps_sampled": 54681240, "load_time_ms": 41.878, "sample_time_ms": 28294.625}, "episode_reward_max": 779.6210464304307, "iterations_since_restore": 92, "episode_reward_mean": 601.733646763474, "timesteps_total": 54681240, "timesteps_since_restore": 16560152, "experiment_id": "9b178520507b4656ac608c6ff2056ff7", "node_ip": "10.138.0.2", "timestamp": 1557386472, "episode_reward_min": 181.27309144282034, "done": false, "training_iteration": 392, "time_total_s": 20737.86285662651, "time_since_restore": 6494.986027240753, "policy_reward_mean": {}, "episode_len_mean": 741.48, "episodes_this_iter": 82, "timesteps_this_iter": 178292, "time_this_iter_s": 69.99630308151245, "config": {"num_workers": 60, "tf_session_args": {"device_count": {"CPU": 1}, "gpu_options": {"allow_growth": true}, "inter_op_parallelism_threads": 2, "log_device_placement": false, "allow_soft_placement": true, "intra_op_parallelism_threads": 2}, "batch_mode": "truncate_episodes", "collect_metrics_timeout": 180, "sample_batch_size": 750, "custom_resources_per_worker": {}, "vf_share_layers": false, "gamma": 0.99, "optimizer": {}, "input_evaluation": null, "num_envs_per_worker": 1, "train_batch_size": 90000, "vf_clip_param": 1000000.0, "kl_target": 0.01, "entropy_coeff": 0.0, "env_config": {"run": "PPO", "flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.3,\n            \"eta3\": 0.1,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 10.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 600,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}"}, "num_gpus_per_worker": 0, "synchronize_filters": true, "straggler_mitigation": false, "num_gpus": 0, "model": {"custom_options": {}, "custom_model": null, "custom_preprocessor": null, "squash_to_range": false, "framestack": true, "fcnet_hiddens": [128, 64, 32], "fcnet_activation": "tanh", "lstm_use_prev_action_reward": false, "grayscale": false, "conv_activation": "relu", "channel_major": false, "conv_filters": null, "dim": 84, "lstm_cell_size": 256, "use_lstm": false, "zero_mean": true, "free_log_std": false, "max_seq_len": 20}, "observation_filter": "MeanStdFilter", "use_gae": true, "log_level": "INFO", "num_sgd_iter": 10, "monitor": false, "env": "MultiWaveAttenuationMergePOEnvBufferedObs-v0no_random_eta2:0.2", "clip_param": 0.3, "lambda": 0.97, "simple_optimizer": false, "sgd_minibatch_size": 128, "num_cpus_for_driver": 1, "input": "sampler", "output": null, "horizon": 1500, "preprocessor_pref": "deepmind", "compress_observations": false, "output_compress_columns": ["obs", "new_obs"], "clip_rewards": null, "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "multiagent": {"policies_to_train": null, "policy_graphs": {}, "policy_mapping_fn": null}, "callbacks": {"on_train_result": null, "on_sample_end": null, "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7fe94dd0ca20>", "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7fe94dd0cac8>", "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7fe94dd0c320>"}, "num_cpus_per_worker": 1, "kl_coeff": 0.2, "lr": 0.0005, "sample_async": false, "output_max_file_size": 67108864, "lr_schedule": null, "clip_actions": false, "vf_loss_coeff": 1.0}}
{"pid": 43700, "hostname": "flow-main", "date": "2019-05-09_07-22-24", "custom_metrics": {"cost2_min": -199.33169162309594, "cost1_max": 442.7977379204403, "outflow_rate_min": 854.1040218564135, "cost2_mean": -175.54693739125412, "outflow_rate_max": 1226.57848767367, "system_level_velocity_min": 10.350189865448401, "cost1_min": 286.0460657321719, "cost2_max": -146.28603499482358, "system_level_velocity_max": 15.673311245225738, "cost1_mean": 352.43010306089315, "system_level_velocity_mean": 12.60441543503644, "outflow_rate_mean": 1038.7647263039084}, "episodes_total": 29810, "num_metric_batches_dropped": 0, "info": {"default": {"kl": 0.016749491915106773, "entropy": 3.1235604286193848, "total_loss": 26.572113037109375, "cur_kl_coeff": 0.20000003278255463, "vf_explained_var": 0.8771657347679138, "vf_loss": 26.574708938598633, "cur_lr": 0.0005000000237487257, "policy_loss": -0.0059429677203297615}, "grad_time_ms": 41709.122, "update_time_ms": 11.464, "num_steps_trained": 54862106, "num_steps_sampled": 54862106, "load_time_ms": 41.708, "sample_time_ms": 28317.953}, "episode_reward_max": 736.1053374702321, "iterations_since_restore": 93, "episode_reward_mean": 609.1968938508157, "timesteps_total": 54862106, "timesteps_since_restore": 16741018, "experiment_id": "9b178520507b4656ac608c6ff2056ff7", "node_ip": "10.138.0.2", "timestamp": 1557386544, "episode_reward_min": 508.74731341368806, "done": false, "training_iteration": 393, "time_total_s": 20809.38866662979, "time_since_restore": 6566.511837244034, "policy_reward_mean": {}, "episode_len_mean": 751.0, "episodes_this_iter": 82, "timesteps_this_iter": 180866, "time_this_iter_s": 71.52581000328064, "config": {"num_workers": 60, "tf_session_args": {"device_count": {"CPU": 1}, "gpu_options": {"allow_growth": true}, "inter_op_parallelism_threads": 2, "log_device_placement": false, "allow_soft_placement": true, "intra_op_parallelism_threads": 2}, "batch_mode": "truncate_episodes", "collect_metrics_timeout": 180, "sample_batch_size": 750, "custom_resources_per_worker": {}, "vf_share_layers": false, "gamma": 0.99, "optimizer": {}, "input_evaluation": null, "num_envs_per_worker": 1, "train_batch_size": 90000, "vf_clip_param": 1000000.0, "kl_target": 0.01, "entropy_coeff": 0.0, "env_config": {"run": "PPO", "flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.3,\n            \"eta3\": 0.1,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 10.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 600,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}"}, "num_gpus_per_worker": 0, "synchronize_filters": true, "straggler_mitigation": false, "num_gpus": 0, "model": {"custom_options": {}, "custom_model": null, "custom_preprocessor": null, "squash_to_range": false, "framestack": true, "fcnet_hiddens": [128, 64, 32], "fcnet_activation": "tanh", "lstm_use_prev_action_reward": false, "grayscale": false, "conv_activation": "relu", "channel_major": false, "conv_filters": null, "dim": 84, "lstm_cell_size": 256, "use_lstm": false, "zero_mean": true, "free_log_std": false, "max_seq_len": 20}, "observation_filter": "MeanStdFilter", "use_gae": true, "log_level": "INFO", "num_sgd_iter": 10, "monitor": false, "env": "MultiWaveAttenuationMergePOEnvBufferedObs-v0no_random_eta2:0.2", "clip_param": 0.3, "lambda": 0.97, "simple_optimizer": false, "sgd_minibatch_size": 128, "num_cpus_for_driver": 1, "input": "sampler", "output": null, "horizon": 1500, "preprocessor_pref": "deepmind", "compress_observations": false, "output_compress_columns": ["obs", "new_obs"], "clip_rewards": null, "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "multiagent": {"policies_to_train": null, "policy_graphs": {}, "policy_mapping_fn": null}, "callbacks": {"on_train_result": null, "on_sample_end": null, "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7fe94dd0ce80>", "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7fe94dd0c7f0>", "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7fe94dd0c748>"}, "num_cpus_per_worker": 1, "kl_coeff": 0.2, "lr": 0.0005, "sample_async": false, "output_max_file_size": 67108864, "lr_schedule": null, "clip_actions": false, "vf_loss_coeff": 1.0}}
{"pid": 43700, "hostname": "flow-main", "date": "2019-05-09_07-23-33", "custom_metrics": {"cost2_min": -202.07234061237864, "cost1_max": 463.2683964924298, "outflow_rate_min": 754.8814121612536, "cost2_mean": -174.73277320404821, "outflow_rate_max": 1244.5807410140117, "system_level_velocity_min": 7.971109602186723, "cost1_min": 215.9296066275426, "cost2_max": -152.13876918799187, "system_level_velocity_max": 16.24710546066619, "cost1_mean": 353.9849244824407, "system_level_velocity_mean": 12.660859119602792, "outflow_rate_mean": 1042.9465791038303}, "episodes_total": 29892, "num_metric_batches_dropped": 0, "info": {"default": {"kl": 0.017646674066781998, "entropy": 3.105339765548706, "total_loss": 26.586408615112305, "cur_kl_coeff": 0.20000003278255463, "vf_explained_var": 0.8815373778343201, "vf_loss": 26.590208053588867, "cur_lr": 0.0005000000237487257, "policy_loss": -0.007329441606998444}, "grad_time_ms": 41523.22, "update_time_ms": 11.403, "num_steps_trained": 55040468, "num_steps_sampled": 55040468, "load_time_ms": 40.177, "sample_time_ms": 28292.646}, "episode_reward_max": 805.4753014646033, "iterations_since_restore": 94, "episode_reward_mean": 613.2002834423922, "timesteps_total": 55040468, "timesteps_since_restore": 16919380, "experiment_id": "9b178520507b4656ac608c6ff2056ff7", "node_ip": "10.138.0.2", "timestamp": 1557386613, "episode_reward_min": 458.9432959530431, "done": false, "training_iteration": 394, "time_total_s": 20878.538905858994, "time_since_restore": 6635.662076473236, "policy_reward_mean": {}, "episode_len_mean": 751.0, "episodes_this_iter": 82, "timesteps_this_iter": 178362, "time_this_iter_s": 69.15023922920227, "config": {"num_workers": 60, "tf_session_args": {"device_count": {"CPU": 1}, "gpu_options": {"allow_growth": true}, "inter_op_parallelism_threads": 2, "log_device_placement": false, "allow_soft_placement": true, "intra_op_parallelism_threads": 2}, "batch_mode": "truncate_episodes", "collect_metrics_timeout": 180, "sample_batch_size": 750, "custom_resources_per_worker": {}, "vf_share_layers": false, "gamma": 0.99, "optimizer": {}, "input_evaluation": null, "num_envs_per_worker": 1, "train_batch_size": 90000, "vf_clip_param": 1000000.0, "kl_target": 0.01, "entropy_coeff": 0.0, "env_config": {"run": "PPO", "flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.3,\n            \"eta3\": 0.1,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 10.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 600,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}"}, "num_gpus_per_worker": 0, "synchronize_filters": true, "straggler_mitigation": false, "num_gpus": 0, "model": {"custom_options": {}, "custom_model": null, "custom_preprocessor": null, "squash_to_range": false, "framestack": true, "fcnet_hiddens": [128, 64, 32], "fcnet_activation": "tanh", "lstm_use_prev_action_reward": false, "grayscale": false, "conv_activation": "relu", "channel_major": false, "conv_filters": null, "dim": 84, "lstm_cell_size": 256, "use_lstm": false, "zero_mean": true, "free_log_std": false, "max_seq_len": 20}, "observation_filter": "MeanStdFilter", "use_gae": true, "log_level": "INFO", "num_sgd_iter": 10, "monitor": false, "env": "MultiWaveAttenuationMergePOEnvBufferedObs-v0no_random_eta2:0.2", "clip_param": 0.3, "lambda": 0.97, "simple_optimizer": false, "sgd_minibatch_size": 128, "num_cpus_for_driver": 1, "input": "sampler", "output": null, "horizon": 1500, "preprocessor_pref": "deepmind", "compress_observations": false, "output_compress_columns": ["obs", "new_obs"], "clip_rewards": null, "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "multiagent": {"policies_to_train": null, "policy_graphs": {}, "policy_mapping_fn": null}, "callbacks": {"on_train_result": null, "on_sample_end": null, "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7fe94dd0c240>", "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7fe94dd0c5f8>", "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7fe94dcedb38>"}, "num_cpus_per_worker": 1, "kl_coeff": 0.2, "lr": 0.0005, "sample_async": false, "output_max_file_size": 67108864, "lr_schedule": null, "clip_actions": false, "vf_loss_coeff": 1.0}}
{"pid": 43700, "hostname": "flow-main", "date": "2019-05-09_07-24-42", "custom_metrics": {"cost2_min": -198.57976794400355, "cost1_max": 459.239019627241, "outflow_rate_min": 417.8394690863257, "cost2_mean": -172.65237711230466, "outflow_rate_max": 1241.8630801992838, "system_level_velocity_min": 9.25483615152897, "cost1_min": 113.37805108401686, "cost2_max": -96.5162432455611, "system_level_velocity_max": 16.061606252909424, "cost1_mean": 343.9633642260131, "system_level_velocity_mean": 12.584697788961448, "outflow_rate_mean": 1019.2737974262324}, "episodes_total": 29975, "num_metric_batches_dropped": 0, "info": {"default": {"kl": 0.01670718751847744, "entropy": 3.1217472553253174, "total_loss": 27.975976943969727, "cur_kl_coeff": 0.20000003278255463, "vf_explained_var": 0.8736481070518494, "vf_loss": 27.979446411132812, "cur_lr": 0.0005000000237487257, "policy_loss": -0.0068129124119877815}, "grad_time_ms": 41455.368, "update_time_ms": 11.112, "num_steps_trained": 55218174, "num_steps_sampled": 55218174, "load_time_ms": 41.829, "sample_time_ms": 28293.087}, "episode_reward_max": 798.849406806957, "iterations_since_restore": 95, "episode_reward_mean": 594.7724022627892, "timesteps_total": 55218174, "timesteps_since_restore": 17097086, "experiment_id": "9b178520507b4656ac608c6ff2056ff7", "node_ip": "10.138.0.2", "timestamp": 1557386682, "episode_reward_min": 173.4051131803257, "done": false, "training_iteration": 395, "time_total_s": 20947.622235298157, "time_since_restore": 6704.745405912399, "policy_reward_mean": {}, "episode_len_mean": 735.17, "episodes_this_iter": 83, "timesteps_this_iter": 177706, "time_this_iter_s": 69.08332943916321, "config": {"num_workers": 60, "tf_session_args": {"device_count": {"CPU": 1}, "gpu_options": {"allow_growth": true}, "inter_op_parallelism_threads": 2, "log_device_placement": false, "allow_soft_placement": true, "intra_op_parallelism_threads": 2}, "batch_mode": "truncate_episodes", "collect_metrics_timeout": 180, "sample_batch_size": 750, "custom_resources_per_worker": {}, "vf_share_layers": false, "gamma": 0.99, "optimizer": {}, "input_evaluation": null, "num_envs_per_worker": 1, "train_batch_size": 90000, "vf_clip_param": 1000000.0, "kl_target": 0.01, "entropy_coeff": 0.0, "env_config": {"run": "PPO", "flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.3,\n            \"eta3\": 0.1,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 10.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 600,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}"}, "num_gpus_per_worker": 0, "synchronize_filters": true, "straggler_mitigation": false, "num_gpus": 0, "model": {"custom_options": {}, "custom_model": null, "custom_preprocessor": null, "squash_to_range": false, "framestack": true, "fcnet_hiddens": [128, 64, 32], "fcnet_activation": "tanh", "lstm_use_prev_action_reward": false, "grayscale": false, "conv_activation": "relu", "channel_major": false, "conv_filters": null, "dim": 84, "lstm_cell_size": 256, "use_lstm": false, "zero_mean": true, "free_log_std": false, "max_seq_len": 20}, "observation_filter": "MeanStdFilter", "use_gae": true, "log_level": "INFO", "num_sgd_iter": 10, "monitor": false, "env": "MultiWaveAttenuationMergePOEnvBufferedObs-v0no_random_eta2:0.2", "clip_param": 0.3, "lambda": 0.97, "simple_optimizer": false, "sgd_minibatch_size": 128, "num_cpus_for_driver": 1, "input": "sampler", "output": null, "horizon": 1500, "preprocessor_pref": "deepmind", "compress_observations": false, "output_compress_columns": ["obs", "new_obs"], "clip_rewards": null, "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "multiagent": {"policies_to_train": null, "policy_graphs": {}, "policy_mapping_fn": null}, "callbacks": {"on_train_result": null, "on_sample_end": null, "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7fe94dd04ba8>", "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7fe94d055828>", "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7fe94d055358>"}, "num_cpus_per_worker": 1, "kl_coeff": 0.2, "lr": 0.0005, "sample_async": false, "output_max_file_size": 67108864, "lr_schedule": null, "clip_actions": false, "vf_loss_coeff": 1.0}}
{"pid": 43700, "hostname": "flow-main", "date": "2019-05-09_07-25-51", "custom_metrics": {"cost2_min": -197.64098137146712, "cost1_max": 471.95897928906595, "outflow_rate_min": 414.88798643555, "cost2_mean": -173.3411438625121, "outflow_rate_max": 1253.8423107209694, "system_level_velocity_min": 10.806383385513888, "cost1_min": 112.66084779185563, "cost2_max": -91.62153033917338, "system_level_velocity_max": 16.51970413822096, "cost1_mean": 347.0066456663434, "system_level_velocity_mean": 12.724834628591719, "outflow_rate_mean": 1025.7922955879176}, "episodes_total": 30058, "num_metric_batches_dropped": 0, "info": {"default": {"kl": 0.0168057382106781, "entropy": 3.107043504714966, "total_loss": 29.30082893371582, "cur_kl_coeff": 0.20000003278255463, "vf_explained_var": 0.8681384921073914, "vf_loss": 29.30401039123535, "cur_lr": 0.0005000000237487257, "policy_loss": -0.0065414258278906345}, "grad_time_ms": 41355.322, "update_time_ms": 11.055, "num_steps_trained": 55395226, "num_steps_sampled": 55395226, "load_time_ms": 41.301, "sample_time_ms": 28261.12}, "episode_reward_max": 836.4703485155245, "iterations_since_restore": 96, "episode_reward_mean": 599.8367113743603, "timesteps_total": 55395226, "timesteps_since_restore": 17274138, "experiment_id": "9b178520507b4656ac608c6ff2056ff7", "node_ip": "10.138.0.2", "timestamp": 1557386751, "episode_reward_min": 172.98869871673227, "done": false, "training_iteration": 396, "time_total_s": 21016.337543725967, "time_since_restore": 6773.46071434021, "policy_reward_mean": {}, "episode_len_mean": 733.52, "episodes_this_iter": 83, "timesteps_this_iter": 177052, "time_this_iter_s": 68.71530842781067, "config": {"num_workers": 60, "tf_session_args": {"device_count": {"CPU": 1}, "gpu_options": {"allow_growth": true}, "inter_op_parallelism_threads": 2, "log_device_placement": false, "allow_soft_placement": true, "intra_op_parallelism_threads": 2}, "batch_mode": "truncate_episodes", "collect_metrics_timeout": 180, "sample_batch_size": 750, "custom_resources_per_worker": {}, "vf_share_layers": false, "gamma": 0.99, "optimizer": {}, "input_evaluation": null, "num_envs_per_worker": 1, "train_batch_size": 90000, "vf_clip_param": 1000000.0, "kl_target": 0.01, "entropy_coeff": 0.0, "env_config": {"run": "PPO", "flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.3,\n            \"eta3\": 0.1,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 10.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 600,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}"}, "num_gpus_per_worker": 0, "synchronize_filters": true, "straggler_mitigation": false, "num_gpus": 0, "model": {"custom_options": {}, "custom_model": null, "custom_preprocessor": null, "squash_to_range": false, "framestack": true, "fcnet_hiddens": [128, 64, 32], "fcnet_activation": "tanh", "lstm_use_prev_action_reward": false, "grayscale": false, "conv_activation": "relu", "channel_major": false, "conv_filters": null, "dim": 84, "lstm_cell_size": 256, "use_lstm": false, "zero_mean": true, "free_log_std": false, "max_seq_len": 20}, "observation_filter": "MeanStdFilter", "use_gae": true, "log_level": "INFO", "num_sgd_iter": 10, "monitor": false, "env": "MultiWaveAttenuationMergePOEnvBufferedObs-v0no_random_eta2:0.2", "clip_param": 0.3, "lambda": 0.97, "simple_optimizer": false, "sgd_minibatch_size": 128, "num_cpus_for_driver": 1, "input": "sampler", "output": null, "horizon": 1500, "preprocessor_pref": "deepmind", "compress_observations": false, "output_compress_columns": ["obs", "new_obs"], "clip_rewards": null, "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "multiagent": {"policies_to_train": null, "policy_graphs": {}, "policy_mapping_fn": null}, "callbacks": {"on_train_result": null, "on_sample_end": null, "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7fe94dced860>", "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7fe94dcedcc0>", "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7fe94d055588>"}, "num_cpus_per_worker": 1, "kl_coeff": 0.2, "lr": 0.0005, "sample_async": false, "output_max_file_size": 67108864, "lr_schedule": null, "clip_actions": false, "vf_loss_coeff": 1.0}}
{"pid": 43700, "hostname": "flow-main", "date": "2019-05-09_07-27-00", "custom_metrics": {"cost2_min": -199.36459436232929, "cost1_max": 470.6178130255859, "outflow_rate_min": 414.88798643555, "cost2_mean": -173.40253961312231, "outflow_rate_max": 1246.14532019745, "system_level_velocity_min": 11.010856816098464, "cost1_min": 113.46762764487397, "cost2_max": -96.0586753298382, "system_level_velocity_max": 16.444542693874467, "cost1_mean": 347.5577057262645, "system_level_velocity_mean": 12.730130563242376, "outflow_rate_mean": 1027.718341522885}, "episodes_total": 30140, "num_metric_batches_dropped": 0, "info": {"default": {"kl": 0.017207834869623184, "entropy": 3.11893892288208, "total_loss": 27.753662109375, "cur_kl_coeff": 0.20000001788139343, "vf_explained_var": 0.8779492378234863, "vf_loss": 27.757259368896484, "cur_lr": 0.0005000000237487257, "policy_loss": -0.00703881960362196}, "grad_time_ms": 41302.199, "update_time_ms": 10.793, "num_steps_trained": 55574141, "num_steps_sampled": 55574141, "load_time_ms": 41.138, "sample_time_ms": 28213.521}, "episode_reward_max": 850.4768168811861, "iterations_since_restore": 97, "episode_reward_mean": 602.066969321563, "timesteps_total": 55574141, "timesteps_since_restore": 17453053, "experiment_id": "9b178520507b4656ac608c6ff2056ff7", "node_ip": "10.138.0.2", "timestamp": 1557386820, "episode_reward_min": 174.67266970065262, "done": false, "training_iteration": 397, "time_total_s": 21085.962164640427, "time_since_restore": 6843.085335254669, "policy_reward_mean": {}, "episode_len_mean": 734.42, "episodes_this_iter": 82, "timesteps_this_iter": 178915, "time_this_iter_s": 69.62462091445923, "config": {"num_workers": 60, "tf_session_args": {"device_count": {"CPU": 1}, "gpu_options": {"allow_growth": true}, "inter_op_parallelism_threads": 2, "log_device_placement": false, "allow_soft_placement": true, "intra_op_parallelism_threads": 2}, "batch_mode": "truncate_episodes", "collect_metrics_timeout": 180, "sample_batch_size": 750, "custom_resources_per_worker": {}, "vf_share_layers": false, "gamma": 0.99, "optimizer": {}, "input_evaluation": null, "num_envs_per_worker": 1, "train_batch_size": 90000, "vf_clip_param": 1000000.0, "kl_target": 0.01, "entropy_coeff": 0.0, "env_config": {"run": "PPO", "flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.3,\n            \"eta3\": 0.1,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 10.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 600,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}"}, "num_gpus_per_worker": 0, "synchronize_filters": true, "straggler_mitigation": false, "num_gpus": 0, "model": {"custom_options": {}, "custom_model": null, "custom_preprocessor": null, "squash_to_range": false, "framestack": true, "fcnet_hiddens": [128, 64, 32], "fcnet_activation": "tanh", "lstm_use_prev_action_reward": false, "grayscale": false, "conv_activation": "relu", "channel_major": false, "conv_filters": null, "dim": 84, "lstm_cell_size": 256, "use_lstm": false, "zero_mean": true, "free_log_std": false, "max_seq_len": 20}, "observation_filter": "MeanStdFilter", "use_gae": true, "log_level": "INFO", "num_sgd_iter": 10, "monitor": false, "env": "MultiWaveAttenuationMergePOEnvBufferedObs-v0no_random_eta2:0.2", "clip_param": 0.3, "lambda": 0.97, "simple_optimizer": false, "sgd_minibatch_size": 128, "num_cpus_for_driver": 1, "input": "sampler", "output": null, "horizon": 1500, "preprocessor_pref": "deepmind", "compress_observations": false, "output_compress_columns": ["obs", "new_obs"], "clip_rewards": null, "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "multiagent": {"policies_to_train": null, "policy_graphs": {}, "policy_mapping_fn": null}, "callbacks": {"on_train_result": null, "on_sample_end": null, "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7fe94d055748>", "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7fe94d055828>", "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7fe94d055cf8>"}, "num_cpus_per_worker": 1, "kl_coeff": 0.2, "lr": 0.0005, "sample_async": false, "output_max_file_size": 67108864, "lr_schedule": null, "clip_actions": false, "vf_loss_coeff": 1.0}}
{"pid": 43700, "hostname": "flow-main", "date": "2019-05-09_07-28-11", "custom_metrics": {"cost2_min": -202.72032956207417, "cost1_max": 474.75107557747845, "outflow_rate_min": 445.7046895649614, "cost2_mean": -174.67015892592732, "outflow_rate_max": 1257.230126236672, "system_level_velocity_min": 11.073613879616682, "cost1_min": 120.5385610088823, "cost2_max": -98.21517862007691, "system_level_velocity_max": 16.665553568825015, "cost1_mean": 350.2674769405614, "system_level_velocity_mean": 12.701002999866368, "outflow_rate_mean": 1034.010460414939}, "episodes_total": 30222, "num_metric_batches_dropped": 0, "info": {"default": {"kl": 0.016210658475756645, "entropy": 3.1297128200531006, "total_loss": 26.204355239868164, "cur_kl_coeff": 0.20000001788139343, "vf_explained_var": 0.8799968957901001, "vf_loss": 26.208049774169922, "cur_lr": 0.0005000000237487257, "policy_loss": -0.006936471909284592}, "grad_time_ms": 41265.856, "update_time_ms": 10.571, "num_steps_trained": 55754357, "num_steps_sampled": 55754357, "load_time_ms": 40.468, "sample_time_ms": 28263.648}, "episode_reward_max": 850.4768168811861, "iterations_since_restore": 98, "episode_reward_mean": 600.8683852144212, "timesteps_total": 55754357, "timesteps_since_restore": 17633269, "experiment_id": "9b178520507b4656ac608c6ff2056ff7", "node_ip": "10.138.0.2", "timestamp": 1557386891, "episode_reward_min": 183.23159011766845, "done": false, "training_iteration": 398, "time_total_s": 21156.384984493256, "time_since_restore": 6913.508155107498, "policy_reward_mean": {}, "episode_len_mean": 741.4, "episodes_this_iter": 82, "timesteps_this_iter": 180216, "time_this_iter_s": 70.42281985282898, "config": {"num_workers": 60, "tf_session_args": {"device_count": {"CPU": 1}, "gpu_options": {"allow_growth": true}, "inter_op_parallelism_threads": 2, "log_device_placement": false, "allow_soft_placement": true, "intra_op_parallelism_threads": 2}, "batch_mode": "truncate_episodes", "collect_metrics_timeout": 180, "sample_batch_size": 750, "custom_resources_per_worker": {}, "vf_share_layers": false, "gamma": 0.99, "optimizer": {}, "input_evaluation": null, "num_envs_per_worker": 1, "train_batch_size": 90000, "vf_clip_param": 1000000.0, "kl_target": 0.01, "entropy_coeff": 0.0, "env_config": {"run": "PPO", "flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.3,\n            \"eta3\": 0.1,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 10.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 600,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}"}, "num_gpus_per_worker": 0, "synchronize_filters": true, "straggler_mitigation": false, "num_gpus": 0, "model": {"custom_options": {}, "custom_model": null, "custom_preprocessor": null, "squash_to_range": false, "framestack": true, "fcnet_hiddens": [128, 64, 32], "fcnet_activation": "tanh", "lstm_use_prev_action_reward": false, "grayscale": false, "conv_activation": "relu", "channel_major": false, "conv_filters": null, "dim": 84, "lstm_cell_size": 256, "use_lstm": false, "zero_mean": true, "free_log_std": false, "max_seq_len": 20}, "observation_filter": "MeanStdFilter", "use_gae": true, "log_level": "INFO", "num_sgd_iter": 10, "monitor": false, "env": "MultiWaveAttenuationMergePOEnvBufferedObs-v0no_random_eta2:0.2", "clip_param": 0.3, "lambda": 0.97, "simple_optimizer": false, "sgd_minibatch_size": 128, "num_cpus_for_driver": 1, "input": "sampler", "output": null, "horizon": 1500, "preprocessor_pref": "deepmind", "compress_observations": false, "output_compress_columns": ["obs", "new_obs"], "clip_rewards": null, "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "multiagent": {"policies_to_train": null, "policy_graphs": {}, "policy_mapping_fn": null}, "callbacks": {"on_train_result": null, "on_sample_end": null, "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7fe94d055588>", "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7fe94d0556a0>", "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7fe94d055908>"}, "num_cpus_per_worker": 1, "kl_coeff": 0.2, "lr": 0.0005, "sample_async": false, "output_max_file_size": 67108864, "lr_schedule": null, "clip_actions": false, "vf_loss_coeff": 1.0}}
{"pid": 43700, "hostname": "flow-main", "date": "2019-05-09_07-29-20", "custom_metrics": {"cost2_min": -201.29373238707456, "cost1_max": 449.9042538707779, "outflow_rate_min": 444.40868556569495, "cost2_mean": -172.153311308644, "outflow_rate_max": 1228.4571440551472, "system_level_velocity_min": 10.146553938826353, "cost1_min": 119.40499663540058, "cost2_max": -98.15280158170646, "system_level_velocity_max": 15.752793537032359, "cost1_mean": 346.7798944807631, "system_level_velocity_mean": 12.603823901321674, "outflow_rate_mean": 1025.9781888834555}, "episodes_total": 30304, "num_metric_batches_dropped": 0, "info": {"default": {"kl": 0.017057664692401886, "entropy": 3.112684488296509, "total_loss": 28.37273406982422, "cur_kl_coeff": 0.20000004768371582, "vf_explained_var": 0.8728211522102356, "vf_loss": 28.37638282775879, "cur_lr": 0.0005000000237487257, "policy_loss": -0.00705747352913022}, "grad_time_ms": 41257.261, "update_time_ms": 10.522, "num_steps_trained": 55932390, "num_steps_sampled": 55932390, "load_time_ms": 40.917, "sample_time_ms": 28158.342}, "episode_reward_max": 792.7692181859451, "iterations_since_restore": 99, "episode_reward_mean": 605.1929884020082, "timesteps_total": 55932390, "timesteps_since_restore": 17811302, "experiment_id": "9b178520507b4656ac608c6ff2056ff7", "node_ip": "10.138.0.2", "timestamp": 1557386960, "episode_reward_min": 180.4207735748184, "done": false, "training_iteration": 399, "time_total_s": 21225.73904323578, "time_since_restore": 6982.862213850021, "policy_reward_mean": {}, "episode_len_mean": 741.4, "episodes_this_iter": 82, "timesteps_this_iter": 178033, "time_this_iter_s": 69.3540587425232, "config": {"num_workers": 60, "tf_session_args": {"device_count": {"CPU": 1}, "gpu_options": {"allow_growth": true}, "inter_op_parallelism_threads": 2, "log_device_placement": false, "allow_soft_placement": true, "intra_op_parallelism_threads": 2}, "batch_mode": "truncate_episodes", "collect_metrics_timeout": 180, "sample_batch_size": 750, "custom_resources_per_worker": {}, "vf_share_layers": false, "gamma": 0.99, "optimizer": {}, "input_evaluation": null, "num_envs_per_worker": 1, "train_batch_size": 90000, "vf_clip_param": 1000000.0, "kl_target": 0.01, "entropy_coeff": 0.0, "env_config": {"run": "PPO", "flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.3,\n            \"eta3\": 0.1,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 10.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 600,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}"}, "num_gpus_per_worker": 0, "synchronize_filters": true, "straggler_mitigation": false, "num_gpus": 0, "model": {"custom_options": {}, "custom_model": null, "custom_preprocessor": null, "squash_to_range": false, "framestack": true, "fcnet_hiddens": [128, 64, 32], "fcnet_activation": "tanh", "lstm_use_prev_action_reward": false, "grayscale": false, "conv_activation": "relu", "channel_major": false, "conv_filters": null, "dim": 84, "lstm_cell_size": 256, "use_lstm": false, "zero_mean": true, "free_log_std": false, "max_seq_len": 20}, "observation_filter": "MeanStdFilter", "use_gae": true, "log_level": "INFO", "num_sgd_iter": 10, "monitor": false, "env": "MultiWaveAttenuationMergePOEnvBufferedObs-v0no_random_eta2:0.2", "clip_param": 0.3, "lambda": 0.97, "simple_optimizer": false, "sgd_minibatch_size": 128, "num_cpus_for_driver": 1, "input": "sampler", "output": null, "horizon": 1500, "preprocessor_pref": "deepmind", "compress_observations": false, "output_compress_columns": ["obs", "new_obs"], "clip_rewards": null, "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "multiagent": {"policies_to_train": null, "policy_graphs": {}, "policy_mapping_fn": null}, "callbacks": {"on_train_result": null, "on_sample_end": null, "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7fe94d055748>", "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7fe94d055518>", "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7fe94d055278>"}, "num_cpus_per_worker": 1, "kl_coeff": 0.2, "lr": 0.0005, "sample_async": false, "output_max_file_size": 67108864, "lr_schedule": null, "clip_actions": false, "vf_loss_coeff": 1.0}}
{"pid": 43700, "hostname": "flow-main", "date": "2019-05-09_07-30-30", "custom_metrics": {"cost2_min": -194.94484965621652, "cost1_max": 461.50917235671795, "outflow_rate_min": 594.2724559487432, "cost2_mean": -173.36441104415556, "outflow_rate_max": 1247.5275444813344, "system_level_velocity_min": 10.146553938826353, "cost1_min": 181.6236352558427, "cost2_max": -125.40210419520687, "system_level_velocity_max": 16.26751301550136, "cost1_mean": 348.5867584877814, "system_level_velocity_mean": 12.587315801556054, "outflow_rate_mean": 1031.341776771999}, "episodes_total": 30387, "num_metric_batches_dropped": 0, "info": {"default": {"kl": 0.016793960705399513, "entropy": 3.1298835277557373, "total_loss": 26.138404846191406, "cur_kl_coeff": 0.20000000298023224, "vf_explained_var": 0.8822185397148132, "vf_loss": 26.14162826538086, "cur_lr": 0.0005000000237487257, "policy_loss": -0.006583335809409618}, "grad_time_ms": 41288.993, "update_time_ms": 10.585, "num_steps_trained": 56111744, "num_steps_sampled": 56111744, "load_time_ms": 40.27, "sample_time_ms": 28096.516}, "episode_reward_max": 799.3339655289549, "iterations_since_restore": 100, "episode_reward_mean": 607.9837588902587, "timesteps_total": 56111744, "timesteps_since_restore": 17990656, "experiment_id": "9b178520507b4656ac608c6ff2056ff7", "node_ip": "10.138.0.2", "timestamp": 1557387030, "episode_reward_min": 304.6821472553201, "done": true, "training_iteration": 400, "time_total_s": 21295.820799827576, "time_since_restore": 7052.943970441818, "policy_reward_mean": {}, "episode_len_mean": 744.17, "episodes_this_iter": 83, "timesteps_this_iter": 179354, "time_this_iter_s": 70.08175659179688, "config": {"num_workers": 60, "tf_session_args": {"device_count": {"CPU": 1}, "gpu_options": {"allow_growth": true}, "inter_op_parallelism_threads": 2, "log_device_placement": false, "allow_soft_placement": true, "intra_op_parallelism_threads": 2}, "batch_mode": "truncate_episodes", "collect_metrics_timeout": 180, "sample_batch_size": 750, "custom_resources_per_worker": {}, "vf_share_layers": false, "gamma": 0.99, "optimizer": {}, "input_evaluation": null, "num_envs_per_worker": 1, "train_batch_size": 90000, "vf_clip_param": 1000000.0, "kl_target": 0.01, "entropy_coeff": 0.0, "env_config": {"run": "PPO", "flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.3,\n            \"eta3\": 0.1,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 10.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 600,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}"}, "num_gpus_per_worker": 0, "synchronize_filters": true, "straggler_mitigation": false, "num_gpus": 0, "model": {"custom_options": {}, "custom_model": null, "custom_preprocessor": null, "squash_to_range": false, "framestack": true, "fcnet_hiddens": [128, 64, 32], "fcnet_activation": "tanh", "lstm_use_prev_action_reward": false, "grayscale": false, "conv_activation": "relu", "channel_major": false, "conv_filters": null, "dim": 84, "lstm_cell_size": 256, "use_lstm": false, "zero_mean": true, "free_log_std": false, "max_seq_len": 20}, "observation_filter": "MeanStdFilter", "use_gae": true, "log_level": "INFO", "num_sgd_iter": 10, "monitor": false, "env": "MultiWaveAttenuationMergePOEnvBufferedObs-v0no_random_eta2:0.2", "clip_param": 0.3, "lambda": 0.97, "simple_optimizer": false, "sgd_minibatch_size": 128, "num_cpus_for_driver": 1, "input": "sampler", "output": null, "horizon": 1500, "preprocessor_pref": "deepmind", "compress_observations": false, "output_compress_columns": ["obs", "new_obs"], "clip_rewards": null, "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "multiagent": {"policies_to_train": null, "policy_graphs": {}, "policy_mapping_fn": null}, "callbacks": {"on_train_result": null, "on_sample_end": null, "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7fe94d0556a0>", "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7fe94d055588>", "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7fe94d055550>"}, "num_cpus_per_worker": 1, "kl_coeff": 0.2, "lr": 0.0005, "sample_async": false, "output_max_file_size": 67108864, "lr_schedule": null, "clip_actions": false, "vf_loss_coeff": 1.0}}
