{"done": false, "date": "2019-05-09_01-55-30", "episodes_total": 13454, "timesteps_this_iter": 167568, "time_this_iter_s": 66.43190455436707, "episode_reward_min": 174.89797536188192, "iterations_since_restore": 1, "time_since_restore": 66.43190455436707, "experiment_id": "9b178520507b4656ac608c6ff2056ff7", "num_metric_batches_dropped": 0, "episode_len_mean": 733.3387096774194, "node_ip": "10.138.0.2", "timesteps_total": 21527801, "time_total_s": 7749.354084014893, "training_iteration": 201, "custom_metrics": {"system_level_velocity_min": 8.522517824257195, "cost1_mean": 320.5551556967889, "cost1_max": 477.68847088384314, "system_level_velocity_mean": 11.904272959069315, "outflow_rate_max": 1265.2551192968215, "system_level_velocity_max": 16.727038796371605, "outflow_rate_mean": 910.4896933520399, "cost2_mean": -121.92996545964313, "cost2_max": -49.440217232286514, "cost1_min": 98.53115273285277, "outflow_rate_min": 409.86624031599086, "cost2_min": -192.23033580996568}, "episodes_this_iter": 62, "hostname": "flow-main", "pid": 46359, "timesteps_since_restore": 167568, "policy_reward_mean": {}, "info": {"update_time_ms": 743.412, "default": {"kl": 0.01664111763238907, "cur_lr": 0.0005000000237487257, "vf_loss": 22.550437927246094, "vf_explained_var": 0.8173392415046692, "entropy": 2.3253986835479736, "total_loss": 22.545745849609375, "cur_kl_coeff": 0.5062499642372131, "policy_loss": -0.01311699952930212}, "sample_time_ms": 26573.902, "num_steps_trained": 21527801, "load_time_ms": 93.868, "grad_time_ms": 38673.532, "num_steps_sampled": 21527801}, "timestamp": 1557366930, "episode_reward_max": 1062.7387131148432, "config": {"kl_coeff": 0.2, "lr": 0.0005, "vf_share_layers": false, "num_cpus_per_worker": 1, "local_evaluator_tf_session_args": {"inter_op_parallelism_threads": 8, "intra_op_parallelism_threads": 8}, "num_gpus": 0, "num_gpus_per_worker": 0, "vf_clip_param": 1000000.0, "batch_mode": "truncate_episodes", "num_workers": 60, "tf_session_args": {"inter_op_parallelism_threads": 2, "intra_op_parallelism_threads": 2, "gpu_options": {"allow_growth": true}, "device_count": {"CPU": 1}, "log_device_placement": false, "allow_soft_placement": true}, "custom_resources_per_worker": {}, "train_batch_size": 90000, "num_envs_per_worker": 1, "lambda": 0.97, "sgd_minibatch_size": 128, "input_evaluation": null, "sample_batch_size": 750, "vf_loss_coeff": 1.0, "output_max_file_size": 67108864, "model": {"fcnet_hiddens": [128, 64, 32], "conv_filters": null, "fcnet_activation": "tanh", "custom_options": {}, "dim": 84, "max_seq_len": 20, "custom_preprocessor": null, "zero_mean": true, "custom_model": null, "conv_activation": "relu", "use_lstm": false, "lstm_use_prev_action_reward": false, "free_log_std": false, "framestack": true, "lstm_cell_size": 256, "squash_to_range": false, "channel_major": false, "grayscale": false}, "multiagent": {"policy_mapping_fn": null, "policy_graphs": {}, "policies_to_train": null}, "collect_metrics_timeout": 180, "monitor": false, "horizon": 1500, "log_level": "INFO", "simple_optimizer": false, "clip_rewards": null, "synchronize_filters": true, "kl_target": 0.01, "input": "sampler", "preprocessor_pref": "deepmind", "clip_actions": false, "entropy_coeff": 0.0, "output": null, "num_sgd_iter": 10, "compress_observations": false, "observation_filter": "MeanStdFilter", "env_config": {"run": "PPO", "flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.3,\n            \"eta3\": 0.1,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 10.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 600,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}"}, "sample_async": false, "env": "MultiWaveAttenuationMergePOEnvBufferedObs-v0no_warmup_700m", "optimizer": {}, "lr_schedule": null, "use_gae": true, "callbacks": {"on_sample_end": null, "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7f3065ef8198>", "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7f3065ef8208>", "on_train_result": null, "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7f3065ef81d0>"}, "gamma": 0.99, "output_compress_columns": ["obs", "new_obs"], "clip_param": 0.3, "num_cpus_for_driver": 1, "straggler_mitigation": false}, "episode_reward_mean": 724.5337589076721}
{"done": false, "date": "2019-05-09_01-56-36", "episodes_total": 13517, "timesteps_this_iter": 164591, "time_this_iter_s": 65.23045897483826, "episode_reward_min": 58.81785962831769, "iterations_since_restore": 2, "time_since_restore": 131.66236352920532, "experiment_id": "9b178520507b4656ac608c6ff2056ff7", "num_metric_batches_dropped": 0, "episode_len_mean": 721.33, "node_ip": "10.138.0.2", "timesteps_total": 21692392, "time_total_s": 7814.584542989731, "training_iteration": 202, "custom_metrics": {"system_level_velocity_min": 8.461110835243536, "cost1_mean": 329.6174243779398, "cost1_max": 462.9780923354285, "system_level_velocity_mean": 12.46806460380449, "outflow_rate_max": 1265.2551192968215, "system_level_velocity_max": 16.661238892369735, "outflow_rate_mean": 915.0666381965202, "cost2_mean": -111.81498732754632, "cost2_max": -41.55322207459407, "cost1_min": 43.556391683357134, "outflow_rate_min": 243.581279338333, "cost2_min": -192.30428231926913}, "episodes_this_iter": 63, "hostname": "flow-main", "pid": 46359, "timesteps_since_restore": 332159, "policy_reward_mean": {}, "info": {"update_time_ms": 377.778, "default": {"kl": 0.030392013490200043, "cur_lr": 0.0005000000237487257, "vf_loss": 12.932031631469727, "vf_explained_var": 0.8754023909568787, "entropy": 2.272716760635376, "total_loss": 12.925559043884277, "cur_kl_coeff": 0.20000004768371582, "policy_loss": -0.012549006380140781}, "sample_time_ms": 26560.009, "num_steps_trained": 21692392, "load_time_ms": 66.971, "grad_time_ms": 38492.106, "num_steps_sampled": 21692392}, "timestamp": 1557366996, "episode_reward_max": 1062.7387131148432, "config": {"kl_coeff": 0.2, "lr": 0.0005, "vf_share_layers": false, "num_cpus_per_worker": 1, "local_evaluator_tf_session_args": {"inter_op_parallelism_threads": 8, "intra_op_parallelism_threads": 8}, "num_gpus": 0, "num_gpus_per_worker": 0, "vf_clip_param": 1000000.0, "batch_mode": "truncate_episodes", "num_workers": 60, "tf_session_args": {"inter_op_parallelism_threads": 2, "intra_op_parallelism_threads": 2, "gpu_options": {"allow_growth": true}, "device_count": {"CPU": 1}, "log_device_placement": false, "allow_soft_placement": true}, "custom_resources_per_worker": {}, "train_batch_size": 90000, "num_envs_per_worker": 1, "lambda": 0.97, "sgd_minibatch_size": 128, "input_evaluation": null, "sample_batch_size": 750, "vf_loss_coeff": 1.0, "output_max_file_size": 67108864, "model": {"fcnet_hiddens": [128, 64, 32], "conv_filters": null, "fcnet_activation": "tanh", "custom_options": {}, "dim": 84, "max_seq_len": 20, "custom_preprocessor": null, "zero_mean": true, "custom_model": null, "conv_activation": "relu", "use_lstm": false, "lstm_use_prev_action_reward": false, "free_log_std": false, "framestack": true, "lstm_cell_size": 256, "squash_to_range": false, "channel_major": false, "grayscale": false}, "multiagent": {"policy_mapping_fn": null, "policy_graphs": {}, "policies_to_train": null}, "collect_metrics_timeout": 180, "monitor": false, "horizon": 1500, "log_level": "INFO", "simple_optimizer": false, "clip_rewards": null, "synchronize_filters": true, "kl_target": 0.01, "input": "sampler", "preprocessor_pref": "deepmind", "clip_actions": false, "entropy_coeff": 0.0, "output": null, "num_sgd_iter": 10, "compress_observations": false, "observation_filter": "MeanStdFilter", "env_config": {"run": "PPO", "flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.3,\n            \"eta3\": 0.1,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 10.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 600,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}"}, "sample_async": false, "env": "MultiWaveAttenuationMergePOEnvBufferedObs-v0no_warmup_700m", "optimizer": {}, "lr_schedule": null, "use_gae": true, "callbacks": {"on_sample_end": null, "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7f3065ef8b38>", "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7f3065ef8ba8>", "on_train_result": null, "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7f3065ef8b70>"}, "gamma": 0.99, "output_compress_columns": ["obs", "new_obs"], "clip_param": 0.3, "num_cpus_for_driver": 1, "straggler_mitigation": false}, "episode_reward_mean": 727.9240594917777}
{"done": false, "date": "2019-05-09_01-57-42", "episodes_total": 13609, "timesteps_this_iter": 171214, "time_this_iter_s": 65.78848433494568, "episode_reward_min": 53.10964896286424, "iterations_since_restore": 3, "time_since_restore": 197.450847864151, "experiment_id": "9b178520507b4656ac608c6ff2056ff7", "num_metric_batches_dropped": 0, "episode_len_mean": 721.15, "node_ip": "10.138.0.2", "timesteps_total": 21863606, "time_total_s": 7880.3730273246765, "training_iteration": 203, "custom_metrics": {"system_level_velocity_min": 8.288566940443467, "cost1_mean": 312.26524915977734, "cost1_max": 429.92594550381034, "system_level_velocity_mean": 11.81682022705945, "outflow_rate_max": 1203.0439343131181, "system_level_velocity_max": 15.769529841299565, "outflow_rate_mean": 887.1286028669373, "cost2_mean": -118.04892791736685, "cost2_max": -24.795739694616934, "cost1_min": 39.941637540950694, "outflow_rate_min": 246.4897953419775, "cost2_min": -184.162998978485}, "episodes_this_iter": 92, "hostname": "flow-main", "pid": 46359, "timesteps_since_restore": 503373, "policy_reward_mean": {}, "info": {"update_time_ms": 256.842, "default": {"kl": 0.021934816613793373, "cur_lr": 0.0005000000237487257, "vf_loss": 15.822502136230469, "vf_explained_var": 0.8641383647918701, "entropy": 2.3365368843078613, "total_loss": 15.816675186157227, "cur_kl_coeff": 0.29999998211860657, "policy_loss": -0.012407932430505753}, "sample_time_ms": 26814.354, "num_steps_trained": 21863606, "load_time_ms": 56.291, "grad_time_ms": 38373.183, "num_steps_sampled": 21863606}, "timestamp": 1557367062, "episode_reward_max": 990.8791784604701, "config": {"kl_coeff": 0.2, "lr": 0.0005, "vf_share_layers": false, "num_cpus_per_worker": 1, "local_evaluator_tf_session_args": {"inter_op_parallelism_threads": 8, "intra_op_parallelism_threads": 8}, "num_gpus": 0, "num_gpus_per_worker": 0, "vf_clip_param": 1000000.0, "batch_mode": "truncate_episodes", "num_workers": 60, "tf_session_args": {"inter_op_parallelism_threads": 2, "intra_op_parallelism_threads": 2, "gpu_options": {"allow_growth": true}, "device_count": {"CPU": 1}, "log_device_placement": false, "allow_soft_placement": true}, "custom_resources_per_worker": {}, "train_batch_size": 90000, "num_envs_per_worker": 1, "lambda": 0.97, "sgd_minibatch_size": 128, "input_evaluation": null, "sample_batch_size": 750, "vf_loss_coeff": 1.0, "output_max_file_size": 67108864, "model": {"fcnet_hiddens": [128, 64, 32], "conv_filters": null, "fcnet_activation": "tanh", "custom_options": {}, "dim": 84, "max_seq_len": 20, "custom_preprocessor": null, "zero_mean": true, "custom_model": null, "conv_activation": "relu", "use_lstm": false, "lstm_use_prev_action_reward": false, "free_log_std": false, "framestack": true, "lstm_cell_size": 256, "squash_to_range": false, "channel_major": false, "grayscale": false}, "multiagent": {"policy_mapping_fn": null, "policy_graphs": {}, "policies_to_train": null}, "collect_metrics_timeout": 180, "monitor": false, "horizon": 1500, "log_level": "INFO", "simple_optimizer": false, "clip_rewards": null, "synchronize_filters": true, "kl_target": 0.01, "input": "sampler", "preprocessor_pref": "deepmind", "clip_actions": false, "entropy_coeff": 0.0, "output": null, "num_sgd_iter": 10, "compress_observations": false, "observation_filter": "MeanStdFilter", "env_config": {"run": "PPO", "flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.3,\n            \"eta3\": 0.1,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 10.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 600,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}"}, "sample_async": false, "env": "MultiWaveAttenuationMergePOEnvBufferedObs-v0no_warmup_700m", "optimizer": {}, "lr_schedule": null, "use_gae": true, "callbacks": {"on_sample_end": null, "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7f3065f124a8>", "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7f3065f12518>", "on_train_result": null, "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7f3065f124e0>"}, "gamma": 0.99, "output_compress_columns": ["obs", "new_obs"], "clip_param": 0.3, "num_cpus_for_driver": 1, "straggler_mitigation": false}, "episode_reward_mean": 711.4515730204953}
{"done": false, "date": "2019-05-09_01-58-47", "episodes_total": 13706, "timesteps_this_iter": 163202, "time_this_iter_s": 65.44216752052307, "episode_reward_min": 53.10964896286424, "iterations_since_restore": 4, "time_since_restore": 262.8930153846741, "experiment_id": "9b178520507b4656ac608c6ff2056ff7", "num_metric_batches_dropped": 0, "episode_len_mean": 704.04, "node_ip": "10.138.0.2", "timesteps_total": 22026808, "time_total_s": 7945.8151948452, "training_iteration": 204, "custom_metrics": {"system_level_velocity_min": 8.205950277434065, "cost1_mean": 303.64555886429406, "cost1_max": 435.5038171077122, "system_level_velocity_mean": 11.805902364391368, "outflow_rate_max": 1180.783029342701, "system_level_velocity_max": 15.421721838709253, "outflow_rate_mean": 869.6280830377582, "cost2_mean": -116.288671714034, "cost2_max": -24.795739694616934, "cost1_min": 39.941637540950694, "outflow_rate_min": 247.02540399765948, "cost2_min": -185.3835417047133}, "episodes_this_iter": 97, "hostname": "flow-main", "pid": 46359, "timesteps_since_restore": 666575, "policy_reward_mean": {}, "info": {"update_time_ms": 195.096, "default": {"kl": 0.017197607085108757, "cur_lr": 0.0005000000237487257, "vf_loss": 21.081741333007812, "vf_explained_var": 0.8233430981636047, "entropy": 2.3007078170776367, "total_loss": 21.076011657714844, "cur_kl_coeff": 0.44999998807907104, "policy_loss": -0.0134697575122118}, "sample_time_ms": 26959.367, "num_steps_trained": 22026808, "load_time_ms": 47.407, "grad_time_ms": 38203.13, "num_steps_sampled": 22026808}, "timestamp": 1557367127, "episode_reward_max": 884.3721034598304, "config": {"kl_coeff": 0.2, "lr": 0.0005, "vf_share_layers": false, "num_cpus_per_worker": 1, "local_evaluator_tf_session_args": {"inter_op_parallelism_threads": 8, "intra_op_parallelism_threads": 8}, "num_gpus": 0, "num_gpus_per_worker": 0, "vf_clip_param": 1000000.0, "batch_mode": "truncate_episodes", "num_workers": 60, "tf_session_args": {"inter_op_parallelism_threads": 2, "intra_op_parallelism_threads": 2, "gpu_options": {"allow_growth": true}, "device_count": {"CPU": 1}, "log_device_placement": false, "allow_soft_placement": true}, "custom_resources_per_worker": {}, "train_batch_size": 90000, "num_envs_per_worker": 1, "lambda": 0.97, "sgd_minibatch_size": 128, "input_evaluation": null, "sample_batch_size": 750, "vf_loss_coeff": 1.0, "output_max_file_size": 67108864, "model": {"fcnet_hiddens": [128, 64, 32], "conv_filters": null, "fcnet_activation": "tanh", "custom_options": {}, "dim": 84, "max_seq_len": 20, "custom_preprocessor": null, "zero_mean": true, "custom_model": null, "conv_activation": "relu", "use_lstm": false, "lstm_use_prev_action_reward": false, "free_log_std": false, "framestack": true, "lstm_cell_size": 256, "squash_to_range": false, "channel_major": false, "grayscale": false}, "multiagent": {"policy_mapping_fn": null, "policy_graphs": {}, "policies_to_train": null}, "collect_metrics_timeout": 180, "monitor": false, "horizon": 1500, "log_level": "INFO", "simple_optimizer": false, "clip_rewards": null, "synchronize_filters": true, "kl_target": 0.01, "input": "sampler", "preprocessor_pref": "deepmind", "clip_actions": false, "entropy_coeff": 0.0, "output": null, "num_sgd_iter": 10, "compress_observations": false, "observation_filter": "MeanStdFilter", "env_config": {"run": "PPO", "flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.3,\n            \"eta3\": 0.1,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 10.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 600,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}"}, "sample_async": false, "env": "MultiWaveAttenuationMergePOEnvBufferedObs-v0no_warmup_700m", "optimizer": {}, "lr_schedule": null, "use_gae": true, "callbacks": {"on_sample_end": null, "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7f3065ef89b0>", "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7f3065ef8a20>", "on_train_result": null, "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7f3065ef8c88>"}, "gamma": 0.99, "output_compress_columns": ["obs", "new_obs"], "clip_param": 0.3, "num_cpus_for_driver": 1, "straggler_mitigation": false}, "episode_reward_mean": 682.0012833511083}
{"done": false, "date": "2019-05-09_01-59-52", "episodes_total": 13800, "timesteps_this_iter": 166995, "time_this_iter_s": 64.42496037483215, "episode_reward_min": 81.15751958385168, "iterations_since_restore": 5, "time_since_restore": 327.3179757595062, "experiment_id": "9b178520507b4656ac608c6ff2056ff7", "num_metric_batches_dropped": 0, "episode_len_mean": 727.33, "node_ip": "10.138.0.2", "timesteps_total": 22193803, "time_total_s": 8010.240155220032, "training_iteration": 205, "custom_metrics": {"system_level_velocity_min": 8.5408470077189, "cost1_mean": 321.29132506319684, "cost1_max": 425.95871286659826, "system_level_velocity_mean": 12.102859153215206, "outflow_rate_max": 1188.357966153274, "system_level_velocity_max": 15.252518627669767, "outflow_rate_mean": 907.6679350152938, "cost2_mean": -117.85320867070588, "cost2_max": -45.88425342662288, "cost1_min": 53.124975971174536, "outflow_rate_min": 273.6785732154025, "cost2_min": -202.02463374477782}, "episodes_this_iter": 94, "hostname": "flow-main", "pid": 46359, "timesteps_since_restore": 833570, "policy_reward_mean": {}, "info": {"update_time_ms": 158.21, "default": {"kl": 0.01840248890221119, "cur_lr": 0.0005000000237487257, "vf_loss": 20.402780532836914, "vf_explained_var": 0.8478625416755676, "entropy": 2.3353145122528076, "total_loss": 20.398473739624023, "cur_kl_coeff": 0.4500000476837158, "policy_loss": -0.01258671935647726}, "sample_time_ms": 26951.457, "num_steps_trained": 22193803, "load_time_ms": 46.331, "grad_time_ms": 37991.217, "num_steps_sampled": 22193803}, "timestamp": 1557367192, "episode_reward_max": 984.8688795484255, "config": {"kl_coeff": 0.2, "lr": 0.0005, "vf_share_layers": false, "num_cpus_per_worker": 1, "local_evaluator_tf_session_args": {"inter_op_parallelism_threads": 8, "intra_op_parallelism_threads": 8}, "num_gpus": 0, "num_gpus_per_worker": 0, "vf_clip_param": 1000000.0, "batch_mode": "truncate_episodes", "num_workers": 60, "tf_session_args": {"inter_op_parallelism_threads": 2, "intra_op_parallelism_threads": 2, "gpu_options": {"allow_growth": true}, "device_count": {"CPU": 1}, "log_device_placement": false, "allow_soft_placement": true}, "custom_resources_per_worker": {}, "train_batch_size": 90000, "num_envs_per_worker": 1, "lambda": 0.97, "sgd_minibatch_size": 128, "input_evaluation": null, "sample_batch_size": 750, "vf_loss_coeff": 1.0, "output_max_file_size": 67108864, "model": {"fcnet_hiddens": [128, 64, 32], "conv_filters": null, "fcnet_activation": "tanh", "custom_options": {}, "dim": 84, "max_seq_len": 20, "custom_preprocessor": null, "zero_mean": true, "custom_model": null, "conv_activation": "relu", "use_lstm": false, "lstm_use_prev_action_reward": false, "free_log_std": false, "framestack": true, "lstm_cell_size": 256, "squash_to_range": false, "channel_major": false, "grayscale": false}, "multiagent": {"policy_mapping_fn": null, "policy_graphs": {}, "policies_to_train": null}, "collect_metrics_timeout": 180, "monitor": false, "horizon": 1500, "log_level": "INFO", "simple_optimizer": false, "clip_rewards": null, "synchronize_filters": true, "kl_target": 0.01, "input": "sampler", "preprocessor_pref": "deepmind", "clip_actions": false, "entropy_coeff": 0.0, "output": null, "num_sgd_iter": 10, "compress_observations": false, "observation_filter": "MeanStdFilter", "env_config": {"run": "PPO", "flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.3,\n            \"eta3\": 0.1,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 10.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 600,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}"}, "sample_async": false, "env": "MultiWaveAttenuationMergePOEnvBufferedObs-v0no_warmup_700m", "optimizer": {}, "lr_schedule": null, "use_gae": true, "callbacks": {"on_sample_end": null, "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7f3065f12550>", "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7f3065f12358>", "on_train_result": null, "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7f3065f125c0>"}, "gamma": 0.99, "output_compress_columns": ["obs", "new_obs"], "clip_param": 0.3, "num_cpus_for_driver": 1, "straggler_mitigation": false}, "episode_reward_mean": 710.4716464172568}
{"done": false, "date": "2019-05-09_02-01-01", "episodes_total": 13894, "timesteps_this_iter": 169875, "time_this_iter_s": 69.84299921989441, "episode_reward_min": 54.9514656282423, "iterations_since_restore": 6, "time_since_restore": 397.16097497940063, "experiment_id": "9b178520507b4656ac608c6ff2056ff7", "num_metric_batches_dropped": 0, "episode_len_mean": 720.78, "node_ip": "10.138.0.2", "timesteps_total": 22363678, "time_total_s": 8080.083154439926, "training_iteration": 206, "custom_metrics": {"system_level_velocity_min": 8.534874007083392, "cost1_mean": 308.2314150932367, "cost1_max": 425.95871286659826, "system_level_velocity_mean": 11.718947432809625, "outflow_rate_max": 1154.2013303078948, "system_level_velocity_max": 15.073007712251732, "outflow_rate_mean": 882.1906400615815, "cost2_mean": -119.11745921588644, "cost2_max": -48.68734235934485, "cost1_min": 44.71199259063314, "outflow_rate_min": 245.77874168974736, "cost2_min": -192.3269574413526}, "episodes_this_iter": 94, "hostname": "flow-main", "pid": 46359, "timesteps_since_restore": 1003445, "policy_reward_mean": {}, "info": {"update_time_ms": 133.48, "default": {"kl": 0.017650429159402847, "cur_lr": 0.0005000000237487257, "vf_loss": 21.78861427307129, "vf_explained_var": 0.8485586643218994, "entropy": 2.3163609504699707, "total_loss": 21.783740997314453, "cur_kl_coeff": 0.45000001788139343, "policy_loss": -0.012816589325666428}, "sample_time_ms": 27003.463, "num_steps_trained": 22363678, "load_time_ms": 45.167, "grad_time_ms": 38643.137, "num_steps_sampled": 22363678}, "timestamp": 1557367261, "episode_reward_max": 971.9297510009409, "config": {"kl_coeff": 0.2, "lr": 0.0005, "vf_share_layers": false, "num_cpus_per_worker": 1, "local_evaluator_tf_session_args": {"inter_op_parallelism_threads": 8, "intra_op_parallelism_threads": 8}, "num_gpus": 0, "num_gpus_per_worker": 0, "vf_clip_param": 1000000.0, "batch_mode": "truncate_episodes", "num_workers": 60, "tf_session_args": {"inter_op_parallelism_threads": 2, "intra_op_parallelism_threads": 2, "gpu_options": {"allow_growth": true}, "device_count": {"CPU": 1}, "log_device_placement": false, "allow_soft_placement": true}, "custom_resources_per_worker": {}, "train_batch_size": 90000, "num_envs_per_worker": 1, "lambda": 0.97, "sgd_minibatch_size": 128, "input_evaluation": null, "sample_batch_size": 750, "vf_loss_coeff": 1.0, "output_max_file_size": 67108864, "model": {"fcnet_hiddens": [128, 64, 32], "conv_filters": null, "fcnet_activation": "tanh", "custom_options": {}, "dim": 84, "max_seq_len": 20, "custom_preprocessor": null, "zero_mean": true, "custom_model": null, "conv_activation": "relu", "use_lstm": false, "lstm_use_prev_action_reward": false, "free_log_std": false, "framestack": true, "lstm_cell_size": 256, "squash_to_range": false, "channel_major": false, "grayscale": false}, "multiagent": {"policy_mapping_fn": null, "policy_graphs": {}, "policies_to_train": null}, "collect_metrics_timeout": 180, "monitor": false, "horizon": 1500, "log_level": "INFO", "simple_optimizer": false, "clip_rewards": null, "synchronize_filters": true, "kl_target": 0.01, "input": "sampler", "preprocessor_pref": "deepmind", "clip_actions": false, "entropy_coeff": 0.0, "output": null, "num_sgd_iter": 10, "compress_observations": false, "observation_filter": "MeanStdFilter", "env_config": {"run": "PPO", "flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.3,\n            \"eta3\": 0.1,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 10.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 600,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}"}, "sample_async": false, "env": "MultiWaveAttenuationMergePOEnvBufferedObs-v0no_warmup_700m", "optimizer": {}, "lr_schedule": null, "use_gae": true, "callbacks": {"on_sample_end": null, "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7f3065ef8588>", "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7f3065ef8780>", "on_train_result": null, "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7f3065ef8cc0>"}, "gamma": 0.99, "output_compress_columns": ["obs", "new_obs"], "clip_param": 0.3, "num_cpus_for_driver": 1, "straggler_mitigation": false}, "episode_reward_mean": 697.2903850919147}
{"done": false, "date": "2019-05-09_02-02-10", "episodes_total": 13984, "timesteps_this_iter": 170645, "time_this_iter_s": 68.1087601184845, "episode_reward_min": 173.4522556777971, "iterations_since_restore": 7, "time_since_restore": 465.26973509788513, "experiment_id": "9b178520507b4656ac608c6ff2056ff7", "num_metric_batches_dropped": 0, "episode_len_mean": 736.65, "node_ip": "10.138.0.2", "timesteps_total": 22534323, "time_total_s": 8148.191914558411, "training_iteration": 207, "custom_metrics": {"system_level_velocity_min": 9.137715496171028, "cost1_mean": 322.05915695562913, "cost1_max": 432.641138833627, "system_level_velocity_mean": 11.941320933892257, "outflow_rate_max": 1175.2942042516388, "system_level_velocity_max": 15.878546655435573, "outflow_rate_mean": 915.3575782491148, "cost2_mean": -123.54341694625697, "cost2_max": -53.30192583625647, "cost1_min": 93.89663651206433, "outflow_rate_min": 389.6586026408507, "cost2_min": -201.67450201929643}, "episodes_this_iter": 90, "hostname": "flow-main", "pid": 46359, "timesteps_since_restore": 1174090, "policy_reward_mean": {}, "info": {"update_time_ms": 117.145, "default": {"kl": 0.017546620219945908, "cur_lr": 0.0005000000237487257, "vf_loss": 21.273935317993164, "vf_explained_var": 0.8587012887001038, "entropy": 2.3477563858032227, "total_loss": 21.268579483032227, "cur_kl_coeff": 0.44999998807907104, "policy_loss": -0.01325266994535923}, "sample_time_ms": 27254.949, "num_steps_trained": 22534323, "load_time_ms": 42.636, "grad_time_ms": 38695.485, "num_steps_sampled": 22534323}, "timestamp": 1557367330, "episode_reward_max": 967.4337645332126, "config": {"kl_coeff": 0.2, "lr": 0.0005, "vf_share_layers": false, "num_cpus_per_worker": 1, "local_evaluator_tf_session_args": {"inter_op_parallelism_threads": 8, "intra_op_parallelism_threads": 8}, "num_gpus": 0, "num_gpus_per_worker": 0, "vf_clip_param": 1000000.0, "batch_mode": "truncate_episodes", "num_workers": 60, "tf_session_args": {"inter_op_parallelism_threads": 2, "intra_op_parallelism_threads": 2, "gpu_options": {"allow_growth": true}, "device_count": {"CPU": 1}, "log_device_placement": false, "allow_soft_placement": true}, "custom_resources_per_worker": {}, "train_batch_size": 90000, "num_envs_per_worker": 1, "lambda": 0.97, "sgd_minibatch_size": 128, "input_evaluation": null, "sample_batch_size": 750, "vf_loss_coeff": 1.0, "output_max_file_size": 67108864, "model": {"fcnet_hiddens": [128, 64, 32], "conv_filters": null, "fcnet_activation": "tanh", "custom_options": {}, "dim": 84, "max_seq_len": 20, "custom_preprocessor": null, "zero_mean": true, "custom_model": null, "conv_activation": "relu", "use_lstm": false, "lstm_use_prev_action_reward": false, "free_log_std": false, "framestack": true, "lstm_cell_size": 256, "squash_to_range": false, "channel_major": false, "grayscale": false}, "multiagent": {"policy_mapping_fn": null, "policy_graphs": {}, "policies_to_train": null}, "collect_metrics_timeout": 180, "monitor": false, "horizon": 1500, "log_level": "INFO", "simple_optimizer": false, "clip_rewards": null, "synchronize_filters": true, "kl_target": 0.01, "input": "sampler", "preprocessor_pref": "deepmind", "clip_actions": false, "entropy_coeff": 0.0, "output": null, "num_sgd_iter": 10, "compress_observations": false, "observation_filter": "MeanStdFilter", "env_config": {"run": "PPO", "flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.3,\n            \"eta3\": 0.1,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 10.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 600,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}"}, "sample_async": false, "env": "MultiWaveAttenuationMergePOEnvBufferedObs-v0no_warmup_700m", "optimizer": {}, "lr_schedule": null, "use_gae": true, "callbacks": {"on_sample_end": null, "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7f3065f12320>", "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7f3065f12ba8>", "on_train_result": null, "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7f3065f12198>"}, "gamma": 0.99, "output_compress_columns": ["obs", "new_obs"], "clip_param": 0.3, "num_cpus_for_driver": 1, "straggler_mitigation": false}, "episode_reward_mean": 729.016017938581}
{"done": false, "date": "2019-05-09_02-03-16", "episodes_total": 14077, "timesteps_this_iter": 166318, "time_this_iter_s": 66.07205295562744, "episode_reward_min": 175.0940375927538, "iterations_since_restore": 8, "time_since_restore": 531.3417880535126, "experiment_id": "9b178520507b4656ac608c6ff2056ff7", "num_metric_batches_dropped": 0, "episode_len_mean": 729.57, "node_ip": "10.138.0.2", "timesteps_total": 22700641, "time_total_s": 8214.263967514038, "training_iteration": 208, "custom_metrics": {"system_level_velocity_min": 8.335761810445648, "cost1_mean": 313.92011885025613, "cost1_max": 399.07599640199237, "system_level_velocity_mean": 11.7383122715332, "outflow_rate_max": 1167.435733198489, "system_level_velocity_max": 14.908324914448109, "outflow_rate_mean": 895.6614210417727, "cost2_mean": -117.77408086112808, "cost2_max": -43.89838973935303, "cost1_min": 94.56604543448877, "outflow_rate_min": 395.6466699313353, "cost2_min": -199.39974063367183}, "episodes_this_iter": 93, "hostname": "flow-main", "pid": 46359, "timesteps_since_restore": 1340408, "policy_reward_mean": {}, "info": {"update_time_ms": 103.833, "default": {"kl": 0.017958123236894608, "cur_lr": 0.0005000000237487257, "vf_loss": 23.09295082092285, "vf_explained_var": 0.848395824432373, "entropy": 2.348310947418213, "total_loss": 23.087005615234375, "cur_kl_coeff": 0.4500000476837158, "policy_loss": -0.014026019722223282}, "sample_time_ms": 27161.334, "num_steps_trained": 22700641, "load_time_ms": 44.535, "grad_time_ms": 38760.555, "num_steps_sampled": 22700641}, "timestamp": 1557367396, "episode_reward_max": 929.1619562672741, "config": {"kl_coeff": 0.2, "lr": 0.0005, "vf_share_layers": false, "num_cpus_per_worker": 1, "local_evaluator_tf_session_args": {"inter_op_parallelism_threads": 8, "intra_op_parallelism_threads": 8}, "num_gpus": 0, "num_gpus_per_worker": 0, "vf_clip_param": 1000000.0, "batch_mode": "truncate_episodes", "num_workers": 60, "tf_session_args": {"inter_op_parallelism_threads": 2, "intra_op_parallelism_threads": 2, "gpu_options": {"allow_growth": true}, "device_count": {"CPU": 1}, "log_device_placement": false, "allow_soft_placement": true}, "custom_resources_per_worker": {}, "train_batch_size": 90000, "num_envs_per_worker": 1, "lambda": 0.97, "sgd_minibatch_size": 128, "input_evaluation": null, "sample_batch_size": 750, "vf_loss_coeff": 1.0, "output_max_file_size": 67108864, "model": {"fcnet_hiddens": [128, 64, 32], "conv_filters": null, "fcnet_activation": "tanh", "custom_options": {}, "dim": 84, "max_seq_len": 20, "custom_preprocessor": null, "zero_mean": true, "custom_model": null, "conv_activation": "relu", "use_lstm": false, "lstm_use_prev_action_reward": false, "free_log_std": false, "framestack": true, "lstm_cell_size": 256, "squash_to_range": false, "channel_major": false, "grayscale": false}, "multiagent": {"policy_mapping_fn": null, "policy_graphs": {}, "policies_to_train": null}, "collect_metrics_timeout": 180, "monitor": false, "horizon": 1500, "log_level": "INFO", "simple_optimizer": false, "clip_rewards": null, "synchronize_filters": true, "kl_target": 0.01, "input": "sampler", "preprocessor_pref": "deepmind", "clip_actions": false, "entropy_coeff": 0.0, "output": null, "num_sgd_iter": 10, "compress_observations": false, "observation_filter": "MeanStdFilter", "env_config": {"run": "PPO", "flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.3,\n            \"eta3\": 0.1,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 10.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 600,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}"}, "sample_async": false, "env": "MultiWaveAttenuationMergePOEnvBufferedObs-v0no_warmup_700m", "optimizer": {}, "lr_schedule": null, "use_gae": true, "callbacks": {"on_sample_end": null, "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7f3065ef8da0>", "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7f3065ef87f0>", "on_train_result": null, "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7f3065ef8630>"}, "gamma": 0.99, "output_compress_columns": ["obs", "new_obs"], "clip_param": 0.3, "num_cpus_for_driver": 1, "straggler_mitigation": false}, "episode_reward_mean": 707.0784582050251}
{"done": false, "date": "2019-05-09_02-04-21", "episodes_total": 14170, "timesteps_this_iter": 165662, "time_this_iter_s": 65.38140201568604, "episode_reward_min": 85.10293638732765, "iterations_since_restore": 9, "time_since_restore": 596.7231900691986, "experiment_id": "9b178520507b4656ac608c6ff2056ff7", "num_metric_batches_dropped": 0, "episode_len_mean": 728.35, "node_ip": "10.138.0.2", "timesteps_total": 22866303, "time_total_s": 8279.645369529724, "training_iteration": 209, "custom_metrics": {"system_level_velocity_min": 7.9890957469728985, "cost1_mean": 326.435345199713, "cost1_max": 426.9851107491998, "system_level_velocity_mean": 12.23817925011408, "outflow_rate_max": 1189.6093128647708, "system_level_velocity_max": 15.544444927923584, "outflow_rate_mean": 915.7823458221505, "cost2_mean": -117.60511643108143, "cost2_max": -35.247193822101565, "cost1_min": 53.73552953647274, "outflow_rate_min": 281.30174835707766, "cost2_min": -196.11346862737028}, "episodes_this_iter": 93, "hostname": "flow-main", "pid": 46359, "timesteps_since_restore": 1506070, "policy_reward_mean": {}, "info": {"update_time_ms": 93.761, "default": {"kl": 0.01728675328195095, "cur_lr": 0.0005000000237487257, "vf_loss": 23.886262893676758, "vf_explained_var": 0.8558807969093323, "entropy": 2.324951648712158, "total_loss": 23.880451202392578, "cur_kl_coeff": 0.44999998807907104, "policy_loss": -0.01359211839735508}, "sample_time_ms": 27128.744, "num_steps_trained": 22866303, "load_time_ms": 43.002, "grad_time_ms": 38697.246, "num_steps_sampled": 22866303}, "timestamp": 1557367461, "episode_reward_max": 966.4480594326664, "config": {"kl_coeff": 0.2, "lr": 0.0005, "vf_share_layers": false, "num_cpus_per_worker": 1, "local_evaluator_tf_session_args": {"inter_op_parallelism_threads": 8, "intra_op_parallelism_threads": 8}, "num_gpus": 0, "num_gpus_per_worker": 0, "vf_clip_param": 1000000.0, "batch_mode": "truncate_episodes", "num_workers": 60, "tf_session_args": {"inter_op_parallelism_threads": 2, "intra_op_parallelism_threads": 2, "gpu_options": {"allow_growth": true}, "device_count": {"CPU": 1}, "log_device_placement": false, "allow_soft_placement": true}, "custom_resources_per_worker": {}, "train_batch_size": 90000, "num_envs_per_worker": 1, "lambda": 0.97, "sgd_minibatch_size": 128, "input_evaluation": null, "sample_batch_size": 750, "vf_loss_coeff": 1.0, "output_max_file_size": 67108864, "model": {"fcnet_hiddens": [128, 64, 32], "conv_filters": null, "fcnet_activation": "tanh", "custom_options": {}, "dim": 84, "max_seq_len": 20, "custom_preprocessor": null, "zero_mean": true, "custom_model": null, "conv_activation": "relu", "use_lstm": false, "lstm_use_prev_action_reward": false, "free_log_std": false, "framestack": true, "lstm_cell_size": 256, "squash_to_range": false, "channel_major": false, "grayscale": false}, "multiagent": {"policy_mapping_fn": null, "policy_graphs": {}, "policies_to_train": null}, "collect_metrics_timeout": 180, "monitor": false, "horizon": 1500, "log_level": "INFO", "simple_optimizer": false, "clip_rewards": null, "synchronize_filters": true, "kl_target": 0.01, "input": "sampler", "preprocessor_pref": "deepmind", "clip_actions": false, "entropy_coeff": 0.0, "output": null, "num_sgd_iter": 10, "compress_observations": false, "observation_filter": "MeanStdFilter", "env_config": {"run": "PPO", "flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.3,\n            \"eta3\": 0.1,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 10.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 600,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}"}, "sample_async": false, "env": "MultiWaveAttenuationMergePOEnvBufferedObs-v0no_warmup_700m", "optimizer": {}, "lr_schedule": null, "use_gae": true, "callbacks": {"on_sample_end": null, "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7f3065f12588>", "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7f3065f129e8>", "on_train_result": null, "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7f3065f12710>"}, "gamma": 0.99, "output_compress_columns": ["obs", "new_obs"], "clip_param": 0.3, "num_cpus_for_driver": 1, "straggler_mitigation": false}, "episode_reward_mean": 725.6846484128207}
{"done": false, "date": "2019-05-09_02-05-26", "episodes_total": 14260, "timesteps_this_iter": 164271, "time_this_iter_s": 64.454519033432, "episode_reward_min": 80.53090678324554, "iterations_since_restore": 10, "time_since_restore": 661.1777091026306, "experiment_id": "9b178520507b4656ac608c6ff2056ff7", "num_metric_batches_dropped": 0, "episode_len_mean": 712.46, "node_ip": "10.138.0.2", "timesteps_total": 23030574, "time_total_s": 8344.099888563156, "training_iteration": 210, "custom_metrics": {"system_level_velocity_min": 8.737602055082673, "cost1_mean": 318.4594500363692, "cost1_max": 476.489700715866, "system_level_velocity_mean": 12.162075776334989, "outflow_rate_max": 1264.302329490191, "system_level_velocity_max": 16.692547030482828, "outflow_rate_mean": 906.5311934988657, "cost2_mean": -124.48617422882462, "cost2_max": -42.54596673119904, "cost1_min": 54.118347888680574, "outflow_rate_min": 274.97816840233133, "cost2_min": -205.35949795879552}, "episodes_this_iter": 90, "hostname": "flow-main", "pid": 46359, "timesteps_since_restore": 1670341, "policy_reward_mean": {}, "info": {"update_time_ms": 85.486, "default": {"kl": 0.01798725500702858, "cur_lr": 0.0005000000237487257, "vf_loss": 25.068235397338867, "vf_explained_var": 0.8408975601196289, "entropy": 2.3126089572906494, "total_loss": 25.062713623046875, "cur_kl_coeff": 0.44999998807907104, "policy_loss": -0.01361579168587923}, "sample_time_ms": 27102.057, "num_steps_trained": 23030574, "load_time_ms": 43.602, "grad_time_ms": 38553.253, "num_steps_sampled": 23030574}, "timestamp": 1557367526, "episode_reward_max": 1111.0602763714742, "config": {"kl_coeff": 0.2, "lr": 0.0005, "vf_share_layers": false, "num_cpus_per_worker": 1, "local_evaluator_tf_session_args": {"inter_op_parallelism_threads": 8, "intra_op_parallelism_threads": 8}, "num_gpus": 0, "num_gpus_per_worker": 0, "vf_clip_param": 1000000.0, "batch_mode": "truncate_episodes", "num_workers": 60, "tf_session_args": {"inter_op_parallelism_threads": 2, "intra_op_parallelism_threads": 2, "gpu_options": {"allow_growth": true}, "device_count": {"CPU": 1}, "log_device_placement": false, "allow_soft_placement": true}, "custom_resources_per_worker": {}, "train_batch_size": 90000, "num_envs_per_worker": 1, "lambda": 0.97, "sgd_minibatch_size": 128, "input_evaluation": null, "sample_batch_size": 750, "vf_loss_coeff": 1.0, "output_max_file_size": 67108864, "model": {"fcnet_hiddens": [128, 64, 32], "conv_filters": null, "fcnet_activation": "tanh", "custom_options": {}, "dim": 84, "max_seq_len": 20, "custom_preprocessor": null, "zero_mean": true, "custom_model": null, "conv_activation": "relu", "use_lstm": false, "lstm_use_prev_action_reward": false, "free_log_std": false, "framestack": true, "lstm_cell_size": 256, "squash_to_range": false, "channel_major": false, "grayscale": false}, "multiagent": {"policy_mapping_fn": null, "policy_graphs": {}, "policies_to_train": null}, "collect_metrics_timeout": 180, "monitor": false, "horizon": 1500, "log_level": "INFO", "simple_optimizer": false, "clip_rewards": null, "synchronize_filters": true, "kl_target": 0.01, "input": "sampler", "preprocessor_pref": "deepmind", "clip_actions": false, "entropy_coeff": 0.0, "output": null, "num_sgd_iter": 10, "compress_observations": false, "observation_filter": "MeanStdFilter", "env_config": {"run": "PPO", "flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.3,\n            \"eta3\": 0.1,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 10.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 600,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}"}, "sample_async": false, "env": "MultiWaveAttenuationMergePOEnvBufferedObs-v0no_warmup_700m", "optimizer": {}, "lr_schedule": null, "use_gae": true, "callbacks": {"on_sample_end": null, "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7f3065ef8b70>", "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7f3065ef89e8>", "on_train_result": null, "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7f3065ef8978>"}, "gamma": 0.99, "output_compress_columns": ["obs", "new_obs"], "clip_param": 0.3, "num_cpus_for_driver": 1, "straggler_mitigation": false}, "episode_reward_mean": 718.3053535751366}
{"done": false, "date": "2019-05-09_02-06-34", "episodes_total": 14351, "timesteps_this_iter": 167314, "time_this_iter_s": 67.79079461097717, "episode_reward_min": 78.42582668607999, "iterations_since_restore": 11, "time_since_restore": 728.9685037136078, "experiment_id": "9b178520507b4656ac608c6ff2056ff7", "num_metric_batches_dropped": 0, "episode_len_mean": 731.69, "node_ip": "10.138.0.2", "timesteps_total": 23197888, "time_total_s": 8411.890683174133, "training_iteration": 211, "custom_metrics": {"system_level_velocity_min": 9.29232323746064, "cost1_mean": 331.6189051747127, "cost1_max": 476.489700715866, "system_level_velocity_mean": 12.331980749671315, "outflow_rate_max": 1195.9208645980298, "system_level_velocity_max": 16.692547030482828, "outflow_rate_mean": 931.9177346579243, "cost2_mean": -124.49210741822219, "cost2_max": -42.87967053776614, "cost1_min": 54.95835294292476, "outflow_rate_min": 277.81725931237565, "cost2_min": -195.5486344517392}, "episodes_this_iter": 91, "hostname": "flow-main", "pid": 46359, "timesteps_since_restore": 1837655, "policy_reward_mean": {}, "info": {"update_time_ms": 12.127, "default": {"kl": 0.01752178743481636, "cur_lr": 0.0005000000237487257, "vf_loss": 25.06620979309082, "vf_explained_var": 0.835213840007782, "entropy": 2.312573194503784, "total_loss": 25.06085777282715, "cur_kl_coeff": 0.45000001788139343, "policy_loss": -0.013236984610557556}, "sample_time_ms": 27233.599, "num_steps_trained": 23197888, "load_time_ms": 36.68, "grad_time_ms": 38640.303, "num_steps_sampled": 23197888}, "timestamp": 1557367594, "episode_reward_max": 1111.0602763714742, "config": {"kl_coeff": 0.2, "lr": 0.0005, "vf_share_layers": false, "num_cpus_per_worker": 1, "local_evaluator_tf_session_args": {"inter_op_parallelism_threads": 8, "intra_op_parallelism_threads": 8}, "num_gpus": 0, "num_gpus_per_worker": 0, "vf_clip_param": 1000000.0, "batch_mode": "truncate_episodes", "num_workers": 60, "tf_session_args": {"inter_op_parallelism_threads": 2, "intra_op_parallelism_threads": 2, "gpu_options": {"allow_growth": true}, "device_count": {"CPU": 1}, "log_device_placement": false, "allow_soft_placement": true}, "custom_resources_per_worker": {}, "train_batch_size": 90000, "num_envs_per_worker": 1, "lambda": 0.97, "sgd_minibatch_size": 128, "input_evaluation": null, "sample_batch_size": 750, "vf_loss_coeff": 1.0, "output_max_file_size": 67108864, "model": {"fcnet_hiddens": [128, 64, 32], "conv_filters": null, "fcnet_activation": "tanh", "custom_options": {}, "dim": 84, "max_seq_len": 20, "custom_preprocessor": null, "zero_mean": true, "custom_model": null, "conv_activation": "relu", "use_lstm": false, "lstm_use_prev_action_reward": false, "free_log_std": false, "framestack": true, "lstm_cell_size": 256, "squash_to_range": false, "channel_major": false, "grayscale": false}, "multiagent": {"policy_mapping_fn": null, "policy_graphs": {}, "policies_to_train": null}, "collect_metrics_timeout": 180, "monitor": false, "horizon": 1500, "log_level": "INFO", "simple_optimizer": false, "clip_rewards": null, "synchronize_filters": true, "kl_target": 0.01, "input": "sampler", "preprocessor_pref": "deepmind", "clip_actions": false, "entropy_coeff": 0.0, "output": null, "num_sgd_iter": 10, "compress_observations": false, "observation_filter": "MeanStdFilter", "env_config": {"run": "PPO", "flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.3,\n            \"eta3\": 0.1,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 10.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 600,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}"}, "sample_async": false, "env": "MultiWaveAttenuationMergePOEnvBufferedObs-v0no_warmup_700m", "optimizer": {}, "lr_schedule": null, "use_gae": true, "callbacks": {"on_sample_end": null, "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7f3065f124e0>", "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7f3065f127b8>", "on_train_result": null, "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7f30dc2fdb70>"}, "gamma": 0.99, "output_compress_columns": ["obs", "new_obs"], "clip_param": 0.3, "num_cpus_for_driver": 1, "straggler_mitigation": false}, "episode_reward_mean": 739.5990085750306}
{"done": false, "date": "2019-05-09_02-07-41", "episodes_total": 14440, "timesteps_this_iter": 170797, "time_this_iter_s": 66.941073179245, "episode_reward_min": 53.018224521181196, "iterations_since_restore": 12, "time_since_restore": 795.9095768928528, "experiment_id": "9b178520507b4656ac608c6ff2056ff7", "num_metric_batches_dropped": 0, "episode_len_mean": 742.88, "node_ip": "10.138.0.2", "timesteps_total": 23368685, "time_total_s": 8478.831756353378, "training_iteration": 212, "custom_metrics": {"system_level_velocity_min": 8.33744966793144, "cost1_mean": 328.0179159280609, "cost1_max": 443.53155434300197, "system_level_velocity_mean": 12.004666772702219, "outflow_rate_max": 1175.0705473174517, "system_level_velocity_max": 16.195380490117632, "outflow_rate_mean": 930.4122140873452, "cost2_mean": -127.19192721300615, "cost2_max": -30.985315841040208, "cost1_min": 41.90818362663657, "outflow_rate_min": 246.32493430068558, "cost2_min": -210.24939737386893}, "episodes_this_iter": 89, "hostname": "flow-main", "pid": 46359, "timesteps_since_restore": 2008452, "policy_reward_mean": {}, "info": {"update_time_ms": 12.112, "default": {"kl": 0.01742514781653881, "cur_lr": 0.0005000000237487257, "vf_loss": 22.93940544128418, "vf_explained_var": 0.8602146506309509, "entropy": 2.3844642639160156, "total_loss": 22.934188842773438, "cur_kl_coeff": 0.44999998807907104, "policy_loss": -0.013059153221547604}, "sample_time_ms": 27328.278, "num_steps_trained": 23368685, "load_time_ms": 37.587, "grad_time_ms": 38720.349, "num_steps_sampled": 23368685}, "timestamp": 1557367661, "episode_reward_max": 901.2088588716742, "config": {"kl_coeff": 0.2, "lr": 0.0005, "vf_share_layers": false, "num_cpus_per_worker": 1, "local_evaluator_tf_session_args": {"inter_op_parallelism_threads": 8, "intra_op_parallelism_threads": 8}, "num_gpus": 0, "num_gpus_per_worker": 0, "vf_clip_param": 1000000.0, "batch_mode": "truncate_episodes", "num_workers": 60, "tf_session_args": {"inter_op_parallelism_threads": 2, "intra_op_parallelism_threads": 2, "gpu_options": {"allow_growth": true}, "device_count": {"CPU": 1}, "log_device_placement": false, "allow_soft_placement": true}, "custom_resources_per_worker": {}, "train_batch_size": 90000, "num_envs_per_worker": 1, "lambda": 0.97, "sgd_minibatch_size": 128, "input_evaluation": null, "sample_batch_size": 750, "vf_loss_coeff": 1.0, "output_max_file_size": 67108864, "model": {"fcnet_hiddens": [128, 64, 32], "conv_filters": null, "fcnet_activation": "tanh", "custom_options": {}, "dim": 84, "max_seq_len": 20, "custom_preprocessor": null, "zero_mean": true, "custom_model": null, "conv_activation": "relu", "use_lstm": false, "lstm_use_prev_action_reward": false, "free_log_std": false, "framestack": true, "lstm_cell_size": 256, "squash_to_range": false, "channel_major": false, "grayscale": false}, "multiagent": {"policy_mapping_fn": null, "policy_graphs": {}, "policies_to_train": null}, "collect_metrics_timeout": 180, "monitor": false, "horizon": 1500, "log_level": "INFO", "simple_optimizer": false, "clip_rewards": null, "synchronize_filters": true, "kl_target": 0.01, "input": "sampler", "preprocessor_pref": "deepmind", "clip_actions": false, "entropy_coeff": 0.0, "output": null, "num_sgd_iter": 10, "compress_observations": false, "observation_filter": "MeanStdFilter", "env_config": {"run": "PPO", "flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.3,\n            \"eta3\": 0.1,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 10.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 600,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}"}, "sample_async": false, "env": "MultiWaveAttenuationMergePOEnvBufferedObs-v0no_warmup_700m", "optimizer": {}, "lr_schedule": null, "use_gae": true, "callbacks": {"on_sample_end": null, "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7f3065ef8978>", "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7f3065ef8b70>", "on_train_result": null, "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7f3065ef89e8>"}, "gamma": 0.99, "output_compress_columns": ["obs", "new_obs"], "clip_param": 0.3, "num_cpus_for_driver": 1, "straggler_mitigation": false}, "episode_reward_mean": 735.481326303638}
{"done": false, "date": "2019-05-09_02-08-48", "episodes_total": 14531, "timesteps_this_iter": 172553, "time_this_iter_s": 67.36892604827881, "episode_reward_min": 57.39607848046026, "iterations_since_restore": 13, "time_since_restore": 863.2785029411316, "experiment_id": "9b178520507b4656ac608c6ff2056ff7", "num_metric_batches_dropped": 0, "episode_len_mean": 719.04, "node_ip": "10.138.0.2", "timesteps_total": 23541238, "time_total_s": 8546.200682401657, "training_iteration": 213, "custom_metrics": {"system_level_velocity_min": 8.37103605601091, "cost1_mean": 314.66338934547247, "cost1_max": 439.0183443428722, "system_level_velocity_mean": 11.911976897586134, "outflow_rate_max": 1229.8727389885885, "system_level_velocity_max": 15.68923681452942, "outflow_rate_mean": 907.2840805533899, "cost2_mean": -129.0812728894145, "cost2_max": -36.41091821649424, "cost1_min": 43.71347337331087, "outflow_rate_min": 242.9031077861459, "cost2_min": -207.1245213861038}, "episodes_this_iter": 91, "hostname": "flow-main", "pid": 46359, "timesteps_since_restore": 2181005, "policy_reward_mean": {}, "info": {"update_time_ms": 11.534, "default": {"kl": 0.01804453507065773, "cur_lr": 0.0005000000237487257, "vf_loss": 24.347963333129883, "vf_explained_var": 0.8538492321968079, "entropy": 2.347135543823242, "total_loss": 24.341588973999023, "cur_kl_coeff": 0.44999998807907104, "policy_loss": -0.014493999071419239}, "sample_time_ms": 27363.838, "num_steps_trained": 23541238, "load_time_ms": 39.371, "grad_time_ms": 38836.129, "num_steps_sampled": 23541238}, "timestamp": 1557367728, "episode_reward_max": 940.555804733893, "config": {"kl_coeff": 0.2, "lr": 0.0005, "vf_share_layers": false, "num_cpus_per_worker": 1, "local_evaluator_tf_session_args": {"inter_op_parallelism_threads": 8, "intra_op_parallelism_threads": 8}, "num_gpus": 0, "num_gpus_per_worker": 0, "vf_clip_param": 1000000.0, "batch_mode": "truncate_episodes", "num_workers": 60, "tf_session_args": {"inter_op_parallelism_threads": 2, "intra_op_parallelism_threads": 2, "gpu_options": {"allow_growth": true}, "device_count": {"CPU": 1}, "log_device_placement": false, "allow_soft_placement": true}, "custom_resources_per_worker": {}, "train_batch_size": 90000, "num_envs_per_worker": 1, "lambda": 0.97, "sgd_minibatch_size": 128, "input_evaluation": null, "sample_batch_size": 750, "vf_loss_coeff": 1.0, "output_max_file_size": 67108864, "model": {"fcnet_hiddens": [128, 64, 32], "conv_filters": null, "fcnet_activation": "tanh", "custom_options": {}, "dim": 84, "max_seq_len": 20, "custom_preprocessor": null, "zero_mean": true, "custom_model": null, "conv_activation": "relu", "use_lstm": false, "lstm_use_prev_action_reward": false, "free_log_std": false, "framestack": true, "lstm_cell_size": 256, "squash_to_range": false, "channel_major": false, "grayscale": false}, "multiagent": {"policy_mapping_fn": null, "policy_graphs": {}, "policies_to_train": null}, "collect_metrics_timeout": 180, "monitor": false, "horizon": 1500, "log_level": "INFO", "simple_optimizer": false, "clip_rewards": null, "synchronize_filters": true, "kl_target": 0.01, "input": "sampler", "preprocessor_pref": "deepmind", "clip_actions": false, "entropy_coeff": 0.0, "output": null, "num_sgd_iter": 10, "compress_observations": false, "observation_filter": "MeanStdFilter", "env_config": {"run": "PPO", "flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.3,\n            \"eta3\": 0.1,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 10.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 600,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}"}, "sample_async": false, "env": "MultiWaveAttenuationMergePOEnvBufferedObs-v0no_warmup_700m", "optimizer": {}, "lr_schedule": null, "use_gae": true, "callbacks": {"on_sample_end": null, "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7f3065f12ef0>", "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7f3065f127f0>", "on_train_result": null, "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7f3065f12550>"}, "gamma": 0.99, "output_compress_columns": ["obs", "new_obs"], "clip_param": 0.3, "num_cpus_for_driver": 1, "straggler_mitigation": false}, "episode_reward_mean": 701.8602194728668}
{"done": false, "date": "2019-05-09_02-09-57", "episodes_total": 14621, "timesteps_this_iter": 174290, "time_this_iter_s": 68.80876731872559, "episode_reward_min": 59.08776041994889, "iterations_since_restore": 14, "time_since_restore": 932.0872702598572, "experiment_id": "9b178520507b4656ac608c6ff2056ff7", "num_metric_batches_dropped": 0, "episode_len_mean": 726.83, "node_ip": "10.138.0.2", "timesteps_total": 23715528, "time_total_s": 8615.009449720383, "training_iteration": 214, "custom_metrics": {"system_level_velocity_min": 8.88440232896478, "cost1_mean": 319.6907746252566, "cost1_max": 453.7590769573234, "system_level_velocity_mean": 12.019862569118597, "outflow_rate_max": 1215.953485138578, "system_level_velocity_max": 16.11804576825071, "outflow_rate_mean": 922.3420028126205, "cost2_mean": -134.96111392403793, "cost2_max": -46.81815662529549, "cost1_min": 45.273000334575904, "outflow_rate_min": 243.10610675761777, "cost2_min": -197.9887531893109}, "episodes_this_iter": 90, "hostname": "flow-main", "pid": 46359, "timesteps_since_restore": 2355295, "policy_reward_mean": {}, "info": {"update_time_ms": 11.582, "default": {"kl": 0.017541423439979553, "cur_lr": 0.0005000000237487257, "vf_loss": 22.253944396972656, "vf_explained_var": 0.852752685546875, "entropy": 2.371866464614868, "total_loss": 22.248207092285156, "cur_kl_coeff": 0.45000001788139343, "policy_loss": -0.013629796914756298}, "sample_time_ms": 27437.812, "num_steps_trained": 23715528, "load_time_ms": 42.565, "grad_time_ms": 39098.393, "num_steps_sampled": 23715528}, "timestamp": 1557367797, "episode_reward_max": 1030.7301168811557, "config": {"kl_coeff": 0.2, "lr": 0.0005, "vf_share_layers": false, "num_cpus_per_worker": 1, "local_evaluator_tf_session_args": {"inter_op_parallelism_threads": 8, "intra_op_parallelism_threads": 8}, "num_gpus": 0, "num_gpus_per_worker": 0, "vf_clip_param": 1000000.0, "batch_mode": "truncate_episodes", "num_workers": 60, "tf_session_args": {"inter_op_parallelism_threads": 2, "intra_op_parallelism_threads": 2, "gpu_options": {"allow_growth": true}, "device_count": {"CPU": 1}, "log_device_placement": false, "allow_soft_placement": true}, "custom_resources_per_worker": {}, "train_batch_size": 90000, "num_envs_per_worker": 1, "lambda": 0.97, "sgd_minibatch_size": 128, "input_evaluation": null, "sample_batch_size": 750, "vf_loss_coeff": 1.0, "output_max_file_size": 67108864, "model": {"fcnet_hiddens": [128, 64, 32], "conv_filters": null, "fcnet_activation": "tanh", "custom_options": {}, "dim": 84, "max_seq_len": 20, "custom_preprocessor": null, "zero_mean": true, "custom_model": null, "conv_activation": "relu", "use_lstm": false, "lstm_use_prev_action_reward": false, "free_log_std": false, "framestack": true, "lstm_cell_size": 256, "squash_to_range": false, "channel_major": false, "grayscale": false}, "multiagent": {"policy_mapping_fn": null, "policy_graphs": {}, "policies_to_train": null}, "collect_metrics_timeout": 180, "monitor": false, "horizon": 1500, "log_level": "INFO", "simple_optimizer": false, "clip_rewards": null, "synchronize_filters": true, "kl_target": 0.01, "input": "sampler", "preprocessor_pref": "deepmind", "clip_actions": false, "entropy_coeff": 0.0, "output": null, "num_sgd_iter": 10, "compress_observations": false, "observation_filter": "MeanStdFilter", "env_config": {"run": "PPO", "flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.3,\n            \"eta3\": 0.1,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 10.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 600,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}"}, "sample_async": false, "env": "MultiWaveAttenuationMergePOEnvBufferedObs-v0no_warmup_700m", "optimizer": {}, "lr_schedule": null, "use_gae": true, "callbacks": {"on_sample_end": null, "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7f3065ef8668>", "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7f3065ef8eb8>", "on_train_result": null, "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7f3065ef8c50>"}, "gamma": 0.99, "output_compress_columns": ["obs", "new_obs"], "clip_param": 0.3, "num_cpus_for_driver": 1, "straggler_mitigation": false}, "episode_reward_mean": 722.8551303514735}
{"done": false, "date": "2019-05-09_02-11-05", "episodes_total": 14711, "timesteps_this_iter": 171544, "time_this_iter_s": 67.56336569786072, "episode_reward_min": 188.44704752661676, "iterations_since_restore": 15, "time_since_restore": 999.6506359577179, "experiment_id": "9b178520507b4656ac608c6ff2056ff7", "num_metric_batches_dropped": 0, "episode_len_mean": 731.97, "node_ip": "10.138.0.2", "timesteps_total": 23887072, "time_total_s": 8682.572815418243, "training_iteration": 215, "custom_metrics": {"system_level_velocity_min": 9.045467070253574, "cost1_mean": 326.7042369272412, "cost1_max": 453.7590769573234, "system_level_velocity_mean": 12.165778298604264, "outflow_rate_max": 1217.165252739519, "system_level_velocity_max": 16.179150690958544, "outflow_rate_mean": 931.3589858965439, "cost2_mean": -134.66569475999714, "cost2_max": -61.60921090730115, "cost1_min": 93.93478635848145, "outflow_rate_min": 373.15508468794945, "cost2_min": -207.07805878231244}, "episodes_this_iter": 90, "hostname": "flow-main", "pid": 46359, "timesteps_since_restore": 2526839, "policy_reward_mean": {}, "info": {"update_time_ms": 11.578, "default": {"kl": 0.01720539852976799, "cur_lr": 0.0005000000237487257, "vf_loss": 23.288429260253906, "vf_explained_var": 0.8473802208900452, "entropy": 2.3591039180755615, "total_loss": 23.282550811767578, "cur_kl_coeff": 0.44999998807907104, "policy_loss": -0.013620912097394466}, "sample_time_ms": 27504.009, "num_steps_trained": 23887072, "load_time_ms": 40.954, "grad_time_ms": 39346.732, "num_steps_sampled": 23887072}, "timestamp": 1557367865, "episode_reward_max": 998.8676975785099, "config": {"kl_coeff": 0.2, "lr": 0.0005, "vf_share_layers": false, "num_cpus_per_worker": 1, "local_evaluator_tf_session_args": {"inter_op_parallelism_threads": 8, "intra_op_parallelism_threads": 8}, "num_gpus": 0, "num_gpus_per_worker": 0, "vf_clip_param": 1000000.0, "batch_mode": "truncate_episodes", "num_workers": 60, "tf_session_args": {"inter_op_parallelism_threads": 2, "intra_op_parallelism_threads": 2, "gpu_options": {"allow_growth": true}, "device_count": {"CPU": 1}, "log_device_placement": false, "allow_soft_placement": true}, "custom_resources_per_worker": {}, "train_batch_size": 90000, "num_envs_per_worker": 1, "lambda": 0.97, "sgd_minibatch_size": 128, "input_evaluation": null, "sample_batch_size": 750, "vf_loss_coeff": 1.0, "output_max_file_size": 67108864, "model": {"fcnet_hiddens": [128, 64, 32], "conv_filters": null, "fcnet_activation": "tanh", "custom_options": {}, "dim": 84, "max_seq_len": 20, "custom_preprocessor": null, "zero_mean": true, "custom_model": null, "conv_activation": "relu", "use_lstm": false, "lstm_use_prev_action_reward": false, "free_log_std": false, "framestack": true, "lstm_cell_size": 256, "squash_to_range": false, "channel_major": false, "grayscale": false}, "multiagent": {"policy_mapping_fn": null, "policy_graphs": {}, "policies_to_train": null}, "collect_metrics_timeout": 180, "monitor": false, "horizon": 1500, "log_level": "INFO", "simple_optimizer": false, "clip_rewards": null, "synchronize_filters": true, "kl_target": 0.01, "input": "sampler", "preprocessor_pref": "deepmind", "clip_actions": false, "entropy_coeff": 0.0, "output": null, "num_sgd_iter": 10, "compress_observations": false, "observation_filter": "MeanStdFilter", "env_config": {"run": "PPO", "flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.3,\n            \"eta3\": 0.1,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 10.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 600,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}"}, "sample_async": false, "env": "MultiWaveAttenuationMergePOEnvBufferedObs-v0no_warmup_700m", "optimizer": {}, "lr_schedule": null, "use_gae": true, "callbacks": {"on_sample_end": null, "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7f3065f12518>", "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7f3065f125f8>", "on_train_result": null, "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7f3065f12d30>"}, "gamma": 0.99, "output_compress_columns": ["obs", "new_obs"], "clip_param": 0.3, "num_cpus_for_driver": 1, "straggler_mitigation": false}, "episode_reward_mean": 739.148911902058}
{"done": false, "date": "2019-05-09_02-12-11", "episodes_total": 14801, "timesteps_this_iter": 167989, "time_this_iter_s": 66.63947558403015, "episode_reward_min": 49.39404624992385, "iterations_since_restore": 16, "time_since_restore": 1066.290111541748, "experiment_id": "9b178520507b4656ac608c6ff2056ff7", "num_metric_batches_dropped": 0, "episode_len_mean": 733.18, "node_ip": "10.138.0.2", "timesteps_total": 24055061, "time_total_s": 8749.212291002274, "training_iteration": 216, "custom_metrics": {"system_level_velocity_min": 9.144335824459027, "cost1_mean": 323.3288312678601, "cost1_max": 455.45552564144515, "system_level_velocity_mean": 11.999318575472973, "outflow_rate_max": 1170.599707663217, "system_level_velocity_max": 15.891412483987093, "outflow_rate_mean": 922.7914266373431, "cost2_mean": -132.72161866759726, "cost2_max": -27.110654894087332, "cost1_min": 39.938000800733825, "outflow_rate_min": 241.54654562909116, "cost2_min": -212.80540004133366}, "episodes_this_iter": 90, "hostname": "flow-main", "pid": 46359, "timesteps_since_restore": 2694828, "policy_reward_mean": {}, "info": {"update_time_ms": 11.906, "default": {"kl": 0.017008261755108833, "cur_lr": 0.0005000000237487257, "vf_loss": 22.61351203918457, "vf_explained_var": 0.8442218899726868, "entropy": 2.340566635131836, "total_loss": 22.609355926513672, "cur_kl_coeff": 0.45000001788139343, "policy_loss": -0.011811050586402416}, "sample_time_ms": 27585.015, "num_steps_trained": 24055061, "load_time_ms": 39.122, "grad_time_ms": 38981.588, "num_steps_sampled": 24055061}, "timestamp": 1557367931, "episode_reward_max": 1003.9154398315645, "config": {"kl_coeff": 0.2, "lr": 0.0005, "vf_share_layers": false, "num_cpus_per_worker": 1, "local_evaluator_tf_session_args": {"inter_op_parallelism_threads": 8, "intra_op_parallelism_threads": 8}, "num_gpus": 0, "num_gpus_per_worker": 0, "vf_clip_param": 1000000.0, "batch_mode": "truncate_episodes", "num_workers": 60, "tf_session_args": {"inter_op_parallelism_threads": 2, "intra_op_parallelism_threads": 2, "gpu_options": {"allow_growth": true}, "device_count": {"CPU": 1}, "log_device_placement": false, "allow_soft_placement": true}, "custom_resources_per_worker": {}, "train_batch_size": 90000, "num_envs_per_worker": 1, "lambda": 0.97, "sgd_minibatch_size": 128, "input_evaluation": null, "sample_batch_size": 750, "vf_loss_coeff": 1.0, "output_max_file_size": 67108864, "model": {"fcnet_hiddens": [128, 64, 32], "conv_filters": null, "fcnet_activation": "tanh", "custom_options": {}, "dim": 84, "max_seq_len": 20, "custom_preprocessor": null, "zero_mean": true, "custom_model": null, "conv_activation": "relu", "use_lstm": false, "lstm_use_prev_action_reward": false, "free_log_std": false, "framestack": true, "lstm_cell_size": 256, "squash_to_range": false, "channel_major": false, "grayscale": false}, "multiagent": {"policy_mapping_fn": null, "policy_graphs": {}, "policies_to_train": null}, "collect_metrics_timeout": 180, "monitor": false, "horizon": 1500, "log_level": "INFO", "simple_optimizer": false, "clip_rewards": null, "synchronize_filters": true, "kl_target": 0.01, "input": "sampler", "preprocessor_pref": "deepmind", "clip_actions": false, "entropy_coeff": 0.0, "output": null, "num_sgd_iter": 10, "compress_observations": false, "observation_filter": "MeanStdFilter", "env_config": {"run": "PPO", "flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.3,\n            \"eta3\": 0.1,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 10.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 600,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}"}, "sample_async": false, "env": "MultiWaveAttenuationMergePOEnvBufferedObs-v0no_warmup_700m", "optimizer": {}, "lr_schedule": null, "use_gae": true, "callbacks": {"on_sample_end": null, "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7f3065ef8780>", "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7f3065ef8a90>", "on_train_result": null, "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7f3065ef8b70>"}, "gamma": 0.99, "output_compress_columns": ["obs", "new_obs"], "clip_param": 0.3, "num_cpus_for_driver": 1, "straggler_mitigation": false}, "episode_reward_mean": 731.9244172418784}
{"done": false, "date": "2019-05-09_02-13-15", "episodes_total": 14892, "timesteps_this_iter": 163122, "time_this_iter_s": 63.98593354225159, "episode_reward_min": 49.39404624992385, "iterations_since_restore": 17, "time_since_restore": 1130.2760450839996, "experiment_id": "9b178520507b4656ac608c6ff2056ff7", "num_metric_batches_dropped": 0, "episode_len_mean": 731.0, "node_ip": "10.138.0.2", "timesteps_total": 24218183, "time_total_s": 8813.198224544525, "training_iteration": 217, "custom_metrics": {"system_level_velocity_min": 9.320554876717575, "cost1_mean": 332.75602609476846, "cost1_max": 463.16865240880145, "system_level_velocity_mean": 12.37017821394287, "outflow_rate_max": 1252.8501937163062, "system_level_velocity_max": 16.495828983527645, "outflow_rate_mean": 942.0499772862297, "cost2_mean": -130.4876216347854, "cost2_max": -27.110654894087332, "cost1_min": 39.938000800733825, "outflow_rate_min": 241.54654562909116, "cost2_min": -206.01998984162663}, "episodes_this_iter": 91, "hostname": "flow-main", "pid": 46359, "timesteps_since_restore": 2857950, "policy_reward_mean": {}, "info": {"update_time_ms": 11.251, "default": {"kl": 0.017079731449484825, "cur_lr": 0.0005000000237487257, "vf_loss": 24.857257843017578, "vf_explained_var": 0.8269523978233337, "entropy": 2.3260178565979004, "total_loss": 24.85160255432129, "cur_kl_coeff": 0.44999998807907104, "policy_loss": -0.013340828940272331}, "sample_time_ms": 27356.916, "num_steps_trained": 24218183, "load_time_ms": 38.181, "grad_time_ms": 38799.983, "num_steps_sampled": 24218183}, "timestamp": 1557367995, "episode_reward_max": 937.9552433904975, "config": {"kl_coeff": 0.2, "lr": 0.0005, "vf_share_layers": false, "num_cpus_per_worker": 1, "local_evaluator_tf_session_args": {"inter_op_parallelism_threads": 8, "intra_op_parallelism_threads": 8}, "num_gpus": 0, "num_gpus_per_worker": 0, "vf_clip_param": 1000000.0, "batch_mode": "truncate_episodes", "num_workers": 60, "tf_session_args": {"inter_op_parallelism_threads": 2, "intra_op_parallelism_threads": 2, "gpu_options": {"allow_growth": true}, "device_count": {"CPU": 1}, "log_device_placement": false, "allow_soft_placement": true}, "custom_resources_per_worker": {}, "train_batch_size": 90000, "num_envs_per_worker": 1, "lambda": 0.97, "sgd_minibatch_size": 128, "input_evaluation": null, "sample_batch_size": 750, "vf_loss_coeff": 1.0, "output_max_file_size": 67108864, "model": {"fcnet_hiddens": [128, 64, 32], "conv_filters": null, "fcnet_activation": "tanh", "custom_options": {}, "dim": 84, "max_seq_len": 20, "custom_preprocessor": null, "zero_mean": true, "custom_model": null, "conv_activation": "relu", "use_lstm": false, "lstm_use_prev_action_reward": false, "free_log_std": false, "framestack": true, "lstm_cell_size": 256, "squash_to_range": false, "channel_major": false, "grayscale": false}, "multiagent": {"policy_mapping_fn": null, "policy_graphs": {}, "policies_to_train": null}, "collect_metrics_timeout": 180, "monitor": false, "horizon": 1500, "log_level": "INFO", "simple_optimizer": false, "clip_rewards": null, "synchronize_filters": true, "kl_target": 0.01, "input": "sampler", "preprocessor_pref": "deepmind", "clip_actions": false, "entropy_coeff": 0.0, "output": null, "num_sgd_iter": 10, "compress_observations": false, "observation_filter": "MeanStdFilter", "env_config": {"run": "PPO", "flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.3,\n            \"eta3\": 0.1,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 10.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 600,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}"}, "sample_async": false, "env": "MultiWaveAttenuationMergePOEnvBufferedObs-v0no_warmup_700m", "optimizer": {}, "lr_schedule": null, "use_gae": true, "callbacks": {"on_sample_end": null, "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7f3065f120b8>", "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7f3065f12400>", "on_train_result": null, "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7f3065f12940>"}, "gamma": 0.99, "output_compress_columns": ["obs", "new_obs"], "clip_param": 0.3, "num_cpus_for_driver": 1, "straggler_mitigation": false}, "episode_reward_mean": 740.3133543264807}
{"done": false, "date": "2019-05-09_02-14-21", "episodes_total": 14980, "timesteps_this_iter": 167144, "time_this_iter_s": 65.22165155410767, "episode_reward_min": 98.52236370020785, "iterations_since_restore": 18, "time_since_restore": 1195.4976966381073, "experiment_id": "9b178520507b4656ac608c6ff2056ff7", "num_metric_batches_dropped": 0, "episode_len_mean": 736.64, "node_ip": "10.138.0.2", "timesteps_total": 24385327, "time_total_s": 8878.419876098633, "training_iteration": 218, "custom_metrics": {"system_level_velocity_min": 9.271438382691299, "cost1_mean": 330.0856986532583, "cost1_max": 432.05575474303714, "system_level_velocity_mean": 12.204072042084622, "outflow_rate_max": 1208.9944350368924, "system_level_velocity_max": 15.237889085169824, "outflow_rate_mean": 938.2205224963172, "cost2_mean": -132.18857966520918, "cost2_max": -59.647235223690714, "cost1_min": 65.54948898172476, "outflow_rate_min": 290.629291460897, "cost2_min": -197.90082797688763}, "episodes_this_iter": 88, "hostname": "flow-main", "pid": 46359, "timesteps_since_restore": 3025094, "policy_reward_mean": {}, "info": {"update_time_ms": 11.296, "default": {"kl": 0.016494175419211388, "cur_lr": 0.0005000000237487257, "vf_loss": 22.933013916015625, "vf_explained_var": 0.8507663011550903, "entropy": 2.361281394958496, "total_loss": 22.926977157592773, "cur_kl_coeff": 0.44999998807907104, "policy_loss": -0.01345768477767706}, "sample_time_ms": 27391.717, "num_steps_trained": 24385327, "load_time_ms": 35.487, "grad_time_ms": 38679.075, "num_steps_sampled": 24385327}, "timestamp": 1557368061, "episode_reward_max": 1038.5449168844352, "config": {"kl_coeff": 0.2, "lr": 0.0005, "vf_share_layers": false, "num_cpus_per_worker": 1, "local_evaluator_tf_session_args": {"inter_op_parallelism_threads": 8, "intra_op_parallelism_threads": 8}, "num_gpus": 0, "num_gpus_per_worker": 0, "vf_clip_param": 1000000.0, "batch_mode": "truncate_episodes", "num_workers": 60, "tf_session_args": {"inter_op_parallelism_threads": 2, "intra_op_parallelism_threads": 2, "gpu_options": {"allow_growth": true}, "device_count": {"CPU": 1}, "log_device_placement": false, "allow_soft_placement": true}, "custom_resources_per_worker": {}, "train_batch_size": 90000, "num_envs_per_worker": 1, "lambda": 0.97, "sgd_minibatch_size": 128, "input_evaluation": null, "sample_batch_size": 750, "vf_loss_coeff": 1.0, "output_max_file_size": 67108864, "model": {"fcnet_hiddens": [128, 64, 32], "conv_filters": null, "fcnet_activation": "tanh", "custom_options": {}, "dim": 84, "max_seq_len": 20, "custom_preprocessor": null, "zero_mean": true, "custom_model": null, "conv_activation": "relu", "use_lstm": false, "lstm_use_prev_action_reward": false, "free_log_std": false, "framestack": true, "lstm_cell_size": 256, "squash_to_range": false, "channel_major": false, "grayscale": false}, "multiagent": {"policy_mapping_fn": null, "policy_graphs": {}, "policies_to_train": null}, "collect_metrics_timeout": 180, "monitor": false, "horizon": 1500, "log_level": "INFO", "simple_optimizer": false, "clip_rewards": null, "synchronize_filters": true, "kl_target": 0.01, "input": "sampler", "preprocessor_pref": "deepmind", "clip_actions": false, "entropy_coeff": 0.0, "output": null, "num_sgd_iter": 10, "compress_observations": false, "observation_filter": "MeanStdFilter", "env_config": {"run": "PPO", "flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.3,\n            \"eta3\": 0.1,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 10.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 600,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}"}, "sample_async": false, "env": "MultiWaveAttenuationMergePOEnvBufferedObs-v0no_warmup_700m", "optimizer": {}, "lr_schedule": null, "use_gae": true, "callbacks": {"on_sample_end": null, "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7f3065ef8940>", "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7f3065ef8c88>", "on_train_result": null, "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7f3065ef8828>"}, "gamma": 0.99, "output_compress_columns": ["obs", "new_obs"], "clip_param": 0.3, "num_cpus_for_driver": 1, "straggler_mitigation": false}, "episode_reward_mean": 741.2015266365584}
{"done": false, "date": "2019-05-09_02-15-28", "episodes_total": 15067, "timesteps_this_iter": 169362, "time_this_iter_s": 67.40125823020935, "episode_reward_min": 283.1189702580943, "iterations_since_restore": 19, "time_since_restore": 1262.8989548683167, "experiment_id": "9b178520507b4656ac608c6ff2056ff7", "num_metric_batches_dropped": 0, "episode_len_mean": 742.56, "node_ip": "10.138.0.2", "timesteps_total": 24554689, "time_total_s": 8945.821134328842, "training_iteration": 219, "custom_metrics": {"system_level_velocity_min": 9.158801277569498, "cost1_mean": 325.0135756620987, "cost1_max": 409.5092935663404, "system_level_velocity_mean": 11.952143685328524, "outflow_rate_max": 1162.060445640775, "system_level_velocity_max": 15.026381905920974, "outflow_rate_mean": 929.7894321914574, "cost2_mean": -129.40429926552267, "cost2_max": -64.09259237793376, "cost1_min": 154.700427143813, "outflow_rate_min": 543.4746954896311, "cost2_min": -222.2469574683281}, "episodes_this_iter": 87, "hostname": "flow-main", "pid": 46359, "timesteps_since_restore": 3194456, "policy_reward_mean": {}, "info": {"update_time_ms": 11.146, "default": {"kl": 0.017447957769036293, "cur_lr": 0.0005000000237487257, "vf_loss": 21.976831436157227, "vf_explained_var": 0.8575013875961304, "entropy": 2.411571741104126, "total_loss": 21.971590042114258, "cur_kl_coeff": 0.44999998807907104, "policy_loss": -0.013091394677758217}, "sample_time_ms": 27420.431, "num_steps_trained": 24554689, "load_time_ms": 34.181, "grad_time_ms": 38849.935, "num_steps_sampled": 24554689}, "timestamp": 1557368128, "episode_reward_max": 932.4138086100318, "config": {"kl_coeff": 0.2, "lr": 0.0005, "vf_share_layers": false, "num_cpus_per_worker": 1, "local_evaluator_tf_session_args": {"inter_op_parallelism_threads": 8, "intra_op_parallelism_threads": 8}, "num_gpus": 0, "num_gpus_per_worker": 0, "vf_clip_param": 1000000.0, "batch_mode": "truncate_episodes", "num_workers": 60, "tf_session_args": {"inter_op_parallelism_threads": 2, "intra_op_parallelism_threads": 2, "gpu_options": {"allow_growth": true}, "device_count": {"CPU": 1}, "log_device_placement": false, "allow_soft_placement": true}, "custom_resources_per_worker": {}, "train_batch_size": 90000, "num_envs_per_worker": 1, "lambda": 0.97, "sgd_minibatch_size": 128, "input_evaluation": null, "sample_batch_size": 750, "vf_loss_coeff": 1.0, "output_max_file_size": 67108864, "model": {"fcnet_hiddens": [128, 64, 32], "conv_filters": null, "fcnet_activation": "tanh", "custom_options": {}, "dim": 84, "max_seq_len": 20, "custom_preprocessor": null, "zero_mean": true, "custom_model": null, "conv_activation": "relu", "use_lstm": false, "lstm_use_prev_action_reward": false, "free_log_std": false, "framestack": true, "lstm_cell_size": 256, "squash_to_range": false, "channel_major": false, "grayscale": false}, "multiagent": {"policy_mapping_fn": null, "policy_graphs": {}, "policies_to_train": null}, "collect_metrics_timeout": 180, "monitor": false, "horizon": 1500, "log_level": "INFO", "simple_optimizer": false, "clip_rewards": null, "synchronize_filters": true, "kl_target": 0.01, "input": "sampler", "preprocessor_pref": "deepmind", "clip_actions": false, "entropy_coeff": 0.0, "output": null, "num_sgd_iter": 10, "compress_observations": false, "observation_filter": "MeanStdFilter", "env_config": {"run": "PPO", "flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.3,\n            \"eta3\": 0.1,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 10.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 600,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}"}, "sample_async": false, "env": "MultiWaveAttenuationMergePOEnvBufferedObs-v0no_warmup_700m", "optimizer": {}, "lr_schedule": null, "use_gae": true, "callbacks": {"on_sample_end": null, "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7f3065f12780>", "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7f3065f12978>", "on_train_result": null, "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7f3065f12cf8>"}, "gamma": 0.99, "output_compress_columns": ["obs", "new_obs"], "clip_param": 0.3, "num_cpus_for_driver": 1, "straggler_mitigation": false}, "episode_reward_mean": 737.177243114121}
{"done": false, "date": "2019-05-09_02-16-35", "episodes_total": 15158, "timesteps_this_iter": 166985, "time_this_iter_s": 66.79548954963684, "episode_reward_min": 170.04573430341912, "iterations_since_restore": 20, "time_since_restore": 1329.6944444179535, "experiment_id": "9b178520507b4656ac608c6ff2056ff7", "num_metric_batches_dropped": 0, "episode_len_mean": 731.31, "node_ip": "10.138.0.2", "timesteps_total": 24721674, "time_total_s": 9012.616623878479, "training_iteration": 220, "custom_metrics": {"system_level_velocity_min": 8.939695853317653, "cost1_mean": 325.1015732132087, "cost1_max": 433.5624304950905, "system_level_velocity_mean": 12.129869531514755, "outflow_rate_max": 1211.369581447126, "system_level_velocity_max": 15.577227097153516, "outflow_rate_mean": 924.8599931458789, "cost2_mean": -130.696358372766, "cost2_max": -42.79328429802541, "cost1_min": 90.32605440369872, "outflow_rate_min": 391.5023560876552, "cost2_min": -209.55844732050855}, "episodes_this_iter": 91, "hostname": "flow-main", "pid": 46359, "timesteps_since_restore": 3361441, "policy_reward_mean": {}, "info": {"update_time_ms": 11.056, "default": {"kl": 0.017043035477399826, "cur_lr": 0.0005000000237487257, "vf_loss": 24.355051040649414, "vf_explained_var": 0.8469491004943848, "entropy": 2.373696804046631, "total_loss": 24.34925651550293, "cur_kl_coeff": 0.4500000476837158, "policy_loss": -0.013461891561746597}, "sample_time_ms": 27473.308, "num_steps_trained": 24721674, "load_time_ms": 32.222, "grad_time_ms": 39032.018, "num_steps_sampled": 24721674}, "timestamp": 1557368195, "episode_reward_max": 999.7039015852592, "config": {"kl_coeff": 0.2, "lr": 0.0005, "vf_share_layers": false, "num_cpus_per_worker": 1, "local_evaluator_tf_session_args": {"inter_op_parallelism_threads": 8, "intra_op_parallelism_threads": 8}, "num_gpus": 0, "num_gpus_per_worker": 0, "vf_clip_param": 1000000.0, "batch_mode": "truncate_episodes", "num_workers": 60, "tf_session_args": {"inter_op_parallelism_threads": 2, "intra_op_parallelism_threads": 2, "gpu_options": {"allow_growth": true}, "device_count": {"CPU": 1}, "log_device_placement": false, "allow_soft_placement": true}, "custom_resources_per_worker": {}, "train_batch_size": 90000, "num_envs_per_worker": 1, "lambda": 0.97, "sgd_minibatch_size": 128, "input_evaluation": null, "sample_batch_size": 750, "vf_loss_coeff": 1.0, "output_max_file_size": 67108864, "model": {"fcnet_hiddens": [128, 64, 32], "conv_filters": null, "fcnet_activation": "tanh", "custom_options": {}, "dim": 84, "max_seq_len": 20, "custom_preprocessor": null, "zero_mean": true, "custom_model": null, "conv_activation": "relu", "use_lstm": false, "lstm_use_prev_action_reward": false, "free_log_std": false, "framestack": true, "lstm_cell_size": 256, "squash_to_range": false, "channel_major": false, "grayscale": false}, "multiagent": {"policy_mapping_fn": null, "policy_graphs": {}, "policies_to_train": null}, "collect_metrics_timeout": 180, "monitor": false, "horizon": 1500, "log_level": "INFO", "simple_optimizer": false, "clip_rewards": null, "synchronize_filters": true, "kl_target": 0.01, "input": "sampler", "preprocessor_pref": "deepmind", "clip_actions": false, "entropy_coeff": 0.0, "output": null, "num_sgd_iter": 10, "compress_observations": false, "observation_filter": "MeanStdFilter", "env_config": {"run": "PPO", "flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.3,\n            \"eta3\": 0.1,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 10.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 600,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}"}, "sample_async": false, "env": "MultiWaveAttenuationMergePOEnvBufferedObs-v0no_warmup_700m", "optimizer": {}, "lr_schedule": null, "use_gae": true, "callbacks": {"on_sample_end": null, "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7f3065ef8e10>", "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7f3065f12e10>", "on_train_result": null, "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7f3065f12f28>"}, "gamma": 0.99, "output_compress_columns": ["obs", "new_obs"], "clip_param": 0.3, "num_cpus_for_driver": 1, "straggler_mitigation": false}, "episode_reward_mean": 729.1941528118746}
{"done": false, "date": "2019-05-09_02-17-42", "episodes_total": 15248, "timesteps_this_iter": 173041, "time_this_iter_s": 67.0546977519989, "episode_reward_min": 56.12127536061881, "iterations_since_restore": 21, "time_since_restore": 1396.7491421699524, "experiment_id": "9b178520507b4656ac608c6ff2056ff7", "num_metric_batches_dropped": 0, "episode_len_mean": 725.5, "node_ip": "10.138.0.2", "timesteps_total": 24894715, "time_total_s": 9079.671321630478, "training_iteration": 221, "custom_metrics": {"system_level_velocity_min": 8.954176656444568, "cost1_mean": 326.89227955276704, "cost1_max": 455.85953269567693, "system_level_velocity_mean": 12.283917268034866, "outflow_rate_max": 1230.6576296442572, "system_level_velocity_max": 16.182451408319505, "outflow_rate_mean": 942.3174789439519, "cost2_mean": -142.37922917153085, "cost2_max": -40.65602523075213, "cost1_min": 42.83078009027021, "outflow_rate_min": 247.94022948793534, "cost2_min": -212.30086067388805}, "episodes_this_iter": 90, "hostname": "flow-main", "pid": 46359, "timesteps_since_restore": 3534482, "policy_reward_mean": {}, "info": {"update_time_ms": 11.575, "default": {"kl": 0.017599498853087425, "cur_lr": 0.0005000000237487257, "vf_loss": 23.756418228149414, "vf_explained_var": 0.8507097363471985, "entropy": 2.383713722229004, "total_loss": 23.751184463500977, "cur_kl_coeff": 0.44999995827674866, "policy_loss": -0.013155276887118816}, "sample_time_ms": 27504.153, "num_steps_trained": 24894715, "load_time_ms": 35.715, "grad_time_ms": 38927.461, "num_steps_sampled": 24894715}, "timestamp": 1557368262, "episode_reward_max": 1108.0265329132399, "config": {"kl_coeff": 0.2, "lr": 0.0005, "vf_share_layers": false, "num_cpus_per_worker": 1, "local_evaluator_tf_session_args": {"inter_op_parallelism_threads": 8, "intra_op_parallelism_threads": 8}, "num_gpus": 0, "num_gpus_per_worker": 0, "vf_clip_param": 1000000.0, "batch_mode": "truncate_episodes", "num_workers": 60, "tf_session_args": {"inter_op_parallelism_threads": 2, "intra_op_parallelism_threads": 2, "gpu_options": {"allow_growth": true}, "device_count": {"CPU": 1}, "log_device_placement": false, "allow_soft_placement": true}, "custom_resources_per_worker": {}, "train_batch_size": 90000, "num_envs_per_worker": 1, "lambda": 0.97, "sgd_minibatch_size": 128, "input_evaluation": null, "sample_batch_size": 750, "vf_loss_coeff": 1.0, "output_max_file_size": 67108864, "model": {"fcnet_hiddens": [128, 64, 32], "conv_filters": null, "fcnet_activation": "tanh", "custom_options": {}, "dim": 84, "max_seq_len": 20, "custom_preprocessor": null, "zero_mean": true, "custom_model": null, "conv_activation": "relu", "use_lstm": false, "lstm_use_prev_action_reward": false, "free_log_std": false, "framestack": true, "lstm_cell_size": 256, "squash_to_range": false, "channel_major": false, "grayscale": false}, "multiagent": {"policy_mapping_fn": null, "policy_graphs": {}, "policies_to_train": null}, "collect_metrics_timeout": 180, "monitor": false, "horizon": 1500, "log_level": "INFO", "simple_optimizer": false, "clip_rewards": null, "synchronize_filters": true, "kl_target": 0.01, "input": "sampler", "preprocessor_pref": "deepmind", "clip_actions": false, "entropy_coeff": 0.0, "output": null, "num_sgd_iter": 10, "compress_observations": false, "observation_filter": "MeanStdFilter", "env_config": {"run": "PPO", "flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.3,\n            \"eta3\": 0.1,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 10.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 600,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}"}, "sample_async": false, "env": "MultiWaveAttenuationMergePOEnvBufferedObs-v0no_warmup_700m", "optimizer": {}, "lr_schedule": null, "use_gae": true, "callbacks": {"on_sample_end": null, "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7f3065f121d0>", "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7f3065f12400>", "on_train_result": null, "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7f3065f12ba8>"}, "gamma": 0.99, "output_compress_columns": ["obs", "new_obs"], "clip_param": 0.3, "num_cpus_for_driver": 1, "straggler_mitigation": false}, "episode_reward_mean": 738.1225592268519}
{"done": false, "date": "2019-05-09_02-18-49", "episodes_total": 15336, "timesteps_this_iter": 168408, "time_this_iter_s": 66.99490094184875, "episode_reward_min": 57.98285647512441, "iterations_since_restore": 22, "time_since_restore": 1463.7440431118011, "experiment_id": "9b178520507b4656ac608c6ff2056ff7", "num_metric_batches_dropped": 0, "episode_len_mean": 727.29, "node_ip": "10.138.0.2", "timesteps_total": 25063123, "time_total_s": 9146.666222572327, "training_iteration": 222, "custom_metrics": {"system_level_velocity_min": 8.060725088244663, "cost1_mean": 323.50281735674514, "cost1_max": 441.97449950794874, "system_level_velocity_mean": 12.160212575905039, "outflow_rate_max": 1202.3125343605202, "system_level_velocity_max": 15.920183603786151, "outflow_rate_mean": 929.2534861159661, "cost2_mean": -138.32061519594083, "cost2_max": -40.78226723792783, "cost1_min": 42.94490732153599, "outflow_rate_min": 247.44577705780733, "cost2_min": -223.67287095515275}, "episodes_this_iter": 88, "hostname": "flow-main", "pid": 46359, "timesteps_since_restore": 3702890, "policy_reward_mean": {}, "info": {"update_time_ms": 11.317, "default": {"kl": 0.01653078757226467, "cur_lr": 0.0005000000237487257, "vf_loss": 23.429336547851562, "vf_explained_var": 0.8514350652694702, "entropy": 2.392301082611084, "total_loss": 23.42409324645996, "cur_kl_coeff": 0.44999998807907104, "policy_loss": -0.012682716362178326}, "sample_time_ms": 27596.705, "num_steps_trained": 25063123, "load_time_ms": 33.456, "grad_time_ms": 38841.948, "num_steps_sampled": 25063123}, "timestamp": 1557368329, "episode_reward_max": 998.3218082029391, "config": {"kl_coeff": 0.2, "lr": 0.0005, "vf_share_layers": false, "num_cpus_per_worker": 1, "local_evaluator_tf_session_args": {"inter_op_parallelism_threads": 8, "intra_op_parallelism_threads": 8}, "num_gpus": 0, "num_gpus_per_worker": 0, "vf_clip_param": 1000000.0, "batch_mode": "truncate_episodes", "num_workers": 60, "tf_session_args": {"inter_op_parallelism_threads": 2, "intra_op_parallelism_threads": 2, "gpu_options": {"allow_growth": true}, "device_count": {"CPU": 1}, "log_device_placement": false, "allow_soft_placement": true}, "custom_resources_per_worker": {}, "train_batch_size": 90000, "num_envs_per_worker": 1, "lambda": 0.97, "sgd_minibatch_size": 128, "input_evaluation": null, "sample_batch_size": 750, "vf_loss_coeff": 1.0, "output_max_file_size": 67108864, "model": {"fcnet_hiddens": [128, 64, 32], "conv_filters": null, "fcnet_activation": "tanh", "custom_options": {}, "dim": 84, "max_seq_len": 20, "custom_preprocessor": null, "zero_mean": true, "custom_model": null, "conv_activation": "relu", "use_lstm": false, "lstm_use_prev_action_reward": false, "free_log_std": false, "framestack": true, "lstm_cell_size": 256, "squash_to_range": false, "channel_major": false, "grayscale": false}, "multiagent": {"policy_mapping_fn": null, "policy_graphs": {}, "policies_to_train": null}, "collect_metrics_timeout": 180, "monitor": false, "horizon": 1500, "log_level": "INFO", "simple_optimizer": false, "clip_rewards": null, "synchronize_filters": true, "kl_target": 0.01, "input": "sampler", "preprocessor_pref": "deepmind", "clip_actions": false, "entropy_coeff": 0.0, "output": null, "num_sgd_iter": 10, "compress_observations": false, "observation_filter": "MeanStdFilter", "env_config": {"run": "PPO", "flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.3,\n            \"eta3\": 0.1,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 10.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 600,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}"}, "sample_async": false, "env": "MultiWaveAttenuationMergePOEnvBufferedObs-v0no_warmup_700m", "optimizer": {}, "lr_schedule": null, "use_gae": true, "callbacks": {"on_sample_end": null, "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7f3065f12ac8>", "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7f3065f12a20>", "on_train_result": null, "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7f3065f12710>"}, "gamma": 0.99, "output_compress_columns": ["obs", "new_obs"], "clip_param": 0.3, "num_cpus_for_driver": 1, "straggler_mitigation": false}, "episode_reward_mean": 735.0014099195205}
{"done": false, "date": "2019-05-09_02-19-55", "episodes_total": 15428, "timesteps_this_iter": 169974, "time_this_iter_s": 66.14297437667847, "episode_reward_min": 51.862996693333294, "iterations_since_restore": 23, "time_since_restore": 1529.8870174884796, "experiment_id": "9b178520507b4656ac608c6ff2056ff7", "num_metric_batches_dropped": 0, "episode_len_mean": 712.47, "node_ip": "10.138.0.2", "timesteps_total": 25233097, "time_total_s": 9212.809196949005, "training_iteration": 223, "custom_metrics": {"system_level_velocity_min": 8.493720392218318, "cost1_mean": 319.48249595588464, "cost1_max": 455.6812599307852, "system_level_velocity_mean": 12.242893231190191, "outflow_rate_max": 1188.6720175342896, "system_level_velocity_max": 16.184510340381795, "outflow_rate_mean": 922.1092114295359, "cost2_mean": -135.84591001506033, "cost2_max": -29.992634019102056, "cost1_min": 40.015292473986264, "outflow_rate_min": 243.8978027463581, "cost2_min": -201.72286938938453}, "episodes_this_iter": 92, "hostname": "flow-main", "pid": 46359, "timesteps_since_restore": 3872864, "policy_reward_mean": {}, "info": {"update_time_ms": 11.589, "default": {"kl": 0.01743244007229805, "cur_lr": 0.0005000000237487257, "vf_loss": 24.21291732788086, "vf_explained_var": 0.8403423428535461, "entropy": 2.397897720336914, "total_loss": 24.20719337463379, "cur_kl_coeff": 0.45000001788139343, "policy_loss": -0.013570412062108517}, "sample_time_ms": 27595.343, "num_steps_trained": 25233097, "load_time_ms": 31.349, "grad_time_ms": 38728.248, "num_steps_sampled": 25233097}, "timestamp": 1557368395, "episode_reward_max": 980.5021302852126, "config": {"kl_coeff": 0.2, "lr": 0.0005, "vf_share_layers": false, "num_cpus_per_worker": 1, "local_evaluator_tf_session_args": {"inter_op_parallelism_threads": 8, "intra_op_parallelism_threads": 8}, "num_gpus": 0, "num_gpus_per_worker": 0, "vf_clip_param": 1000000.0, "batch_mode": "truncate_episodes", "num_workers": 60, "tf_session_args": {"inter_op_parallelism_threads": 2, "intra_op_parallelism_threads": 2, "gpu_options": {"allow_growth": true}, "device_count": {"CPU": 1}, "log_device_placement": false, "allow_soft_placement": true}, "custom_resources_per_worker": {}, "train_batch_size": 90000, "num_envs_per_worker": 1, "lambda": 0.97, "sgd_minibatch_size": 128, "input_evaluation": null, "sample_batch_size": 750, "vf_loss_coeff": 1.0, "output_max_file_size": 67108864, "model": {"fcnet_hiddens": [128, 64, 32], "conv_filters": null, "fcnet_activation": "tanh", "custom_options": {}, "dim": 84, "max_seq_len": 20, "custom_preprocessor": null, "zero_mean": true, "custom_model": null, "conv_activation": "relu", "use_lstm": false, "lstm_use_prev_action_reward": false, "free_log_std": false, "framestack": true, "lstm_cell_size": 256, "squash_to_range": false, "channel_major": false, "grayscale": false}, "multiagent": {"policy_mapping_fn": null, "policy_graphs": {}, "policies_to_train": null}, "collect_metrics_timeout": 180, "monitor": false, "horizon": 1500, "log_level": "INFO", "simple_optimizer": false, "clip_rewards": null, "synchronize_filters": true, "kl_target": 0.01, "input": "sampler", "preprocessor_pref": "deepmind", "clip_actions": false, "entropy_coeff": 0.0, "output": null, "num_sgd_iter": 10, "compress_observations": false, "observation_filter": "MeanStdFilter", "env_config": {"run": "PPO", "flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.3,\n            \"eta3\": 0.1,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 10.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 600,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}"}, "sample_async": false, "env": "MultiWaveAttenuationMergePOEnvBufferedObs-v0no_warmup_700m", "optimizer": {}, "lr_schedule": null, "use_gae": true, "callbacks": {"on_sample_end": null, "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7f3065f124a8>", "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7f3065f12c50>", "on_train_result": null, "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7f3065f125f8>"}, "gamma": 0.99, "output_compress_columns": ["obs", "new_obs"], "clip_param": 0.3, "num_cpus_for_driver": 1, "straggler_mitigation": false}, "episode_reward_mean": 716.9509069157117}
{"done": false, "date": "2019-05-09_02-21-03", "episodes_total": 15518, "timesteps_this_iter": 168563, "time_this_iter_s": 67.55237913131714, "episode_reward_min": 58.25637957502074, "iterations_since_restore": 24, "time_since_restore": 1597.4393966197968, "experiment_id": "9b178520507b4656ac608c6ff2056ff7", "num_metric_batches_dropped": 0, "episode_len_mean": 715.81, "node_ip": "10.138.0.2", "timesteps_total": 25401660, "time_total_s": 9280.361576080322, "training_iteration": 224, "custom_metrics": {"system_level_velocity_min": 8.19911765535156, "cost1_mean": 326.7594042819192, "cost1_max": 463.7817831964284, "system_level_velocity_mean": 12.443442857141992, "outflow_rate_max": 1243.8950068860297, "system_level_velocity_max": 16.37781661210298, "outflow_rate_mean": 940.1961170847281, "cost2_mean": -139.37250842806034, "cost2_max": -46.10111320607537, "cost1_min": 43.77083143442877, "outflow_rate_min": 241.8258552752166, "cost2_min": -209.24561595367152}, "episodes_this_iter": 90, "hostname": "flow-main", "pid": 46359, "timesteps_since_restore": 4041427, "policy_reward_mean": {}, "info": {"update_time_ms": 11.677, "default": {"kl": 0.017015468329191208, "cur_lr": 0.0005000000237487257, "vf_loss": 23.70073699951172, "vf_explained_var": 0.8315456509590149, "entropy": 2.3773488998413086, "total_loss": 23.695354461669922, "cur_kl_coeff": 0.45000001788139343, "policy_loss": -0.013039851561188698}, "sample_time_ms": 27586.005, "num_steps_trained": 25401660, "load_time_ms": 30.059, "grad_time_ms": 38609.786, "num_steps_sampled": 25401660}, "timestamp": 1557368463, "episode_reward_max": 1113.9720468848416, "config": {"kl_coeff": 0.2, "lr": 0.0005, "vf_share_layers": false, "num_cpus_per_worker": 1, "local_evaluator_tf_session_args": {"inter_op_parallelism_threads": 8, "intra_op_parallelism_threads": 8}, "num_gpus": 0, "num_gpus_per_worker": 0, "vf_clip_param": 1000000.0, "batch_mode": "truncate_episodes", "num_workers": 60, "tf_session_args": {"inter_op_parallelism_threads": 2, "intra_op_parallelism_threads": 2, "gpu_options": {"allow_growth": true}, "device_count": {"CPU": 1}, "log_device_placement": false, "allow_soft_placement": true}, "custom_resources_per_worker": {}, "train_batch_size": 90000, "num_envs_per_worker": 1, "lambda": 0.97, "sgd_minibatch_size": 128, "input_evaluation": null, "sample_batch_size": 750, "vf_loss_coeff": 1.0, "output_max_file_size": 67108864, "model": {"fcnet_hiddens": [128, 64, 32], "conv_filters": null, "fcnet_activation": "tanh", "custom_options": {}, "dim": 84, "max_seq_len": 20, "custom_preprocessor": null, "zero_mean": true, "custom_model": null, "conv_activation": "relu", "use_lstm": false, "lstm_use_prev_action_reward": false, "free_log_std": false, "framestack": true, "lstm_cell_size": 256, "squash_to_range": false, "channel_major": false, "grayscale": false}, "multiagent": {"policy_mapping_fn": null, "policy_graphs": {}, "policies_to_train": null}, "collect_metrics_timeout": 180, "monitor": false, "horizon": 1500, "log_level": "INFO", "simple_optimizer": false, "clip_rewards": null, "synchronize_filters": true, "kl_target": 0.01, "input": "sampler", "preprocessor_pref": "deepmind", "clip_actions": false, "entropy_coeff": 0.0, "output": null, "num_sgd_iter": 10, "compress_observations": false, "observation_filter": "MeanStdFilter", "env_config": {"run": "PPO", "flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.3,\n            \"eta3\": 0.1,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 10.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 600,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}"}, "sample_async": false, "env": "MultiWaveAttenuationMergePOEnvBufferedObs-v0no_warmup_700m", "optimizer": {}, "lr_schedule": null, "use_gae": true, "callbacks": {"on_sample_end": null, "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7f3065f12e80>", "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7f3065f12e10>", "on_train_result": null, "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7f3065f12358>"}, "gamma": 0.99, "output_compress_columns": ["obs", "new_obs"], "clip_param": 0.3, "num_cpus_for_driver": 1, "straggler_mitigation": false}, "episode_reward_mean": 723.8302064072025}
{"done": false, "date": "2019-05-09_02-22-12", "episodes_total": 15607, "timesteps_this_iter": 169611, "time_this_iter_s": 68.669109582901, "episode_reward_min": 58.721847633335415, "iterations_since_restore": 25, "time_since_restore": 1666.1085062026978, "experiment_id": "9b178520507b4656ac608c6ff2056ff7", "num_metric_batches_dropped": 0, "episode_len_mean": 724.14, "node_ip": "10.138.0.2", "timesteps_total": 25571271, "time_total_s": 9349.030685663223, "training_iteration": 225, "custom_metrics": {"system_level_velocity_min": 9.223182497739536, "cost1_mean": 310.7985231764089, "cost1_max": 435.05952703355337, "system_level_velocity_mean": 11.740475320713122, "outflow_rate_max": 1196.376954410763, "system_level_velocity_max": 15.853528912827265, "outflow_rate_mean": 905.6766266291066, "cost2_mean": -138.98464923362727, "cost2_max": -37.80511720461794, "cost1_min": 42.96670178712111, "outflow_rate_min": 248.5349894198606, "cost2_min": -212.17996523547873}, "episodes_this_iter": 89, "hostname": "flow-main", "pid": 46359, "timesteps_since_restore": 4211038, "policy_reward_mean": {}, "info": {"update_time_ms": 11.725, "default": {"kl": 0.017037805169820786, "cur_lr": 0.0005000000237487257, "vf_loss": 22.56390953063965, "vf_explained_var": 0.8386639356613159, "entropy": 2.4268076419830322, "total_loss": 22.55805206298828, "cur_kl_coeff": 0.44999998807907104, "policy_loss": -0.01352489273995161}, "sample_time_ms": 27573.815, "num_steps_trained": 25571271, "load_time_ms": 29.55, "grad_time_ms": 38735.504, "num_steps_sampled": 25571271}, "timestamp": 1557368532, "episode_reward_max": 957.2253838721676, "config": {"kl_coeff": 0.2, "lr": 0.0005, "vf_share_layers": false, "num_cpus_per_worker": 1, "local_evaluator_tf_session_args": {"inter_op_parallelism_threads": 8, "intra_op_parallelism_threads": 8}, "num_gpus": 0, "num_gpus_per_worker": 0, "vf_clip_param": 1000000.0, "batch_mode": "truncate_episodes", "num_workers": 60, "tf_session_args": {"inter_op_parallelism_threads": 2, "intra_op_parallelism_threads": 2, "gpu_options": {"allow_growth": true}, "device_count": {"CPU": 1}, "log_device_placement": false, "allow_soft_placement": true}, "custom_resources_per_worker": {}, "train_batch_size": 90000, "num_envs_per_worker": 1, "lambda": 0.97, "sgd_minibatch_size": 128, "input_evaluation": null, "sample_batch_size": 750, "vf_loss_coeff": 1.0, "output_max_file_size": 67108864, "model": {"fcnet_hiddens": [128, 64, 32], "conv_filters": null, "fcnet_activation": "tanh", "custom_options": {}, "dim": 84, "max_seq_len": 20, "custom_preprocessor": null, "zero_mean": true, "custom_model": null, "conv_activation": "relu", "use_lstm": false, "lstm_use_prev_action_reward": false, "free_log_std": false, "framestack": true, "lstm_cell_size": 256, "squash_to_range": false, "channel_major": false, "grayscale": false}, "multiagent": {"policy_mapping_fn": null, "policy_graphs": {}, "policies_to_train": null}, "collect_metrics_timeout": 180, "monitor": false, "horizon": 1500, "log_level": "INFO", "simple_optimizer": false, "clip_rewards": null, "synchronize_filters": true, "kl_target": 0.01, "input": "sampler", "preprocessor_pref": "deepmind", "clip_actions": false, "entropy_coeff": 0.0, "output": null, "num_sgd_iter": 10, "compress_observations": false, "observation_filter": "MeanStdFilter", "env_config": {"run": "PPO", "flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.3,\n            \"eta3\": 0.1,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 10.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 600,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}"}, "sample_async": false, "env": "MultiWaveAttenuationMergePOEnvBufferedObs-v0no_warmup_700m", "optimizer": {}, "lr_schedule": null, "use_gae": true, "callbacks": {"on_sample_end": null, "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7f3065f12da0>", "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7f3065f12588>", "on_train_result": null, "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7f3065f12518>"}, "gamma": 0.99, "output_compress_columns": ["obs", "new_obs"], "clip_param": 0.3, "num_cpus_for_driver": 1, "straggler_mitigation": false}, "episode_reward_mean": 711.5126210317275}
{"done": false, "date": "2019-05-09_02-23-17", "episodes_total": 15695, "timesteps_this_iter": 169331, "time_this_iter_s": 65.68721556663513, "episode_reward_min": 51.327193921407506, "iterations_since_restore": 26, "time_since_restore": 1731.7957217693329, "experiment_id": "9b178520507b4656ac608c6ff2056ff7", "num_metric_batches_dropped": 0, "episode_len_mean": 734.14, "node_ip": "10.138.0.2", "timesteps_total": 25740602, "time_total_s": 9414.717901229858, "training_iteration": 226, "custom_metrics": {"system_level_velocity_min": 9.442002438536488, "cost1_mean": 334.151871937654, "cost1_max": 468.82533895283507, "system_level_velocity_mean": 12.36488969335111, "outflow_rate_max": 1244.4377636219617, "system_level_velocity_max": 16.64501727311947, "outflow_rate_mean": 955.1482610630483, "cost2_mean": -141.3598138183751, "cost2_max": -25.94747819887284, "cost1_min": 39.393936057776415, "outflow_rate_min": 242.81204856910225, "cost2_min": -210.46887269349446}, "episodes_this_iter": 88, "hostname": "flow-main", "pid": 46359, "timesteps_since_restore": 4380369, "policy_reward_mean": {}, "info": {"update_time_ms": 11.532, "default": {"kl": 0.016506623476743698, "cur_lr": 0.0005000000237487257, "vf_loss": 23.085594177246094, "vf_explained_var": 0.8520157933235168, "entropy": 2.425018310546875, "total_loss": 23.08051872253418, "cur_kl_coeff": 0.45000001788139343, "policy_loss": -0.012504112906754017}, "sample_time_ms": 27505.268, "num_steps_trained": 25740602, "load_time_ms": 33.901, "grad_time_ms": 38704.524, "num_steps_sampled": 25740602}, "timestamp": 1557368597, "episode_reward_max": 1056.4399948699377, "config": {"kl_coeff": 0.2, "lr": 0.0005, "vf_share_layers": false, "num_cpus_per_worker": 1, "local_evaluator_tf_session_args": {"inter_op_parallelism_threads": 8, "intra_op_parallelism_threads": 8}, "num_gpus": 0, "num_gpus_per_worker": 0, "vf_clip_param": 1000000.0, "batch_mode": "truncate_episodes", "num_workers": 60, "tf_session_args": {"inter_op_parallelism_threads": 2, "intra_op_parallelism_threads": 2, "gpu_options": {"allow_growth": true}, "device_count": {"CPU": 1}, "log_device_placement": false, "allow_soft_placement": true}, "custom_resources_per_worker": {}, "train_batch_size": 90000, "num_envs_per_worker": 1, "lambda": 0.97, "sgd_minibatch_size": 128, "input_evaluation": null, "sample_batch_size": 750, "vf_loss_coeff": 1.0, "output_max_file_size": 67108864, "model": {"fcnet_hiddens": [128, 64, 32], "conv_filters": null, "fcnet_activation": "tanh", "custom_options": {}, "dim": 84, "max_seq_len": 20, "custom_preprocessor": null, "zero_mean": true, "custom_model": null, "conv_activation": "relu", "use_lstm": false, "lstm_use_prev_action_reward": false, "free_log_std": false, "framestack": true, "lstm_cell_size": 256, "squash_to_range": false, "channel_major": false, "grayscale": false}, "multiagent": {"policy_mapping_fn": null, "policy_graphs": {}, "policies_to_train": null}, "collect_metrics_timeout": 180, "monitor": false, "horizon": 1500, "log_level": "INFO", "simple_optimizer": false, "clip_rewards": null, "synchronize_filters": true, "kl_target": 0.01, "input": "sampler", "preprocessor_pref": "deepmind", "clip_actions": false, "entropy_coeff": 0.0, "output": null, "num_sgd_iter": 10, "compress_observations": false, "observation_filter": "MeanStdFilter", "env_config": {"run": "PPO", "flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.3,\n            \"eta3\": 0.1,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 10.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 600,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}"}, "sample_async": false, "env": "MultiWaveAttenuationMergePOEnvBufferedObs-v0no_warmup_700m", "optimizer": {}, "lr_schedule": null, "use_gae": true, "callbacks": {"on_sample_end": null, "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7f3065f20a58>", "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7f3065f20048>", "on_train_result": null, "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7f3065f20080>"}, "gamma": 0.99, "output_compress_columns": ["obs", "new_obs"], "clip_param": 0.3, "num_cpus_for_driver": 1, "straggler_mitigation": false}, "episode_reward_mean": 753.6957282708688}
{"done": false, "date": "2019-05-09_02-24-26", "episodes_total": 15786, "timesteps_this_iter": 174024, "time_this_iter_s": 68.0757224559784, "episode_reward_min": 60.311508728893834, "iterations_since_restore": 27, "time_since_restore": 1799.8714442253113, "experiment_id": "9b178520507b4656ac608c6ff2056ff7", "num_metric_batches_dropped": 0, "episode_len_mean": 722.66, "node_ip": "10.138.0.2", "timesteps_total": 25914626, "time_total_s": 9482.793623685837, "training_iteration": 227, "custom_metrics": {"system_level_velocity_min": 9.42085062695146, "cost1_mean": 326.37514722394803, "cost1_max": 441.1130989760368, "system_level_velocity_mean": 12.30073172336071, "outflow_rate_max": 1236.9032702431082, "system_level_velocity_max": 16.04904724666798, "outflow_rate_mean": 939.7078370750859, "cost2_mean": -136.64513341002439, "cost2_max": -45.823727363670464, "cost1_min": 44.68282411232165, "outflow_rate_min": 246.32493430068558, "cost2_min": -222.46857779580506}, "episodes_this_iter": 91, "hostname": "flow-main", "pid": 46359, "timesteps_since_restore": 4554393, "policy_reward_mean": {}, "info": {"update_time_ms": 11.743, "default": {"kl": 0.016840262338519096, "cur_lr": 0.0005000000237487257, "vf_loss": 24.147180557250977, "vf_explained_var": 0.8462396264076233, "entropy": 2.4513094425201416, "total_loss": 24.14113998413086, "cur_kl_coeff": 0.4500000476837158, "policy_loss": -0.013619373552501202}, "sample_time_ms": 27688.403, "num_steps_trained": 25914626, "load_time_ms": 38.942, "grad_time_ms": 38920.875, "num_steps_sampled": 25914626}, "timestamp": 1557368666, "episode_reward_max": 1012.9414649324882, "config": {"kl_coeff": 0.2, "lr": 0.0005, "vf_share_layers": false, "num_cpus_per_worker": 1, "local_evaluator_tf_session_args": {"inter_op_parallelism_threads": 8, "intra_op_parallelism_threads": 8}, "num_gpus": 0, "num_gpus_per_worker": 0, "vf_clip_param": 1000000.0, "batch_mode": "truncate_episodes", "num_workers": 60, "tf_session_args": {"inter_op_parallelism_threads": 2, "intra_op_parallelism_threads": 2, "gpu_options": {"allow_growth": true}, "device_count": {"CPU": 1}, "log_device_placement": false, "allow_soft_placement": true}, "custom_resources_per_worker": {}, "train_batch_size": 90000, "num_envs_per_worker": 1, "lambda": 0.97, "sgd_minibatch_size": 128, "input_evaluation": null, "sample_batch_size": 750, "vf_loss_coeff": 1.0, "output_max_file_size": 67108864, "model": {"fcnet_hiddens": [128, 64, 32], "conv_filters": null, "fcnet_activation": "tanh", "custom_options": {}, "dim": 84, "max_seq_len": 20, "custom_preprocessor": null, "zero_mean": true, "custom_model": null, "conv_activation": "relu", "use_lstm": false, "lstm_use_prev_action_reward": false, "free_log_std": false, "framestack": true, "lstm_cell_size": 256, "squash_to_range": false, "channel_major": false, "grayscale": false}, "multiagent": {"policy_mapping_fn": null, "policy_graphs": {}, "policies_to_train": null}, "collect_metrics_timeout": 180, "monitor": false, "horizon": 1500, "log_level": "INFO", "simple_optimizer": false, "clip_rewards": null, "synchronize_filters": true, "kl_target": 0.01, "input": "sampler", "preprocessor_pref": "deepmind", "clip_actions": false, "entropy_coeff": 0.0, "output": null, "num_sgd_iter": 10, "compress_observations": false, "observation_filter": "MeanStdFilter", "env_config": {"run": "PPO", "flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.3,\n            \"eta3\": 0.1,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 10.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 600,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}"}, "sample_async": false, "env": "MultiWaveAttenuationMergePOEnvBufferedObs-v0no_warmup_700m", "optimizer": {}, "lr_schedule": null, "use_gae": true, "callbacks": {"on_sample_end": null, "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7f3065f12c50>", "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7f3065f20588>", "on_train_result": null, "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7f3065f129b0>"}, "gamma": 0.99, "output_compress_columns": ["obs", "new_obs"], "clip_param": 0.3, "num_cpus_for_driver": 1, "straggler_mitigation": false}, "episode_reward_mean": 729.0656706834789}
{"done": false, "date": "2019-05-09_02-25-32", "episodes_total": 15875, "timesteps_this_iter": 170780, "time_this_iter_s": 66.21655464172363, "episode_reward_min": 51.84294955167298, "iterations_since_restore": 28, "time_since_restore": 1866.087998867035, "experiment_id": "9b178520507b4656ac608c6ff2056ff7", "num_metric_batches_dropped": 0, "episode_len_mean": 737.05, "node_ip": "10.138.0.2", "timesteps_total": 26085406, "time_total_s": 9549.01017832756, "training_iteration": 228, "custom_metrics": {"system_level_velocity_min": 9.184555222879176, "cost1_mean": 331.98548341508695, "cost1_max": 478.50242338448845, "system_level_velocity_mean": 12.262296676380597, "outflow_rate_max": 1273.2376396571663, "system_level_velocity_max": 16.93582540892194, "outflow_rate_mean": 949.4796003543207, "cost2_mean": -142.00089732864606, "cost2_max": -33.78167103953278, "cost1_min": 41.85260969462629, "outflow_rate_min": 242.9846537417074, "cost2_min": -229.65032238673018}, "episodes_this_iter": 89, "hostname": "flow-main", "pid": 46359, "timesteps_since_restore": 4725173, "policy_reward_mean": {}, "info": {"update_time_ms": 11.699, "default": {"kl": 0.017066115513443947, "cur_lr": 0.0005000000237487257, "vf_loss": 24.532976150512695, "vf_explained_var": 0.8439770936965942, "entropy": 2.4404189586639404, "total_loss": 24.525903701782227, "cur_kl_coeff": 0.44999998807907104, "policy_loss": -0.014750916510820389}, "sample_time_ms": 27763.362, "num_steps_trained": 26085406, "load_time_ms": 42.906, "grad_time_ms": 38943.512, "num_steps_sampled": 26085406}, "timestamp": 1557368732, "episode_reward_max": 1156.1316943094796, "config": {"kl_coeff": 0.2, "lr": 0.0005, "vf_share_layers": false, "num_cpus_per_worker": 1, "local_evaluator_tf_session_args": {"inter_op_parallelism_threads": 8, "intra_op_parallelism_threads": 8}, "num_gpus": 0, "num_gpus_per_worker": 0, "vf_clip_param": 1000000.0, "batch_mode": "truncate_episodes", "num_workers": 60, "tf_session_args": {"inter_op_parallelism_threads": 2, "intra_op_parallelism_threads": 2, "gpu_options": {"allow_growth": true}, "device_count": {"CPU": 1}, "log_device_placement": false, "allow_soft_placement": true}, "custom_resources_per_worker": {}, "train_batch_size": 90000, "num_envs_per_worker": 1, "lambda": 0.97, "sgd_minibatch_size": 128, "input_evaluation": null, "sample_batch_size": 750, "vf_loss_coeff": 1.0, "output_max_file_size": 67108864, "model": {"fcnet_hiddens": [128, 64, 32], "conv_filters": null, "fcnet_activation": "tanh", "custom_options": {}, "dim": 84, "max_seq_len": 20, "custom_preprocessor": null, "zero_mean": true, "custom_model": null, "conv_activation": "relu", "use_lstm": false, "lstm_use_prev_action_reward": false, "free_log_std": false, "framestack": true, "lstm_cell_size": 256, "squash_to_range": false, "channel_major": false, "grayscale": false}, "multiagent": {"policy_mapping_fn": null, "policy_graphs": {}, "policies_to_train": null}, "collect_metrics_timeout": 180, "monitor": false, "horizon": 1500, "log_level": "INFO", "simple_optimizer": false, "clip_rewards": null, "synchronize_filters": true, "kl_target": 0.01, "input": "sampler", "preprocessor_pref": "deepmind", "clip_actions": false, "entropy_coeff": 0.0, "output": null, "num_sgd_iter": 10, "compress_observations": false, "observation_filter": "MeanStdFilter", "env_config": {"run": "PPO", "flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.3,\n            \"eta3\": 0.1,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 10.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 600,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}"}, "sample_async": false, "env": "MultiWaveAttenuationMergePOEnvBufferedObs-v0no_warmup_700m", "optimizer": {}, "lr_schedule": null, "use_gae": true, "callbacks": {"on_sample_end": null, "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7f3065f20048>", "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7f3065f20dd8>", "on_train_result": null, "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7f3065f20a58>"}, "gamma": 0.99, "output_compress_columns": ["obs", "new_obs"], "clip_param": 0.3, "num_cpus_for_driver": 1, "straggler_mitigation": false}, "episode_reward_mean": 758.5640619263038}
{"done": false, "date": "2019-05-09_02-26-38", "episodes_total": 15966, "timesteps_this_iter": 172105, "time_this_iter_s": 66.41269445419312, "episode_reward_min": 55.42912327284132, "iterations_since_restore": 29, "time_since_restore": 1932.500693321228, "experiment_id": "9b178520507b4656ac608c6ff2056ff7", "num_metric_batches_dropped": 0, "episode_len_mean": 713.0, "node_ip": "10.138.0.2", "timesteps_total": 26257511, "time_total_s": 9615.422872781754, "training_iteration": 229, "custom_metrics": {"system_level_velocity_min": 8.920528513928007, "cost1_mean": 309.17079049148856, "cost1_max": 429.7560120973935, "system_level_velocity_mean": 11.790429328790214, "outflow_rate_max": 1204.5827973750022, "system_level_velocity_max": 15.277082263382834, "outflow_rate_mean": 891.5297070160356, "cost2_mean": -127.10989381359076, "cost2_max": -32.812209401256844, "cost1_min": 42.03867625973621, "outflow_rate_min": 248.5349894198606, "cost2_min": -229.65032238673018}, "episodes_this_iter": 91, "hostname": "flow-main", "pid": 46359, "timesteps_since_restore": 4897278, "policy_reward_mean": {}, "info": {"update_time_ms": 11.794, "default": {"kl": 0.01738978922367096, "cur_lr": 0.0005000000237487257, "vf_loss": 23.065555572509766, "vf_explained_var": 0.8406611680984497, "entropy": 2.4701733589172363, "total_loss": 23.059602737426758, "cur_kl_coeff": 0.44999998807907104, "policy_loss": -0.013778348453342915}, "sample_time_ms": 27819.568, "num_steps_trained": 26257511, "load_time_ms": 47.362, "grad_time_ms": 38783.77, "num_steps_sampled": 26257511}, "timestamp": 1557368798, "episode_reward_max": 1043.4227130265215, "config": {"kl_coeff": 0.2, "lr": 0.0005, "vf_share_layers": false, "num_cpus_per_worker": 1, "local_evaluator_tf_session_args": {"inter_op_parallelism_threads": 8, "intra_op_parallelism_threads": 8}, "num_gpus": 0, "num_gpus_per_worker": 0, "vf_clip_param": 1000000.0, "batch_mode": "truncate_episodes", "num_workers": 60, "tf_session_args": {"inter_op_parallelism_threads": 2, "intra_op_parallelism_threads": 2, "gpu_options": {"allow_growth": true}, "device_count": {"CPU": 1}, "log_device_placement": false, "allow_soft_placement": true}, "custom_resources_per_worker": {}, "train_batch_size": 90000, "num_envs_per_worker": 1, "lambda": 0.97, "sgd_minibatch_size": 128, "input_evaluation": null, "sample_batch_size": 750, "vf_loss_coeff": 1.0, "output_max_file_size": 67108864, "model": {"fcnet_hiddens": [128, 64, 32], "conv_filters": null, "fcnet_activation": "tanh", "custom_options": {}, "dim": 84, "max_seq_len": 20, "custom_preprocessor": null, "zero_mean": true, "custom_model": null, "conv_activation": "relu", "use_lstm": false, "lstm_use_prev_action_reward": false, "free_log_std": false, "framestack": true, "lstm_cell_size": 256, "squash_to_range": false, "channel_major": false, "grayscale": false}, "multiagent": {"policy_mapping_fn": null, "policy_graphs": {}, "policies_to_train": null}, "collect_metrics_timeout": 180, "monitor": false, "horizon": 1500, "log_level": "INFO", "simple_optimizer": false, "clip_rewards": null, "synchronize_filters": true, "kl_target": 0.01, "input": "sampler", "preprocessor_pref": "deepmind", "clip_actions": false, "entropy_coeff": 0.0, "output": null, "num_sgd_iter": 10, "compress_observations": false, "observation_filter": "MeanStdFilter", "env_config": {"run": "PPO", "flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.3,\n            \"eta3\": 0.1,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 10.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 600,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}"}, "sample_async": false, "env": "MultiWaveAttenuationMergePOEnvBufferedObs-v0no_warmup_700m", "optimizer": {}, "lr_schedule": null, "use_gae": true, "callbacks": {"on_sample_end": null, "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7f3065f20828>", "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7f3065f20358>", "on_train_result": null, "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7f3065f20588>"}, "gamma": 0.99, "output_compress_columns": ["obs", "new_obs"], "clip_param": 0.3, "num_cpus_for_driver": 1, "straggler_mitigation": false}, "episode_reward_mean": 709.7941984564645}
{"done": false, "date": "2019-05-09_02-27-44", "episodes_total": 16054, "timesteps_this_iter": 169253, "time_this_iter_s": 65.1737790107727, "episode_reward_min": 81.79350478598033, "iterations_since_restore": 30, "time_since_restore": 1997.6744723320007, "experiment_id": "9b178520507b4656ac608c6ff2056ff7", "num_metric_batches_dropped": 0, "episode_len_mean": 732.82, "node_ip": "10.138.0.2", "timesteps_total": 26426764, "time_total_s": 9680.596651792526, "training_iteration": 230, "custom_metrics": {"system_level_velocity_min": 8.570420021295119, "cost1_mean": 326.34154788398774, "cost1_max": 433.07306464839843, "system_level_velocity_mean": 12.164297693493522, "outflow_rate_max": 1228.1142242772526, "system_level_velocity_max": 15.728122930369482, "outflow_rate_mean": 939.5566632784886, "cost2_mean": -142.87724932095026, "cost2_max": -52.79992067499933, "cost1_min": 57.675711390820126, "outflow_rate_min": 274.17754514294575, "cost2_min": -227.25290085310226}, "episodes_this_iter": 88, "hostname": "flow-main", "pid": 46359, "timesteps_since_restore": 5066531, "policy_reward_mean": {}, "info": {"update_time_ms": 11.843, "default": {"kl": 0.016646644100546837, "cur_lr": 0.0005000000237487257, "vf_loss": 23.52012062072754, "vf_explained_var": 0.8482850790023804, "entropy": 2.429433822631836, "total_loss": 23.5142822265625, "cur_kl_coeff": 0.45000001788139343, "policy_loss": -0.013328924775123596}, "sample_time_ms": 27863.475, "num_steps_trained": 26426764, "load_time_ms": 47.425, "grad_time_ms": 38576.055, "num_steps_sampled": 26426764}, "timestamp": 1557368864, "episode_reward_max": 956.6299473784984, "config": {"kl_coeff": 0.2, "lr": 0.0005, "vf_share_layers": false, "num_cpus_per_worker": 1, "local_evaluator_tf_session_args": {"inter_op_parallelism_threads": 8, "intra_op_parallelism_threads": 8}, "num_gpus": 0, "num_gpus_per_worker": 0, "vf_clip_param": 1000000.0, "batch_mode": "truncate_episodes", "num_workers": 60, "tf_session_args": {"inter_op_parallelism_threads": 2, "intra_op_parallelism_threads": 2, "gpu_options": {"allow_growth": true}, "device_count": {"CPU": 1}, "log_device_placement": false, "allow_soft_placement": true}, "custom_resources_per_worker": {}, "train_batch_size": 90000, "num_envs_per_worker": 1, "lambda": 0.97, "sgd_minibatch_size": 128, "input_evaluation": null, "sample_batch_size": 750, "vf_loss_coeff": 1.0, "output_max_file_size": 67108864, "model": {"fcnet_hiddens": [128, 64, 32], "conv_filters": null, "fcnet_activation": "tanh", "custom_options": {}, "dim": 84, "max_seq_len": 20, "custom_preprocessor": null, "zero_mean": true, "custom_model": null, "conv_activation": "relu", "use_lstm": false, "lstm_use_prev_action_reward": false, "free_log_std": false, "framestack": true, "lstm_cell_size": 256, "squash_to_range": false, "channel_major": false, "grayscale": false}, "multiagent": {"policy_mapping_fn": null, "policy_graphs": {}, "policies_to_train": null}, "collect_metrics_timeout": 180, "monitor": false, "horizon": 1500, "log_level": "INFO", "simple_optimizer": false, "clip_rewards": null, "synchronize_filters": true, "kl_target": 0.01, "input": "sampler", "preprocessor_pref": "deepmind", "clip_actions": false, "entropy_coeff": 0.0, "output": null, "num_sgd_iter": 10, "compress_observations": false, "observation_filter": "MeanStdFilter", "env_config": {"run": "PPO", "flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.3,\n            \"eta3\": 0.1,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 10.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 600,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}"}, "sample_async": false, "env": "MultiWaveAttenuationMergePOEnvBufferedObs-v0no_warmup_700m", "optimizer": {}, "lr_schedule": null, "use_gae": true, "callbacks": {"on_sample_end": null, "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7f3065f20048>", "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7f3065f20198>", "on_train_result": null, "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7f3065f20278>"}, "gamma": 0.99, "output_compress_columns": ["obs", "new_obs"], "clip_param": 0.3, "num_cpus_for_driver": 1, "straggler_mitigation": false}, "episode_reward_mean": 742.4155787628449}
{"done": false, "date": "2019-05-09_02-28-51", "episodes_total": 16141, "timesteps_this_iter": 174758, "time_this_iter_s": 67.38680410385132, "episode_reward_min": 60.36911814792809, "iterations_since_restore": 31, "time_since_restore": 2065.061276435852, "experiment_id": "9b178520507b4656ac608c6ff2056ff7", "num_metric_batches_dropped": 0, "episode_len_mean": 733.82, "node_ip": "10.138.0.2", "timesteps_total": 26601522, "time_total_s": 9747.983455896378, "training_iteration": 231, "custom_metrics": {"system_level_velocity_min": 8.99639428328184, "cost1_mean": 327.27888600151505, "cost1_max": 426.525667202858, "system_level_velocity_mean": 12.168554066340324, "outflow_rate_max": 1174.8278372667505, "system_level_velocity_max": 15.269326375515934, "outflow_rate_mean": 948.2939705276456, "cost2_mean": -144.85521255944488, "cost2_max": -42.84540412999182, "cost1_min": 44.26884703754725, "outflow_rate_min": 247.45941395865492, "cost2_min": -206.86760101436386}, "episodes_this_iter": 87, "hostname": "flow-main", "pid": 46359, "timesteps_since_restore": 5241289, "policy_reward_mean": {}, "info": {"update_time_ms": 11.27, "default": {"kl": 0.016800926998257637, "cur_lr": 0.0005000000237487257, "vf_loss": 21.37493324279785, "vf_explained_var": 0.8648993968963623, "entropy": 2.435485363006592, "total_loss": 21.369478225708008, "cur_kl_coeff": 0.44999998807907104, "policy_loss": -0.013015800155699253}, "sample_time_ms": 27809.345, "num_steps_trained": 26601522, "load_time_ms": 48.849, "grad_time_ms": 38651.067, "num_steps_sampled": 26601522}, "timestamp": 1557368931, "episode_reward_max": 934.7182320003875, "config": {"kl_coeff": 0.2, "lr": 0.0005, "vf_share_layers": false, "num_cpus_per_worker": 1, "local_evaluator_tf_session_args": {"inter_op_parallelism_threads": 8, "intra_op_parallelism_threads": 8}, "num_gpus": 0, "num_gpus_per_worker": 0, "vf_clip_param": 1000000.0, "batch_mode": "truncate_episodes", "num_workers": 60, "tf_session_args": {"inter_op_parallelism_threads": 2, "intra_op_parallelism_threads": 2, "gpu_options": {"allow_growth": true}, "device_count": {"CPU": 1}, "log_device_placement": false, "allow_soft_placement": true}, "custom_resources_per_worker": {}, "train_batch_size": 90000, "num_envs_per_worker": 1, "lambda": 0.97, "sgd_minibatch_size": 128, "input_evaluation": null, "sample_batch_size": 750, "vf_loss_coeff": 1.0, "output_max_file_size": 67108864, "model": {"fcnet_hiddens": [128, 64, 32], "conv_filters": null, "fcnet_activation": "tanh", "custom_options": {}, "dim": 84, "max_seq_len": 20, "custom_preprocessor": null, "zero_mean": true, "custom_model": null, "conv_activation": "relu", "use_lstm": false, "lstm_use_prev_action_reward": false, "free_log_std": false, "framestack": true, "lstm_cell_size": 256, "squash_to_range": false, "channel_major": false, "grayscale": false}, "multiagent": {"policy_mapping_fn": null, "policy_graphs": {}, "policies_to_train": null}, "collect_metrics_timeout": 180, "monitor": false, "horizon": 1500, "log_level": "INFO", "simple_optimizer": false, "clip_rewards": null, "synchronize_filters": true, "kl_target": 0.01, "input": "sampler", "preprocessor_pref": "deepmind", "clip_actions": false, "entropy_coeff": 0.0, "output": null, "num_sgd_iter": 10, "compress_observations": false, "observation_filter": "MeanStdFilter", "env_config": {"run": "PPO", "flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.3,\n            \"eta3\": 0.1,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 10.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 600,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}"}, "sample_async": false, "env": "MultiWaveAttenuationMergePOEnvBufferedObs-v0no_warmup_700m", "optimizer": {}, "lr_schedule": null, "use_gae": true, "callbacks": {"on_sample_end": null, "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7f3065f20358>", "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7f3065f20400>", "on_train_result": null, "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7f3065f20828>"}, "gamma": 0.99, "output_compress_columns": ["obs", "new_obs"], "clip_param": 0.3, "num_cpus_for_driver": 1, "straggler_mitigation": false}, "episode_reward_mean": 739.2485101927415}
{"done": false, "date": "2019-05-09_02-29-57", "episodes_total": 16233, "timesteps_this_iter": 170112, "time_this_iter_s": 65.70242428779602, "episode_reward_min": 189.7816152438918, "iterations_since_restore": 32, "time_since_restore": 2130.763700723648, "experiment_id": "9b178520507b4656ac608c6ff2056ff7", "num_metric_batches_dropped": 0, "episode_len_mean": 727.73, "node_ip": "10.138.0.2", "timesteps_total": 26771634, "time_total_s": 9813.685880184174, "training_iteration": 232, "custom_metrics": {"system_level_velocity_min": 8.865623898028774, "cost1_mean": 323.4425705550986, "cost1_max": 440.36249662546675, "system_level_velocity_mean": 12.144309914430018, "outflow_rate_max": 1208.6304282699139, "system_level_velocity_max": 15.605988836562428, "outflow_rate_mean": 933.1301672686492, "cost2_mean": -141.91446469472973, "cost2_max": -44.527700583525814, "cost1_min": 102.97465119489253, "outflow_rate_min": 407.49815108880364, "cost2_min": -202.8813189591318}, "episodes_this_iter": 92, "hostname": "flow-main", "pid": 46359, "timesteps_since_restore": 5411401, "policy_reward_mean": {}, "info": {"update_time_ms": 11.418, "default": {"kl": 0.01737499050796032, "cur_lr": 0.0005000000237487257, "vf_loss": 23.125099182128906, "vf_explained_var": 0.840333104133606, "entropy": 2.4483299255371094, "total_loss": 23.119476318359375, "cur_kl_coeff": 0.44999998807907104, "policy_loss": -0.01344117522239685}, "sample_time_ms": 27692.156, "num_steps_trained": 26771634, "load_time_ms": 51.31, "grad_time_ms": 38636.605, "num_steps_sampled": 26771634}, "timestamp": 1557368997, "episode_reward_max": 1027.1468713217287, "config": {"kl_coeff": 0.2, "lr": 0.0005, "vf_share_layers": false, "num_cpus_per_worker": 1, "local_evaluator_tf_session_args": {"inter_op_parallelism_threads": 8, "intra_op_parallelism_threads": 8}, "num_gpus": 0, "num_gpus_per_worker": 0, "vf_clip_param": 1000000.0, "batch_mode": "truncate_episodes", "num_workers": 60, "tf_session_args": {"inter_op_parallelism_threads": 2, "intra_op_parallelism_threads": 2, "gpu_options": {"allow_growth": true}, "device_count": {"CPU": 1}, "log_device_placement": false, "allow_soft_placement": true}, "custom_resources_per_worker": {}, "train_batch_size": 90000, "num_envs_per_worker": 1, "lambda": 0.97, "sgd_minibatch_size": 128, "input_evaluation": null, "sample_batch_size": 750, "vf_loss_coeff": 1.0, "output_max_file_size": 67108864, "model": {"fcnet_hiddens": [128, 64, 32], "conv_filters": null, "fcnet_activation": "tanh", "custom_options": {}, "dim": 84, "max_seq_len": 20, "custom_preprocessor": null, "zero_mean": true, "custom_model": null, "conv_activation": "relu", "use_lstm": false, "lstm_use_prev_action_reward": false, "free_log_std": false, "framestack": true, "lstm_cell_size": 256, "squash_to_range": false, "channel_major": false, "grayscale": false}, "multiagent": {"policy_mapping_fn": null, "policy_graphs": {}, "policies_to_train": null}, "collect_metrics_timeout": 180, "monitor": false, "horizon": 1500, "log_level": "INFO", "simple_optimizer": false, "clip_rewards": null, "synchronize_filters": true, "kl_target": 0.01, "input": "sampler", "preprocessor_pref": "deepmind", "clip_actions": false, "entropy_coeff": 0.0, "output": null, "num_sgd_iter": 10, "compress_observations": false, "observation_filter": "MeanStdFilter", "env_config": {"run": "PPO", "flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.3,\n            \"eta3\": 0.1,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 10.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 600,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}"}, "sample_async": false, "env": "MultiWaveAttenuationMergePOEnvBufferedObs-v0no_warmup_700m", "optimizer": {}, "lr_schedule": null, "use_gae": true, "callbacks": {"on_sample_end": null, "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7f3065f20160>", "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7f3065f20c88>", "on_train_result": null, "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7f3065f20b70>"}, "gamma": 0.99, "output_compress_columns": ["obs", "new_obs"], "clip_param": 0.3, "num_cpus_for_driver": 1, "straggler_mitigation": false}, "episode_reward_mean": 726.8001788304824}
{"done": false, "date": "2019-05-09_02-31-03", "episodes_total": 16321, "timesteps_this_iter": 169813, "time_this_iter_s": 66.49568033218384, "episode_reward_min": 200.4626456258678, "iterations_since_restore": 33, "time_since_restore": 2197.259381055832, "experiment_id": "9b178520507b4656ac608c6ff2056ff7", "num_metric_batches_dropped": 0, "episode_len_mean": 734.12, "node_ip": "10.138.0.2", "timesteps_total": 26941447, "time_total_s": 9880.181560516357, "training_iteration": 233, "custom_metrics": {"system_level_velocity_min": 9.138762849113828, "cost1_mean": 331.23148797006485, "cost1_max": 424.45151228135114, "system_level_velocity_mean": 12.343440562510436, "outflow_rate_max": 1196.724736001703, "system_level_velocity_max": 15.452106505468237, "outflow_rate_mean": 952.261120918412, "cost2_mean": -140.61553778799862, "cost2_max": -58.9287709110717, "cost1_min": 107.9937603117884, "outflow_rate_min": 420.16475751658436, "cost2_min": -211.44106191821803}, "episodes_this_iter": 88, "hostname": "flow-main", "pid": 46359, "timesteps_since_restore": 5581214, "policy_reward_mean": {}, "info": {"update_time_ms": 11.246, "default": {"kl": 0.016989294439554214, "cur_lr": 0.0005000000237487257, "vf_loss": 21.29901123046875, "vf_explained_var": 0.8582372665405273, "entropy": 2.477700710296631, "total_loss": 21.293262481689453, "cur_kl_coeff": 0.45000001788139343, "policy_loss": -0.013393611647188663}, "sample_time_ms": 27705.039, "num_steps_trained": 26941447, "load_time_ms": 50.104, "grad_time_ms": 38656.413, "num_steps_sampled": 26941447}, "timestamp": 1557369063, "episode_reward_max": 995.5256187987658, "config": {"kl_coeff": 0.2, "lr": 0.0005, "vf_share_layers": false, "num_cpus_per_worker": 1, "local_evaluator_tf_session_args": {"inter_op_parallelism_threads": 8, "intra_op_parallelism_threads": 8}, "num_gpus": 0, "num_gpus_per_worker": 0, "vf_clip_param": 1000000.0, "batch_mode": "truncate_episodes", "num_workers": 60, "tf_session_args": {"inter_op_parallelism_threads": 2, "intra_op_parallelism_threads": 2, "gpu_options": {"allow_growth": true}, "device_count": {"CPU": 1}, "log_device_placement": false, "allow_soft_placement": true}, "custom_resources_per_worker": {}, "train_batch_size": 90000, "num_envs_per_worker": 1, "lambda": 0.97, "sgd_minibatch_size": 128, "input_evaluation": null, "sample_batch_size": 750, "vf_loss_coeff": 1.0, "output_max_file_size": 67108864, "model": {"fcnet_hiddens": [128, 64, 32], "conv_filters": null, "fcnet_activation": "tanh", "custom_options": {}, "dim": 84, "max_seq_len": 20, "custom_preprocessor": null, "zero_mean": true, "custom_model": null, "conv_activation": "relu", "use_lstm": false, "lstm_use_prev_action_reward": false, "free_log_std": false, "framestack": true, "lstm_cell_size": 256, "squash_to_range": false, "channel_major": false, "grayscale": false}, "multiagent": {"policy_mapping_fn": null, "policy_graphs": {}, "policies_to_train": null}, "collect_metrics_timeout": 180, "monitor": false, "horizon": 1500, "log_level": "INFO", "simple_optimizer": false, "clip_rewards": null, "synchronize_filters": true, "kl_target": 0.01, "input": "sampler", "preprocessor_pref": "deepmind", "clip_actions": false, "entropy_coeff": 0.0, "output": null, "num_sgd_iter": 10, "compress_observations": false, "observation_filter": "MeanStdFilter", "env_config": {"run": "PPO", "flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.3,\n            \"eta3\": 0.1,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 10.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 600,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}"}, "sample_async": false, "env": "MultiWaveAttenuationMergePOEnvBufferedObs-v0no_warmup_700m", "optimizer": {}, "lr_schedule": null, "use_gae": true, "callbacks": {"on_sample_end": null, "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7f3065f20358>", "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7f3065f207f0>", "on_train_result": null, "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7f3065f20e80>"}, "gamma": 0.99, "output_compress_columns": ["obs", "new_obs"], "clip_param": 0.3, "num_cpus_for_driver": 1, "straggler_mitigation": false}, "episode_reward_mean": 739.2950459780513}
{"done": false, "date": "2019-05-09_02-32-15", "episodes_total": 16409, "timesteps_this_iter": 175375, "time_this_iter_s": 71.29315543174744, "episode_reward_min": 180.67062877002795, "iterations_since_restore": 34, "time_since_restore": 2268.5525364875793, "experiment_id": "9b178520507b4656ac608c6ff2056ff7", "num_metric_batches_dropped": 0, "episode_len_mean": 735.79, "node_ip": "10.138.0.2", "timesteps_total": 27116822, "time_total_s": 9951.474715948105, "training_iteration": 234, "custom_metrics": {"system_level_velocity_min": 8.211069755558999, "cost1_mean": 325.6586779972542, "cost1_max": 435.44040570831396, "system_level_velocity_mean": 12.10429488478285, "outflow_rate_max": 1204.7289008498099, "system_level_velocity_max": 15.657631198288694, "outflow_rate_mean": 930.47469398809, "cost2_mean": -132.09206358978258, "cost2_max": -54.73156645153424, "cost1_min": 105.73473096908138, "outflow_rate_min": 405.13494311224594, "cost2_min": -215.45981519016556}, "episodes_this_iter": 88, "hostname": "flow-main", "pid": 46359, "timesteps_since_restore": 5756589, "policy_reward_mean": {}, "info": {"update_time_ms": 11.281, "default": {"kl": 0.016281858086586, "cur_lr": 0.0005000000237487257, "vf_loss": 22.154918670654297, "vf_explained_var": 0.8519802093505859, "entropy": 2.4984467029571533, "total_loss": 22.14810562133789, "cur_kl_coeff": 0.44999998807907104, "policy_loss": -0.014140287414193153}, "sample_time_ms": 27831.901, "num_steps_trained": 27116822, "load_time_ms": 52.956, "grad_time_ms": 38897.888, "num_steps_sampled": 27116822}, "timestamp": 1557369135, "episode_reward_max": 1050.9596398049468, "config": {"kl_coeff": 0.2, "lr": 0.0005, "vf_share_layers": false, "num_cpus_per_worker": 1, "local_evaluator_tf_session_args": {"inter_op_parallelism_threads": 8, "intra_op_parallelism_threads": 8}, "num_gpus": 0, "num_gpus_per_worker": 0, "vf_clip_param": 1000000.0, "batch_mode": "truncate_episodes", "num_workers": 60, "tf_session_args": {"inter_op_parallelism_threads": 2, "intra_op_parallelism_threads": 2, "gpu_options": {"allow_growth": true}, "device_count": {"CPU": 1}, "log_device_placement": false, "allow_soft_placement": true}, "custom_resources_per_worker": {}, "train_batch_size": 90000, "num_envs_per_worker": 1, "lambda": 0.97, "sgd_minibatch_size": 128, "input_evaluation": null, "sample_batch_size": 750, "vf_loss_coeff": 1.0, "output_max_file_size": 67108864, "model": {"fcnet_hiddens": [128, 64, 32], "conv_filters": null, "fcnet_activation": "tanh", "custom_options": {}, "dim": 84, "max_seq_len": 20, "custom_preprocessor": null, "zero_mean": true, "custom_model": null, "conv_activation": "relu", "use_lstm": false, "lstm_use_prev_action_reward": false, "free_log_std": false, "framestack": true, "lstm_cell_size": 256, "squash_to_range": false, "channel_major": false, "grayscale": false}, "multiagent": {"policy_mapping_fn": null, "policy_graphs": {}, "policies_to_train": null}, "collect_metrics_timeout": 180, "monitor": false, "horizon": 1500, "log_level": "INFO", "simple_optimizer": false, "clip_rewards": null, "synchronize_filters": true, "kl_target": 0.01, "input": "sampler", "preprocessor_pref": "deepmind", "clip_actions": false, "entropy_coeff": 0.0, "output": null, "num_sgd_iter": 10, "compress_observations": false, "observation_filter": "MeanStdFilter", "env_config": {"run": "PPO", "flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.3,\n            \"eta3\": 0.1,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 10.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 600,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}"}, "sample_async": false, "env": "MultiWaveAttenuationMergePOEnvBufferedObs-v0no_warmup_700m", "optimizer": {}, "lr_schedule": null, "use_gae": true, "callbacks": {"on_sample_end": null, "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7f3065f200f0>", "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7f3065f20a58>", "on_train_result": null, "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7f3065f20dd8>"}, "gamma": 0.99, "output_compress_columns": ["obs", "new_obs"], "clip_param": 0.3, "num_cpus_for_driver": 1, "straggler_mitigation": false}, "episode_reward_mean": 730.5429159144228}
{"done": false, "date": "2019-05-09_02-33-22", "episodes_total": 16498, "timesteps_this_iter": 174472, "time_this_iter_s": 67.47884821891785, "episode_reward_min": 54.38773332716071, "iterations_since_restore": 35, "time_since_restore": 2336.031384706497, "experiment_id": "9b178520507b4656ac608c6ff2056ff7", "num_metric_batches_dropped": 0, "episode_len_mean": 734.79, "node_ip": "10.138.0.2", "timesteps_total": 27291294, "time_total_s": 10018.953564167023, "training_iteration": 235, "custom_metrics": {"system_level_velocity_min": 7.732432229336052, "cost1_mean": 324.12721215163987, "cost1_max": 441.3194512659457, "system_level_velocity_mean": 12.028320746284917, "outflow_rate_max": 1213.9434601227624, "system_level_velocity_max": 15.754274096694004, "outflow_rate_mean": 939.5144088923515, "cost2_mean": -138.97693762593707, "cost2_max": -33.05545657104733, "cost1_min": 41.67724793252842, "outflow_rate_min": 243.581279338333, "cost2_min": -205.77998451743977}, "episodes_this_iter": 89, "hostname": "flow-main", "pid": 46359, "timesteps_since_restore": 5931061, "policy_reward_mean": {}, "info": {"update_time_ms": 11.343, "default": {"kl": 0.016224399209022522, "cur_lr": 0.0005000000237487257, "vf_loss": 20.099828720092773, "vf_explained_var": 0.8732553720474243, "entropy": 2.523749589920044, "total_loss": 20.09385108947754, "cur_kl_coeff": 0.44999998807907104, "policy_loss": -0.013277708552777767}, "sample_time_ms": 27831.025, "num_steps_trained": 27291294, "load_time_ms": 56.199, "grad_time_ms": 38773.649, "num_steps_sampled": 27291294}, "timestamp": 1557369202, "episode_reward_max": 909.2451850036599, "config": {"kl_coeff": 0.2, "lr": 0.0005, "vf_share_layers": false, "num_cpus_per_worker": 1, "local_evaluator_tf_session_args": {"inter_op_parallelism_threads": 8, "intra_op_parallelism_threads": 8}, "num_gpus": 0, "num_gpus_per_worker": 0, "vf_clip_param": 1000000.0, "batch_mode": "truncate_episodes", "num_workers": 60, "tf_session_args": {"inter_op_parallelism_threads": 2, "intra_op_parallelism_threads": 2, "gpu_options": {"allow_growth": true}, "device_count": {"CPU": 1}, "log_device_placement": false, "allow_soft_placement": true}, "custom_resources_per_worker": {}, "train_batch_size": 90000, "num_envs_per_worker": 1, "lambda": 0.97, "sgd_minibatch_size": 128, "input_evaluation": null, "sample_batch_size": 750, "vf_loss_coeff": 1.0, "output_max_file_size": 67108864, "model": {"fcnet_hiddens": [128, 64, 32], "conv_filters": null, "fcnet_activation": "tanh", "custom_options": {}, "dim": 84, "max_seq_len": 20, "custom_preprocessor": null, "zero_mean": true, "custom_model": null, "conv_activation": "relu", "use_lstm": false, "lstm_use_prev_action_reward": false, "free_log_std": false, "framestack": true, "lstm_cell_size": 256, "squash_to_range": false, "channel_major": false, "grayscale": false}, "multiagent": {"policy_mapping_fn": null, "policy_graphs": {}, "policies_to_train": null}, "collect_metrics_timeout": 180, "monitor": false, "horizon": 1500, "log_level": "INFO", "simple_optimizer": false, "clip_rewards": null, "synchronize_filters": true, "kl_target": 0.01, "input": "sampler", "preprocessor_pref": "deepmind", "clip_actions": false, "entropy_coeff": 0.0, "output": null, "num_sgd_iter": 10, "compress_observations": false, "observation_filter": "MeanStdFilter", "env_config": {"run": "PPO", "flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.3,\n            \"eta3\": 0.1,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 10.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 600,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}"}, "sample_async": false, "env": "MultiWaveAttenuationMergePOEnvBufferedObs-v0no_warmup_700m", "optimizer": {}, "lr_schedule": null, "use_gae": true, "callbacks": {"on_sample_end": null, "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7f3065f202b0>", "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7f3065f204a8>", "on_train_result": null, "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7f3065f20898>"}, "gamma": 0.99, "output_compress_columns": ["obs", "new_obs"], "clip_param": 0.3, "num_cpus_for_driver": 1, "straggler_mitigation": false}, "episode_reward_mean": 719.6705996155071}
{"done": false, "date": "2019-05-09_02-34-30", "episodes_total": 16586, "timesteps_this_iter": 172761, "time_this_iter_s": 68.03383660316467, "episode_reward_min": 54.38773332716071, "iterations_since_restore": 36, "time_since_restore": 2404.065221309662, "experiment_id": "9b178520507b4656ac608c6ff2056ff7", "num_metric_batches_dropped": 0, "episode_len_mean": 737.89, "node_ip": "10.138.0.2", "timesteps_total": 27464055, "time_total_s": 10086.987400770187, "training_iteration": 236, "custom_metrics": {"system_level_velocity_min": 8.133038828045038, "cost1_mean": 332.9191870367761, "cost1_max": 448.22082856738393, "system_level_velocity_mean": 12.292398837497986, "outflow_rate_max": 1216.535742571242, "system_level_velocity_max": 16.114952859877206, "outflow_rate_mean": 962.6631290890126, "cost2_mean": -145.72632583468393, "cost2_max": -33.05545657104733, "cost1_min": 41.67724793252842, "outflow_rate_min": 243.581279338333, "cost2_min": -204.44359736637796}, "episodes_this_iter": 88, "hostname": "flow-main", "pid": 46359, "timesteps_since_restore": 6103822, "policy_reward_mean": {}, "info": {"update_time_ms": 11.404, "default": {"kl": 0.017193201929330826, "cur_lr": 0.0005000000237487257, "vf_loss": 21.333961486816406, "vf_explained_var": 0.8593805432319641, "entropy": 2.4849507808685303, "total_loss": 21.32820701599121, "cur_kl_coeff": 0.4500000476837158, "policy_loss": -0.013491535559296608}, "sample_time_ms": 27864.548, "num_steps_trained": 27464055, "load_time_ms": 55.281, "grad_time_ms": 38972.066, "num_steps_sampled": 27464055}, "timestamp": 1557369270, "episode_reward_max": 993.5712895656203, "config": {"kl_coeff": 0.2, "lr": 0.0005, "vf_share_layers": false, "num_cpus_per_worker": 1, "local_evaluator_tf_session_args": {"inter_op_parallelism_threads": 8, "intra_op_parallelism_threads": 8}, "num_gpus": 0, "num_gpus_per_worker": 0, "vf_clip_param": 1000000.0, "batch_mode": "truncate_episodes", "num_workers": 60, "tf_session_args": {"inter_op_parallelism_threads": 2, "intra_op_parallelism_threads": 2, "gpu_options": {"allow_growth": true}, "device_count": {"CPU": 1}, "log_device_placement": false, "allow_soft_placement": true}, "custom_resources_per_worker": {}, "train_batch_size": 90000, "num_envs_per_worker": 1, "lambda": 0.97, "sgd_minibatch_size": 128, "input_evaluation": null, "sample_batch_size": 750, "vf_loss_coeff": 1.0, "output_max_file_size": 67108864, "model": {"fcnet_hiddens": [128, 64, 32], "conv_filters": null, "fcnet_activation": "tanh", "custom_options": {}, "dim": 84, "max_seq_len": 20, "custom_preprocessor": null, "zero_mean": true, "custom_model": null, "conv_activation": "relu", "use_lstm": false, "lstm_use_prev_action_reward": false, "free_log_std": false, "framestack": true, "lstm_cell_size": 256, "squash_to_range": false, "channel_major": false, "grayscale": false}, "multiagent": {"policy_mapping_fn": null, "policy_graphs": {}, "policies_to_train": null}, "collect_metrics_timeout": 180, "monitor": false, "horizon": 1500, "log_level": "INFO", "simple_optimizer": false, "clip_rewards": null, "synchronize_filters": true, "kl_target": 0.01, "input": "sampler", "preprocessor_pref": "deepmind", "clip_actions": false, "entropy_coeff": 0.0, "output": null, "num_sgd_iter": 10, "compress_observations": false, "observation_filter": "MeanStdFilter", "env_config": {"run": "PPO", "flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.3,\n            \"eta3\": 0.1,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 10.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 600,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}"}, "sample_async": false, "env": "MultiWaveAttenuationMergePOEnvBufferedObs-v0no_warmup_700m", "optimizer": {}, "lr_schedule": null, "use_gae": true, "callbacks": {"on_sample_end": null, "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7f3065f20f98>", "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7f3065f20fd0>", "on_train_result": null, "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7f3065f20160>"}, "gamma": 0.99, "output_compress_columns": ["obs", "new_obs"], "clip_param": 0.3, "num_cpus_for_driver": 1, "straggler_mitigation": false}, "episode_reward_mean": 747.370446906685}
{"done": false, "date": "2019-05-09_02-35-39", "episodes_total": 16673, "timesteps_this_iter": 173035, "time_this_iter_s": 68.86270666122437, "episode_reward_min": 192.60395643197538, "iterations_since_restore": 37, "time_since_restore": 2472.9279279708862, "experiment_id": "9b178520507b4656ac608c6ff2056ff7", "num_metric_batches_dropped": 0, "episode_len_mean": 744.94, "node_ip": "10.138.0.2", "timesteps_total": 27637090, "time_total_s": 10155.850107431412, "training_iteration": 237, "custom_metrics": {"system_level_velocity_min": 9.479239785902466, "cost1_mean": 334.57113103109157, "cost1_max": 447.07302161063075, "system_level_velocity_mean": 12.223050130162186, "outflow_rate_max": 1219.9838799535842, "system_level_velocity_max": 15.867323210654328, "outflow_rate_mean": 957.5519719010758, "cost2_mean": -141.97800386813776, "cost2_max": -64.07007804451152, "cost1_min": 110.90680909084278, "outflow_rate_min": 421.3123663528443, "cost2_min": -233.73512157409587}, "episodes_this_iter": 87, "hostname": "flow-main", "pid": 46359, "timesteps_since_restore": 6276857, "policy_reward_mean": {}, "info": {"update_time_ms": 10.972, "default": {"kl": 0.01639413647353649, "cur_lr": 0.0005000000237487257, "vf_loss": 20.48206901550293, "vf_explained_var": 0.8625407814979553, "entropy": 2.5236029624938965, "total_loss": 20.47665786743164, "cur_kl_coeff": 0.44999995827674866, "policy_loss": -0.012788587249815464}, "sample_time_ms": 27794.457, "num_steps_trained": 27637090, "load_time_ms": 52.39, "grad_time_ms": 39117.876, "num_steps_sampled": 27637090}, "timestamp": 1557369339, "episode_reward_max": 1091.944444326489, "config": {"kl_coeff": 0.2, "lr": 0.0005, "vf_share_layers": false, "num_cpus_per_worker": 1, "local_evaluator_tf_session_args": {"inter_op_parallelism_threads": 8, "intra_op_parallelism_threads": 8}, "num_gpus": 0, "num_gpus_per_worker": 0, "vf_clip_param": 1000000.0, "batch_mode": "truncate_episodes", "num_workers": 60, "tf_session_args": {"inter_op_parallelism_threads": 2, "intra_op_parallelism_threads": 2, "gpu_options": {"allow_growth": true}, "device_count": {"CPU": 1}, "log_device_placement": false, "allow_soft_placement": true}, "custom_resources_per_worker": {}, "train_batch_size": 90000, "num_envs_per_worker": 1, "lambda": 0.97, "sgd_minibatch_size": 128, "input_evaluation": null, "sample_batch_size": 750, "vf_loss_coeff": 1.0, "output_max_file_size": 67108864, "model": {"fcnet_hiddens": [128, 64, 32], "conv_filters": null, "fcnet_activation": "tanh", "custom_options": {}, "dim": 84, "max_seq_len": 20, "custom_preprocessor": null, "zero_mean": true, "custom_model": null, "conv_activation": "relu", "use_lstm": false, "lstm_use_prev_action_reward": false, "free_log_std": false, "framestack": true, "lstm_cell_size": 256, "squash_to_range": false, "channel_major": false, "grayscale": false}, "multiagent": {"policy_mapping_fn": null, "policy_graphs": {}, "policies_to_train": null}, "collect_metrics_timeout": 180, "monitor": false, "horizon": 1500, "log_level": "INFO", "simple_optimizer": false, "clip_rewards": null, "synchronize_filters": true, "kl_target": 0.01, "input": "sampler", "preprocessor_pref": "deepmind", "clip_actions": false, "entropy_coeff": 0.0, "output": null, "num_sgd_iter": 10, "compress_observations": false, "observation_filter": "MeanStdFilter", "env_config": {"run": "PPO", "flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.3,\n            \"eta3\": 0.1,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 10.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 600,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}"}, "sample_async": false, "env": "MultiWaveAttenuationMergePOEnvBufferedObs-v0no_warmup_700m", "optimizer": {}, "lr_schedule": null, "use_gae": true, "callbacks": {"on_sample_end": null, "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7f3065f20390>", "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7f3065f202e8>", "on_train_result": null, "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7f3065f209e8>"}, "gamma": 0.99, "output_compress_columns": ["obs", "new_obs"], "clip_param": 0.3, "num_cpus_for_driver": 1, "straggler_mitigation": false}, "episode_reward_mean": 748.2487178597474}
{"done": false, "date": "2019-05-09_02-36-46", "episodes_total": 16762, "timesteps_this_iter": 169438, "time_this_iter_s": 67.08193635940552, "episode_reward_min": 62.71642521412762, "iterations_since_restore": 38, "time_since_restore": 2540.0098643302917, "experiment_id": "9b178520507b4656ac608c6ff2056ff7", "num_metric_batches_dropped": 0, "episode_len_mean": 715.5, "node_ip": "10.138.0.2", "timesteps_total": 27806528, "time_total_s": 10222.932043790817, "training_iteration": 238, "custom_metrics": {"system_level_velocity_min": 9.096285878560149, "cost1_mean": 312.48375640084896, "cost1_max": 426.0696280370413, "system_level_velocity_mean": 11.941063880041716, "outflow_rate_max": 1182.4046046882077, "system_level_velocity_max": 15.176219343370107, "outflow_rate_mean": 900.4822662210686, "cost2_mean": -129.4097394974045, "cost2_max": -46.239048546093805, "cost1_min": 47.163682738675156, "outflow_rate_min": 252.4782173759795, "cost2_min": -213.79701417922251}, "episodes_this_iter": 89, "hostname": "flow-main", "pid": 46359, "timesteps_since_restore": 6446295, "policy_reward_mean": {}, "info": {"update_time_ms": 10.89, "default": {"kl": 0.01620345376431942, "cur_lr": 0.0005000000237487257, "vf_loss": 24.00908851623535, "vf_explained_var": 0.8498085737228394, "entropy": 2.5240585803985596, "total_loss": 24.003355026245117, "cur_kl_coeff": 0.44999998807907104, "policy_loss": -0.01302565447986126}, "sample_time_ms": 27786.257, "num_steps_trained": 27806528, "load_time_ms": 54.481, "grad_time_ms": 39206.698, "num_steps_sampled": 27806528}, "timestamp": 1557369406, "episode_reward_max": 936.2302146227119, "config": {"kl_coeff": 0.2, "lr": 0.0005, "vf_share_layers": false, "num_cpus_per_worker": 1, "local_evaluator_tf_session_args": {"inter_op_parallelism_threads": 8, "intra_op_parallelism_threads": 8}, "num_gpus": 0, "num_gpus_per_worker": 0, "vf_clip_param": 1000000.0, "batch_mode": "truncate_episodes", "num_workers": 60, "tf_session_args": {"inter_op_parallelism_threads": 2, "intra_op_parallelism_threads": 2, "gpu_options": {"allow_growth": true}, "device_count": {"CPU": 1}, "log_device_placement": false, "allow_soft_placement": true}, "custom_resources_per_worker": {}, "train_batch_size": 90000, "num_envs_per_worker": 1, "lambda": 0.97, "sgd_minibatch_size": 128, "input_evaluation": null, "sample_batch_size": 750, "vf_loss_coeff": 1.0, "output_max_file_size": 67108864, "model": {"fcnet_hiddens": [128, 64, 32], "conv_filters": null, "fcnet_activation": "tanh", "custom_options": {}, "dim": 84, "max_seq_len": 20, "custom_preprocessor": null, "zero_mean": true, "custom_model": null, "conv_activation": "relu", "use_lstm": false, "lstm_use_prev_action_reward": false, "free_log_std": false, "framestack": true, "lstm_cell_size": 256, "squash_to_range": false, "channel_major": false, "grayscale": false}, "multiagent": {"policy_mapping_fn": null, "policy_graphs": {}, "policies_to_train": null}, "collect_metrics_timeout": 180, "monitor": false, "horizon": 1500, "log_level": "INFO", "simple_optimizer": false, "clip_rewards": null, "synchronize_filters": true, "kl_target": 0.01, "input": "sampler", "preprocessor_pref": "deepmind", "clip_actions": false, "entropy_coeff": 0.0, "output": null, "num_sgd_iter": 10, "compress_observations": false, "observation_filter": "MeanStdFilter", "env_config": {"run": "PPO", "flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.3,\n            \"eta3\": 0.1,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 10.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 600,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}"}, "sample_async": false, "env": "MultiWaveAttenuationMergePOEnvBufferedObs-v0no_warmup_700m", "optimizer": {}, "lr_schedule": null, "use_gae": true, "callbacks": {"on_sample_end": null, "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7f3065f20940>", "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7f3065f20f60>", "on_train_result": null, "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7f3065f20320>"}, "gamma": 0.99, "output_compress_columns": ["obs", "new_obs"], "clip_param": 0.3, "num_cpus_for_driver": 1, "straggler_mitigation": false}, "episode_reward_mean": 704.4239845023652}
{"done": false, "date": "2019-05-09_02-37-55", "episodes_total": 16853, "timesteps_this_iter": 172684, "time_this_iter_s": 68.38594341278076, "episode_reward_min": 61.594456434081344, "iterations_since_restore": 39, "time_since_restore": 2608.3958077430725, "experiment_id": "9b178520507b4656ac608c6ff2056ff7", "num_metric_batches_dropped": 0, "episode_len_mean": 723.41, "node_ip": "10.138.0.2", "timesteps_total": 27979212, "time_total_s": 10291.317987203598, "training_iteration": 239, "custom_metrics": {"system_level_velocity_min": 8.676641460665914, "cost1_mean": 322.74941487323474, "cost1_max": 461.2771574924295, "system_level_velocity_mean": 12.16118370536427, "outflow_rate_max": 1243.8877170717221, "system_level_velocity_max": 16.43498279887607, "outflow_rate_mean": 924.0305835431027, "cost2_mean": -133.3448529008262, "cost2_max": -35.210378299928166, "cost1_min": 45.881047630359575, "outflow_rate_min": 247.44577705780733, "cost2_min": -218.8423812152886}, "episodes_this_iter": 91, "hostname": "flow-main", "pid": 46359, "timesteps_since_restore": 6618979, "policy_reward_mean": {}, "info": {"update_time_ms": 10.663, "default": {"kl": 0.01614414155483246, "cur_lr": 0.0005000000237487257, "vf_loss": 23.02521324157715, "vf_explained_var": 0.8593339920043945, "entropy": 2.5213706493377686, "total_loss": 23.019683837890625, "cur_kl_coeff": 0.4500000476837158, "policy_loss": -0.012793872505426407}, "sample_time_ms": 27838.658, "num_steps_trained": 27979212, "load_time_ms": 51.467, "grad_time_ms": 39356.354, "num_steps_sampled": 27979212}, "timestamp": 1557369475, "episode_reward_max": 940.6064059498119, "config": {"kl_coeff": 0.2, "lr": 0.0005, "vf_share_layers": false, "num_cpus_per_worker": 1, "local_evaluator_tf_session_args": {"inter_op_parallelism_threads": 8, "intra_op_parallelism_threads": 8}, "num_gpus": 0, "num_gpus_per_worker": 0, "vf_clip_param": 1000000.0, "batch_mode": "truncate_episodes", "num_workers": 60, "tf_session_args": {"inter_op_parallelism_threads": 2, "intra_op_parallelism_threads": 2, "gpu_options": {"allow_growth": true}, "device_count": {"CPU": 1}, "log_device_placement": false, "allow_soft_placement": true}, "custom_resources_per_worker": {}, "train_batch_size": 90000, "num_envs_per_worker": 1, "lambda": 0.97, "sgd_minibatch_size": 128, "input_evaluation": null, "sample_batch_size": 750, "vf_loss_coeff": 1.0, "output_max_file_size": 67108864, "model": {"fcnet_hiddens": [128, 64, 32], "conv_filters": null, "fcnet_activation": "tanh", "custom_options": {}, "dim": 84, "max_seq_len": 20, "custom_preprocessor": null, "zero_mean": true, "custom_model": null, "conv_activation": "relu", "use_lstm": false, "lstm_use_prev_action_reward": false, "free_log_std": false, "framestack": true, "lstm_cell_size": 256, "squash_to_range": false, "channel_major": false, "grayscale": false}, "multiagent": {"policy_mapping_fn": null, "policy_graphs": {}, "policies_to_train": null}, "collect_metrics_timeout": 180, "monitor": false, "horizon": 1500, "log_level": "INFO", "simple_optimizer": false, "clip_rewards": null, "synchronize_filters": true, "kl_target": 0.01, "input": "sampler", "preprocessor_pref": "deepmind", "clip_actions": false, "entropy_coeff": 0.0, "output": null, "num_sgd_iter": 10, "compress_observations": false, "observation_filter": "MeanStdFilter", "env_config": {"run": "PPO", "flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.3,\n            \"eta3\": 0.1,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 10.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 600,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}"}, "sample_async": false, "env": "MultiWaveAttenuationMergePOEnvBufferedObs-v0no_warmup_700m", "optimizer": {}, "lr_schedule": null, "use_gae": true, "callbacks": {"on_sample_end": null, "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7f3065f20630>", "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7f3065f204a8>", "on_train_result": null, "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7f3065f20cc0>"}, "gamma": 0.99, "output_compress_columns": ["obs", "new_obs"], "clip_param": 0.3, "num_cpus_for_driver": 1, "straggler_mitigation": false}, "episode_reward_mean": 718.7813752694069}
{"done": false, "date": "2019-05-09_02-39-06", "episodes_total": 16942, "timesteps_this_iter": 176963, "time_this_iter_s": 71.16893887519836, "episode_reward_min": 60.29677612922699, "iterations_since_restore": 40, "time_since_restore": 2679.564746618271, "experiment_id": "9b178520507b4656ac608c6ff2056ff7", "num_metric_batches_dropped": 0, "episode_len_mean": 694.28, "node_ip": "10.138.0.2", "timesteps_total": 28156175, "time_total_s": 10362.486926078796, "training_iteration": 240, "custom_metrics": {"system_level_velocity_min": 8.612384978422002, "cost1_mean": 302.2859772521226, "cost1_max": 423.5540382056985, "system_level_velocity_mean": 11.8651545895577, "outflow_rate_max": 1193.200954257634, "system_level_velocity_max": 15.727253119255492, "outflow_rate_mean": 889.0377264464274, "cost2_mean": -136.76059794748838, "cost2_max": -39.72716805048148, "cost1_min": 45.67771787073072, "outflow_rate_min": 244.35828011533377, "cost2_min": -203.5957952807775}, "episodes_this_iter": 89, "hostname": "flow-main", "pid": 46359, "timesteps_since_restore": 6795942, "policy_reward_mean": {}, "info": {"update_time_ms": 10.549, "default": {"kl": 0.016916297376155853, "cur_lr": 0.0005000000237487257, "vf_loss": 19.956796646118164, "vf_explained_var": 0.8659677505493164, "entropy": 2.5764636993408203, "total_loss": 19.95079231262207, "cur_kl_coeff": 0.44999998807907104, "policy_loss": -0.01361903641372919}, "sample_time_ms": 27898.639, "num_steps_trained": 28156175, "load_time_ms": 55.697, "grad_time_ms": 39889.366, "num_steps_sampled": 28156175}, "timestamp": 1557369546, "episode_reward_max": 899.5284471990791, "config": {"kl_coeff": 0.2, "lr": 0.0005, "vf_share_layers": false, "num_cpus_per_worker": 1, "local_evaluator_tf_session_args": {"inter_op_parallelism_threads": 8, "intra_op_parallelism_threads": 8}, "num_gpus": 0, "num_gpus_per_worker": 0, "vf_clip_param": 1000000.0, "batch_mode": "truncate_episodes", "num_workers": 60, "tf_session_args": {"inter_op_parallelism_threads": 2, "intra_op_parallelism_threads": 2, "gpu_options": {"allow_growth": true}, "device_count": {"CPU": 1}, "log_device_placement": false, "allow_soft_placement": true}, "custom_resources_per_worker": {}, "train_batch_size": 90000, "num_envs_per_worker": 1, "lambda": 0.97, "sgd_minibatch_size": 128, "input_evaluation": null, "sample_batch_size": 750, "vf_loss_coeff": 1.0, "output_max_file_size": 67108864, "model": {"fcnet_hiddens": [128, 64, 32], "conv_filters": null, "fcnet_activation": "tanh", "custom_options": {}, "dim": 84, "max_seq_len": 20, "custom_preprocessor": null, "zero_mean": true, "custom_model": null, "conv_activation": "relu", "use_lstm": false, "lstm_use_prev_action_reward": false, "free_log_std": false, "framestack": true, "lstm_cell_size": 256, "squash_to_range": false, "channel_major": false, "grayscale": false}, "multiagent": {"policy_mapping_fn": null, "policy_graphs": {}, "policies_to_train": null}, "collect_metrics_timeout": 180, "monitor": false, "horizon": 1500, "log_level": "INFO", "simple_optimizer": false, "clip_rewards": null, "synchronize_filters": true, "kl_target": 0.01, "input": "sampler", "preprocessor_pref": "deepmind", "clip_actions": false, "entropy_coeff": 0.0, "output": null, "num_sgd_iter": 10, "compress_observations": false, "observation_filter": "MeanStdFilter", "env_config": {"run": "PPO", "flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.3,\n            \"eta3\": 0.1,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 10.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 600,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}"}, "sample_async": false, "env": "MultiWaveAttenuationMergePOEnvBufferedObs-v0no_warmup_700m", "optimizer": {}, "lr_schedule": null, "use_gae": true, "callbacks": {"on_sample_end": null, "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7f3065f20128>", "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7f3065f204e0>", "on_train_result": null, "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7f3065f20be0>"}, "gamma": 0.99, "output_compress_columns": ["obs", "new_obs"], "clip_param": 0.3, "num_cpus_for_driver": 1, "straggler_mitigation": false}, "episode_reward_mean": 677.8599750833537}
{"done": false, "date": "2019-05-09_02-40-16", "episodes_total": 17030, "timesteps_this_iter": 177467, "time_this_iter_s": 69.76698708534241, "episode_reward_min": 192.01265383762876, "iterations_since_restore": 41, "time_since_restore": 2749.3317337036133, "experiment_id": "9b178520507b4656ac608c6ff2056ff7", "num_metric_batches_dropped": 0, "episode_len_mean": 732.63, "node_ip": "10.138.0.2", "timesteps_total": 28333642, "time_total_s": 10432.253913164139, "training_iteration": 241, "custom_metrics": {"system_level_velocity_min": 8.85345430386449, "cost1_mean": 313.78404660253744, "cost1_max": 440.5883458155128, "system_level_velocity_mean": 11.7115287326562, "outflow_rate_max": 1233.5168985492621, "system_level_velocity_max": 15.768000444279654, "outflow_rate_mean": 913.4840182356861, "cost2_mean": -144.94897740866358, "cost2_max": -59.688619026837365, "cost1_min": 107.72992858748296, "outflow_rate_min": 413.5158589060288, "cost2_min": -224.28205833754336}, "episodes_this_iter": 88, "hostname": "flow-main", "pid": 46359, "timesteps_since_restore": 6973409, "policy_reward_mean": {}, "info": {"update_time_ms": 10.783, "default": {"kl": 0.016002409160137177, "cur_lr": 0.0005000000237487257, "vf_loss": 20.178133010864258, "vf_explained_var": 0.8639833927154541, "entropy": 2.5550999641418457, "total_loss": 20.17218780517578, "cur_kl_coeff": 0.44999995827674866, "policy_loss": -0.01314585655927658}, "sample_time_ms": 27970.267, "num_steps_trained": 28333642, "load_time_ms": 53.03, "grad_time_ms": 40064.063, "num_steps_sampled": 28333642}, "timestamp": 1557369616, "episode_reward_max": 1049.657645126247, "config": {"kl_coeff": 0.2, "lr": 0.0005, "vf_share_layers": false, "num_cpus_per_worker": 1, "local_evaluator_tf_session_args": {"inter_op_parallelism_threads": 8, "intra_op_parallelism_threads": 8}, "num_gpus": 0, "num_gpus_per_worker": 0, "vf_clip_param": 1000000.0, "batch_mode": "truncate_episodes", "num_workers": 60, "tf_session_args": {"inter_op_parallelism_threads": 2, "intra_op_parallelism_threads": 2, "gpu_options": {"allow_growth": true}, "device_count": {"CPU": 1}, "log_device_placement": false, "allow_soft_placement": true}, "custom_resources_per_worker": {}, "train_batch_size": 90000, "num_envs_per_worker": 1, "lambda": 0.97, "sgd_minibatch_size": 128, "input_evaluation": null, "sample_batch_size": 750, "vf_loss_coeff": 1.0, "output_max_file_size": 67108864, "model": {"fcnet_hiddens": [128, 64, 32], "conv_filters": null, "fcnet_activation": "tanh", "custom_options": {}, "dim": 84, "max_seq_len": 20, "custom_preprocessor": null, "zero_mean": true, "custom_model": null, "conv_activation": "relu", "use_lstm": false, "lstm_use_prev_action_reward": false, "free_log_std": false, "framestack": true, "lstm_cell_size": 256, "squash_to_range": false, "channel_major": false, "grayscale": false}, "multiagent": {"policy_mapping_fn": null, "policy_graphs": {}, "policies_to_train": null}, "collect_metrics_timeout": 180, "monitor": false, "horizon": 1500, "log_level": "INFO", "simple_optimizer": false, "clip_rewards": null, "synchronize_filters": true, "kl_target": 0.01, "input": "sampler", "preprocessor_pref": "deepmind", "clip_actions": false, "entropy_coeff": 0.0, "output": null, "num_sgd_iter": 10, "compress_observations": false, "observation_filter": "MeanStdFilter", "env_config": {"run": "PPO", "flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.3,\n            \"eta3\": 0.1,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 10.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 600,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}"}, "sample_async": false, "env": "MultiWaveAttenuationMergePOEnvBufferedObs-v0no_warmup_700m", "optimizer": {}, "lr_schedule": null, "use_gae": true, "callbacks": {"on_sample_end": null, "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7f3065f20cf8>", "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7f3065f202b0>", "on_train_result": null, "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7f3065f20e80>"}, "gamma": 0.99, "output_compress_columns": ["obs", "new_obs"], "clip_param": 0.3, "num_cpus_for_driver": 1, "straggler_mitigation": false}, "episode_reward_mean": 721.1185397067525}
{"done": false, "date": "2019-05-09_02-41-26", "episodes_total": 17118, "timesteps_this_iter": 174768, "time_this_iter_s": 70.50487852096558, "episode_reward_min": 96.9860362505877, "iterations_since_restore": 42, "time_since_restore": 2819.836612224579, "experiment_id": "9b178520507b4656ac608c6ff2056ff7", "num_metric_batches_dropped": 0, "episode_len_mean": 725.21, "node_ip": "10.138.0.2", "timesteps_total": 28508410, "time_total_s": 10502.758791685104, "training_iteration": 242, "custom_metrics": {"system_level_velocity_min": 9.167978027787854, "cost1_mean": 321.36014678455643, "cost1_max": 445.5511788227085, "system_level_velocity_mean": 12.108917833978667, "outflow_rate_max": 1222.1193445900863, "system_level_velocity_max": 16.077098213084422, "outflow_rate_mean": 933.9651137566734, "cost2_mean": -142.6250642202399, "cost2_max": -57.2906250141603, "cost1_min": 62.597185840968855, "outflow_rate_min": 282.8037251768023, "cost2_min": -201.22651945625353}, "episodes_this_iter": 88, "hostname": "flow-main", "pid": 46359, "timesteps_since_restore": 7148177, "policy_reward_mean": {}, "info": {"update_time_ms": 10.73, "default": {"kl": 0.016980769112706184, "cur_lr": 0.0005000000237487257, "vf_loss": 19.702899932861328, "vf_explained_var": 0.8604063987731934, "entropy": 2.545827627182007, "total_loss": 19.696483612060547, "cur_kl_coeff": 0.44999998807907104, "policy_loss": -0.014058860950171947}, "sample_time_ms": 28077.673, "num_steps_trained": 28508410, "load_time_ms": 57.999, "grad_time_ms": 40425.636, "num_steps_sampled": 28508410}, "timestamp": 1557369686, "episode_reward_max": 1049.657645126247, "config": {"kl_coeff": 0.2, "lr": 0.0005, "vf_share_layers": false, "num_cpus_per_worker": 1, "local_evaluator_tf_session_args": {"inter_op_parallelism_threads": 8, "intra_op_parallelism_threads": 8}, "num_gpus": 0, "num_gpus_per_worker": 0, "vf_clip_param": 1000000.0, "batch_mode": "truncate_episodes", "num_workers": 60, "tf_session_args": {"inter_op_parallelism_threads": 2, "intra_op_parallelism_threads": 2, "gpu_options": {"allow_growth": true}, "device_count": {"CPU": 1}, "log_device_placement": false, "allow_soft_placement": true}, "custom_resources_per_worker": {}, "train_batch_size": 90000, "num_envs_per_worker": 1, "lambda": 0.97, "sgd_minibatch_size": 128, "input_evaluation": null, "sample_batch_size": 750, "vf_loss_coeff": 1.0, "output_max_file_size": 67108864, "model": {"fcnet_hiddens": [128, 64, 32], "conv_filters": null, "fcnet_activation": "tanh", "custom_options": {}, "dim": 84, "max_seq_len": 20, "custom_preprocessor": null, "zero_mean": true, "custom_model": null, "conv_activation": "relu", "use_lstm": false, "lstm_use_prev_action_reward": false, "free_log_std": false, "framestack": true, "lstm_cell_size": 256, "squash_to_range": false, "channel_major": false, "grayscale": false}, "multiagent": {"policy_mapping_fn": null, "policy_graphs": {}, "policies_to_train": null}, "collect_metrics_timeout": 180, "monitor": false, "horizon": 1500, "log_level": "INFO", "simple_optimizer": false, "clip_rewards": null, "synchronize_filters": true, "kl_target": 0.01, "input": "sampler", "preprocessor_pref": "deepmind", "clip_actions": false, "entropy_coeff": 0.0, "output": null, "num_sgd_iter": 10, "compress_observations": false, "observation_filter": "MeanStdFilter", "env_config": {"run": "PPO", "flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.3,\n            \"eta3\": 0.1,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 10.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 600,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}"}, "sample_async": false, "env": "MultiWaveAttenuationMergePOEnvBufferedObs-v0no_warmup_700m", "optimizer": {}, "lr_schedule": null, "use_gae": true, "callbacks": {"on_sample_end": null, "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7f3065f20eb8>", "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7f3065f20e48>", "on_train_result": null, "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7f3065f20278>"}, "gamma": 0.99, "output_compress_columns": ["obs", "new_obs"], "clip_param": 0.3, "num_cpus_for_driver": 1, "straggler_mitigation": false}, "episode_reward_mean": 718.2331105959585}
{"done": false, "date": "2019-05-09_02-42-36", "episodes_total": 17205, "timesteps_this_iter": 173688, "time_this_iter_s": 69.86253094673157, "episode_reward_min": 65.96468392159278, "iterations_since_restore": 43, "time_since_restore": 2889.6991431713104, "experiment_id": "9b178520507b4656ac608c6ff2056ff7", "num_metric_batches_dropped": 0, "episode_len_mean": 722.47, "node_ip": "10.138.0.2", "timesteps_total": 28682098, "time_total_s": 10572.621322631836, "training_iteration": 243, "custom_metrics": {"system_level_velocity_min": 9.18683418594461, "cost1_mean": 318.9362635102095, "cost1_max": 425.9425049074879, "system_level_velocity_mean": 12.041412427627442, "outflow_rate_max": 1152.539830979541, "system_level_velocity_max": 15.804244263594507, "outflow_rate_mean": 923.7096487859759, "cost2_mean": -137.34391852453072, "cost2_max": -40.41732805583147, "cost1_min": 47.03042508186376, "outflow_rate_min": 254.19610238245224, "cost2_min": -217.30039954938414}, "episodes_this_iter": 87, "hostname": "flow-main", "pid": 46359, "timesteps_since_restore": 7321865, "policy_reward_mean": {}, "info": {"update_time_ms": 11.049, "default": {"kl": 0.016322441399097443, "cur_lr": 0.0005000000237487257, "vf_loss": 20.106218338012695, "vf_explained_var": 0.8601859211921692, "entropy": 2.5609817504882812, "total_loss": 20.100234985351562, "cur_kl_coeff": 0.44999995827674866, "policy_loss": -0.013329789973795414}, "sample_time_ms": 28101.717, "num_steps_trained": 28682098, "load_time_ms": 63.296, "grad_time_ms": 40731.796, "num_steps_sampled": 28682098}, "timestamp": 1557369756, "episode_reward_max": 913.8702380394355, "config": {"kl_coeff": 0.2, "lr": 0.0005, "vf_share_layers": false, "num_cpus_per_worker": 1, "local_evaluator_tf_session_args": {"inter_op_parallelism_threads": 8, "intra_op_parallelism_threads": 8}, "num_gpus": 0, "num_gpus_per_worker": 0, "vf_clip_param": 1000000.0, "batch_mode": "truncate_episodes", "num_workers": 60, "tf_session_args": {"inter_op_parallelism_threads": 2, "intra_op_parallelism_threads": 2, "gpu_options": {"allow_growth": true}, "device_count": {"CPU": 1}, "log_device_placement": false, "allow_soft_placement": true}, "custom_resources_per_worker": {}, "train_batch_size": 90000, "num_envs_per_worker": 1, "lambda": 0.97, "sgd_minibatch_size": 128, "input_evaluation": null, "sample_batch_size": 750, "vf_loss_coeff": 1.0, "output_max_file_size": 67108864, "model": {"fcnet_hiddens": [128, 64, 32], "conv_filters": null, "fcnet_activation": "tanh", "custom_options": {}, "dim": 84, "max_seq_len": 20, "custom_preprocessor": null, "zero_mean": true, "custom_model": null, "conv_activation": "relu", "use_lstm": false, "lstm_use_prev_action_reward": false, "free_log_std": false, "framestack": true, "lstm_cell_size": 256, "squash_to_range": false, "channel_major": false, "grayscale": false}, "multiagent": {"policy_mapping_fn": null, "policy_graphs": {}, "policies_to_train": null}, "collect_metrics_timeout": 180, "monitor": false, "horizon": 1500, "log_level": "INFO", "simple_optimizer": false, "clip_rewards": null, "synchronize_filters": true, "kl_target": 0.01, "input": "sampler", "preprocessor_pref": "deepmind", "clip_actions": false, "entropy_coeff": 0.0, "output": null, "num_sgd_iter": 10, "compress_observations": false, "observation_filter": "MeanStdFilter", "env_config": {"run": "PPO", "flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.3,\n            \"eta3\": 0.1,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 10.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 600,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}"}, "sample_async": false, "env": "MultiWaveAttenuationMergePOEnvBufferedObs-v0no_warmup_700m", "optimizer": {}, "lr_schedule": null, "use_gae": true, "callbacks": {"on_sample_end": null, "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7f3065ef8eb8>", "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7f3065ef8550>", "on_train_result": null, "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7f3065ef87b8>"}, "gamma": 0.99, "output_compress_columns": ["obs", "new_obs"], "clip_param": 0.3, "num_cpus_for_driver": 1, "straggler_mitigation": false}, "episode_reward_mean": 715.4340029866025}
{"done": false, "date": "2019-05-09_02-43-43", "episodes_total": 17293, "timesteps_this_iter": 169212, "time_this_iter_s": 66.31651782989502, "episode_reward_min": 163.05228226074868, "iterations_since_restore": 44, "time_since_restore": 2956.0156610012054, "experiment_id": "9b178520507b4656ac608c6ff2056ff7", "num_metric_batches_dropped": 0, "episode_len_mean": 726.02, "node_ip": "10.138.0.2", "timesteps_total": 28851310, "time_total_s": 10638.937840461731, "training_iteration": 244, "custom_metrics": {"system_level_velocity_min": 9.037096383458788, "cost1_mean": 320.40738232813726, "cost1_max": 436.5125980000966, "system_level_velocity_mean": 12.048173084460473, "outflow_rate_max": 1223.2742489103657, "system_level_velocity_max": 15.450263417941803, "outflow_rate_mean": 926.6309661914489, "cost2_mean": -139.12275086186898, "cost2_max": -40.41732805583147, "cost1_min": 91.33903800571997, "outflow_rate_min": 387.1789460668038, "cost2_min": -215.5435419051955}, "episodes_this_iter": 88, "hostname": "flow-main", "pid": 46359, "timesteps_since_restore": 7491077, "policy_reward_mean": {}, "info": {"update_time_ms": 10.991, "default": {"kl": 0.016685547307133675, "cur_lr": 0.0005000000237487257, "vf_loss": 20.26279640197754, "vf_explained_var": 0.8541174530982971, "entropy": 2.5370676517486572, "total_loss": 20.256372451782227, "cur_kl_coeff": 0.45000001788139343, "policy_loss": -0.013933270238339901}, "sample_time_ms": 27956.121, "num_steps_trained": 28851310, "load_time_ms": 63.529, "grad_time_ms": 40385.425, "num_steps_sampled": 28851310}, "timestamp": 1557369823, "episode_reward_max": 1016.0656822892224, "config": {"kl_coeff": 0.2, "lr": 0.0005, "vf_share_layers": false, "num_cpus_per_worker": 1, "local_evaluator_tf_session_args": {"inter_op_parallelism_threads": 8, "intra_op_parallelism_threads": 8}, "num_gpus": 0, "num_gpus_per_worker": 0, "vf_clip_param": 1000000.0, "batch_mode": "truncate_episodes", "num_workers": 60, "tf_session_args": {"inter_op_parallelism_threads": 2, "intra_op_parallelism_threads": 2, "gpu_options": {"allow_growth": true}, "device_count": {"CPU": 1}, "log_device_placement": false, "allow_soft_placement": true}, "custom_resources_per_worker": {}, "train_batch_size": 90000, "num_envs_per_worker": 1, "lambda": 0.97, "sgd_minibatch_size": 128, "input_evaluation": null, "sample_batch_size": 750, "vf_loss_coeff": 1.0, "output_max_file_size": 67108864, "model": {"fcnet_hiddens": [128, 64, 32], "conv_filters": null, "fcnet_activation": "tanh", "custom_options": {}, "dim": 84, "max_seq_len": 20, "custom_preprocessor": null, "zero_mean": true, "custom_model": null, "conv_activation": "relu", "use_lstm": false, "lstm_use_prev_action_reward": false, "free_log_std": false, "framestack": true, "lstm_cell_size": 256, "squash_to_range": false, "channel_major": false, "grayscale": false}, "multiagent": {"policy_mapping_fn": null, "policy_graphs": {}, "policies_to_train": null}, "collect_metrics_timeout": 180, "monitor": false, "horizon": 1500, "log_level": "INFO", "simple_optimizer": false, "clip_rewards": null, "synchronize_filters": true, "kl_target": 0.01, "input": "sampler", "preprocessor_pref": "deepmind", "clip_actions": false, "entropy_coeff": 0.0, "output": null, "num_sgd_iter": 10, "compress_observations": false, "observation_filter": "MeanStdFilter", "env_config": {"run": "PPO", "flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.3,\n            \"eta3\": 0.1,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 10.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 600,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}"}, "sample_async": false, "env": "MultiWaveAttenuationMergePOEnvBufferedObs-v0no_warmup_700m", "optimizer": {}, "lr_schedule": null, "use_gae": true, "callbacks": {"on_sample_end": null, "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7f3065f20898>", "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7f3065f20978>", "on_train_result": null, "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7f3065f20860>"}, "gamma": 0.99, "output_compress_columns": ["obs", "new_obs"], "clip_param": 0.3, "num_cpus_for_driver": 1, "straggler_mitigation": false}, "episode_reward_mean": 721.3707735262074}
{"done": false, "date": "2019-05-09_02-44-49", "episodes_total": 17379, "timesteps_this_iter": 171951, "time_this_iter_s": 66.6007342338562, "episode_reward_min": 197.68124315254389, "iterations_since_restore": 45, "time_since_restore": 3022.6163952350616, "experiment_id": "9b178520507b4656ac608c6ff2056ff7", "num_metric_batches_dropped": 0, "episode_len_mean": 741.0, "node_ip": "10.138.0.2", "timesteps_total": 29023261, "time_total_s": 10705.538574695587, "training_iteration": 245, "custom_metrics": {"system_level_velocity_min": 8.298420956900205, "cost1_mean": 330.23362744923287, "cost1_max": 440.3188743374021, "system_level_velocity_mean": 12.16120566510672, "outflow_rate_max": 1228.2309055941887, "system_level_velocity_max": 15.777751549660179, "outflow_rate_mean": 953.6994369494669, "cost2_mean": -142.9208037309116, "cost2_max": -63.79347312319756, "cost1_min": 113.35224464612097, "outflow_rate_min": 429.2726124159236, "cost2_min": -217.04913145738757}, "episodes_this_iter": 86, "hostname": "flow-main", "pid": 46359, "timesteps_since_restore": 7663028, "policy_reward_mean": {}, "info": {"update_time_ms": 10.774, "default": {"kl": 0.017105625942349434, "cur_lr": 0.0005000000237487257, "vf_loss": 21.07642936706543, "vf_explained_var": 0.8452700972557068, "entropy": 2.5608224868774414, "total_loss": 21.070363998413086, "cur_kl_coeff": 0.44999998807907104, "policy_loss": -0.01376158557832241}, "sample_time_ms": 27992.254, "num_steps_trained": 29023261, "load_time_ms": 64.204, "grad_time_ms": 40263.428, "num_steps_sampled": 29023261}, "timestamp": 1557369889, "episode_reward_max": 922.2991012700181, "config": {"kl_coeff": 0.2, "lr": 0.0005, "vf_share_layers": false, "num_cpus_per_worker": 1, "local_evaluator_tf_session_args": {"inter_op_parallelism_threads": 8, "intra_op_parallelism_threads": 8}, "num_gpus": 0, "num_gpus_per_worker": 0, "vf_clip_param": 1000000.0, "batch_mode": "truncate_episodes", "num_workers": 60, "tf_session_args": {"inter_op_parallelism_threads": 2, "intra_op_parallelism_threads": 2, "gpu_options": {"allow_growth": true}, "device_count": {"CPU": 1}, "log_device_placement": false, "allow_soft_placement": true}, "custom_resources_per_worker": {}, "train_batch_size": 90000, "num_envs_per_worker": 1, "lambda": 0.97, "sgd_minibatch_size": 128, "input_evaluation": null, "sample_batch_size": 750, "vf_loss_coeff": 1.0, "output_max_file_size": 67108864, "model": {"fcnet_hiddens": [128, 64, 32], "conv_filters": null, "fcnet_activation": "tanh", "custom_options": {}, "dim": 84, "max_seq_len": 20, "custom_preprocessor": null, "zero_mean": true, "custom_model": null, "conv_activation": "relu", "use_lstm": false, "lstm_use_prev_action_reward": false, "free_log_std": false, "framestack": true, "lstm_cell_size": 256, "squash_to_range": false, "channel_major": false, "grayscale": false}, "multiagent": {"policy_mapping_fn": null, "policy_graphs": {}, "policies_to_train": null}, "collect_metrics_timeout": 180, "monitor": false, "horizon": 1500, "log_level": "INFO", "simple_optimizer": false, "clip_rewards": null, "synchronize_filters": true, "kl_target": 0.01, "input": "sampler", "preprocessor_pref": "deepmind", "clip_actions": false, "entropy_coeff": 0.0, "output": null, "num_sgd_iter": 10, "compress_observations": false, "observation_filter": "MeanStdFilter", "env_config": {"run": "PPO", "flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.3,\n            \"eta3\": 0.1,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 10.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 600,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}"}, "sample_async": false, "env": "MultiWaveAttenuationMergePOEnvBufferedObs-v0no_warmup_700m", "optimizer": {}, "lr_schedule": null, "use_gae": true, "callbacks": {"on_sample_end": null, "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7f3065ef8a20>", "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7f3065ef8978>", "on_train_result": null, "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7f3065ef8c50>"}, "gamma": 0.99, "output_compress_columns": ["obs", "new_obs"], "clip_param": 0.3, "num_cpus_for_driver": 1, "straggler_mitigation": false}, "episode_reward_mean": 739.21189119962}
{"done": false, "date": "2019-05-09_02-45-58", "episodes_total": 17472, "timesteps_this_iter": 171875, "time_this_iter_s": 68.17011332511902, "episode_reward_min": 59.516350978270104, "iterations_since_restore": 46, "time_since_restore": 3090.7865085601807, "experiment_id": "9b178520507b4656ac608c6ff2056ff7", "num_metric_batches_dropped": 0, "episode_len_mean": 711.32, "node_ip": "10.138.0.2", "timesteps_total": 29195136, "time_total_s": 10773.708688020706, "training_iteration": 246, "custom_metrics": {"system_level_velocity_min": 8.298420956900205, "cost1_mean": 313.6294083264788, "cost1_max": 449.38299718845326, "system_level_velocity_mean": 12.012950716543727, "outflow_rate_max": 1232.2164018119372, "system_level_velocity_max": 16.139437354766795, "outflow_rate_mean": 911.3951049272364, "cost2_mean": -137.5057171212158, "cost2_max": -40.40737573466973, "cost1_min": 46.30595005290026, "outflow_rate_min": 243.98313535954216, "cost2_min": -216.53481489357273}, "episodes_this_iter": 93, "hostname": "flow-main", "pid": 46359, "timesteps_since_restore": 7834903, "policy_reward_mean": {}, "info": {"update_time_ms": 10.69, "default": {"kl": 0.01695169322192669, "cur_lr": 0.0005000000237487257, "vf_loss": 20.918190002441406, "vf_explained_var": 0.851334273815155, "entropy": 2.5617802143096924, "total_loss": 20.912216186523438, "cur_kl_coeff": 0.44999995827674866, "policy_loss": -0.01360048446804285}, "sample_time_ms": 28066.127, "num_steps_trained": 29195136, "load_time_ms": 64.502, "grad_time_ms": 40196.468, "num_steps_sampled": 29195136}, "timestamp": 1557369958, "episode_reward_max": 989.9157431016249, "config": {"kl_coeff": 0.2, "lr": 0.0005, "vf_share_layers": false, "num_cpus_per_worker": 1, "local_evaluator_tf_session_args": {"inter_op_parallelism_threads": 8, "intra_op_parallelism_threads": 8}, "num_gpus": 0, "num_gpus_per_worker": 0, "vf_clip_param": 1000000.0, "batch_mode": "truncate_episodes", "num_workers": 60, "tf_session_args": {"inter_op_parallelism_threads": 2, "intra_op_parallelism_threads": 2, "gpu_options": {"allow_growth": true}, "device_count": {"CPU": 1}, "log_device_placement": false, "allow_soft_placement": true}, "custom_resources_per_worker": {}, "train_batch_size": 90000, "num_envs_per_worker": 1, "lambda": 0.97, "sgd_minibatch_size": 128, "input_evaluation": null, "sample_batch_size": 750, "vf_loss_coeff": 1.0, "output_max_file_size": 67108864, "model": {"fcnet_hiddens": [128, 64, 32], "conv_filters": null, "fcnet_activation": "tanh", "custom_options": {}, "dim": 84, "max_seq_len": 20, "custom_preprocessor": null, "zero_mean": true, "custom_model": null, "conv_activation": "relu", "use_lstm": false, "lstm_use_prev_action_reward": false, "free_log_std": false, "framestack": true, "lstm_cell_size": 256, "squash_to_range": false, "channel_major": false, "grayscale": false}, "multiagent": {"policy_mapping_fn": null, "policy_graphs": {}, "policies_to_train": null}, "collect_metrics_timeout": 180, "monitor": false, "horizon": 1500, "log_level": "INFO", "simple_optimizer": false, "clip_rewards": null, "synchronize_filters": true, "kl_target": 0.01, "input": "sampler", "preprocessor_pref": "deepmind", "clip_actions": false, "entropy_coeff": 0.0, "output": null, "num_sgd_iter": 10, "compress_observations": false, "observation_filter": "MeanStdFilter", "env_config": {"run": "PPO", "flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.3,\n            \"eta3\": 0.1,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 10.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 600,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}"}, "sample_async": false, "env": "MultiWaveAttenuationMergePOEnvBufferedObs-v0no_warmup_700m", "optimizer": {}, "lr_schedule": null, "use_gae": true, "callbacks": {"on_sample_end": null, "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7f3065f20f98>", "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7f3065f20ba8>", "on_train_result": null, "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7f3065f200b8>"}, "gamma": 0.99, "output_compress_columns": ["obs", "new_obs"], "clip_param": 0.3, "num_cpus_for_driver": 1, "straggler_mitigation": false}, "episode_reward_mean": 705.5352061234694}
{"done": false, "date": "2019-05-09_02-47-04", "episodes_total": 17560, "timesteps_this_iter": 168834, "time_this_iter_s": 66.21049094200134, "episode_reward_min": 59.79883985455944, "iterations_since_restore": 47, "time_since_restore": 3156.996999502182, "experiment_id": "9b178520507b4656ac608c6ff2056ff7", "num_metric_batches_dropped": 0, "episode_len_mean": 739.21, "node_ip": "10.138.0.2", "timesteps_total": 29363970, "time_total_s": 10839.919178962708, "training_iteration": 247, "custom_metrics": {"system_level_velocity_min": 8.81195036263178, "cost1_mean": 334.0650055578757, "cost1_max": 459.9200528265044, "system_level_velocity_mean": 12.28146023703184, "outflow_rate_max": 1232.2164018119372, "system_level_velocity_max": 16.262090447558318, "outflow_rate_mean": 949.8772642691091, "cost2_mean": -141.09932874865055, "cost2_max": -47.17310540726791, "cost1_min": 44.709443537142725, "outflow_rate_min": 242.05043394610146, "cost2_min": -216.53481489357273}, "episodes_this_iter": 88, "hostname": "flow-main", "pid": 46359, "timesteps_since_restore": 8003737, "policy_reward_mean": {}, "info": {"update_time_ms": 10.574, "default": {"kl": 0.017361193895339966, "cur_lr": 0.0005000000237487257, "vf_loss": 21.682723999023438, "vf_explained_var": 0.8229802846908569, "entropy": 2.509082555770874, "total_loss": 21.6767635345459, "cur_kl_coeff": 0.4500000476837158, "policy_loss": -0.013773208484053612}, "sample_time_ms": 28014.557, "num_steps_trained": 29363970, "load_time_ms": 62.75, "grad_time_ms": 39987.556, "num_steps_sampled": 29363970}, "timestamp": 1557370024, "episode_reward_max": 1043.2817154682884, "config": {"kl_coeff": 0.2, "lr": 0.0005, "vf_share_layers": false, "num_cpus_per_worker": 1, "local_evaluator_tf_session_args": {"inter_op_parallelism_threads": 8, "intra_op_parallelism_threads": 8}, "num_gpus": 0, "num_gpus_per_worker": 0, "vf_clip_param": 1000000.0, "batch_mode": "truncate_episodes", "num_workers": 60, "tf_session_args": {"inter_op_parallelism_threads": 2, "intra_op_parallelism_threads": 2, "gpu_options": {"allow_growth": true}, "device_count": {"CPU": 1}, "log_device_placement": false, "allow_soft_placement": true}, "custom_resources_per_worker": {}, "train_batch_size": 90000, "num_envs_per_worker": 1, "lambda": 0.97, "sgd_minibatch_size": 128, "input_evaluation": null, "sample_batch_size": 750, "vf_loss_coeff": 1.0, "output_max_file_size": 67108864, "model": {"fcnet_hiddens": [128, 64, 32], "conv_filters": null, "fcnet_activation": "tanh", "custom_options": {}, "dim": 84, "max_seq_len": 20, "custom_preprocessor": null, "zero_mean": true, "custom_model": null, "conv_activation": "relu", "use_lstm": false, "lstm_use_prev_action_reward": false, "free_log_std": false, "framestack": true, "lstm_cell_size": 256, "squash_to_range": false, "channel_major": false, "grayscale": false}, "multiagent": {"policy_mapping_fn": null, "policy_graphs": {}, "policies_to_train": null}, "collect_metrics_timeout": 180, "monitor": false, "horizon": 1500, "log_level": "INFO", "simple_optimizer": false, "clip_rewards": null, "synchronize_filters": true, "kl_target": 0.01, "input": "sampler", "preprocessor_pref": "deepmind", "clip_actions": false, "entropy_coeff": 0.0, "output": null, "num_sgd_iter": 10, "compress_observations": false, "observation_filter": "MeanStdFilter", "env_config": {"run": "PPO", "flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.3,\n            \"eta3\": 0.1,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 10.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 600,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}"}, "sample_async": false, "env": "MultiWaveAttenuationMergePOEnvBufferedObs-v0no_warmup_700m", "optimizer": {}, "lr_schedule": null, "use_gae": true, "callbacks": {"on_sample_end": null, "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7f3065f20588>", "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7f3065f20390>", "on_train_result": null, "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7f3065f20dd8>"}, "gamma": 0.99, "output_compress_columns": ["obs", "new_obs"], "clip_param": 0.3, "num_cpus_for_driver": 1, "straggler_mitigation": false}, "episode_reward_mean": 753.0207942874314}
{"done": false, "date": "2019-05-09_02-48-15", "episodes_total": 17650, "timesteps_this_iter": 174152, "time_this_iter_s": 70.6112117767334, "episode_reward_min": 64.96869857887083, "iterations_since_restore": 48, "time_since_restore": 3227.6082112789154, "experiment_id": "9b178520507b4656ac608c6ff2056ff7", "num_metric_batches_dropped": 0, "episode_len_mean": 721.41, "node_ip": "10.138.0.2", "timesteps_total": 29538122, "time_total_s": 10910.530390739441, "training_iteration": 248, "custom_metrics": {"system_level_velocity_min": 8.722189694750849, "cost1_mean": 318.0293893699279, "cost1_max": 475.2219571091332, "system_level_velocity_mean": 12.059001665052701, "outflow_rate_max": 1247.228552729484, "system_level_velocity_max": 17.098041989509074, "outflow_rate_mean": 916.9981888594527, "cost2_mean": -137.78730708746556, "cost2_max": -54.96578545631171, "cost1_min": 47.93080675938978, "outflow_rate_min": 249.6496565442717, "cost2_min": -235.86055809259767}, "episodes_this_iter": 90, "hostname": "flow-main", "pid": 46359, "timesteps_since_restore": 8177889, "policy_reward_mean": {}, "info": {"update_time_ms": 10.924, "default": {"kl": 0.01650194078683853, "cur_lr": 0.0005000000237487257, "vf_loss": 20.428922653198242, "vf_explained_var": 0.8418174982070923, "entropy": 2.556565523147583, "total_loss": 20.422727584838867, "cur_kl_coeff": 0.44999998807907104, "policy_loss": -0.013620570302009583}, "sample_time_ms": 28041.899, "num_steps_trained": 29538122, "load_time_ms": 64.359, "grad_time_ms": 40311.726, "num_steps_sampled": 29538122}, "timestamp": 1557370095, "episode_reward_max": 948.3488784972831, "config": {"kl_coeff": 0.2, "lr": 0.0005, "vf_share_layers": false, "num_cpus_per_worker": 1, "local_evaluator_tf_session_args": {"inter_op_parallelism_threads": 8, "intra_op_parallelism_threads": 8}, "num_gpus": 0, "num_gpus_per_worker": 0, "vf_clip_param": 1000000.0, "batch_mode": "truncate_episodes", "num_workers": 60, "tf_session_args": {"inter_op_parallelism_threads": 2, "intra_op_parallelism_threads": 2, "gpu_options": {"allow_growth": true}, "device_count": {"CPU": 1}, "log_device_placement": false, "allow_soft_placement": true}, "custom_resources_per_worker": {}, "train_batch_size": 90000, "num_envs_per_worker": 1, "lambda": 0.97, "sgd_minibatch_size": 128, "input_evaluation": null, "sample_batch_size": 750, "vf_loss_coeff": 1.0, "output_max_file_size": 67108864, "model": {"fcnet_hiddens": [128, 64, 32], "conv_filters": null, "fcnet_activation": "tanh", "custom_options": {}, "dim": 84, "max_seq_len": 20, "custom_preprocessor": null, "zero_mean": true, "custom_model": null, "conv_activation": "relu", "use_lstm": false, "lstm_use_prev_action_reward": false, "free_log_std": false, "framestack": true, "lstm_cell_size": 256, "squash_to_range": false, "channel_major": false, "grayscale": false}, "multiagent": {"policy_mapping_fn": null, "policy_graphs": {}, "policies_to_train": null}, "collect_metrics_timeout": 180, "monitor": false, "horizon": 1500, "log_level": "INFO", "simple_optimizer": false, "clip_rewards": null, "synchronize_filters": true, "kl_target": 0.01, "input": "sampler", "preprocessor_pref": "deepmind", "clip_actions": false, "entropy_coeff": 0.0, "output": null, "num_sgd_iter": 10, "compress_observations": false, "observation_filter": "MeanStdFilter", "env_config": {"run": "PPO", "flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.3,\n            \"eta3\": 0.1,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 10.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 600,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}"}, "sample_async": false, "env": "MultiWaveAttenuationMergePOEnvBufferedObs-v0no_warmup_700m", "optimizer": {}, "lr_schedule": null, "use_gae": true, "callbacks": {"on_sample_end": null, "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7f3065ef8a20>", "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7f3065f203c8>", "on_train_result": null, "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7f3065f20ac8>"}, "gamma": 0.99, "output_compress_columns": ["obs", "new_obs"], "clip_param": 0.3, "num_cpus_for_driver": 1, "straggler_mitigation": false}, "episode_reward_mean": 718.4119757666965}
{"done": false, "date": "2019-05-09_02-49-24", "episodes_total": 17735, "timesteps_this_iter": 177695, "time_this_iter_s": 69.34270095825195, "episode_reward_min": 60.42570038344655, "iterations_since_restore": 49, "time_since_restore": 3296.9509122371674, "experiment_id": "9b178520507b4656ac608c6ff2056ff7", "num_metric_batches_dropped": 0, "episode_len_mean": 738.91, "node_ip": "10.138.0.2", "timesteps_total": 29715817, "time_total_s": 10979.873091697693, "training_iteration": 249, "custom_metrics": {"system_level_velocity_min": 8.722189694750849, "cost1_mean": 319.72638423412116, "cost1_max": 442.4379184793231, "system_level_velocity_mean": 11.753975913512857, "outflow_rate_max": 1231.0338374527323, "system_level_velocity_max": 15.793850926131567, "outflow_rate_mean": 930.3194529126362, "cost2_mean": -144.2594369305165, "cost2_max": -44.13256856246937, "cost1_min": 45.584946816328184, "outflow_rate_min": 243.581279338333, "cost2_min": -209.80014904620128}, "episodes_this_iter": 85, "hostname": "flow-main", "pid": 46359, "timesteps_since_restore": 8355584, "policy_reward_mean": {}, "info": {"update_time_ms": 11.191, "default": {"kl": 0.016395162791013718, "cur_lr": 0.0005000000237487257, "vf_loss": 18.154640197753906, "vf_explained_var": 0.8565747737884521, "entropy": 2.5775434970855713, "total_loss": 18.149524688720703, "cur_kl_coeff": 0.44999998807907104, "policy_loss": -0.012496321462094784}, "sample_time_ms": 28060.724, "num_steps_trained": 29715817, "load_time_ms": 67.751, "grad_time_ms": 40379.037, "num_steps_sampled": 29715817}, "timestamp": 1557370164, "episode_reward_max": 1006.9338175851759, "config": {"kl_coeff": 0.2, "lr": 0.0005, "vf_share_layers": false, "num_cpus_per_worker": 1, "local_evaluator_tf_session_args": {"inter_op_parallelism_threads": 8, "intra_op_parallelism_threads": 8}, "num_gpus": 0, "num_gpus_per_worker": 0, "vf_clip_param": 1000000.0, "batch_mode": "truncate_episodes", "num_workers": 60, "tf_session_args": {"inter_op_parallelism_threads": 2, "intra_op_parallelism_threads": 2, "gpu_options": {"allow_growth": true}, "device_count": {"CPU": 1}, "log_device_placement": false, "allow_soft_placement": true}, "custom_resources_per_worker": {}, "train_batch_size": 90000, "num_envs_per_worker": 1, "lambda": 0.97, "sgd_minibatch_size": 128, "input_evaluation": null, "sample_batch_size": 750, "vf_loss_coeff": 1.0, "output_max_file_size": 67108864, "model": {"fcnet_hiddens": [128, 64, 32], "conv_filters": null, "fcnet_activation": "tanh", "custom_options": {}, "dim": 84, "max_seq_len": 20, "custom_preprocessor": null, "zero_mean": true, "custom_model": null, "conv_activation": "relu", "use_lstm": false, "lstm_use_prev_action_reward": false, "free_log_std": false, "framestack": true, "lstm_cell_size": 256, "squash_to_range": false, "channel_major": false, "grayscale": false}, "multiagent": {"policy_mapping_fn": null, "policy_graphs": {}, "policies_to_train": null}, "collect_metrics_timeout": 180, "monitor": false, "horizon": 1500, "log_level": "INFO", "simple_optimizer": false, "clip_rewards": null, "synchronize_filters": true, "kl_target": 0.01, "input": "sampler", "preprocessor_pref": "deepmind", "clip_actions": false, "entropy_coeff": 0.0, "output": null, "num_sgd_iter": 10, "compress_observations": false, "observation_filter": "MeanStdFilter", "env_config": {"run": "PPO", "flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.3,\n            \"eta3\": 0.1,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 10.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 600,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}"}, "sample_async": false, "env": "MultiWaveAttenuationMergePOEnvBufferedObs-v0no_warmup_700m", "optimizer": {}, "lr_schedule": null, "use_gae": true, "callbacks": {"on_sample_end": null, "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7f3065f20dd8>", "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7f3065f20588>", "on_train_result": null, "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7f3065f20390>"}, "gamma": 0.99, "output_compress_columns": ["obs", "new_obs"], "clip_param": 0.3, "num_cpus_for_driver": 1, "straggler_mitigation": false}, "episode_reward_mean": 734.0569780911101}
{"done": false, "date": "2019-05-09_02-50-30", "episodes_total": 17824, "timesteps_this_iter": 172076, "time_this_iter_s": 66.41529607772827, "episode_reward_min": 116.33056550170483, "iterations_since_restore": 50, "time_since_restore": 3363.3662083148956, "experiment_id": "9b178520507b4656ac608c6ff2056ff7", "num_metric_batches_dropped": 0, "episode_len_mean": 738.76, "node_ip": "10.138.0.2", "timesteps_total": 29887893, "time_total_s": 11046.288387775421, "training_iteration": 250, "custom_metrics": {"system_level_velocity_min": 8.180097595719907, "cost1_mean": 321.05788515195457, "cost1_max": 467.20374965910486, "system_level_velocity_mean": 11.862679634940562, "outflow_rate_max": 1237.2862326536153, "system_level_velocity_max": 16.52390485473435, "outflow_rate_mean": 926.5754691802982, "cost2_mean": -136.84936920502128, "cost2_max": -51.497944815088054, "cost1_min": 71.37734051756493, "outflow_rate_min": 302.1001082051711, "cost2_min": -209.60919772281525}, "episodes_this_iter": 89, "hostname": "flow-main", "pid": 46359, "timesteps_since_restore": 8527660, "policy_reward_mean": {}, "info": {"update_time_ms": 11.625, "default": {"kl": 0.016460251063108444, "cur_lr": 0.0005000000237487257, "vf_loss": 19.150386810302734, "vf_explained_var": 0.8500856757164001, "entropy": 2.5887234210968018, "total_loss": 19.144033432006836, "cur_kl_coeff": 0.44999998807907104, "policy_loss": -0.013763061724603176}, "sample_time_ms": 27959.567, "num_steps_trained": 29887893, "load_time_ms": 63.543, "grad_time_ms": 40006.361, "num_steps_sampled": 29887893}, "timestamp": 1557370230, "episode_reward_max": 1001.075258239151, "config": {"kl_coeff": 0.2, "lr": 0.0005, "vf_share_layers": false, "num_cpus_per_worker": 1, "local_evaluator_tf_session_args": {"inter_op_parallelism_threads": 8, "intra_op_parallelism_threads": 8}, "num_gpus": 0, "num_gpus_per_worker": 0, "vf_clip_param": 1000000.0, "batch_mode": "truncate_episodes", "num_workers": 60, "tf_session_args": {"inter_op_parallelism_threads": 2, "intra_op_parallelism_threads": 2, "gpu_options": {"allow_growth": true}, "device_count": {"CPU": 1}, "log_device_placement": false, "allow_soft_placement": true}, "custom_resources_per_worker": {}, "train_batch_size": 90000, "num_envs_per_worker": 1, "lambda": 0.97, "sgd_minibatch_size": 128, "input_evaluation": null, "sample_batch_size": 750, "vf_loss_coeff": 1.0, "output_max_file_size": 67108864, "model": {"fcnet_hiddens": [128, 64, 32], "conv_filters": null, "fcnet_activation": "tanh", "custom_options": {}, "dim": 84, "max_seq_len": 20, "custom_preprocessor": null, "zero_mean": true, "custom_model": null, "conv_activation": "relu", "use_lstm": false, "lstm_use_prev_action_reward": false, "free_log_std": false, "framestack": true, "lstm_cell_size": 256, "squash_to_range": false, "channel_major": false, "grayscale": false}, "multiagent": {"policy_mapping_fn": null, "policy_graphs": {}, "policies_to_train": null}, "collect_metrics_timeout": 180, "monitor": false, "horizon": 1500, "log_level": "INFO", "simple_optimizer": false, "clip_rewards": null, "synchronize_filters": true, "kl_target": 0.01, "input": "sampler", "preprocessor_pref": "deepmind", "clip_actions": false, "entropy_coeff": 0.0, "output": null, "num_sgd_iter": 10, "compress_observations": false, "observation_filter": "MeanStdFilter", "env_config": {"run": "PPO", "flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.3,\n            \"eta3\": 0.1,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 10.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 600,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}"}, "sample_async": false, "env": "MultiWaveAttenuationMergePOEnvBufferedObs-v0no_warmup_700m", "optimizer": {}, "lr_schedule": null, "use_gae": true, "callbacks": {"on_sample_end": null, "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7f3065f205f8>", "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7f3065f20e48>", "on_train_result": null, "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7f3065f200f0>"}, "gamma": 0.99, "output_compress_columns": ["obs", "new_obs"], "clip_param": 0.3, "num_cpus_for_driver": 1, "straggler_mitigation": false}, "episode_reward_mean": 735.4267750313951}
{"done": false, "date": "2019-05-09_02-51-39", "episodes_total": 17911, "timesteps_this_iter": 174953, "time_this_iter_s": 68.1251757144928, "episode_reward_min": 54.825325076242294, "iterations_since_restore": 51, "time_since_restore": 3431.4913840293884, "experiment_id": "9b178520507b4656ac608c6ff2056ff7", "num_metric_batches_dropped": 0, "episode_len_mean": 730.22, "node_ip": "10.138.0.2", "timesteps_total": 30062846, "time_total_s": 11114.413563489914, "training_iteration": 251, "custom_metrics": {"system_level_velocity_min": 8.311885945521029, "cost1_mean": 323.61870785215297, "cost1_max": 458.0977125285653, "system_level_velocity_mean": 12.044499771215094, "outflow_rate_max": 1253.4110513557791, "system_level_velocity_max": 16.332474299281223, "outflow_rate_mean": 928.5025442160149, "cost2_mean": -134.93133632321175, "cost2_max": -36.24733439038932, "cost1_min": 42.24998551082298, "outflow_rate_min": 239.1289923562081, "cost2_min": -219.73271652046242}, "episodes_this_iter": 87, "hostname": "flow-main", "pid": 46359, "timesteps_since_restore": 8702613, "policy_reward_mean": {}, "info": {"update_time_ms": 11.661, "default": {"kl": 0.016875553876161575, "cur_lr": 0.0005000000237487257, "vf_loss": 20.046344757080078, "vf_explained_var": 0.852962851524353, "entropy": 2.614871025085449, "total_loss": 20.040569305419922, "cur_kl_coeff": 0.45000001788139343, "policy_loss": -0.01336787361651659}, "sample_time_ms": 27875.339, "num_steps_trained": 30062846, "load_time_ms": 65.999, "grad_time_ms": 39922.425, "num_steps_sampled": 30062846}, "timestamp": 1557370299, "episode_reward_max": 1029.5492106824654, "config": {"kl_coeff": 0.2, "lr": 0.0005, "vf_share_layers": false, "num_cpus_per_worker": 1, "local_evaluator_tf_session_args": {"inter_op_parallelism_threads": 8, "intra_op_parallelism_threads": 8}, "num_gpus": 0, "num_gpus_per_worker": 0, "vf_clip_param": 1000000.0, "batch_mode": "truncate_episodes", "num_workers": 60, "tf_session_args": {"inter_op_parallelism_threads": 2, "intra_op_parallelism_threads": 2, "gpu_options": {"allow_growth": true}, "device_count": {"CPU": 1}, "log_device_placement": false, "allow_soft_placement": true}, "custom_resources_per_worker": {}, "train_batch_size": 90000, "num_envs_per_worker": 1, "lambda": 0.97, "sgd_minibatch_size": 128, "input_evaluation": null, "sample_batch_size": 750, "vf_loss_coeff": 1.0, "output_max_file_size": 67108864, "model": {"fcnet_hiddens": [128, 64, 32], "conv_filters": null, "fcnet_activation": "tanh", "custom_options": {}, "dim": 84, "max_seq_len": 20, "custom_preprocessor": null, "zero_mean": true, "custom_model": null, "conv_activation": "relu", "use_lstm": false, "lstm_use_prev_action_reward": false, "free_log_std": false, "framestack": true, "lstm_cell_size": 256, "squash_to_range": false, "channel_major": false, "grayscale": false}, "multiagent": {"policy_mapping_fn": null, "policy_graphs": {}, "policies_to_train": null}, "collect_metrics_timeout": 180, "monitor": false, "horizon": 1500, "log_level": "INFO", "simple_optimizer": false, "clip_rewards": null, "synchronize_filters": true, "kl_target": 0.01, "input": "sampler", "preprocessor_pref": "deepmind", "clip_actions": false, "entropy_coeff": 0.0, "output": null, "num_sgd_iter": 10, "compress_observations": false, "observation_filter": "MeanStdFilter", "env_config": {"run": "PPO", "flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.3,\n            \"eta3\": 0.1,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 10.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 600,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}"}, "sample_async": false, "env": "MultiWaveAttenuationMergePOEnvBufferedObs-v0no_warmup_700m", "optimizer": {}, "lr_schedule": null, "use_gae": true, "callbacks": {"on_sample_end": null, "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7f3065f124a8>", "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7f3065f128d0>", "on_train_result": null, "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7f3065f12e48>"}, "gamma": 0.99, "output_compress_columns": ["obs", "new_obs"], "clip_param": 0.3, "num_cpus_for_driver": 1, "straggler_mitigation": false}, "episode_reward_mean": 732.9944354879729}
{"done": false, "date": "2019-05-09_02-52-45", "episodes_total": 18002, "timesteps_this_iter": 172006, "time_this_iter_s": 66.19851112365723, "episode_reward_min": 54.825325076242294, "iterations_since_restore": 52, "time_since_restore": 3497.6898951530457, "experiment_id": "9b178520507b4656ac608c6ff2056ff7", "num_metric_batches_dropped": 0, "episode_len_mean": 711.1, "node_ip": "10.138.0.2", "timesteps_total": 30234852, "time_total_s": 11180.612074613571, "training_iteration": 252, "custom_metrics": {"system_level_velocity_min": 8.835338258207381, "cost1_mean": 315.7409609461367, "cost1_max": 448.78159363983013, "system_level_velocity_mean": 12.051049679016165, "outflow_rate_max": 1224.3452350591613, "system_level_velocity_max": 15.798453499232426, "outflow_rate_mean": 913.597141562459, "cost2_mean": -137.29923131497878, "cost2_max": -36.24733439038932, "cost1_min": 42.24998551082298, "outflow_rate_min": 239.1289923562081, "cost2_min": -219.73271652046242}, "episodes_this_iter": 91, "hostname": "flow-main", "pid": 46359, "timesteps_since_restore": 8874619, "policy_reward_mean": {}, "info": {"update_time_ms": 11.591, "default": {"kl": 0.01695987395942211, "cur_lr": 0.0005000000237487257, "vf_loss": 22.04547882080078, "vf_explained_var": 0.836185097694397, "entropy": 2.568906545639038, "total_loss": 22.04022216796875, "cur_kl_coeff": 0.44999998807907104, "policy_loss": -0.012890353798866272}, "sample_time_ms": 27824.193, "num_steps_trained": 30234852, "load_time_ms": 61.84, "grad_time_ms": 39548.708, "num_steps_sampled": 30234852}, "timestamp": 1557370365, "episode_reward_max": 1036.0627595263154, "config": {"kl_coeff": 0.2, "lr": 0.0005, "vf_share_layers": false, "num_cpus_per_worker": 1, "local_evaluator_tf_session_args": {"inter_op_parallelism_threads": 8, "intra_op_parallelism_threads": 8}, "num_gpus": 0, "num_gpus_per_worker": 0, "vf_clip_param": 1000000.0, "batch_mode": "truncate_episodes", "num_workers": 60, "tf_session_args": {"inter_op_parallelism_threads": 2, "intra_op_parallelism_threads": 2, "gpu_options": {"allow_growth": true}, "device_count": {"CPU": 1}, "log_device_placement": false, "allow_soft_placement": true}, "custom_resources_per_worker": {}, "train_batch_size": 90000, "num_envs_per_worker": 1, "lambda": 0.97, "sgd_minibatch_size": 128, "input_evaluation": null, "sample_batch_size": 750, "vf_loss_coeff": 1.0, "output_max_file_size": 67108864, "model": {"fcnet_hiddens": [128, 64, 32], "conv_filters": null, "fcnet_activation": "tanh", "custom_options": {}, "dim": 84, "max_seq_len": 20, "custom_preprocessor": null, "zero_mean": true, "custom_model": null, "conv_activation": "relu", "use_lstm": false, "lstm_use_prev_action_reward": false, "free_log_std": false, "framestack": true, "lstm_cell_size": 256, "squash_to_range": false, "channel_major": false, "grayscale": false}, "multiagent": {"policy_mapping_fn": null, "policy_graphs": {}, "policies_to_train": null}, "collect_metrics_timeout": 180, "monitor": false, "horizon": 1500, "log_level": "INFO", "simple_optimizer": false, "clip_rewards": null, "synchronize_filters": true, "kl_target": 0.01, "input": "sampler", "preprocessor_pref": "deepmind", "clip_actions": false, "entropy_coeff": 0.0, "output": null, "num_sgd_iter": 10, "compress_observations": false, "observation_filter": "MeanStdFilter", "env_config": {"run": "PPO", "flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.3,\n            \"eta3\": 0.1,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 10.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 600,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}"}, "sample_async": false, "env": "MultiWaveAttenuationMergePOEnvBufferedObs-v0no_warmup_700m", "optimizer": {}, "lr_schedule": null, "use_gae": true, "callbacks": {"on_sample_end": null, "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7f3065e25a20>", "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7f3065e25c50>", "on_train_result": null, "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7f3065e25a90>"}, "gamma": 0.99, "output_compress_columns": ["obs", "new_obs"], "clip_param": 0.3, "num_cpus_for_driver": 1, "straggler_mitigation": false}, "episode_reward_mean": 714.9236948850743}
{"done": false, "date": "2019-05-09_02-53-53", "episodes_total": 18089, "timesteps_this_iter": 173139, "time_this_iter_s": 67.55778336524963, "episode_reward_min": 70.89458625615198, "iterations_since_restore": 53, "time_since_restore": 3565.2476785182953, "experiment_id": "9b178520507b4656ac608c6ff2056ff7", "num_metric_batches_dropped": 0, "episode_len_mean": 740.53, "node_ip": "10.138.0.2", "timesteps_total": 30407991, "time_total_s": 11248.16985797882, "training_iteration": 253, "custom_metrics": {"system_level_velocity_min": 8.595024109005545, "cost1_mean": 324.15882498422104, "cost1_max": 453.65644817061127, "system_level_velocity_mean": 11.88256514715451, "outflow_rate_max": 1237.686146857162, "system_level_velocity_max": 15.977777682891407, "outflow_rate_mean": 935.6667944905762, "cost2_mean": -141.99017770408724, "cost2_max": -54.539138121819676, "cost1_min": 51.087005795127595, "outflow_rate_min": 255.58898856534017, "cost2_min": -249.86204279011125}, "episodes_this_iter": 87, "hostname": "flow-main", "pid": 46359, "timesteps_since_restore": 9047758, "policy_reward_mean": {}, "info": {"update_time_ms": 11.322, "default": {"kl": 0.016600601375102997, "cur_lr": 0.0005000000237487257, "vf_loss": 20.501264572143555, "vf_explained_var": 0.8368845582008362, "entropy": 2.59375262260437, "total_loss": 20.495058059692383, "cur_kl_coeff": 0.45000001788139343, "policy_loss": -0.013676975853741169}, "sample_time_ms": 27880.317, "num_steps_trained": 30407991, "load_time_ms": 62.21, "grad_time_ms": 39263.44, "num_steps_sampled": 30407991}, "timestamp": 1557370433, "episode_reward_max": 1030.6265254114871, "config": {"kl_coeff": 0.2, "lr": 0.0005, "vf_share_layers": false, "num_cpus_per_worker": 1, "local_evaluator_tf_session_args": {"inter_op_parallelism_threads": 8, "intra_op_parallelism_threads": 8}, "num_gpus": 0, "num_gpus_per_worker": 0, "vf_clip_param": 1000000.0, "batch_mode": "truncate_episodes", "num_workers": 60, "tf_session_args": {"inter_op_parallelism_threads": 2, "intra_op_parallelism_threads": 2, "gpu_options": {"allow_growth": true}, "device_count": {"CPU": 1}, "log_device_placement": false, "allow_soft_placement": true}, "custom_resources_per_worker": {}, "train_batch_size": 90000, "num_envs_per_worker": 1, "lambda": 0.97, "sgd_minibatch_size": 128, "input_evaluation": null, "sample_batch_size": 750, "vf_loss_coeff": 1.0, "output_max_file_size": 67108864, "model": {"fcnet_hiddens": [128, 64, 32], "conv_filters": null, "fcnet_activation": "tanh", "custom_options": {}, "dim": 84, "max_seq_len": 20, "custom_preprocessor": null, "zero_mean": true, "custom_model": null, "conv_activation": "relu", "use_lstm": false, "lstm_use_prev_action_reward": false, "free_log_std": false, "framestack": true, "lstm_cell_size": 256, "squash_to_range": false, "channel_major": false, "grayscale": false}, "multiagent": {"policy_mapping_fn": null, "policy_graphs": {}, "policies_to_train": null}, "collect_metrics_timeout": 180, "monitor": false, "horizon": 1500, "log_level": "INFO", "simple_optimizer": false, "clip_rewards": null, "synchronize_filters": true, "kl_target": 0.01, "input": "sampler", "preprocessor_pref": "deepmind", "clip_actions": false, "entropy_coeff": 0.0, "output": null, "num_sgd_iter": 10, "compress_observations": false, "observation_filter": "MeanStdFilter", "env_config": {"run": "PPO", "flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.3,\n            \"eta3\": 0.1,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 10.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 600,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}"}, "sample_async": false, "env": "MultiWaveAttenuationMergePOEnvBufferedObs-v0no_warmup_700m", "optimizer": {}, "lr_schedule": null, "use_gae": true, "callbacks": {"on_sample_end": null, "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7f3065f12320>", "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7f3065f12c18>", "on_train_result": null, "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7f3065f12198>"}, "gamma": 0.99, "output_compress_columns": ["obs", "new_obs"], "clip_param": 0.3, "num_cpus_for_driver": 1, "straggler_mitigation": false}, "episode_reward_mean": 736.7052561704666}
{"done": false, "date": "2019-05-09_02-55-01", "episodes_total": 18176, "timesteps_this_iter": 176532, "time_this_iter_s": 68.74726271629333, "episode_reward_min": 318.80130326231193, "iterations_since_restore": 54, "time_since_restore": 3633.9949412345886, "experiment_id": "9b178520507b4656ac608c6ff2056ff7", "num_metric_batches_dropped": 0, "episode_len_mean": 738.45, "node_ip": "10.138.0.2", "timesteps_total": 30584523, "time_total_s": 11316.917120695114, "training_iteration": 254, "custom_metrics": {"system_level_velocity_min": 9.036126193639694, "cost1_mean": 322.44413156038786, "cost1_max": 450.1419810482464, "system_level_velocity_mean": 11.901408244290216, "outflow_rate_max": 1242.5197896308732, "system_level_velocity_max": 16.085116988943515, "outflow_rate_mean": 937.8815119317472, "cost2_mean": -147.1911917188227, "cost2_max": -56.74994622617457, "cost1_min": 162.90721419626476, "outflow_rate_min": 536.072849964641, "cost2_min": -228.90893913556005}, "episodes_this_iter": 87, "hostname": "flow-main", "pid": 46359, "timesteps_since_restore": 9224290, "policy_reward_mean": {}, "info": {"update_time_ms": 11.258, "default": {"kl": 0.016668472439050674, "cur_lr": 0.0005000000237487257, "vf_loss": 21.053590774536133, "vf_explained_var": 0.8309968113899231, "entropy": 2.5732219219207764, "total_loss": 21.047954559326172, "cur_kl_coeff": 0.44999995827674866, "policy_loss": -0.013138441368937492}, "sample_time_ms": 27894.136, "num_steps_trained": 30584523, "load_time_ms": 57.905, "grad_time_ms": 39495.361, "num_steps_sampled": 30584523}, "timestamp": 1557370501, "episode_reward_max": 1092.5043215561911, "config": {"kl_coeff": 0.2, "lr": 0.0005, "vf_share_layers": false, "num_cpus_per_worker": 1, "local_evaluator_tf_session_args": {"inter_op_parallelism_threads": 8, "intra_op_parallelism_threads": 8}, "num_gpus": 0, "num_gpus_per_worker": 0, "vf_clip_param": 1000000.0, "batch_mode": "truncate_episodes", "num_workers": 60, "tf_session_args": {"inter_op_parallelism_threads": 2, "intra_op_parallelism_threads": 2, "gpu_options": {"allow_growth": true}, "device_count": {"CPU": 1}, "log_device_placement": false, "allow_soft_placement": true}, "custom_resources_per_worker": {}, "train_batch_size": 90000, "num_envs_per_worker": 1, "lambda": 0.97, "sgd_minibatch_size": 128, "input_evaluation": null, "sample_batch_size": 750, "vf_loss_coeff": 1.0, "output_max_file_size": 67108864, "model": {"fcnet_hiddens": [128, 64, 32], "conv_filters": null, "fcnet_activation": "tanh", "custom_options": {}, "dim": 84, "max_seq_len": 20, "custom_preprocessor": null, "zero_mean": true, "custom_model": null, "conv_activation": "relu", "use_lstm": false, "lstm_use_prev_action_reward": false, "free_log_std": false, "framestack": true, "lstm_cell_size": 256, "squash_to_range": false, "channel_major": false, "grayscale": false}, "multiagent": {"policy_mapping_fn": null, "policy_graphs": {}, "policies_to_train": null}, "collect_metrics_timeout": 180, "monitor": false, "horizon": 1500, "log_level": "INFO", "simple_optimizer": false, "clip_rewards": null, "synchronize_filters": true, "kl_target": 0.01, "input": "sampler", "preprocessor_pref": "deepmind", "clip_actions": false, "entropy_coeff": 0.0, "output": null, "num_sgd_iter": 10, "compress_observations": false, "observation_filter": "MeanStdFilter", "env_config": {"run": "PPO", "flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.3,\n            \"eta3\": 0.1,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 10.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 600,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}"}, "sample_async": false, "env": "MultiWaveAttenuationMergePOEnvBufferedObs-v0no_warmup_700m", "optimizer": {}, "lr_schedule": null, "use_gae": true, "callbacks": {"on_sample_end": null, "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7f3065e25198>", "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7f3065e25240>", "on_train_result": null, "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7f3065e25f60>"}, "gamma": 0.99, "output_compress_columns": ["obs", "new_obs"], "clip_param": 0.3, "num_cpus_for_driver": 1, "straggler_mitigation": false}, "episode_reward_mean": 750.3107920802427}
{"done": false, "date": "2019-05-09_02-56-08", "episodes_total": 18263, "timesteps_this_iter": 176383, "time_this_iter_s": 66.70964455604553, "episode_reward_min": 59.429880307929075, "iterations_since_restore": 55, "time_since_restore": 3700.704585790634, "experiment_id": "9b178520507b4656ac608c6ff2056ff7", "num_metric_batches_dropped": 0, "episode_len_mean": 730.43, "node_ip": "10.138.0.2", "timesteps_total": 30760906, "time_total_s": 11383.62676525116, "training_iteration": 255, "custom_metrics": {"system_level_velocity_min": 8.7729670609899, "cost1_mean": 310.6546763354441, "cost1_max": 471.6921208849758, "system_level_velocity_mean": 11.589771495840017, "outflow_rate_max": 1234.913203100217, "system_level_velocity_max": 16.924000977052238, "outflow_rate_mean": 906.4092106426684, "cost2_mean": -144.05990040841078, "cost2_max": -43.51159336008271, "cost1_min": 44.012427614490925, "outflow_rate_min": 242.81204856910225, "cost2_min": -218.58564981384865}, "episodes_this_iter": 87, "hostname": "flow-main", "pid": 46359, "timesteps_since_restore": 9400673, "policy_reward_mean": {}, "info": {"update_time_ms": 11.489, "default": {"kl": 0.016468845307826996, "cur_lr": 0.0005000000237487257, "vf_loss": 20.268978118896484, "vf_explained_var": 0.8486064076423645, "entropy": 2.6424200534820557, "total_loss": 20.26323127746582, "cur_kl_coeff": 0.44999998807907104, "policy_loss": -0.01315978541970253}, "sample_time_ms": 27892.961, "num_steps_trained": 30760906, "load_time_ms": 57.982, "grad_time_ms": 39500.023, "num_steps_sampled": 30760906}, "timestamp": 1557370568, "episode_reward_max": 909.0571152111418, "config": {"kl_coeff": 0.2, "lr": 0.0005, "vf_share_layers": false, "num_cpus_per_worker": 1, "local_evaluator_tf_session_args": {"inter_op_parallelism_threads": 8, "intra_op_parallelism_threads": 8}, "num_gpus": 0, "num_gpus_per_worker": 0, "vf_clip_param": 1000000.0, "batch_mode": "truncate_episodes", "num_workers": 60, "tf_session_args": {"inter_op_parallelism_threads": 2, "intra_op_parallelism_threads": 2, "gpu_options": {"allow_growth": true}, "device_count": {"CPU": 1}, "log_device_placement": false, "allow_soft_placement": true}, "custom_resources_per_worker": {}, "train_batch_size": 90000, "num_envs_per_worker": 1, "lambda": 0.97, "sgd_minibatch_size": 128, "input_evaluation": null, "sample_batch_size": 750, "vf_loss_coeff": 1.0, "output_max_file_size": 67108864, "model": {"fcnet_hiddens": [128, 64, 32], "conv_filters": null, "fcnet_activation": "tanh", "custom_options": {}, "dim": 84, "max_seq_len": 20, "custom_preprocessor": null, "zero_mean": true, "custom_model": null, "conv_activation": "relu", "use_lstm": false, "lstm_use_prev_action_reward": false, "free_log_std": false, "framestack": true, "lstm_cell_size": 256, "squash_to_range": false, "channel_major": false, "grayscale": false}, "multiagent": {"policy_mapping_fn": null, "policy_graphs": {}, "policies_to_train": null}, "collect_metrics_timeout": 180, "monitor": false, "horizon": 1500, "log_level": "INFO", "simple_optimizer": false, "clip_rewards": null, "synchronize_filters": true, "kl_target": 0.01, "input": "sampler", "preprocessor_pref": "deepmind", "clip_actions": false, "entropy_coeff": 0.0, "output": null, "num_sgd_iter": 10, "compress_observations": false, "observation_filter": "MeanStdFilter", "env_config": {"run": "PPO", "flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.3,\n            \"eta3\": 0.1,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 10.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 600,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}"}, "sample_async": false, "env": "MultiWaveAttenuationMergePOEnvBufferedObs-v0no_warmup_700m", "optimizer": {}, "lr_schedule": null, "use_gae": true, "callbacks": {"on_sample_end": null, "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7f3065f12b38>", "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7f3065f12e48>", "on_train_result": null, "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7f3065f12ef0>"}, "gamma": 0.99, "output_compress_columns": ["obs", "new_obs"], "clip_param": 0.3, "num_cpus_for_driver": 1, "straggler_mitigation": false}, "episode_reward_mean": 719.2405895295301}
{"done": false, "date": "2019-05-09_02-57-15", "episodes_total": 18349, "timesteps_this_iter": 172449, "time_this_iter_s": 66.63025069236755, "episode_reward_min": 462.09669410641305, "iterations_since_restore": 56, "time_since_restore": 3767.3348364830017, "experiment_id": "9b178520507b4656ac608c6ff2056ff7", "num_metric_batches_dropped": 0, "episode_len_mean": 747.7, "node_ip": "10.138.0.2", "timesteps_total": 30933355, "time_total_s": 11450.257015943527, "training_iteration": 256, "custom_metrics": {"system_level_velocity_min": 8.541814219653222, "cost1_mean": 323.53037744031286, "cost1_max": 420.09429246506687, "system_level_velocity_mean": 11.76037393132832, "outflow_rate_max": 1181.9234502429626, "system_level_velocity_max": 15.235885955079294, "outflow_rate_mean": 930.6841410807392, "cost2_mean": -134.91630792775578, "cost2_max": -56.47944160372907, "cost1_min": 229.56000165282592, "outflow_rate_min": 690.3847226493496, "cost2_min": -209.57091781965974}, "episodes_this_iter": 86, "hostname": "flow-main", "pid": 46359, "timesteps_since_restore": 9573122, "policy_reward_mean": {}, "info": {"update_time_ms": 11.55, "default": {"kl": 0.016316372901201248, "cur_lr": 0.0005000000237487257, "vf_loss": 20.24615478515625, "vf_explained_var": 0.8493016362190247, "entropy": 2.675854206085205, "total_loss": 20.23952293395996, "cur_kl_coeff": 0.45000001788139343, "policy_loss": -0.013975473120808601}, "sample_time_ms": 27837.608, "num_steps_trained": 30933355, "load_time_ms": 53.875, "grad_time_ms": 39410.569, "num_steps_sampled": 30933355}, "timestamp": 1557370635, "episode_reward_max": 959.617817210675, "config": {"kl_coeff": 0.2, "lr": 0.0005, "vf_share_layers": false, "num_cpus_per_worker": 1, "local_evaluator_tf_session_args": {"inter_op_parallelism_threads": 8, "intra_op_parallelism_threads": 8}, "num_gpus": 0, "num_gpus_per_worker": 0, "vf_clip_param": 1000000.0, "batch_mode": "truncate_episodes", "num_workers": 60, "tf_session_args": {"inter_op_parallelism_threads": 2, "intra_op_parallelism_threads": 2, "gpu_options": {"allow_growth": true}, "device_count": {"CPU": 1}, "log_device_placement": false, "allow_soft_placement": true}, "custom_resources_per_worker": {}, "train_batch_size": 90000, "num_envs_per_worker": 1, "lambda": 0.97, "sgd_minibatch_size": 128, "input_evaluation": null, "sample_batch_size": 750, "vf_loss_coeff": 1.0, "output_max_file_size": 67108864, "model": {"fcnet_hiddens": [128, 64, 32], "conv_filters": null, "fcnet_activation": "tanh", "custom_options": {}, "dim": 84, "max_seq_len": 20, "custom_preprocessor": null, "zero_mean": true, "custom_model": null, "conv_activation": "relu", "use_lstm": false, "lstm_use_prev_action_reward": false, "free_log_std": false, "framestack": true, "lstm_cell_size": 256, "squash_to_range": false, "channel_major": false, "grayscale": false}, "multiagent": {"policy_mapping_fn": null, "policy_graphs": {}, "policies_to_train": null}, "collect_metrics_timeout": 180, "monitor": false, "horizon": 1500, "log_level": "INFO", "simple_optimizer": false, "clip_rewards": null, "synchronize_filters": true, "kl_target": 0.01, "input": "sampler", "preprocessor_pref": "deepmind", "clip_actions": false, "entropy_coeff": 0.0, "output": null, "num_sgd_iter": 10, "compress_observations": false, "observation_filter": "MeanStdFilter", "env_config": {"run": "PPO", "flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.3,\n            \"eta3\": 0.1,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 10.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 600,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}"}, "sample_async": false, "env": "MultiWaveAttenuationMergePOEnvBufferedObs-v0no_warmup_700m", "optimizer": {}, "lr_schedule": null, "use_gae": true, "callbacks": {"on_sample_end": null, "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7f3065e25358>", "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7f3065e25a90>", "on_train_result": null, "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7f3065e25d30>"}, "gamma": 0.99, "output_compress_columns": ["obs", "new_obs"], "clip_param": 0.3, "num_cpus_for_driver": 1, "straggler_mitigation": false}, "episode_reward_mean": 736.5139974529662}
{"done": false, "date": "2019-05-09_02-58-23", "episodes_total": 18438, "timesteps_this_iter": 166506, "time_this_iter_s": 67.6508891582489, "episode_reward_min": 86.08532483392693, "iterations_since_restore": 57, "time_since_restore": 3834.9857256412506, "experiment_id": "9b178520507b4656ac608c6ff2056ff7", "num_metric_batches_dropped": 0, "episode_len_mean": 734.61, "node_ip": "10.138.0.2", "timesteps_total": 31099861, "time_total_s": 11517.907905101776, "training_iteration": 257, "custom_metrics": {"system_level_velocity_min": 8.255206409108226, "cost1_mean": 316.0162205798418, "cost1_max": 427.2852712028275, "system_level_velocity_mean": 11.725690236079204, "outflow_rate_max": 1187.128444349009, "system_level_velocity_max": 15.271377929660897, "outflow_rate_mean": 905.3944970155561, "cost2_mean": -126.77982112384944, "cost2_max": -56.355489283567955, "cost1_min": 60.133251569410454, "outflow_rate_min": 281.48517020015095, "cost2_min": -205.06336084572268}, "episodes_this_iter": 89, "hostname": "flow-main", "pid": 46359, "timesteps_since_restore": 9739628, "policy_reward_mean": {}, "info": {"update_time_ms": 11.796, "default": {"kl": 0.015975356101989746, "cur_lr": 0.0005000000237487257, "vf_loss": 21.704906463623047, "vf_explained_var": 0.8345038294792175, "entropy": 2.6557016372680664, "total_loss": 21.698286056518555, "cur_kl_coeff": 0.44999998807907104, "policy_loss": -0.013809066265821457}, "sample_time_ms": 27887.762, "num_steps_trained": 31099861, "load_time_ms": 56.521, "grad_time_ms": 39504.13, "num_steps_sampled": 31099861}, "timestamp": 1557370703, "episode_reward_max": 996.5468188291071, "config": {"kl_coeff": 0.2, "lr": 0.0005, "vf_share_layers": false, "num_cpus_per_worker": 1, "local_evaluator_tf_session_args": {"inter_op_parallelism_threads": 8, "intra_op_parallelism_threads": 8}, "num_gpus": 0, "num_gpus_per_worker": 0, "vf_clip_param": 1000000.0, "batch_mode": "truncate_episodes", "num_workers": 60, "tf_session_args": {"inter_op_parallelism_threads": 2, "intra_op_parallelism_threads": 2, "gpu_options": {"allow_growth": true}, "device_count": {"CPU": 1}, "log_device_placement": false, "allow_soft_placement": true}, "custom_resources_per_worker": {}, "train_batch_size": 90000, "num_envs_per_worker": 1, "lambda": 0.97, "sgd_minibatch_size": 128, "input_evaluation": null, "sample_batch_size": 750, "vf_loss_coeff": 1.0, "output_max_file_size": 67108864, "model": {"fcnet_hiddens": [128, 64, 32], "conv_filters": null, "fcnet_activation": "tanh", "custom_options": {}, "dim": 84, "max_seq_len": 20, "custom_preprocessor": null, "zero_mean": true, "custom_model": null, "conv_activation": "relu", "use_lstm": false, "lstm_use_prev_action_reward": false, "free_log_std": false, "framestack": true, "lstm_cell_size": 256, "squash_to_range": false, "channel_major": false, "grayscale": false}, "multiagent": {"policy_mapping_fn": null, "policy_graphs": {}, "policies_to_train": null}, "collect_metrics_timeout": 180, "monitor": false, "horizon": 1500, "log_level": "INFO", "simple_optimizer": false, "clip_rewards": null, "synchronize_filters": true, "kl_target": 0.01, "input": "sampler", "preprocessor_pref": "deepmind", "clip_actions": false, "entropy_coeff": 0.0, "output": null, "num_sgd_iter": 10, "compress_observations": false, "observation_filter": "MeanStdFilter", "env_config": {"run": "PPO", "flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.3,\n            \"eta3\": 0.1,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 10.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 600,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}"}, "sample_async": false, "env": "MultiWaveAttenuationMergePOEnvBufferedObs-v0no_warmup_700m", "optimizer": {}, "lr_schedule": null, "use_gae": true, "callbacks": {"on_sample_end": null, "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7f3065f12d30>", "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7f3065f12390>", "on_train_result": null, "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7f3065f12780>"}, "gamma": 0.99, "output_compress_columns": ["obs", "new_obs"], "clip_param": 0.3, "num_cpus_for_driver": 1, "straggler_mitigation": false}, "episode_reward_mean": 716.7300004711268}
{"done": false, "date": "2019-05-09_02-59-29", "episodes_total": 18526, "timesteps_this_iter": 169551, "time_this_iter_s": 65.93621182441711, "episode_reward_min": 55.59087577282762, "iterations_since_restore": 58, "time_since_restore": 3900.9219374656677, "experiment_id": "9b178520507b4656ac608c6ff2056ff7", "num_metric_batches_dropped": 0, "episode_len_mean": 717.83, "node_ip": "10.138.0.2", "timesteps_total": 31269412, "time_total_s": 11583.844116926193, "training_iteration": 258, "custom_metrics": {"system_level_velocity_min": 8.877661736331348, "cost1_mean": 315.15331950409376, "cost1_max": 458.6477570371586, "system_level_velocity_mean": 11.930819382459552, "outflow_rate_max": 1244.661897498011, "system_level_velocity_max": 16.360292129145833, "outflow_rate_mean": 907.9152776775492, "cost2_mean": -133.57022177838434, "cost2_max": -40.098332841073436, "cost1_min": 43.14945303063316, "outflow_rate_min": 242.39837698697883, "cost2_min": -224.64662708318838}, "episodes_this_iter": 88, "hostname": "flow-main", "pid": 46359, "timesteps_since_restore": 9909179, "policy_reward_mean": {}, "info": {"update_time_ms": 11.543, "default": {"kl": 0.017190752550959587, "cur_lr": 0.0005000000237487257, "vf_loss": 22.475868225097656, "vf_explained_var": 0.8261975049972534, "entropy": 2.5965847969055176, "total_loss": 22.46886444091797, "cur_kl_coeff": 0.4500000476837158, "policy_loss": -0.014739387668669224}, "sample_time_ms": 27863.664, "num_steps_trained": 31269412, "load_time_ms": 48.709, "grad_time_ms": 39073.115, "num_steps_sampled": 31269412}, "timestamp": 1557370769, "episode_reward_max": 948.5553610752265, "config": {"kl_coeff": 0.2, "lr": 0.0005, "vf_share_layers": false, "num_cpus_per_worker": 1, "local_evaluator_tf_session_args": {"inter_op_parallelism_threads": 8, "intra_op_parallelism_threads": 8}, "num_gpus": 0, "num_gpus_per_worker": 0, "vf_clip_param": 1000000.0, "batch_mode": "truncate_episodes", "num_workers": 60, "tf_session_args": {"inter_op_parallelism_threads": 2, "intra_op_parallelism_threads": 2, "gpu_options": {"allow_growth": true}, "device_count": {"CPU": 1}, "log_device_placement": false, "allow_soft_placement": true}, "custom_resources_per_worker": {}, "train_batch_size": 90000, "num_envs_per_worker": 1, "lambda": 0.97, "sgd_minibatch_size": 128, "input_evaluation": null, "sample_batch_size": 750, "vf_loss_coeff": 1.0, "output_max_file_size": 67108864, "model": {"fcnet_hiddens": [128, 64, 32], "conv_filters": null, "fcnet_activation": "tanh", "custom_options": {}, "dim": 84, "max_seq_len": 20, "custom_preprocessor": null, "zero_mean": true, "custom_model": null, "conv_activation": "relu", "use_lstm": false, "lstm_use_prev_action_reward": false, "free_log_std": false, "framestack": true, "lstm_cell_size": 256, "squash_to_range": false, "channel_major": false, "grayscale": false}, "multiagent": {"policy_mapping_fn": null, "policy_graphs": {}, "policies_to_train": null}, "collect_metrics_timeout": 180, "monitor": false, "horizon": 1500, "log_level": "INFO", "simple_optimizer": false, "clip_rewards": null, "synchronize_filters": true, "kl_target": 0.01, "input": "sampler", "preprocessor_pref": "deepmind", "clip_actions": false, "entropy_coeff": 0.0, "output": null, "num_sgd_iter": 10, "compress_observations": false, "observation_filter": "MeanStdFilter", "env_config": {"run": "PPO", "flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.3,\n            \"eta3\": 0.1,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 10.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 600,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}"}, "sample_async": false, "env": "MultiWaveAttenuationMergePOEnvBufferedObs-v0no_warmup_700m", "optimizer": {}, "lr_schedule": null, "use_gae": true, "callbacks": {"on_sample_end": null, "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7f3065e25240>", "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7f3065e25a20>", "on_train_result": null, "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7f3065e25d30>"}, "gamma": 0.99, "output_compress_columns": ["obs", "new_obs"], "clip_param": 0.3, "num_cpus_for_driver": 1, "straggler_mitigation": false}, "episode_reward_mean": 713.4343923393017}
{"done": false, "date": "2019-05-09_03-00-36", "episodes_total": 18616, "timesteps_this_iter": 172816, "time_this_iter_s": 67.07265281677246, "episode_reward_min": 55.59087577282762, "iterations_since_restore": 59, "time_since_restore": 3967.99459028244, "experiment_id": "9b178520507b4656ac608c6ff2056ff7", "num_metric_batches_dropped": 0, "episode_len_mean": 715.86, "node_ip": "10.138.0.2", "timesteps_total": 31442228, "time_total_s": 11650.916769742966, "training_iteration": 259, "custom_metrics": {"system_level_velocity_min": 8.749847634935522, "cost1_mean": 316.7294317696351, "cost1_max": 448.5305392221633, "system_level_velocity_mean": 12.017150632109104, "outflow_rate_max": 1234.171966466216, "system_level_velocity_max": 16.030135208913244, "outflow_rate_mean": 910.680163779101, "cost2_mean": -130.44430231278568, "cost2_max": -40.098332841073436, "cost1_min": 43.14945303063316, "outflow_rate_min": 242.39837698697883, "cost2_min": -213.1720595930055}, "episodes_this_iter": 90, "hostname": "flow-main", "pid": 46359, "timesteps_since_restore": 10081995, "policy_reward_mean": {}, "info": {"update_time_ms": 11.254, "default": {"kl": 0.017166687175631523, "cur_lr": 0.0005000000237487257, "vf_loss": 21.458728790283203, "vf_explained_var": 0.8449170589447021, "entropy": 2.6275758743286133, "total_loss": 21.453031539916992, "cur_kl_coeff": 0.44999998807907104, "policy_loss": -0.013421119190752506}, "sample_time_ms": 27769.716, "num_steps_trained": 31442228, "load_time_ms": 45.909, "grad_time_ms": 38946.897, "num_steps_sampled": 31442228}, "timestamp": 1557370836, "episode_reward_max": 940.056313996777, "config": {"kl_coeff": 0.2, "lr": 0.0005, "vf_share_layers": false, "num_cpus_per_worker": 1, "local_evaluator_tf_session_args": {"inter_op_parallelism_threads": 8, "intra_op_parallelism_threads": 8}, "num_gpus": 0, "num_gpus_per_worker": 0, "vf_clip_param": 1000000.0, "batch_mode": "truncate_episodes", "num_workers": 60, "tf_session_args": {"inter_op_parallelism_threads": 2, "intra_op_parallelism_threads": 2, "gpu_options": {"allow_growth": true}, "device_count": {"CPU": 1}, "log_device_placement": false, "allow_soft_placement": true}, "custom_resources_per_worker": {}, "train_batch_size": 90000, "num_envs_per_worker": 1, "lambda": 0.97, "sgd_minibatch_size": 128, "input_evaluation": null, "sample_batch_size": 750, "vf_loss_coeff": 1.0, "output_max_file_size": 67108864, "model": {"fcnet_hiddens": [128, 64, 32], "conv_filters": null, "fcnet_activation": "tanh", "custom_options": {}, "dim": 84, "max_seq_len": 20, "custom_preprocessor": null, "zero_mean": true, "custom_model": null, "conv_activation": "relu", "use_lstm": false, "lstm_use_prev_action_reward": false, "free_log_std": false, "framestack": true, "lstm_cell_size": 256, "squash_to_range": false, "channel_major": false, "grayscale": false}, "multiagent": {"policy_mapping_fn": null, "policy_graphs": {}, "policies_to_train": null}, "collect_metrics_timeout": 180, "monitor": false, "horizon": 1500, "log_level": "INFO", "simple_optimizer": false, "clip_rewards": null, "synchronize_filters": true, "kl_target": 0.01, "input": "sampler", "preprocessor_pref": "deepmind", "clip_actions": false, "entropy_coeff": 0.0, "output": null, "num_sgd_iter": 10, "compress_observations": false, "observation_filter": "MeanStdFilter", "env_config": {"run": "PPO", "flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.3,\n            \"eta3\": 0.1,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 10.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 600,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}"}, "sample_async": false, "env": "MultiWaveAttenuationMergePOEnvBufferedObs-v0no_warmup_700m", "optimizer": {}, "lr_schedule": null, "use_gae": true, "callbacks": {"on_sample_end": null, "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7f3065f12198>", "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7f3065f12cc0>", "on_train_result": null, "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7f3065f12320>"}, "gamma": 0.99, "output_compress_columns": ["obs", "new_obs"], "clip_param": 0.3, "num_cpus_for_driver": 1, "straggler_mitigation": false}, "episode_reward_mean": 712.4586524736249}
{"done": false, "date": "2019-05-09_03-01-43", "episodes_total": 18703, "timesteps_this_iter": 173269, "time_this_iter_s": 67.38503313064575, "episode_reward_min": 200.09093420263437, "iterations_since_restore": 60, "time_since_restore": 4035.379623413086, "experiment_id": "9b178520507b4656ac608c6ff2056ff7", "num_metric_batches_dropped": 0, "episode_len_mean": 739.66, "node_ip": "10.138.0.2", "timesteps_total": 31615497, "time_total_s": 11718.301802873611, "training_iteration": 260, "custom_metrics": {"system_level_velocity_min": 8.587254225832321, "cost1_mean": 332.81108741934577, "cost1_max": 433.9004823322433, "system_level_velocity_mean": 12.22221098715935, "outflow_rate_max": 1209.117155586332, "system_level_velocity_max": 15.452836880775592, "outflow_rate_mean": 953.3809529100976, "cost2_mean": -141.2269860995031, "cost2_max": -60.79171341926849, "cost1_min": 107.69023172380858, "outflow_rate_min": 435.59627934325863, "cost2_min": -207.79829292835382}, "episodes_this_iter": 87, "hostname": "flow-main", "pid": 46359, "timesteps_since_restore": 10255264, "policy_reward_mean": {}, "info": {"update_time_ms": 10.9, "default": {"kl": 0.016466917470097542, "cur_lr": 0.0005000000237487257, "vf_loss": 22.107336044311523, "vf_explained_var": 0.8496707081794739, "entropy": 2.6175196170806885, "total_loss": 22.1022891998291, "cur_kl_coeff": 0.44999998807907104, "policy_loss": -0.01245492696762085}, "sample_time_ms": 27827.007, "num_steps_trained": 31615497, "load_time_ms": 45.206, "grad_time_ms": 38984.725, "num_steps_sampled": 31615497}, "timestamp": 1557370903, "episode_reward_max": 955.270573941765, "config": {"kl_coeff": 0.2, "lr": 0.0005, "vf_share_layers": false, "num_cpus_per_worker": 1, "local_evaluator_tf_session_args": {"inter_op_parallelism_threads": 8, "intra_op_parallelism_threads": 8}, "num_gpus": 0, "num_gpus_per_worker": 0, "vf_clip_param": 1000000.0, "batch_mode": "truncate_episodes", "num_workers": 60, "tf_session_args": {"inter_op_parallelism_threads": 2, "intra_op_parallelism_threads": 2, "gpu_options": {"allow_growth": true}, "device_count": {"CPU": 1}, "log_device_placement": false, "allow_soft_placement": true}, "custom_resources_per_worker": {}, "train_batch_size": 90000, "num_envs_per_worker": 1, "lambda": 0.97, "sgd_minibatch_size": 128, "input_evaluation": null, "sample_batch_size": 750, "vf_loss_coeff": 1.0, "output_max_file_size": 67108864, "model": {"fcnet_hiddens": [128, 64, 32], "conv_filters": null, "fcnet_activation": "tanh", "custom_options": {}, "dim": 84, "max_seq_len": 20, "custom_preprocessor": null, "zero_mean": true, "custom_model": null, "conv_activation": "relu", "use_lstm": false, "lstm_use_prev_action_reward": false, "free_log_std": false, "framestack": true, "lstm_cell_size": 256, "squash_to_range": false, "channel_major": false, "grayscale": false}, "multiagent": {"policy_mapping_fn": null, "policy_graphs": {}, "policies_to_train": null}, "collect_metrics_timeout": 180, "monitor": false, "horizon": 1500, "log_level": "INFO", "simple_optimizer": false, "clip_rewards": null, "synchronize_filters": true, "kl_target": 0.01, "input": "sampler", "preprocessor_pref": "deepmind", "clip_actions": false, "entropy_coeff": 0.0, "output": null, "num_sgd_iter": 10, "compress_observations": false, "observation_filter": "MeanStdFilter", "env_config": {"run": "PPO", "flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.3,\n            \"eta3\": 0.1,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 10.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 600,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}"}, "sample_async": false, "env": "MultiWaveAttenuationMergePOEnvBufferedObs-v0no_warmup_700m", "optimizer": {}, "lr_schedule": null, "use_gae": true, "callbacks": {"on_sample_end": null, "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7f3065e25240>", "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7f3065e25cc0>", "on_train_result": null, "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7f3065e250b8>"}, "gamma": 0.99, "output_compress_columns": ["obs", "new_obs"], "clip_param": 0.3, "num_cpus_for_driver": 1, "straggler_mitigation": false}, "episode_reward_mean": 746.3127871505358}
{"done": false, "date": "2019-05-09_03-02-50", "episodes_total": 18789, "timesteps_this_iter": 176669, "time_this_iter_s": 66.72666215896606, "episode_reward_min": 77.88488323450446, "iterations_since_restore": 61, "time_since_restore": 4102.106285572052, "experiment_id": "9b178520507b4656ac608c6ff2056ff7", "num_metric_batches_dropped": 0, "episode_len_mean": 730.99, "node_ip": "10.138.0.2", "timesteps_total": 31792166, "time_total_s": 11785.028465032578, "training_iteration": 261, "custom_metrics": {"system_level_velocity_min": 8.886593701908291, "cost1_mean": 326.20746322373367, "cost1_max": 471.1476729561624, "system_level_velocity_mean": 12.106982058960405, "outflow_rate_max": 1246.4451393376141, "system_level_velocity_max": 16.71869082037885, "outflow_rate_mean": 939.8126919001062, "cost2_mean": -140.71107428711414, "cost2_max": -50.75066023929904, "cost1_min": 56.043761661910814, "outflow_rate_min": 265.66356467740576, "cost2_min": -217.80969824859707}, "episodes_this_iter": 86, "hostname": "flow-main", "pid": 46359, "timesteps_since_restore": 10431933, "policy_reward_mean": {}, "info": {"update_time_ms": 11.195, "default": {"kl": 0.016552554443478584, "cur_lr": 0.0005000000237487257, "vf_loss": 20.610628128051758, "vf_explained_var": 0.8641231656074524, "entropy": 2.6822893619537354, "total_loss": 20.604358673095703, "cur_kl_coeff": 0.44999998807907104, "policy_loss": -0.013717183843255043}, "sample_time_ms": 27826.445, "num_steps_trained": 31792166, "load_time_ms": 42.964, "grad_time_ms": 38850.937, "num_steps_sampled": 31792166}, "timestamp": 1557370970, "episode_reward_max": 1108.5944661505978, "config": {"kl_coeff": 0.2, "lr": 0.0005, "vf_share_layers": false, "num_cpus_per_worker": 1, "local_evaluator_tf_session_args": {"inter_op_parallelism_threads": 8, "intra_op_parallelism_threads": 8}, "num_gpus": 0, "num_gpus_per_worker": 0, "vf_clip_param": 1000000.0, "batch_mode": "truncate_episodes", "num_workers": 60, "tf_session_args": {"inter_op_parallelism_threads": 2, "intra_op_parallelism_threads": 2, "gpu_options": {"allow_growth": true}, "device_count": {"CPU": 1}, "log_device_placement": false, "allow_soft_placement": true}, "custom_resources_per_worker": {}, "train_batch_size": 90000, "num_envs_per_worker": 1, "lambda": 0.97, "sgd_minibatch_size": 128, "input_evaluation": null, "sample_batch_size": 750, "vf_loss_coeff": 1.0, "output_max_file_size": 67108864, "model": {"fcnet_hiddens": [128, 64, 32], "conv_filters": null, "fcnet_activation": "tanh", "custom_options": {}, "dim": 84, "max_seq_len": 20, "custom_preprocessor": null, "zero_mean": true, "custom_model": null, "conv_activation": "relu", "use_lstm": false, "lstm_use_prev_action_reward": false, "free_log_std": false, "framestack": true, "lstm_cell_size": 256, "squash_to_range": false, "channel_major": false, "grayscale": false}, "multiagent": {"policy_mapping_fn": null, "policy_graphs": {}, "policies_to_train": null}, "collect_metrics_timeout": 180, "monitor": false, "horizon": 1500, "log_level": "INFO", "simple_optimizer": false, "clip_rewards": null, "synchronize_filters": true, "kl_target": 0.01, "input": "sampler", "preprocessor_pref": "deepmind", "clip_actions": false, "entropy_coeff": 0.0, "output": null, "num_sgd_iter": 10, "compress_observations": false, "observation_filter": "MeanStdFilter", "env_config": {"run": "PPO", "flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.3,\n            \"eta3\": 0.1,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 10.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 600,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}"}, "sample_async": false, "env": "MultiWaveAttenuationMergePOEnvBufferedObs-v0no_warmup_700m", "optimizer": {}, "lr_schedule": null, "use_gae": true, "callbacks": {"on_sample_end": null, "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7f3065f12278>", "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7f3065f207f0>", "on_train_result": null, "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7f3065f20588>"}, "gamma": 0.99, "output_compress_columns": ["obs", "new_obs"], "clip_param": 0.3, "num_cpus_for_driver": 1, "straggler_mitigation": false}, "episode_reward_mean": 742.3900694020357}
{"done": false, "date": "2019-05-09_03-03-59", "episodes_total": 18876, "timesteps_this_iter": 177531, "time_this_iter_s": 68.85973930358887, "episode_reward_min": 98.81501685680999, "iterations_since_restore": 62, "time_since_restore": 4170.966024875641, "experiment_id": "9b178520507b4656ac608c6ff2056ff7", "num_metric_batches_dropped": 0, "episode_len_mean": 734.92, "node_ip": "10.138.0.2", "timesteps_total": 31969697, "time_total_s": 11853.888204336166, "training_iteration": 262, "custom_metrics": {"system_level_velocity_min": 8.397595752943769, "cost1_mean": 328.3665500682761, "cost1_max": 467.2876955769508, "system_level_velocity_mean": 12.132908814214051, "outflow_rate_max": 1246.4451393376141, "system_level_velocity_max": 16.342715730622263, "outflow_rate_mean": 947.4506273852734, "cost2_mean": -144.34292801957545, "cost2_max": -54.674177153048255, "cost1_min": 66.76702029417444, "outflow_rate_min": 291.4862224181219, "cost2_min": -217.80969824859707}, "episodes_this_iter": 87, "hostname": "flow-main", "pid": 46359, "timesteps_since_restore": 10609464, "policy_reward_mean": {}, "info": {"update_time_ms": 11.514, "default": {"kl": 0.017145082354545593, "cur_lr": 0.0005000000237487257, "vf_loss": 21.349628448486328, "vf_explained_var": 0.8471043109893799, "entropy": 2.6321022510528564, "total_loss": 21.344205856323242, "cur_kl_coeff": 0.44999995827674866, "policy_loss": -0.01313671376556158}, "sample_time_ms": 27947.662, "num_steps_trained": 31969697, "load_time_ms": 42.258, "grad_time_ms": 38996.091, "num_steps_sampled": 31969697}, "timestamp": 1557371039, "episode_reward_max": 1108.5944661505978, "config": {"kl_coeff": 0.2, "lr": 0.0005, "vf_share_layers": false, "num_cpus_per_worker": 1, "local_evaluator_tf_session_args": {"inter_op_parallelism_threads": 8, "intra_op_parallelism_threads": 8}, "num_gpus": 0, "num_gpus_per_worker": 0, "vf_clip_param": 1000000.0, "batch_mode": "truncate_episodes", "num_workers": 60, "tf_session_args": {"inter_op_parallelism_threads": 2, "intra_op_parallelism_threads": 2, "gpu_options": {"allow_growth": true}, "device_count": {"CPU": 1}, "log_device_placement": false, "allow_soft_placement": true}, "custom_resources_per_worker": {}, "train_batch_size": 90000, "num_envs_per_worker": 1, "lambda": 0.97, "sgd_minibatch_size": 128, "input_evaluation": null, "sample_batch_size": 750, "vf_loss_coeff": 1.0, "output_max_file_size": 67108864, "model": {"fcnet_hiddens": [128, 64, 32], "conv_filters": null, "fcnet_activation": "tanh", "custom_options": {}, "dim": 84, "max_seq_len": 20, "custom_preprocessor": null, "zero_mean": true, "custom_model": null, "conv_activation": "relu", "use_lstm": false, "lstm_use_prev_action_reward": false, "free_log_std": false, "framestack": true, "lstm_cell_size": 256, "squash_to_range": false, "channel_major": false, "grayscale": false}, "multiagent": {"policy_mapping_fn": null, "policy_graphs": {}, "policies_to_train": null}, "collect_metrics_timeout": 180, "monitor": false, "horizon": 1500, "log_level": "INFO", "simple_optimizer": false, "clip_rewards": null, "synchronize_filters": true, "kl_target": 0.01, "input": "sampler", "preprocessor_pref": "deepmind", "clip_actions": false, "entropy_coeff": 0.0, "output": null, "num_sgd_iter": 10, "compress_observations": false, "observation_filter": "MeanStdFilter", "env_config": {"run": "PPO", "flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.3,\n            \"eta3\": 0.1,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 10.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 600,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}"}, "sample_async": false, "env": "MultiWaveAttenuationMergePOEnvBufferedObs-v0no_warmup_700m", "optimizer": {}, "lr_schedule": null, "use_gae": true, "callbacks": {"on_sample_end": null, "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7f3065f12940>", "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7f3065f120f0>", "on_train_result": null, "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7f3065f122b0>"}, "gamma": 0.99, "output_compress_columns": ["obs", "new_obs"], "clip_param": 0.3, "num_cpus_for_driver": 1, "straggler_mitigation": false}, "episode_reward_mean": 743.9992554828191}
{"done": false, "date": "2019-05-09_03-05-07", "episodes_total": 18963, "timesteps_this_iter": 175955, "time_this_iter_s": 68.29037737846375, "episode_reward_min": 67.94283288074621, "iterations_since_restore": 63, "time_since_restore": 4239.256402254105, "experiment_id": "9b178520507b4656ac608c6ff2056ff7", "num_metric_batches_dropped": 0, "episode_len_mean": 737.81, "node_ip": "10.138.0.2", "timesteps_total": 32145652, "time_total_s": 11922.17858171463, "training_iteration": 263, "custom_metrics": {"system_level_velocity_min": 8.734438405415334, "cost1_mean": 321.4082065276664, "cost1_max": 477.374571032811, "system_level_velocity_mean": 11.828459457397846, "outflow_rate_max": 1247.4991233286005, "system_level_velocity_max": 16.880108871957567, "outflow_rate_mean": 933.8754423352107, "cost2_mean": -144.76591362852895, "cost2_max": -46.382330635624946, "cost1_min": 49.91184581840747, "outflow_rate_min": 252.4782173759795, "cost2_min": -235.39977905822477}, "episodes_this_iter": 87, "hostname": "flow-main", "pid": 46359, "timesteps_since_restore": 10785419, "policy_reward_mean": {}, "info": {"update_time_ms": 11.526, "default": {"kl": 0.016688410192728043, "cur_lr": 0.0005000000237487257, "vf_loss": 20.352598190307617, "vf_explained_var": 0.8490546345710754, "entropy": 2.6631338596343994, "total_loss": 20.34680938720703, "cur_kl_coeff": 0.44999998807907104, "policy_loss": -0.013299550861120224}, "sample_time_ms": 27927.948, "num_steps_trained": 32145652, "load_time_ms": 41.6, "grad_time_ms": 39085.024, "num_steps_sampled": 32145652}, "timestamp": 1557371107, "episode_reward_max": 988.7894036380575, "config": {"kl_coeff": 0.2, "lr": 0.0005, "vf_share_layers": false, "num_cpus_per_worker": 1, "local_evaluator_tf_session_args": {"inter_op_parallelism_threads": 8, "intra_op_parallelism_threads": 8}, "num_gpus": 0, "num_gpus_per_worker": 0, "vf_clip_param": 1000000.0, "batch_mode": "truncate_episodes", "num_workers": 60, "tf_session_args": {"inter_op_parallelism_threads": 2, "intra_op_parallelism_threads": 2, "gpu_options": {"allow_growth": true}, "device_count": {"CPU": 1}, "log_device_placement": false, "allow_soft_placement": true}, "custom_resources_per_worker": {}, "train_batch_size": 90000, "num_envs_per_worker": 1, "lambda": 0.97, "sgd_minibatch_size": 128, "input_evaluation": null, "sample_batch_size": 750, "vf_loss_coeff": 1.0, "output_max_file_size": 67108864, "model": {"fcnet_hiddens": [128, 64, 32], "conv_filters": null, "fcnet_activation": "tanh", "custom_options": {}, "dim": 84, "max_seq_len": 20, "custom_preprocessor": null, "zero_mean": true, "custom_model": null, "conv_activation": "relu", "use_lstm": false, "lstm_use_prev_action_reward": false, "free_log_std": false, "framestack": true, "lstm_cell_size": 256, "squash_to_range": false, "channel_major": false, "grayscale": false}, "multiagent": {"policy_mapping_fn": null, "policy_graphs": {}, "policies_to_train": null}, "collect_metrics_timeout": 180, "monitor": false, "horizon": 1500, "log_level": "INFO", "simple_optimizer": false, "clip_rewards": null, "synchronize_filters": true, "kl_target": 0.01, "input": "sampler", "preprocessor_pref": "deepmind", "clip_actions": false, "entropy_coeff": 0.0, "output": null, "num_sgd_iter": 10, "compress_observations": false, "observation_filter": "MeanStdFilter", "env_config": {"run": "PPO", "flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.3,\n            \"eta3\": 0.1,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 10.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 600,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}"}, "sample_async": false, "env": "MultiWaveAttenuationMergePOEnvBufferedObs-v0no_warmup_700m", "optimizer": {}, "lr_schedule": null, "use_gae": true, "callbacks": {"on_sample_end": null, "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7f3065f12f98>", "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7f3065f20588>", "on_train_result": null, "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7f3065f12e48>"}, "gamma": 0.99, "output_compress_columns": ["obs", "new_obs"], "clip_param": 0.3, "num_cpus_for_driver": 1, "straggler_mitigation": false}, "episode_reward_mean": 733.7212739398332}
{"done": false, "date": "2019-05-09_03-06-14", "episodes_total": 19055, "timesteps_this_iter": 170903, "time_this_iter_s": 66.59109950065613, "episode_reward_min": 58.69173343900912, "iterations_since_restore": 64, "time_since_restore": 4305.847501754761, "experiment_id": "9b178520507b4656ac608c6ff2056ff7", "num_metric_batches_dropped": 0, "episode_len_mean": 698.31, "node_ip": "10.138.0.2", "timesteps_total": 32316555, "time_total_s": 11988.769681215286, "training_iteration": 264, "custom_metrics": {"system_level_velocity_min": 8.593755621737827, "cost1_mean": 308.44936006954083, "cost1_max": 456.0708662181473, "system_level_velocity_mean": 11.986906108583478, "outflow_rate_max": 1222.2460761935702, "system_level_velocity_max": 16.27384326633691, "outflow_rate_mean": 896.1552627827533, "cost2_mean": -137.83469423590887, "cost2_max": -49.87062470783448, "cost1_min": 44.15025000530589, "outflow_rate_min": 240.4871709091061, "cost2_min": -212.12583131590378}, "episodes_this_iter": 92, "hostname": "flow-main", "pid": 46359, "timesteps_since_restore": 10956322, "policy_reward_mean": {}, "info": {"update_time_ms": 11.655, "default": {"kl": 0.01604495942592621, "cur_lr": 0.0005000000237487257, "vf_loss": 22.298654556274414, "vf_explained_var": 0.8302183151245117, "entropy": 2.623204469680786, "total_loss": 22.292695999145508, "cur_kl_coeff": 0.44999998807907104, "policy_loss": -0.013178936205804348}, "sample_time_ms": 27926.912, "num_steps_trained": 32316555, "load_time_ms": 44.12, "grad_time_ms": 38868.787, "num_steps_sampled": 32316555}, "timestamp": 1557371174, "episode_reward_max": 964.0172077416921, "config": {"kl_coeff": 0.2, "lr": 0.0005, "vf_share_layers": false, "num_cpus_per_worker": 1, "local_evaluator_tf_session_args": {"inter_op_parallelism_threads": 8, "intra_op_parallelism_threads": 8}, "num_gpus": 0, "num_gpus_per_worker": 0, "vf_clip_param": 1000000.0, "batch_mode": "truncate_episodes", "num_workers": 60, "tf_session_args": {"inter_op_parallelism_threads": 2, "intra_op_parallelism_threads": 2, "gpu_options": {"allow_growth": true}, "device_count": {"CPU": 1}, "log_device_placement": false, "allow_soft_placement": true}, "custom_resources_per_worker": {}, "train_batch_size": 90000, "num_envs_per_worker": 1, "lambda": 0.97, "sgd_minibatch_size": 128, "input_evaluation": null, "sample_batch_size": 750, "vf_loss_coeff": 1.0, "output_max_file_size": 67108864, "model": {"fcnet_hiddens": [128, 64, 32], "conv_filters": null, "fcnet_activation": "tanh", "custom_options": {}, "dim": 84, "max_seq_len": 20, "custom_preprocessor": null, "zero_mean": true, "custom_model": null, "conv_activation": "relu", "use_lstm": false, "lstm_use_prev_action_reward": false, "free_log_std": false, "framestack": true, "lstm_cell_size": 256, "squash_to_range": false, "channel_major": false, "grayscale": false}, "multiagent": {"policy_mapping_fn": null, "policy_graphs": {}, "policies_to_train": null}, "collect_metrics_timeout": 180, "monitor": false, "horizon": 1500, "log_level": "INFO", "simple_optimizer": false, "clip_rewards": null, "synchronize_filters": true, "kl_target": 0.01, "input": "sampler", "preprocessor_pref": "deepmind", "clip_actions": false, "entropy_coeff": 0.0, "output": null, "num_sgd_iter": 10, "compress_observations": false, "observation_filter": "MeanStdFilter", "env_config": {"run": "PPO", "flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.3,\n            \"eta3\": 0.1,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 10.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 600,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}"}, "sample_async": false, "env": "MultiWaveAttenuationMergePOEnvBufferedObs-v0no_warmup_700m", "optimizer": {}, "lr_schedule": null, "use_gae": true, "callbacks": {"on_sample_end": null, "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7f3065ef86a0>", "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7f3065ef8c88>", "on_train_result": null, "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7f3065ef87b8>"}, "gamma": 0.99, "output_compress_columns": ["obs", "new_obs"], "clip_param": 0.3, "num_cpus_for_driver": 1, "straggler_mitigation": false}, "episode_reward_mean": 695.8674831810857}
{"done": false, "date": "2019-05-09_03-07-23", "episodes_total": 19141, "timesteps_this_iter": 175196, "time_this_iter_s": 68.8145854473114, "episode_reward_min": 165.81239804361442, "iterations_since_restore": 65, "time_since_restore": 4374.662087202072, "experiment_id": "9b178520507b4656ac608c6ff2056ff7", "num_metric_batches_dropped": 0, "episode_len_mean": 745.47, "node_ip": "10.138.0.2", "timesteps_total": 32491751, "time_total_s": 12057.584266662598, "training_iteration": 265, "custom_metrics": {"system_level_velocity_min": 7.812849375907211, "cost1_mean": 326.3182415681896, "cost1_max": 465.8926153294973, "system_level_velocity_mean": 11.88003479543612, "outflow_rate_max": 1242.7925838099559, "system_level_velocity_max": 16.731725904887643, "outflow_rate_mean": 945.1212004374122, "cost2_mean": -147.56955299003806, "cost2_max": -60.80956560553244, "cost1_min": 102.0121943508853, "outflow_rate_min": 406.05866325236434, "cost2_min": -215.81899045432573}, "episodes_this_iter": 86, "hostname": "flow-main", "pid": 46359, "timesteps_since_restore": 11131518, "policy_reward_mean": {}, "info": {"update_time_ms": 11.648, "default": {"kl": 0.01769937202334404, "cur_lr": 0.0005000000237487257, "vf_loss": 20.16891860961914, "vf_explained_var": 0.8429195880889893, "entropy": 2.653041124343872, "total_loss": 20.164077758789062, "cur_kl_coeff": 0.44999998807907104, "policy_loss": -0.01280433963984251}, "sample_time_ms": 27997.545, "num_steps_trained": 32491751, "load_time_ms": 43.101, "grad_time_ms": 39006.004, "num_steps_sampled": 32491751}, "timestamp": 1557371243, "episode_reward_max": 926.0419967025521, "config": {"kl_coeff": 0.2, "lr": 0.0005, "vf_share_layers": false, "num_cpus_per_worker": 1, "local_evaluator_tf_session_args": {"inter_op_parallelism_threads": 8, "intra_op_parallelism_threads": 8}, "num_gpus": 0, "num_gpus_per_worker": 0, "vf_clip_param": 1000000.0, "batch_mode": "truncate_episodes", "num_workers": 60, "tf_session_args": {"inter_op_parallelism_threads": 2, "intra_op_parallelism_threads": 2, "gpu_options": {"allow_growth": true}, "device_count": {"CPU": 1}, "log_device_placement": false, "allow_soft_placement": true}, "custom_resources_per_worker": {}, "train_batch_size": 90000, "num_envs_per_worker": 1, "lambda": 0.97, "sgd_minibatch_size": 128, "input_evaluation": null, "sample_batch_size": 750, "vf_loss_coeff": 1.0, "output_max_file_size": 67108864, "model": {"fcnet_hiddens": [128, 64, 32], "conv_filters": null, "fcnet_activation": "tanh", "custom_options": {}, "dim": 84, "max_seq_len": 20, "custom_preprocessor": null, "zero_mean": true, "custom_model": null, "conv_activation": "relu", "use_lstm": false, "lstm_use_prev_action_reward": false, "free_log_std": false, "framestack": true, "lstm_cell_size": 256, "squash_to_range": false, "channel_major": false, "grayscale": false}, "multiagent": {"policy_mapping_fn": null, "policy_graphs": {}, "policies_to_train": null}, "collect_metrics_timeout": 180, "monitor": false, "horizon": 1500, "log_level": "INFO", "simple_optimizer": false, "clip_rewards": null, "synchronize_filters": true, "kl_target": 0.01, "input": "sampler", "preprocessor_pref": "deepmind", "clip_actions": false, "entropy_coeff": 0.0, "output": null, "num_sgd_iter": 10, "compress_observations": false, "observation_filter": "MeanStdFilter", "env_config": {"run": "PPO", "flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.3,\n            \"eta3\": 0.1,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 10.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 600,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}"}, "sample_async": false, "env": "MultiWaveAttenuationMergePOEnvBufferedObs-v0no_warmup_700m", "optimizer": {}, "lr_schedule": null, "use_gae": true, "callbacks": {"on_sample_end": null, "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7f3065f12208>", "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7f3065f120b8>", "on_train_result": null, "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7f3065f12908>"}, "gamma": 0.99, "output_compress_columns": ["obs", "new_obs"], "clip_param": 0.3, "num_cpus_for_driver": 1, "straggler_mitigation": false}, "episode_reward_mean": 735.4633134818793}
{"done": false, "date": "2019-05-09_03-08-34", "episodes_total": 19231, "timesteps_this_iter": 178173, "time_this_iter_s": 71.44312310218811, "episode_reward_min": 55.16267827235187, "iterations_since_restore": 66, "time_since_restore": 4446.10521030426, "experiment_id": "9b178520507b4656ac608c6ff2056ff7", "num_metric_batches_dropped": 0, "episode_len_mean": 724.56, "node_ip": "10.138.0.2", "timesteps_total": 32669924, "time_total_s": 12129.027389764786, "training_iteration": 266, "custom_metrics": {"system_level_velocity_min": 8.142066701836967, "cost1_mean": 322.49949397575705, "cost1_max": 474.5921312620095, "system_level_velocity_mean": 12.085817063791632, "outflow_rate_max": 1243.3712771760504, "system_level_velocity_max": 16.930972846199893, "outflow_rate_mean": 937.3724917197757, "cost2_mean": -152.2924896315028, "cost2_max": -39.25371610335465, "cost1_min": 42.768958072219284, "outflow_rate_min": 238.1717769965792, "cost2_min": -222.81773779928722}, "episodes_this_iter": 90, "hostname": "flow-main", "pid": 46359, "timesteps_since_restore": 11309691, "policy_reward_mean": {}, "info": {"update_time_ms": 11.565, "default": {"kl": 0.016557468101382256, "cur_lr": 0.0005000000237487257, "vf_loss": 23.643775939941406, "vf_explained_var": 0.8246836066246033, "entropy": 2.59328031539917, "total_loss": 23.63872718811035, "cur_kl_coeff": 0.44999995827674866, "policy_loss": -0.012497017160058022}, "sample_time_ms": 28096.938, "num_steps_trained": 32669924, "load_time_ms": 49.264, "grad_time_ms": 39377.239, "num_steps_sampled": 32669924}, "timestamp": 1557371314, "episode_reward_max": 1021.396646052382, "config": {"kl_coeff": 0.2, "lr": 0.0005, "vf_share_layers": false, "num_cpus_per_worker": 1, "local_evaluator_tf_session_args": {"inter_op_parallelism_threads": 8, "intra_op_parallelism_threads": 8}, "num_gpus": 0, "num_gpus_per_worker": 0, "vf_clip_param": 1000000.0, "batch_mode": "truncate_episodes", "num_workers": 60, "tf_session_args": {"inter_op_parallelism_threads": 2, "intra_op_parallelism_threads": 2, "gpu_options": {"allow_growth": true}, "device_count": {"CPU": 1}, "log_device_placement": false, "allow_soft_placement": true}, "custom_resources_per_worker": {}, "train_batch_size": 90000, "num_envs_per_worker": 1, "lambda": 0.97, "sgd_minibatch_size": 128, "input_evaluation": null, "sample_batch_size": 750, "vf_loss_coeff": 1.0, "output_max_file_size": 67108864, "model": {"fcnet_hiddens": [128, 64, 32], "conv_filters": null, "fcnet_activation": "tanh", "custom_options": {}, "dim": 84, "max_seq_len": 20, "custom_preprocessor": null, "zero_mean": true, "custom_model": null, "conv_activation": "relu", "use_lstm": false, "lstm_use_prev_action_reward": false, "free_log_std": false, "framestack": true, "lstm_cell_size": 256, "squash_to_range": false, "channel_major": false, "grayscale": false}, "multiagent": {"policy_mapping_fn": null, "policy_graphs": {}, "policies_to_train": null}, "collect_metrics_timeout": 180, "monitor": false, "horizon": 1500, "log_level": "INFO", "simple_optimizer": false, "clip_rewards": null, "synchronize_filters": true, "kl_target": 0.01, "input": "sampler", "preprocessor_pref": "deepmind", "clip_actions": false, "entropy_coeff": 0.0, "output": null, "num_sgd_iter": 10, "compress_observations": false, "observation_filter": "MeanStdFilter", "env_config": {"run": "PPO", "flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.3,\n            \"eta3\": 0.1,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 10.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 600,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}"}, "sample_async": false, "env": "MultiWaveAttenuationMergePOEnvBufferedObs-v0no_warmup_700m", "optimizer": {}, "lr_schedule": null, "use_gae": true, "callbacks": {"on_sample_end": null, "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7f3065f20240>", "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7f3065e25cc0>", "on_train_result": null, "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7f30dc2fdb70>"}, "gamma": 0.99, "output_compress_columns": ["obs", "new_obs"], "clip_param": 0.3, "num_cpus_for_driver": 1, "straggler_mitigation": false}, "episode_reward_mean": 747.5663608773756}
{"done": false, "date": "2019-05-09_03-09-42", "episodes_total": 19317, "timesteps_this_iter": 175007, "time_this_iter_s": 67.77402591705322, "episode_reward_min": 62.48657206942287, "iterations_since_restore": 67, "time_since_restore": 4513.8792362213135, "experiment_id": "9b178520507b4656ac608c6ff2056ff7", "num_metric_batches_dropped": 0, "episode_len_mean": 739.95, "node_ip": "10.138.0.2", "timesteps_total": 32844931, "time_total_s": 12196.801415681839, "training_iteration": 267, "custom_metrics": {"system_level_velocity_min": 8.187308345626816, "cost1_mean": 330.1015106818398, "cost1_max": 455.1080767395364, "system_level_velocity_mean": 12.066003253022421, "outflow_rate_max": 1251.2525158746294, "system_level_velocity_max": 16.171912538468405, "outflow_rate_mean": 952.9188756509153, "cost2_mean": -151.17357329226283, "cost2_max": -46.40121706979616, "cost1_min": 45.87035008591964, "outflow_rate_min": 248.54828587768424, "cost2_min": -234.24496863185544}, "episodes_this_iter": 86, "hostname": "flow-main", "pid": 46359, "timesteps_since_restore": 11484698, "policy_reward_mean": {}, "info": {"update_time_ms": 11.691, "default": {"kl": 0.016367590054869652, "cur_lr": 0.0005000000237487257, "vf_loss": 22.229507446289062, "vf_explained_var": 0.8401393890380859, "entropy": 2.633517265319824, "total_loss": 22.223712921142578, "cur_kl_coeff": 0.45000001788139343, "policy_loss": -0.013161877170205116}, "sample_time_ms": 28121.836, "num_steps_trained": 32844931, "load_time_ms": 54.965, "grad_time_ms": 39356.87, "num_steps_sampled": 32844931}, "timestamp": 1557371382, "episode_reward_max": 1144.4921997555946, "config": {"kl_coeff": 0.2, "lr": 0.0005, "vf_share_layers": false, "num_cpus_per_worker": 1, "local_evaluator_tf_session_args": {"inter_op_parallelism_threads": 8, "intra_op_parallelism_threads": 8}, "num_gpus": 0, "num_gpus_per_worker": 0, "vf_clip_param": 1000000.0, "batch_mode": "truncate_episodes", "num_workers": 60, "tf_session_args": {"inter_op_parallelism_threads": 2, "intra_op_parallelism_threads": 2, "gpu_options": {"allow_growth": true}, "device_count": {"CPU": 1}, "log_device_placement": false, "allow_soft_placement": true}, "custom_resources_per_worker": {}, "train_batch_size": 90000, "num_envs_per_worker": 1, "lambda": 0.97, "sgd_minibatch_size": 128, "input_evaluation": null, "sample_batch_size": 750, "vf_loss_coeff": 1.0, "output_max_file_size": 67108864, "model": {"fcnet_hiddens": [128, 64, 32], "conv_filters": null, "fcnet_activation": "tanh", "custom_options": {}, "dim": 84, "max_seq_len": 20, "custom_preprocessor": null, "zero_mean": true, "custom_model": null, "conv_activation": "relu", "use_lstm": false, "lstm_use_prev_action_reward": false, "free_log_std": false, "framestack": true, "lstm_cell_size": 256, "squash_to_range": false, "channel_major": false, "grayscale": false}, "multiagent": {"policy_mapping_fn": null, "policy_graphs": {}, "policies_to_train": null}, "collect_metrics_timeout": 180, "monitor": false, "horizon": 1500, "log_level": "INFO", "simple_optimizer": false, "clip_rewards": null, "synchronize_filters": true, "kl_target": 0.01, "input": "sampler", "preprocessor_pref": "deepmind", "clip_actions": false, "entropy_coeff": 0.0, "output": null, "num_sgd_iter": 10, "compress_observations": false, "observation_filter": "MeanStdFilter", "env_config": {"run": "PPO", "flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.3,\n            \"eta3\": 0.1,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 10.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 600,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}"}, "sample_async": false, "env": "MultiWaveAttenuationMergePOEnvBufferedObs-v0no_warmup_700m", "optimizer": {}, "lr_schedule": null, "use_gae": true, "callbacks": {"on_sample_end": null, "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7f3065f20e10>", "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7f3065f20630>", "on_train_result": null, "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7f3065f20780>"}, "gamma": 0.99, "output_compress_columns": ["obs", "new_obs"], "clip_param": 0.3, "num_cpus_for_driver": 1, "straggler_mitigation": false}, "episode_reward_mean": 766.7113449006289}
{"done": false, "date": "2019-05-09_03-10-53", "episodes_total": 19402, "timesteps_this_iter": 176666, "time_this_iter_s": 70.9537034034729, "episode_reward_min": 60.545842950873045, "iterations_since_restore": 68, "time_since_restore": 4584.832939624786, "experiment_id": "9b178520507b4656ac608c6ff2056ff7", "num_metric_batches_dropped": 0, "episode_len_mean": 728.55, "node_ip": "10.138.0.2", "timesteps_total": 33021597, "time_total_s": 12267.755119085312, "training_iteration": 268, "custom_metrics": {"system_level_velocity_min": 8.381917164436988, "cost1_mean": 322.62500097032927, "cost1_max": 473.02890696268673, "system_level_velocity_mean": 11.971713759783265, "outflow_rate_max": 1274.2071007969398, "system_level_velocity_max": 16.818546076618517, "outflow_rate_mean": 939.3829293124259, "cost2_mean": -153.9572980458098, "cost2_max": -45.55323851872114, "cost1_min": 45.7830597760976, "outflow_rate_min": 248.54828587768424, "cost2_min": -234.24496863185544}, "episodes_this_iter": 85, "hostname": "flow-main", "pid": 46359, "timesteps_since_restore": 11661364, "policy_reward_mean": {}, "info": {"update_time_ms": 12.277, "default": {"kl": 0.0165502168238163, "cur_lr": 0.0005000000237487257, "vf_loss": 21.159236907958984, "vf_explained_var": 0.8543710112571716, "entropy": 2.6077640056610107, "total_loss": 21.153587341308594, "cur_kl_coeff": 0.44999998807907104, "policy_loss": -0.013098884373903275}, "sample_time_ms": 28287.669, "num_steps_trained": 33021597, "load_time_ms": 60.364, "grad_time_ms": 39678.715, "num_steps_sampled": 33021597}, "timestamp": 1557371453, "episode_reward_max": 1128.1390587720114, "config": {"kl_coeff": 0.2, "lr": 0.0005, "vf_share_layers": false, "num_cpus_per_worker": 1, "local_evaluator_tf_session_args": {"inter_op_parallelism_threads": 8, "intra_op_parallelism_threads": 8}, "num_gpus": 0, "num_gpus_per_worker": 0, "vf_clip_param": 1000000.0, "batch_mode": "truncate_episodes", "num_workers": 60, "tf_session_args": {"inter_op_parallelism_threads": 2, "intra_op_parallelism_threads": 2, "gpu_options": {"allow_growth": true}, "device_count": {"CPU": 1}, "log_device_placement": false, "allow_soft_placement": true}, "custom_resources_per_worker": {}, "train_batch_size": 90000, "num_envs_per_worker": 1, "lambda": 0.97, "sgd_minibatch_size": 128, "input_evaluation": null, "sample_batch_size": 750, "vf_loss_coeff": 1.0, "output_max_file_size": 67108864, "model": {"fcnet_hiddens": [128, 64, 32], "conv_filters": null, "fcnet_activation": "tanh", "custom_options": {}, "dim": 84, "max_seq_len": 20, "custom_preprocessor": null, "zero_mean": true, "custom_model": null, "conv_activation": "relu", "use_lstm": false, "lstm_use_prev_action_reward": false, "free_log_std": false, "framestack": true, "lstm_cell_size": 256, "squash_to_range": false, "channel_major": false, "grayscale": false}, "multiagent": {"policy_mapping_fn": null, "policy_graphs": {}, "policies_to_train": null}, "collect_metrics_timeout": 180, "monitor": false, "horizon": 1500, "log_level": "INFO", "simple_optimizer": false, "clip_rewards": null, "synchronize_filters": true, "kl_target": 0.01, "input": "sampler", "preprocessor_pref": "deepmind", "clip_actions": false, "entropy_coeff": 0.0, "output": null, "num_sgd_iter": 10, "compress_observations": false, "observation_filter": "MeanStdFilter", "env_config": {"run": "PPO", "flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.3,\n            \"eta3\": 0.1,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 10.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 600,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}"}, "sample_async": false, "env": "MultiWaveAttenuationMergePOEnvBufferedObs-v0no_warmup_700m", "optimizer": {}, "lr_schedule": null, "use_gae": true, "callbacks": {"on_sample_end": null, "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7f3065e25a90>", "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7f3065e25c50>", "on_train_result": null, "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7f3065e25cc0>"}, "gamma": 0.99, "output_compress_columns": ["obs", "new_obs"], "clip_param": 0.3, "num_cpus_for_driver": 1, "straggler_mitigation": false}, "episode_reward_mean": 739.6915628667464}
{"done": false, "date": "2019-05-09_03-12-03", "episodes_total": 19489, "timesteps_this_iter": 176207, "time_this_iter_s": 69.59316849708557, "episode_reward_min": 55.96978817556206, "iterations_since_restore": 69, "time_since_restore": 4654.426108121872, "experiment_id": "9b178520507b4656ac608c6ff2056ff7", "num_metric_batches_dropped": 0, "episode_len_mean": 726.01, "node_ip": "10.138.0.2", "timesteps_total": 33197804, "time_total_s": 12337.348287582397, "training_iteration": 269, "custom_metrics": {"system_level_velocity_min": 8.57616557772597, "cost1_mean": 319.1937457172336, "cost1_max": 425.2776706959113, "system_level_velocity_mean": 11.920206766359057, "outflow_rate_max": 1204.7968428558515, "system_level_velocity_max": 15.504529226201521, "outflow_rate_mean": 927.815089303848, "cost2_mean": -150.63415263776125, "cost2_max": -43.06261505980824, "cost1_min": 43.578859807804605, "outflow_rate_min": 243.581279338333, "cost2_min": -227.40843941002043}, "episodes_this_iter": 87, "hostname": "flow-main", "pid": 46359, "timesteps_since_restore": 11837571, "policy_reward_mean": {}, "info": {"update_time_ms": 12.619, "default": {"kl": 0.016733000054955482, "cur_lr": 0.0005000000237487257, "vf_loss": 21.270477294921875, "vf_explained_var": 0.8437877893447876, "entropy": 2.655405044555664, "total_loss": 21.264984130859375, "cur_kl_coeff": 0.44999995827674866, "policy_loss": -0.013023218140006065}, "sample_time_ms": 28358.502, "num_steps_trained": 33197804, "load_time_ms": 66.937, "grad_time_ms": 39845.078, "num_steps_sampled": 33197804}, "timestamp": 1557371523, "episode_reward_max": 956.9563229147606, "config": {"kl_coeff": 0.2, "lr": 0.0005, "vf_share_layers": false, "num_cpus_per_worker": 1, "local_evaluator_tf_session_args": {"inter_op_parallelism_threads": 8, "intra_op_parallelism_threads": 8}, "num_gpus": 0, "num_gpus_per_worker": 0, "vf_clip_param": 1000000.0, "batch_mode": "truncate_episodes", "num_workers": 60, "tf_session_args": {"inter_op_parallelism_threads": 2, "intra_op_parallelism_threads": 2, "gpu_options": {"allow_growth": true}, "device_count": {"CPU": 1}, "log_device_placement": false, "allow_soft_placement": true}, "custom_resources_per_worker": {}, "train_batch_size": 90000, "num_envs_per_worker": 1, "lambda": 0.97, "sgd_minibatch_size": 128, "input_evaluation": null, "sample_batch_size": 750, "vf_loss_coeff": 1.0, "output_max_file_size": 67108864, "model": {"fcnet_hiddens": [128, 64, 32], "conv_filters": null, "fcnet_activation": "tanh", "custom_options": {}, "dim": 84, "max_seq_len": 20, "custom_preprocessor": null, "zero_mean": true, "custom_model": null, "conv_activation": "relu", "use_lstm": false, "lstm_use_prev_action_reward": false, "free_log_std": false, "framestack": true, "lstm_cell_size": 256, "squash_to_range": false, "channel_major": false, "grayscale": false}, "multiagent": {"policy_mapping_fn": null, "policy_graphs": {}, "policies_to_train": null}, "collect_metrics_timeout": 180, "monitor": false, "horizon": 1500, "log_level": "INFO", "simple_optimizer": false, "clip_rewards": null, "synchronize_filters": true, "kl_target": 0.01, "input": "sampler", "preprocessor_pref": "deepmind", "clip_actions": false, "entropy_coeff": 0.0, "output": null, "num_sgd_iter": 10, "compress_observations": false, "observation_filter": "MeanStdFilter", "env_config": {"run": "PPO", "flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.3,\n            \"eta3\": 0.1,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 10.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 600,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}"}, "sample_async": false, "env": "MultiWaveAttenuationMergePOEnvBufferedObs-v0no_warmup_700m", "optimizer": {}, "lr_schedule": null, "use_gae": true, "callbacks": {"on_sample_end": null, "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7f3065f20e10>", "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7f3065f204a8>", "on_train_result": null, "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7f3065f207f0>"}, "gamma": 0.99, "output_compress_columns": ["obs", "new_obs"], "clip_param": 0.3, "num_cpus_for_driver": 1, "straggler_mitigation": false}, "episode_reward_mean": 735.0112130816478}
{"done": false, "date": "2019-05-09_03-13-13", "episodes_total": 19577, "timesteps_this_iter": 179520, "time_this_iter_s": 70.19363498687744, "episode_reward_min": 91.02919387360977, "iterations_since_restore": 70, "time_since_restore": 4724.619743108749, "experiment_id": "9b178520507b4656ac608c6ff2056ff7", "num_metric_batches_dropped": 0, "episode_len_mean": 734.93, "node_ip": "10.138.0.2", "timesteps_total": 33377324, "time_total_s": 12407.541922569275, "training_iteration": 270, "custom_metrics": {"system_level_velocity_min": 8.1509222010431, "cost1_mean": 318.9782577057865, "cost1_max": 433.43248425604565, "system_level_velocity_mean": 11.786229009979392, "outflow_rate_max": 1205.7930812642553, "system_level_velocity_max": 15.494196686591234, "outflow_rate_mean": 933.0961419841607, "cost2_mean": -154.8092562712369, "cost2_max": -54.709523843336044, "cost1_min": 62.6703317752153, "outflow_rate_min": 282.9702894338915, "cost2_min": -245.27628398610537}, "episodes_this_iter": 88, "hostname": "flow-main", "pid": 46359, "timesteps_since_restore": 12017091, "policy_reward_mean": {}, "info": {"update_time_ms": 12.72, "default": {"kl": 0.016317538917064667, "cur_lr": 0.0005000000237487257, "vf_loss": 21.174060821533203, "vf_explained_var": 0.8563253283500671, "entropy": 2.6733176708221436, "total_loss": 21.16874885559082, "cur_kl_coeff": 0.44999998807907104, "policy_loss": -0.012655388563871384}, "sample_time_ms": 28410.326, "num_steps_trained": 33377324, "load_time_ms": 69.0, "grad_time_ms": 40076.224, "num_steps_sampled": 33377324}, "timestamp": 1557371593, "episode_reward_max": 968.5753861568821, "config": {"kl_coeff": 0.2, "lr": 0.0005, "vf_share_layers": false, "num_cpus_per_worker": 1, "local_evaluator_tf_session_args": {"inter_op_parallelism_threads": 8, "intra_op_parallelism_threads": 8}, "num_gpus": 0, "num_gpus_per_worker": 0, "vf_clip_param": 1000000.0, "batch_mode": "truncate_episodes", "num_workers": 60, "tf_session_args": {"inter_op_parallelism_threads": 2, "intra_op_parallelism_threads": 2, "gpu_options": {"allow_growth": true}, "device_count": {"CPU": 1}, "log_device_placement": false, "allow_soft_placement": true}, "custom_resources_per_worker": {}, "train_batch_size": 90000, "num_envs_per_worker": 1, "lambda": 0.97, "sgd_minibatch_size": 128, "input_evaluation": null, "sample_batch_size": 750, "vf_loss_coeff": 1.0, "output_max_file_size": 67108864, "model": {"fcnet_hiddens": [128, 64, 32], "conv_filters": null, "fcnet_activation": "tanh", "custom_options": {}, "dim": 84, "max_seq_len": 20, "custom_preprocessor": null, "zero_mean": true, "custom_model": null, "conv_activation": "relu", "use_lstm": false, "lstm_use_prev_action_reward": false, "free_log_std": false, "framestack": true, "lstm_cell_size": 256, "squash_to_range": false, "channel_major": false, "grayscale": false}, "multiagent": {"policy_mapping_fn": null, "policy_graphs": {}, "policies_to_train": null}, "collect_metrics_timeout": 180, "monitor": false, "horizon": 1500, "log_level": "INFO", "simple_optimizer": false, "clip_rewards": null, "synchronize_filters": true, "kl_target": 0.01, "input": "sampler", "preprocessor_pref": "deepmind", "clip_actions": false, "entropy_coeff": 0.0, "output": null, "num_sgd_iter": 10, "compress_observations": false, "observation_filter": "MeanStdFilter", "env_config": {"run": "PPO", "flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.3,\n            \"eta3\": 0.1,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 10.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 600,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}"}, "sample_async": false, "env": "MultiWaveAttenuationMergePOEnvBufferedObs-v0no_warmup_700m", "optimizer": {}, "lr_schedule": null, "use_gae": true, "callbacks": {"on_sample_end": null, "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7f3065e25c50>", "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7f3065e25198>", "on_train_result": null, "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7f3065e25a90>"}, "gamma": 0.99, "output_compress_columns": ["obs", "new_obs"], "clip_param": 0.3, "num_cpus_for_driver": 1, "straggler_mitigation": false}, "episode_reward_mean": 734.7231629363704}
{"done": false, "date": "2019-05-09_03-14-22", "episodes_total": 19666, "timesteps_this_iter": 173481, "time_this_iter_s": 69.44731163978577, "episode_reward_min": 199.23488846709924, "iterations_since_restore": 71, "time_since_restore": 4794.067054748535, "experiment_id": "9b178520507b4656ac608c6ff2056ff7", "num_metric_batches_dropped": 0, "episode_len_mean": 730.5, "node_ip": "10.138.0.2", "timesteps_total": 33550805, "time_total_s": 12476.98923420906, "training_iteration": 271, "custom_metrics": {"system_level_velocity_min": 9.33242656539239, "cost1_mean": 328.2776518252556, "cost1_max": 463.3099331405824, "system_level_velocity_mean": 12.2451399191497, "outflow_rate_max": 1260.662971111151, "system_level_velocity_max": 16.523568241412807, "outflow_rate_mean": 947.0775701499189, "cost2_mean": -145.86518572925223, "cost2_max": -40.99710686978837, "cost1_min": 106.03733451052304, "outflow_rate_min": 397.55608625682726, "cost2_min": -216.21895971248972}, "episodes_this_iter": 89, "hostname": "flow-main", "pid": 46359, "timesteps_since_restore": 12190572, "policy_reward_mean": {}, "info": {"update_time_ms": 12.442, "default": {"kl": 0.01710224151611328, "cur_lr": 0.0005000000237487257, "vf_loss": 23.699031829833984, "vf_explained_var": 0.8460665345191956, "entropy": 2.6597280502319336, "total_loss": 23.692691802978516, "cur_kl_coeff": 0.44999998807907104, "policy_loss": -0.014034329913556576}, "sample_time_ms": 28538.165, "num_steps_trained": 33550805, "load_time_ms": 75.976, "grad_time_ms": 40207.606, "num_steps_sampled": 33550805}, "timestamp": 1557371662, "episode_reward_max": 1130.8417021259124, "config": {"kl_coeff": 0.2, "lr": 0.0005, "vf_share_layers": false, "num_cpus_per_worker": 1, "local_evaluator_tf_session_args": {"inter_op_parallelism_threads": 8, "intra_op_parallelism_threads": 8}, "num_gpus": 0, "num_gpus_per_worker": 0, "vf_clip_param": 1000000.0, "batch_mode": "truncate_episodes", "num_workers": 60, "tf_session_args": {"inter_op_parallelism_threads": 2, "intra_op_parallelism_threads": 2, "gpu_options": {"allow_growth": true}, "device_count": {"CPU": 1}, "log_device_placement": false, "allow_soft_placement": true}, "custom_resources_per_worker": {}, "train_batch_size": 90000, "num_envs_per_worker": 1, "lambda": 0.97, "sgd_minibatch_size": 128, "input_evaluation": null, "sample_batch_size": 750, "vf_loss_coeff": 1.0, "output_max_file_size": 67108864, "model": {"fcnet_hiddens": [128, 64, 32], "conv_filters": null, "fcnet_activation": "tanh", "custom_options": {}, "dim": 84, "max_seq_len": 20, "custom_preprocessor": null, "zero_mean": true, "custom_model": null, "conv_activation": "relu", "use_lstm": false, "lstm_use_prev_action_reward": false, "free_log_std": false, "framestack": true, "lstm_cell_size": 256, "squash_to_range": false, "channel_major": false, "grayscale": false}, "multiagent": {"policy_mapping_fn": null, "policy_graphs": {}, "policies_to_train": null}, "collect_metrics_timeout": 180, "monitor": false, "horizon": 1500, "log_level": "INFO", "simple_optimizer": false, "clip_rewards": null, "synchronize_filters": true, "kl_target": 0.01, "input": "sampler", "preprocessor_pref": "deepmind", "clip_actions": false, "entropy_coeff": 0.0, "output": null, "num_sgd_iter": 10, "compress_observations": false, "observation_filter": "MeanStdFilter", "env_config": {"run": "PPO", "flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.3,\n            \"eta3\": 0.1,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 10.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 600,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}"}, "sample_async": false, "env": "MultiWaveAttenuationMergePOEnvBufferedObs-v0no_warmup_700m", "optimizer": {}, "lr_schedule": null, "use_gae": true, "callbacks": {"on_sample_end": null, "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7f3065f201d0>", "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7f3065f20cf8>", "on_train_result": null, "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7f3065f20630>"}, "gamma": 0.99, "output_compress_columns": ["obs", "new_obs"], "clip_param": 0.3, "num_cpus_for_driver": 1, "straggler_mitigation": false}, "episode_reward_mean": 746.8904590019565}
{"done": false, "date": "2019-05-09_03-15-33", "episodes_total": 19752, "timesteps_this_iter": 179010, "time_this_iter_s": 70.32151937484741, "episode_reward_min": 242.349649615574, "iterations_since_restore": 72, "time_since_restore": 4864.388574123383, "experiment_id": "9b178520507b4656ac608c6ff2056ff7", "num_metric_batches_dropped": 0, "episode_len_mean": 737.52, "node_ip": "10.138.0.2", "timesteps_total": 33729815, "time_total_s": 12547.310753583908, "training_iteration": 272, "custom_metrics": {"system_level_velocity_min": 8.377294769660631, "cost1_mean": 325.8620400915193, "cost1_max": 473.91240522981883, "system_level_velocity_mean": 12.066539171135764, "outflow_rate_max": 1244.796644028692, "system_level_velocity_max": 17.041604511187238, "outflow_rate_mean": 942.926690472138, "cost2_mean": -148.71332868985897, "cost2_max": -40.99710686978837, "cost1_min": 137.6636209434409, "outflow_rate_min": 475.7423206858948, "cost2_min": -222.01986825859237}, "episodes_this_iter": 86, "hostname": "flow-main", "pid": 46359, "timesteps_since_restore": 12369582, "policy_reward_mean": {}, "info": {"update_time_ms": 12.199, "default": {"kl": 0.016474995762109756, "cur_lr": 0.0005000000237487257, "vf_loss": 22.21910285949707, "vf_explained_var": 0.8625997304916382, "entropy": 2.696826457977295, "total_loss": 22.21342658996582, "cur_kl_coeff": 0.44999998807907104, "policy_loss": -0.013089517131447792}, "sample_time_ms": 28490.79, "num_steps_trained": 33729815, "load_time_ms": 73.63, "grad_time_ms": 40403.533, "num_steps_sampled": 33729815}, "timestamp": 1557371733, "episode_reward_max": 1007.3775502417799, "config": {"kl_coeff": 0.2, "lr": 0.0005, "vf_share_layers": false, "num_cpus_per_worker": 1, "local_evaluator_tf_session_args": {"inter_op_parallelism_threads": 8, "intra_op_parallelism_threads": 8}, "num_gpus": 0, "num_gpus_per_worker": 0, "vf_clip_param": 1000000.0, "batch_mode": "truncate_episodes", "num_workers": 60, "tf_session_args": {"inter_op_parallelism_threads": 2, "intra_op_parallelism_threads": 2, "gpu_options": {"allow_growth": true}, "device_count": {"CPU": 1}, "log_device_placement": false, "allow_soft_placement": true}, "custom_resources_per_worker": {}, "train_batch_size": 90000, "num_envs_per_worker": 1, "lambda": 0.97, "sgd_minibatch_size": 128, "input_evaluation": null, "sample_batch_size": 750, "vf_loss_coeff": 1.0, "output_max_file_size": 67108864, "model": {"fcnet_hiddens": [128, 64, 32], "conv_filters": null, "fcnet_activation": "tanh", "custom_options": {}, "dim": 84, "max_seq_len": 20, "custom_preprocessor": null, "zero_mean": true, "custom_model": null, "conv_activation": "relu", "use_lstm": false, "lstm_use_prev_action_reward": false, "free_log_std": false, "framestack": true, "lstm_cell_size": 256, "squash_to_range": false, "channel_major": false, "grayscale": false}, "multiagent": {"policy_mapping_fn": null, "policy_graphs": {}, "policies_to_train": null}, "collect_metrics_timeout": 180, "monitor": false, "horizon": 1500, "log_level": "INFO", "simple_optimizer": false, "clip_rewards": null, "synchronize_filters": true, "kl_target": 0.01, "input": "sampler", "preprocessor_pref": "deepmind", "clip_actions": false, "entropy_coeff": 0.0, "output": null, "num_sgd_iter": 10, "compress_observations": false, "observation_filter": "MeanStdFilter", "env_config": {"run": "PPO", "flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.3,\n            \"eta3\": 0.1,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 10.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 600,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}"}, "sample_async": false, "env": "MultiWaveAttenuationMergePOEnvBufferedObs-v0no_warmup_700m", "optimizer": {}, "lr_schedule": null, "use_gae": true, "callbacks": {"on_sample_end": null, "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7f3065f12320>", "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7f3065f129b0>", "on_train_result": null, "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7f3065f12ef0>"}, "gamma": 0.99, "output_compress_columns": ["obs", "new_obs"], "clip_param": 0.3, "num_cpus_for_driver": 1, "straggler_mitigation": false}, "episode_reward_mean": 744.1526450241146}
{"done": false, "date": "2019-05-09_03-16-41", "episodes_total": 19837, "timesteps_this_iter": 177201, "time_this_iter_s": 67.94557189941406, "episode_reward_min": 221.70786406340773, "iterations_since_restore": 73, "time_since_restore": 4932.334146022797, "experiment_id": "9b178520507b4656ac608c6ff2056ff7", "num_metric_batches_dropped": 0, "episode_len_mean": 743.13, "node_ip": "10.138.0.2", "timesteps_total": 33907016, "time_total_s": 12615.256325483322, "training_iteration": 273, "custom_metrics": {"system_level_velocity_min": 8.392246012865119, "cost1_mean": 322.14559513738067, "cost1_max": 469.8505527069865, "system_level_velocity_mean": 11.800430406979519, "outflow_rate_max": 1253.6304879705351, "system_level_velocity_max": 16.558292927379007, "outflow_rate_mean": 939.2345337507031, "cost2_mean": -152.63496139707067, "cost2_max": -53.8011457167914, "cost1_min": 112.21711113049065, "outflow_rate_min": 422.69392688859045, "cost2_min": -233.80882522676976}, "episodes_this_iter": 85, "hostname": "flow-main", "pid": 46359, "timesteps_since_restore": 12546783, "policy_reward_mean": {}, "info": {"update_time_ms": 12.14, "default": {"kl": 0.016477365046739578, "cur_lr": 0.0005000000237487257, "vf_loss": 21.72607421875, "vf_explained_var": 0.8542292714118958, "entropy": 2.694005250930786, "total_loss": 21.720626831054688, "cur_kl_coeff": 0.44999995827674866, "policy_loss": -0.012861764058470726}, "sample_time_ms": 28511.052, "num_steps_trained": 33907016, "load_time_ms": 72.006, "grad_time_ms": 40351.652, "num_steps_sampled": 33907016}, "timestamp": 1557371801, "episode_reward_max": 1046.2031412792971, "config": {"kl_coeff": 0.2, "lr": 0.0005, "vf_share_layers": false, "num_cpus_per_worker": 1, "local_evaluator_tf_session_args": {"inter_op_parallelism_threads": 8, "intra_op_parallelism_threads": 8}, "num_gpus": 0, "num_gpus_per_worker": 0, "vf_clip_param": 1000000.0, "batch_mode": "truncate_episodes", "num_workers": 60, "tf_session_args": {"inter_op_parallelism_threads": 2, "intra_op_parallelism_threads": 2, "gpu_options": {"allow_growth": true}, "device_count": {"CPU": 1}, "log_device_placement": false, "allow_soft_placement": true}, "custom_resources_per_worker": {}, "train_batch_size": 90000, "num_envs_per_worker": 1, "lambda": 0.97, "sgd_minibatch_size": 128, "input_evaluation": null, "sample_batch_size": 750, "vf_loss_coeff": 1.0, "output_max_file_size": 67108864, "model": {"fcnet_hiddens": [128, 64, 32], "conv_filters": null, "fcnet_activation": "tanh", "custom_options": {}, "dim": 84, "max_seq_len": 20, "custom_preprocessor": null, "zero_mean": true, "custom_model": null, "conv_activation": "relu", "use_lstm": false, "lstm_use_prev_action_reward": false, "free_log_std": false, "framestack": true, "lstm_cell_size": 256, "squash_to_range": false, "channel_major": false, "grayscale": false}, "multiagent": {"policy_mapping_fn": null, "policy_graphs": {}, "policies_to_train": null}, "collect_metrics_timeout": 180, "monitor": false, "horizon": 1500, "log_level": "INFO", "simple_optimizer": false, "clip_rewards": null, "synchronize_filters": true, "kl_target": 0.01, "input": "sampler", "preprocessor_pref": "deepmind", "clip_actions": false, "entropy_coeff": 0.0, "output": null, "num_sgd_iter": 10, "compress_observations": false, "observation_filter": "MeanStdFilter", "env_config": {"run": "PPO", "flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.3,\n            \"eta3\": 0.1,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 10.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 600,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}"}, "sample_async": false, "env": "MultiWaveAttenuationMergePOEnvBufferedObs-v0no_warmup_700m", "optimizer": {}, "lr_schedule": null, "use_gae": true, "callbacks": {"on_sample_end": null, "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7f3065f20e10>", "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7f3065f20748>", "on_train_result": null, "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7f3065f20b00>"}, "gamma": 0.99, "output_compress_columns": ["obs", "new_obs"], "clip_param": 0.3, "num_cpus_for_driver": 1, "straggler_mitigation": false}, "episode_reward_mean": 745.4210379738039}
{"done": false, "date": "2019-05-09_03-17-52", "episodes_total": 19925, "timesteps_this_iter": 174780, "time_this_iter_s": 70.92336773872375, "episode_reward_min": 57.905314899695085, "iterations_since_restore": 74, "time_since_restore": 5003.25751376152, "experiment_id": "9b178520507b4656ac608c6ff2056ff7", "num_metric_batches_dropped": 0, "episode_len_mean": 727.79, "node_ip": "10.138.0.2", "timesteps_total": 34081796, "time_total_s": 12686.179693222046, "training_iteration": 274, "custom_metrics": {"system_level_velocity_min": 8.392246012865119, "cost1_mean": 321.24094578877083, "cost1_max": 460.8509544465176, "system_level_velocity_mean": 11.99024851097725, "outflow_rate_max": 1260.905052386283, "system_level_velocity_max": 16.59201020574549, "outflow_rate_mean": 931.4929581797721, "cost2_mean": -150.56299877441018, "cost2_max": -41.78620047108023, "cost1_min": 43.12937124436792, "outflow_rate_min": 242.59508604444738, "cost2_min": -235.48532448305178}, "episodes_this_iter": 88, "hostname": "flow-main", "pid": 46359, "timesteps_since_restore": 12721563, "policy_reward_mean": {}, "info": {"update_time_ms": 12.25, "default": {"kl": 0.016545778140425682, "cur_lr": 0.0005000000237487257, "vf_loss": 24.00935173034668, "vf_explained_var": 0.8329340219497681, "entropy": 2.5899641513824463, "total_loss": 24.00409507751465, "cur_kl_coeff": 0.44999998807907104, "policy_loss": -0.01270043384283781}, "sample_time_ms": 28765.12, "num_steps_trained": 34081796, "load_time_ms": 68.624, "grad_time_ms": 40532.497, "num_steps_sampled": 34081796}, "timestamp": 1557371872, "episode_reward_max": 1065.7373789567753, "config": {"kl_coeff": 0.2, "lr": 0.0005, "vf_share_layers": false, "num_cpus_per_worker": 1, "local_evaluator_tf_session_args": {"inter_op_parallelism_threads": 8, "intra_op_parallelism_threads": 8}, "num_gpus": 0, "num_gpus_per_worker": 0, "vf_clip_param": 1000000.0, "batch_mode": "truncate_episodes", "num_workers": 60, "tf_session_args": {"inter_op_parallelism_threads": 2, "intra_op_parallelism_threads": 2, "gpu_options": {"allow_growth": true}, "device_count": {"CPU": 1}, "log_device_placement": false, "allow_soft_placement": true}, "custom_resources_per_worker": {}, "train_batch_size": 90000, "num_envs_per_worker": 1, "lambda": 0.97, "sgd_minibatch_size": 128, "input_evaluation": null, "sample_batch_size": 750, "vf_loss_coeff": 1.0, "output_max_file_size": 67108864, "model": {"fcnet_hiddens": [128, 64, 32], "conv_filters": null, "fcnet_activation": "tanh", "custom_options": {}, "dim": 84, "max_seq_len": 20, "custom_preprocessor": null, "zero_mean": true, "custom_model": null, "conv_activation": "relu", "use_lstm": false, "lstm_use_prev_action_reward": false, "free_log_std": false, "framestack": true, "lstm_cell_size": 256, "squash_to_range": false, "channel_major": false, "grayscale": false}, "multiagent": {"policy_mapping_fn": null, "policy_graphs": {}, "policies_to_train": null}, "collect_metrics_timeout": 180, "monitor": false, "horizon": 1500, "log_level": "INFO", "simple_optimizer": false, "clip_rewards": null, "synchronize_filters": true, "kl_target": 0.01, "input": "sampler", "preprocessor_pref": "deepmind", "clip_actions": false, "entropy_coeff": 0.0, "output": null, "num_sgd_iter": 10, "compress_observations": false, "observation_filter": "MeanStdFilter", "env_config": {"run": "PPO", "flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.3,\n            \"eta3\": 0.1,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 10.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 600,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}"}, "sample_async": false, "env": "MultiWaveAttenuationMergePOEnvBufferedObs-v0no_warmup_700m", "optimizer": {}, "lr_schedule": null, "use_gae": true, "callbacks": {"on_sample_end": null, "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7f3065f12208>", "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7f3065e250b8>", "on_train_result": null, "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7f3065f5db38>"}, "gamma": 0.99, "output_compress_columns": ["obs", "new_obs"], "clip_param": 0.3, "num_cpus_for_driver": 1, "straggler_mitigation": false}, "episode_reward_mean": 738.524192824342}
{"done": false, "date": "2019-05-09_03-19-03", "episodes_total": 20013, "timesteps_this_iter": 176222, "time_this_iter_s": 71.0262463092804, "episode_reward_min": 57.905314899695085, "iterations_since_restore": 75, "time_since_restore": 5074.283760070801, "experiment_id": "9b178520507b4656ac608c6ff2056ff7", "num_metric_batches_dropped": 0, "episode_len_mean": 723.23, "node_ip": "10.138.0.2", "timesteps_total": 34258018, "time_total_s": 12757.205939531326, "training_iteration": 275, "custom_metrics": {"system_level_velocity_min": 8.853669253855653, "cost1_mean": 322.011916047964, "cost1_max": 472.359192556559, "system_level_velocity_mean": 12.07097139889914, "outflow_rate_max": 1272.6862240678852, "system_level_velocity_max": 16.72997657010937, "outflow_rate_mean": 937.2073086234876, "cost2_mean": -153.04246489486283, "cost2_max": -41.78620047108023, "cost1_min": 43.12937124436792, "outflow_rate_min": 244.34392665270443, "cost2_min": -227.83096073317526}, "episodes_this_iter": 88, "hostname": "flow-main", "pid": 46359, "timesteps_since_restore": 12897785, "policy_reward_mean": {}, "info": {"update_time_ms": 12.113, "default": {"kl": 0.017681080847978592, "cur_lr": 0.0005000000237487257, "vf_loss": 23.482757568359375, "vf_explained_var": 0.8305031657218933, "entropy": 2.646965980529785, "total_loss": 23.47994041442871, "cur_kl_coeff": 0.44999995827674866, "policy_loss": -0.010774815455079079}, "sample_time_ms": 28748.132, "num_steps_trained": 34258018, "load_time_ms": 67.504, "grad_time_ms": 40778.584, "num_steps_sampled": 34258018}, "timestamp": 1557371943, "episode_reward_max": 1087.0359879740136, "config": {"kl_coeff": 0.2, "lr": 0.0005, "vf_share_layers": false, "num_cpus_per_worker": 1, "local_evaluator_tf_session_args": {"inter_op_parallelism_threads": 8, "intra_op_parallelism_threads": 8}, "num_gpus": 0, "num_gpus_per_worker": 0, "vf_clip_param": 1000000.0, "batch_mode": "truncate_episodes", "num_workers": 60, "tf_session_args": {"inter_op_parallelism_threads": 2, "intra_op_parallelism_threads": 2, "gpu_options": {"allow_growth": true}, "device_count": {"CPU": 1}, "log_device_placement": false, "allow_soft_placement": true}, "custom_resources_per_worker": {}, "train_batch_size": 90000, "num_envs_per_worker": 1, "lambda": 0.97, "sgd_minibatch_size": 128, "input_evaluation": null, "sample_batch_size": 750, "vf_loss_coeff": 1.0, "output_max_file_size": 67108864, "model": {"fcnet_hiddens": [128, 64, 32], "conv_filters": null, "fcnet_activation": "tanh", "custom_options": {}, "dim": 84, "max_seq_len": 20, "custom_preprocessor": null, "zero_mean": true, "custom_model": null, "conv_activation": "relu", "use_lstm": false, "lstm_use_prev_action_reward": false, "free_log_std": false, "framestack": true, "lstm_cell_size": 256, "squash_to_range": false, "channel_major": false, "grayscale": false}, "multiagent": {"policy_mapping_fn": null, "policy_graphs": {}, "policies_to_train": null}, "collect_metrics_timeout": 180, "monitor": false, "horizon": 1500, "log_level": "INFO", "simple_optimizer": false, "clip_rewards": null, "synchronize_filters": true, "kl_target": 0.01, "input": "sampler", "preprocessor_pref": "deepmind", "clip_actions": false, "entropy_coeff": 0.0, "output": null, "num_sgd_iter": 10, "compress_observations": false, "observation_filter": "MeanStdFilter", "env_config": {"run": "PPO", "flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.3,\n            \"eta3\": 0.1,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 10.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 600,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}"}, "sample_async": false, "env": "MultiWaveAttenuationMergePOEnvBufferedObs-v0no_warmup_700m", "optimizer": {}, "lr_schedule": null, "use_gae": true, "callbacks": {"on_sample_end": null, "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7f3065f12780>", "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7f3065f122b0>", "on_train_result": null, "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7f3065f12b38>"}, "gamma": 0.99, "output_compress_columns": ["obs", "new_obs"], "clip_param": 0.3, "num_cpus_for_driver": 1, "straggler_mitigation": false}, "episode_reward_mean": 734.1537893063852}
{"done": false, "date": "2019-05-09_03-20-11", "episodes_total": 20099, "timesteps_this_iter": 176835, "time_this_iter_s": 68.06625247001648, "episode_reward_min": 56.38936557994317, "iterations_since_restore": 76, "time_since_restore": 5142.350012540817, "experiment_id": "9b178520507b4656ac608c6ff2056ff7", "num_metric_batches_dropped": 0, "episode_len_mean": 739.31, "node_ip": "10.138.0.2", "timesteps_total": 34434853, "time_total_s": 12825.272192001343, "training_iteration": 276, "custom_metrics": {"system_level_velocity_min": 8.853669253855653, "cost1_mean": 330.872679625571, "cost1_max": 493.5585490579042, "system_level_velocity_mean": 12.148558529948405, "outflow_rate_max": 1303.4030864211531, "system_level_velocity_max": 17.78185949174482, "outflow_rate_mean": 957.5606329414945, "cost2_mean": -153.7226780344751, "cost2_max": -42.83699004690123, "cost1_min": 43.92742925851918, "outflow_rate_min": 242.05043394610146, "cost2_min": -251.54218669406043}, "episodes_this_iter": 86, "hostname": "flow-main", "pid": 46359, "timesteps_since_restore": 13074620, "policy_reward_mean": {}, "info": {"update_time_ms": 12.125, "default": {"kl": 0.016917720437049866, "cur_lr": 0.0005000000237487257, "vf_loss": 22.428403854370117, "vf_explained_var": 0.8415871858596802, "entropy": 2.682008743286133, "total_loss": 22.423606872558594, "cur_kl_coeff": 0.44999995827674866, "policy_loss": -0.012410812079906464}, "sample_time_ms": 28688.532, "num_steps_trained": 34434853, "load_time_ms": 62.909, "grad_time_ms": 40510.863, "num_steps_sampled": 34434853}, "timestamp": 1557372011, "episode_reward_max": 1097.085269177171, "config": {"kl_coeff": 0.2, "lr": 0.0005, "vf_share_layers": false, "num_cpus_per_worker": 1, "local_evaluator_tf_session_args": {"inter_op_parallelism_threads": 8, "intra_op_parallelism_threads": 8}, "num_gpus": 0, "num_gpus_per_worker": 0, "vf_clip_param": 1000000.0, "batch_mode": "truncate_episodes", "num_workers": 60, "tf_session_args": {"inter_op_parallelism_threads": 2, "intra_op_parallelism_threads": 2, "gpu_options": {"allow_growth": true}, "device_count": {"CPU": 1}, "log_device_placement": false, "allow_soft_placement": true}, "custom_resources_per_worker": {}, "train_batch_size": 90000, "num_envs_per_worker": 1, "lambda": 0.97, "sgd_minibatch_size": 128, "input_evaluation": null, "sample_batch_size": 750, "vf_loss_coeff": 1.0, "output_max_file_size": 67108864, "model": {"fcnet_hiddens": [128, 64, 32], "conv_filters": null, "fcnet_activation": "tanh", "custom_options": {}, "dim": 84, "max_seq_len": 20, "custom_preprocessor": null, "zero_mean": true, "custom_model": null, "conv_activation": "relu", "use_lstm": false, "lstm_use_prev_action_reward": false, "free_log_std": false, "framestack": true, "lstm_cell_size": 256, "squash_to_range": false, "channel_major": false, "grayscale": false}, "multiagent": {"policy_mapping_fn": null, "policy_graphs": {}, "policies_to_train": null}, "collect_metrics_timeout": 180, "monitor": false, "horizon": 1500, "log_level": "INFO", "simple_optimizer": false, "clip_rewards": null, "synchronize_filters": true, "kl_target": 0.01, "input": "sampler", "preprocessor_pref": "deepmind", "clip_actions": false, "entropy_coeff": 0.0, "output": null, "num_sgd_iter": 10, "compress_observations": false, "observation_filter": "MeanStdFilter", "env_config": {"run": "PPO", "flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.3,\n            \"eta3\": 0.1,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 10.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 600,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}"}, "sample_async": false, "env": "MultiWaveAttenuationMergePOEnvBufferedObs-v0no_warmup_700m", "optimizer": {}, "lr_schedule": null, "use_gae": true, "callbacks": {"on_sample_end": null, "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7f3065f209b0>", "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7f3065f20be0>", "on_train_result": null, "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7f3065f20b70>"}, "gamma": 0.99, "output_compress_columns": ["obs", "new_obs"], "clip_param": 0.3, "num_cpus_for_driver": 1, "straggler_mitigation": false}, "episode_reward_mean": 751.7190506073113}
{"done": false, "date": "2019-05-09_03-21-21", "episodes_total": 20185, "timesteps_this_iter": 181418, "time_this_iter_s": 70.16434788703918, "episode_reward_min": 66.30582685050813, "iterations_since_restore": 77, "time_since_restore": 5212.514360427856, "experiment_id": "9b178520507b4656ac608c6ff2056ff7", "num_metric_batches_dropped": 0, "episode_len_mean": 744.77, "node_ip": "10.138.0.2", "timesteps_total": 34616271, "time_total_s": 12895.436539888382, "training_iteration": 277, "custom_metrics": {"system_level_velocity_min": 6.551656022420182, "cost1_mean": 326.86581465360655, "cost1_max": 473.0485466140068, "system_level_velocity_mean": 11.907689240155149, "outflow_rate_max": 1252.2734343742316, "system_level_velocity_max": 16.66911920667273, "outflow_rate_mean": 948.307835606585, "cost2_mean": -154.46038654659515, "cost2_max": -63.64645432297685, "cost1_min": 51.77766123347609, "outflow_rate_min": 255.79361705178346, "cost2_min": -234.2330616374569}, "episodes_this_iter": 86, "hostname": "flow-main", "pid": 46359, "timesteps_since_restore": 13256038, "policy_reward_mean": {}, "info": {"update_time_ms": 11.881, "default": {"kl": 0.016089340671896935, "cur_lr": 0.0005000000237487257, "vf_loss": 22.55868148803711, "vf_explained_var": 0.847467303276062, "entropy": 2.675346612930298, "total_loss": 22.553253173828125, "cur_kl_coeff": 0.44999998807907104, "policy_loss": -0.012670263648033142}, "sample_time_ms": 28753.302, "num_steps_trained": 34616271, "load_time_ms": 55.731, "grad_time_ms": 40695.138, "num_steps_sampled": 34616271}, "timestamp": 1557372081, "episode_reward_max": 965.8427958621471, "config": {"kl_coeff": 0.2, "lr": 0.0005, "vf_share_layers": false, "num_cpus_per_worker": 1, "local_evaluator_tf_session_args": {"inter_op_parallelism_threads": 8, "intra_op_parallelism_threads": 8}, "num_gpus": 0, "num_gpus_per_worker": 0, "vf_clip_param": 1000000.0, "batch_mode": "truncate_episodes", "num_workers": 60, "tf_session_args": {"inter_op_parallelism_threads": 2, "intra_op_parallelism_threads": 2, "gpu_options": {"allow_growth": true}, "device_count": {"CPU": 1}, "log_device_placement": false, "allow_soft_placement": true}, "custom_resources_per_worker": {}, "train_batch_size": 90000, "num_envs_per_worker": 1, "lambda": 0.97, "sgd_minibatch_size": 128, "input_evaluation": null, "sample_batch_size": 750, "vf_loss_coeff": 1.0, "output_max_file_size": 67108864, "model": {"fcnet_hiddens": [128, 64, 32], "conv_filters": null, "fcnet_activation": "tanh", "custom_options": {}, "dim": 84, "max_seq_len": 20, "custom_preprocessor": null, "zero_mean": true, "custom_model": null, "conv_activation": "relu", "use_lstm": false, "lstm_use_prev_action_reward": false, "free_log_std": false, "framestack": true, "lstm_cell_size": 256, "squash_to_range": false, "channel_major": false, "grayscale": false}, "multiagent": {"policy_mapping_fn": null, "policy_graphs": {}, "policies_to_train": null}, "collect_metrics_timeout": 180, "monitor": false, "horizon": 1500, "log_level": "INFO", "simple_optimizer": false, "clip_rewards": null, "synchronize_filters": true, "kl_target": 0.01, "input": "sampler", "preprocessor_pref": "deepmind", "clip_actions": false, "entropy_coeff": 0.0, "output": null, "num_sgd_iter": 10, "compress_observations": false, "observation_filter": "MeanStdFilter", "env_config": {"run": "PPO", "flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.3,\n            \"eta3\": 0.1,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 10.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 600,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}"}, "sample_async": false, "env": "MultiWaveAttenuationMergePOEnvBufferedObs-v0no_warmup_700m", "optimizer": {}, "lr_schedule": null, "use_gae": true, "callbacks": {"on_sample_end": null, "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7f3065e25ac8>", "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7f3065e25c88>", "on_train_result": null, "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7f3065e25748>"}, "gamma": 0.99, "output_compress_columns": ["obs", "new_obs"], "clip_param": 0.3, "num_cpus_for_driver": 1, "straggler_mitigation": false}, "episode_reward_mean": 751.0558353012725}
{"done": false, "date": "2019-05-09_03-22-32", "episodes_total": 20269, "timesteps_this_iter": 180134, "time_this_iter_s": 70.76905107498169, "episode_reward_min": 428.94377088123787, "iterations_since_restore": 78, "time_since_restore": 5283.283411502838, "experiment_id": "9b178520507b4656ac608c6ff2056ff7", "num_metric_batches_dropped": 0, "episode_len_mean": 746.58, "node_ip": "10.138.0.2", "timesteps_total": 34796405, "time_total_s": 12966.205590963364, "training_iteration": 278, "custom_metrics": {"system_level_velocity_min": 6.551656022420182, "cost1_mean": 320.242187954328, "cost1_max": 460.26481368700354, "system_level_velocity_mean": 11.619930767981431, "outflow_rate_max": 1229.5066969155575, "system_level_velocity_max": 16.103398320807656, "outflow_rate_mean": 941.01119446643, "cost2_mean": -162.45974306582275, "cost2_max": -73.3454793748068, "cost1_min": 181.5183699026437, "outflow_rate_min": 568.9176616449029, "cost2_min": -238.51385593403202}, "episodes_this_iter": 84, "hostname": "flow-main", "pid": 46359, "timesteps_since_restore": 13436172, "policy_reward_mean": {}, "info": {"update_time_ms": 11.254, "default": {"kl": 0.016622602939605713, "cur_lr": 0.0005000000237487257, "vf_loss": 21.24724769592285, "vf_explained_var": 0.8547614812850952, "entropy": 2.721343755722046, "total_loss": 21.241792678833008, "cur_kl_coeff": 0.45000001788139343, "policy_loss": -0.012935299426317215}, "sample_time_ms": 28738.027, "num_steps_trained": 34796405, "load_time_ms": 51.029, "grad_time_ms": 40701.521, "num_steps_sampled": 34796405}, "timestamp": 1557372152, "episode_reward_max": 1034.5660335504226, "config": {"kl_coeff": 0.2, "lr": 0.0005, "vf_share_layers": false, "num_cpus_per_worker": 1, "local_evaluator_tf_session_args": {"inter_op_parallelism_threads": 8, "intra_op_parallelism_threads": 8}, "num_gpus": 0, "num_gpus_per_worker": 0, "vf_clip_param": 1000000.0, "batch_mode": "truncate_episodes", "num_workers": 60, "tf_session_args": {"inter_op_parallelism_threads": 2, "intra_op_parallelism_threads": 2, "gpu_options": {"allow_growth": true}, "device_count": {"CPU": 1}, "log_device_placement": false, "allow_soft_placement": true}, "custom_resources_per_worker": {}, "train_batch_size": 90000, "num_envs_per_worker": 1, "lambda": 0.97, "sgd_minibatch_size": 128, "input_evaluation": null, "sample_batch_size": 750, "vf_loss_coeff": 1.0, "output_max_file_size": 67108864, "model": {"fcnet_hiddens": [128, 64, 32], "conv_filters": null, "fcnet_activation": "tanh", "custom_options": {}, "dim": 84, "max_seq_len": 20, "custom_preprocessor": null, "zero_mean": true, "custom_model": null, "conv_activation": "relu", "use_lstm": false, "lstm_use_prev_action_reward": false, "free_log_std": false, "framestack": true, "lstm_cell_size": 256, "squash_to_range": false, "channel_major": false, "grayscale": false}, "multiagent": {"policy_mapping_fn": null, "policy_graphs": {}, "policies_to_train": null}, "collect_metrics_timeout": 180, "monitor": false, "horizon": 1500, "log_level": "INFO", "simple_optimizer": false, "clip_rewards": null, "synchronize_filters": true, "kl_target": 0.01, "input": "sampler", "preprocessor_pref": "deepmind", "clip_actions": false, "entropy_coeff": 0.0, "output": null, "num_sgd_iter": 10, "compress_observations": false, "observation_filter": "MeanStdFilter", "env_config": {"run": "PPO", "flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.3,\n            \"eta3\": 0.1,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 10.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 600,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}"}, "sample_async": false, "env": "MultiWaveAttenuationMergePOEnvBufferedObs-v0no_warmup_700m", "optimizer": {}, "lr_schedule": null, "use_gae": true, "callbacks": {"on_sample_end": null, "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7f3065f209b0>", "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7f3065f20470>", "on_train_result": null, "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7f3065f20940>"}, "gamma": 0.99, "output_compress_columns": ["obs", "new_obs"], "clip_param": 0.3, "num_cpus_for_driver": 1, "straggler_mitigation": false}, "episode_reward_mean": 747.4045831163681}
{"done": false, "date": "2019-05-09_03-23-43", "episodes_total": 20354, "timesteps_this_iter": 181645, "time_this_iter_s": 70.3392117023468, "episode_reward_min": 54.04163782759042, "iterations_since_restore": 79, "time_since_restore": 5353.622623205185, "experiment_id": "9b178520507b4656ac608c6ff2056ff7", "num_metric_batches_dropped": 0, "episode_len_mean": 735.65, "node_ip": "10.138.0.2", "timesteps_total": 34978050, "time_total_s": 13036.54480266571, "training_iteration": 279, "custom_metrics": {"system_level_velocity_min": 7.92522389127033, "cost1_mean": 326.9325647765305, "cost1_max": 469.26259428538424, "system_level_velocity_mean": 12.070010917373752, "outflow_rate_max": 1237.5191358369495, "system_level_velocity_max": 16.709426311009505, "outflow_rate_mean": 956.6167072838718, "cost2_mean": -164.20028908501067, "cost2_max": -34.58782521386804, "cost1_min": 41.689364490542395, "outflow_rate_min": 245.12885600906236, "cost2_min": -244.95144917490342}, "episodes_this_iter": 85, "hostname": "flow-main", "pid": 46359, "timesteps_since_restore": 13617817, "policy_reward_mean": {}, "info": {"update_time_ms": 11.155, "default": {"kl": 0.016916198655962944, "cur_lr": 0.0005000000237487257, "vf_loss": 21.175146102905273, "vf_explained_var": 0.851993978023529, "entropy": 2.6721625328063965, "total_loss": 21.169998168945312, "cur_kl_coeff": 0.44999998807907104, "policy_loss": -0.01276092603802681}, "sample_time_ms": 28796.598, "num_steps_trained": 34978050, "load_time_ms": 43.589, "grad_time_ms": 40733.622, "num_steps_sampled": 34978050}, "timestamp": 1557372223, "episode_reward_max": 1034.5660335504226, "config": {"kl_coeff": 0.2, "lr": 0.0005, "vf_share_layers": false, "num_cpus_per_worker": 1, "local_evaluator_tf_session_args": {"inter_op_parallelism_threads": 8, "intra_op_parallelism_threads": 8}, "num_gpus": 0, "num_gpus_per_worker": 0, "vf_clip_param": 1000000.0, "batch_mode": "truncate_episodes", "num_workers": 60, "tf_session_args": {"inter_op_parallelism_threads": 2, "intra_op_parallelism_threads": 2, "gpu_options": {"allow_growth": true}, "device_count": {"CPU": 1}, "log_device_placement": false, "allow_soft_placement": true}, "custom_resources_per_worker": {}, "train_batch_size": 90000, "num_envs_per_worker": 1, "lambda": 0.97, "sgd_minibatch_size": 128, "input_evaluation": null, "sample_batch_size": 750, "vf_loss_coeff": 1.0, "output_max_file_size": 67108864, "model": {"fcnet_hiddens": [128, 64, 32], "conv_filters": null, "fcnet_activation": "tanh", "custom_options": {}, "dim": 84, "max_seq_len": 20, "custom_preprocessor": null, "zero_mean": true, "custom_model": null, "conv_activation": "relu", "use_lstm": false, "lstm_use_prev_action_reward": false, "free_log_std": false, "framestack": true, "lstm_cell_size": 256, "squash_to_range": false, "channel_major": false, "grayscale": false}, "multiagent": {"policy_mapping_fn": null, "policy_graphs": {}, "policies_to_train": null}, "collect_metrics_timeout": 180, "monitor": false, "horizon": 1500, "log_level": "INFO", "simple_optimizer": false, "clip_rewards": null, "synchronize_filters": true, "kl_target": 0.01, "input": "sampler", "preprocessor_pref": "deepmind", "clip_actions": false, "entropy_coeff": 0.0, "output": null, "num_sgd_iter": 10, "compress_observations": false, "observation_filter": "MeanStdFilter", "env_config": {"run": "PPO", "flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.3,\n            \"eta3\": 0.1,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 10.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 600,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}"}, "sample_async": false, "env": "MultiWaveAttenuationMergePOEnvBufferedObs-v0no_warmup_700m", "optimizer": {}, "lr_schedule": null, "use_gae": true, "callbacks": {"on_sample_end": null, "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7f3065e25518>", "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7f3065e25d30>", "on_train_result": null, "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7f3065e25a20>"}, "gamma": 0.99, "output_compress_columns": ["obs", "new_obs"], "clip_param": 0.3, "num_cpus_for_driver": 1, "straggler_mitigation": false}, "episode_reward_mean": 754.2618500452422}
{"done": false, "date": "2019-05-09_03-24-52", "episodes_total": 20439, "timesteps_this_iter": 180680, "time_this_iter_s": 69.6532073020935, "episode_reward_min": 94.07117727333132, "iterations_since_restore": 80, "time_since_restore": 5423.275830507278, "experiment_id": "9b178520507b4656ac608c6ff2056ff7", "num_metric_batches_dropped": 0, "episode_len_mean": 739.87, "node_ip": "10.138.0.2", "timesteps_total": 35158730, "time_total_s": 13106.198009967804, "training_iteration": 280, "custom_metrics": {"system_level_velocity_min": 9.022883344109921, "cost1_mean": 322.1176409061602, "cost1_max": 463.42512827299976, "system_level_velocity_mean": 11.803145283990098, "outflow_rate_max": 1260.188265812816, "system_level_velocity_max": 16.51407536399729, "outflow_rate_mean": 944.7109369295866, "cost2_mean": -156.70952983398965, "cost2_max": -60.49598934659471, "cost1_min": 60.13785498075809, "outflow_rate_min": 281.262528387699, "cost2_min": -228.94167642953306}, "episodes_this_iter": 85, "hostname": "flow-main", "pid": 46359, "timesteps_since_restore": 13798497, "policy_reward_mean": {}, "info": {"update_time_ms": 10.995, "default": {"kl": 0.01627153903245926, "cur_lr": 0.0005000000237487257, "vf_loss": 19.013120651245117, "vf_explained_var": 0.869173526763916, "entropy": 2.7478861808776855, "total_loss": 19.007854461669922, "cur_kl_coeff": 0.44999995827674866, "policy_loss": -0.01258866023272276}, "sample_time_ms": 28840.66, "num_steps_trained": 35158730, "load_time_ms": 41.459, "grad_time_ms": 40637.515, "num_steps_sampled": 35158730}, "timestamp": 1557372292, "episode_reward_max": 1074.575187308646, "config": {"kl_coeff": 0.2, "lr": 0.0005, "vf_share_layers": false, "num_cpus_per_worker": 1, "local_evaluator_tf_session_args": {"inter_op_parallelism_threads": 8, "intra_op_parallelism_threads": 8}, "num_gpus": 0, "num_gpus_per_worker": 0, "vf_clip_param": 1000000.0, "batch_mode": "truncate_episodes", "num_workers": 60, "tf_session_args": {"inter_op_parallelism_threads": 2, "intra_op_parallelism_threads": 2, "gpu_options": {"allow_growth": true}, "device_count": {"CPU": 1}, "log_device_placement": false, "allow_soft_placement": true}, "custom_resources_per_worker": {}, "train_batch_size": 90000, "num_envs_per_worker": 1, "lambda": 0.97, "sgd_minibatch_size": 128, "input_evaluation": null, "sample_batch_size": 750, "vf_loss_coeff": 1.0, "output_max_file_size": 67108864, "model": {"fcnet_hiddens": [128, 64, 32], "conv_filters": null, "fcnet_activation": "tanh", "custom_options": {}, "dim": 84, "max_seq_len": 20, "custom_preprocessor": null, "zero_mean": true, "custom_model": null, "conv_activation": "relu", "use_lstm": false, "lstm_use_prev_action_reward": false, "free_log_std": false, "framestack": true, "lstm_cell_size": 256, "squash_to_range": false, "channel_major": false, "grayscale": false}, "multiagent": {"policy_mapping_fn": null, "policy_graphs": {}, "policies_to_train": null}, "collect_metrics_timeout": 180, "monitor": false, "horizon": 1500, "log_level": "INFO", "simple_optimizer": false, "clip_rewards": null, "synchronize_filters": true, "kl_target": 0.01, "input": "sampler", "preprocessor_pref": "deepmind", "clip_actions": false, "entropy_coeff": 0.0, "output": null, "num_sgd_iter": 10, "compress_observations": false, "observation_filter": "MeanStdFilter", "env_config": {"run": "PPO", "flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.3,\n            \"eta3\": 0.1,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 10.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 600,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}"}, "sample_async": false, "env": "MultiWaveAttenuationMergePOEnvBufferedObs-v0no_warmup_700m", "optimizer": {}, "lr_schedule": null, "use_gae": true, "callbacks": {"on_sample_end": null, "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7f3065f209e8>", "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7f3065f20a58>", "on_train_result": null, "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7f3065f20be0>"}, "gamma": 0.99, "output_compress_columns": ["obs", "new_obs"], "clip_param": 0.3, "num_cpus_for_driver": 1, "straggler_mitigation": false}, "episode_reward_mean": 739.5195269970166}
