{"iterations_since_restore": 1, "timesteps_since_restore": 78688, "episode_reward_min": 224.91725471643352, "time_total_s": 13463.974407672882, "node_ip": "10.138.0.2", "done": false, "episode_reward_mean": 756.0659129909193, "num_metric_batches_dropped": 0, "episodes_total": 13090, "date": "2019-05-09_15-25-18", "pid": 21505, "episode_reward_max": 913.9947150868351, "timesteps_total": 25565348, "hostname": "flow-main", "episodes_this_iter": 31, "config": {"horizon": 1500, "input": "sampler", "output_max_file_size": 67108864, "gamma": 0.99, "model": {"free_log_std": false, "squash_to_range": false, "fcnet_activation": "tanh", "grayscale": false, "dim": 84, "fcnet_hiddens": [128, 64, 32], "conv_filters": null, "custom_model": null, "conv_activation": "relu", "custom_options": {}, "use_lstm": false, "channel_major": false, "framestack": true, "lstm_use_prev_action_reward": false, "zero_mean": true, "max_seq_len": 20, "lstm_cell_size": 256, "custom_preprocessor": null}, "vf_share_layers": false, "lr_schedule": null, "compress_observations": false, "clip_rewards": null, "kl_target": 0.01, "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "callbacks": {"on_train_result": null, "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7f5e88056ef0>", "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7f5e88056f60>", "on_sample_end": null, "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7f5e88056f28>"}, "preprocessor_pref": "deepmind", "num_gpus": 0, "multiagent": {"policies_to_train": null, "policy_graphs": {}, "policy_mapping_fn": null}, "observation_filter": "MeanStdFilter", "num_workers": 30, "lr": 0.0005, "num_envs_per_worker": 1, "custom_resources_per_worker": {}, "vf_clip_param": 1000000.0, "vf_loss_coeff": 1.0, "log_level": "INFO", "tf_session_args": {"device_count": {"CPU": 1}, "log_device_placement": false, "gpu_options": {"allow_growth": true}, "intra_op_parallelism_threads": 2, "allow_soft_placement": true, "inter_op_parallelism_threads": 2}, "batch_mode": "truncate_episodes", "num_sgd_iter": 10, "output_compress_columns": ["obs", "new_obs"], "simple_optimizer": false, "env_config": {"run": "PPO", "flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.1,\n            \"eta3\": 0.1,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 7.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 0\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 700,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}"}, "entropy_coeff": 0.0, "sample_async": false, "lambda": 0.97, "monitor": false, "env": "MultiWaveAttenuationMergePOEnvBufferedObs-v0shortermeasure01:01:10", "clip_param": 0.3, "sample_batch_size": 750, "input_evaluation": null, "collect_metrics_timeout": 180, "sgd_minibatch_size": 128, "train_batch_size": 45000, "synchronize_filters": true, "kl_coeff": 0.2, "output": null, "num_cpus_for_driver": 1, "use_gae": true, "clip_actions": false, "num_cpus_per_worker": 1, "optimizer": {}, "num_gpus_per_worker": 0, "straggler_mitigation": false}, "timestamp": 1557415518, "info": {"num_steps_trained": 25565348, "default": {"cur_lr": 0.0005000000237487257, "kl": 0.01797347702085972, "vf_explained_var": 0.8509180545806885, "entropy": 1.9686603546142578, "total_loss": 17.234743118286133, "vf_loss": 17.248315811157227, "cur_kl_coeff": 0.5062499642372131, "policy_loss": -0.022671127691864967}, "load_time_ms": 61.772, "grad_time_ms": 18026.35, "sample_time_ms": 20695.328, "num_steps_sampled": 25565348, "update_time_ms": 488.629}, "policy_reward_mean": {}, "training_iteration": 201, "time_this_iter_s": 39.486963748931885, "experiment_id": "4ad1a1b4498d471a9b029fd78d997061", "time_since_restore": 39.486963748931885, "episode_len_mean": 733.3548387096774, "timesteps_this_iter": 78688, "custom_metrics": {"system_level_velocity_min": 9.064276904033031, "system_level_velocity_mean": 11.673813885160207, "system_level_velocity_max": 14.749473234438488, "outflow_rate_min": 449.23471029418243, "cost1_mean": 323.70044464646224, "cost2_min": -153.97242032967594, "outflow_rate_mean": 1020.0956802658338, "cost2_max": -89.97235718524507, "cost1_min": 119.98469487209496, "cost1_max": 416.13492063589877, "cost2_mean": -123.563854212011, "outflow_rate_max": 1272.8864979245313}}
{"iterations_since_restore": 2, "timesteps_since_restore": 158958, "episode_reward_min": 224.91725471643352, "time_total_s": 13503.492929935455, "node_ip": "10.138.0.2", "done": false, "episode_reward_mean": 766.0994561319524, "num_metric_batches_dropped": 0, "episodes_total": 13116, "date": "2019-05-09_15-25-57", "pid": 21505, "episode_reward_max": 913.9947150868351, "timesteps_total": 25645618, "hostname": "flow-main", "episodes_this_iter": 26, "config": {"horizon": 1500, "input": "sampler", "output_max_file_size": 67108864, "gamma": 0.99, "model": {"free_log_std": false, "squash_to_range": false, "fcnet_activation": "tanh", "grayscale": false, "dim": 84, "fcnet_hiddens": [128, 64, 32], "conv_filters": null, "custom_model": null, "conv_activation": "relu", "custom_options": {}, "use_lstm": false, "channel_major": false, "framestack": true, "lstm_use_prev_action_reward": false, "zero_mean": true, "max_seq_len": 20, "lstm_cell_size": 256, "custom_preprocessor": null}, "vf_share_layers": false, "lr_schedule": null, "compress_observations": false, "clip_rewards": null, "kl_target": 0.01, "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "callbacks": {"on_train_result": null, "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7f5e87ff58d0>", "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7f5e87ff5940>", "on_sample_end": null, "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7f5e87ff5908>"}, "preprocessor_pref": "deepmind", "num_gpus": 0, "multiagent": {"policies_to_train": null, "policy_graphs": {}, "policy_mapping_fn": null}, "observation_filter": "MeanStdFilter", "num_workers": 30, "lr": 0.0005, "num_envs_per_worker": 1, "custom_resources_per_worker": {}, "vf_clip_param": 1000000.0, "vf_loss_coeff": 1.0, "log_level": "INFO", "tf_session_args": {"device_count": {"CPU": 1}, "log_device_placement": false, "gpu_options": {"allow_growth": true}, "intra_op_parallelism_threads": 2, "allow_soft_placement": true, "inter_op_parallelism_threads": 2}, "batch_mode": "truncate_episodes", "num_sgd_iter": 10, "output_compress_columns": ["obs", "new_obs"], "simple_optimizer": false, "env_config": {"run": "PPO", "flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.1,\n            \"eta3\": 0.1,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 7.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 0\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 700,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}"}, "entropy_coeff": 0.0, "sample_async": false, "lambda": 0.97, "monitor": false, "env": "MultiWaveAttenuationMergePOEnvBufferedObs-v0shortermeasure01:01:10", "clip_param": 0.3, "sample_batch_size": 750, "input_evaluation": null, "collect_metrics_timeout": 180, "sgd_minibatch_size": 128, "train_batch_size": 45000, "synchronize_filters": true, "kl_coeff": 0.2, "output": null, "num_cpus_for_driver": 1, "use_gae": true, "clip_actions": false, "num_cpus_per_worker": 1, "optimizer": {}, "num_gpus_per_worker": 0, "straggler_mitigation": false}, "timestamp": 1557415557, "info": {"num_steps_trained": 25645618, "default": {"cur_lr": 0.0005000000237487257, "kl": 0.0332619771361351, "vf_explained_var": 0.9380412101745605, "entropy": 1.9619942903518677, "total_loss": 6.069476127624512, "vf_loss": 6.089354038238525, "cur_kl_coeff": 0.20000003278255463, "policy_loss": -0.026530278846621513}, "load_time_ms": 46.097, "grad_time_ms": 18053.308, "sample_time_ms": 20975.343, "num_steps_sampled": 25645618, "update_time_ms": 248.393}, "policy_reward_mean": {}, "training_iteration": 202, "time_this_iter_s": 39.51852226257324, "experiment_id": "4ad1a1b4498d471a9b029fd78d997061", "time_since_restore": 79.00548601150513, "episode_len_mean": 741.4035087719299, "timesteps_this_iter": 80270, "custom_metrics": {"system_level_velocity_min": 9.064276904033031, "system_level_velocity_mean": 11.705375084632532, "system_level_velocity_max": 14.749473234438488, "outflow_rate_min": 449.23471029418243, "cost1_mean": 328.3590673379114, "cost2_min": -153.97242032967594, "outflow_rate_mean": 1028.2727652683166, "cost2_max": -89.97235718524507, "cost1_min": 119.98469487209496, "cost1_max": 416.13492063589877, "cost2_mean": -124.07878923223483, "outflow_rate_max": 1272.8864979245313}}
{"iterations_since_restore": 3, "timesteps_since_restore": 239418, "episode_reward_min": 200.76944340678534, "time_total_s": 13544.373370170593, "node_ip": "10.138.0.2", "done": false, "episode_reward_mean": 767.6496761297172, "num_metric_batches_dropped": 0, "episodes_total": 13162, "date": "2019-05-09_15-26-38", "pid": 21505, "episode_reward_max": 913.9947150868351, "timesteps_total": 25726078, "hostname": "flow-main", "episodes_this_iter": 46, "config": {"horizon": 1500, "input": "sampler", "output_max_file_size": 67108864, "gamma": 0.99, "model": {"free_log_std": false, "squash_to_range": false, "fcnet_activation": "tanh", "grayscale": false, "dim": 84, "fcnet_hiddens": [128, 64, 32], "conv_filters": null, "custom_model": null, "conv_activation": "relu", "custom_options": {}, "use_lstm": false, "channel_major": false, "framestack": true, "lstm_use_prev_action_reward": false, "zero_mean": true, "max_seq_len": 20, "lstm_cell_size": 256, "custom_preprocessor": null}, "vf_share_layers": false, "lr_schedule": null, "compress_observations": false, "clip_rewards": null, "kl_target": 0.01, "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "callbacks": {"on_train_result": null, "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7f5e880103c8>", "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7f5e88010438>", "on_sample_end": null, "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7f5e88010400>"}, "preprocessor_pref": "deepmind", "num_gpus": 0, "multiagent": {"policies_to_train": null, "policy_graphs": {}, "policy_mapping_fn": null}, "observation_filter": "MeanStdFilter", "num_workers": 30, "lr": 0.0005, "num_envs_per_worker": 1, "custom_resources_per_worker": {}, "vf_clip_param": 1000000.0, "vf_loss_coeff": 1.0, "log_level": "INFO", "tf_session_args": {"device_count": {"CPU": 1}, "log_device_placement": false, "gpu_options": {"allow_growth": true}, "intra_op_parallelism_threads": 2, "allow_soft_placement": true, "inter_op_parallelism_threads": 2}, "batch_mode": "truncate_episodes", "num_sgd_iter": 10, "output_compress_columns": ["obs", "new_obs"], "simple_optimizer": false, "env_config": {"run": "PPO", "flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.1,\n            \"eta3\": 0.1,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 7.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 0\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 700,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}"}, "entropy_coeff": 0.0, "sample_async": false, "lambda": 0.97, "monitor": false, "env": "MultiWaveAttenuationMergePOEnvBufferedObs-v0shortermeasure01:01:10", "clip_param": 0.3, "sample_batch_size": 750, "input_evaluation": null, "collect_metrics_timeout": 180, "sgd_minibatch_size": 128, "train_batch_size": 45000, "synchronize_filters": true, "kl_coeff": 0.2, "output": null, "num_cpus_for_driver": 1, "use_gae": true, "clip_actions": false, "num_cpus_per_worker": 1, "optimizer": {}, "num_gpus_per_worker": 0, "straggler_mitigation": false}, "timestamp": 1557415598, "info": {"num_steps_trained": 25726078, "default": {"cur_lr": 0.0005000000237487257, "kl": 0.02558678761124611, "vf_explained_var": 0.9075923562049866, "entropy": 1.9832738637924194, "total_loss": 9.187835693359375, "vf_loss": 9.20289134979248, "cur_kl_coeff": 0.2999999523162842, "policy_loss": -0.022731425240635872}, "load_time_ms": 41.262, "grad_time_ms": 18177.811, "sample_time_ms": 21404.77, "num_steps_sampled": 25726078, "update_time_ms": 168.778}, "policy_reward_mean": {}, "training_iteration": 203, "time_this_iter_s": 40.88044023513794, "experiment_id": "4ad1a1b4498d471a9b029fd78d997061", "time_since_restore": 119.88592624664307, "episode_len_mean": 738.86, "timesteps_this_iter": 80460, "custom_metrics": {"system_level_velocity_min": 9.064276904033031, "system_level_velocity_mean": 11.725645835897522, "system_level_velocity_max": 14.749473234438488, "outflow_rate_min": 420.17632469834535, "cost1_mean": 328.0726970922356, "cost2_min": -155.64574151600894, "outflow_rate_mean": 1029.8290102483666, "cost2_max": -89.97235718524507, "cost1_min": 112.41476357479374, "cost1_max": 416.13492063589877, "cost2_mean": -125.75257462549853, "outflow_rate_max": 1272.8864979245313}}
{"iterations_since_restore": 4, "timesteps_since_restore": 319818, "episode_reward_min": 200.76944340678534, "time_total_s": 13588.919756889343, "node_ip": "10.138.0.2", "done": false, "episode_reward_mean": 766.4032847577014, "num_metric_batches_dropped": 0, "episodes_total": 13204, "date": "2019-05-09_15-27-23", "pid": 21505, "episode_reward_max": 893.8395118781382, "timesteps_total": 25806478, "hostname": "flow-main", "episodes_this_iter": 42, "config": {"horizon": 1500, "input": "sampler", "output_max_file_size": 67108864, "gamma": 0.99, "model": {"free_log_std": false, "squash_to_range": false, "fcnet_activation": "tanh", "grayscale": false, "dim": 84, "fcnet_hiddens": [128, 64, 32], "conv_filters": null, "custom_model": null, "conv_activation": "relu", "custom_options": {}, "use_lstm": false, "channel_major": false, "framestack": true, "lstm_use_prev_action_reward": false, "zero_mean": true, "max_seq_len": 20, "lstm_cell_size": 256, "custom_preprocessor": null}, "vf_share_layers": false, "lr_schedule": null, "compress_observations": false, "clip_rewards": null, "kl_target": 0.01, "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "callbacks": {"on_train_result": null, "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7f5e87ff5898>", "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7f5e87ff5748>", "on_sample_end": null, "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7f5e87ff59b0>"}, "preprocessor_pref": "deepmind", "num_gpus": 0, "multiagent": {"policies_to_train": null, "policy_graphs": {}, "policy_mapping_fn": null}, "observation_filter": "MeanStdFilter", "num_workers": 30, "lr": 0.0005, "num_envs_per_worker": 1, "custom_resources_per_worker": {}, "vf_clip_param": 1000000.0, "vf_loss_coeff": 1.0, "log_level": "INFO", "tf_session_args": {"device_count": {"CPU": 1}, "log_device_placement": false, "gpu_options": {"allow_growth": true}, "intra_op_parallelism_threads": 2, "allow_soft_placement": true, "inter_op_parallelism_threads": 2}, "batch_mode": "truncate_episodes", "num_sgd_iter": 10, "output_compress_columns": ["obs", "new_obs"], "simple_optimizer": false, "env_config": {"run": "PPO", "flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.1,\n            \"eta3\": 0.1,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 7.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 0\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 700,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}"}, "entropy_coeff": 0.0, "sample_async": false, "lambda": 0.97, "monitor": false, "env": "MultiWaveAttenuationMergePOEnvBufferedObs-v0shortermeasure01:01:10", "clip_param": 0.3, "sample_batch_size": 750, "input_evaluation": null, "collect_metrics_timeout": 180, "sgd_minibatch_size": 128, "train_batch_size": 45000, "synchronize_filters": true, "kl_coeff": 0.2, "output": null, "num_cpus_for_driver": 1, "use_gae": true, "clip_actions": false, "num_cpus_per_worker": 1, "optimizer": {}, "num_gpus_per_worker": 0, "straggler_mitigation": false}, "timestamp": 1557415643, "info": {"num_steps_trained": 25806478, "default": {"cur_lr": 0.0005000000237487257, "kl": 0.019249936565756798, "vf_explained_var": 0.8915543556213379, "entropy": 1.970630407333374, "total_loss": 11.76467227935791, "vf_loss": 11.777871131896973, "cur_kl_coeff": 0.45000001788139343, "policy_loss": -0.021860916167497635}, "load_time_ms": 35.851, "grad_time_ms": 18991.595, "sample_time_ms": 21787.494, "num_steps_sampled": 25806478, "update_time_ms": 128.655}, "policy_reward_mean": {}, "training_iteration": 204, "time_this_iter_s": 44.54638671875, "experiment_id": "4ad1a1b4498d471a9b029fd78d997061", "time_since_restore": 164.43231296539307, "episode_len_mean": 744.3, "timesteps_this_iter": 80400, "custom_metrics": {"system_level_velocity_min": 8.934523172810943, "system_level_velocity_mean": 11.571738749908834, "system_level_velocity_max": 13.82949544790619, "outflow_rate_min": 420.17632469834535, "cost1_mean": 326.70176611849513, "cost2_min": -155.64574151600894, "outflow_rate_mean": 1022.4910251825962, "cost2_max": -92.3785674719399, "cost1_min": 112.41476357479374, "cost1_max": 394.37104937164634, "cost2_mean": -127.12735463214149, "outflow_rate_max": 1216.407422729635}}
{"iterations_since_restore": 5, "timesteps_since_restore": 400907, "episode_reward_min": 200.76944340678534, "time_total_s": 13641.449470758438, "node_ip": "10.138.0.2", "done": false, "episode_reward_mean": 764.3223756769762, "num_metric_batches_dropped": 0, "episodes_total": 13247, "date": "2019-05-09_15-28-15", "pid": 21505, "episode_reward_max": 893.8395118781382, "timesteps_total": 25887567, "hostname": "flow-main", "episodes_this_iter": 43, "config": {"horizon": 1500, "input": "sampler", "output_max_file_size": 67108864, "gamma": 0.99, "model": {"free_log_std": false, "squash_to_range": false, "fcnet_activation": "tanh", "grayscale": false, "dim": 84, "fcnet_hiddens": [128, 64, 32], "conv_filters": null, "custom_model": null, "conv_activation": "relu", "custom_options": {}, "use_lstm": false, "channel_major": false, "framestack": true, "lstm_use_prev_action_reward": false, "zero_mean": true, "max_seq_len": 20, "lstm_cell_size": 256, "custom_preprocessor": null}, "vf_share_layers": false, "lr_schedule": null, "compress_observations": false, "clip_rewards": null, "kl_target": 0.01, "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "callbacks": {"on_train_result": null, "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7f5e88010828>", "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7f5e880103c8>", "on_sample_end": null, "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7f5e88010438>"}, "preprocessor_pref": "deepmind", "num_gpus": 0, "multiagent": {"policies_to_train": null, "policy_graphs": {}, "policy_mapping_fn": null}, "observation_filter": "MeanStdFilter", "num_workers": 30, "lr": 0.0005, "num_envs_per_worker": 1, "custom_resources_per_worker": {}, "vf_clip_param": 1000000.0, "vf_loss_coeff": 1.0, "log_level": "INFO", "tf_session_args": {"device_count": {"CPU": 1}, "log_device_placement": false, "gpu_options": {"allow_growth": true}, "intra_op_parallelism_threads": 2, "allow_soft_placement": true, "inter_op_parallelism_threads": 2}, "batch_mode": "truncate_episodes", "num_sgd_iter": 10, "output_compress_columns": ["obs", "new_obs"], "simple_optimizer": false, "env_config": {"run": "PPO", "flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.1,\n            \"eta3\": 0.1,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 7.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 0\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 700,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}"}, "entropy_coeff": 0.0, "sample_async": false, "lambda": 0.97, "monitor": false, "env": "MultiWaveAttenuationMergePOEnvBufferedObs-v0shortermeasure01:01:10", "clip_param": 0.3, "sample_batch_size": 750, "input_evaluation": null, "collect_metrics_timeout": 180, "sgd_minibatch_size": 128, "train_batch_size": 45000, "synchronize_filters": true, "kl_coeff": 0.2, "output": null, "num_cpus_for_driver": 1, "use_gae": true, "clip_actions": false, "num_cpus_per_worker": 1, "optimizer": {}, "num_gpus_per_worker": 0, "straggler_mitigation": false}, "timestamp": 1557415695, "info": {"num_steps_trained": 25887567, "default": {"cur_lr": 0.0005000000237487257, "kl": 0.018765218555927277, "vf_explained_var": 0.8913101553916931, "entropy": 1.9790540933609009, "total_loss": 12.323150634765625, "vf_loss": 12.336249351501465, "cur_kl_coeff": 0.44999995827674866, "policy_loss": -0.021543947979807854}, "load_time_ms": 37.333, "grad_time_ms": 20467.722, "sample_time_ms": 22591.475, "num_steps_sampled": 25887567, "update_time_ms": 105.111}, "policy_reward_mean": {}, "training_iteration": 205, "time_this_iter_s": 52.52971386909485, "experiment_id": "4ad1a1b4498d471a9b029fd78d997061", "time_since_restore": 216.96202683448792, "episode_len_mean": 740.34, "timesteps_this_iter": 81089, "custom_metrics": {"system_level_velocity_min": 8.934523172810943, "system_level_velocity_mean": 11.643468779932313, "system_level_velocity_max": 13.82949544790619, "outflow_rate_min": 415.30356409649846, "cost1_mean": 326.86523866308266, "cost2_min": -155.17747221480678, "outflow_rate_mean": 1024.5695312450837, "cost2_max": -92.3785674719399, "cost1_min": 112.19441024596338, "cost1_max": 394.37104937164634, "cost2_mean": -129.9718884123471, "outflow_rate_max": 1216.407422729635}}
{"iterations_since_restore": 6, "timesteps_since_restore": 481289, "episode_reward_min": 207.0903604231229, "time_total_s": 13686.589893817902, "node_ip": "10.138.0.2", "done": false, "episode_reward_mean": 769.2255973081607, "num_metric_batches_dropped": 0, "episodes_total": 13291, "date": "2019-05-09_15-29-01", "pid": 21505, "episode_reward_max": 880.8890642843135, "timesteps_total": 25967949, "hostname": "flow-main", "episodes_this_iter": 44, "config": {"horizon": 1500, "input": "sampler", "output_max_file_size": 67108864, "gamma": 0.99, "model": {"free_log_std": false, "squash_to_range": false, "fcnet_activation": "tanh", "grayscale": false, "dim": 84, "fcnet_hiddens": [128, 64, 32], "conv_filters": null, "custom_model": null, "conv_activation": "relu", "custom_options": {}, "use_lstm": false, "channel_major": false, "framestack": true, "lstm_use_prev_action_reward": false, "zero_mean": true, "max_seq_len": 20, "lstm_cell_size": 256, "custom_preprocessor": null}, "vf_share_layers": false, "lr_schedule": null, "compress_observations": false, "clip_rewards": null, "kl_target": 0.01, "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "callbacks": {"on_train_result": null, "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7f5e87ff5908>", "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7f5e87ff54e0>", "on_sample_end": null, "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7f5e87ff5b38>"}, "preprocessor_pref": "deepmind", "num_gpus": 0, "multiagent": {"policies_to_train": null, "policy_graphs": {}, "policy_mapping_fn": null}, "observation_filter": "MeanStdFilter", "num_workers": 30, "lr": 0.0005, "num_envs_per_worker": 1, "custom_resources_per_worker": {}, "vf_clip_param": 1000000.0, "vf_loss_coeff": 1.0, "log_level": "INFO", "tf_session_args": {"device_count": {"CPU": 1}, "log_device_placement": false, "gpu_options": {"allow_growth": true}, "intra_op_parallelism_threads": 2, "allow_soft_placement": true, "inter_op_parallelism_threads": 2}, "batch_mode": "truncate_episodes", "num_sgd_iter": 10, "output_compress_columns": ["obs", "new_obs"], "simple_optimizer": false, "env_config": {"run": "PPO", "flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.1,\n            \"eta3\": 0.1,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 7.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 0\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 700,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}"}, "entropy_coeff": 0.0, "sample_async": false, "lambda": 0.97, "monitor": false, "env": "MultiWaveAttenuationMergePOEnvBufferedObs-v0shortermeasure01:01:10", "clip_param": 0.3, "sample_batch_size": 750, "input_evaluation": null, "collect_metrics_timeout": 180, "sgd_minibatch_size": 128, "train_batch_size": 45000, "synchronize_filters": true, "kl_coeff": 0.2, "output": null, "num_cpus_for_driver": 1, "use_gae": true, "clip_actions": false, "num_cpus_per_worker": 1, "optimizer": {}, "num_gpus_per_worker": 0, "straggler_mitigation": false}, "timestamp": 1557415741, "info": {"num_steps_trained": 25967949, "default": {"cur_lr": 0.0005000000237487257, "kl": 0.01969553902745247, "vf_explained_var": 0.8771975636482239, "entropy": 1.9788707494735718, "total_loss": 14.52276611328125, "vf_loss": 14.536582946777344, "cur_kl_coeff": 0.44999998807907104, "policy_loss": -0.0226809773594141}, "load_time_ms": 37.456, "grad_time_ms": 20296.29, "sample_time_ms": 23064.09, "num_steps_sampled": 25967949, "update_time_ms": 101.176}, "policy_reward_mean": {}, "training_iteration": 206, "time_this_iter_s": 45.1404230594635, "experiment_id": "4ad1a1b4498d471a9b029fd78d997061", "time_since_restore": 262.1024498939514, "episode_len_mean": 741.24, "timesteps_this_iter": 80382, "custom_metrics": {"system_level_velocity_min": 8.934523172810943, "system_level_velocity_mean": 11.759556129068457, "system_level_velocity_max": 14.700612896209408, "outflow_rate_min": 415.30356409649846, "cost1_mean": 330.52165680862146, "cost2_min": -155.84657280880126, "outflow_rate_mean": 1034.943427111118, "cost2_max": -92.3785674719399, "cost1_min": 112.19441024596338, "cost1_max": 395.8503289792475, "cost2_mean": -132.53390480791458, "outflow_rate_max": 1224.5341132030244}}
{"iterations_since_restore": 7, "timesteps_since_restore": 562980, "episode_reward_min": 347.8795407242496, "time_total_s": 13730.80760717392, "node_ip": "10.138.0.2", "done": false, "episode_reward_mean": 777.8848856424443, "num_metric_batches_dropped": 0, "episodes_total": 13334, "date": "2019-05-09_15-29-45", "pid": 21505, "episode_reward_max": 888.0057088376429, "timesteps_total": 26049640, "hostname": "flow-main", "episodes_this_iter": 43, "config": {"horizon": 1500, "input": "sampler", "output_max_file_size": 67108864, "gamma": 0.99, "model": {"free_log_std": false, "squash_to_range": false, "fcnet_activation": "tanh", "grayscale": false, "dim": 84, "fcnet_hiddens": [128, 64, 32], "conv_filters": null, "custom_model": null, "conv_activation": "relu", "custom_options": {}, "use_lstm": false, "channel_major": false, "framestack": true, "lstm_use_prev_action_reward": false, "zero_mean": true, "max_seq_len": 20, "lstm_cell_size": 256, "custom_preprocessor": null}, "vf_share_layers": false, "lr_schedule": null, "compress_observations": false, "clip_rewards": null, "kl_target": 0.01, "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "callbacks": {"on_train_result": null, "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7f5e88010828>", "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7f5e880102e8>", "on_sample_end": null, "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7f5e880104a8>"}, "preprocessor_pref": "deepmind", "num_gpus": 0, "multiagent": {"policies_to_train": null, "policy_graphs": {}, "policy_mapping_fn": null}, "observation_filter": "MeanStdFilter", "num_workers": 30, "lr": 0.0005, "num_envs_per_worker": 1, "custom_resources_per_worker": {}, "vf_clip_param": 1000000.0, "vf_loss_coeff": 1.0, "log_level": "INFO", "tf_session_args": {"device_count": {"CPU": 1}, "log_device_placement": false, "gpu_options": {"allow_growth": true}, "intra_op_parallelism_threads": 2, "allow_soft_placement": true, "inter_op_parallelism_threads": 2}, "batch_mode": "truncate_episodes", "num_sgd_iter": 10, "output_compress_columns": ["obs", "new_obs"], "simple_optimizer": false, "env_config": {"run": "PPO", "flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.1,\n            \"eta3\": 0.1,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 7.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 0\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 700,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}"}, "entropy_coeff": 0.0, "sample_async": false, "lambda": 0.97, "monitor": false, "env": "MultiWaveAttenuationMergePOEnvBufferedObs-v0shortermeasure01:01:10", "clip_param": 0.3, "sample_batch_size": 750, "input_evaluation": null, "collect_metrics_timeout": 180, "sgd_minibatch_size": 128, "train_batch_size": 45000, "synchronize_filters": true, "kl_coeff": 0.2, "output": null, "num_cpus_for_driver": 1, "use_gae": true, "clip_actions": false, "num_cpus_per_worker": 1, "optimizer": {}, "num_gpus_per_worker": 0, "straggler_mitigation": false}, "timestamp": 1557415785, "info": {"num_steps_trained": 26049640, "default": {"cur_lr": 0.0005000000237487257, "kl": 0.019678818061947823, "vf_explained_var": 0.8665024042129517, "entropy": 2.0003018379211426, "total_loss": 15.845101356506348, "vf_loss": 15.85817813873291, "cur_kl_coeff": 0.45000001788139343, "policy_loss": -0.021930675953626633}, "load_time_ms": 37.155, "grad_time_ms": 19877.909, "sample_time_ms": 23577.53, "num_steps_sampled": 26049640, "update_time_ms": 87.884}, "policy_reward_mean": {}, "training_iteration": 207, "time_this_iter_s": 44.217713356018066, "experiment_id": "4ad1a1b4498d471a9b029fd78d997061", "time_since_restore": 306.3201632499695, "episode_len_mean": 746.57, "timesteps_this_iter": 81691, "custom_metrics": {"system_level_velocity_min": 6.9050596930126575, "system_level_velocity_mean": 11.847036198070752, "system_level_velocity_max": 14.700612896209408, "outflow_rate_min": 585.3014531766773, "cost1_mean": 335.3938781120287, "cost2_min": -155.84657280880126, "outflow_rate_mean": 1045.213787691124, "cost2_max": -89.02837821916823, "cost1_min": 170.40041994539308, "cost1_max": 395.8503289792475, "cost2_mean": -132.3052860302541, "outflow_rate_max": 1224.5341132030244}}
{"iterations_since_restore": 8, "timesteps_since_restore": 642126, "episode_reward_min": 206.26491294414487, "time_total_s": 13772.768137454987, "node_ip": "10.138.0.2", "done": false, "episode_reward_mean": 769.8239259739617, "num_metric_batches_dropped": 0, "episodes_total": 13378, "date": "2019-05-09_15-30-27", "pid": 21505, "episode_reward_max": 919.585289461539, "timesteps_total": 26128786, "hostname": "flow-main", "episodes_this_iter": 44, "config": {"horizon": 1500, "input": "sampler", "output_max_file_size": 67108864, "gamma": 0.99, "model": {"free_log_std": false, "squash_to_range": false, "fcnet_activation": "tanh", "grayscale": false, "dim": 84, "fcnet_hiddens": [128, 64, 32], "conv_filters": null, "custom_model": null, "conv_activation": "relu", "custom_options": {}, "use_lstm": false, "channel_major": false, "framestack": true, "lstm_use_prev_action_reward": false, "zero_mean": true, "max_seq_len": 20, "lstm_cell_size": 256, "custom_preprocessor": null}, "vf_share_layers": false, "lr_schedule": null, "compress_observations": false, "clip_rewards": null, "kl_target": 0.01, "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "callbacks": {"on_train_result": null, "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7f5e88010e10>", "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7f5e88010ef0>", "on_sample_end": null, "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7f5e88010f98>"}, "preprocessor_pref": "deepmind", "num_gpus": 0, "multiagent": {"policies_to_train": null, "policy_graphs": {}, "policy_mapping_fn": null}, "observation_filter": "MeanStdFilter", "num_workers": 30, "lr": 0.0005, "num_envs_per_worker": 1, "custom_resources_per_worker": {}, "vf_clip_param": 1000000.0, "vf_loss_coeff": 1.0, "log_level": "INFO", "tf_session_args": {"device_count": {"CPU": 1}, "log_device_placement": false, "gpu_options": {"allow_growth": true}, "intra_op_parallelism_threads": 2, "allow_soft_placement": true, "inter_op_parallelism_threads": 2}, "batch_mode": "truncate_episodes", "num_sgd_iter": 10, "output_compress_columns": ["obs", "new_obs"], "simple_optimizer": false, "env_config": {"run": "PPO", "flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.1,\n            \"eta3\": 0.1,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 7.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 0\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 700,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}"}, "entropy_coeff": 0.0, "sample_async": false, "lambda": 0.97, "monitor": false, "env": "MultiWaveAttenuationMergePOEnvBufferedObs-v0shortermeasure01:01:10", "clip_param": 0.3, "sample_batch_size": 750, "input_evaluation": null, "collect_metrics_timeout": 180, "sgd_minibatch_size": 128, "train_batch_size": 45000, "synchronize_filters": true, "kl_coeff": 0.2, "output": null, "num_cpus_for_driver": 1, "use_gae": true, "clip_actions": false, "num_cpus_per_worker": 1, "optimizer": {}, "num_gpus_per_worker": 0, "straggler_mitigation": false}, "timestamp": 1557415827, "info": {"num_steps_trained": 26128786, "default": {"cur_lr": 0.0005000000237487257, "kl": 0.020811401307582855, "vf_explained_var": 0.8458415865898132, "entropy": 1.9943832159042358, "total_loss": 16.928091049194336, "vf_loss": 16.940765380859375, "cur_kl_coeff": 0.45000001788139343, "policy_loss": -0.02204096131026745}, "load_time_ms": 35.956, "grad_time_ms": 19871.589, "sample_time_ms": 23374.977, "num_steps_sampled": 26128786, "update_time_ms": 77.84}, "policy_reward_mean": {}, "training_iteration": 208, "time_this_iter_s": 41.960530281066895, "experiment_id": "4ad1a1b4498d471a9b029fd78d997061", "time_since_restore": 348.2806935310364, "episode_len_mean": 745.67, "timesteps_this_iter": 79146, "custom_metrics": {"system_level_velocity_min": 6.9050596930126575, "system_level_velocity_mean": 11.72294530573133, "system_level_velocity_max": 13.850168731102416, "outflow_rate_min": 397.61891717102685, "cost1_mean": 331.2637549779493, "cost2_min": -155.60339441939644, "outflow_rate_mean": 1032.9692849096523, "cost2_max": -89.02837821916823, "cost1_min": 109.18833780752107, "cost1_max": 390.8943213470277, "cost2_mean": -128.19475530771552, "outflow_rate_max": 1225.4801010715175}}
{"iterations_since_restore": 9, "timesteps_since_restore": 723488, "episode_reward_min": 206.26491294414487, "time_total_s": 13815.613754987717, "node_ip": "10.138.0.2", "done": false, "episode_reward_mean": 769.2303247053674, "num_metric_batches_dropped": 0, "episodes_total": 13422, "date": "2019-05-09_15-31-10", "pid": 21505, "episode_reward_max": 919.585289461539, "timesteps_total": 26210148, "hostname": "flow-main", "episodes_this_iter": 44, "config": {"horizon": 1500, "input": "sampler", "output_max_file_size": 67108864, "gamma": 0.99, "model": {"free_log_std": false, "squash_to_range": false, "fcnet_activation": "tanh", "grayscale": false, "dim": 84, "fcnet_hiddens": [128, 64, 32], "conv_filters": null, "custom_model": null, "conv_activation": "relu", "custom_options": {}, "use_lstm": false, "channel_major": false, "framestack": true, "lstm_use_prev_action_reward": false, "zero_mean": true, "max_seq_len": 20, "lstm_cell_size": 256, "custom_preprocessor": null}, "vf_share_layers": false, "lr_schedule": null, "compress_observations": false, "clip_rewards": null, "kl_target": 0.01, "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "callbacks": {"on_train_result": null, "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7f5e880103c8>", "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7f5e88010390>", "on_sample_end": null, "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7f5e88010400>"}, "preprocessor_pref": "deepmind", "num_gpus": 0, "multiagent": {"policies_to_train": null, "policy_graphs": {}, "policy_mapping_fn": null}, "observation_filter": "MeanStdFilter", "num_workers": 30, "lr": 0.0005, "num_envs_per_worker": 1, "custom_resources_per_worker": {}, "vf_clip_param": 1000000.0, "vf_loss_coeff": 1.0, "log_level": "INFO", "tf_session_args": {"device_count": {"CPU": 1}, "log_device_placement": false, "gpu_options": {"allow_growth": true}, "intra_op_parallelism_threads": 2, "allow_soft_placement": true, "inter_op_parallelism_threads": 2}, "batch_mode": "truncate_episodes", "num_sgd_iter": 10, "output_compress_columns": ["obs", "new_obs"], "simple_optimizer": false, "env_config": {"run": "PPO", "flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.1,\n            \"eta3\": 0.1,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 7.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 0\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 700,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}"}, "entropy_coeff": 0.0, "sample_async": false, "lambda": 0.97, "monitor": false, "env": "MultiWaveAttenuationMergePOEnvBufferedObs-v0shortermeasure01:01:10", "clip_param": 0.3, "sample_batch_size": 750, "input_evaluation": null, "collect_metrics_timeout": 180, "sgd_minibatch_size": 128, "train_batch_size": 45000, "synchronize_filters": true, "kl_coeff": 0.2, "output": null, "num_cpus_for_driver": 1, "use_gae": true, "clip_actions": false, "num_cpus_per_worker": 1, "optimizer": {}, "num_gpus_per_worker": 0, "straggler_mitigation": false}, "timestamp": 1557415870, "info": {"num_steps_trained": 26210148, "default": {"cur_lr": 0.0005000000237487257, "kl": 0.015347226522862911, "vf_explained_var": 0.8572651743888855, "entropy": 2.000620126724243, "total_loss": 18.417770385742188, "vf_loss": 18.428592681884766, "cur_kl_coeff": 0.6750000715255737, "policy_loss": -0.021179690957069397}, "load_time_ms": 35.176, "grad_time_ms": 19908.06, "sample_time_ms": 23269.941, "num_steps_sampled": 26210148, "update_time_ms": 69.984}, "policy_reward_mean": {}, "training_iteration": 209, "time_this_iter_s": 42.8456175327301, "experiment_id": "4ad1a1b4498d471a9b029fd78d997061", "time_since_restore": 391.1263110637665, "episode_len_mean": 740.38, "timesteps_this_iter": 81362, "custom_metrics": {"system_level_velocity_min": 8.047035464469, "system_level_velocity_mean": 11.809536385543717, "system_level_velocity_max": 14.0578461957618, "outflow_rate_min": 397.61891717102685, "cost1_mean": 331.4205716047215, "cost2_min": -157.31036414550258, "outflow_rate_mean": 1038.8450859834295, "cost2_max": -86.81846628618102, "cost1_min": 109.18833780752107, "cost1_max": 397.14498448420375, "cost2_mean": -129.2434858589125, "outflow_rate_max": 1225.4801010715175}}
{"iterations_since_restore": 10, "timesteps_since_restore": 805141, "episode_reward_min": 212.96852087150896, "time_total_s": 13859.881383895874, "node_ip": "10.138.0.2", "done": false, "episode_reward_mean": 767.7705290593533, "num_metric_batches_dropped": 0, "episodes_total": 13465, "date": "2019-05-09_15-31-54", "pid": 21505, "episode_reward_max": 887.0673783186045, "timesteps_total": 26291801, "hostname": "flow-main", "episodes_this_iter": 43, "config": {"horizon": 1500, "input": "sampler", "output_max_file_size": 67108864, "gamma": 0.99, "model": {"free_log_std": false, "squash_to_range": false, "fcnet_activation": "tanh", "grayscale": false, "dim": 84, "fcnet_hiddens": [128, 64, 32], "conv_filters": null, "custom_model": null, "conv_activation": "relu", "custom_options": {}, "use_lstm": false, "channel_major": false, "framestack": true, "lstm_use_prev_action_reward": false, "zero_mean": true, "max_seq_len": 20, "lstm_cell_size": 256, "custom_preprocessor": null}, "vf_share_layers": false, "lr_schedule": null, "compress_observations": false, "clip_rewards": null, "kl_target": 0.01, "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "callbacks": {"on_train_result": null, "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7f5e88010748>", "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7f5e87ff59b0>", "on_sample_end": null, "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7f5e87ff5e80>"}, "preprocessor_pref": "deepmind", "num_gpus": 0, "multiagent": {"policies_to_train": null, "policy_graphs": {}, "policy_mapping_fn": null}, "observation_filter": "MeanStdFilter", "num_workers": 30, "lr": 0.0005, "num_envs_per_worker": 1, "custom_resources_per_worker": {}, "vf_clip_param": 1000000.0, "vf_loss_coeff": 1.0, "log_level": "INFO", "tf_session_args": {"device_count": {"CPU": 1}, "log_device_placement": false, "gpu_options": {"allow_growth": true}, "intra_op_parallelism_threads": 2, "allow_soft_placement": true, "inter_op_parallelism_threads": 2}, "batch_mode": "truncate_episodes", "num_sgd_iter": 10, "output_compress_columns": ["obs", "new_obs"], "simple_optimizer": false, "env_config": {"run": "PPO", "flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.1,\n            \"eta3\": 0.1,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 7.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 0\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 700,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}"}, "entropy_coeff": 0.0, "sample_async": false, "lambda": 0.97, "monitor": false, "env": "MultiWaveAttenuationMergePOEnvBufferedObs-v0shortermeasure01:01:10", "clip_param": 0.3, "sample_batch_size": 750, "input_evaluation": null, "collect_metrics_timeout": 180, "sgd_minibatch_size": 128, "train_batch_size": 45000, "synchronize_filters": true, "kl_coeff": 0.2, "output": null, "num_cpus_for_driver": 1, "use_gae": true, "clip_actions": false, "num_cpus_per_worker": 1, "optimizer": {}, "num_gpus_per_worker": 0, "straggler_mitigation": false}, "timestamp": 1557415914, "info": {"num_steps_trained": 26291801, "default": {"cur_lr": 0.0005000000237487257, "kl": 0.015634290874004364, "vf_explained_var": 0.8566831350326538, "entropy": 1.9960684776306152, "total_loss": 17.488439559936523, "vf_loss": 17.498035430908203, "cur_kl_coeff": 0.6750001311302185, "policy_loss": -0.02014726959168911}, "load_time_ms": 35.875, "grad_time_ms": 19826.823, "sample_time_ms": 23439.757, "num_steps_sampled": 26291801, "update_time_ms": 64.104}, "policy_reward_mean": {}, "training_iteration": 210, "time_this_iter_s": 44.26762890815735, "experiment_id": "4ad1a1b4498d471a9b029fd78d997061", "time_since_restore": 435.3939399719238, "episode_len_mean": 742.28, "timesteps_this_iter": 81653, "custom_metrics": {"system_level_velocity_min": 8.047035464469, "system_level_velocity_mean": 11.877302378410713, "system_level_velocity_max": 14.0578461957618, "outflow_rate_min": 405.3963443902679, "cost1_mean": 333.77296760485314, "cost2_min": -157.31036414550258, "outflow_rate_mean": 1044.8816738109003, "cost2_max": -86.81846628618102, "cost1_min": 110.94584552843118, "cost1_max": 397.14498448420375, "cost2_mean": -132.34340439667233, "outflow_rate_max": 1229.9230665166974}}
{"iterations_since_restore": 11, "timesteps_since_restore": 886260, "episode_reward_min": 429.4957810563297, "time_total_s": 13903.878687381744, "node_ip": "10.138.0.2", "done": false, "episode_reward_mean": 767.0540367833714, "num_metric_batches_dropped": 0, "episodes_total": 13510, "date": "2019-05-09_15-32-38", "pid": 21505, "episode_reward_max": 891.6739801438305, "timesteps_total": 26372920, "hostname": "flow-main", "episodes_this_iter": 45, "config": {"horizon": 1500, "input": "sampler", "output_max_file_size": 67108864, "gamma": 0.99, "model": {"free_log_std": false, "squash_to_range": false, "fcnet_activation": "tanh", "grayscale": false, "dim": 84, "fcnet_hiddens": [128, 64, 32], "conv_filters": null, "custom_model": null, "conv_activation": "relu", "custom_options": {}, "use_lstm": false, "channel_major": false, "framestack": true, "lstm_use_prev_action_reward": false, "zero_mean": true, "max_seq_len": 20, "lstm_cell_size": 256, "custom_preprocessor": null}, "vf_share_layers": false, "lr_schedule": null, "compress_observations": false, "clip_rewards": null, "kl_target": 0.01, "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "callbacks": {"on_train_result": null, "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7f5e88010080>", "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7f5e88010828>", "on_sample_end": null, "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7f5e880100b8>"}, "preprocessor_pref": "deepmind", "num_gpus": 0, "multiagent": {"policies_to_train": null, "policy_graphs": {}, "policy_mapping_fn": null}, "observation_filter": "MeanStdFilter", "num_workers": 30, "lr": 0.0005, "num_envs_per_worker": 1, "custom_resources_per_worker": {}, "vf_clip_param": 1000000.0, "vf_loss_coeff": 1.0, "log_level": "INFO", "tf_session_args": {"device_count": {"CPU": 1}, "log_device_placement": false, "gpu_options": {"allow_growth": true}, "intra_op_parallelism_threads": 2, "allow_soft_placement": true, "inter_op_parallelism_threads": 2}, "batch_mode": "truncate_episodes", "num_sgd_iter": 10, "output_compress_columns": ["obs", "new_obs"], "simple_optimizer": false, "env_config": {"run": "PPO", "flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.1,\n            \"eta3\": 0.1,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 7.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 0\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 700,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}"}, "entropy_coeff": 0.0, "sample_async": false, "lambda": 0.97, "monitor": false, "env": "MultiWaveAttenuationMergePOEnvBufferedObs-v0shortermeasure01:01:10", "clip_param": 0.3, "sample_batch_size": 750, "input_evaluation": null, "collect_metrics_timeout": 180, "sgd_minibatch_size": 128, "train_batch_size": 45000, "synchronize_filters": true, "kl_coeff": 0.2, "output": null, "num_cpus_for_driver": 1, "use_gae": true, "clip_actions": false, "num_cpus_per_worker": 1, "optimizer": {}, "num_gpus_per_worker": 0, "straggler_mitigation": false}, "timestamp": 1557415958, "info": {"num_steps_trained": 26372920, "default": {"cur_lr": 0.0005000000237487257, "kl": 0.015150067396461964, "vf_explained_var": 0.8560511469841003, "entropy": 1.9786620140075684, "total_loss": 17.483943939208984, "vf_loss": 17.49535369873047, "cur_kl_coeff": 0.6750001311302185, "policy_loss": -0.021636011078953743}, "load_time_ms": 32.634, "grad_time_ms": 19816.015, "sample_time_ms": 23957.121, "num_steps_sampled": 26372920, "update_time_ms": 16.057}, "policy_reward_mean": {}, "training_iteration": 211, "time_this_iter_s": 43.99730348587036, "experiment_id": "4ad1a1b4498d471a9b029fd78d997061", "time_since_restore": 479.3912434577942, "episode_len_mean": 741.58, "timesteps_this_iter": 81119, "custom_metrics": {"system_level_velocity_min": 7.32587156878492, "system_level_velocity_mean": 11.913554324820891, "system_level_velocity_max": 14.391329069379852, "outflow_rate_min": 699.2232484047217, "cost1_mean": 334.4020917118476, "cost2_min": -158.48291389604037, "outflow_rate_mean": 1043.802624280835, "cost2_max": -99.79360754801397, "cost1_min": 203.78662193079978, "cost1_max": 394.5037745300108, "cost2_mean": -134.24983430525918, "outflow_rate_max": 1229.9230665166974}}
{"iterations_since_restore": 12, "timesteps_since_restore": 966010, "episode_reward_min": 202.7596234301414, "time_total_s": 13946.624308109283, "node_ip": "10.138.0.2", "done": false, "episode_reward_mean": 778.5591648234143, "num_metric_batches_dropped": 0, "episodes_total": 13553, "date": "2019-05-09_15-33-21", "pid": 21505, "episode_reward_max": 922.0503314601508, "timesteps_total": 26452670, "hostname": "flow-main", "episodes_this_iter": 43, "config": {"horizon": 1500, "input": "sampler", "output_max_file_size": 67108864, "gamma": 0.99, "model": {"free_log_std": false, "squash_to_range": false, "fcnet_activation": "tanh", "grayscale": false, "dim": 84, "fcnet_hiddens": [128, 64, 32], "conv_filters": null, "custom_model": null, "conv_activation": "relu", "custom_options": {}, "use_lstm": false, "channel_major": false, "framestack": true, "lstm_use_prev_action_reward": false, "zero_mean": true, "max_seq_len": 20, "lstm_cell_size": 256, "custom_preprocessor": null}, "vf_share_layers": false, "lr_schedule": null, "compress_observations": false, "clip_rewards": null, "kl_target": 0.01, "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "callbacks": {"on_train_result": null, "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7f5e87ff5390>", "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7f5e87ff5400>", "on_sample_end": null, "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7f5e87ff5c88>"}, "preprocessor_pref": "deepmind", "num_gpus": 0, "multiagent": {"policies_to_train": null, "policy_graphs": {}, "policy_mapping_fn": null}, "observation_filter": "MeanStdFilter", "num_workers": 30, "lr": 0.0005, "num_envs_per_worker": 1, "custom_resources_per_worker": {}, "vf_clip_param": 1000000.0, "vf_loss_coeff": 1.0, "log_level": "INFO", "tf_session_args": {"device_count": {"CPU": 1}, "log_device_placement": false, "gpu_options": {"allow_growth": true}, "intra_op_parallelism_threads": 2, "allow_soft_placement": true, "inter_op_parallelism_threads": 2}, "batch_mode": "truncate_episodes", "num_sgd_iter": 10, "output_compress_columns": ["obs", "new_obs"], "simple_optimizer": false, "env_config": {"run": "PPO", "flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.1,\n            \"eta3\": 0.1,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 7.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 0\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 700,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}"}, "entropy_coeff": 0.0, "sample_async": false, "lambda": 0.97, "monitor": false, "env": "MultiWaveAttenuationMergePOEnvBufferedObs-v0shortermeasure01:01:10", "clip_param": 0.3, "sample_batch_size": 750, "input_evaluation": null, "collect_metrics_timeout": 180, "sgd_minibatch_size": 128, "train_batch_size": 45000, "synchronize_filters": true, "kl_coeff": 0.2, "output": null, "num_cpus_for_driver": 1, "use_gae": true, "clip_actions": false, "num_cpus_per_worker": 1, "optimizer": {}, "num_gpus_per_worker": 0, "straggler_mitigation": false}, "timestamp": 1557416001, "info": {"num_steps_trained": 26452670, "default": {"cur_lr": 0.0005000000237487257, "kl": 0.015214720740914345, "vf_explained_var": 0.8418524265289307, "entropy": 1.9715174436569214, "total_loss": 20.749666213989258, "vf_loss": 20.76081085205078, "cur_kl_coeff": 0.675000011920929, "policy_loss": -0.021415207535028458}, "load_time_ms": 32.747, "grad_time_ms": 19754.326, "sample_time_ms": 24340.086, "num_steps_sampled": 26452670, "update_time_ms": 16.016}, "policy_reward_mean": {}, "training_iteration": 212, "time_this_iter_s": 42.74562072753906, "experiment_id": "4ad1a1b4498d471a9b029fd78d997061", "time_since_restore": 522.1368641853333, "episode_len_mean": 739.68, "timesteps_this_iter": 79750, "custom_metrics": {"system_level_velocity_min": 7.32587156878492, "system_level_velocity_mean": 12.0569268087115, "system_level_velocity_max": 14.503432180803388, "outflow_rate_min": 409.89287074815496, "cost1_mean": 337.7204830728839, "cost2_min": -166.94324020869058, "outflow_rate_mean": 1057.236368404628, "cost2_max": -84.37464572653025, "cost1_min": 108.86710540410937, "cost1_max": 410.1404824991838, "cost2_mean": -137.06410998017927, "outflow_rate_max": 1274.167937122742}}
{"iterations_since_restore": 13, "timesteps_since_restore": 1047229, "episode_reward_min": 67.58858763798241, "time_total_s": 13990.759470701218, "node_ip": "10.138.0.2", "done": false, "episode_reward_mean": 780.9334940212873, "num_metric_batches_dropped": 0, "episodes_total": 13596, "date": "2019-05-09_15-34-05", "pid": 21505, "episode_reward_max": 959.5955191405735, "timesteps_total": 26533889, "hostname": "flow-main", "episodes_this_iter": 43, "config": {"horizon": 1500, "input": "sampler", "output_max_file_size": 67108864, "gamma": 0.99, "model": {"free_log_std": false, "squash_to_range": false, "fcnet_activation": "tanh", "grayscale": false, "dim": 84, "fcnet_hiddens": [128, 64, 32], "conv_filters": null, "custom_model": null, "conv_activation": "relu", "custom_options": {}, "use_lstm": false, "channel_major": false, "framestack": true, "lstm_use_prev_action_reward": false, "zero_mean": true, "max_seq_len": 20, "lstm_cell_size": 256, "custom_preprocessor": null}, "vf_share_layers": false, "lr_schedule": null, "compress_observations": false, "clip_rewards": null, "kl_target": 0.01, "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "callbacks": {"on_train_result": null, "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7f5e88010860>", "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7f5e88010cc0>", "on_sample_end": null, "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7f5e88010550>"}, "preprocessor_pref": "deepmind", "num_gpus": 0, "multiagent": {"policies_to_train": null, "policy_graphs": {}, "policy_mapping_fn": null}, "observation_filter": "MeanStdFilter", "num_workers": 30, "lr": 0.0005, "num_envs_per_worker": 1, "custom_resources_per_worker": {}, "vf_clip_param": 1000000.0, "vf_loss_coeff": 1.0, "log_level": "INFO", "tf_session_args": {"device_count": {"CPU": 1}, "log_device_placement": false, "gpu_options": {"allow_growth": true}, "intra_op_parallelism_threads": 2, "allow_soft_placement": true, "inter_op_parallelism_threads": 2}, "batch_mode": "truncate_episodes", "num_sgd_iter": 10, "output_compress_columns": ["obs", "new_obs"], "simple_optimizer": false, "env_config": {"run": "PPO", "flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.1,\n            \"eta3\": 0.1,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 7.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 0\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 700,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}"}, "entropy_coeff": 0.0, "sample_async": false, "lambda": 0.97, "monitor": false, "env": "MultiWaveAttenuationMergePOEnvBufferedObs-v0shortermeasure01:01:10", "clip_param": 0.3, "sample_batch_size": 750, "input_evaluation": null, "collect_metrics_timeout": 180, "sgd_minibatch_size": 128, "train_batch_size": 45000, "synchronize_filters": true, "kl_coeff": 0.2, "output": null, "num_cpus_for_driver": 1, "use_gae": true, "clip_actions": false, "num_cpus_per_worker": 1, "optimizer": {}, "num_gpus_per_worker": 0, "straggler_mitigation": false}, "timestamp": 1557416045, "info": {"num_steps_trained": 26533889, "default": {"cur_lr": 0.0005000000237487257, "kl": 0.015089768916368484, "vf_explained_var": 0.8476880192756653, "entropy": 1.9716126918792725, "total_loss": 18.630277633666992, "vf_loss": 18.64061164855957, "cur_kl_coeff": 0.6750001311302185, "policy_loss": -0.020520027726888657}, "load_time_ms": 33.242, "grad_time_ms": 19865.186, "sample_time_ms": 24553.359, "num_steps_sampled": 26533889, "update_time_ms": 15.873}, "policy_reward_mean": {}, "training_iteration": 213, "time_this_iter_s": 44.135162591934204, "experiment_id": "4ad1a1b4498d471a9b029fd78d997061", "time_since_restore": 566.2720267772675, "episode_len_mean": 733.45, "timesteps_this_iter": 81219, "custom_metrics": {"system_level_velocity_min": 7.32587156878492, "system_level_velocity_mean": 12.111330014360224, "system_level_velocity_max": 14.580125995405098, "outflow_rate_min": 254.23111705178346, "cost1_mean": 336.59365008333873, "cost2_min": -166.94324020869058, "outflow_rate_mean": 1057.5586323339014, "cost2_max": -61.64274149096798, "cost1_min": 50.79405097428207, "cost1_max": 414.69979093393573, "cost2_mean": -139.62800924665672, "outflow_rate_max": 1296.1274915547513}}
{"iterations_since_restore": 14, "timesteps_since_restore": 1127082, "episode_reward_min": 67.58858763798241, "time_total_s": 14032.44267296791, "node_ip": "10.138.0.2", "done": false, "episode_reward_mean": 775.399181630435, "num_metric_batches_dropped": 0, "episodes_total": 13639, "date": "2019-05-09_15-34-47", "pid": 21505, "episode_reward_max": 959.5955191405735, "timesteps_total": 26613742, "hostname": "flow-main", "episodes_this_iter": 43, "config": {"horizon": 1500, "input": "sampler", "output_max_file_size": 67108864, "gamma": 0.99, "model": {"free_log_std": false, "squash_to_range": false, "fcnet_activation": "tanh", "grayscale": false, "dim": 84, "fcnet_hiddens": [128, 64, 32], "conv_filters": null, "custom_model": null, "conv_activation": "relu", "custom_options": {}, "use_lstm": false, "channel_major": false, "framestack": true, "lstm_use_prev_action_reward": false, "zero_mean": true, "max_seq_len": 20, "lstm_cell_size": 256, "custom_preprocessor": null}, "vf_share_layers": false, "lr_schedule": null, "compress_observations": false, "clip_rewards": null, "kl_target": 0.01, "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "callbacks": {"on_train_result": null, "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7f5e87ff5240>", "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7f5e87ff5438>", "on_sample_end": null, "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7f5e87ff56d8>"}, "preprocessor_pref": "deepmind", "num_gpus": 0, "multiagent": {"policies_to_train": null, "policy_graphs": {}, "policy_mapping_fn": null}, "observation_filter": "MeanStdFilter", "num_workers": 30, "lr": 0.0005, "num_envs_per_worker": 1, "custom_resources_per_worker": {}, "vf_clip_param": 1000000.0, "vf_loss_coeff": 1.0, "log_level": "INFO", "tf_session_args": {"device_count": {"CPU": 1}, "log_device_placement": false, "gpu_options": {"allow_growth": true}, "intra_op_parallelism_threads": 2, "allow_soft_placement": true, "inter_op_parallelism_threads": 2}, "batch_mode": "truncate_episodes", "num_sgd_iter": 10, "output_compress_columns": ["obs", "new_obs"], "simple_optimizer": false, "env_config": {"run": "PPO", "flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.1,\n            \"eta3\": 0.1,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 7.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 0\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 700,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}"}, "entropy_coeff": 0.0, "sample_async": false, "lambda": 0.97, "monitor": false, "env": "MultiWaveAttenuationMergePOEnvBufferedObs-v0shortermeasure01:01:10", "clip_param": 0.3, "sample_batch_size": 750, "input_evaluation": null, "collect_metrics_timeout": 180, "sgd_minibatch_size": 128, "train_batch_size": 45000, "synchronize_filters": true, "kl_coeff": 0.2, "output": null, "num_cpus_for_driver": 1, "use_gae": true, "clip_actions": false, "num_cpus_per_worker": 1, "optimizer": {}, "num_gpus_per_worker": 0, "straggler_mitigation": false}, "timestamp": 1557416087, "info": {"num_steps_trained": 26613742, "default": {"cur_lr": 0.0005000000237487257, "kl": 0.015950670465826988, "vf_explained_var": 0.8461605310440063, "entropy": 1.9709278345108032, "total_loss": 18.21823501586914, "vf_loss": 18.228891372680664, "cur_kl_coeff": 0.675000011920929, "policy_loss": -0.021425563842058182}, "load_time_ms": 34.446, "grad_time_ms": 19525.76, "sample_time_ms": 24605.971, "num_steps_sampled": 26613742, "update_time_ms": 15.91}, "policy_reward_mean": {}, "training_iteration": 214, "time_this_iter_s": 41.683202266693115, "experiment_id": "4ad1a1b4498d471a9b029fd78d997061", "time_since_restore": 607.9552290439606, "episode_len_mean": 728.78, "timesteps_this_iter": 79853, "custom_metrics": {"system_level_velocity_min": 8.11599156722385, "system_level_velocity_mean": 12.13860410080716, "system_level_velocity_max": 14.580125995405098, "outflow_rate_min": 254.23111705178346, "cost1_mean": 334.80480063653675, "cost2_min": -173.8785472713326, "outflow_rate_mean": 1046.6985119764047, "cost2_max": -61.64274149096798, "cost1_min": 50.79405097428207, "cost1_max": 414.69979093393573, "cost2_mean": -140.21540944183454, "outflow_rate_max": 1296.1274915547513}}
{"iterations_since_restore": 15, "timesteps_since_restore": 1208581, "episode_reward_min": 67.58858763798241, "time_total_s": 14075.606084108353, "node_ip": "10.138.0.2", "done": false, "episode_reward_mean": 785.8849886709592, "num_metric_batches_dropped": 0, "episodes_total": 13682, "date": "2019-05-09_15-35-30", "pid": 21505, "episode_reward_max": 942.8318838132784, "timesteps_total": 26695241, "hostname": "flow-main", "episodes_this_iter": 43, "config": {"horizon": 1500, "input": "sampler", "output_max_file_size": 67108864, "gamma": 0.99, "model": {"free_log_std": false, "squash_to_range": false, "fcnet_activation": "tanh", "grayscale": false, "dim": 84, "fcnet_hiddens": [128, 64, 32], "conv_filters": null, "custom_model": null, "conv_activation": "relu", "custom_options": {}, "use_lstm": false, "channel_major": false, "framestack": true, "lstm_use_prev_action_reward": false, "zero_mean": true, "max_seq_len": 20, "lstm_cell_size": 256, "custom_preprocessor": null}, "vf_share_layers": false, "lr_schedule": null, "compress_observations": false, "clip_rewards": null, "kl_target": 0.01, "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "callbacks": {"on_train_result": null, "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7f5e88010400>", "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7f5e88010160>", "on_sample_end": null, "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7f5e880100f0>"}, "preprocessor_pref": "deepmind", "num_gpus": 0, "multiagent": {"policies_to_train": null, "policy_graphs": {}, "policy_mapping_fn": null}, "observation_filter": "MeanStdFilter", "num_workers": 30, "lr": 0.0005, "num_envs_per_worker": 1, "custom_resources_per_worker": {}, "vf_clip_param": 1000000.0, "vf_loss_coeff": 1.0, "log_level": "INFO", "tf_session_args": {"device_count": {"CPU": 1}, "log_device_placement": false, "gpu_options": {"allow_growth": true}, "intra_op_parallelism_threads": 2, "allow_soft_placement": true, "inter_op_parallelism_threads": 2}, "batch_mode": "truncate_episodes", "num_sgd_iter": 10, "output_compress_columns": ["obs", "new_obs"], "simple_optimizer": false, "env_config": {"run": "PPO", "flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.1,\n            \"eta3\": 0.1,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 7.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 0\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 700,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}"}, "entropy_coeff": 0.0, "sample_async": false, "lambda": 0.97, "monitor": false, "env": "MultiWaveAttenuationMergePOEnvBufferedObs-v0shortermeasure01:01:10", "clip_param": 0.3, "sample_batch_size": 750, "input_evaluation": null, "collect_metrics_timeout": 180, "sgd_minibatch_size": 128, "train_batch_size": 45000, "synchronize_filters": true, "kl_coeff": 0.2, "output": null, "num_cpus_for_driver": 1, "use_gae": true, "clip_actions": false, "num_cpus_per_worker": 1, "optimizer": {}, "num_gpus_per_worker": 0, "straggler_mitigation": false}, "timestamp": 1557416130, "info": {"num_steps_trained": 26695241, "default": {"cur_lr": 0.0005000000237487257, "kl": 0.015557791106402874, "vf_explained_var": 0.8546756505966187, "entropy": 1.9956520795822144, "total_loss": 17.77419662475586, "vf_loss": 17.785306930541992, "cur_kl_coeff": 0.6750000715255737, "policy_loss": -0.02161250077188015}, "load_time_ms": 33.271, "grad_time_ms": 18932.699, "sample_time_ms": 24277.244, "num_steps_sampled": 26695241, "update_time_ms": 15.59}, "policy_reward_mean": {}, "training_iteration": 215, "time_this_iter_s": 43.163411140441895, "experiment_id": "4ad1a1b4498d471a9b029fd78d997061", "time_since_restore": 651.1186401844025, "episode_len_mean": 734.11, "timesteps_this_iter": 81499, "custom_metrics": {"system_level_velocity_min": 8.11599156722385, "system_level_velocity_mean": 12.231963048213744, "system_level_velocity_max": 14.248287783023866, "outflow_rate_min": 254.23111705178346, "cost1_mean": 340.1134025187211, "cost2_min": -173.8785472713326, "outflow_rate_mean": 1066.7810705843153, "cost2_max": -61.64274149096798, "cost1_min": 50.79405097428207, "cost1_max": 405.1640707160025, "cost2_mean": -140.99969509968253, "outflow_rate_max": 1296.1274915547513}}
{"iterations_since_restore": 16, "timesteps_since_restore": 1289407, "episode_reward_min": 205.8949326831852, "time_total_s": 14119.713755607605, "node_ip": "10.138.0.2", "done": false, "episode_reward_mean": 794.5866836033853, "num_metric_batches_dropped": 0, "episodes_total": 13724, "date": "2019-05-09_15-36-14", "pid": 21505, "episode_reward_max": 934.1739198986397, "timesteps_total": 26776067, "hostname": "flow-main", "episodes_this_iter": 42, "config": {"horizon": 1500, "input": "sampler", "output_max_file_size": 67108864, "gamma": 0.99, "model": {"free_log_std": false, "squash_to_range": false, "fcnet_activation": "tanh", "grayscale": false, "dim": 84, "fcnet_hiddens": [128, 64, 32], "conv_filters": null, "custom_model": null, "conv_activation": "relu", "custom_options": {}, "use_lstm": false, "channel_major": false, "framestack": true, "lstm_use_prev_action_reward": false, "zero_mean": true, "max_seq_len": 20, "lstm_cell_size": 256, "custom_preprocessor": null}, "vf_share_layers": false, "lr_schedule": null, "compress_observations": false, "clip_rewards": null, "kl_target": 0.01, "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "callbacks": {"on_train_result": null, "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7f5e87ff52e8>", "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7f5e87ff58d0>", "on_sample_end": null, "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7f5e87ff56d8>"}, "preprocessor_pref": "deepmind", "num_gpus": 0, "multiagent": {"policies_to_train": null, "policy_graphs": {}, "policy_mapping_fn": null}, "observation_filter": "MeanStdFilter", "num_workers": 30, "lr": 0.0005, "num_envs_per_worker": 1, "custom_resources_per_worker": {}, "vf_clip_param": 1000000.0, "vf_loss_coeff": 1.0, "log_level": "INFO", "tf_session_args": {"device_count": {"CPU": 1}, "log_device_placement": false, "gpu_options": {"allow_growth": true}, "intra_op_parallelism_threads": 2, "allow_soft_placement": true, "inter_op_parallelism_threads": 2}, "batch_mode": "truncate_episodes", "num_sgd_iter": 10, "output_compress_columns": ["obs", "new_obs"], "simple_optimizer": false, "env_config": {"run": "PPO", "flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.1,\n            \"eta3\": 0.1,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 7.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 0\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 700,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}"}, "entropy_coeff": 0.0, "sample_async": false, "lambda": 0.97, "monitor": false, "env": "MultiWaveAttenuationMergePOEnvBufferedObs-v0shortermeasure01:01:10", "clip_param": 0.3, "sample_batch_size": 750, "input_evaluation": null, "collect_metrics_timeout": 180, "sgd_minibatch_size": 128, "train_batch_size": 45000, "synchronize_filters": true, "kl_coeff": 0.2, "output": null, "num_cpus_for_driver": 1, "use_gae": true, "clip_actions": false, "num_cpus_per_worker": 1, "optimizer": {}, "num_gpus_per_worker": 0, "straggler_mitigation": false}, "timestamp": 1557416174, "info": {"num_steps_trained": 26776067, "default": {"cur_lr": 0.0005000000237487257, "kl": 0.015137885697185993, "vf_explained_var": 0.8563483953475952, "entropy": 1.9917932748794556, "total_loss": 17.63217544555664, "vf_loss": 17.643165588378906, "cur_kl_coeff": 0.6750000715255737, "policy_loss": -0.021207718178629875}, "load_time_ms": 33.615, "grad_time_ms": 19090.637, "sample_time_ms": 24023.843, "num_steps_sampled": 26776067, "update_time_ms": 8.167}, "policy_reward_mean": {}, "training_iteration": 216, "time_this_iter_s": 44.10767149925232, "experiment_id": "4ad1a1b4498d471a9b029fd78d997061", "time_since_restore": 695.2263116836548, "episode_len_mean": 745.67, "timesteps_this_iter": 80826, "custom_metrics": {"system_level_velocity_min": 8.671409098768649, "system_level_velocity_mean": 12.166049642899043, "system_level_velocity_max": 14.248287783023866, "outflow_rate_min": 420.5663573937958, "cost1_mean": 343.2733397838319, "cost2_min": -170.15052463673413, "outflow_rate_mean": 1074.1624549970593, "cost2_max": -90.88961099955539, "cost1_min": 113.00947103322878, "cost1_max": 403.96694484115847, "cost2_mean": -140.36838065624096, "outflow_rate_max": 1294.2120638443391}}
{"iterations_since_restore": 17, "timesteps_since_restore": 1370173, "episode_reward_min": 213.59448031469262, "time_total_s": 14164.570354223251, "node_ip": "10.138.0.2", "done": false, "episode_reward_mean": 790.8521814084125, "num_metric_batches_dropped": 0, "episodes_total": 13767, "date": "2019-05-09_15-36-59", "pid": 21505, "episode_reward_max": 934.1739198986397, "timesteps_total": 26856833, "hostname": "flow-main", "episodes_this_iter": 43, "config": {"horizon": 1500, "input": "sampler", "output_max_file_size": 67108864, "gamma": 0.99, "model": {"free_log_std": false, "squash_to_range": false, "fcnet_activation": "tanh", "grayscale": false, "dim": 84, "fcnet_hiddens": [128, 64, 32], "conv_filters": null, "custom_model": null, "conv_activation": "relu", "custom_options": {}, "use_lstm": false, "channel_major": false, "framestack": true, "lstm_use_prev_action_reward": false, "zero_mean": true, "max_seq_len": 20, "lstm_cell_size": 256, "custom_preprocessor": null}, "vf_share_layers": false, "lr_schedule": null, "compress_observations": false, "clip_rewards": null, "kl_target": 0.01, "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "callbacks": {"on_train_result": null, "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7f5e880100b8>", "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7f5e88010550>", "on_sample_end": null, "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7f5e88010128>"}, "preprocessor_pref": "deepmind", "num_gpus": 0, "multiagent": {"policies_to_train": null, "policy_graphs": {}, "policy_mapping_fn": null}, "observation_filter": "MeanStdFilter", "num_workers": 30, "lr": 0.0005, "num_envs_per_worker": 1, "custom_resources_per_worker": {}, "vf_clip_param": 1000000.0, "vf_loss_coeff": 1.0, "log_level": "INFO", "tf_session_args": {"device_count": {"CPU": 1}, "log_device_placement": false, "gpu_options": {"allow_growth": true}, "intra_op_parallelism_threads": 2, "allow_soft_placement": true, "inter_op_parallelism_threads": 2}, "batch_mode": "truncate_episodes", "num_sgd_iter": 10, "output_compress_columns": ["obs", "new_obs"], "simple_optimizer": false, "env_config": {"run": "PPO", "flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.1,\n            \"eta3\": 0.1,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 7.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 0\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 700,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}"}, "entropy_coeff": 0.0, "sample_async": false, "lambda": 0.97, "monitor": false, "env": "MultiWaveAttenuationMergePOEnvBufferedObs-v0shortermeasure01:01:10", "clip_param": 0.3, "sample_batch_size": 750, "input_evaluation": null, "collect_metrics_timeout": 180, "sgd_minibatch_size": 128, "train_batch_size": 45000, "synchronize_filters": true, "kl_coeff": 0.2, "output": null, "num_cpus_for_driver": 1, "use_gae": true, "clip_actions": false, "num_cpus_per_worker": 1, "optimizer": {}, "num_gpus_per_worker": 0, "straggler_mitigation": false}, "timestamp": 1557416219, "info": {"num_steps_trained": 26856833, "default": {"cur_lr": 0.0005000000237487257, "kl": 0.015946563333272934, "vf_explained_var": 0.8624118566513062, "entropy": 1.9960600137710571, "total_loss": 17.96140480041504, "vf_loss": 17.97254753112793, "cur_kl_coeff": 0.6750000715255737, "policy_loss": -0.02190684713423252}, "load_time_ms": 33.444, "grad_time_ms": 19464.351, "sample_time_ms": 23713.243, "num_steps_sampled": 26856833, "update_time_ms": 8.081}, "policy_reward_mean": {}, "training_iteration": 217, "time_this_iter_s": 44.85659861564636, "experiment_id": "4ad1a1b4498d471a9b029fd78d997061", "time_since_restore": 740.0829102993011, "episode_len_mean": 745.75, "timesteps_this_iter": 80766, "custom_metrics": {"system_level_velocity_min": 8.671409098768649, "system_level_velocity_mean": 12.06268872794493, "system_level_velocity_max": 14.248287783023866, "outflow_rate_min": 436.48023538408927, "cost1_mean": 340.4927457146578, "cost2_min": -163.7593598994098, "outflow_rate_mean": 1068.8140738087366, "cost2_max": -92.98093148274688, "cost1_min": 116.93410365666577, "cost1_max": 403.96694484115847, "cost2_mean": -140.62522072354625, "outflow_rate_max": 1294.2120638443391}}
{"iterations_since_restore": 18, "timesteps_since_restore": 1452217, "episode_reward_min": 213.59448031469262, "time_total_s": 14209.197649717331, "node_ip": "10.138.0.2", "done": false, "episode_reward_mean": 792.6122584572701, "num_metric_batches_dropped": 0, "episodes_total": 13810, "date": "2019-05-09_15-37-44", "pid": 21505, "episode_reward_max": 958.2241535284954, "timesteps_total": 26938877, "hostname": "flow-main", "episodes_this_iter": 43, "config": {"horizon": 1500, "input": "sampler", "output_max_file_size": 67108864, "gamma": 0.99, "model": {"free_log_std": false, "squash_to_range": false, "fcnet_activation": "tanh", "grayscale": false, "dim": 84, "fcnet_hiddens": [128, 64, 32], "conv_filters": null, "custom_model": null, "conv_activation": "relu", "custom_options": {}, "use_lstm": false, "channel_major": false, "framestack": true, "lstm_use_prev_action_reward": false, "zero_mean": true, "max_seq_len": 20, "lstm_cell_size": 256, "custom_preprocessor": null}, "vf_share_layers": false, "lr_schedule": null, "compress_observations": false, "clip_rewards": null, "kl_target": 0.01, "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "callbacks": {"on_train_result": null, "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7f5e880102e8>", "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7f5e87ff5940>", "on_sample_end": null, "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7f5e88010ba8>"}, "preprocessor_pref": "deepmind", "num_gpus": 0, "multiagent": {"policies_to_train": null, "policy_graphs": {}, "policy_mapping_fn": null}, "observation_filter": "MeanStdFilter", "num_workers": 30, "lr": 0.0005, "num_envs_per_worker": 1, "custom_resources_per_worker": {}, "vf_clip_param": 1000000.0, "vf_loss_coeff": 1.0, "log_level": "INFO", "tf_session_args": {"device_count": {"CPU": 1}, "log_device_placement": false, "gpu_options": {"allow_growth": true}, "intra_op_parallelism_threads": 2, "allow_soft_placement": true, "inter_op_parallelism_threads": 2}, "batch_mode": "truncate_episodes", "num_sgd_iter": 10, "output_compress_columns": ["obs", "new_obs"], "simple_optimizer": false, "env_config": {"run": "PPO", "flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.1,\n            \"eta3\": 0.1,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 7.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 0\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 700,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}"}, "entropy_coeff": 0.0, "sample_async": false, "lambda": 0.97, "monitor": false, "env": "MultiWaveAttenuationMergePOEnvBufferedObs-v0shortermeasure01:01:10", "clip_param": 0.3, "sample_batch_size": 750, "input_evaluation": null, "collect_metrics_timeout": 180, "sgd_minibatch_size": 128, "train_batch_size": 45000, "synchronize_filters": true, "kl_coeff": 0.2, "output": null, "num_cpus_for_driver": 1, "use_gae": true, "clip_actions": false, "num_cpus_per_worker": 1, "optimizer": {}, "num_gpus_per_worker": 0, "straggler_mitigation": false}, "timestamp": 1557416264, "info": {"num_steps_trained": 26938877, "default": {"cur_lr": 0.0005000000237487257, "kl": 0.01541272271424532, "vf_explained_var": 0.862047016620636, "entropy": 1.996323585510254, "total_loss": 18.108230590820312, "vf_loss": 18.11981201171875, "cur_kl_coeff": 0.6750000715255737, "policy_loss": -0.021984482184052467}, "load_time_ms": 34.002, "grad_time_ms": 19573.537, "sample_time_ms": 23863.705, "num_steps_sampled": 26938877, "update_time_ms": 8.119}, "policy_reward_mean": {}, "training_iteration": 218, "time_this_iter_s": 44.62729549407959, "experiment_id": "4ad1a1b4498d471a9b029fd78d997061", "time_since_restore": 784.7102057933807, "episode_len_mean": 745.75, "timesteps_this_iter": 82044, "custom_metrics": {"system_level_velocity_min": 9.103934048461195, "system_level_velocity_mean": 12.085975037163816, "system_level_velocity_max": 14.325864935431103, "outflow_rate_min": 436.48023538408927, "cost1_mean": 341.4572626023167, "cost2_min": -167.2777138003307, "outflow_rate_mean": 1073.5082401999978, "cost2_max": -92.98093148274688, "cost1_min": 116.93410365666577, "cost1_max": 408.31690389609696, "cost2_mean": -142.97222739762447, "outflow_rate_max": 1299.7320868162303}}
{"iterations_since_restore": 19, "timesteps_since_restore": 1533949, "episode_reward_min": 213.59448031469262, "time_total_s": 14255.138360023499, "node_ip": "10.138.0.2", "done": false, "episode_reward_mean": 795.2121308693925, "num_metric_batches_dropped": 0, "episodes_total": 13852, "date": "2019-05-09_15-38-30", "pid": 21505, "episode_reward_max": 958.2241535284954, "timesteps_total": 27020609, "hostname": "flow-main", "episodes_this_iter": 42, "config": {"horizon": 1500, "input": "sampler", "output_max_file_size": 67108864, "gamma": 0.99, "model": {"free_log_std": false, "squash_to_range": false, "fcnet_activation": "tanh", "grayscale": false, "dim": 84, "fcnet_hiddens": [128, 64, 32], "conv_filters": null, "custom_model": null, "conv_activation": "relu", "custom_options": {}, "use_lstm": false, "channel_major": false, "framestack": true, "lstm_use_prev_action_reward": false, "zero_mean": true, "max_seq_len": 20, "lstm_cell_size": 256, "custom_preprocessor": null}, "vf_share_layers": false, "lr_schedule": null, "compress_observations": false, "clip_rewards": null, "kl_target": 0.01, "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "callbacks": {"on_train_result": null, "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7f5e87ff54e0>", "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7f5e87ff5780>", "on_sample_end": null, "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7f5e87ff5898>"}, "preprocessor_pref": "deepmind", "num_gpus": 0, "multiagent": {"policies_to_train": null, "policy_graphs": {}, "policy_mapping_fn": null}, "observation_filter": "MeanStdFilter", "num_workers": 30, "lr": 0.0005, "num_envs_per_worker": 1, "custom_resources_per_worker": {}, "vf_clip_param": 1000000.0, "vf_loss_coeff": 1.0, "log_level": "INFO", "tf_session_args": {"device_count": {"CPU": 1}, "log_device_placement": false, "gpu_options": {"allow_growth": true}, "intra_op_parallelism_threads": 2, "allow_soft_placement": true, "inter_op_parallelism_threads": 2}, "batch_mode": "truncate_episodes", "num_sgd_iter": 10, "output_compress_columns": ["obs", "new_obs"], "simple_optimizer": false, "env_config": {"run": "PPO", "flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.1,\n            \"eta3\": 0.1,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 7.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 0\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 700,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}"}, "entropy_coeff": 0.0, "sample_async": false, "lambda": 0.97, "monitor": false, "env": "MultiWaveAttenuationMergePOEnvBufferedObs-v0shortermeasure01:01:10", "clip_param": 0.3, "sample_batch_size": 750, "input_evaluation": null, "collect_metrics_timeout": 180, "sgd_minibatch_size": 128, "train_batch_size": 45000, "synchronize_filters": true, "kl_coeff": 0.2, "output": null, "num_cpus_for_driver": 1, "use_gae": true, "clip_actions": false, "num_cpus_per_worker": 1, "optimizer": {}, "num_gpus_per_worker": 0, "straggler_mitigation": false}, "timestamp": 1557416310, "info": {"num_steps_trained": 27020609, "default": {"cur_lr": 0.0005000000237487257, "kl": 0.01613655500113964, "vf_explained_var": 0.8802409172058105, "entropy": 2.0055532455444336, "total_loss": 16.615436553955078, "vf_loss": 16.62670135498047, "cur_kl_coeff": 0.6750000715255737, "policy_loss": -0.022159630432724953}, "load_time_ms": 34.593, "grad_time_ms": 19673.008, "sample_time_ms": 24070.399, "num_steps_sampled": 27020609, "update_time_ms": 8.582}, "policy_reward_mean": {}, "training_iteration": 219, "time_this_iter_s": 45.9407103061676, "experiment_id": "4ad1a1b4498d471a9b029fd78d997061", "time_since_restore": 830.6509160995483, "episode_len_mean": 745.75, "timesteps_this_iter": 81732, "custom_metrics": {"system_level_velocity_min": 9.103934048461195, "system_level_velocity_mean": 12.19016550116754, "system_level_velocity_max": 14.948473060047826, "outflow_rate_min": 436.48023538408927, "cost1_mean": 344.47220854618286, "cost2_min": -171.49679286695743, "outflow_rate_mean": 1079.4669456679, "cost2_max": -92.98093148274688, "cost1_min": 116.93410365666577, "cost1_max": 423.86398873369785, "cost2_mean": -146.19874303350062, "outflow_rate_max": 1343.7293107740818}}
{"iterations_since_restore": 20, "timesteps_since_restore": 1613712, "episode_reward_min": 203.49901667321802, "time_total_s": 14300.90031337738, "node_ip": "10.138.0.2", "done": false, "episode_reward_mean": 794.4179684513671, "num_metric_batches_dropped": 0, "episodes_total": 13896, "date": "2019-05-09_15-39-16", "pid": 21505, "episode_reward_max": 956.5434629437337, "timesteps_total": 27100372, "hostname": "flow-main", "episodes_this_iter": 44, "config": {"horizon": 1500, "input": "sampler", "output_max_file_size": 67108864, "gamma": 0.99, "model": {"free_log_std": false, "squash_to_range": false, "fcnet_activation": "tanh", "grayscale": false, "dim": 84, "fcnet_hiddens": [128, 64, 32], "conv_filters": null, "custom_model": null, "conv_activation": "relu", "custom_options": {}, "use_lstm": false, "channel_major": false, "framestack": true, "lstm_use_prev_action_reward": false, "zero_mean": true, "max_seq_len": 20, "lstm_cell_size": 256, "custom_preprocessor": null}, "vf_share_layers": false, "lr_schedule": null, "compress_observations": false, "clip_rewards": null, "kl_target": 0.01, "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "callbacks": {"on_train_result": null, "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7f5e87ff52e8>", "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7f5e87ff59b0>", "on_sample_end": null, "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7f5e87ff5da0>"}, "preprocessor_pref": "deepmind", "num_gpus": 0, "multiagent": {"policies_to_train": null, "policy_graphs": {}, "policy_mapping_fn": null}, "observation_filter": "MeanStdFilter", "num_workers": 30, "lr": 0.0005, "num_envs_per_worker": 1, "custom_resources_per_worker": {}, "vf_clip_param": 1000000.0, "vf_loss_coeff": 1.0, "log_level": "INFO", "tf_session_args": {"device_count": {"CPU": 1}, "log_device_placement": false, "gpu_options": {"allow_growth": true}, "intra_op_parallelism_threads": 2, "allow_soft_placement": true, "inter_op_parallelism_threads": 2}, "batch_mode": "truncate_episodes", "num_sgd_iter": 10, "output_compress_columns": ["obs", "new_obs"], "simple_optimizer": false, "env_config": {"run": "PPO", "flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.1,\n            \"eta3\": 0.1,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 7.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 0\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 700,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}"}, "entropy_coeff": 0.0, "sample_async": false, "lambda": 0.97, "monitor": false, "env": "MultiWaveAttenuationMergePOEnvBufferedObs-v0shortermeasure01:01:10", "clip_param": 0.3, "sample_batch_size": 750, "input_evaluation": null, "collect_metrics_timeout": 180, "sgd_minibatch_size": 128, "train_batch_size": 45000, "synchronize_filters": true, "kl_coeff": 0.2, "output": null, "num_cpus_for_driver": 1, "use_gae": true, "clip_actions": false, "num_cpus_per_worker": 1, "optimizer": {}, "num_gpus_per_worker": 0, "straggler_mitigation": false}, "timestamp": 1557416356, "info": {"num_steps_trained": 27100372, "default": {"cur_lr": 0.0005000000237487257, "kl": 0.01554134488105774, "vf_explained_var": 0.8615375757217407, "entropy": 2.0039660930633545, "total_loss": 17.16567611694336, "vf_loss": 17.177833557128906, "cur_kl_coeff": 0.675000011920929, "policy_loss": -0.022648785263299942}, "load_time_ms": 33.925, "grad_time_ms": 19957.716, "sample_time_ms": 23930.691, "num_steps_sampled": 27100372, "update_time_ms": 8.378}, "policy_reward_mean": {}, "training_iteration": 220, "time_this_iter_s": 45.761953353881836, "experiment_id": "4ad1a1b4498d471a9b029fd78d997061", "time_since_restore": 876.4128694534302, "episode_len_mean": 743.15, "timesteps_this_iter": 79763, "custom_metrics": {"system_level_velocity_min": 8.911266102283108, "system_level_velocity_mean": 12.231739757795662, "system_level_velocity_max": 14.948473060047826, "outflow_rate_min": 418.6426742970721, "cost1_mean": 344.25290621007656, "cost2_min": -179.20200787321374, "outflow_rate_mean": 1078.1544754456888, "cost2_max": -91.04057797746059, "cost1_min": 110.21183425593573, "cost1_max": 423.86398873369785, "cost2_mean": -146.82847586691494, "outflow_rate_max": 1343.7293107740818}}
{"iterations_since_restore": 21, "timesteps_since_restore": 1694579, "episode_reward_min": 203.49901667321802, "time_total_s": 14346.344796657562, "node_ip": "10.138.0.2", "done": false, "episode_reward_mean": 786.2322596332006, "num_metric_batches_dropped": 0, "episodes_total": 13940, "date": "2019-05-09_15-40-01", "pid": 21505, "episode_reward_max": 930.344975988446, "timesteps_total": 27181239, "hostname": "flow-main", "episodes_this_iter": 44, "config": {"horizon": 1500, "input": "sampler", "output_max_file_size": 67108864, "gamma": 0.99, "model": {"free_log_std": false, "squash_to_range": false, "fcnet_activation": "tanh", "grayscale": false, "dim": 84, "fcnet_hiddens": [128, 64, 32], "conv_filters": null, "custom_model": null, "conv_activation": "relu", "custom_options": {}, "use_lstm": false, "channel_major": false, "framestack": true, "lstm_use_prev_action_reward": false, "zero_mean": true, "max_seq_len": 20, "lstm_cell_size": 256, "custom_preprocessor": null}, "vf_share_layers": false, "lr_schedule": null, "compress_observations": false, "clip_rewards": null, "kl_target": 0.01, "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "callbacks": {"on_train_result": null, "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7f5e87ff5898>", "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7f5e87ff5780>", "on_sample_end": null, "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7f5e87ff5828>"}, "preprocessor_pref": "deepmind", "num_gpus": 0, "multiagent": {"policies_to_train": null, "policy_graphs": {}, "policy_mapping_fn": null}, "observation_filter": "MeanStdFilter", "num_workers": 30, "lr": 0.0005, "num_envs_per_worker": 1, "custom_resources_per_worker": {}, "vf_clip_param": 1000000.0, "vf_loss_coeff": 1.0, "log_level": "INFO", "tf_session_args": {"device_count": {"CPU": 1}, "log_device_placement": false, "gpu_options": {"allow_growth": true}, "intra_op_parallelism_threads": 2, "allow_soft_placement": true, "inter_op_parallelism_threads": 2}, "batch_mode": "truncate_episodes", "num_sgd_iter": 10, "output_compress_columns": ["obs", "new_obs"], "simple_optimizer": false, "env_config": {"run": "PPO", "flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.1,\n            \"eta3\": 0.1,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 7.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 0\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 700,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}"}, "entropy_coeff": 0.0, "sample_async": false, "lambda": 0.97, "monitor": false, "env": "MultiWaveAttenuationMergePOEnvBufferedObs-v0shortermeasure01:01:10", "clip_param": 0.3, "sample_batch_size": 750, "input_evaluation": null, "collect_metrics_timeout": 180, "sgd_minibatch_size": 128, "train_batch_size": 45000, "synchronize_filters": true, "kl_coeff": 0.2, "output": null, "num_cpus_for_driver": 1, "use_gae": true, "clip_actions": false, "num_cpus_per_worker": 1, "optimizer": {}, "num_gpus_per_worker": 0, "straggler_mitigation": false}, "timestamp": 1557416401, "info": {"num_steps_trained": 27181239, "default": {"cur_lr": 0.0005000000237487257, "kl": 0.015421140007674694, "vf_explained_var": 0.8654665350914001, "entropy": 2.0150747299194336, "total_loss": 16.96845817565918, "vf_loss": 16.97939109802246, "cur_kl_coeff": 0.6750000715255737, "policy_loss": -0.021341603249311447}, "load_time_ms": 34.127, "grad_time_ms": 20173.325, "sample_time_ms": 23857.096, "num_steps_sampled": 27181239, "update_time_ms": 8.65}, "policy_reward_mean": {}, "training_iteration": 221, "time_this_iter_s": 45.444483280181885, "experiment_id": "4ad1a1b4498d471a9b029fd78d997061", "time_since_restore": 921.8573527336121, "episode_len_mean": 736.09, "timesteps_this_iter": 80867, "custom_metrics": {"system_level_velocity_min": 8.911266102283108, "system_level_velocity_mean": 12.200469044345304, "system_level_velocity_max": 14.36281554746673, "outflow_rate_min": 418.6426742970721, "cost1_mean": 339.5870461259118, "cost2_min": -179.20200787321374, "outflow_rate_mean": 1067.761566969928, "cost2_max": -91.04057797746059, "cost1_min": 110.21183425593573, "cost1_max": 411.3198272123942, "cost2_mean": -145.87878379589344, "outflow_rate_max": 1281.9979646798847}}
{"iterations_since_restore": 22, "timesteps_since_restore": 1777532, "episode_reward_min": 204.17433708737178, "time_total_s": 14392.52937579155, "node_ip": "10.138.0.2", "done": false, "episode_reward_mean": 785.1778469385889, "num_metric_batches_dropped": 0, "episodes_total": 13982, "date": "2019-05-09_15-40-47", "pid": 21505, "episode_reward_max": 930.344975988446, "timesteps_total": 27264192, "hostname": "flow-main", "episodes_this_iter": 42, "config": {"horizon": 1500, "input": "sampler", "output_max_file_size": 67108864, "gamma": 0.99, "model": {"free_log_std": false, "squash_to_range": false, "fcnet_activation": "tanh", "grayscale": false, "dim": 84, "fcnet_hiddens": [128, 64, 32], "conv_filters": null, "custom_model": null, "conv_activation": "relu", "custom_options": {}, "use_lstm": false, "channel_major": false, "framestack": true, "lstm_use_prev_action_reward": false, "zero_mean": true, "max_seq_len": 20, "lstm_cell_size": 256, "custom_preprocessor": null}, "vf_share_layers": false, "lr_schedule": null, "compress_observations": false, "clip_rewards": null, "kl_target": 0.01, "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "callbacks": {"on_train_result": null, "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7f5e87ff5c88>", "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7f5e87ff5e80>", "on_sample_end": null, "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7f5e87ff5438>"}, "preprocessor_pref": "deepmind", "num_gpus": 0, "multiagent": {"policies_to_train": null, "policy_graphs": {}, "policy_mapping_fn": null}, "observation_filter": "MeanStdFilter", "num_workers": 30, "lr": 0.0005, "num_envs_per_worker": 1, "custom_resources_per_worker": {}, "vf_clip_param": 1000000.0, "vf_loss_coeff": 1.0, "log_level": "INFO", "tf_session_args": {"device_count": {"CPU": 1}, "log_device_placement": false, "gpu_options": {"allow_growth": true}, "intra_op_parallelism_threads": 2, "allow_soft_placement": true, "inter_op_parallelism_threads": 2}, "batch_mode": "truncate_episodes", "num_sgd_iter": 10, "output_compress_columns": ["obs", "new_obs"], "simple_optimizer": false, "env_config": {"run": "PPO", "flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.1,\n            \"eta3\": 0.1,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 7.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 0\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 700,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}"}, "entropy_coeff": 0.0, "sample_async": false, "lambda": 0.97, "monitor": false, "env": "MultiWaveAttenuationMergePOEnvBufferedObs-v0shortermeasure01:01:10", "clip_param": 0.3, "sample_batch_size": 750, "input_evaluation": null, "collect_metrics_timeout": 180, "sgd_minibatch_size": 128, "train_batch_size": 45000, "synchronize_filters": true, "kl_coeff": 0.2, "output": null, "num_cpus_for_driver": 1, "use_gae": true, "clip_actions": false, "num_cpus_per_worker": 1, "optimizer": {}, "num_gpus_per_worker": 0, "straggler_mitigation": false}, "timestamp": 1557416447, "info": {"num_steps_trained": 27264192, "default": {"cur_lr": 0.0005000000237487257, "kl": 0.01633452996611595, "vf_explained_var": 0.8597325682640076, "entropy": 2.0390942096710205, "total_loss": 17.210262298583984, "vf_loss": 17.220869064331055, "cur_kl_coeff": 0.6750000715255737, "policy_loss": -0.021633777767419815}, "load_time_ms": 34.484, "grad_time_ms": 20450.483, "sample_time_ms": 23921.612, "num_steps_sampled": 27264192, "update_time_ms": 8.992}, "policy_reward_mean": {}, "training_iteration": 222, "time_this_iter_s": 46.18457913398743, "experiment_id": "4ad1a1b4498d471a9b029fd78d997061", "time_since_restore": 968.0419318675995, "episode_len_mean": 743.94, "timesteps_this_iter": 82953, "custom_metrics": {"system_level_velocity_min": 8.911266102283108, "system_level_velocity_mean": 11.965618283074582, "system_level_velocity_max": 14.649220811773176, "outflow_rate_min": 432.11913080544184, "cost1_mean": 336.6571694115605, "cost2_min": -176.47856264528573, "outflow_rate_mean": 1061.8599116726657, "cost2_max": -97.40083698406423, "cost1_min": 114.58551303821507, "cost1_max": 416.0520320500594, "cost2_mean": -145.708669063602, "outflow_rate_max": 1333.4905269998974}}
{"iterations_since_restore": 23, "timesteps_since_restore": 1858413, "episode_reward_min": 68.16804880003028, "time_total_s": 14437.820975780487, "node_ip": "10.138.0.2", "done": false, "episode_reward_mean": 779.4105831128916, "num_metric_batches_dropped": 0, "episodes_total": 14026, "date": "2019-05-09_15-41-33", "pid": 21505, "episode_reward_max": 929.2554679994735, "timesteps_total": 27345073, "hostname": "flow-main", "episodes_this_iter": 44, "config": {"horizon": 1500, "input": "sampler", "output_max_file_size": 67108864, "gamma": 0.99, "model": {"free_log_std": false, "squash_to_range": false, "fcnet_activation": "tanh", "grayscale": false, "dim": 84, "fcnet_hiddens": [128, 64, 32], "conv_filters": null, "custom_model": null, "conv_activation": "relu", "custom_options": {}, "use_lstm": false, "channel_major": false, "framestack": true, "lstm_use_prev_action_reward": false, "zero_mean": true, "max_seq_len": 20, "lstm_cell_size": 256, "custom_preprocessor": null}, "vf_share_layers": false, "lr_schedule": null, "compress_observations": false, "clip_rewards": null, "kl_target": 0.01, "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "callbacks": {"on_train_result": null, "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7f5e880181d0>", "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7f5e88018160>", "on_sample_end": null, "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7f5e88018198>"}, "preprocessor_pref": "deepmind", "num_gpus": 0, "multiagent": {"policies_to_train": null, "policy_graphs": {}, "policy_mapping_fn": null}, "observation_filter": "MeanStdFilter", "num_workers": 30, "lr": 0.0005, "num_envs_per_worker": 1, "custom_resources_per_worker": {}, "vf_clip_param": 1000000.0, "vf_loss_coeff": 1.0, "log_level": "INFO", "tf_session_args": {"device_count": {"CPU": 1}, "log_device_placement": false, "gpu_options": {"allow_growth": true}, "intra_op_parallelism_threads": 2, "allow_soft_placement": true, "inter_op_parallelism_threads": 2}, "batch_mode": "truncate_episodes", "num_sgd_iter": 10, "output_compress_columns": ["obs", "new_obs"], "simple_optimizer": false, "env_config": {"run": "PPO", "flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.1,\n            \"eta3\": 0.1,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 7.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 0\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 700,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}"}, "entropy_coeff": 0.0, "sample_async": false, "lambda": 0.97, "monitor": false, "env": "MultiWaveAttenuationMergePOEnvBufferedObs-v0shortermeasure01:01:10", "clip_param": 0.3, "sample_batch_size": 750, "input_evaluation": null, "collect_metrics_timeout": 180, "sgd_minibatch_size": 128, "train_batch_size": 45000, "synchronize_filters": true, "kl_coeff": 0.2, "output": null, "num_cpus_for_driver": 1, "use_gae": true, "clip_actions": false, "num_cpus_per_worker": 1, "optimizer": {}, "num_gpus_per_worker": 0, "straggler_mitigation": false}, "timestamp": 1557416493, "info": {"num_steps_trained": 27345073, "default": {"cur_lr": 0.0005000000237487257, "kl": 0.015327897854149342, "vf_explained_var": 0.8345956802368164, "entropy": 2.043591260910034, "total_loss": 19.06186294555664, "vf_loss": 19.072959899902344, "cur_kl_coeff": 0.6750000715255737, "policy_loss": -0.021442562341690063}, "load_time_ms": 34.158, "grad_time_ms": 20473.055, "sample_time_ms": 24011.454, "num_steps_sampled": 27345073, "update_time_ms": 9.14}, "policy_reward_mean": {}, "training_iteration": 223, "time_this_iter_s": 45.29159998893738, "experiment_id": "4ad1a1b4498d471a9b029fd78d997061", "time_since_restore": 1013.3335318565369, "episode_len_mean": 743.04, "timesteps_this_iter": 80881, "custom_metrics": {"system_level_velocity_min": 8.515212660644886, "system_level_velocity_mean": 11.881063567289518, "system_level_velocity_max": 14.649220811773176, "outflow_rate_min": 249.61265296966172, "cost1_mean": 334.5077071086244, "cost2_min": -176.47856264528573, "outflow_rate_mean": 1059.6828876714674, "cost2_max": -59.37464330591794, "cost1_min": 50.85715511547397, "cost1_max": 416.0520320500594, "cost2_mean": -145.33168029290516, "outflow_rate_max": 1333.4905269998974}}
{"iterations_since_restore": 24, "timesteps_since_restore": 1938640, "episode_reward_min": 68.16804880003028, "time_total_s": 14485.074131727219, "node_ip": "10.138.0.2", "done": false, "episode_reward_mean": 777.1943579243758, "num_metric_batches_dropped": 0, "episodes_total": 14069, "date": "2019-05-09_15-42-20", "pid": 21505, "episode_reward_max": 960.9994294190474, "timesteps_total": 27425300, "hostname": "flow-main", "episodes_this_iter": 43, "config": {"horizon": 1500, "input": "sampler", "output_max_file_size": 67108864, "gamma": 0.99, "model": {"free_log_std": false, "squash_to_range": false, "fcnet_activation": "tanh", "grayscale": false, "dim": 84, "fcnet_hiddens": [128, 64, 32], "conv_filters": null, "custom_model": null, "conv_activation": "relu", "custom_options": {}, "use_lstm": false, "channel_major": false, "framestack": true, "lstm_use_prev_action_reward": false, "zero_mean": true, "max_seq_len": 20, "lstm_cell_size": 256, "custom_preprocessor": null}, "vf_share_layers": false, "lr_schedule": null, "compress_observations": false, "clip_rewards": null, "kl_target": 0.01, "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "callbacks": {"on_train_result": null, "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7f5e88010cf8>", "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7f5e88010f28>", "on_sample_end": null, "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7f5e880109e8>"}, "preprocessor_pref": "deepmind", "num_gpus": 0, "multiagent": {"policies_to_train": null, "policy_graphs": {}, "policy_mapping_fn": null}, "observation_filter": "MeanStdFilter", "num_workers": 30, "lr": 0.0005, "num_envs_per_worker": 1, "custom_resources_per_worker": {}, "vf_clip_param": 1000000.0, "vf_loss_coeff": 1.0, "log_level": "INFO", "tf_session_args": {"device_count": {"CPU": 1}, "log_device_placement": false, "gpu_options": {"allow_growth": true}, "intra_op_parallelism_threads": 2, "allow_soft_placement": true, "inter_op_parallelism_threads": 2}, "batch_mode": "truncate_episodes", "num_sgd_iter": 10, "output_compress_columns": ["obs", "new_obs"], "simple_optimizer": false, "env_config": {"run": "PPO", "flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.1,\n            \"eta3\": 0.1,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 7.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 0\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 700,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}"}, "entropy_coeff": 0.0, "sample_async": false, "lambda": 0.97, "monitor": false, "env": "MultiWaveAttenuationMergePOEnvBufferedObs-v0shortermeasure01:01:10", "clip_param": 0.3, "sample_batch_size": 750, "input_evaluation": null, "collect_metrics_timeout": 180, "sgd_minibatch_size": 128, "train_batch_size": 45000, "synchronize_filters": true, "kl_coeff": 0.2, "output": null, "num_cpus_for_driver": 1, "use_gae": true, "clip_actions": false, "num_cpus_per_worker": 1, "optimizer": {}, "num_gpus_per_worker": 0, "straggler_mitigation": false}, "timestamp": 1557416540, "info": {"num_steps_trained": 27425300, "default": {"cur_lr": 0.0005000000237487257, "kl": 0.015364808030426502, "vf_explained_var": 0.8575831651687622, "entropy": 2.053504705429077, "total_loss": 16.524354934692383, "vf_loss": 16.536115646362305, "cur_kl_coeff": 0.6750000715255737, "policy_loss": -0.0221316646784544}, "load_time_ms": 34.983, "grad_time_ms": 20685.574, "sample_time_ms": 24352.902, "num_steps_sampled": 27425300, "update_time_ms": 9.389}, "policy_reward_mean": {}, "training_iteration": 224, "time_this_iter_s": 47.25315594673157, "experiment_id": "4ad1a1b4498d471a9b029fd78d997061", "time_since_restore": 1060.5866878032684, "episode_len_mean": 739.54, "timesteps_this_iter": 80227, "custom_metrics": {"system_level_velocity_min": 8.515212660644886, "system_level_velocity_mean": 11.950452136838999, "system_level_velocity_max": 15.208220617585466, "outflow_rate_min": 249.61265296966172, "cost1_mean": 335.14502781922994, "cost2_min": -169.36235347521105, "outflow_rate_mean": 1059.2918379763587, "cost2_max": -59.37464330591794, "cost1_min": 50.85715511547397, "cost1_max": 432.235151615774, "cost2_mean": -141.38308881344062, "outflow_rate_max": 1367.2327650711713}}
{"iterations_since_restore": 25, "timesteps_since_restore": 2022430, "episode_reward_min": 218.10299814490455, "time_total_s": 14532.138931751251, "node_ip": "10.138.0.2", "done": false, "episode_reward_mean": 780.2893292255798, "num_metric_batches_dropped": 0, "episodes_total": 14112, "date": "2019-05-09_15-43-07", "pid": 21505, "episode_reward_max": 960.9994294190474, "timesteps_total": 27509090, "hostname": "flow-main", "episodes_this_iter": 43, "config": {"horizon": 1500, "input": "sampler", "output_max_file_size": 67108864, "gamma": 0.99, "model": {"free_log_std": false, "squash_to_range": false, "fcnet_activation": "tanh", "grayscale": false, "dim": 84, "fcnet_hiddens": [128, 64, 32], "conv_filters": null, "custom_model": null, "conv_activation": "relu", "custom_options": {}, "use_lstm": false, "channel_major": false, "framestack": true, "lstm_use_prev_action_reward": false, "zero_mean": true, "max_seq_len": 20, "lstm_cell_size": 256, "custom_preprocessor": null}, "vf_share_layers": false, "lr_schedule": null, "compress_observations": false, "clip_rewards": null, "kl_target": 0.01, "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "callbacks": {"on_train_result": null, "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7f5e88010390>", "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7f5e88010550>", "on_sample_end": null, "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7f5e88010b70>"}, "preprocessor_pref": "deepmind", "num_gpus": 0, "multiagent": {"policies_to_train": null, "policy_graphs": {}, "policy_mapping_fn": null}, "observation_filter": "MeanStdFilter", "num_workers": 30, "lr": 0.0005, "num_envs_per_worker": 1, "custom_resources_per_worker": {}, "vf_clip_param": 1000000.0, "vf_loss_coeff": 1.0, "log_level": "INFO", "tf_session_args": {"device_count": {"CPU": 1}, "log_device_placement": false, "gpu_options": {"allow_growth": true}, "intra_op_parallelism_threads": 2, "allow_soft_placement": true, "inter_op_parallelism_threads": 2}, "batch_mode": "truncate_episodes", "num_sgd_iter": 10, "output_compress_columns": ["obs", "new_obs"], "simple_optimizer": false, "env_config": {"run": "PPO", "flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.1,\n            \"eta3\": 0.1,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 7.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 0\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 700,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}"}, "entropy_coeff": 0.0, "sample_async": false, "lambda": 0.97, "monitor": false, "env": "MultiWaveAttenuationMergePOEnvBufferedObs-v0shortermeasure01:01:10", "clip_param": 0.3, "sample_batch_size": 750, "input_evaluation": null, "collect_metrics_timeout": 180, "sgd_minibatch_size": 128, "train_batch_size": 45000, "synchronize_filters": true, "kl_coeff": 0.2, "output": null, "num_cpus_for_driver": 1, "use_gae": true, "clip_actions": false, "num_cpus_per_worker": 1, "optimizer": {}, "num_gpus_per_worker": 0, "straggler_mitigation": false}, "timestamp": 1557416587, "info": {"num_steps_trained": 27509090, "default": {"cur_lr": 0.0005000000237487257, "kl": 0.016399409621953964, "vf_explained_var": 0.8824804425239563, "entropy": 2.0578784942626953, "total_loss": 15.07874584197998, "vf_loss": 15.088923454284668, "cur_kl_coeff": 0.6750001311302185, "policy_loss": -0.02124849148094654}, "load_time_ms": 36.009, "grad_time_ms": 20733.647, "sample_time_ms": 24691.581, "num_steps_sampled": 27509090, "update_time_ms": 9.681}, "policy_reward_mean": {}, "training_iteration": 225, "time_this_iter_s": 47.06480002403259, "experiment_id": "4ad1a1b4498d471a9b029fd78d997061", "time_since_restore": 1107.651487827301, "episode_len_mean": 745.77, "timesteps_this_iter": 83790, "custom_metrics": {"system_level_velocity_min": 8.954641094501975, "system_level_velocity_mean": 11.908059097810765, "system_level_velocity_max": 15.208220617585466, "outflow_rate_min": 435.1312589611825, "cost1_mean": 336.725960103389, "cost2_min": -174.4680442615606, "outflow_rate_mean": 1061.1829883348264, "cost2_max": -98.82784861965894, "cost1_min": 118.88851566461656, "cost1_max": 432.235151615774, "cost2_mean": -141.04687296776336, "outflow_rate_max": 1368.9238330746573}}
{"iterations_since_restore": 26, "timesteps_since_restore": 2103962, "episode_reward_min": 657.6705941385503, "time_total_s": 14578.55969452858, "node_ip": "10.138.0.2", "done": false, "episode_reward_mean": 789.2799397611936, "num_metric_batches_dropped": 0, "episodes_total": 14155, "date": "2019-05-09_15-43-54", "pid": 21505, "episode_reward_max": 961.9839391890619, "timesteps_total": 27590622, "hostname": "flow-main", "episodes_this_iter": 43, "config": {"horizon": 1500, "input": "sampler", "output_max_file_size": 67108864, "gamma": 0.99, "model": {"free_log_std": false, "squash_to_range": false, "fcnet_activation": "tanh", "grayscale": false, "dim": 84, "fcnet_hiddens": [128, 64, 32], "conv_filters": null, "custom_model": null, "conv_activation": "relu", "custom_options": {}, "use_lstm": false, "channel_major": false, "framestack": true, "lstm_use_prev_action_reward": false, "zero_mean": true, "max_seq_len": 20, "lstm_cell_size": 256, "custom_preprocessor": null}, "vf_share_layers": false, "lr_schedule": null, "compress_observations": false, "clip_rewards": null, "kl_target": 0.01, "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "callbacks": {"on_train_result": null, "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7f5e880108d0>", "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7f5e880107f0>", "on_sample_end": null, "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7f5e880104e0>"}, "preprocessor_pref": "deepmind", "num_gpus": 0, "multiagent": {"policies_to_train": null, "policy_graphs": {}, "policy_mapping_fn": null}, "observation_filter": "MeanStdFilter", "num_workers": 30, "lr": 0.0005, "num_envs_per_worker": 1, "custom_resources_per_worker": {}, "vf_clip_param": 1000000.0, "vf_loss_coeff": 1.0, "log_level": "INFO", "tf_session_args": {"device_count": {"CPU": 1}, "log_device_placement": false, "gpu_options": {"allow_growth": true}, "intra_op_parallelism_threads": 2, "allow_soft_placement": true, "inter_op_parallelism_threads": 2}, "batch_mode": "truncate_episodes", "num_sgd_iter": 10, "output_compress_columns": ["obs", "new_obs"], "simple_optimizer": false, "env_config": {"run": "PPO", "flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.1,\n            \"eta3\": 0.1,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 7.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 0\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 700,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}"}, "entropy_coeff": 0.0, "sample_async": false, "lambda": 0.97, "monitor": false, "env": "MultiWaveAttenuationMergePOEnvBufferedObs-v0shortermeasure01:01:10", "clip_param": 0.3, "sample_batch_size": 750, "input_evaluation": null, "collect_metrics_timeout": 180, "sgd_minibatch_size": 128, "train_batch_size": 45000, "synchronize_filters": true, "kl_coeff": 0.2, "output": null, "num_cpus_for_driver": 1, "use_gae": true, "clip_actions": false, "num_cpus_per_worker": 1, "optimizer": {}, "num_gpus_per_worker": 0, "straggler_mitigation": false}, "timestamp": 1557416634, "info": {"num_steps_trained": 27590622, "default": {"cur_lr": 0.0005000000237487257, "kl": 0.01611611433327198, "vf_explained_var": 0.8406819105148315, "entropy": 2.049358367919922, "total_loss": 18.30904769897461, "vf_loss": 18.31973648071289, "cur_kl_coeff": 0.6750000715255737, "policy_loss": -0.02156660705804825}, "load_time_ms": 35.414, "grad_time_ms": 20639.877, "sample_time_ms": 25011.56, "num_steps_sampled": 27590622, "update_time_ms": 10.004}, "policy_reward_mean": {}, "training_iteration": 226, "time_this_iter_s": 46.42076277732849, "experiment_id": "4ad1a1b4498d471a9b029fd78d997061", "time_since_restore": 1154.0722506046295, "episode_len_mean": 751.0, "timesteps_this_iter": 81532, "custom_metrics": {"system_level_velocity_min": 9.079335601341773, "system_level_velocity_mean": 11.965955092244087, "system_level_velocity_max": 15.208220617585466, "outflow_rate_min": 847.3907287915314, "cost1_mean": 341.24745560885304, "cost2_min": -176.15987477302974, "outflow_rate_mean": 1073.3618419884515, "cost2_max": -107.29559261283714, "cost1_min": 259.5386258337379, "cost1_max": 432.235151615774, "cost2_mean": -142.04938526460697, "outflow_rate_max": 1368.9238330746573}}
{"iterations_since_restore": 27, "timesteps_since_restore": 2187165, "episode_reward_min": 604.0364363351897, "time_total_s": 14625.542702436447, "node_ip": "10.138.0.2", "done": false, "episode_reward_mean": 779.8004951776506, "num_metric_batches_dropped": 0, "episodes_total": 14197, "date": "2019-05-09_15-44-41", "pid": 21505, "episode_reward_max": 961.9839391890619, "timesteps_total": 27673825, "hostname": "flow-main", "episodes_this_iter": 42, "config": {"horizon": 1500, "input": "sampler", "output_max_file_size": 67108864, "gamma": 0.99, "model": {"free_log_std": false, "squash_to_range": false, "fcnet_activation": "tanh", "grayscale": false, "dim": 84, "fcnet_hiddens": [128, 64, 32], "conv_filters": null, "custom_model": null, "conv_activation": "relu", "custom_options": {}, "use_lstm": false, "channel_major": false, "framestack": true, "lstm_use_prev_action_reward": false, "zero_mean": true, "max_seq_len": 20, "lstm_cell_size": 256, "custom_preprocessor": null}, "vf_share_layers": false, "lr_schedule": null, "compress_observations": false, "clip_rewards": null, "kl_target": 0.01, "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "callbacks": {"on_train_result": null, "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7f5e88017400>", "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7f5e88017470>", "on_sample_end": null, "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7f5e88017438>"}, "preprocessor_pref": "deepmind", "num_gpus": 0, "multiagent": {"policies_to_train": null, "policy_graphs": {}, "policy_mapping_fn": null}, "observation_filter": "MeanStdFilter", "num_workers": 30, "lr": 0.0005, "num_envs_per_worker": 1, "custom_resources_per_worker": {}, "vf_clip_param": 1000000.0, "vf_loss_coeff": 1.0, "log_level": "INFO", "tf_session_args": {"device_count": {"CPU": 1}, "log_device_placement": false, "gpu_options": {"allow_growth": true}, "intra_op_parallelism_threads": 2, "allow_soft_placement": true, "inter_op_parallelism_threads": 2}, "batch_mode": "truncate_episodes", "num_sgd_iter": 10, "output_compress_columns": ["obs", "new_obs"], "simple_optimizer": false, "env_config": {"run": "PPO", "flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.1,\n            \"eta3\": 0.1,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 7.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 0\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 700,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}"}, "entropy_coeff": 0.0, "sample_async": false, "lambda": 0.97, "monitor": false, "env": "MultiWaveAttenuationMergePOEnvBufferedObs-v0shortermeasure01:01:10", "clip_param": 0.3, "sample_batch_size": 750, "input_evaluation": null, "collect_metrics_timeout": 180, "sgd_minibatch_size": 128, "train_batch_size": 45000, "synchronize_filters": true, "kl_coeff": 0.2, "output": null, "num_cpus_for_driver": 1, "use_gae": true, "clip_actions": false, "num_cpus_per_worker": 1, "optimizer": {}, "num_gpus_per_worker": 0, "straggler_mitigation": false}, "timestamp": 1557416681, "info": {"num_steps_trained": 27673825, "default": {"cur_lr": 0.0005000000237487257, "kl": 0.01614115573465824, "vf_explained_var": 0.8588076829910278, "entropy": 2.0864930152893066, "total_loss": 16.828899383544922, "vf_loss": 16.839521408081055, "cur_kl_coeff": 0.6750000715255737, "policy_loss": -0.021516907960176468}, "load_time_ms": 35.802, "grad_time_ms": 20554.519, "sample_time_ms": 25307.789, "num_steps_sampled": 27673825, "update_time_ms": 10.53}, "policy_reward_mean": {}, "training_iteration": 227, "time_this_iter_s": 46.98300790786743, "experiment_id": "4ad1a1b4498d471a9b029fd78d997061", "time_since_restore": 1201.055258512497, "episode_len_mean": 751.0, "timesteps_this_iter": 83203, "custom_metrics": {"system_level_velocity_min": 8.731700117291037, "system_level_velocity_mean": 11.750342568365049, "system_level_velocity_max": 14.932010037984547, "outflow_rate_min": 757.782600170068, "cost1_mean": 334.90190639050917, "cost2_min": -176.15987477302974, "outflow_rate_mean": 1051.4102766467265, "cost2_max": -109.6087347190815, "cost1_min": 251.03113383309835, "cost1_max": 427.646128271099, "cost2_mean": -139.94154759910268, "outflow_rate_max": 1368.9238330746573}}
{"iterations_since_restore": 28, "timesteps_since_restore": 2268476, "episode_reward_min": 604.0364363351897, "time_total_s": 14671.00486087799, "node_ip": "10.138.0.2", "done": false, "episode_reward_mean": 775.1927603135971, "num_metric_batches_dropped": 0, "episodes_total": 14239, "date": "2019-05-09_15-45-26", "pid": 21505, "episode_reward_max": 961.9839391890619, "timesteps_total": 27755136, "hostname": "flow-main", "episodes_this_iter": 42, "config": {"horizon": 1500, "input": "sampler", "output_max_file_size": 67108864, "gamma": 0.99, "model": {"free_log_std": false, "squash_to_range": false, "fcnet_activation": "tanh", "grayscale": false, "dim": 84, "fcnet_hiddens": [128, 64, 32], "conv_filters": null, "custom_model": null, "conv_activation": "relu", "custom_options": {}, "use_lstm": false, "channel_major": false, "framestack": true, "lstm_use_prev_action_reward": false, "zero_mean": true, "max_seq_len": 20, "lstm_cell_size": 256, "custom_preprocessor": null}, "vf_share_layers": false, "lr_schedule": null, "compress_observations": false, "clip_rewards": null, "kl_target": 0.01, "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "callbacks": {"on_train_result": null, "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7f5e88010dd8>", "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7f5e88010128>", "on_sample_end": null, "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7f5e88010c88>"}, "preprocessor_pref": "deepmind", "num_gpus": 0, "multiagent": {"policies_to_train": null, "policy_graphs": {}, "policy_mapping_fn": null}, "observation_filter": "MeanStdFilter", "num_workers": 30, "lr": 0.0005, "num_envs_per_worker": 1, "custom_resources_per_worker": {}, "vf_clip_param": 1000000.0, "vf_loss_coeff": 1.0, "log_level": "INFO", "tf_session_args": {"device_count": {"CPU": 1}, "log_device_placement": false, "gpu_options": {"allow_growth": true}, "intra_op_parallelism_threads": 2, "allow_soft_placement": true, "inter_op_parallelism_threads": 2}, "batch_mode": "truncate_episodes", "num_sgd_iter": 10, "output_compress_columns": ["obs", "new_obs"], "simple_optimizer": false, "env_config": {"run": "PPO", "flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.1,\n            \"eta3\": 0.1,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 7.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 0\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 700,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}"}, "entropy_coeff": 0.0, "sample_async": false, "lambda": 0.97, "monitor": false, "env": "MultiWaveAttenuationMergePOEnvBufferedObs-v0shortermeasure01:01:10", "clip_param": 0.3, "sample_batch_size": 750, "input_evaluation": null, "collect_metrics_timeout": 180, "sgd_minibatch_size": 128, "train_batch_size": 45000, "synchronize_filters": true, "kl_coeff": 0.2, "output": null, "num_cpus_for_driver": 1, "use_gae": true, "clip_actions": false, "num_cpus_per_worker": 1, "optimizer": {}, "num_gpus_per_worker": 0, "straggler_mitigation": false}, "timestamp": 1557416726, "info": {"num_steps_trained": 27755136, "default": {"cur_lr": 0.0005000000237487257, "kl": 0.01572684943675995, "vf_explained_var": 0.8534895777702332, "entropy": 2.0580315589904785, "total_loss": 17.647579193115234, "vf_loss": 17.658193588256836, "cur_kl_coeff": 0.6750000715255737, "policy_loss": -0.021229034289717674}, "load_time_ms": 35.454, "grad_time_ms": 20445.034, "sample_time_ms": 25501.802, "num_steps_sampled": 27755136, "update_time_ms": 10.889}, "policy_reward_mean": {}, "training_iteration": 228, "time_this_iter_s": 45.46215844154358, "experiment_id": "4ad1a1b4498d471a9b029fd78d997061", "time_since_restore": 1246.5174169540405, "episode_len_mean": 751.0, "timesteps_this_iter": 81311, "custom_metrics": {"system_level_velocity_min": 8.731700117291037, "system_level_velocity_mean": 11.589166734402667, "system_level_velocity_max": 14.871347850423414, "outflow_rate_min": 757.782600170068, "cost1_mean": 330.29839379612065, "cost2_min": -166.17100609061507, "outflow_rate_mean": 1036.750706912885, "cost2_max": -109.6087347190815, "cost1_min": 251.03113383309835, "cost1_max": 421.8321543635632, "cost2_mean": -137.9154376564429, "outflow_rate_max": 1282.9929011863555}}
{"iterations_since_restore": 29, "timesteps_since_restore": 2349454, "episode_reward_min": 635.3739119178767, "time_total_s": 14716.611919879913, "node_ip": "10.138.0.2", "done": false, "episode_reward_mean": 782.2561026281725, "num_metric_batches_dropped": 0, "episodes_total": 14281, "date": "2019-05-09_15-46-12", "pid": 21505, "episode_reward_max": 914.9050518831592, "timesteps_total": 27836114, "hostname": "flow-main", "episodes_this_iter": 42, "config": {"horizon": 1500, "input": "sampler", "output_max_file_size": 67108864, "gamma": 0.99, "model": {"free_log_std": false, "squash_to_range": false, "fcnet_activation": "tanh", "grayscale": false, "dim": 84, "fcnet_hiddens": [128, 64, 32], "conv_filters": null, "custom_model": null, "conv_activation": "relu", "custom_options": {}, "use_lstm": false, "channel_major": false, "framestack": true, "lstm_use_prev_action_reward": false, "zero_mean": true, "max_seq_len": 20, "lstm_cell_size": 256, "custom_preprocessor": null}, "vf_share_layers": false, "lr_schedule": null, "compress_observations": false, "clip_rewards": null, "kl_target": 0.01, "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "callbacks": {"on_train_result": null, "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7f5e88017470>", "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7f5e88017588>", "on_sample_end": null, "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7f5e88017400>"}, "preprocessor_pref": "deepmind", "num_gpus": 0, "multiagent": {"policies_to_train": null, "policy_graphs": {}, "policy_mapping_fn": null}, "observation_filter": "MeanStdFilter", "num_workers": 30, "lr": 0.0005, "num_envs_per_worker": 1, "custom_resources_per_worker": {}, "vf_clip_param": 1000000.0, "vf_loss_coeff": 1.0, "log_level": "INFO", "tf_session_args": {"device_count": {"CPU": 1}, "log_device_placement": false, "gpu_options": {"allow_growth": true}, "intra_op_parallelism_threads": 2, "allow_soft_placement": true, "inter_op_parallelism_threads": 2}, "batch_mode": "truncate_episodes", "num_sgd_iter": 10, "output_compress_columns": ["obs", "new_obs"], "simple_optimizer": false, "env_config": {"run": "PPO", "flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.1,\n            \"eta3\": 0.1,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 7.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 0\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 700,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}"}, "entropy_coeff": 0.0, "sample_async": false, "lambda": 0.97, "monitor": false, "env": "MultiWaveAttenuationMergePOEnvBufferedObs-v0shortermeasure01:01:10", "clip_param": 0.3, "sample_batch_size": 750, "input_evaluation": null, "collect_metrics_timeout": 180, "sgd_minibatch_size": 128, "train_batch_size": 45000, "synchronize_filters": true, "kl_coeff": 0.2, "output": null, "num_cpus_for_driver": 1, "use_gae": true, "clip_actions": false, "num_cpus_per_worker": 1, "optimizer": {}, "num_gpus_per_worker": 0, "straggler_mitigation": false}, "timestamp": 1557416772, "info": {"num_steps_trained": 27836114, "default": {"cur_lr": 0.0005000000237487257, "kl": 0.01653049886226654, "vf_explained_var": 0.8462513089179993, "entropy": 2.075129747390747, "total_loss": 18.131372451782227, "vf_loss": 18.142004013061523, "cur_kl_coeff": 0.6750001311302185, "policy_loss": -0.021788012236356735}, "load_time_ms": 35.178, "grad_time_ms": 20379.915, "sample_time_ms": 25539.146, "num_steps_sampled": 27836114, "update_time_ms": 10.532}, "policy_reward_mean": {}, "training_iteration": 229, "time_this_iter_s": 45.60705900192261, "experiment_id": "4ad1a1b4498d471a9b029fd78d997061", "time_since_restore": 1292.1244759559631, "episode_len_mean": 751.0, "timesteps_this_iter": 80978, "custom_metrics": {"system_level_velocity_min": 6.895024958386508, "system_level_velocity_mean": 11.580602552251566, "system_level_velocity_max": 14.270106255453463, "outflow_rate_min": 745.2583306122449, "cost1_mean": 330.5551388156371, "cost2_min": -168.7009849662108, "outflow_rate_mean": 1044.7900971104746, "cost2_max": -106.72013473957335, "cost1_min": 194.02266790960596, "cost1_max": 409.4063906434726, "cost2_mean": -138.04598794577566, "outflow_rate_max": 1309.237586004428}}
{"iterations_since_restore": 30, "timesteps_since_restore": 2431276, "episode_reward_min": 206.23616167838156, "time_total_s": 14762.654093027115, "node_ip": "10.138.0.2", "done": false, "episode_reward_mean": 781.305876460749, "num_metric_batches_dropped": 0, "episodes_total": 14324, "date": "2019-05-09_15-46-58", "pid": 21505, "episode_reward_max": 967.4928787997586, "timesteps_total": 27917936, "hostname": "flow-main", "episodes_this_iter": 43, "config": {"horizon": 1500, "input": "sampler", "output_max_file_size": 67108864, "gamma": 0.99, "model": {"free_log_std": false, "squash_to_range": false, "fcnet_activation": "tanh", "grayscale": false, "dim": 84, "fcnet_hiddens": [128, 64, 32], "conv_filters": null, "custom_model": null, "conv_activation": "relu", "custom_options": {}, "use_lstm": false, "channel_major": false, "framestack": true, "lstm_use_prev_action_reward": false, "zero_mean": true, "max_seq_len": 20, "lstm_cell_size": 256, "custom_preprocessor": null}, "vf_share_layers": false, "lr_schedule": null, "compress_observations": false, "clip_rewards": null, "kl_target": 0.01, "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "callbacks": {"on_train_result": null, "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7f5e87ff5438>", "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7f5e87ff5b70>", "on_sample_end": null, "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7f5e87ff52e8>"}, "preprocessor_pref": "deepmind", "num_gpus": 0, "multiagent": {"policies_to_train": null, "policy_graphs": {}, "policy_mapping_fn": null}, "observation_filter": "MeanStdFilter", "num_workers": 30, "lr": 0.0005, "num_envs_per_worker": 1, "custom_resources_per_worker": {}, "vf_clip_param": 1000000.0, "vf_loss_coeff": 1.0, "log_level": "INFO", "tf_session_args": {"device_count": {"CPU": 1}, "log_device_placement": false, "gpu_options": {"allow_growth": true}, "intra_op_parallelism_threads": 2, "allow_soft_placement": true, "inter_op_parallelism_threads": 2}, "batch_mode": "truncate_episodes", "num_sgd_iter": 10, "output_compress_columns": ["obs", "new_obs"], "simple_optimizer": false, "env_config": {"run": "PPO", "flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.1,\n            \"eta3\": 0.1,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 7.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 0\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 700,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}"}, "entropy_coeff": 0.0, "sample_async": false, "lambda": 0.97, "monitor": false, "env": "MultiWaveAttenuationMergePOEnvBufferedObs-v0shortermeasure01:01:10", "clip_param": 0.3, "sample_batch_size": 750, "input_evaluation": null, "collect_metrics_timeout": 180, "sgd_minibatch_size": 128, "train_batch_size": 45000, "synchronize_filters": true, "kl_coeff": 0.2, "output": null, "num_cpus_for_driver": 1, "use_gae": true, "clip_actions": false, "num_cpus_per_worker": 1, "optimizer": {}, "num_gpus_per_worker": 0, "straggler_mitigation": false}, "timestamp": 1557416818, "info": {"num_steps_trained": 27917936, "default": {"cur_lr": 0.0005000000237487257, "kl": 0.01584150269627571, "vf_explained_var": 0.8521038889884949, "entropy": 2.1014320850372314, "total_loss": 17.538745880126953, "vf_loss": 17.549924850463867, "cur_kl_coeff": 0.6750001311302185, "policy_loss": -0.021872742101550102}, "load_time_ms": 34.919, "grad_time_ms": 20221.8, "sample_time_ms": 25725.866, "num_steps_sampled": 27917936, "update_time_ms": 10.467}, "policy_reward_mean": {}, "training_iteration": 230, "time_this_iter_s": 46.04217314720154, "experiment_id": "4ad1a1b4498d471a9b029fd78d997061", "time_since_restore": 1338.1666491031647, "episode_len_mean": 745.67, "timesteps_this_iter": 81822, "custom_metrics": {"system_level_velocity_min": 6.895024958386508, "system_level_velocity_mean": 11.705748517735772, "system_level_velocity_max": 14.270106255453463, "outflow_rate_min": 412.555301796618, "cost1_mean": 331.9322499879847, "cost2_min": -168.7009849662108, "outflow_rate_mean": 1049.0927470057773, "cost2_max": -89.80780501448845, "cost1_min": 110.3218137555263, "cost1_max": 409.4063906434726, "cost2_mean": -137.5366748893924, "outflow_rate_max": 1309.5013212111792}}
{"iterations_since_restore": 31, "timesteps_since_restore": 2510939, "episode_reward_min": 206.23616167838156, "time_total_s": 14806.25956916809, "node_ip": "10.138.0.2", "done": false, "episode_reward_mean": 772.839166167991, "num_metric_batches_dropped": 0, "episodes_total": 14366, "date": "2019-05-09_15-47-42", "pid": 21505, "episode_reward_max": 967.4928787997586, "timesteps_total": 27997599, "hostname": "flow-main", "episodes_this_iter": 42, "config": {"horizon": 1500, "input": "sampler", "output_max_file_size": 67108864, "gamma": 0.99, "model": {"free_log_std": false, "squash_to_range": false, "fcnet_activation": "tanh", "grayscale": false, "dim": 84, "fcnet_hiddens": [128, 64, 32], "conv_filters": null, "custom_model": null, "conv_activation": "relu", "custom_options": {}, "use_lstm": false, "channel_major": false, "framestack": true, "lstm_use_prev_action_reward": false, "zero_mean": true, "max_seq_len": 20, "lstm_cell_size": 256, "custom_preprocessor": null}, "vf_share_layers": false, "lr_schedule": null, "compress_observations": false, "clip_rewards": null, "kl_target": 0.01, "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "callbacks": {"on_train_result": null, "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7f5e88017278>", "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7f5e88017668>", "on_sample_end": null, "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7f5e88017358>"}, "preprocessor_pref": "deepmind", "num_gpus": 0, "multiagent": {"policies_to_train": null, "policy_graphs": {}, "policy_mapping_fn": null}, "observation_filter": "MeanStdFilter", "num_workers": 30, "lr": 0.0005, "num_envs_per_worker": 1, "custom_resources_per_worker": {}, "vf_clip_param": 1000000.0, "vf_loss_coeff": 1.0, "log_level": "INFO", "tf_session_args": {"device_count": {"CPU": 1}, "log_device_placement": false, "gpu_options": {"allow_growth": true}, "intra_op_parallelism_threads": 2, "allow_soft_placement": true, "inter_op_parallelism_threads": 2}, "batch_mode": "truncate_episodes", "num_sgd_iter": 10, "output_compress_columns": ["obs", "new_obs"], "simple_optimizer": false, "env_config": {"run": "PPO", "flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.1,\n            \"eta3\": 0.1,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 7.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 0\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 700,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}"}, "entropy_coeff": 0.0, "sample_async": false, "lambda": 0.97, "monitor": false, "env": "MultiWaveAttenuationMergePOEnvBufferedObs-v0shortermeasure01:01:10", "clip_param": 0.3, "sample_batch_size": 750, "input_evaluation": null, "collect_metrics_timeout": 180, "sgd_minibatch_size": 128, "train_batch_size": 45000, "synchronize_filters": true, "kl_coeff": 0.2, "output": null, "num_cpus_for_driver": 1, "use_gae": true, "clip_actions": false, "num_cpus_per_worker": 1, "optimizer": {}, "num_gpus_per_worker": 0, "straggler_mitigation": false}, "timestamp": 1557416862, "info": {"num_steps_trained": 27997599, "default": {"cur_lr": 0.0005000000237487257, "kl": 0.016067296266555786, "vf_explained_var": 0.8376945853233337, "entropy": 2.078152656555176, "total_loss": 19.179122924804688, "vf_loss": 19.189964294433594, "cur_kl_coeff": 0.6750000715255737, "policy_loss": -0.021688515320420265}, "load_time_ms": 34.901, "grad_time_ms": 20154.909, "sample_time_ms": 25609.053, "num_steps_sampled": 27997599, "update_time_ms": 10.225}, "policy_reward_mean": {}, "training_iteration": 231, "time_this_iter_s": 43.60547614097595, "experiment_id": "4ad1a1b4498d471a9b029fd78d997061", "time_since_restore": 1381.7721252441406, "episode_len_mean": 745.67, "timesteps_this_iter": 79663, "custom_metrics": {"system_level_velocity_min": 6.895024958386508, "system_level_velocity_mean": 11.578405969785875, "system_level_velocity_max": 14.270106255453463, "outflow_rate_min": 412.555301796618, "cost1_mean": 328.3718815190625, "cost2_min": -168.7009849662108, "outflow_rate_mean": 1031.399665077429, "cost2_max": -89.80780501448845, "cost1_min": 110.3218137555263, "cost1_max": 409.4063906434726, "cost2_mean": -135.58469896483544, "outflow_rate_max": 1309.5013212111792}}
{"iterations_since_restore": 32, "timesteps_since_restore": 2593137, "episode_reward_min": 594.6509237923634, "time_total_s": 14851.522228717804, "node_ip": "10.138.0.2", "done": false, "episode_reward_mean": 776.130189398771, "num_metric_batches_dropped": 0, "episodes_total": 14408, "date": "2019-05-09_15-48-27", "pid": 21505, "episode_reward_max": 967.4928787997586, "timesteps_total": 28079797, "hostname": "flow-main", "episodes_this_iter": 42, "config": {"horizon": 1500, "input": "sampler", "output_max_file_size": 67108864, "gamma": 0.99, "model": {"free_log_std": false, "squash_to_range": false, "fcnet_activation": "tanh", "grayscale": false, "dim": 84, "fcnet_hiddens": [128, 64, 32], "conv_filters": null, "custom_model": null, "conv_activation": "relu", "custom_options": {}, "use_lstm": false, "channel_major": false, "framestack": true, "lstm_use_prev_action_reward": false, "zero_mean": true, "max_seq_len": 20, "lstm_cell_size": 256, "custom_preprocessor": null}, "vf_share_layers": false, "lr_schedule": null, "compress_observations": false, "clip_rewards": null, "kl_target": 0.01, "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "callbacks": {"on_train_result": null, "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7f5e88010048>", "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7f5e880108d0>", "on_sample_end": null, "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7f5e88010fd0>"}, "preprocessor_pref": "deepmind", "num_gpus": 0, "multiagent": {"policies_to_train": null, "policy_graphs": {}, "policy_mapping_fn": null}, "observation_filter": "MeanStdFilter", "num_workers": 30, "lr": 0.0005, "num_envs_per_worker": 1, "custom_resources_per_worker": {}, "vf_clip_param": 1000000.0, "vf_loss_coeff": 1.0, "log_level": "INFO", "tf_session_args": {"device_count": {"CPU": 1}, "log_device_placement": false, "gpu_options": {"allow_growth": true}, "intra_op_parallelism_threads": 2, "allow_soft_placement": true, "inter_op_parallelism_threads": 2}, "batch_mode": "truncate_episodes", "num_sgd_iter": 10, "output_compress_columns": ["obs", "new_obs"], "simple_optimizer": false, "env_config": {"run": "PPO", "flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.1,\n            \"eta3\": 0.1,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 7.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 0\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 700,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}"}, "entropy_coeff": 0.0, "sample_async": false, "lambda": 0.97, "monitor": false, "env": "MultiWaveAttenuationMergePOEnvBufferedObs-v0shortermeasure01:01:10", "clip_param": 0.3, "sample_batch_size": 750, "input_evaluation": null, "collect_metrics_timeout": 180, "sgd_minibatch_size": 128, "train_batch_size": 45000, "synchronize_filters": true, "kl_coeff": 0.2, "output": null, "num_cpus_for_driver": 1, "use_gae": true, "clip_actions": false, "num_cpus_per_worker": 1, "optimizer": {}, "num_gpus_per_worker": 0, "straggler_mitigation": false}, "timestamp": 1557416907, "info": {"num_steps_trained": 28079797, "default": {"cur_lr": 0.0005000000237487257, "kl": 0.016679231077432632, "vf_explained_var": 0.8512951731681824, "entropy": 2.12034010887146, "total_loss": 17.49773597717285, "vf_loss": 17.50937271118164, "cur_kl_coeff": 0.6750001311302185, "policy_loss": -0.022895757108926773}, "load_time_ms": 34.838, "grad_time_ms": 20149.886, "sample_time_ms": 25523.024, "num_steps_sampled": 28079797, "update_time_ms": 10.295}, "policy_reward_mean": {}, "training_iteration": 232, "time_this_iter_s": 45.262659549713135, "experiment_id": "4ad1a1b4498d471a9b029fd78d997061", "time_since_restore": 1427.0347847938538, "episode_len_mean": 751.0, "timesteps_this_iter": 82198, "custom_metrics": {"system_level_velocity_min": 6.711028815299345, "system_level_velocity_mean": 11.51878988434024, "system_level_velocity_max": 14.19634224257679, "outflow_rate_min": 684.0529714285715, "cost1_mean": 329.07395573502333, "cost2_min": -159.5551075750332, "outflow_rate_mean": 1029.1572821512857, "cost2_max": -95.81261132414184, "cost1_min": 187.74633466564842, "cost1_max": 409.00134566404864, "cost2_mean": -132.65650778438115, "outflow_rate_max": 1309.5013212111792}}
{"iterations_since_restore": 33, "timesteps_since_restore": 2674968, "episode_reward_min": 594.6509237923634, "time_total_s": 14896.5053191185, "node_ip": "10.138.0.2", "done": false, "episode_reward_mean": 760.7455250035158, "num_metric_batches_dropped": 0, "episodes_total": 14450, "date": "2019-05-09_15-49-12", "pid": 21505, "episode_reward_max": 875.854295536466, "timesteps_total": 28161628, "hostname": "flow-main", "episodes_this_iter": 42, "config": {"horizon": 1500, "input": "sampler", "output_max_file_size": 67108864, "gamma": 0.99, "model": {"free_log_std": false, "squash_to_range": false, "fcnet_activation": "tanh", "grayscale": false, "dim": 84, "fcnet_hiddens": [128, 64, 32], "conv_filters": null, "custom_model": null, "conv_activation": "relu", "custom_options": {}, "use_lstm": false, "channel_major": false, "framestack": true, "lstm_use_prev_action_reward": false, "zero_mean": true, "max_seq_len": 20, "lstm_cell_size": 256, "custom_preprocessor": null}, "vf_share_layers": false, "lr_schedule": null, "compress_observations": false, "clip_rewards": null, "kl_target": 0.01, "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "callbacks": {"on_train_result": null, "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7f5e88017860>", "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7f5e880174a8>", "on_sample_end": null, "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7f5e88017470>"}, "preprocessor_pref": "deepmind", "num_gpus": 0, "multiagent": {"policies_to_train": null, "policy_graphs": {}, "policy_mapping_fn": null}, "observation_filter": "MeanStdFilter", "num_workers": 30, "lr": 0.0005, "num_envs_per_worker": 1, "custom_resources_per_worker": {}, "vf_clip_param": 1000000.0, "vf_loss_coeff": 1.0, "log_level": "INFO", "tf_session_args": {"device_count": {"CPU": 1}, "log_device_placement": false, "gpu_options": {"allow_growth": true}, "intra_op_parallelism_threads": 2, "allow_soft_placement": true, "inter_op_parallelism_threads": 2}, "batch_mode": "truncate_episodes", "num_sgd_iter": 10, "output_compress_columns": ["obs", "new_obs"], "simple_optimizer": false, "env_config": {"run": "PPO", "flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.1,\n            \"eta3\": 0.1,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 7.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 0\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 700,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}"}, "entropy_coeff": 0.0, "sample_async": false, "lambda": 0.97, "monitor": false, "env": "MultiWaveAttenuationMergePOEnvBufferedObs-v0shortermeasure01:01:10", "clip_param": 0.3, "sample_batch_size": 750, "input_evaluation": null, "collect_metrics_timeout": 180, "sgd_minibatch_size": 128, "train_batch_size": 45000, "synchronize_filters": true, "kl_coeff": 0.2, "output": null, "num_cpus_for_driver": 1, "use_gae": true, "clip_actions": false, "num_cpus_per_worker": 1, "optimizer": {}, "num_gpus_per_worker": 0, "straggler_mitigation": false}, "timestamp": 1557416952, "info": {"num_steps_trained": 28161628, "default": {"cur_lr": 0.0005000000237487257, "kl": 0.01668468676507473, "vf_explained_var": 0.8468934297561646, "entropy": 2.116821050643921, "total_loss": 17.230138778686523, "vf_loss": 17.240638732910156, "cur_kl_coeff": 0.6750001311302185, "policy_loss": -0.021761653944849968}, "load_time_ms": 34.794, "grad_time_ms": 20228.517, "sample_time_ms": 25417.247, "num_steps_sampled": 28161628, "update_time_ms": 10.518}, "policy_reward_mean": {}, "training_iteration": 233, "time_this_iter_s": 44.9830904006958, "experiment_id": "4ad1a1b4498d471a9b029fd78d997061", "time_since_restore": 1472.0178751945496, "episode_len_mean": 751.0, "timesteps_this_iter": 81831, "custom_metrics": {"system_level_velocity_min": 6.711028815299345, "system_level_velocity_mean": 11.263674089830442, "system_level_velocity_max": 14.123107524874278, "outflow_rate_min": 684.0529714285715, "cost1_mean": 321.67863008846604, "cost2_min": -166.11704534679401, "outflow_rate_mean": 1006.0502453739853, "cost2_max": -95.81261132414184, "cost1_min": 187.74633466564842, "cost1_max": 404.03678473509785, "cost2_mean": -130.17922208392096, "outflow_rate_max": 1269.6476578352706}}
{"iterations_since_restore": 34, "timesteps_since_restore": 2756321, "episode_reward_min": 214.60557822912298, "time_total_s": 14941.151699066162, "node_ip": "10.138.0.2", "done": false, "episode_reward_mean": 757.5862267021981, "num_metric_batches_dropped": 0, "episodes_total": 14494, "date": "2019-05-09_15-49-57", "pid": 21505, "episode_reward_max": 935.1828980675207, "timesteps_total": 28242981, "hostname": "flow-main", "episodes_this_iter": 44, "config": {"horizon": 1500, "input": "sampler", "output_max_file_size": 67108864, "gamma": 0.99, "model": {"free_log_std": false, "squash_to_range": false, "fcnet_activation": "tanh", "grayscale": false, "dim": 84, "fcnet_hiddens": [128, 64, 32], "conv_filters": null, "custom_model": null, "conv_activation": "relu", "custom_options": {}, "use_lstm": false, "channel_major": false, "framestack": true, "lstm_use_prev_action_reward": false, "zero_mean": true, "max_seq_len": 20, "lstm_cell_size": 256, "custom_preprocessor": null}, "vf_share_layers": false, "lr_schedule": null, "compress_observations": false, "clip_rewards": null, "kl_target": 0.01, "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "callbacks": {"on_train_result": null, "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7f5e87ff57f0>", "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7f5e87ff59b0>", "on_sample_end": null, "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7f5e87ff5438>"}, "preprocessor_pref": "deepmind", "num_gpus": 0, "multiagent": {"policies_to_train": null, "policy_graphs": {}, "policy_mapping_fn": null}, "observation_filter": "MeanStdFilter", "num_workers": 30, "lr": 0.0005, "num_envs_per_worker": 1, "custom_resources_per_worker": {}, "vf_clip_param": 1000000.0, "vf_loss_coeff": 1.0, "log_level": "INFO", "tf_session_args": {"device_count": {"CPU": 1}, "log_device_placement": false, "gpu_options": {"allow_growth": true}, "intra_op_parallelism_threads": 2, "allow_soft_placement": true, "inter_op_parallelism_threads": 2}, "batch_mode": "truncate_episodes", "num_sgd_iter": 10, "output_compress_columns": ["obs", "new_obs"], "simple_optimizer": false, "env_config": {"run": "PPO", "flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.1,\n            \"eta3\": 0.1,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 7.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 0\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 700,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}"}, "entropy_coeff": 0.0, "sample_async": false, "lambda": 0.97, "monitor": false, "env": "MultiWaveAttenuationMergePOEnvBufferedObs-v0shortermeasure01:01:10", "clip_param": 0.3, "sample_batch_size": 750, "input_evaluation": null, "collect_metrics_timeout": 180, "sgd_minibatch_size": 128, "train_batch_size": 45000, "synchronize_filters": true, "kl_coeff": 0.2, "output": null, "num_cpus_for_driver": 1, "use_gae": true, "clip_actions": false, "num_cpus_per_worker": 1, "optimizer": {}, "num_gpus_per_worker": 0, "straggler_mitigation": false}, "timestamp": 1557416997, "info": {"num_steps_trained": 28242981, "default": {"cur_lr": 0.0005000000237487257, "kl": 0.01633361540734768, "vf_explained_var": 0.8399402499198914, "entropy": 2.0950586795806885, "total_loss": 18.690458297729492, "vf_loss": 18.70072364807129, "cur_kl_coeff": 0.6750000715255737, "policy_loss": -0.021290332078933716}, "load_time_ms": 34.729, "grad_time_ms": 20274.166, "sample_time_ms": 25111.503, "num_steps_sampled": 28242981, "update_time_ms": 10.521}, "policy_reward_mean": {}, "training_iteration": 234, "time_this_iter_s": 44.64637994766235, "experiment_id": "4ad1a1b4498d471a9b029fd78d997061", "time_since_restore": 1516.664255142212, "episode_len_mean": 745.77, "timesteps_this_iter": 81353, "custom_metrics": {"system_level_velocity_min": 7.5471521980231575, "system_level_velocity_mean": 11.302873207685721, "system_level_velocity_max": 14.1189125951071, "outflow_rate_min": 433.26590612881165, "cost1_mean": 320.1407010888772, "cost2_min": -166.11704534679401, "outflow_rate_mean": 1002.6665693609968, "cost2_max": -88.05514813076238, "cost1_min": 116.5607480674621, "cost1_max": 400.49240957693706, "cost2_mean": -131.00200144840855, "outflow_rate_max": 1249.566647236594}}
{"iterations_since_restore": 35, "timesteps_since_restore": 2835852, "episode_reward_min": 214.60557822912298, "time_total_s": 14984.424652338028, "node_ip": "10.138.0.2", "done": false, "episode_reward_mean": 759.8873935278422, "num_metric_batches_dropped": 0, "episodes_total": 14537, "date": "2019-05-09_15-50-40", "pid": 21505, "episode_reward_max": 935.1828980675207, "timesteps_total": 28322512, "hostname": "flow-main", "episodes_this_iter": 43, "config": {"horizon": 1500, "input": "sampler", "output_max_file_size": 67108864, "gamma": 0.99, "model": {"free_log_std": false, "squash_to_range": false, "fcnet_activation": "tanh", "grayscale": false, "dim": 84, "fcnet_hiddens": [128, 64, 32], "conv_filters": null, "custom_model": null, "conv_activation": "relu", "custom_options": {}, "use_lstm": false, "channel_major": false, "framestack": true, "lstm_use_prev_action_reward": false, "zero_mean": true, "max_seq_len": 20, "lstm_cell_size": 256, "custom_preprocessor": null}, "vf_share_layers": false, "lr_schedule": null, "compress_observations": false, "clip_rewards": null, "kl_target": 0.01, "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "callbacks": {"on_train_result": null, "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7f5e88017390>", "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7f5e88017588>", "on_sample_end": null, "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7f5e88017128>"}, "preprocessor_pref": "deepmind", "num_gpus": 0, "multiagent": {"policies_to_train": null, "policy_graphs": {}, "policy_mapping_fn": null}, "observation_filter": "MeanStdFilter", "num_workers": 30, "lr": 0.0005, "num_envs_per_worker": 1, "custom_resources_per_worker": {}, "vf_clip_param": 1000000.0, "vf_loss_coeff": 1.0, "log_level": "INFO", "tf_session_args": {"device_count": {"CPU": 1}, "log_device_placement": false, "gpu_options": {"allow_growth": true}, "intra_op_parallelism_threads": 2, "allow_soft_placement": true, "inter_op_parallelism_threads": 2}, "batch_mode": "truncate_episodes", "num_sgd_iter": 10, "output_compress_columns": ["obs", "new_obs"], "simple_optimizer": false, "env_config": {"run": "PPO", "flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.1,\n            \"eta3\": 0.1,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 7.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 0\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 700,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}"}, "entropy_coeff": 0.0, "sample_async": false, "lambda": 0.97, "monitor": false, "env": "MultiWaveAttenuationMergePOEnvBufferedObs-v0shortermeasure01:01:10", "clip_param": 0.3, "sample_batch_size": 750, "input_evaluation": null, "collect_metrics_timeout": 180, "sgd_minibatch_size": 128, "train_batch_size": 45000, "synchronize_filters": true, "kl_coeff": 0.2, "output": null, "num_cpus_for_driver": 1, "use_gae": true, "clip_actions": false, "num_cpus_per_worker": 1, "optimizer": {}, "num_gpus_per_worker": 0, "straggler_mitigation": false}, "timestamp": 1557417040, "info": {"num_steps_trained": 28322512, "default": {"cur_lr": 0.0005000000237487257, "kl": 0.016409970819950104, "vf_explained_var": 0.8461986780166626, "entropy": 2.0844404697418213, "total_loss": 18.173059463500977, "vf_loss": 18.183757781982422, "cur_kl_coeff": 0.6750000715255737, "policy_loss": -0.021775154396891594}, "load_time_ms": 34.259, "grad_time_ms": 20232.335, "sample_time_ms": 24777.265, "num_steps_sampled": 28322512, "update_time_ms": 10.397}, "policy_reward_mean": {}, "training_iteration": 235, "time_this_iter_s": 43.272953271865845, "experiment_id": "4ad1a1b4498d471a9b029fd78d997061", "time_since_restore": 1559.9372084140778, "episode_len_mean": 740.55, "timesteps_this_iter": 79531, "custom_metrics": {"system_level_velocity_min": 8.30192393376561, "system_level_velocity_mean": 11.487666927936743, "system_level_velocity_max": 14.1189125951071, "outflow_rate_min": 429.1122868564065, "cost1_mean": 322.77119913924025, "cost2_min": -154.77067770072313, "outflow_rate_mean": 1011.6640926942798, "cost2_max": -88.05514813076238, "cost1_min": 116.02082921232497, "cost1_max": 400.49240957693706, "cost2_mean": -131.64765769096599, "outflow_rate_max": 1249.566647236594}}
{"iterations_since_restore": 36, "timesteps_since_restore": 2917396, "episode_reward_min": 214.60557822912298, "time_total_s": 15028.535126924515, "node_ip": "10.138.0.2", "done": false, "episode_reward_mean": 760.2855768822346, "num_metric_batches_dropped": 0, "episodes_total": 14580, "date": "2019-05-09_15-51-24", "pid": 21505, "episode_reward_max": 929.068029955583, "timesteps_total": 28404056, "hostname": "flow-main", "episodes_this_iter": 43, "config": {"horizon": 1500, "input": "sampler", "output_max_file_size": 67108864, "gamma": 0.99, "model": {"free_log_std": false, "squash_to_range": false, "fcnet_activation": "tanh", "grayscale": false, "dim": 84, "fcnet_hiddens": [128, 64, 32], "conv_filters": null, "custom_model": null, "conv_activation": "relu", "custom_options": {}, "use_lstm": false, "channel_major": false, "framestack": true, "lstm_use_prev_action_reward": false, "zero_mean": true, "max_seq_len": 20, "lstm_cell_size": 256, "custom_preprocessor": null}, "vf_share_layers": false, "lr_schedule": null, "compress_observations": false, "clip_rewards": null, "kl_target": 0.01, "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "callbacks": {"on_train_result": null, "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7f5e88010da0>", "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7f5e88010d68>", "on_sample_end": null, "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7f5e88010dd8>"}, "preprocessor_pref": "deepmind", "num_gpus": 0, "multiagent": {"policies_to_train": null, "policy_graphs": {}, "policy_mapping_fn": null}, "observation_filter": "MeanStdFilter", "num_workers": 30, "lr": 0.0005, "num_envs_per_worker": 1, "custom_resources_per_worker": {}, "vf_clip_param": 1000000.0, "vf_loss_coeff": 1.0, "log_level": "INFO", "tf_session_args": {"device_count": {"CPU": 1}, "log_device_placement": false, "gpu_options": {"allow_growth": true}, "intra_op_parallelism_threads": 2, "allow_soft_placement": true, "inter_op_parallelism_threads": 2}, "batch_mode": "truncate_episodes", "num_sgd_iter": 10, "output_compress_columns": ["obs", "new_obs"], "simple_optimizer": false, "env_config": {"run": "PPO", "flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.1,\n            \"eta3\": 0.1,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 7.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 0\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 700,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}"}, "entropy_coeff": 0.0, "sample_async": false, "lambda": 0.97, "monitor": false, "env": "MultiWaveAttenuationMergePOEnvBufferedObs-v0shortermeasure01:01:10", "clip_param": 0.3, "sample_batch_size": 750, "input_evaluation": null, "collect_metrics_timeout": 180, "sgd_minibatch_size": 128, "train_batch_size": 45000, "synchronize_filters": true, "kl_coeff": 0.2, "output": null, "num_cpus_for_driver": 1, "use_gae": true, "clip_actions": false, "num_cpus_per_worker": 1, "optimizer": {}, "num_gpus_per_worker": 0, "straggler_mitigation": false}, "timestamp": 1557417084, "info": {"num_steps_trained": 28404056, "default": {"cur_lr": 0.0005000000237487257, "kl": 0.016656743362545967, "vf_explained_var": 0.8518112301826477, "entropy": 2.1032798290252686, "total_loss": 17.34919548034668, "vf_loss": 17.35917854309082, "cur_kl_coeff": 0.6750001311302185, "policy_loss": -0.02122514322400093}, "load_time_ms": 34.501, "grad_time_ms": 20301.753, "sample_time_ms": 24481.453, "num_steps_sampled": 28404056, "update_time_ms": 10.167}, "policy_reward_mean": {}, "training_iteration": 236, "time_this_iter_s": 44.110474586486816, "experiment_id": "4ad1a1b4498d471a9b029fd78d997061", "time_since_restore": 1604.0476830005646, "episode_len_mean": 735.36, "timesteps_this_iter": 81544, "custom_metrics": {"system_level_velocity_min": 8.30192393376561, "system_level_velocity_mean": 11.594220694840319, "system_level_velocity_max": 14.1189125951071, "outflow_rate_min": 429.1122868564065, "cost1_mean": 323.3969064510335, "cost2_min": -160.96049335206405, "outflow_rate_mean": 1016.067357541015, "cost2_max": -81.05950210796865, "cost1_min": 112.46624847641432, "cost1_max": 396.8693239940724, "cost2_mean": -132.78345371362116, "outflow_rate_max": 1244.9236370036956}}
{"iterations_since_restore": 37, "timesteps_since_restore": 2997175, "episode_reward_min": 217.0507609337729, "time_total_s": 15070.226083993912, "node_ip": "10.138.0.2", "done": false, "episode_reward_mean": 763.1384840227959, "num_metric_batches_dropped": 0, "episodes_total": 14623, "date": "2019-05-09_15-52-06", "pid": 21505, "episode_reward_max": 929.068029955583, "timesteps_total": 28483835, "hostname": "flow-main", "episodes_this_iter": 43, "config": {"horizon": 1500, "input": "sampler", "output_max_file_size": 67108864, "gamma": 0.99, "model": {"free_log_std": false, "squash_to_range": false, "fcnet_activation": "tanh", "grayscale": false, "dim": 84, "fcnet_hiddens": [128, 64, 32], "conv_filters": null, "custom_model": null, "conv_activation": "relu", "custom_options": {}, "use_lstm": false, "channel_major": false, "framestack": true, "lstm_use_prev_action_reward": false, "zero_mean": true, "max_seq_len": 20, "lstm_cell_size": 256, "custom_preprocessor": null}, "vf_share_layers": false, "lr_schedule": null, "compress_observations": false, "clip_rewards": null, "kl_target": 0.01, "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "callbacks": {"on_train_result": null, "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7f5e88017e80>", "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7f5e88017390>", "on_sample_end": null, "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7f5e88017588>"}, "preprocessor_pref": "deepmind", "num_gpus": 0, "multiagent": {"policies_to_train": null, "policy_graphs": {}, "policy_mapping_fn": null}, "observation_filter": "MeanStdFilter", "num_workers": 30, "lr": 0.0005, "num_envs_per_worker": 1, "custom_resources_per_worker": {}, "vf_clip_param": 1000000.0, "vf_loss_coeff": 1.0, "log_level": "INFO", "tf_session_args": {"device_count": {"CPU": 1}, "log_device_placement": false, "gpu_options": {"allow_growth": true}, "intra_op_parallelism_threads": 2, "allow_soft_placement": true, "inter_op_parallelism_threads": 2}, "batch_mode": "truncate_episodes", "num_sgd_iter": 10, "output_compress_columns": ["obs", "new_obs"], "simple_optimizer": false, "env_config": {"run": "PPO", "flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.1,\n            \"eta3\": 0.1,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 7.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 0\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 700,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}"}, "entropy_coeff": 0.0, "sample_async": false, "lambda": 0.97, "monitor": false, "env": "MultiWaveAttenuationMergePOEnvBufferedObs-v0shortermeasure01:01:10", "clip_param": 0.3, "sample_batch_size": 750, "input_evaluation": null, "collect_metrics_timeout": 180, "sgd_minibatch_size": 128, "train_batch_size": 45000, "synchronize_filters": true, "kl_coeff": 0.2, "output": null, "num_cpus_for_driver": 1, "use_gae": true, "clip_actions": false, "num_cpus_per_worker": 1, "optimizer": {}, "num_gpus_per_worker": 0, "straggler_mitigation": false}, "timestamp": 1557417126, "info": {"num_steps_trained": 28483835, "default": {"cur_lr": 0.0005000000237487257, "kl": 0.016336169093847275, "vf_explained_var": 0.853264331817627, "entropy": 2.0931406021118164, "total_loss": 16.156042098999023, "vf_loss": 16.168203353881836, "cur_kl_coeff": 0.675000011920929, "policy_loss": -0.023190392181277275}, "load_time_ms": 33.863, "grad_time_ms": 20178.845, "sample_time_ms": 24074.381, "num_steps_sampled": 28483835, "update_time_ms": 9.73}, "policy_reward_mean": {}, "training_iteration": 237, "time_this_iter_s": 41.69095706939697, "experiment_id": "4ad1a1b4498d471a9b029fd78d997061", "time_since_restore": 1645.7386400699615, "episode_len_mean": 743.45, "timesteps_this_iter": 79779, "custom_metrics": {"system_level_velocity_min": 8.581151672961585, "system_level_velocity_mean": 11.474108887147084, "system_level_velocity_max": 13.93141547755728, "outflow_rate_min": 432.8841831113692, "cost1_mean": 324.440696059786, "cost2_min": -160.96049335206405, "outflow_rate_mean": 1019.3820887614039, "cost2_max": -81.05950210796865, "cost1_min": 112.46624847641432, "cost1_max": 394.01388671645327, "cost2_mean": -132.90787623615788, "outflow_rate_max": 1220.2073706127792}}
{"iterations_since_restore": 38, "timesteps_since_restore": 3077579, "episode_reward_min": 217.0507609337729, "time_total_s": 15112.265453100204, "node_ip": "10.138.0.2", "done": false, "episode_reward_mean": 759.9923343380573, "num_metric_batches_dropped": 0, "episodes_total": 14666, "date": "2019-05-09_15-52-48", "pid": 21505, "episode_reward_max": 925.6056399031627, "timesteps_total": 28564239, "hostname": "flow-main", "episodes_this_iter": 43, "config": {"horizon": 1500, "input": "sampler", "output_max_file_size": 67108864, "gamma": 0.99, "model": {"free_log_std": false, "squash_to_range": false, "fcnet_activation": "tanh", "grayscale": false, "dim": 84, "fcnet_hiddens": [128, 64, 32], "conv_filters": null, "custom_model": null, "conv_activation": "relu", "custom_options": {}, "use_lstm": false, "channel_major": false, "framestack": true, "lstm_use_prev_action_reward": false, "zero_mean": true, "max_seq_len": 20, "lstm_cell_size": 256, "custom_preprocessor": null}, "vf_share_layers": false, "lr_schedule": null, "compress_observations": false, "clip_rewards": null, "kl_target": 0.01, "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "callbacks": {"on_train_result": null, "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7f5e87ff52e8>", "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7f5e87ff56d8>", "on_sample_end": null, "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7f5e87ff5d68>"}, "preprocessor_pref": "deepmind", "num_gpus": 0, "multiagent": {"policies_to_train": null, "policy_graphs": {}, "policy_mapping_fn": null}, "observation_filter": "MeanStdFilter", "num_workers": 30, "lr": 0.0005, "num_envs_per_worker": 1, "custom_resources_per_worker": {}, "vf_clip_param": 1000000.0, "vf_loss_coeff": 1.0, "log_level": "INFO", "tf_session_args": {"device_count": {"CPU": 1}, "log_device_placement": false, "gpu_options": {"allow_growth": true}, "intra_op_parallelism_threads": 2, "allow_soft_placement": true, "inter_op_parallelism_threads": 2}, "batch_mode": "truncate_episodes", "num_sgd_iter": 10, "output_compress_columns": ["obs", "new_obs"], "simple_optimizer": false, "env_config": {"run": "PPO", "flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.1,\n            \"eta3\": 0.1,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 7.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 0\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 700,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}"}, "entropy_coeff": 0.0, "sample_async": false, "lambda": 0.97, "monitor": false, "env": "MultiWaveAttenuationMergePOEnvBufferedObs-v0shortermeasure01:01:10", "clip_param": 0.3, "sample_batch_size": 750, "input_evaluation": null, "collect_metrics_timeout": 180, "sgd_minibatch_size": 128, "train_batch_size": 45000, "synchronize_filters": true, "kl_coeff": 0.2, "output": null, "num_cpus_for_driver": 1, "use_gae": true, "clip_actions": false, "num_cpus_per_worker": 1, "optimizer": {}, "num_gpus_per_worker": 0, "straggler_mitigation": false}, "timestamp": 1557417168, "info": {"num_steps_trained": 28564239, "default": {"cur_lr": 0.0005000000237487257, "kl": 0.015625620260834694, "vf_explained_var": 0.8323597311973572, "entropy": 2.0780253410339355, "total_loss": 18.27130126953125, "vf_loss": 18.282363891601562, "cur_kl_coeff": 0.6750000715255737, "policy_loss": -0.021611325442790985}, "load_time_ms": 34.773, "grad_time_ms": 20067.958, "sample_time_ms": 23847.042, "num_steps_sampled": 28564239, "update_time_ms": 9.44}, "policy_reward_mean": {}, "training_iteration": 238, "time_this_iter_s": 42.039369106292725, "experiment_id": "4ad1a1b4498d471a9b029fd78d997061", "time_since_restore": 1687.7780091762543, "episode_len_mean": 738.28, "timesteps_this_iter": 80404, "custom_metrics": {"system_level_velocity_min": 9.062191932147362, "system_level_velocity_mean": 11.513467782964353, "system_level_velocity_max": 13.93141547755728, "outflow_rate_min": 416.37507857380604, "cost1_mean": 323.376632055274, "cost2_min": -160.96049335206405, "outflow_rate_mean": 1017.5935686873786, "cost2_max": -81.05950210796865, "cost1_min": 112.46624847641432, "cost1_max": 388.30683377214785, "cost2_mean": -131.99736537552056, "outflow_rate_max": 1217.8636334542698}}
{"iterations_since_restore": 39, "timesteps_since_restore": 3159835, "episode_reward_min": 227.471448966266, "time_total_s": 15155.302376508713, "node_ip": "10.138.0.2", "done": false, "episode_reward_mean": 761.488575777611, "num_metric_batches_dropped": 0, "episodes_total": 14708, "date": "2019-05-09_15-53-31", "pid": 21505, "episode_reward_max": 928.1764395661048, "timesteps_total": 28646495, "hostname": "flow-main", "episodes_this_iter": 42, "config": {"horizon": 1500, "input": "sampler", "output_max_file_size": 67108864, "gamma": 0.99, "model": {"free_log_std": false, "squash_to_range": false, "fcnet_activation": "tanh", "grayscale": false, "dim": 84, "fcnet_hiddens": [128, 64, 32], "conv_filters": null, "custom_model": null, "conv_activation": "relu", "custom_options": {}, "use_lstm": false, "channel_major": false, "framestack": true, "lstm_use_prev_action_reward": false, "zero_mean": true, "max_seq_len": 20, "lstm_cell_size": 256, "custom_preprocessor": null}, "vf_share_layers": false, "lr_schedule": null, "compress_observations": false, "clip_rewards": null, "kl_target": 0.01, "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "callbacks": {"on_train_result": null, "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7f5e880176a0>", "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7f5e88017278>", "on_sample_end": null, "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7f5e880174a8>"}, "preprocessor_pref": "deepmind", "num_gpus": 0, "multiagent": {"policies_to_train": null, "policy_graphs": {}, "policy_mapping_fn": null}, "observation_filter": "MeanStdFilter", "num_workers": 30, "lr": 0.0005, "num_envs_per_worker": 1, "custom_resources_per_worker": {}, "vf_clip_param": 1000000.0, "vf_loss_coeff": 1.0, "log_level": "INFO", "tf_session_args": {"device_count": {"CPU": 1}, "log_device_placement": false, "gpu_options": {"allow_growth": true}, "intra_op_parallelism_threads": 2, "allow_soft_placement": true, "inter_op_parallelism_threads": 2}, "batch_mode": "truncate_episodes", "num_sgd_iter": 10, "output_compress_columns": ["obs", "new_obs"], "simple_optimizer": false, "env_config": {"run": "PPO", "flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.1,\n            \"eta3\": 0.1,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 7.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 0\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 700,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}"}, "entropy_coeff": 0.0, "sample_async": false, "lambda": 0.97, "monitor": false, "env": "MultiWaveAttenuationMergePOEnvBufferedObs-v0shortermeasure01:01:10", "clip_param": 0.3, "sample_batch_size": 750, "input_evaluation": null, "collect_metrics_timeout": 180, "sgd_minibatch_size": 128, "train_batch_size": 45000, "synchronize_filters": true, "kl_coeff": 0.2, "output": null, "num_cpus_for_driver": 1, "use_gae": true, "clip_actions": false, "num_cpus_per_worker": 1, "optimizer": {}, "num_gpus_per_worker": 0, "straggler_mitigation": false}, "timestamp": 1557417211, "info": {"num_steps_trained": 28646495, "default": {"cur_lr": 0.0005000000237487257, "kl": 0.0164023507386446, "vf_explained_var": 0.859059751033783, "entropy": 2.0993618965148926, "total_loss": 16.230121612548828, "vf_loss": 16.240480422973633, "cur_kl_coeff": 0.6750001311302185, "policy_loss": -0.021428566426038742}, "load_time_ms": 35.647, "grad_time_ms": 19907.657, "sample_time_ms": 23749.925, "num_steps_sampled": 28646495, "update_time_ms": 9.322}, "policy_reward_mean": {}, "training_iteration": 239, "time_this_iter_s": 43.0369234085083, "experiment_id": "4ad1a1b4498d471a9b029fd78d997061", "time_since_restore": 1730.8149325847626, "episode_len_mean": 738.77, "timesteps_this_iter": 82256, "custom_metrics": {"system_level_velocity_min": 8.951671174380966, "system_level_velocity_mean": 11.458948235669222, "system_level_velocity_max": 14.413805582768614, "outflow_rate_min": 416.37507857380604, "cost1_mean": 321.97856604474777, "cost2_min": -159.84310708541352, "outflow_rate_mean": 1013.7782792495617, "cost2_max": -91.6694097433419, "cost1_min": 116.05105360842661, "cost1_max": 406.83733974292386, "cost2_mean": -132.53859987382947, "outflow_rate_max": 1270.5549426498635}}
{"iterations_since_restore": 40, "timesteps_since_restore": 3241035, "episode_reward_min": 204.9818325143004, "time_total_s": 15198.773511171341, "node_ip": "10.138.0.2", "done": false, "episode_reward_mean": 760.5436738928797, "num_metric_batches_dropped": 0, "episodes_total": 14750, "date": "2019-05-09_15-54-15", "pid": 21505, "episode_reward_max": 928.1764395661048, "timesteps_total": 28727695, "hostname": "flow-main", "episodes_this_iter": 42, "config": {"horizon": 1500, "input": "sampler", "output_max_file_size": 67108864, "gamma": 0.99, "model": {"free_log_std": false, "squash_to_range": false, "fcnet_activation": "tanh", "grayscale": false, "dim": 84, "fcnet_hiddens": [128, 64, 32], "conv_filters": null, "custom_model": null, "conv_activation": "relu", "custom_options": {}, "use_lstm": false, "channel_major": false, "framestack": true, "lstm_use_prev_action_reward": false, "zero_mean": true, "max_seq_len": 20, "lstm_cell_size": 256, "custom_preprocessor": null}, "vf_share_layers": false, "lr_schedule": null, "compress_observations": false, "clip_rewards": null, "kl_target": 0.01, "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "callbacks": {"on_train_result": null, "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7f5e88010128>", "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7f5e88010ac8>", "on_sample_end": null, "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7f5e880107f0>"}, "preprocessor_pref": "deepmind", "num_gpus": 0, "multiagent": {"policies_to_train": null, "policy_graphs": {}, "policy_mapping_fn": null}, "observation_filter": "MeanStdFilter", "num_workers": 30, "lr": 0.0005, "num_envs_per_worker": 1, "custom_resources_per_worker": {}, "vf_clip_param": 1000000.0, "vf_loss_coeff": 1.0, "log_level": "INFO", "tf_session_args": {"device_count": {"CPU": 1}, "log_device_placement": false, "gpu_options": {"allow_growth": true}, "intra_op_parallelism_threads": 2, "allow_soft_placement": true, "inter_op_parallelism_threads": 2}, "batch_mode": "truncate_episodes", "num_sgd_iter": 10, "output_compress_columns": ["obs", "new_obs"], "simple_optimizer": false, "env_config": {"run": "PPO", "flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.1,\n            \"eta3\": 0.1,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 7.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 0\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 700,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}"}, "entropy_coeff": 0.0, "sample_async": false, "lambda": 0.97, "monitor": false, "env": "MultiWaveAttenuationMergePOEnvBufferedObs-v0shortermeasure01:01:10", "clip_param": 0.3, "sample_batch_size": 750, "input_evaluation": null, "collect_metrics_timeout": 180, "sgd_minibatch_size": 128, "train_batch_size": 45000, "synchronize_filters": true, "kl_coeff": 0.2, "output": null, "num_cpus_for_driver": 1, "use_gae": true, "clip_actions": false, "num_cpus_per_worker": 1, "optimizer": {}, "num_gpus_per_worker": 0, "straggler_mitigation": false}, "timestamp": 1557417255, "info": {"num_steps_trained": 28727695, "default": {"cur_lr": 0.0005000000237487257, "kl": 0.016055673360824585, "vf_explained_var": 0.8524930477142334, "entropy": 2.0882375240325928, "total_loss": 17.219690322875977, "vf_loss": 17.230052947998047, "cur_kl_coeff": 0.6750001311302185, "policy_loss": -0.021197576075792313}, "load_time_ms": 36.983, "grad_time_ms": 19734.908, "sample_time_ms": 23668.87, "num_steps_sampled": 28727695, "update_time_ms": 9.434}, "policy_reward_mean": {}, "training_iteration": 240, "time_this_iter_s": 43.471134662628174, "experiment_id": "4ad1a1b4498d471a9b029fd78d997061", "time_since_restore": 1774.2860672473907, "episode_len_mean": 738.61, "timesteps_this_iter": 81200, "custom_metrics": {"system_level_velocity_min": 7.994025337483684, "system_level_velocity_mean": 11.387825947288798, "system_level_velocity_max": 14.413805582768614, "outflow_rate_min": 431.67843450835613, "cost1_mean": 319.5557101455104, "cost2_min": -159.84310708541352, "outflow_rate_mean": 1009.524091110514, "cost2_max": -94.46806649591421, "cost1_min": 114.61889945657782, "cost1_max": 406.83733974292386, "cost2_mean": -132.4560710988738, "outflow_rate_max": 1270.5549426498635}}
{"iterations_since_restore": 41, "timesteps_since_restore": 3323685, "episode_reward_min": 204.9818325143004, "time_total_s": 15244.314363479614, "node_ip": "10.138.0.2", "done": false, "episode_reward_mean": 759.9381077146888, "num_metric_batches_dropped": 0, "episodes_total": 14792, "date": "2019-05-09_15-55-00", "pid": 21505, "episode_reward_max": 928.1764395661048, "timesteps_total": 28810345, "hostname": "flow-main", "episodes_this_iter": 42, "config": {"horizon": 1500, "input": "sampler", "output_max_file_size": 67108864, "gamma": 0.99, "model": {"free_log_std": false, "squash_to_range": false, "fcnet_activation": "tanh", "grayscale": false, "dim": 84, "fcnet_hiddens": [128, 64, 32], "conv_filters": null, "custom_model": null, "conv_activation": "relu", "custom_options": {}, "use_lstm": false, "channel_major": false, "framestack": true, "lstm_use_prev_action_reward": false, "zero_mean": true, "max_seq_len": 20, "lstm_cell_size": 256, "custom_preprocessor": null}, "vf_share_layers": false, "lr_schedule": null, "compress_observations": false, "clip_rewards": null, "kl_target": 0.01, "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "callbacks": {"on_train_result": null, "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7f5e88017128>", "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7f5e88017048>", "on_sample_end": null, "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7f5e88017e80>"}, "preprocessor_pref": "deepmind", "num_gpus": 0, "multiagent": {"policies_to_train": null, "policy_graphs": {}, "policy_mapping_fn": null}, "observation_filter": "MeanStdFilter", "num_workers": 30, "lr": 0.0005, "num_envs_per_worker": 1, "custom_resources_per_worker": {}, "vf_clip_param": 1000000.0, "vf_loss_coeff": 1.0, "log_level": "INFO", "tf_session_args": {"device_count": {"CPU": 1}, "log_device_placement": false, "gpu_options": {"allow_growth": true}, "intra_op_parallelism_threads": 2, "allow_soft_placement": true, "inter_op_parallelism_threads": 2}, "batch_mode": "truncate_episodes", "num_sgd_iter": 10, "output_compress_columns": ["obs", "new_obs"], "simple_optimizer": false, "env_config": {"run": "PPO", "flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.1,\n            \"eta3\": 0.1,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 7.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 0\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 700,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}"}, "entropy_coeff": 0.0, "sample_async": false, "lambda": 0.97, "monitor": false, "env": "MultiWaveAttenuationMergePOEnvBufferedObs-v0shortermeasure01:01:10", "clip_param": 0.3, "sample_batch_size": 750, "input_evaluation": null, "collect_metrics_timeout": 180, "sgd_minibatch_size": 128, "train_batch_size": 45000, "synchronize_filters": true, "kl_coeff": 0.2, "output": null, "num_cpus_for_driver": 1, "use_gae": true, "clip_actions": false, "num_cpus_per_worker": 1, "optimizer": {}, "num_gpus_per_worker": 0, "straggler_mitigation": false}, "timestamp": 1557417300, "info": {"num_steps_trained": 28810345, "default": {"cur_lr": 0.0005000000237487257, "kl": 0.016253946349024773, "vf_explained_var": 0.8548715710639954, "entropy": 2.1234776973724365, "total_loss": 16.159305572509766, "vf_loss": 16.170154571533203, "cur_kl_coeff": 0.6750000715255737, "policy_loss": -0.021822107955813408}, "load_time_ms": 37.972, "grad_time_ms": 19695.949, "sample_time_ms": 23904.192, "num_steps_sampled": 28810345, "update_time_ms": 9.413}, "policy_reward_mean": {}, "training_iteration": 241, "time_this_iter_s": 45.540852308273315, "experiment_id": "4ad1a1b4498d471a9b029fd78d997061", "time_since_restore": 1819.826919555664, "episode_len_mean": 741.24, "timesteps_this_iter": 82650, "custom_metrics": {"system_level_velocity_min": 7.994025337483684, "system_level_velocity_mean": 11.369081865557922, "system_level_velocity_max": 14.413805582768614, "outflow_rate_min": 431.67843450835613, "cost1_mean": 319.97626167758176, "cost2_min": -159.84310708541352, "outflow_rate_mean": 1009.048831905708, "cost2_max": -94.46806649591421, "cost1_min": 114.61889945657782, "cost1_max": 406.83733974292386, "cost2_mean": -132.27562485028008, "outflow_rate_max": 1270.5549426498635}}
{"iterations_since_restore": 42, "timesteps_since_restore": 3404520, "episode_reward_min": 204.3801881230054, "time_total_s": 15289.14690566063, "node_ip": "10.138.0.2", "done": false, "episode_reward_mean": 743.6249433571604, "num_metric_batches_dropped": 0, "episodes_total": 14836, "date": "2019-05-09_15-55-45", "pid": 21505, "episode_reward_max": 932.92154955355, "timesteps_total": 28891180, "hostname": "flow-main", "episodes_this_iter": 44, "config": {"horizon": 1500, "input": "sampler", "output_max_file_size": 67108864, "gamma": 0.99, "model": {"free_log_std": false, "squash_to_range": false, "fcnet_activation": "tanh", "grayscale": false, "dim": 84, "fcnet_hiddens": [128, 64, 32], "conv_filters": null, "custom_model": null, "conv_activation": "relu", "custom_options": {}, "use_lstm": false, "channel_major": false, "framestack": true, "lstm_use_prev_action_reward": false, "zero_mean": true, "max_seq_len": 20, "lstm_cell_size": 256, "custom_preprocessor": null}, "vf_share_layers": false, "lr_schedule": null, "compress_observations": false, "clip_rewards": null, "kl_target": 0.01, "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "callbacks": {"on_train_result": null, "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7f5e87ff52e8>", "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7f5e87ff5c88>", "on_sample_end": null, "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7f5e87ff5a20>"}, "preprocessor_pref": "deepmind", "num_gpus": 0, "multiagent": {"policies_to_train": null, "policy_graphs": {}, "policy_mapping_fn": null}, "observation_filter": "MeanStdFilter", "num_workers": 30, "lr": 0.0005, "num_envs_per_worker": 1, "custom_resources_per_worker": {}, "vf_clip_param": 1000000.0, "vf_loss_coeff": 1.0, "log_level": "INFO", "tf_session_args": {"device_count": {"CPU": 1}, "log_device_placement": false, "gpu_options": {"allow_growth": true}, "intra_op_parallelism_threads": 2, "allow_soft_placement": true, "inter_op_parallelism_threads": 2}, "batch_mode": "truncate_episodes", "num_sgd_iter": 10, "output_compress_columns": ["obs", "new_obs"], "simple_optimizer": false, "env_config": {"run": "PPO", "flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.1,\n            \"eta3\": 0.1,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 7.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 0\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 700,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}"}, "entropy_coeff": 0.0, "sample_async": false, "lambda": 0.97, "monitor": false, "env": "MultiWaveAttenuationMergePOEnvBufferedObs-v0shortermeasure01:01:10", "clip_param": 0.3, "sample_batch_size": 750, "input_evaluation": null, "collect_metrics_timeout": 180, "sgd_minibatch_size": 128, "train_batch_size": 45000, "synchronize_filters": true, "kl_coeff": 0.2, "output": null, "num_cpus_for_driver": 1, "use_gae": true, "clip_actions": false, "num_cpus_per_worker": 1, "optimizer": {}, "num_gpus_per_worker": 0, "straggler_mitigation": false}, "timestamp": 1557417345, "info": {"num_steps_trained": 28891180, "default": {"cur_lr": 0.0005000000237487257, "kl": 0.016328200697898865, "vf_explained_var": 0.847069501876831, "entropy": 2.118997573852539, "total_loss": 18.970539093017578, "vf_loss": 18.980628967285156, "cur_kl_coeff": 0.6750000715255737, "policy_loss": -0.021113617345690727}, "load_time_ms": 38.261, "grad_time_ms": 19549.886, "sample_time_ms": 24008.688, "num_steps_sampled": 28891180, "update_time_ms": 9.255}, "policy_reward_mean": {}, "training_iteration": 242, "time_this_iter_s": 44.832542181015015, "experiment_id": "4ad1a1b4498d471a9b029fd78d997061", "time_since_restore": 1864.659461736679, "episode_len_mean": 735.01, "timesteps_this_iter": 80835, "custom_metrics": {"system_level_velocity_min": 7.086289482500003, "system_level_velocity_mean": 11.258395076912295, "system_level_velocity_max": 14.094300445866143, "outflow_rate_min": 409.04997119111005, "cost1_mean": 313.84413107926065, "cost2_min": -160.88027289688017, "outflow_rate_mean": 992.2672576286158, "cost2_max": -83.94344479052234, "cost1_min": 108.61674174872337, "cost1_max": 402.82893201244235, "cost2_mean": -130.42959177028575, "outflow_rate_max": 1256.993060452061}}
{"iterations_since_restore": 43, "timesteps_since_restore": 3487668, "episode_reward_min": 204.3801881230054, "time_total_s": 15333.891608476639, "node_ip": "10.138.0.2", "done": false, "episode_reward_mean": 758.0955476801619, "num_metric_batches_dropped": 0, "episodes_total": 14878, "date": "2019-05-09_15-56-30", "pid": 21505, "episode_reward_max": 932.92154955355, "timesteps_total": 28974328, "hostname": "flow-main", "episodes_this_iter": 42, "config": {"horizon": 1500, "input": "sampler", "output_max_file_size": 67108864, "gamma": 0.99, "model": {"free_log_std": false, "squash_to_range": false, "fcnet_activation": "tanh", "grayscale": false, "dim": 84, "fcnet_hiddens": [128, 64, 32], "conv_filters": null, "custom_model": null, "conv_activation": "relu", "custom_options": {}, "use_lstm": false, "channel_major": false, "framestack": true, "lstm_use_prev_action_reward": false, "zero_mean": true, "max_seq_len": 20, "lstm_cell_size": 256, "custom_preprocessor": null}, "vf_share_layers": false, "lr_schedule": null, "compress_observations": false, "clip_rewards": null, "kl_target": 0.01, "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "callbacks": {"on_train_result": null, "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7f5e88017358>", "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7f5e88017390>", "on_sample_end": null, "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7f5e88017240>"}, "preprocessor_pref": "deepmind", "num_gpus": 0, "multiagent": {"policies_to_train": null, "policy_graphs": {}, "policy_mapping_fn": null}, "observation_filter": "MeanStdFilter", "num_workers": 30, "lr": 0.0005, "num_envs_per_worker": 1, "custom_resources_per_worker": {}, "vf_clip_param": 1000000.0, "vf_loss_coeff": 1.0, "log_level": "INFO", "tf_session_args": {"device_count": {"CPU": 1}, "log_device_placement": false, "gpu_options": {"allow_growth": true}, "intra_op_parallelism_threads": 2, "allow_soft_placement": true, "inter_op_parallelism_threads": 2}, "batch_mode": "truncate_episodes", "num_sgd_iter": 10, "output_compress_columns": ["obs", "new_obs"], "simple_optimizer": false, "env_config": {"run": "PPO", "flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.1,\n            \"eta3\": 0.1,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 7.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 0\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 700,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}"}, "entropy_coeff": 0.0, "sample_async": false, "lambda": 0.97, "monitor": false, "env": "MultiWaveAttenuationMergePOEnvBufferedObs-v0shortermeasure01:01:10", "clip_param": 0.3, "sample_batch_size": 750, "input_evaluation": null, "collect_metrics_timeout": 180, "sgd_minibatch_size": 128, "train_batch_size": 45000, "synchronize_filters": true, "kl_coeff": 0.2, "output": null, "num_cpus_for_driver": 1, "use_gae": true, "clip_actions": false, "num_cpus_per_worker": 1, "optimizer": {}, "num_gpus_per_worker": 0, "straggler_mitigation": false}, "timestamp": 1557417390, "info": {"num_steps_trained": 28974328, "default": {"cur_lr": 0.0005000000237487257, "kl": 0.018375908955931664, "vf_explained_var": 0.871632993221283, "entropy": 2.1325151920318604, "total_loss": 15.916887283325195, "vf_loss": 15.92551040649414, "cur_kl_coeff": 0.6750001311302185, "policy_loss": -0.021027596667408943}, "load_time_ms": 38.675, "grad_time_ms": 19323.21, "sample_time_ms": 24211.723, "num_steps_sampled": 28974328, "update_time_ms": 9.061}, "policy_reward_mean": {}, "training_iteration": 243, "time_this_iter_s": 44.74470281600952, "experiment_id": "4ad1a1b4498d471a9b029fd78d997061", "time_since_restore": 1909.4041645526886, "episode_len_mean": 740.34, "timesteps_this_iter": 83148, "custom_metrics": {"system_level_velocity_min": 7.086289482500003, "system_level_velocity_mean": 11.29835488136489, "system_level_velocity_max": 14.055140272381303, "outflow_rate_min": 409.04997119111005, "cost1_mean": 318.53974510637687, "cost2_min": -164.19874198947232, "outflow_rate_mean": 1009.7620225745736, "cost2_max": -83.94344479052234, "cost1_min": 108.61674174872337, "cost1_max": 406.102120207839, "cost2_mean": -131.21109668682757, "outflow_rate_max": 1311.1738251073402}}
{"iterations_since_restore": 44, "timesteps_since_restore": 3572753, "episode_reward_min": 560.2268535364763, "time_total_s": 15381.88316822052, "node_ip": "10.138.0.2", "done": false, "episode_reward_mean": 757.4007712258318, "num_metric_batches_dropped": 0, "episodes_total": 14920, "date": "2019-05-09_15-57-18", "pid": 21505, "episode_reward_max": 932.92154955355, "timesteps_total": 29059413, "hostname": "flow-main", "episodes_this_iter": 42, "config": {"horizon": 1500, "input": "sampler", "output_max_file_size": 67108864, "gamma": 0.99, "model": {"free_log_std": false, "squash_to_range": false, "fcnet_activation": "tanh", "grayscale": false, "dim": 84, "fcnet_hiddens": [128, 64, 32], "conv_filters": null, "custom_model": null, "conv_activation": "relu", "custom_options": {}, "use_lstm": false, "channel_major": false, "framestack": true, "lstm_use_prev_action_reward": false, "zero_mean": true, "max_seq_len": 20, "lstm_cell_size": 256, "custom_preprocessor": null}, "vf_share_layers": false, "lr_schedule": null, "compress_observations": false, "clip_rewards": null, "kl_target": 0.01, "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "callbacks": {"on_train_result": null, "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7f5e88010d68>", "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7f5e88017550>", "on_sample_end": null, "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7f5e88010898>"}, "preprocessor_pref": "deepmind", "num_gpus": 0, "multiagent": {"policies_to_train": null, "policy_graphs": {}, "policy_mapping_fn": null}, "observation_filter": "MeanStdFilter", "num_workers": 30, "lr": 0.0005, "num_envs_per_worker": 1, "custom_resources_per_worker": {}, "vf_clip_param": 1000000.0, "vf_loss_coeff": 1.0, "log_level": "INFO", "tf_session_args": {"device_count": {"CPU": 1}, "log_device_placement": false, "gpu_options": {"allow_growth": true}, "intra_op_parallelism_threads": 2, "allow_soft_placement": true, "inter_op_parallelism_threads": 2}, "batch_mode": "truncate_episodes", "num_sgd_iter": 10, "output_compress_columns": ["obs", "new_obs"], "simple_optimizer": false, "env_config": {"run": "PPO", "flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.1,\n            \"eta3\": 0.1,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 7.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 0\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 700,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}"}, "entropy_coeff": 0.0, "sample_async": false, "lambda": 0.97, "monitor": false, "env": "MultiWaveAttenuationMergePOEnvBufferedObs-v0shortermeasure01:01:10", "clip_param": 0.3, "sample_batch_size": 750, "input_evaluation": null, "collect_metrics_timeout": 180, "sgd_minibatch_size": 128, "train_batch_size": 45000, "synchronize_filters": true, "kl_coeff": 0.2, "output": null, "num_cpus_for_driver": 1, "use_gae": true, "clip_actions": false, "num_cpus_per_worker": 1, "optimizer": {}, "num_gpus_per_worker": 0, "straggler_mitigation": false}, "timestamp": 1557417438, "info": {"num_steps_trained": 29059413, "default": {"cur_lr": 0.0005000000237487257, "kl": 0.01608005166053772, "vf_explained_var": 0.8837456703186035, "entropy": 2.1776723861694336, "total_loss": 14.184784889221191, "vf_loss": 14.195271492004395, "cur_kl_coeff": 0.6750001311302185, "policy_loss": -0.02133881114423275}, "load_time_ms": 38.904, "grad_time_ms": 19362.975, "sample_time_ms": 24499.912, "num_steps_sampled": 29059413, "update_time_ms": 8.739}, "policy_reward_mean": {}, "training_iteration": 244, "time_this_iter_s": 47.991559743881226, "experiment_id": "4ad1a1b4498d471a9b029fd78d997061", "time_since_restore": 1957.3957242965698, "episode_len_mean": 751.0, "timesteps_this_iter": 85085, "custom_metrics": {"system_level_velocity_min": 7.086289482500003, "system_level_velocity_mean": 11.061865892723722, "system_level_velocity_max": 14.379206296034134, "outflow_rate_min": 690.7880181818181, "cost1_mean": 317.2568641495355, "cost2_min": -164.19874198947232, "outflow_rate_mean": 1002.3800051222477, "cost2_max": -90.88140143016331, "cost1_min": 197.31826194361653, "cost1_max": 406.102120207839, "cost2_mean": -130.717385924948, "outflow_rate_max": 1311.1738251073402}}
{"iterations_since_restore": 45, "timesteps_since_restore": 3658398, "episode_reward_min": 564.6030221342942, "time_total_s": 15428.89694404602, "node_ip": "10.138.0.2", "done": false, "episode_reward_mean": 729.5802915169664, "num_metric_batches_dropped": 0, "episodes_total": 14962, "date": "2019-05-09_15-58-05", "pid": 21505, "episode_reward_max": 875.9738168292624, "timesteps_total": 29145058, "hostname": "flow-main", "episodes_this_iter": 42, "config": {"horizon": 1500, "input": "sampler", "output_max_file_size": 67108864, "gamma": 0.99, "model": {"free_log_std": false, "squash_to_range": false, "fcnet_activation": "tanh", "grayscale": false, "dim": 84, "fcnet_hiddens": [128, 64, 32], "conv_filters": null, "custom_model": null, "conv_activation": "relu", "custom_options": {}, "use_lstm": false, "channel_major": false, "framestack": true, "lstm_use_prev_action_reward": false, "zero_mean": true, "max_seq_len": 20, "lstm_cell_size": 256, "custom_preprocessor": null}, "vf_share_layers": false, "lr_schedule": null, "compress_observations": false, "clip_rewards": null, "kl_target": 0.01, "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "callbacks": {"on_train_result": null, "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7f5e88017898>", "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7f5e880175f8>", "on_sample_end": null, "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7f5e880174a8>"}, "preprocessor_pref": "deepmind", "num_gpus": 0, "multiagent": {"policies_to_train": null, "policy_graphs": {}, "policy_mapping_fn": null}, "observation_filter": "MeanStdFilter", "num_workers": 30, "lr": 0.0005, "num_envs_per_worker": 1, "custom_resources_per_worker": {}, "vf_clip_param": 1000000.0, "vf_loss_coeff": 1.0, "log_level": "INFO", "tf_session_args": {"device_count": {"CPU": 1}, "log_device_placement": false, "gpu_options": {"allow_growth": true}, "intra_op_parallelism_threads": 2, "allow_soft_placement": true, "inter_op_parallelism_threads": 2}, "batch_mode": "truncate_episodes", "num_sgd_iter": 10, "output_compress_columns": ["obs", "new_obs"], "simple_optimizer": false, "env_config": {"run": "PPO", "flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.1,\n            \"eta3\": 0.1,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 7.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 0\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 700,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}"}, "entropy_coeff": 0.0, "sample_async": false, "lambda": 0.97, "monitor": false, "env": "MultiWaveAttenuationMergePOEnvBufferedObs-v0shortermeasure01:01:10", "clip_param": 0.3, "sample_batch_size": 750, "input_evaluation": null, "collect_metrics_timeout": 180, "sgd_minibatch_size": 128, "train_batch_size": 45000, "synchronize_filters": true, "kl_coeff": 0.2, "output": null, "num_cpus_for_driver": 1, "use_gae": true, "clip_actions": false, "num_cpus_per_worker": 1, "optimizer": {}, "num_gpus_per_worker": 0, "straggler_mitigation": false}, "timestamp": 1557417485, "info": {"num_steps_trained": 29145058, "default": {"cur_lr": 0.0005000000237487257, "kl": 0.016573363915085793, "vf_explained_var": 0.8946025967597961, "entropy": 2.1815080642700195, "total_loss": 13.895505905151367, "vf_loss": 13.905466079711914, "cur_kl_coeff": 0.6750000715255737, "policy_loss": -0.021146511659026146}, "load_time_ms": 39.476, "grad_time_ms": 19470.231, "sample_time_ms": 24764.51, "num_steps_sampled": 29145058, "update_time_ms": 8.966}, "policy_reward_mean": {}, "training_iteration": 245, "time_this_iter_s": 47.01377582550049, "experiment_id": "4ad1a1b4498d471a9b029fd78d997061", "time_since_restore": 2004.4095001220703, "episode_len_mean": 751.0, "timesteps_this_iter": 85645, "custom_metrics": {"system_level_velocity_min": 8.229775996543022, "system_level_velocity_mean": 10.693393073288131, "system_level_velocity_max": 14.379206296034134, "outflow_rate_min": 691.8602755220352, "cost1_mean": 306.3829890677105, "cost2_min": -158.15096095807812, "outflow_rate_mean": 966.9791216169901, "cost2_max": -98.9268571184174, "cost1_min": 233.00163197454765, "cost1_max": 404.2101363320684, "cost2_mean": -128.35331838046386, "outflow_rate_max": 1228.846412027692}}
{"iterations_since_restore": 46, "timesteps_since_restore": 3742885, "episode_reward_min": 67.04384584002597, "time_total_s": 15473.92962026596, "node_ip": "10.138.0.2", "done": false, "episode_reward_mean": 710.0687022983013, "num_metric_batches_dropped": 0, "episodes_total": 15006, "date": "2019-05-09_15-58-50", "pid": 21505, "episode_reward_max": 883.4150335870746, "timesteps_total": 29229545, "hostname": "flow-main", "episodes_this_iter": 44, "config": {"horizon": 1500, "input": "sampler", "output_max_file_size": 67108864, "gamma": 0.99, "model": {"free_log_std": false, "squash_to_range": false, "fcnet_activation": "tanh", "grayscale": false, "dim": 84, "fcnet_hiddens": [128, 64, 32], "conv_filters": null, "custom_model": null, "conv_activation": "relu", "custom_options": {}, "use_lstm": false, "channel_major": false, "framestack": true, "lstm_use_prev_action_reward": false, "zero_mean": true, "max_seq_len": 20, "lstm_cell_size": 256, "custom_preprocessor": null}, "vf_share_layers": false, "lr_schedule": null, "compress_observations": false, "clip_rewards": null, "kl_target": 0.01, "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "callbacks": {"on_train_result": null, "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7f5e88017908>", "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7f5e88017dd8>", "on_sample_end": null, "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7f5e88017f28>"}, "preprocessor_pref": "deepmind", "num_gpus": 0, "multiagent": {"policies_to_train": null, "policy_graphs": {}, "policy_mapping_fn": null}, "observation_filter": "MeanStdFilter", "num_workers": 30, "lr": 0.0005, "num_envs_per_worker": 1, "custom_resources_per_worker": {}, "vf_clip_param": 1000000.0, "vf_loss_coeff": 1.0, "log_level": "INFO", "tf_session_args": {"device_count": {"CPU": 1}, "log_device_placement": false, "gpu_options": {"allow_growth": true}, "intra_op_parallelism_threads": 2, "allow_soft_placement": true, "inter_op_parallelism_threads": 2}, "batch_mode": "truncate_episodes", "num_sgd_iter": 10, "output_compress_columns": ["obs", "new_obs"], "simple_optimizer": false, "env_config": {"run": "PPO", "flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.1,\n            \"eta3\": 0.1,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 7.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 0\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 700,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}"}, "entropy_coeff": 0.0, "sample_async": false, "lambda": 0.97, "monitor": false, "env": "MultiWaveAttenuationMergePOEnvBufferedObs-v0shortermeasure01:01:10", "clip_param": 0.3, "sample_batch_size": 750, "input_evaluation": null, "collect_metrics_timeout": 180, "sgd_minibatch_size": 128, "train_batch_size": 45000, "synchronize_filters": true, "kl_coeff": 0.2, "output": null, "num_cpus_for_driver": 1, "use_gae": true, "clip_actions": false, "num_cpus_per_worker": 1, "optimizer": {}, "num_gpus_per_worker": 0, "straggler_mitigation": false}, "timestamp": 1557417530, "info": {"num_steps_trained": 29229545, "default": {"cur_lr": 0.0005000000237487257, "kl": 0.016711372882127762, "vf_explained_var": 0.8826532363891602, "entropy": 2.174891710281372, "total_loss": 15.57108211517334, "vf_loss": 15.58121109008789, "cur_kl_coeff": 0.6750000715255737, "policy_loss": -0.02141050063073635}, "load_time_ms": 40.229, "grad_time_ms": 19518.81, "sample_time_ms": 24804.397, "num_steps_sampled": 29229545, "update_time_ms": 9.214}, "policy_reward_mean": {}, "training_iteration": 246, "time_this_iter_s": 45.032676219940186, "experiment_id": "4ad1a1b4498d471a9b029fd78d997061", "time_since_restore": 2049.4421763420105, "episode_len_mean": 739.54, "timesteps_this_iter": 84487, "custom_metrics": {"system_level_velocity_min": 6.175179490640503, "system_level_velocity_mean": 10.52876465705056, "system_level_velocity_max": 13.803036212745523, "outflow_rate_min": 252.10029028926027, "cost1_mean": 296.3212407905741, "cost2_min": -153.0648997414022, "outflow_rate_mean": 943.5675869149619, "cost2_max": -53.0198498878063, "cost1_min": 49.551154157438106, "cost1_max": 372.2899475815498, "cost2_mean": -126.65719076687186, "outflow_rate_max": 1194.8370669415744}}
{"iterations_since_restore": 47, "timesteps_since_restore": 3826236, "episode_reward_min": 67.04384584002597, "time_total_s": 15518.18108177185, "node_ip": "10.138.0.2", "done": false, "episode_reward_mean": 706.8257208146246, "num_metric_batches_dropped": 0, "episodes_total": 15050, "date": "2019-05-09_15-59-34", "pid": 21505, "episode_reward_max": 883.4150335870746, "timesteps_total": 29312896, "hostname": "flow-main", "episodes_this_iter": 44, "config": {"horizon": 1500, "input": "sampler", "output_max_file_size": 67108864, "gamma": 0.99, "model": {"free_log_std": false, "squash_to_range": false, "fcnet_activation": "tanh", "grayscale": false, "dim": 84, "fcnet_hiddens": [128, 64, 32], "conv_filters": null, "custom_model": null, "conv_activation": "relu", "custom_options": {}, "use_lstm": false, "channel_major": false, "framestack": true, "lstm_use_prev_action_reward": false, "zero_mean": true, "max_seq_len": 20, "lstm_cell_size": 256, "custom_preprocessor": null}, "vf_share_layers": false, "lr_schedule": null, "compress_observations": false, "clip_rewards": null, "kl_target": 0.01, "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "callbacks": {"on_train_result": null, "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7f5e88017b00>", "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7f5e88017048>", "on_sample_end": null, "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7f5e88017160>"}, "preprocessor_pref": "deepmind", "num_gpus": 0, "multiagent": {"policies_to_train": null, "policy_graphs": {}, "policy_mapping_fn": null}, "observation_filter": "MeanStdFilter", "num_workers": 30, "lr": 0.0005, "num_envs_per_worker": 1, "custom_resources_per_worker": {}, "vf_clip_param": 1000000.0, "vf_loss_coeff": 1.0, "log_level": "INFO", "tf_session_args": {"device_count": {"CPU": 1}, "log_device_placement": false, "gpu_options": {"allow_growth": true}, "intra_op_parallelism_threads": 2, "allow_soft_placement": true, "inter_op_parallelism_threads": 2}, "batch_mode": "truncate_episodes", "num_sgd_iter": 10, "output_compress_columns": ["obs", "new_obs"], "simple_optimizer": false, "env_config": {"run": "PPO", "flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.1,\n            \"eta3\": 0.1,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 7.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 0\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 700,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}"}, "entropy_coeff": 0.0, "sample_async": false, "lambda": 0.97, "monitor": false, "env": "MultiWaveAttenuationMergePOEnvBufferedObs-v0shortermeasure01:01:10", "clip_param": 0.3, "sample_batch_size": 750, "input_evaluation": null, "collect_metrics_timeout": 180, "sgd_minibatch_size": 128, "train_batch_size": 45000, "synchronize_filters": true, "kl_coeff": 0.2, "output": null, "num_cpus_for_driver": 1, "use_gae": true, "clip_actions": false, "num_cpus_per_worker": 1, "optimizer": {}, "num_gpus_per_worker": 0, "straggler_mitigation": false}, "timestamp": 1557417574, "info": {"num_steps_trained": 29312896, "default": {"cur_lr": 0.0005000000237487257, "kl": 0.016941633075475693, "vf_explained_var": 0.8720480799674988, "entropy": 2.169462203979492, "total_loss": 16.631690979003906, "vf_loss": 16.641935348510742, "cur_kl_coeff": 0.6750000715255737, "policy_loss": -0.021677806973457336}, "load_time_ms": 40.793, "grad_time_ms": 19642.44, "sample_time_ms": 24939.424, "num_steps_sampled": 29312896, "update_time_ms": 9.283}, "policy_reward_mean": {}, "training_iteration": 247, "time_this_iter_s": 44.25146150588989, "experiment_id": "4ad1a1b4498d471a9b029fd78d997061", "time_since_restore": 2093.6936378479004, "episode_len_mean": 730.03, "timesteps_this_iter": 83351, "custom_metrics": {"system_level_velocity_min": 6.175179490640503, "system_level_velocity_mean": 10.569655609307711, "system_level_velocity_max": 13.803036212745523, "outflow_rate_min": 252.10029028926027, "cost1_mean": 293.28217093547477, "cost2_min": -151.69906417444923, "outflow_rate_mean": 939.6117847363606, "cost2_max": -53.0198498878063, "cost1_min": 49.551154157438106, "cost1_max": 372.2899475815498, "cost2_mean": -124.65142055796508, "outflow_rate_max": 1194.8370669415744}}
{"iterations_since_restore": 48, "timesteps_since_restore": 3911359, "episode_reward_min": 87.64682364700853, "time_total_s": 15563.87358045578, "node_ip": "10.138.0.2", "done": false, "episode_reward_mean": 725.9592753500193, "num_metric_batches_dropped": 0, "episodes_total": 15092, "date": "2019-05-09_16-00-20", "pid": 21505, "episode_reward_max": 868.844872779143, "timesteps_total": 29398019, "hostname": "flow-main", "episodes_this_iter": 42, "config": {"horizon": 1500, "input": "sampler", "output_max_file_size": 67108864, "gamma": 0.99, "model": {"free_log_std": false, "squash_to_range": false, "fcnet_activation": "tanh", "grayscale": false, "dim": 84, "fcnet_hiddens": [128, 64, 32], "conv_filters": null, "custom_model": null, "conv_activation": "relu", "custom_options": {}, "use_lstm": false, "channel_major": false, "framestack": true, "lstm_use_prev_action_reward": false, "zero_mean": true, "max_seq_len": 20, "lstm_cell_size": 256, "custom_preprocessor": null}, "vf_share_layers": false, "lr_schedule": null, "compress_observations": false, "clip_rewards": null, "kl_target": 0.01, "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "callbacks": {"on_train_result": null, "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7f5e88017f98>", "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7f5e88017c50>", "on_sample_end": null, "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7f5e88017f60>"}, "preprocessor_pref": "deepmind", "num_gpus": 0, "multiagent": {"policies_to_train": null, "policy_graphs": {}, "policy_mapping_fn": null}, "observation_filter": "MeanStdFilter", "num_workers": 30, "lr": 0.0005, "num_envs_per_worker": 1, "custom_resources_per_worker": {}, "vf_clip_param": 1000000.0, "vf_loss_coeff": 1.0, "log_level": "INFO", "tf_session_args": {"device_count": {"CPU": 1}, "log_device_placement": false, "gpu_options": {"allow_growth": true}, "intra_op_parallelism_threads": 2, "allow_soft_placement": true, "inter_op_parallelism_threads": 2}, "batch_mode": "truncate_episodes", "num_sgd_iter": 10, "output_compress_columns": ["obs", "new_obs"], "simple_optimizer": false, "env_config": {"run": "PPO", "flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.1,\n            \"eta3\": 0.1,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 7.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 0\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 700,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}"}, "entropy_coeff": 0.0, "sample_async": false, "lambda": 0.97, "monitor": false, "env": "MultiWaveAttenuationMergePOEnvBufferedObs-v0shortermeasure01:01:10", "clip_param": 0.3, "sample_batch_size": 750, "input_evaluation": null, "collect_metrics_timeout": 180, "sgd_minibatch_size": 128, "train_batch_size": 45000, "synchronize_filters": true, "kl_coeff": 0.2, "output": null, "num_cpus_for_driver": 1, "use_gae": true, "clip_actions": false, "num_cpus_per_worker": 1, "optimizer": {}, "num_gpus_per_worker": 0, "straggler_mitigation": false}, "timestamp": 1557417620, "info": {"num_steps_trained": 29398019, "default": {"cur_lr": 0.0005000000237487257, "kl": 0.016512291505932808, "vf_explained_var": 0.8727697730064392, "entropy": 2.175373077392578, "total_loss": 15.69151496887207, "vf_loss": 15.700907707214355, "cur_kl_coeff": 0.6750000715255737, "policy_loss": -0.02053673006594181}, "load_time_ms": 41.156, "grad_time_ms": 19797.75, "sample_time_ms": 25147.83, "num_steps_sampled": 29398019, "update_time_ms": 9.137}, "policy_reward_mean": {}, "training_iteration": 248, "time_this_iter_s": 45.69249868392944, "experiment_id": "4ad1a1b4498d471a9b029fd78d997061", "time_since_restore": 2139.38613653183, "episode_len_mean": 741.49, "timesteps_this_iter": 85123, "custom_metrics": {"system_level_velocity_min": 7.798508580433829, "system_level_velocity_mean": 10.668677453687435, "system_level_velocity_max": 13.076418685731959, "outflow_rate_min": 269.26730634442356, "cost1_mean": 301.3843288656635, "cost2_min": -154.46265453363725, "outflow_rate_mean": 957.1758465779794, "cost2_max": -72.47199281444593, "cost1_min": 60.22954848145353, "cost1_max": 375.0219318375829, "cost2_mean": -125.97369387294165, "outflow_rate_max": 1194.8370669415744}}
{"iterations_since_restore": 49, "timesteps_since_restore": 3995887, "episode_reward_min": 87.64682364700853, "time_total_s": 15610.295551776886, "node_ip": "10.138.0.2", "done": false, "episode_reward_mean": 727.3226903667352, "num_metric_batches_dropped": 0, "episodes_total": 15135, "date": "2019-05-09_16-01-07", "pid": 21505, "episode_reward_max": 885.6585632865331, "timesteps_total": 29482547, "hostname": "flow-main", "episodes_this_iter": 43, "config": {"horizon": 1500, "input": "sampler", "output_max_file_size": 67108864, "gamma": 0.99, "model": {"free_log_std": false, "squash_to_range": false, "fcnet_activation": "tanh", "grayscale": false, "dim": 84, "fcnet_hiddens": [128, 64, 32], "conv_filters": null, "custom_model": null, "conv_activation": "relu", "custom_options": {}, "use_lstm": false, "channel_major": false, "framestack": true, "lstm_use_prev_action_reward": false, "zero_mean": true, "max_seq_len": 20, "lstm_cell_size": 256, "custom_preprocessor": null}, "vf_share_layers": false, "lr_schedule": null, "compress_observations": false, "clip_rewards": null, "kl_target": 0.01, "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "callbacks": {"on_train_result": null, "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7f5e88017fd0>", "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7f5e88017cf8>", "on_sample_end": null, "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7f5e88017080>"}, "preprocessor_pref": "deepmind", "num_gpus": 0, "multiagent": {"policies_to_train": null, "policy_graphs": {}, "policy_mapping_fn": null}, "observation_filter": "MeanStdFilter", "num_workers": 30, "lr": 0.0005, "num_envs_per_worker": 1, "custom_resources_per_worker": {}, "vf_clip_param": 1000000.0, "vf_loss_coeff": 1.0, "log_level": "INFO", "tf_session_args": {"device_count": {"CPU": 1}, "log_device_placement": false, "gpu_options": {"allow_growth": true}, "intra_op_parallelism_threads": 2, "allow_soft_placement": true, "inter_op_parallelism_threads": 2}, "batch_mode": "truncate_episodes", "num_sgd_iter": 10, "output_compress_columns": ["obs", "new_obs"], "simple_optimizer": false, "env_config": {"run": "PPO", "flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.1,\n            \"eta3\": 0.1,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 7.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 0\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 700,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}"}, "entropy_coeff": 0.0, "sample_async": false, "lambda": 0.97, "monitor": false, "env": "MultiWaveAttenuationMergePOEnvBufferedObs-v0shortermeasure01:01:10", "clip_param": 0.3, "sample_batch_size": 750, "input_evaluation": null, "collect_metrics_timeout": 180, "sgd_minibatch_size": 128, "train_batch_size": 45000, "synchronize_filters": true, "kl_coeff": 0.2, "output": null, "num_cpus_for_driver": 1, "use_gae": true, "clip_actions": false, "num_cpus_per_worker": 1, "optimizer": {}, "num_gpus_per_worker": 0, "straggler_mitigation": false}, "timestamp": 1557417667, "info": {"num_steps_trained": 29482547, "default": {"cur_lr": 0.0005000000237487257, "kl": 0.016040895134210587, "vf_explained_var": 0.8870846033096313, "entropy": 2.1554791927337646, "total_loss": 14.979033470153809, "vf_loss": 14.989191055297852, "cur_kl_coeff": 0.6750000715255737, "policy_loss": -0.020985811948776245}, "load_time_ms": 40.785, "grad_time_ms": 19855.255, "sample_time_ms": 25428.312, "num_steps_sampled": 29482547, "update_time_ms": 9.286}, "policy_reward_mean": {}, "training_iteration": 249, "time_this_iter_s": 46.42197132110596, "experiment_id": "4ad1a1b4498d471a9b029fd78d997061", "time_since_restore": 2185.808107852936, "episode_len_mean": 736.16, "timesteps_this_iter": 84528, "custom_metrics": {"system_level_velocity_min": 7.798508580433829, "system_level_velocity_mean": 10.763956158265547, "system_level_velocity_max": 13.116899151919394, "outflow_rate_min": 269.26730634442356, "cost1_mean": 301.67498601000693, "cost2_min": -167.02865660682602, "outflow_rate_mean": 957.3033018957607, "cost2_max": -72.47199281444593, "cost1_min": 60.22954848145353, "cost1_max": 376.86274387768907, "cost2_mean": -129.54918610108496, "outflow_rate_max": 1181.7647326569643}}
{"iterations_since_restore": 50, "timesteps_since_restore": 4080541, "episode_reward_min": 212.35718252463755, "time_total_s": 15657.04796051979, "node_ip": "10.138.0.2", "done": false, "episode_reward_mean": 742.515733953278, "num_metric_batches_dropped": 0, "episodes_total": 15177, "date": "2019-05-09_16-01-53", "pid": 21505, "episode_reward_max": 926.0181357295203, "timesteps_total": 29567201, "hostname": "flow-main", "episodes_this_iter": 42, "config": {"horizon": 1500, "input": "sampler", "output_max_file_size": 67108864, "gamma": 0.99, "model": {"free_log_std": false, "squash_to_range": false, "fcnet_activation": "tanh", "grayscale": false, "dim": 84, "fcnet_hiddens": [128, 64, 32], "conv_filters": null, "custom_model": null, "conv_activation": "relu", "custom_options": {}, "use_lstm": false, "channel_major": false, "framestack": true, "lstm_use_prev_action_reward": false, "zero_mean": true, "max_seq_len": 20, "lstm_cell_size": 256, "custom_preprocessor": null}, "vf_share_layers": false, "lr_schedule": null, "compress_observations": false, "clip_rewards": null, "kl_target": 0.01, "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "callbacks": {"on_train_result": null, "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7f5e88017f60>", "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7f5e88017c50>", "on_sample_end": null, "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7f5e88017e10>"}, "preprocessor_pref": "deepmind", "num_gpus": 0, "multiagent": {"policies_to_train": null, "policy_graphs": {}, "policy_mapping_fn": null}, "observation_filter": "MeanStdFilter", "num_workers": 30, "lr": 0.0005, "num_envs_per_worker": 1, "custom_resources_per_worker": {}, "vf_clip_param": 1000000.0, "vf_loss_coeff": 1.0, "log_level": "INFO", "tf_session_args": {"device_count": {"CPU": 1}, "log_device_placement": false, "gpu_options": {"allow_growth": true}, "intra_op_parallelism_threads": 2, "allow_soft_placement": true, "inter_op_parallelism_threads": 2}, "batch_mode": "truncate_episodes", "num_sgd_iter": 10, "output_compress_columns": ["obs", "new_obs"], "simple_optimizer": false, "env_config": {"run": "PPO", "flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.1,\n            \"eta3\": 0.1,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 7.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 0\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 700,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}"}, "entropy_coeff": 0.0, "sample_async": false, "lambda": 0.97, "monitor": false, "env": "MultiWaveAttenuationMergePOEnvBufferedObs-v0shortermeasure01:01:10", "clip_param": 0.3, "sample_batch_size": 750, "input_evaluation": null, "collect_metrics_timeout": 180, "sgd_minibatch_size": 128, "train_batch_size": 45000, "synchronize_filters": true, "kl_coeff": 0.2, "output": null, "num_cpus_for_driver": 1, "use_gae": true, "clip_actions": false, "num_cpus_per_worker": 1, "optimizer": {}, "num_gpus_per_worker": 0, "straggler_mitigation": false}, "timestamp": 1557417713, "info": {"num_steps_trained": 29567201, "default": {"cur_lr": 0.0005000000237487257, "kl": 0.016293654218316078, "vf_explained_var": 0.892528235912323, "entropy": 2.153362274169922, "total_loss": 14.695158958435059, "vf_loss": 14.707098960876465, "cur_kl_coeff": 0.6750000715255737, "policy_loss": -0.022940583527088165}, "load_time_ms": 40.396, "grad_time_ms": 19997.667, "sample_time_ms": 25612.261, "num_steps_sampled": 29567201, "update_time_ms": 9.054}, "policy_reward_mean": {}, "training_iteration": 250, "time_this_iter_s": 46.75240874290466, "experiment_id": "4ad1a1b4498d471a9b029fd78d997061", "time_since_restore": 2232.5605165958405, "episode_len_mean": 745.67, "timesteps_this_iter": 84654, "custom_metrics": {"system_level_velocity_min": 7.798508580433829, "system_level_velocity_mean": 10.93607364056853, "system_level_velocity_max": 13.724974091590246, "outflow_rate_min": 397.00120844615174, "cost1_mean": 310.76823700377446, "cost2_min": -167.02865660682602, "outflow_rate_mean": 984.0666980267957, "cost2_max": -85.28416250338796, "cost1_min": 109.13622398086832, "cost1_max": 395.374643030642, "cost2_mean": -133.67657447820892, "outflow_rate_max": 1233.6027881671093}}
{"iterations_since_restore": 51, "timesteps_since_restore": 4163740, "episode_reward_min": 212.35718252463755, "time_total_s": 15703.914400577545, "node_ip": "10.138.0.2", "done": false, "episode_reward_mean": 742.2615613996308, "num_metric_batches_dropped": 0, "episodes_total": 15219, "date": "2019-05-09_16-02-40", "pid": 21505, "episode_reward_max": 926.0181357295203, "timesteps_total": 29650400, "hostname": "flow-main", "episodes_this_iter": 42, "config": {"horizon": 1500, "input": "sampler", "output_max_file_size": 67108864, "gamma": 0.99, "model": {"free_log_std": false, "squash_to_range": false, "fcnet_activation": "tanh", "grayscale": false, "dim": 84, "fcnet_hiddens": [128, 64, 32], "conv_filters": null, "custom_model": null, "conv_activation": "relu", "custom_options": {}, "use_lstm": false, "channel_major": false, "framestack": true, "lstm_use_prev_action_reward": false, "zero_mean": true, "max_seq_len": 20, "lstm_cell_size": 256, "custom_preprocessor": null}, "vf_share_layers": false, "lr_schedule": null, "compress_observations": false, "clip_rewards": null, "kl_target": 0.01, "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "callbacks": {"on_train_result": null, "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7f5e880171d0>", "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7f5e88017588>", "on_sample_end": null, "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7f5e880174e0>"}, "preprocessor_pref": "deepmind", "num_gpus": 0, "multiagent": {"policies_to_train": null, "policy_graphs": {}, "policy_mapping_fn": null}, "observation_filter": "MeanStdFilter", "num_workers": 30, "lr": 0.0005, "num_envs_per_worker": 1, "custom_resources_per_worker": {}, "vf_clip_param": 1000000.0, "vf_loss_coeff": 1.0, "log_level": "INFO", "tf_session_args": {"device_count": {"CPU": 1}, "log_device_placement": false, "gpu_options": {"allow_growth": true}, "intra_op_parallelism_threads": 2, "allow_soft_placement": true, "inter_op_parallelism_threads": 2}, "batch_mode": "truncate_episodes", "num_sgd_iter": 10, "output_compress_columns": ["obs", "new_obs"], "simple_optimizer": false, "env_config": {"run": "PPO", "flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.1,\n            \"eta3\": 0.1,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 7.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 0\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 700,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}"}, "entropy_coeff": 0.0, "sample_async": false, "lambda": 0.97, "monitor": false, "env": "MultiWaveAttenuationMergePOEnvBufferedObs-v0shortermeasure01:01:10", "clip_param": 0.3, "sample_batch_size": 750, "input_evaluation": null, "collect_metrics_timeout": 180, "sgd_minibatch_size": 128, "train_batch_size": 45000, "synchronize_filters": true, "kl_coeff": 0.2, "output": null, "num_cpus_for_driver": 1, "use_gae": true, "clip_actions": false, "num_cpus_per_worker": 1, "optimizer": {}, "num_gpus_per_worker": 0, "straggler_mitigation": false}, "timestamp": 1557417760, "info": {"num_steps_trained": 29650400, "default": {"cur_lr": 0.0005000000237487257, "kl": 0.016359638422727585, "vf_explained_var": 0.890239953994751, "entropy": 2.164001226425171, "total_loss": 14.513481140136719, "vf_loss": 14.524036407470703, "cur_kl_coeff": 0.6750001311302185, "policy_loss": -0.021597612649202347}, "load_time_ms": 39.918, "grad_time_ms": 20146.552, "sample_time_ms": 25595.435, "num_steps_sampled": 29650400, "update_time_ms": 9.058}, "policy_reward_mean": {}, "training_iteration": 251, "time_this_iter_s": 46.86644005775452, "experiment_id": "4ad1a1b4498d471a9b029fd78d997061", "time_since_restore": 2279.426956653595, "episode_len_mean": 745.67, "timesteps_this_iter": 83199, "custom_metrics": {"system_level_velocity_min": 8.221189034470015, "system_level_velocity_mean": 10.996805484761607, "system_level_velocity_max": 13.724974091590246, "outflow_rate_min": 397.00120844615174, "cost1_mean": 312.4058258348444, "cost2_min": -163.07980261947685, "outflow_rate_mean": 990.5824276204628, "cost2_max": -85.28416250338796, "cost1_min": 109.13622398086832, "cost1_max": 395.374643030642, "cost2_mean": -134.94067361969076, "outflow_rate_max": 1233.6027881671093}}
{"iterations_since_restore": 52, "timesteps_since_restore": 4246071, "episode_reward_min": 209.05583285023366, "time_total_s": 15750.283527374268, "node_ip": "10.138.0.2", "done": false, "episode_reward_mean": 743.6841276808855, "num_metric_batches_dropped": 0, "episodes_total": 15262, "date": "2019-05-09_16-03-27", "pid": 21505, "episode_reward_max": 923.2031780896357, "timesteps_total": 29732731, "hostname": "flow-main", "episodes_this_iter": 43, "config": {"horizon": 1500, "input": "sampler", "output_max_file_size": 67108864, "gamma": 0.99, "model": {"free_log_std": false, "squash_to_range": false, "fcnet_activation": "tanh", "grayscale": false, "dim": 84, "fcnet_hiddens": [128, 64, 32], "conv_filters": null, "custom_model": null, "conv_activation": "relu", "custom_options": {}, "use_lstm": false, "channel_major": false, "framestack": true, "lstm_use_prev_action_reward": false, "zero_mean": true, "max_seq_len": 20, "lstm_cell_size": 256, "custom_preprocessor": null}, "vf_share_layers": false, "lr_schedule": null, "compress_observations": false, "clip_rewards": null, "kl_target": 0.01, "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "callbacks": {"on_train_result": null, "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7f5e87d5ee10>", "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7f5e87d5ee48>", "on_sample_end": null, "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7f5e87d5ef98>"}, "preprocessor_pref": "deepmind", "num_gpus": 0, "multiagent": {"policies_to_train": null, "policy_graphs": {}, "policy_mapping_fn": null}, "observation_filter": "MeanStdFilter", "num_workers": 30, "lr": 0.0005, "num_envs_per_worker": 1, "custom_resources_per_worker": {}, "vf_clip_param": 1000000.0, "vf_loss_coeff": 1.0, "log_level": "INFO", "tf_session_args": {"device_count": {"CPU": 1}, "log_device_placement": false, "gpu_options": {"allow_growth": true}, "intra_op_parallelism_threads": 2, "allow_soft_placement": true, "inter_op_parallelism_threads": 2}, "batch_mode": "truncate_episodes", "num_sgd_iter": 10, "output_compress_columns": ["obs", "new_obs"], "simple_optimizer": false, "env_config": {"run": "PPO", "flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.1,\n            \"eta3\": 0.1,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 7.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 0\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 700,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}"}, "entropy_coeff": 0.0, "sample_async": false, "lambda": 0.97, "monitor": false, "env": "MultiWaveAttenuationMergePOEnvBufferedObs-v0shortermeasure01:01:10", "clip_param": 0.3, "sample_batch_size": 750, "input_evaluation": null, "collect_metrics_timeout": 180, "sgd_minibatch_size": 128, "train_batch_size": 45000, "synchronize_filters": true, "kl_coeff": 0.2, "output": null, "num_cpus_for_driver": 1, "use_gae": true, "clip_actions": false, "num_cpus_per_worker": 1, "optimizer": {}, "num_gpus_per_worker": 0, "straggler_mitigation": false}, "timestamp": 1557417807, "info": {"num_steps_trained": 29732731, "default": {"cur_lr": 0.0005000000237487257, "kl": 0.017061147838830948, "vf_explained_var": 0.8761277794837952, "entropy": 2.1624200344085693, "total_loss": 17.013301849365234, "vf_loss": 17.0239200592041, "cur_kl_coeff": 0.6750000715255737, "policy_loss": -0.022134406492114067}, "load_time_ms": 39.88, "grad_time_ms": 20356.434, "sample_time_ms": 25535.432, "num_steps_sampled": 29732731, "update_time_ms": 9.129}, "policy_reward_mean": {}, "training_iteration": 252, "time_this_iter_s": 46.36912679672241, "experiment_id": "4ad1a1b4498d471a9b029fd78d997061", "time_since_restore": 2325.7960834503174, "episode_len_mean": 745.67, "timesteps_this_iter": 82331, "custom_metrics": {"system_level_velocity_min": 6.49344790071789, "system_level_velocity_mean": 11.144088992161976, "system_level_velocity_max": 13.465842173532032, "outflow_rate_min": 400.36205117342746, "cost1_mean": 316.3494051415832, "cost2_min": -159.35757672354788, "outflow_rate_mean": 1002.8184727587904, "cost2_max": -89.12722757940058, "cost1_min": 109.58145263398592, "cost1_max": 388.64124613699596, "cost2_mean": -134.91937543512216, "outflow_rate_max": 1219.162242743935}}
{"iterations_since_restore": 53, "timesteps_since_restore": 4329594, "episode_reward_min": 209.05583285023366, "time_total_s": 15795.400393486023, "node_ip": "10.138.0.2", "done": false, "episode_reward_mean": 742.3173796667173, "num_metric_batches_dropped": 0, "episodes_total": 15304, "date": "2019-05-09_16-04-12", "pid": 21505, "episode_reward_max": 923.2031780896357, "timesteps_total": 29816254, "hostname": "flow-main", "episodes_this_iter": 42, "config": {"horizon": 1500, "input": "sampler", "output_max_file_size": 67108864, "gamma": 0.99, "model": {"free_log_std": false, "squash_to_range": false, "fcnet_activation": "tanh", "grayscale": false, "dim": 84, "fcnet_hiddens": [128, 64, 32], "conv_filters": null, "custom_model": null, "conv_activation": "relu", "custom_options": {}, "use_lstm": false, "channel_major": false, "framestack": true, "lstm_use_prev_action_reward": false, "zero_mean": true, "max_seq_len": 20, "lstm_cell_size": 256, "custom_preprocessor": null}, "vf_share_layers": false, "lr_schedule": null, "compress_observations": false, "clip_rewards": null, "kl_target": 0.01, "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "callbacks": {"on_train_result": null, "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7f5e88017828>", "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7f5e88017198>", "on_sample_end": null, "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7f5e88017cf8>"}, "preprocessor_pref": "deepmind", "num_gpus": 0, "multiagent": {"policies_to_train": null, "policy_graphs": {}, "policy_mapping_fn": null}, "observation_filter": "MeanStdFilter", "num_workers": 30, "lr": 0.0005, "num_envs_per_worker": 1, "custom_resources_per_worker": {}, "vf_clip_param": 1000000.0, "vf_loss_coeff": 1.0, "log_level": "INFO", "tf_session_args": {"device_count": {"CPU": 1}, "log_device_placement": false, "gpu_options": {"allow_growth": true}, "intra_op_parallelism_threads": 2, "allow_soft_placement": true, "inter_op_parallelism_threads": 2}, "batch_mode": "truncate_episodes", "num_sgd_iter": 10, "output_compress_columns": ["obs", "new_obs"], "simple_optimizer": false, "env_config": {"run": "PPO", "flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.1,\n            \"eta3\": 0.1,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 7.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 0\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 700,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}"}, "entropy_coeff": 0.0, "sample_async": false, "lambda": 0.97, "monitor": false, "env": "MultiWaveAttenuationMergePOEnvBufferedObs-v0shortermeasure01:01:10", "clip_param": 0.3, "sample_batch_size": 750, "input_evaluation": null, "collect_metrics_timeout": 180, "sgd_minibatch_size": 128, "train_batch_size": 45000, "synchronize_filters": true, "kl_coeff": 0.2, "output": null, "num_cpus_for_driver": 1, "use_gae": true, "clip_actions": false, "num_cpus_per_worker": 1, "optimizer": {}, "num_gpus_per_worker": 0, "straggler_mitigation": false}, "timestamp": 1557417852, "info": {"num_steps_trained": 29816254, "default": {"cur_lr": 0.0005000000237487257, "kl": 0.016713514924049377, "vf_explained_var": 0.8752951622009277, "entropy": 2.1828107833862305, "total_loss": 16.314952850341797, "vf_loss": 16.32564353942871, "cur_kl_coeff": 0.6750001311302185, "policy_loss": -0.02197130210697651}, "load_time_ms": 39.224, "grad_time_ms": 20648.114, "sample_time_ms": 25280.164, "num_steps_sampled": 29816254, "update_time_ms": 9.243}, "policy_reward_mean": {}, "training_iteration": 253, "time_this_iter_s": 45.11686611175537, "experiment_id": "4ad1a1b4498d471a9b029fd78d997061", "time_since_restore": 2370.9129495620728, "episode_len_mean": 745.67, "timesteps_this_iter": 83523, "custom_metrics": {"system_level_velocity_min": 6.49344790071789, "system_level_velocity_mean": 11.087627615887103, "system_level_velocity_max": 13.465842173532032, "outflow_rate_min": 400.36205117342746, "cost1_mean": 314.70627759377726, "cost2_min": -159.35757672354788, "outflow_rate_mean": 998.2763610804157, "cost2_max": -89.12722757940058, "cost1_min": 109.58145263398592, "cost1_max": 388.64124613699596, "cost2_mean": -133.63993562470483, "outflow_rate_max": 1219.162242743935}}
{"iterations_since_restore": 54, "timesteps_since_restore": 4412309, "episode_reward_min": 363.48827305473884, "time_total_s": 15842.258317232132, "node_ip": "10.138.0.2", "done": false, "episode_reward_mean": 740.6865056380105, "num_metric_batches_dropped": 0, "episodes_total": 15347, "date": "2019-05-09_16-04-59", "pid": 21505, "episode_reward_max": 923.2031780896357, "timesteps_total": 29898969, "hostname": "flow-main", "episodes_this_iter": 43, "config": {"horizon": 1500, "input": "sampler", "output_max_file_size": 67108864, "gamma": 0.99, "model": {"free_log_std": false, "squash_to_range": false, "fcnet_activation": "tanh", "grayscale": false, "dim": 84, "fcnet_hiddens": [128, 64, 32], "conv_filters": null, "custom_model": null, "conv_activation": "relu", "custom_options": {}, "use_lstm": false, "channel_major": false, "framestack": true, "lstm_use_prev_action_reward": false, "zero_mean": true, "max_seq_len": 20, "lstm_cell_size": 256, "custom_preprocessor": null}, "vf_share_layers": false, "lr_schedule": null, "compress_observations": false, "clip_rewards": null, "kl_target": 0.01, "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "callbacks": {"on_train_result": null, "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7f5e88010ac8>", "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7f5e87d5ea20>", "on_sample_end": null, "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7f5e88010ba8>"}, "preprocessor_pref": "deepmind", "num_gpus": 0, "multiagent": {"policies_to_train": null, "policy_graphs": {}, "policy_mapping_fn": null}, "observation_filter": "MeanStdFilter", "num_workers": 30, "lr": 0.0005, "num_envs_per_worker": 1, "custom_resources_per_worker": {}, "vf_clip_param": 1000000.0, "vf_loss_coeff": 1.0, "log_level": "INFO", "tf_session_args": {"device_count": {"CPU": 1}, "log_device_placement": false, "gpu_options": {"allow_growth": true}, "intra_op_parallelism_threads": 2, "allow_soft_placement": true, "inter_op_parallelism_threads": 2}, "batch_mode": "truncate_episodes", "num_sgd_iter": 10, "output_compress_columns": ["obs", "new_obs"], "simple_optimizer": false, "env_config": {"run": "PPO", "flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.1,\n            \"eta3\": 0.1,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 7.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 0\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 700,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}"}, "entropy_coeff": 0.0, "sample_async": false, "lambda": 0.97, "monitor": false, "env": "MultiWaveAttenuationMergePOEnvBufferedObs-v0shortermeasure01:01:10", "clip_param": 0.3, "sample_batch_size": 750, "input_evaluation": null, "collect_metrics_timeout": 180, "sgd_minibatch_size": 128, "train_batch_size": 45000, "synchronize_filters": true, "kl_coeff": 0.2, "output": null, "num_cpus_for_driver": 1, "use_gae": true, "clip_actions": false, "num_cpus_per_worker": 1, "optimizer": {}, "num_gpus_per_worker": 0, "straggler_mitigation": false}, "timestamp": 1557417899, "info": {"num_steps_trained": 29898969, "default": {"cur_lr": 0.0005000000237487257, "kl": 0.016528630629181862, "vf_explained_var": 0.8665903806686401, "entropy": 2.174978256225586, "total_loss": 16.177236557006836, "vf_loss": 16.18886375427246, "cur_kl_coeff": 0.6750000715255737, "policy_loss": -0.022783394902944565}, "load_time_ms": 38.828, "grad_time_ms": 20730.252, "sample_time_ms": 25090.709, "num_steps_sampled": 29898969, "update_time_ms": 9.212}, "policy_reward_mean": {}, "training_iteration": 254, "time_this_iter_s": 46.85792374610901, "experiment_id": "4ad1a1b4498d471a9b029fd78d997061", "time_since_restore": 2417.7708733081818, "episode_len_mean": 746.69, "timesteps_this_iter": 82715, "custom_metrics": {"system_level_velocity_min": 7.289057902914291, "system_level_velocity_mean": 10.903625394226388, "system_level_velocity_max": 14.230951181529381, "outflow_rate_min": 581.2627514490201, "cost1_mean": 309.9054714187191, "cost2_min": -163.96752486845352, "outflow_rate_mean": 983.7174217132954, "cost2_max": -94.24603194228045, "cost1_min": 173.75784301452077, "cost1_max": 388.64124613699596, "cost2_mean": -131.3929331755881, "outflow_rate_max": 1219.162242743935}}
{"iterations_since_restore": 55, "timesteps_since_restore": 4494178, "episode_reward_min": 363.48827305473884, "time_total_s": 15885.445538759232, "node_ip": "10.138.0.2", "done": false, "episode_reward_mean": 735.6428281968768, "num_metric_batches_dropped": 0, "episodes_total": 15390, "date": "2019-05-09_16-05-42", "pid": 21505, "episode_reward_max": 876.6429675052335, "timesteps_total": 29980838, "hostname": "flow-main", "episodes_this_iter": 43, "config": {"horizon": 1500, "input": "sampler", "output_max_file_size": 67108864, "gamma": 0.99, "model": {"free_log_std": false, "squash_to_range": false, "fcnet_activation": "tanh", "grayscale": false, "dim": 84, "fcnet_hiddens": [128, 64, 32], "conv_filters": null, "custom_model": null, "conv_activation": "relu", "custom_options": {}, "use_lstm": false, "channel_major": false, "framestack": true, "lstm_use_prev_action_reward": false, "zero_mean": true, "max_seq_len": 20, "lstm_cell_size": 256, "custom_preprocessor": null}, "vf_share_layers": false, "lr_schedule": null, "compress_observations": false, "clip_rewards": null, "kl_target": 0.01, "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "callbacks": {"on_train_result": null, "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7f5e88017860>", "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7f5e88017470>", "on_sample_end": null, "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7f5e88017b00>"}, "preprocessor_pref": "deepmind", "num_gpus": 0, "multiagent": {"policies_to_train": null, "policy_graphs": {}, "policy_mapping_fn": null}, "observation_filter": "MeanStdFilter", "num_workers": 30, "lr": 0.0005, "num_envs_per_worker": 1, "custom_resources_per_worker": {}, "vf_clip_param": 1000000.0, "vf_loss_coeff": 1.0, "log_level": "INFO", "tf_session_args": {"device_count": {"CPU": 1}, "log_device_placement": false, "gpu_options": {"allow_growth": true}, "intra_op_parallelism_threads": 2, "allow_soft_placement": true, "inter_op_parallelism_threads": 2}, "batch_mode": "truncate_episodes", "num_sgd_iter": 10, "output_compress_columns": ["obs", "new_obs"], "simple_optimizer": false, "env_config": {"run": "PPO", "flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.1,\n            \"eta3\": 0.1,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 7.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 0\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 700,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}"}, "entropy_coeff": 0.0, "sample_async": false, "lambda": 0.97, "monitor": false, "env": "MultiWaveAttenuationMergePOEnvBufferedObs-v0shortermeasure01:01:10", "clip_param": 0.3, "sample_batch_size": 750, "input_evaluation": null, "collect_metrics_timeout": 180, "sgd_minibatch_size": 128, "train_batch_size": 45000, "synchronize_filters": true, "kl_coeff": 0.2, "output": null, "num_cpus_for_driver": 1, "use_gae": true, "clip_actions": false, "num_cpus_per_worker": 1, "optimizer": {}, "num_gpus_per_worker": 0, "straggler_mitigation": false}, "timestamp": 1557417942, "info": {"num_steps_trained": 29980838, "default": {"cur_lr": 0.0005000000237487257, "kl": 0.02027183584868908, "vf_explained_var": 0.8574811220169067, "entropy": 2.1706480979919434, "total_loss": 17.253141403198242, "vf_loss": 17.260374069213867, "cur_kl_coeff": 0.6750001311302185, "policy_loss": -0.020915959030389786}, "load_time_ms": 37.861, "grad_time_ms": 20458.729, "sample_time_ms": 24982.426, "num_steps_sampled": 29980838, "update_time_ms": 8.847}, "policy_reward_mean": {}, "training_iteration": 255, "time_this_iter_s": 43.18722152709961, "experiment_id": "4ad1a1b4498d471a9b029fd78d997061", "time_since_restore": 2460.9580948352814, "episode_len_mean": 745.94, "timesteps_this_iter": 81869, "custom_metrics": {"system_level_velocity_min": 7.289057902914291, "system_level_velocity_mean": 10.736229303930443, "system_level_velocity_max": 14.230951181529381, "outflow_rate_min": 581.2627514490201, "cost1_mean": 304.8447760526007, "cost2_min": -163.96752486845352, "outflow_rate_mean": 972.4389281417544, "cost2_max": -92.66526894984592, "cost1_min": 173.75784301452077, "cost1_max": 389.78839547388446, "cost2_mean": -128.62486005864213, "outflow_rate_max": 1208.7485147354664}}
{"iterations_since_restore": 56, "timesteps_since_restore": 4574639, "episode_reward_min": 363.48827305473884, "time_total_s": 15928.322110414505, "node_ip": "10.138.0.2", "done": false, "episode_reward_mean": 739.877607284518, "num_metric_batches_dropped": 0, "episodes_total": 15432, "date": "2019-05-09_16-06-25", "pid": 21505, "episode_reward_max": 906.4927522192496, "timesteps_total": 30061299, "hostname": "flow-main", "episodes_this_iter": 42, "config": {"horizon": 1500, "input": "sampler", "output_max_file_size": 67108864, "gamma": 0.99, "model": {"free_log_std": false, "squash_to_range": false, "fcnet_activation": "tanh", "grayscale": false, "dim": 84, "fcnet_hiddens": [128, 64, 32], "conv_filters": null, "custom_model": null, "conv_activation": "relu", "custom_options": {}, "use_lstm": false, "channel_major": false, "framestack": true, "lstm_use_prev_action_reward": false, "zero_mean": true, "max_seq_len": 20, "lstm_cell_size": 256, "custom_preprocessor": null}, "vf_share_layers": false, "lr_schedule": null, "compress_observations": false, "clip_rewards": null, "kl_target": 0.01, "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "callbacks": {"on_train_result": null, "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7f5e87d5ee10>", "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7f5e87d5e198>", "on_sample_end": null, "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7f5e87d5e320>"}, "preprocessor_pref": "deepmind", "num_gpus": 0, "multiagent": {"policies_to_train": null, "policy_graphs": {}, "policy_mapping_fn": null}, "observation_filter": "MeanStdFilter", "num_workers": 30, "lr": 0.0005, "num_envs_per_worker": 1, "custom_resources_per_worker": {}, "vf_clip_param": 1000000.0, "vf_loss_coeff": 1.0, "log_level": "INFO", "tf_session_args": {"device_count": {"CPU": 1}, "log_device_placement": false, "gpu_options": {"allow_growth": true}, "intra_op_parallelism_threads": 2, "allow_soft_placement": true, "inter_op_parallelism_threads": 2}, "batch_mode": "truncate_episodes", "num_sgd_iter": 10, "output_compress_columns": ["obs", "new_obs"], "simple_optimizer": false, "env_config": {"run": "PPO", "flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.1,\n            \"eta3\": 0.1,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 7.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 0\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 700,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}"}, "entropy_coeff": 0.0, "sample_async": false, "lambda": 0.97, "monitor": false, "env": "MultiWaveAttenuationMergePOEnvBufferedObs-v0shortermeasure01:01:10", "clip_param": 0.3, "sample_batch_size": 750, "input_evaluation": null, "collect_metrics_timeout": 180, "sgd_minibatch_size": 128, "train_batch_size": 45000, "synchronize_filters": true, "kl_coeff": 0.2, "output": null, "num_cpus_for_driver": 1, "use_gae": true, "clip_actions": false, "num_cpus_per_worker": 1, "optimizer": {}, "num_gpus_per_worker": 0, "straggler_mitigation": false}, "timestamp": 1557417985, "info": {"num_steps_trained": 30061299, "default": {"cur_lr": 0.0005000000237487257, "kl": 0.012895800173282623, "vf_explained_var": 0.835519015789032, "entropy": 2.162794828414917, "total_loss": 18.309995651245117, "vf_loss": 18.31732177734375, "cur_kl_coeff": 1.0124998092651367, "policy_loss": -0.020383227616548538}, "load_time_ms": 36.588, "grad_time_ms": 20097.123, "sample_time_ms": 25131.711, "num_steps_sampled": 30061299, "update_time_ms": 8.514}, "policy_reward_mean": {}, "training_iteration": 256, "time_this_iter_s": 42.87657165527344, "experiment_id": "4ad1a1b4498d471a9b029fd78d997061", "time_since_restore": 2503.834666490555, "episode_len_mean": 745.94, "timesteps_this_iter": 80461, "custom_metrics": {"system_level_velocity_min": 7.289057902914291, "system_level_velocity_mean": 10.851014889268074, "system_level_velocity_max": 14.230951181529381, "outflow_rate_min": 581.2627514490201, "cost1_mean": 308.1593424071538, "cost2_min": -158.2811128391811, "outflow_rate_mean": 978.1672164106038, "cost2_max": -92.66526894984592, "cost1_min": 173.75784301452077, "cost1_max": 389.78839547388446, "cost2_mean": -129.93908395857022, "outflow_rate_max": 1208.7485147354664}}
{"iterations_since_restore": 57, "timesteps_since_restore": 4657829, "episode_reward_min": 218.7087137004423, "time_total_s": 15973.640865802765, "node_ip": "10.138.0.2", "done": false, "episode_reward_mean": 746.4566499246142, "num_metric_batches_dropped": 0, "episodes_total": 15475, "date": "2019-05-09_16-07-10", "pid": 21505, "episode_reward_max": 906.4927522192496, "timesteps_total": 30144489, "hostname": "flow-main", "episodes_this_iter": 43, "config": {"horizon": 1500, "input": "sampler", "output_max_file_size": 67108864, "gamma": 0.99, "model": {"free_log_std": false, "squash_to_range": false, "fcnet_activation": "tanh", "grayscale": false, "dim": 84, "fcnet_hiddens": [128, 64, 32], "conv_filters": null, "custom_model": null, "conv_activation": "relu", "custom_options": {}, "use_lstm": false, "channel_major": false, "framestack": true, "lstm_use_prev_action_reward": false, "zero_mean": true, "max_seq_len": 20, "lstm_cell_size": 256, "custom_preprocessor": null}, "vf_share_layers": false, "lr_schedule": null, "compress_observations": false, "clip_rewards": null, "kl_target": 0.01, "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "callbacks": {"on_train_result": null, "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7f5e880174a8>", "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7f5e88017e48>", "on_sample_end": null, "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7f5e88017240>"}, "preprocessor_pref": "deepmind", "num_gpus": 0, "multiagent": {"policies_to_train": null, "policy_graphs": {}, "policy_mapping_fn": null}, "observation_filter": "MeanStdFilter", "num_workers": 30, "lr": 0.0005, "num_envs_per_worker": 1, "custom_resources_per_worker": {}, "vf_clip_param": 1000000.0, "vf_loss_coeff": 1.0, "log_level": "INFO", "tf_session_args": {"device_count": {"CPU": 1}, "log_device_placement": false, "gpu_options": {"allow_growth": true}, "intra_op_parallelism_threads": 2, "allow_soft_placement": true, "inter_op_parallelism_threads": 2}, "batch_mode": "truncate_episodes", "num_sgd_iter": 10, "output_compress_columns": ["obs", "new_obs"], "simple_optimizer": false, "env_config": {"run": "PPO", "flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.1,\n            \"eta3\": 0.1,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 7.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 0\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 700,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}"}, "entropy_coeff": 0.0, "sample_async": false, "lambda": 0.97, "monitor": false, "env": "MultiWaveAttenuationMergePOEnvBufferedObs-v0shortermeasure01:01:10", "clip_param": 0.3, "sample_batch_size": 750, "input_evaluation": null, "collect_metrics_timeout": 180, "sgd_minibatch_size": 128, "train_batch_size": 45000, "synchronize_filters": true, "kl_coeff": 0.2, "output": null, "num_cpus_for_driver": 1, "use_gae": true, "clip_actions": false, "num_cpus_per_worker": 1, "optimizer": {}, "num_gpus_per_worker": 0, "straggler_mitigation": false}, "timestamp": 1557418030, "info": {"num_steps_trained": 30144489, "default": {"cur_lr": 0.0005000000237487257, "kl": 0.01279672235250473, "vf_explained_var": 0.837066113948822, "entropy": 2.1740753650665283, "total_loss": 17.731355667114258, "vf_loss": 17.7374210357666, "cur_kl_coeff": 1.0124999284744263, "policy_loss": -0.019020352512598038}, "load_time_ms": 36.745, "grad_time_ms": 20029.007, "sample_time_ms": 25305.02, "num_steps_sampled": 30144489, "update_time_ms": 8.447}, "policy_reward_mean": {}, "training_iteration": 257, "time_this_iter_s": 45.31875538825989, "experiment_id": "4ad1a1b4498d471a9b029fd78d997061", "time_since_restore": 2549.1534218788147, "episode_len_mean": 745.79, "timesteps_this_iter": 83190, "custom_metrics": {"system_level_velocity_min": 8.579941841236625, "system_level_velocity_mean": 10.956934397521424, "system_level_velocity_max": 13.519500287076312, "outflow_rate_min": 413.7832096577943, "cost1_mean": 311.06360251351083, "cost2_min": -158.2534266449736, "outflow_rate_mean": 985.1689336008109, "cost2_max": -92.66526894984592, "cost1_min": 114.51563436786545, "cost1_max": 388.2097973758185, "cost2_mean": -130.96084081521792, "outflow_rate_max": 1203.4558046018203}}
{"iterations_since_restore": 58, "timesteps_since_restore": 4738184, "episode_reward_min": 218.7087137004423, "time_total_s": 16019.11248254776, "node_ip": "10.138.0.2", "done": false, "episode_reward_mean": 751.7086624430517, "num_metric_batches_dropped": 0, "episodes_total": 15517, "date": "2019-05-09_16-07-56", "pid": 21505, "episode_reward_max": 895.7924176785066, "timesteps_total": 30224844, "hostname": "flow-main", "episodes_this_iter": 42, "config": {"horizon": 1500, "input": "sampler", "output_max_file_size": 67108864, "gamma": 0.99, "model": {"free_log_std": false, "squash_to_range": false, "fcnet_activation": "tanh", "grayscale": false, "dim": 84, "fcnet_hiddens": [128, 64, 32], "conv_filters": null, "custom_model": null, "conv_activation": "relu", "custom_options": {}, "use_lstm": false, "channel_major": false, "framestack": true, "lstm_use_prev_action_reward": false, "zero_mean": true, "max_seq_len": 20, "lstm_cell_size": 256, "custom_preprocessor": null}, "vf_share_layers": false, "lr_schedule": null, "compress_observations": false, "clip_rewards": null, "kl_target": 0.01, "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "callbacks": {"on_train_result": null, "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7f5e87d5e128>", "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7f5e87d5e0f0>", "on_sample_end": null, "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7f5e87d5e208>"}, "preprocessor_pref": "deepmind", "num_gpus": 0, "multiagent": {"policies_to_train": null, "policy_graphs": {}, "policy_mapping_fn": null}, "observation_filter": "MeanStdFilter", "num_workers": 30, "lr": 0.0005, "num_envs_per_worker": 1, "custom_resources_per_worker": {}, "vf_clip_param": 1000000.0, "vf_loss_coeff": 1.0, "log_level": "INFO", "tf_session_args": {"device_count": {"CPU": 1}, "log_device_placement": false, "gpu_options": {"allow_growth": true}, "intra_op_parallelism_threads": 2, "allow_soft_placement": true, "inter_op_parallelism_threads": 2}, "batch_mode": "truncate_episodes", "num_sgd_iter": 10, "output_compress_columns": ["obs", "new_obs"], "simple_optimizer": false, "env_config": {"run": "PPO", "flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.1,\n            \"eta3\": 0.1,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 7.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 0\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 700,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}"}, "entropy_coeff": 0.0, "sample_async": false, "lambda": 0.97, "monitor": false, "env": "MultiWaveAttenuationMergePOEnvBufferedObs-v0shortermeasure01:01:10", "clip_param": 0.3, "sample_batch_size": 750, "input_evaluation": null, "collect_metrics_timeout": 180, "sgd_minibatch_size": 128, "train_batch_size": 45000, "synchronize_filters": true, "kl_coeff": 0.2, "output": null, "num_cpus_for_driver": 1, "use_gae": true, "clip_actions": false, "num_cpus_per_worker": 1, "optimizer": {}, "num_gpus_per_worker": 0, "straggler_mitigation": false}, "timestamp": 1557418076, "info": {"num_steps_trained": 30224844, "default": {"cur_lr": 0.0005000000237487257, "kl": 0.012893222272396088, "vf_explained_var": 0.8262763023376465, "entropy": 2.1899938583374023, "total_loss": 19.092819213867188, "vf_loss": 19.099655151367188, "cur_kl_coeff": 1.0124998092651367, "policy_loss": -0.019890865311026573}, "load_time_ms": 35.436, "grad_time_ms": 19908.413, "sample_time_ms": 25403.167, "num_steps_sampled": 30224844, "update_time_ms": 8.534}, "policy_reward_mean": {}, "training_iteration": 258, "time_this_iter_s": 45.47161674499512, "experiment_id": "4ad1a1b4498d471a9b029fd78d997061", "time_since_restore": 2594.62503862381, "episode_len_mean": 745.79, "timesteps_this_iter": 80355, "custom_metrics": {"system_level_velocity_min": 8.647899530862375, "system_level_velocity_mean": 10.937908558512927, "system_level_velocity_max": 13.91530998336897, "outflow_rate_min": 413.7832096577943, "cost1_mean": 310.9287952845685, "cost2_min": -158.2534266449736, "outflow_rate_mean": 987.8189715615795, "cost2_max": -93.57044399808726, "cost1_min": 114.51563436786545, "cost1_max": 399.1520278241386, "cost2_mean": -128.9358367981719, "outflow_rate_max": 1247.9215675053447}}
{"iterations_since_restore": 59, "timesteps_since_restore": 4818986, "episode_reward_min": 218.7087137004423, "time_total_s": 16064.998032331467, "node_ip": "10.138.0.2", "done": false, "episode_reward_mean": 737.3502798114714, "num_metric_batches_dropped": 0, "episodes_total": 15559, "date": "2019-05-09_16-08-42", "pid": 21505, "episode_reward_max": 887.1531582857408, "timesteps_total": 30305646, "hostname": "flow-main", "episodes_this_iter": 42, "config": {"horizon": 1500, "input": "sampler", "output_max_file_size": 67108864, "gamma": 0.99, "model": {"free_log_std": false, "squash_to_range": false, "fcnet_activation": "tanh", "grayscale": false, "dim": 84, "fcnet_hiddens": [128, 64, 32], "conv_filters": null, "custom_model": null, "conv_activation": "relu", "custom_options": {}, "use_lstm": false, "channel_major": false, "framestack": true, "lstm_use_prev_action_reward": false, "zero_mean": true, "max_seq_len": 20, "lstm_cell_size": 256, "custom_preprocessor": null}, "vf_share_layers": false, "lr_schedule": null, "compress_observations": false, "clip_rewards": null, "kl_target": 0.01, "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "callbacks": {"on_train_result": null, "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7f5e88017cf8>", "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7f5f02407b70>", "on_sample_end": null, "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7f5e88017e80>"}, "preprocessor_pref": "deepmind", "num_gpus": 0, "multiagent": {"policies_to_train": null, "policy_graphs": {}, "policy_mapping_fn": null}, "observation_filter": "MeanStdFilter", "num_workers": 30, "lr": 0.0005, "num_envs_per_worker": 1, "custom_resources_per_worker": {}, "vf_clip_param": 1000000.0, "vf_loss_coeff": 1.0, "log_level": "INFO", "tf_session_args": {"device_count": {"CPU": 1}, "log_device_placement": false, "gpu_options": {"allow_growth": true}, "intra_op_parallelism_threads": 2, "allow_soft_placement": true, "inter_op_parallelism_threads": 2}, "batch_mode": "truncate_episodes", "num_sgd_iter": 10, "output_compress_columns": ["obs", "new_obs"], "simple_optimizer": false, "env_config": {"run": "PPO", "flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.1,\n            \"eta3\": 0.1,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 7.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 0\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 700,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}"}, "entropy_coeff": 0.0, "sample_async": false, "lambda": 0.97, "monitor": false, "env": "MultiWaveAttenuationMergePOEnvBufferedObs-v0shortermeasure01:01:10", "clip_param": 0.3, "sample_batch_size": 750, "input_evaluation": null, "collect_metrics_timeout": 180, "sgd_minibatch_size": 128, "train_batch_size": 45000, "synchronize_filters": true, "kl_coeff": 0.2, "output": null, "num_cpus_for_driver": 1, "use_gae": true, "clip_actions": false, "num_cpus_per_worker": 1, "optimizer": {}, "num_gpus_per_worker": 0, "straggler_mitigation": false}, "timestamp": 1557418122, "info": {"num_steps_trained": 30305646, "default": {"cur_lr": 0.0005000000237487257, "kl": 0.012673072516918182, "vf_explained_var": 0.8470565676689148, "entropy": 2.2038352489471436, "total_loss": 17.835140228271484, "vf_loss": 17.84214973449707, "cur_kl_coeff": 1.0124999284744263, "policy_loss": -0.019840769469738007}, "load_time_ms": 35.056, "grad_time_ms": 19970.736, "sample_time_ms": 25281.955, "num_steps_sampled": 30305646, "update_time_ms": 8.696}, "policy_reward_mean": {}, "training_iteration": 259, "time_this_iter_s": 45.885549783706665, "experiment_id": "4ad1a1b4498d471a9b029fd78d997061", "time_since_restore": 2640.5105884075165, "episode_len_mean": 740.62, "timesteps_this_iter": 80802, "custom_metrics": {"system_level_velocity_min": 8.668975267668701, "system_level_velocity_mean": 10.74181412725684, "system_level_velocity_max": 13.91530998336897, "outflow_rate_min": 413.7832096577943, "cost1_mean": 302.67232643749406, "cost2_min": -156.9066625083171, "outflow_rate_mean": 964.0668148542265, "cost2_max": -89.61615739111593, "cost1_min": 114.51563436786545, "cost1_max": 399.1520278241386, "cost2_mean": -124.59208090082146, "outflow_rate_max": 1247.9215675053447}}
{"iterations_since_restore": 60, "timesteps_since_restore": 4900896, "episode_reward_min": 229.7358117290939, "time_total_s": 16110.107502937317, "node_ip": "10.138.0.2", "done": false, "episode_reward_mean": 743.1903910061005, "num_metric_batches_dropped": 0, "episodes_total": 15601, "date": "2019-05-09_16-09-27", "pid": 21505, "episode_reward_max": 907.5084010427145, "timesteps_total": 30387556, "hostname": "flow-main", "episodes_this_iter": 42, "config": {"horizon": 1500, "input": "sampler", "output_max_file_size": 67108864, "gamma": 0.99, "model": {"free_log_std": false, "squash_to_range": false, "fcnet_activation": "tanh", "grayscale": false, "dim": 84, "fcnet_hiddens": [128, 64, 32], "conv_filters": null, "custom_model": null, "conv_activation": "relu", "custom_options": {}, "use_lstm": false, "channel_major": false, "framestack": true, "lstm_use_prev_action_reward": false, "zero_mean": true, "max_seq_len": 20, "lstm_cell_size": 256, "custom_preprocessor": null}, "vf_share_layers": false, "lr_schedule": null, "compress_observations": false, "clip_rewards": null, "kl_target": 0.01, "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "callbacks": {"on_train_result": null, "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7f5e87d5ea20>", "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7f5e87d5e208>", "on_sample_end": null, "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7f5e87d5e780>"}, "preprocessor_pref": "deepmind", "num_gpus": 0, "multiagent": {"policies_to_train": null, "policy_graphs": {}, "policy_mapping_fn": null}, "observation_filter": "MeanStdFilter", "num_workers": 30, "lr": 0.0005, "num_envs_per_worker": 1, "custom_resources_per_worker": {}, "vf_clip_param": 1000000.0, "vf_loss_coeff": 1.0, "log_level": "INFO", "tf_session_args": {"device_count": {"CPU": 1}, "log_device_placement": false, "gpu_options": {"allow_growth": true}, "intra_op_parallelism_threads": 2, "allow_soft_placement": true, "inter_op_parallelism_threads": 2}, "batch_mode": "truncate_episodes", "num_sgd_iter": 10, "output_compress_columns": ["obs", "new_obs"], "simple_optimizer": false, "env_config": {"run": "PPO", "flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.1,\n            \"eta3\": 0.1,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 7.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 0\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 700,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}"}, "entropy_coeff": 0.0, "sample_async": false, "lambda": 0.97, "monitor": false, "env": "MultiWaveAttenuationMergePOEnvBufferedObs-v0shortermeasure01:01:10", "clip_param": 0.3, "sample_batch_size": 750, "input_evaluation": null, "collect_metrics_timeout": 180, "sgd_minibatch_size": 128, "train_batch_size": 45000, "synchronize_filters": true, "kl_coeff": 0.2, "output": null, "num_cpus_for_driver": 1, "use_gae": true, "clip_actions": false, "num_cpus_per_worker": 1, "optimizer": {}, "num_gpus_per_worker": 0, "straggler_mitigation": false}, "timestamp": 1557418167, "info": {"num_steps_trained": 30387556, "default": {"cur_lr": 0.0005000000237487257, "kl": 0.012830079533159733, "vf_explained_var": 0.8530579209327698, "entropy": 2.195665121078491, "total_loss": 17.791126251220703, "vf_loss": 17.79848289489746, "cur_kl_coeff": 1.0124999284744263, "policy_loss": -0.020345404744148254}, "load_time_ms": 33.853, "grad_time_ms": 20014.043, "sample_time_ms": 25076.918, "num_steps_sampled": 30387556, "update_time_ms": 9.074}, "policy_reward_mean": {}, "training_iteration": 260, "time_this_iter_s": 45.10947060585022, "experiment_id": "4ad1a1b4498d471a9b029fd78d997061", "time_since_restore": 2685.6200590133667, "episode_len_mean": 745.83, "timesteps_this_iter": 81910, "custom_metrics": {"system_level_velocity_min": 8.316982686482346, "system_level_velocity_mean": 10.733045808412882, "system_level_velocity_max": 13.580291419952992, "outflow_rate_min": 424.50658222444173, "cost1_mean": 305.1331207087402, "cost2_min": -152.48913239190787, "outflow_rate_mean": 971.774757003829, "cost2_max": -89.61615739111593, "cost1_min": 117.93345750920408, "cost1_max": 390.23684141005845, "cost2_mean": -123.63139657090738, "outflow_rate_max": 1216.9674452035526}}
{"iterations_since_restore": 61, "timesteps_since_restore": 4981701, "episode_reward_min": 229.7358117290939, "time_total_s": 16154.699805736542, "node_ip": "10.138.0.2", "done": false, "episode_reward_mean": 735.2386316473245, "num_metric_batches_dropped": 0, "episodes_total": 15644, "date": "2019-05-09_16-10-12", "pid": 21505, "episode_reward_max": 907.5084010427145, "timesteps_total": 30468361, "hostname": "flow-main", "episodes_this_iter": 43, "config": {"horizon": 1500, "input": "sampler", "output_max_file_size": 67108864, "gamma": 0.99, "model": {"free_log_std": false, "squash_to_range": false, "fcnet_activation": "tanh", "grayscale": false, "dim": 84, "fcnet_hiddens": [128, 64, 32], "conv_filters": null, "custom_model": null, "conv_activation": "relu", "custom_options": {}, "use_lstm": false, "channel_major": false, "framestack": true, "lstm_use_prev_action_reward": false, "zero_mean": true, "max_seq_len": 20, "lstm_cell_size": 256, "custom_preprocessor": null}, "vf_share_layers": false, "lr_schedule": null, "compress_observations": false, "clip_rewards": null, "kl_target": 0.01, "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "callbacks": {"on_train_result": null, "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7f5e880102e8>", "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7f5e88010fd0>", "on_sample_end": null, "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7f5e88010f60>"}, "preprocessor_pref": "deepmind", "num_gpus": 0, "multiagent": {"policies_to_train": null, "policy_graphs": {}, "policy_mapping_fn": null}, "observation_filter": "MeanStdFilter", "num_workers": 30, "lr": 0.0005, "num_envs_per_worker": 1, "custom_resources_per_worker": {}, "vf_clip_param": 1000000.0, "vf_loss_coeff": 1.0, "log_level": "INFO", "tf_session_args": {"device_count": {"CPU": 1}, "log_device_placement": false, "gpu_options": {"allow_growth": true}, "intra_op_parallelism_threads": 2, "allow_soft_placement": true, "inter_op_parallelism_threads": 2}, "batch_mode": "truncate_episodes", "num_sgd_iter": 10, "output_compress_columns": ["obs", "new_obs"], "simple_optimizer": false, "env_config": {"run": "PPO", "flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.1,\n            \"eta3\": 0.1,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 7.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 0\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 700,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}"}, "entropy_coeff": 0.0, "sample_async": false, "lambda": 0.97, "monitor": false, "env": "MultiWaveAttenuationMergePOEnvBufferedObs-v0shortermeasure01:01:10", "clip_param": 0.3, "sample_batch_size": 750, "input_evaluation": null, "collect_metrics_timeout": 180, "sgd_minibatch_size": 128, "train_batch_size": 45000, "synchronize_filters": true, "kl_coeff": 0.2, "output": null, "num_cpus_for_driver": 1, "use_gae": true, "clip_actions": false, "num_cpus_per_worker": 1, "optimizer": {}, "num_gpus_per_worker": 0, "straggler_mitigation": false}, "timestamp": 1557418212, "info": {"num_steps_trained": 30468361, "default": {"cur_lr": 0.0005000000237487257, "kl": 0.012751003727316856, "vf_explained_var": 0.854800283908844, "entropy": 2.2135581970214844, "total_loss": 17.75690460205078, "vf_loss": 17.76484489440918, "cur_kl_coeff": 1.0124999284744263, "policy_loss": -0.02085096202790737}, "load_time_ms": 33.328, "grad_time_ms": 20109.765, "sample_time_ms": 24753.568, "num_steps_sampled": 30468361, "update_time_ms": 9.321}, "policy_reward_mean": {}, "training_iteration": 261, "time_this_iter_s": 44.59230279922485, "experiment_id": "4ad1a1b4498d471a9b029fd78d997061", "time_since_restore": 2730.2123618125916, "episode_len_mean": 742.4, "timesteps_this_iter": 80805, "custom_metrics": {"system_level_velocity_min": 5.772123101709496, "system_level_velocity_mean": 10.73928912572844, "system_level_velocity_max": 13.580291419952992, "outflow_rate_min": 424.50658222444173, "cost1_mean": 303.8426447151111, "cost2_min": -154.01840674427353, "outflow_rate_mean": 964.205615835306, "cost2_max": -89.61615739111593, "cost1_min": 117.93345750920408, "cost1_max": 390.23684141005845, "cost2_mean": -122.56486586726716, "outflow_rate_max": 1216.9674452035526}}
{"iterations_since_restore": 62, "timesteps_since_restore": 5063884, "episode_reward_min": 380.3223760826445, "time_total_s": 16197.771765470505, "node_ip": "10.138.0.2", "done": false, "episode_reward_mean": 734.8412454033582, "num_metric_batches_dropped": 0, "episodes_total": 15686, "date": "2019-05-09_16-10-55", "pid": 21505, "episode_reward_max": 858.4359354281394, "timesteps_total": 30550544, "hostname": "flow-main", "episodes_this_iter": 42, "config": {"horizon": 1500, "input": "sampler", "output_max_file_size": 67108864, "gamma": 0.99, "model": {"free_log_std": false, "squash_to_range": false, "fcnet_activation": "tanh", "grayscale": false, "dim": 84, "fcnet_hiddens": [128, 64, 32], "conv_filters": null, "custom_model": null, "conv_activation": "relu", "custom_options": {}, "use_lstm": false, "channel_major": false, "framestack": true, "lstm_use_prev_action_reward": false, "zero_mean": true, "max_seq_len": 20, "lstm_cell_size": 256, "custom_preprocessor": null}, "vf_share_layers": false, "lr_schedule": null, "compress_observations": false, "clip_rewards": null, "kl_target": 0.01, "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "callbacks": {"on_train_result": null, "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7f5e87d5e780>", "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7f5e87d5e208>", "on_sample_end": null, "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7f5e87d5e710>"}, "preprocessor_pref": "deepmind", "num_gpus": 0, "multiagent": {"policies_to_train": null, "policy_graphs": {}, "policy_mapping_fn": null}, "observation_filter": "MeanStdFilter", "num_workers": 30, "lr": 0.0005, "num_envs_per_worker": 1, "custom_resources_per_worker": {}, "vf_clip_param": 1000000.0, "vf_loss_coeff": 1.0, "log_level": "INFO", "tf_session_args": {"device_count": {"CPU": 1}, "log_device_placement": false, "gpu_options": {"allow_growth": true}, "intra_op_parallelism_threads": 2, "allow_soft_placement": true, "inter_op_parallelism_threads": 2}, "batch_mode": "truncate_episodes", "num_sgd_iter": 10, "output_compress_columns": ["obs", "new_obs"], "simple_optimizer": false, "env_config": {"run": "PPO", "flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.1,\n            \"eta3\": 0.1,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 7.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 0\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 700,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}"}, "entropy_coeff": 0.0, "sample_async": false, "lambda": 0.97, "monitor": false, "env": "MultiWaveAttenuationMergePOEnvBufferedObs-v0shortermeasure01:01:10", "clip_param": 0.3, "sample_batch_size": 750, "input_evaluation": null, "collect_metrics_timeout": 180, "sgd_minibatch_size": 128, "train_batch_size": 45000, "synchronize_filters": true, "kl_coeff": 0.2, "output": null, "num_cpus_for_driver": 1, "use_gae": true, "clip_actions": false, "num_cpus_per_worker": 1, "optimizer": {}, "num_gpus_per_worker": 0, "straggler_mitigation": false}, "timestamp": 1557418255, "info": {"num_steps_trained": 30550544, "default": {"cur_lr": 0.0005000000237487257, "kl": 0.012006946839392185, "vf_explained_var": 0.8647253513336182, "entropy": 2.209723711013794, "total_loss": 17.30437469482422, "vf_loss": 17.31203842163086, "cur_kl_coeff": 1.0124998092651367, "policy_loss": -0.019822102040052414}, "load_time_ms": 33.735, "grad_time_ms": 19946.877, "sample_time_ms": 24588.107, "num_steps_sampled": 30550544, "update_time_ms": 9.053}, "policy_reward_mean": {}, "training_iteration": 262, "time_this_iter_s": 43.07195973396301, "experiment_id": "4ad1a1b4498d471a9b029fd78d997061", "time_since_restore": 2773.2843215465546, "episode_len_mean": 747.57, "timesteps_this_iter": 82183, "custom_metrics": {"system_level_velocity_min": 5.772123101709496, "system_level_velocity_mean": 10.626966105780266, "system_level_velocity_max": 13.184331939343958, "outflow_rate_min": 536.3616559163239, "cost1_mean": 303.1830861325494, "cost2_min": -154.01840674427353, "outflow_rate_mean": 962.8499732326864, "cost2_max": -93.26057604302342, "cost1_min": 158.93630841351478, "cost1_max": 375.1820094305708, "cost2_mean": -123.63494317543267, "outflow_rate_max": 1198.936052352504}}
{"iterations_since_restore": 63, "timesteps_since_restore": 5145567, "episode_reward_min": 68.28321177727368, "time_total_s": 16242.326079368591, "node_ip": "10.138.0.2", "done": false, "episode_reward_mean": 725.5676962221111, "num_metric_batches_dropped": 0, "episodes_total": 15730, "date": "2019-05-09_16-11-39", "pid": 21505, "episode_reward_max": 890.4906961903389, "timesteps_total": 30632227, "hostname": "flow-main", "episodes_this_iter": 44, "config": {"horizon": 1500, "input": "sampler", "output_max_file_size": 67108864, "gamma": 0.99, "model": {"free_log_std": false, "squash_to_range": false, "fcnet_activation": "tanh", "grayscale": false, "dim": 84, "fcnet_hiddens": [128, 64, 32], "conv_filters": null, "custom_model": null, "conv_activation": "relu", "custom_options": {}, "use_lstm": false, "channel_major": false, "framestack": true, "lstm_use_prev_action_reward": false, "zero_mean": true, "max_seq_len": 20, "lstm_cell_size": 256, "custom_preprocessor": null}, "vf_share_layers": false, "lr_schedule": null, "compress_observations": false, "clip_rewards": null, "kl_target": 0.01, "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "callbacks": {"on_train_result": null, "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7f5e88010208>", "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7f5e88010b70>", "on_sample_end": null, "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7f5e88010c88>"}, "preprocessor_pref": "deepmind", "num_gpus": 0, "multiagent": {"policies_to_train": null, "policy_graphs": {}, "policy_mapping_fn": null}, "observation_filter": "MeanStdFilter", "num_workers": 30, "lr": 0.0005, "num_envs_per_worker": 1, "custom_resources_per_worker": {}, "vf_clip_param": 1000000.0, "vf_loss_coeff": 1.0, "log_level": "INFO", "tf_session_args": {"device_count": {"CPU": 1}, "log_device_placement": false, "gpu_options": {"allow_growth": true}, "intra_op_parallelism_threads": 2, "allow_soft_placement": true, "inter_op_parallelism_threads": 2}, "batch_mode": "truncate_episodes", "num_sgd_iter": 10, "output_compress_columns": ["obs", "new_obs"], "simple_optimizer": false, "env_config": {"run": "PPO", "flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.1,\n            \"eta3\": 0.1,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 7.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 0\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 700,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}"}, "entropy_coeff": 0.0, "sample_async": false, "lambda": 0.97, "monitor": false, "env": "MultiWaveAttenuationMergePOEnvBufferedObs-v0shortermeasure01:01:10", "clip_param": 0.3, "sample_batch_size": 750, "input_evaluation": null, "collect_metrics_timeout": 180, "sgd_minibatch_size": 128, "train_batch_size": 45000, "synchronize_filters": true, "kl_coeff": 0.2, "output": null, "num_cpus_for_driver": 1, "use_gae": true, "clip_actions": false, "num_cpus_per_worker": 1, "optimizer": {}, "num_gpus_per_worker": 0, "straggler_mitigation": false}, "timestamp": 1557418299, "info": {"num_steps_trained": 30632227, "default": {"cur_lr": 0.0005000000237487257, "kl": 0.012604347430169582, "vf_explained_var": 0.849055826663971, "entropy": 2.228287935256958, "total_loss": 18.496660232543945, "vf_loss": 18.504310607910156, "cur_kl_coeff": 1.0124998092651367, "policy_loss": -0.020411422476172447}, "load_time_ms": 34.397, "grad_time_ms": 19759.797, "sample_time_ms": 24720.01, "num_steps_sampled": 30632227, "update_time_ms": 8.734}, "policy_reward_mean": {}, "training_iteration": 263, "time_this_iter_s": 44.55431389808655, "experiment_id": "4ad1a1b4498d471a9b029fd78d997061", "time_since_restore": 2817.838635444641, "episode_len_mean": 744.77, "timesteps_this_iter": 81683, "custom_metrics": {"system_level_velocity_min": 5.772123101709496, "system_level_velocity_mean": 10.54131789786327, "system_level_velocity_max": 13.441553599747065, "outflow_rate_min": 252.10029028926027, "cost1_mean": 299.3341508133686, "cost2_min": -150.01765666433425, "outflow_rate_mean": 950.4665340097598, "cost2_max": -58.93931599706197, "cost1_min": 50.86942171509975, "cost1_max": 385.83045677463326, "cost2_mean": -122.2785899958813, "outflow_rate_max": 1204.1682863658248}}
{"iterations_since_restore": 64, "timesteps_since_restore": 5228492, "episode_reward_min": 68.28321177727368, "time_total_s": 16287.920747756958, "node_ip": "10.138.0.2", "done": false, "episode_reward_mean": 732.0116946390798, "num_metric_batches_dropped": 0, "episodes_total": 15772, "date": "2019-05-09_16-12-25", "pid": 21505, "episode_reward_max": 907.2616846562911, "timesteps_total": 30715152, "hostname": "flow-main", "episodes_this_iter": 42, "config": {"horizon": 1500, "input": "sampler", "output_max_file_size": 67108864, "gamma": 0.99, "model": {"free_log_std": false, "squash_to_range": false, "fcnet_activation": "tanh", "grayscale": false, "dim": 84, "fcnet_hiddens": [128, 64, 32], "conv_filters": null, "custom_model": null, "conv_activation": "relu", "custom_options": {}, "use_lstm": false, "channel_major": false, "framestack": true, "lstm_use_prev_action_reward": false, "zero_mean": true, "max_seq_len": 20, "lstm_cell_size": 256, "custom_preprocessor": null}, "vf_share_layers": false, "lr_schedule": null, "compress_observations": false, "clip_rewards": null, "kl_target": 0.01, "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "callbacks": {"on_train_result": null, "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7f5e88017588>", "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7f5e880179b0>", "on_sample_end": null, "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7f5e880177f0>"}, "preprocessor_pref": "deepmind", "num_gpus": 0, "multiagent": {"policies_to_train": null, "policy_graphs": {}, "policy_mapping_fn": null}, "observation_filter": "MeanStdFilter", "num_workers": 30, "lr": 0.0005, "num_envs_per_worker": 1, "custom_resources_per_worker": {}, "vf_clip_param": 1000000.0, "vf_loss_coeff": 1.0, "log_level": "INFO", "tf_session_args": {"device_count": {"CPU": 1}, "log_device_placement": false, "gpu_options": {"allow_growth": true}, "intra_op_parallelism_threads": 2, "allow_soft_placement": true, "inter_op_parallelism_threads": 2}, "batch_mode": "truncate_episodes", "num_sgd_iter": 10, "output_compress_columns": ["obs", "new_obs"], "simple_optimizer": false, "env_config": {"run": "PPO", "flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.1,\n            \"eta3\": 0.1,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 7.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 0\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 700,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}"}, "entropy_coeff": 0.0, "sample_async": false, "lambda": 0.97, "monitor": false, "env": "MultiWaveAttenuationMergePOEnvBufferedObs-v0shortermeasure01:01:10", "clip_param": 0.3, "sample_batch_size": 750, "input_evaluation": null, "collect_metrics_timeout": 180, "sgd_minibatch_size": 128, "train_batch_size": 45000, "synchronize_filters": true, "kl_coeff": 0.2, "output": null, "num_cpus_for_driver": 1, "use_gae": true, "clip_actions": false, "num_cpus_per_worker": 1, "optimizer": {}, "num_gpus_per_worker": 0, "straggler_mitigation": false}, "timestamp": 1557418345, "info": {"num_steps_trained": 30715152, "default": {"cur_lr": 0.0005000000237487257, "kl": 0.012923539616167545, "vf_explained_var": 0.8617057800292969, "entropy": 2.2421343326568604, "total_loss": 17.645458221435547, "vf_loss": 17.65214729309082, "cur_kl_coeff": 1.0124998092651367, "policy_loss": -0.019774917513132095}, "load_time_ms": 34.199, "grad_time_ms": 19556.105, "sample_time_ms": 24796.395, "num_steps_sampled": 30715152, "update_time_ms": 8.852}, "policy_reward_mean": {}, "training_iteration": 264, "time_this_iter_s": 45.5946683883667, "experiment_id": "4ad1a1b4498d471a9b029fd78d997061", "time_since_restore": 2863.433303833008, "episode_len_mean": 744.77, "timesteps_this_iter": 82925, "custom_metrics": {"system_level_velocity_min": 7.040371182356883, "system_level_velocity_mean": 10.628954416389824, "system_level_velocity_max": 13.954267354994613, "outflow_rate_min": 252.10029028926027, "cost1_mean": 301.7306704867198, "cost2_min": -150.01765666433425, "outflow_rate_mean": 957.9522701956582, "cost2_max": -58.93931599706197, "cost1_min": 50.86942171509975, "cost1_max": 400.12483918905866, "cost2_mean": -122.53451691613164, "outflow_rate_max": 1258.578964953692}}
{"iterations_since_restore": 65, "timesteps_since_restore": 5311366, "episode_reward_min": 520.4239957357045, "time_total_s": 16333.66750741005, "node_ip": "10.138.0.2", "done": false, "episode_reward_mean": 726.7824382827067, "num_metric_batches_dropped": 0, "episodes_total": 15815, "date": "2019-05-09_16-13-11", "pid": 21505, "episode_reward_max": 907.2616846562911, "timesteps_total": 30798026, "hostname": "flow-main", "episodes_this_iter": 43, "config": {"horizon": 1500, "input": "sampler", "output_max_file_size": 67108864, "gamma": 0.99, "model": {"free_log_std": false, "squash_to_range": false, "fcnet_activation": "tanh", "grayscale": false, "dim": 84, "fcnet_hiddens": [128, 64, 32], "conv_filters": null, "custom_model": null, "conv_activation": "relu", "custom_options": {}, "use_lstm": false, "channel_major": false, "framestack": true, "lstm_use_prev_action_reward": false, "zero_mean": true, "max_seq_len": 20, "lstm_cell_size": 256, "custom_preprocessor": null}, "vf_share_layers": false, "lr_schedule": null, "compress_observations": false, "clip_rewards": null, "kl_target": 0.01, "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "callbacks": {"on_train_result": null, "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7f5e88017898>", "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7f5e88017e80>", "on_sample_end": null, "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7f5e880178d0>"}, "preprocessor_pref": "deepmind", "num_gpus": 0, "multiagent": {"policies_to_train": null, "policy_graphs": {}, "policy_mapping_fn": null}, "observation_filter": "MeanStdFilter", "num_workers": 30, "lr": 0.0005, "num_envs_per_worker": 1, "custom_resources_per_worker": {}, "vf_clip_param": 1000000.0, "vf_loss_coeff": 1.0, "log_level": "INFO", "tf_session_args": {"device_count": {"CPU": 1}, "log_device_placement": false, "gpu_options": {"allow_growth": true}, "intra_op_parallelism_threads": 2, "allow_soft_placement": true, "inter_op_parallelism_threads": 2}, "batch_mode": "truncate_episodes", "num_sgd_iter": 10, "output_compress_columns": ["obs", "new_obs"], "simple_optimizer": false, "env_config": {"run": "PPO", "flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.1,\n            \"eta3\": 0.1,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 7.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 0\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 700,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}"}, "entropy_coeff": 0.0, "sample_async": false, "lambda": 0.97, "monitor": false, "env": "MultiWaveAttenuationMergePOEnvBufferedObs-v0shortermeasure01:01:10", "clip_param": 0.3, "sample_batch_size": 750, "input_evaluation": null, "collect_metrics_timeout": 180, "sgd_minibatch_size": 128, "train_batch_size": 45000, "synchronize_filters": true, "kl_coeff": 0.2, "output": null, "num_cpus_for_driver": 1, "use_gae": true, "clip_actions": false, "num_cpus_per_worker": 1, "optimizer": {}, "num_gpus_per_worker": 0, "straggler_mitigation": false}, "timestamp": 1557418391, "info": {"num_steps_trained": 30798026, "default": {"cur_lr": 0.0005000000237487257, "kl": 0.012685383670032024, "vf_explained_var": 0.8639559149742126, "entropy": 2.262510299682617, "total_loss": 17.81393051147461, "vf_loss": 17.821456909179688, "cur_kl_coeff": 1.0124998092651367, "policy_loss": -0.02036762796342373}, "load_time_ms": 33.392, "grad_time_ms": 19551.055, "sample_time_ms": 25056.051, "num_steps_sampled": 30798026, "update_time_ms": 8.871}, "policy_reward_mean": {}, "training_iteration": 265, "time_this_iter_s": 45.74675965309143, "experiment_id": "4ad1a1b4498d471a9b029fd78d997061", "time_since_restore": 2909.1800634860992, "episode_len_mean": 749.37, "timesteps_this_iter": 82874, "custom_metrics": {"system_level_velocity_min": 6.6078465987853345, "system_level_velocity_mean": 10.4104003150215, "system_level_velocity_max": 14.220045881887767, "outflow_rate_min": 658.9033432712215, "cost1_mean": 297.08062280028275, "cost2_min": -151.79860984610667, "outflow_rate_mean": 945.6110014148051, "cost2_max": -91.17254076915097, "cost1_min": 184.73805486102106, "cost1_max": 402.7731719608212, "cost2_mean": -121.19221000952248, "outflow_rate_max": 1258.578964953692}}
{"iterations_since_restore": 66, "timesteps_since_restore": 5392143, "episode_reward_min": 520.4239957357045, "time_total_s": 16380.013339996338, "node_ip": "10.138.0.2", "done": false, "episode_reward_mean": 718.5859562463785, "num_metric_batches_dropped": 0, "episodes_total": 15857, "date": "2019-05-09_16-13-57", "pid": 21505, "episode_reward_max": 907.2616846562911, "timesteps_total": 30878803, "hostname": "flow-main", "episodes_this_iter": 42, "config": {"horizon": 1500, "input": "sampler", "output_max_file_size": 67108864, "gamma": 0.99, "model": {"free_log_std": false, "squash_to_range": false, "fcnet_activation": "tanh", "grayscale": false, "dim": 84, "fcnet_hiddens": [128, 64, 32], "conv_filters": null, "custom_model": null, "conv_activation": "relu", "custom_options": {}, "use_lstm": false, "channel_major": false, "framestack": true, "lstm_use_prev_action_reward": false, "zero_mean": true, "max_seq_len": 20, "lstm_cell_size": 256, "custom_preprocessor": null}, "vf_share_layers": false, "lr_schedule": null, "compress_observations": false, "clip_rewards": null, "kl_target": 0.01, "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "callbacks": {"on_train_result": null, "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7f5e87ff5438>", "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7f5e87d5e0b8>", "on_sample_end": null, "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7f5e87d5e6d8>"}, "preprocessor_pref": "deepmind", "num_gpus": 0, "multiagent": {"policies_to_train": null, "policy_graphs": {}, "policy_mapping_fn": null}, "observation_filter": "MeanStdFilter", "num_workers": 30, "lr": 0.0005, "num_envs_per_worker": 1, "custom_resources_per_worker": {}, "vf_clip_param": 1000000.0, "vf_loss_coeff": 1.0, "log_level": "INFO", "tf_session_args": {"device_count": {"CPU": 1}, "log_device_placement": false, "gpu_options": {"allow_growth": true}, "intra_op_parallelism_threads": 2, "allow_soft_placement": true, "inter_op_parallelism_threads": 2}, "batch_mode": "truncate_episodes", "num_sgd_iter": 10, "output_compress_columns": ["obs", "new_obs"], "simple_optimizer": false, "env_config": {"run": "PPO", "flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.1,\n            \"eta3\": 0.1,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 7.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 0\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 700,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}"}, "entropy_coeff": 0.0, "sample_async": false, "lambda": 0.97, "monitor": false, "env": "MultiWaveAttenuationMergePOEnvBufferedObs-v0shortermeasure01:01:10", "clip_param": 0.3, "sample_batch_size": 750, "input_evaluation": null, "collect_metrics_timeout": 180, "sgd_minibatch_size": 128, "train_batch_size": 45000, "synchronize_filters": true, "kl_coeff": 0.2, "output": null, "num_cpus_for_driver": 1, "use_gae": true, "clip_actions": false, "num_cpus_per_worker": 1, "optimizer": {}, "num_gpus_per_worker": 0, "straggler_mitigation": false}, "timestamp": 1557418437, "info": {"num_steps_trained": 30878803, "default": {"cur_lr": 0.0005000000237487257, "kl": 0.01278486754745245, "vf_explained_var": 0.8516468405723572, "entropy": 2.2547621726989746, "total_loss": 17.80155372619629, "vf_loss": 17.809417724609375, "cur_kl_coeff": 1.0124999284744263, "policy_loss": -0.0208076611161232}, "load_time_ms": 33.497, "grad_time_ms": 19850.49, "sample_time_ms": 25103.37, "num_steps_sampled": 30878803, "update_time_ms": 9.349}, "policy_reward_mean": {}, "training_iteration": 266, "time_this_iter_s": 46.34583258628845, "experiment_id": "4ad1a1b4498d471a9b029fd78d997061", "time_since_restore": 2955.5258960723877, "episode_len_mean": 749.37, "timesteps_this_iter": 80777, "custom_metrics": {"system_level_velocity_min": 6.6078465987853345, "system_level_velocity_mean": 10.311325330498324, "system_level_velocity_max": 14.220045881887767, "outflow_rate_min": 637.5383071428571, "cost1_mean": 293.90797468819926, "cost2_min": -151.79860984610667, "outflow_rate_mean": 935.694090275864, "cost2_max": -84.97795634348724, "cost1_min": 184.73805486102106, "cost1_max": 402.7731719608212, "cost2_mean": -119.65073524406073, "outflow_rate_max": 1258.578964953692}}
{"iterations_since_restore": 67, "timesteps_since_restore": 5473487, "episode_reward_min": 455.3178983917804, "time_total_s": 16425.004083156586, "node_ip": "10.138.0.2", "done": false, "episode_reward_mean": 717.2927024851715, "num_metric_batches_dropped": 0, "episodes_total": 15899, "date": "2019-05-09_16-14-42", "pid": 21505, "episode_reward_max": 879.0086400004291, "timesteps_total": 30960147, "hostname": "flow-main", "episodes_this_iter": 42, "config": {"horizon": 1500, "input": "sampler", "output_max_file_size": 67108864, "gamma": 0.99, "model": {"free_log_std": false, "squash_to_range": false, "fcnet_activation": "tanh", "grayscale": false, "dim": 84, "fcnet_hiddens": [128, 64, 32], "conv_filters": null, "custom_model": null, "conv_activation": "relu", "custom_options": {}, "use_lstm": false, "channel_major": false, "framestack": true, "lstm_use_prev_action_reward": false, "zero_mean": true, "max_seq_len": 20, "lstm_cell_size": 256, "custom_preprocessor": null}, "vf_share_layers": false, "lr_schedule": null, "compress_observations": false, "clip_rewards": null, "kl_target": 0.01, "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "callbacks": {"on_train_result": null, "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7f5e88017128>", "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7f5e88017e80>", "on_sample_end": null, "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7f5e880178d0>"}, "preprocessor_pref": "deepmind", "num_gpus": 0, "multiagent": {"policies_to_train": null, "policy_graphs": {}, "policy_mapping_fn": null}, "observation_filter": "MeanStdFilter", "num_workers": 30, "lr": 0.0005, "num_envs_per_worker": 1, "custom_resources_per_worker": {}, "vf_clip_param": 1000000.0, "vf_loss_coeff": 1.0, "log_level": "INFO", "tf_session_args": {"device_count": {"CPU": 1}, "log_device_placement": false, "gpu_options": {"allow_growth": true}, "intra_op_parallelism_threads": 2, "allow_soft_placement": true, "inter_op_parallelism_threads": 2}, "batch_mode": "truncate_episodes", "num_sgd_iter": 10, "output_compress_columns": ["obs", "new_obs"], "simple_optimizer": false, "env_config": {"run": "PPO", "flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.1,\n            \"eta3\": 0.1,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 7.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 0\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 700,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}"}, "entropy_coeff": 0.0, "sample_async": false, "lambda": 0.97, "monitor": false, "env": "MultiWaveAttenuationMergePOEnvBufferedObs-v0shortermeasure01:01:10", "clip_param": 0.3, "sample_batch_size": 750, "input_evaluation": null, "collect_metrics_timeout": 180, "sgd_minibatch_size": 128, "train_batch_size": 45000, "synchronize_filters": true, "kl_coeff": 0.2, "output": null, "num_cpus_for_driver": 1, "use_gae": true, "clip_actions": false, "num_cpus_per_worker": 1, "optimizer": {}, "num_gpus_per_worker": 0, "straggler_mitigation": false}, "timestamp": 1557418482, "info": {"num_steps_trained": 30960147, "default": {"cur_lr": 0.0005000000237487257, "kl": 0.012548715807497501, "vf_explained_var": 0.8587211966514587, "entropy": 2.2509188652038574, "total_loss": 17.349689483642578, "vf_loss": 17.35683822631836, "cur_kl_coeff": 1.0124999284744263, "policy_loss": -0.019854627549648285}, "load_time_ms": 32.751, "grad_time_ms": 19937.896, "sample_time_ms": 24983.814, "num_steps_sampled": 30960147, "update_time_ms": 9.676}, "policy_reward_mean": {}, "training_iteration": 267, "time_this_iter_s": 44.9907431602478, "experiment_id": "4ad1a1b4498d471a9b029fd78d997061", "time_since_restore": 3000.5166392326355, "episode_len_mean": 746.84, "timesteps_this_iter": 81344, "custom_metrics": {"system_level_velocity_min": 6.743244715850992, "system_level_velocity_mean": 10.417223955566927, "system_level_velocity_max": 14.220045881887767, "outflow_rate_min": 573.5617004248261, "cost1_mean": 295.6184704042962, "cost2_min": -150.39776460865073, "outflow_rate_mean": 944.1069720717503, "cost2_max": -84.97795634348724, "cost1_min": 174.96082533601128, "cost1_max": 402.7731719608212, "cost2_mean": -118.5992734399218, "outflow_rate_max": 1258.1826162029317}}
{"iterations_since_restore": 68, "timesteps_since_restore": 5554167, "episode_reward_min": 455.3178983917804, "time_total_s": 16470.393555402756, "node_ip": "10.138.0.2", "done": false, "episode_reward_mean": 721.4657040725439, "num_metric_batches_dropped": 0, "episodes_total": 15941, "date": "2019-05-09_16-15-28", "pid": 21505, "episode_reward_max": 885.0491817594184, "timesteps_total": 31040827, "hostname": "flow-main", "episodes_this_iter": 42, "config": {"horizon": 1500, "input": "sampler", "output_max_file_size": 67108864, "gamma": 0.99, "model": {"free_log_std": false, "squash_to_range": false, "fcnet_activation": "tanh", "grayscale": false, "dim": 84, "fcnet_hiddens": [128, 64, 32], "conv_filters": null, "custom_model": null, "conv_activation": "relu", "custom_options": {}, "use_lstm": false, "channel_major": false, "framestack": true, "lstm_use_prev_action_reward": false, "zero_mean": true, "max_seq_len": 20, "lstm_cell_size": 256, "custom_preprocessor": null}, "vf_share_layers": false, "lr_schedule": null, "compress_observations": false, "clip_rewards": null, "kl_target": 0.01, "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "callbacks": {"on_train_result": null, "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7f5e87d5e320>", "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7f5e87d5e208>", "on_sample_end": null, "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7f5e87d5e0f0>"}, "preprocessor_pref": "deepmind", "num_gpus": 0, "multiagent": {"policies_to_train": null, "policy_graphs": {}, "policy_mapping_fn": null}, "observation_filter": "MeanStdFilter", "num_workers": 30, "lr": 0.0005, "num_envs_per_worker": 1, "custom_resources_per_worker": {}, "vf_clip_param": 1000000.0, "vf_loss_coeff": 1.0, "log_level": "INFO", "tf_session_args": {"device_count": {"CPU": 1}, "log_device_placement": false, "gpu_options": {"allow_growth": true}, "intra_op_parallelism_threads": 2, "allow_soft_placement": true, "inter_op_parallelism_threads": 2}, "batch_mode": "truncate_episodes", "num_sgd_iter": 10, "output_compress_columns": ["obs", "new_obs"], "simple_optimizer": false, "env_config": {"run": "PPO", "flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.1,\n            \"eta3\": 0.1,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 7.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 0\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 700,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}"}, "entropy_coeff": 0.0, "sample_async": false, "lambda": 0.97, "monitor": false, "env": "MultiWaveAttenuationMergePOEnvBufferedObs-v0shortermeasure01:01:10", "clip_param": 0.3, "sample_batch_size": 750, "input_evaluation": null, "collect_metrics_timeout": 180, "sgd_minibatch_size": 128, "train_batch_size": 45000, "synchronize_filters": true, "kl_coeff": 0.2, "output": null, "num_cpus_for_driver": 1, "use_gae": true, "clip_actions": false, "num_cpus_per_worker": 1, "optimizer": {}, "num_gpus_per_worker": 0, "straggler_mitigation": false}, "timestamp": 1557418528, "info": {"num_steps_trained": 31040827, "default": {"cur_lr": 0.0005000000237487257, "kl": 0.012657170183956623, "vf_explained_var": 0.8351917266845703, "entropy": 2.2372519969940186, "total_loss": 19.328218460083008, "vf_loss": 19.33553695678711, "cur_kl_coeff": 1.0124999284744263, "policy_loss": -0.020133914425969124}, "load_time_ms": 33.641, "grad_time_ms": 20187.736, "sample_time_ms": 24725.517, "num_steps_sampled": 31040827, "update_time_ms": 9.707}, "policy_reward_mean": {}, "training_iteration": 268, "time_this_iter_s": 45.389472246170044, "experiment_id": "4ad1a1b4498d471a9b029fd78d997061", "time_since_restore": 3045.9061114788055, "episode_len_mean": 748.47, "timesteps_this_iter": 80680, "custom_metrics": {"system_level_velocity_min": 6.133089389918386, "system_level_velocity_mean": 10.389127116560696, "system_level_velocity_max": 13.469932121817534, "outflow_rate_min": 573.5617004248261, "cost1_mean": 295.7474463867149, "cost2_min": -153.36380669043845, "outflow_rate_mean": 942.6672253121609, "cost2_max": -84.97795634348724, "cost1_min": 170.87862706612518, "cost1_max": 384.8337024361822, "cost2_mean": -118.56997641692615, "outflow_rate_max": 1203.873700288877}}
{"iterations_since_restore": 69, "timesteps_since_restore": 5635580, "episode_reward_min": 532.9822513252861, "time_total_s": 16514.14230799675, "node_ip": "10.138.0.2", "done": false, "episode_reward_mean": 730.2304187768298, "num_metric_batches_dropped": 0, "episodes_total": 15983, "date": "2019-05-09_16-16-11", "pid": 21505, "episode_reward_max": 885.0491817594184, "timesteps_total": 31122240, "hostname": "flow-main", "episodes_this_iter": 42, "config": {"horizon": 1500, "input": "sampler", "output_max_file_size": 67108864, "gamma": 0.99, "model": {"free_log_std": false, "squash_to_range": false, "fcnet_activation": "tanh", "grayscale": false, "dim": 84, "fcnet_hiddens": [128, 64, 32], "conv_filters": null, "custom_model": null, "conv_activation": "relu", "custom_options": {}, "use_lstm": false, "channel_major": false, "framestack": true, "lstm_use_prev_action_reward": false, "zero_mean": true, "max_seq_len": 20, "lstm_cell_size": 256, "custom_preprocessor": null}, "vf_share_layers": false, "lr_schedule": null, "compress_observations": false, "clip_rewards": null, "kl_target": 0.01, "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "callbacks": {"on_train_result": null, "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7f5e87d5ec88>", "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7f5e87d5ed30>", "on_sample_end": null, "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7f5e87d5e128>"}, "preprocessor_pref": "deepmind", "num_gpus": 0, "multiagent": {"policies_to_train": null, "policy_graphs": {}, "policy_mapping_fn": null}, "observation_filter": "MeanStdFilter", "num_workers": 30, "lr": 0.0005, "num_envs_per_worker": 1, "custom_resources_per_worker": {}, "vf_clip_param": 1000000.0, "vf_loss_coeff": 1.0, "log_level": "INFO", "tf_session_args": {"device_count": {"CPU": 1}, "log_device_placement": false, "gpu_options": {"allow_growth": true}, "intra_op_parallelism_threads": 2, "allow_soft_placement": true, "inter_op_parallelism_threads": 2}, "batch_mode": "truncate_episodes", "num_sgd_iter": 10, "output_compress_columns": ["obs", "new_obs"], "simple_optimizer": false, "env_config": {"run": "PPO", "flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.1,\n            \"eta3\": 0.1,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 7.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 0\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 700,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}"}, "entropy_coeff": 0.0, "sample_async": false, "lambda": 0.97, "monitor": false, "env": "MultiWaveAttenuationMergePOEnvBufferedObs-v0shortermeasure01:01:10", "clip_param": 0.3, "sample_batch_size": 750, "input_evaluation": null, "collect_metrics_timeout": 180, "sgd_minibatch_size": 128, "train_batch_size": 45000, "synchronize_filters": true, "kl_coeff": 0.2, "output": null, "num_cpus_for_driver": 1, "use_gae": true, "clip_actions": false, "num_cpus_per_worker": 1, "optimizer": {}, "num_gpus_per_worker": 0, "straggler_mitigation": false}, "timestamp": 1557418571, "info": {"num_steps_trained": 31122240, "default": {"cur_lr": 0.0005000000237487257, "kl": 0.012424685060977936, "vf_explained_var": 0.8503412008285522, "entropy": 2.2378313541412354, "total_loss": 17.329641342163086, "vf_loss": 17.337650299072266, "cur_kl_coeff": 1.0124999284744263, "policy_loss": -0.020588593557476997}, "load_time_ms": 33.867, "grad_time_ms": 20183.723, "sample_time_ms": 24519.874, "num_steps_sampled": 31122240, "update_time_ms": 9.574}, "policy_reward_mean": {}, "training_iteration": 269, "time_this_iter_s": 43.74875259399414, "experiment_id": "4ad1a1b4498d471a9b029fd78d997061", "time_since_restore": 3089.6548640727997, "episode_len_mean": 750.17, "timesteps_this_iter": 81413, "custom_metrics": {"system_level_velocity_min": 6.133089389918386, "system_level_velocity_mean": 10.532380388286231, "system_level_velocity_max": 13.301311497569472, "outflow_rate_min": 614.2624351648353, "cost1_mean": 300.2737961680355, "cost2_min": -156.1853103918824, "outflow_rate_mean": 956.7962190103498, "cost2_max": -88.52696266653373, "cost1_min": 170.87862706612518, "cost1_max": 382.10811835552306, "cost2_mean": -119.9584528990898, "outflow_rate_max": 1203.873700288877}}
{"iterations_since_restore": 70, "timesteps_since_restore": 5718116, "episode_reward_min": 532.9822513252861, "time_total_s": 16558.987236499786, "node_ip": "10.138.0.2", "done": false, "episode_reward_mean": 725.4881495629904, "num_metric_batches_dropped": 0, "episodes_total": 16025, "date": "2019-05-09_16-16-56", "pid": 21505, "episode_reward_max": 885.0491817594184, "timesteps_total": 31204776, "hostname": "flow-main", "episodes_this_iter": 42, "config": {"horizon": 1500, "input": "sampler", "output_max_file_size": 67108864, "gamma": 0.99, "model": {"free_log_std": false, "squash_to_range": false, "fcnet_activation": "tanh", "grayscale": false, "dim": 84, "fcnet_hiddens": [128, 64, 32], "conv_filters": null, "custom_model": null, "conv_activation": "relu", "custom_options": {}, "use_lstm": false, "channel_major": false, "framestack": true, "lstm_use_prev_action_reward": false, "zero_mean": true, "max_seq_len": 20, "lstm_cell_size": 256, "custom_preprocessor": null}, "vf_share_layers": false, "lr_schedule": null, "compress_observations": false, "clip_rewards": null, "kl_target": 0.01, "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "callbacks": {"on_train_result": null, "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7f5e88017470>", "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7f5e88017cc0>", "on_sample_end": null, "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7f5e88017ba8>"}, "preprocessor_pref": "deepmind", "num_gpus": 0, "multiagent": {"policies_to_train": null, "policy_graphs": {}, "policy_mapping_fn": null}, "observation_filter": "MeanStdFilter", "num_workers": 30, "lr": 0.0005, "num_envs_per_worker": 1, "custom_resources_per_worker": {}, "vf_clip_param": 1000000.0, "vf_loss_coeff": 1.0, "log_level": "INFO", "tf_session_args": {"device_count": {"CPU": 1}, "log_device_placement": false, "gpu_options": {"allow_growth": true}, "intra_op_parallelism_threads": 2, "allow_soft_placement": true, "inter_op_parallelism_threads": 2}, "batch_mode": "truncate_episodes", "num_sgd_iter": 10, "output_compress_columns": ["obs", "new_obs"], "simple_optimizer": false, "env_config": {"run": "PPO", "flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.1,\n            \"eta3\": 0.1,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 7.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 0\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 700,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}"}, "entropy_coeff": 0.0, "sample_async": false, "lambda": 0.97, "monitor": false, "env": "MultiWaveAttenuationMergePOEnvBufferedObs-v0shortermeasure01:01:10", "clip_param": 0.3, "sample_batch_size": 750, "input_evaluation": null, "collect_metrics_timeout": 180, "sgd_minibatch_size": 128, "train_batch_size": 45000, "synchronize_filters": true, "kl_coeff": 0.2, "output": null, "num_cpus_for_driver": 1, "use_gae": true, "clip_actions": false, "num_cpus_per_worker": 1, "optimizer": {}, "num_gpus_per_worker": 0, "straggler_mitigation": false}, "timestamp": 1557418616, "info": {"num_steps_trained": 31204776, "default": {"cur_lr": 0.0005000000237487257, "kl": 0.01259693130850792, "vf_explained_var": 0.8585206866264343, "entropy": 2.2596476078033447, "total_loss": 16.632164001464844, "vf_loss": 16.63983726501465, "cur_kl_coeff": 1.0124999284744263, "policy_loss": -0.020426522940397263}, "load_time_ms": 34.551, "grad_time_ms": 20120.017, "sample_time_ms": 24553.788, "num_steps_sampled": 31204776, "update_time_ms": 9.328}, "policy_reward_mean": {}, "training_iteration": 270, "time_this_iter_s": 44.8449285030365, "experiment_id": "4ad1a1b4498d471a9b029fd78d997061", "time_since_restore": 3134.499792575836, "episode_len_mean": 750.17, "timesteps_this_iter": 82536, "custom_metrics": {"system_level_velocity_min": 6.133089389918386, "system_level_velocity_mean": 10.45396773505817, "system_level_velocity_max": 13.292728105763992, "outflow_rate_min": 614.2624351648353, "cost1_mean": 298.27087174617236, "cost2_min": -156.1853103918824, "outflow_rate_mean": 949.1919217270447, "cost2_max": -89.01081988257262, "cost1_min": 170.87862706612518, "cost1_max": 379.1819256759871, "cost2_mean": -119.08866697389898, "outflow_rate_max": 1166.703332151751}}
{"iterations_since_restore": 71, "timesteps_since_restore": 5800115, "episode_reward_min": 551.6815665064024, "time_total_s": 16604.598702907562, "node_ip": "10.138.0.2", "done": false, "episode_reward_mean": 714.9629211256079, "num_metric_batches_dropped": 0, "episodes_total": 16067, "date": "2019-05-09_16-17-42", "pid": 21505, "episode_reward_max": 874.5552439256861, "timesteps_total": 31286775, "hostname": "flow-main", "episodes_this_iter": 42, "config": {"horizon": 1500, "input": "sampler", "output_max_file_size": 67108864, "gamma": 0.99, "model": {"free_log_std": false, "squash_to_range": false, "fcnet_activation": "tanh", "grayscale": false, "dim": 84, "fcnet_hiddens": [128, 64, 32], "conv_filters": null, "custom_model": null, "conv_activation": "relu", "custom_options": {}, "use_lstm": false, "channel_major": false, "framestack": true, "lstm_use_prev_action_reward": false, "zero_mean": true, "max_seq_len": 20, "lstm_cell_size": 256, "custom_preprocessor": null}, "vf_share_layers": false, "lr_schedule": null, "compress_observations": false, "clip_rewards": null, "kl_target": 0.01, "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "callbacks": {"on_train_result": null, "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7f5e88010550>", "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7f5e880100f0>", "on_sample_end": null, "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7f5e88010cc0>"}, "preprocessor_pref": "deepmind", "num_gpus": 0, "multiagent": {"policies_to_train": null, "policy_graphs": {}, "policy_mapping_fn": null}, "observation_filter": "MeanStdFilter", "num_workers": 30, "lr": 0.0005, "num_envs_per_worker": 1, "custom_resources_per_worker": {}, "vf_clip_param": 1000000.0, "vf_loss_coeff": 1.0, "log_level": "INFO", "tf_session_args": {"device_count": {"CPU": 1}, "log_device_placement": false, "gpu_options": {"allow_growth": true}, "intra_op_parallelism_threads": 2, "allow_soft_placement": true, "inter_op_parallelism_threads": 2}, "batch_mode": "truncate_episodes", "num_sgd_iter": 10, "output_compress_columns": ["obs", "new_obs"], "simple_optimizer": false, "env_config": {"run": "PPO", "flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.1,\n            \"eta3\": 0.1,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 7.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 0\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 700,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}"}, "entropy_coeff": 0.0, "sample_async": false, "lambda": 0.97, "monitor": false, "env": "MultiWaveAttenuationMergePOEnvBufferedObs-v0shortermeasure01:01:10", "clip_param": 0.3, "sample_batch_size": 750, "input_evaluation": null, "collect_metrics_timeout": 180, "sgd_minibatch_size": 128, "train_batch_size": 45000, "synchronize_filters": true, "kl_coeff": 0.2, "output": null, "num_cpus_for_driver": 1, "use_gae": true, "clip_actions": false, "num_cpus_per_worker": 1, "optimizer": {}, "num_gpus_per_worker": 0, "straggler_mitigation": false}, "timestamp": 1557418662, "info": {"num_steps_trained": 31286775, "default": {"cur_lr": 0.0005000000237487257, "kl": 0.012639922089874744, "vf_explained_var": 0.8545017242431641, "entropy": 2.2629075050354004, "total_loss": 16.901607513427734, "vf_loss": 16.909719467163086, "cur_kl_coeff": 1.0124999284744263, "policy_loss": -0.020911257714033127}, "load_time_ms": 34.653, "grad_time_ms": 19881.837, "sample_time_ms": 24895.683, "num_steps_sampled": 31286775, "update_time_ms": 9.243}, "policy_reward_mean": {}, "training_iteration": 271, "time_this_iter_s": 45.61146640777588, "experiment_id": "4ad1a1b4498d471a9b029fd78d997061", "time_since_restore": 3180.111258983612, "episode_len_mean": 750.17, "timesteps_this_iter": 81999, "custom_metrics": {"system_level_velocity_min": 6.176739983329088, "system_level_velocity_mean": 10.318961314573796, "system_level_velocity_max": 13.292728105763992, "outflow_rate_min": 638.2488857142857, "cost1_mean": 294.4884758215995, "cost2_min": -156.1853103918824, "outflow_rate_mean": 934.6955749047487, "cost2_max": -88.45068800609738, "cost1_min": 172.18571187101344, "cost1_max": 379.1819256759871, "cost2_mean": -119.32404090981063, "outflow_rate_max": 1150.6307762033964}}
{"iterations_since_restore": 72, "timesteps_since_restore": 5882622, "episode_reward_min": 209.77277778757988, "time_total_s": 16650.568913936615, "node_ip": "10.138.0.2", "done": false, "episode_reward_mean": 712.2693272837585, "num_metric_batches_dropped": 0, "episodes_total": 16110, "date": "2019-05-09_16-18-28", "pid": 21505, "episode_reward_max": 874.5552439256861, "timesteps_total": 31369282, "hostname": "flow-main", "episodes_this_iter": 43, "config": {"horizon": 1500, "input": "sampler", "output_max_file_size": 67108864, "gamma": 0.99, "model": {"free_log_std": false, "squash_to_range": false, "fcnet_activation": "tanh", "grayscale": false, "dim": 84, "fcnet_hiddens": [128, 64, 32], "conv_filters": null, "custom_model": null, "conv_activation": "relu", "custom_options": {}, "use_lstm": false, "channel_major": false, "framestack": true, "lstm_use_prev_action_reward": false, "zero_mean": true, "max_seq_len": 20, "lstm_cell_size": 256, "custom_preprocessor": null}, "vf_share_layers": false, "lr_schedule": null, "compress_observations": false, "clip_rewards": null, "kl_target": 0.01, "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "callbacks": {"on_train_result": null, "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7f5e87ff5a20>", "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7f5e87ff5438>", "on_sample_end": null, "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7f5e87ff5dd8>"}, "preprocessor_pref": "deepmind", "num_gpus": 0, "multiagent": {"policies_to_train": null, "policy_graphs": {}, "policy_mapping_fn": null}, "observation_filter": "MeanStdFilter", "num_workers": 30, "lr": 0.0005, "num_envs_per_worker": 1, "custom_resources_per_worker": {}, "vf_clip_param": 1000000.0, "vf_loss_coeff": 1.0, "log_level": "INFO", "tf_session_args": {"device_count": {"CPU": 1}, "log_device_placement": false, "gpu_options": {"allow_growth": true}, "intra_op_parallelism_threads": 2, "allow_soft_placement": true, "inter_op_parallelism_threads": 2}, "batch_mode": "truncate_episodes", "num_sgd_iter": 10, "output_compress_columns": ["obs", "new_obs"], "simple_optimizer": false, "env_config": {"run": "PPO", "flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.1,\n            \"eta3\": 0.1,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 7.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 0\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 700,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}"}, "entropy_coeff": 0.0, "sample_async": false, "lambda": 0.97, "monitor": false, "env": "MultiWaveAttenuationMergePOEnvBufferedObs-v0shortermeasure01:01:10", "clip_param": 0.3, "sample_batch_size": 750, "input_evaluation": null, "collect_metrics_timeout": 180, "sgd_minibatch_size": 128, "train_batch_size": 45000, "synchronize_filters": true, "kl_coeff": 0.2, "output": null, "num_cpus_for_driver": 1, "use_gae": true, "clip_actions": false, "num_cpus_per_worker": 1, "optimizer": {}, "num_gpus_per_worker": 0, "straggler_mitigation": false}, "timestamp": 1557418708, "info": {"num_steps_trained": 31369282, "default": {"cur_lr": 0.0005000000237487257, "kl": 0.012079535983502865, "vf_explained_var": 0.8505387306213379, "entropy": 2.270083427429199, "total_loss": 17.151926040649414, "vf_loss": 17.160083770751953, "cur_kl_coeff": 1.0124999284744263, "policy_loss": -0.020389685407280922}, "load_time_ms": 34.082, "grad_time_ms": 19887.661, "sample_time_ms": 25174.623, "num_steps_sampled": 31369282, "update_time_ms": 9.216}, "policy_reward_mean": {}, "training_iteration": 272, "time_this_iter_s": 45.970211029052734, "experiment_id": "4ad1a1b4498d471a9b029fd78d997061", "time_since_restore": 3226.081470012665, "episode_len_mean": 745.67, "timesteps_this_iter": 82507, "custom_metrics": {"system_level_velocity_min": 6.317402521239189, "system_level_velocity_mean": 10.386270235788189, "system_level_velocity_max": 13.090084289429774, "outflow_rate_min": 395.93032111848254, "cost1_mean": 294.3153781390891, "cost2_min": -148.65503942221082, "outflow_rate_mean": 934.1208262309765, "cost2_max": -88.45068800609738, "cost1_min": 109.10425835054309, "cost1_max": 371.4197151739942, "cost2_mean": -119.28005415244667, "outflow_rate_max": 1159.8023593119751}}
{"iterations_since_restore": 73, "timesteps_since_restore": 5965584, "episode_reward_min": 209.77277778757988, "time_total_s": 16696.993384599686, "node_ip": "10.138.0.2", "done": false, "episode_reward_mean": 712.5017966803638, "num_metric_batches_dropped": 0, "episodes_total": 16152, "date": "2019-05-09_16-19-14", "pid": 21505, "episode_reward_max": 867.1345630191221, "timesteps_total": 31452244, "hostname": "flow-main", "episodes_this_iter": 42, "config": {"horizon": 1500, "input": "sampler", "output_max_file_size": 67108864, "gamma": 0.99, "model": {"free_log_std": false, "squash_to_range": false, "fcnet_activation": "tanh", "grayscale": false, "dim": 84, "fcnet_hiddens": [128, 64, 32], "conv_filters": null, "custom_model": null, "conv_activation": "relu", "custom_options": {}, "use_lstm": false, "channel_major": false, "framestack": true, "lstm_use_prev_action_reward": false, "zero_mean": true, "max_seq_len": 20, "lstm_cell_size": 256, "custom_preprocessor": null}, "vf_share_layers": false, "lr_schedule": null, "compress_observations": false, "clip_rewards": null, "kl_target": 0.01, "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "callbacks": {"on_train_result": null, "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7f5e88017c18>", "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7f5e880178d0>", "on_sample_end": null, "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7f5e88017518>"}, "preprocessor_pref": "deepmind", "num_gpus": 0, "multiagent": {"policies_to_train": null, "policy_graphs": {}, "policy_mapping_fn": null}, "observation_filter": "MeanStdFilter", "num_workers": 30, "lr": 0.0005, "num_envs_per_worker": 1, "custom_resources_per_worker": {}, "vf_clip_param": 1000000.0, "vf_loss_coeff": 1.0, "log_level": "INFO", "tf_session_args": {"device_count": {"CPU": 1}, "log_device_placement": false, "gpu_options": {"allow_growth": true}, "intra_op_parallelism_threads": 2, "allow_soft_placement": true, "inter_op_parallelism_threads": 2}, "batch_mode": "truncate_episodes", "num_sgd_iter": 10, "output_compress_columns": ["obs", "new_obs"], "simple_optimizer": false, "env_config": {"run": "PPO", "flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.1,\n            \"eta3\": 0.1,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 7.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 0\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 700,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}"}, "entropy_coeff": 0.0, "sample_async": false, "lambda": 0.97, "monitor": false, "env": "MultiWaveAttenuationMergePOEnvBufferedObs-v0shortermeasure01:01:10", "clip_param": 0.3, "sample_batch_size": 750, "input_evaluation": null, "collect_metrics_timeout": 180, "sgd_minibatch_size": 128, "train_batch_size": 45000, "synchronize_filters": true, "kl_coeff": 0.2, "output": null, "num_cpus_for_driver": 1, "use_gae": true, "clip_actions": false, "num_cpus_per_worker": 1, "optimizer": {}, "num_gpus_per_worker": 0, "straggler_mitigation": false}, "timestamp": 1557418754, "info": {"num_steps_trained": 31452244, "default": {"cur_lr": 0.0005000000237487257, "kl": 0.01246769167482853, "vf_explained_var": 0.8382583260536194, "entropy": 2.264293909072876, "total_loss": 17.878263473510742, "vf_loss": 17.885826110839844, "cur_kl_coeff": 1.0124999284744263, "policy_loss": -0.020188817754387856}, "load_time_ms": 33.686, "grad_time_ms": 19991.808, "sample_time_ms": 25253.099, "num_steps_sampled": 31452244, "update_time_ms": 9.338}, "policy_reward_mean": {}, "training_iteration": 273, "time_this_iter_s": 46.42447066307068, "experiment_id": "4ad1a1b4498d471a9b029fd78d997061", "time_since_restore": 3272.5059406757355, "episode_len_mean": 745.67, "timesteps_this_iter": 82962, "custom_metrics": {"system_level_velocity_min": 5.85101942794127, "system_level_velocity_mean": 10.226173362812922, "system_level_velocity_max": 13.090084289429774, "outflow_rate_min": 395.93032111848254, "cost1_mean": 289.4808825061347, "cost2_min": -141.46827870731363, "outflow_rate_mean": 930.722615696762, "cost2_max": -85.84478608189076, "cost1_min": 109.10425835054309, "cost1_max": 371.4197151739942, "cost2_mean": -118.13143172272694, "outflow_rate_max": 1159.8023593119751}}
{"iterations_since_restore": 74, "timesteps_since_restore": 6048037, "episode_reward_min": 536.565737006123, "time_total_s": 16741.578657388687, "node_ip": "10.138.0.2", "done": false, "episode_reward_mean": 709.539690934002, "num_metric_batches_dropped": 0, "episodes_total": 16194, "date": "2019-05-09_16-19-59", "pid": 21505, "episode_reward_max": 886.4377051500122, "timesteps_total": 31534697, "hostname": "flow-main", "episodes_this_iter": 42, "config": {"horizon": 1500, "input": "sampler", "output_max_file_size": 67108864, "gamma": 0.99, "model": {"free_log_std": false, "squash_to_range": false, "fcnet_activation": "tanh", "grayscale": false, "dim": 84, "fcnet_hiddens": [128, 64, 32], "conv_filters": null, "custom_model": null, "conv_activation": "relu", "custom_options": {}, "use_lstm": false, "channel_major": false, "framestack": true, "lstm_use_prev_action_reward": false, "zero_mean": true, "max_seq_len": 20, "lstm_cell_size": 256, "custom_preprocessor": null}, "vf_share_layers": false, "lr_schedule": null, "compress_observations": false, "clip_rewards": null, "kl_target": 0.01, "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "callbacks": {"on_train_result": null, "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7f5e88017cf8>", "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7f5e880171d0>", "on_sample_end": null, "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7f5e88017b00>"}, "preprocessor_pref": "deepmind", "num_gpus": 0, "multiagent": {"policies_to_train": null, "policy_graphs": {}, "policy_mapping_fn": null}, "observation_filter": "MeanStdFilter", "num_workers": 30, "lr": 0.0005, "num_envs_per_worker": 1, "custom_resources_per_worker": {}, "vf_clip_param": 1000000.0, "vf_loss_coeff": 1.0, "log_level": "INFO", "tf_session_args": {"device_count": {"CPU": 1}, "log_device_placement": false, "gpu_options": {"allow_growth": true}, "intra_op_parallelism_threads": 2, "allow_soft_placement": true, "inter_op_parallelism_threads": 2}, "batch_mode": "truncate_episodes", "num_sgd_iter": 10, "output_compress_columns": ["obs", "new_obs"], "simple_optimizer": false, "env_config": {"run": "PPO", "flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.1,\n            \"eta3\": 0.1,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 7.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 0\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 700,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}"}, "entropy_coeff": 0.0, "sample_async": false, "lambda": 0.97, "monitor": false, "env": "MultiWaveAttenuationMergePOEnvBufferedObs-v0shortermeasure01:01:10", "clip_param": 0.3, "sample_batch_size": 750, "input_evaluation": null, "collect_metrics_timeout": 180, "sgd_minibatch_size": 128, "train_batch_size": 45000, "synchronize_filters": true, "kl_coeff": 0.2, "output": null, "num_cpus_for_driver": 1, "use_gae": true, "clip_actions": false, "num_cpus_per_worker": 1, "optimizer": {}, "num_gpus_per_worker": 0, "straggler_mitigation": false}, "timestamp": 1557418799, "info": {"num_steps_trained": 31534697, "default": {"cur_lr": 0.0005000000237487257, "kl": 0.012456156313419342, "vf_explained_var": 0.8538135886192322, "entropy": 2.270301103591919, "total_loss": 17.117645263671875, "vf_loss": 17.12538719177246, "cur_kl_coeff": 1.0124999284744263, "policy_loss": -0.020352402701973915}, "load_time_ms": 34.159, "grad_time_ms": 20060.61, "sample_time_ms": 25084.945, "num_steps_sampled": 31534697, "update_time_ms": 9.329}, "policy_reward_mean": {}, "training_iteration": 274, "time_this_iter_s": 44.585272789001465, "experiment_id": "4ad1a1b4498d471a9b029fd78d997061", "time_since_restore": 3317.091213464737, "episode_len_mean": 751.0, "timesteps_this_iter": 82453, "custom_metrics": {"system_level_velocity_min": 5.85101942794127, "system_level_velocity_mean": 10.03764350996691, "system_level_velocity_max": 12.99427637510685, "outflow_rate_min": 577.3031142857143, "cost1_mean": 286.035030023375, "cost2_min": -147.84851825882234, "outflow_rate_mean": 923.1790021390333, "cost2_max": -85.84478608189076, "cost1_min": 161.96387045266005, "cost1_max": 371.4197151739942, "cost2_mean": -116.2291581796594, "outflow_rate_max": 1159.8023593119751}}
{"iterations_since_restore": 75, "timesteps_since_restore": 6130494, "episode_reward_min": 536.565737006123, "time_total_s": 16788.440657377243, "node_ip": "10.138.0.2", "done": false, "episode_reward_mean": 719.4281715035139, "num_metric_batches_dropped": 0, "episodes_total": 16237, "date": "2019-05-09_16-20-46", "pid": 21505, "episode_reward_max": 886.4377051500122, "timesteps_total": 31617154, "hostname": "flow-main", "episodes_this_iter": 43, "config": {"horizon": 1500, "input": "sampler", "output_max_file_size": 67108864, "gamma": 0.99, "model": {"free_log_std": false, "squash_to_range": false, "fcnet_activation": "tanh", "grayscale": false, "dim": 84, "fcnet_hiddens": [128, 64, 32], "conv_filters": null, "custom_model": null, "conv_activation": "relu", "custom_options": {}, "use_lstm": false, "channel_major": false, "framestack": true, "lstm_use_prev_action_reward": false, "zero_mean": true, "max_seq_len": 20, "lstm_cell_size": 256, "custom_preprocessor": null}, "vf_share_layers": false, "lr_schedule": null, "compress_observations": false, "clip_rewards": null, "kl_target": 0.01, "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "callbacks": {"on_train_result": null, "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7f5e87ff5ef0>", "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7f5e87d5e4e0>", "on_sample_end": null, "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7f5e87d5ef60>"}, "preprocessor_pref": "deepmind", "num_gpus": 0, "multiagent": {"policies_to_train": null, "policy_graphs": {}, "policy_mapping_fn": null}, "observation_filter": "MeanStdFilter", "num_workers": 30, "lr": 0.0005, "num_envs_per_worker": 1, "custom_resources_per_worker": {}, "vf_clip_param": 1000000.0, "vf_loss_coeff": 1.0, "log_level": "INFO", "tf_session_args": {"device_count": {"CPU": 1}, "log_device_placement": false, "gpu_options": {"allow_growth": true}, "intra_op_parallelism_threads": 2, "allow_soft_placement": true, "inter_op_parallelism_threads": 2}, "batch_mode": "truncate_episodes", "num_sgd_iter": 10, "output_compress_columns": ["obs", "new_obs"], "simple_optimizer": false, "env_config": {"run": "PPO", "flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.1,\n            \"eta3\": 0.1,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 7.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 0\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 700,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}"}, "entropy_coeff": 0.0, "sample_async": false, "lambda": 0.97, "monitor": false, "env": "MultiWaveAttenuationMergePOEnvBufferedObs-v0shortermeasure01:01:10", "clip_param": 0.3, "sample_batch_size": 750, "input_evaluation": null, "collect_metrics_timeout": 180, "sgd_minibatch_size": 128, "train_batch_size": 45000, "synchronize_filters": true, "kl_coeff": 0.2, "output": null, "num_cpus_for_driver": 1, "use_gae": true, "clip_actions": false, "num_cpus_per_worker": 1, "optimizer": {}, "num_gpus_per_worker": 0, "straggler_mitigation": false}, "timestamp": 1557418846, "info": {"num_steps_trained": 31617154, "default": {"cur_lr": 0.0005000000237487257, "kl": 0.012102463282644749, "vf_explained_var": 0.837672233581543, "entropy": 2.2624118328094482, "total_loss": 17.773771286010742, "vf_loss": 17.781471252441406, "cur_kl_coeff": 1.0124999284744263, "policy_loss": -0.019953852519392967}, "load_time_ms": 33.989, "grad_time_ms": 20421.012, "sample_time_ms": 24836.772, "num_steps_sampled": 31617154, "update_time_ms": 9.25}, "policy_reward_mean": {}, "training_iteration": 275, "time_this_iter_s": 46.86199998855591, "experiment_id": "4ad1a1b4498d471a9b029fd78d997061", "time_since_restore": 3363.953213453293, "episode_len_mean": 751.0, "timesteps_this_iter": 82457, "custom_metrics": {"system_level_velocity_min": 5.979821290755244, "system_level_velocity_mean": 10.247583383410023, "system_level_velocity_max": 12.618241128957218, "outflow_rate_min": 637.7184857142857, "cost1_mean": 292.37045659559766, "cost2_min": -147.84851825882234, "outflow_rate_mean": 939.7445489109112, "cost2_max": -91.36470725506855, "cost1_min": 169.9102867453346, "cost1_max": 359.55261714054404, "cost2_mean": -116.39375379854448, "outflow_rate_max": 1124.5912426290931}}
{"iterations_since_restore": 76, "timesteps_since_restore": 6212178, "episode_reward_min": 545.1237995649326, "time_total_s": 16831.801247358322, "node_ip": "10.138.0.2", "done": false, "episode_reward_mean": 717.0074323125239, "num_metric_batches_dropped": 0, "episodes_total": 16279, "date": "2019-05-09_16-21-29", "pid": 21505, "episode_reward_max": 886.4377051500122, "timesteps_total": 31698838, "hostname": "flow-main", "episodes_this_iter": 42, "config": {"horizon": 1500, "input": "sampler", "output_max_file_size": 67108864, "gamma": 0.99, "model": {"free_log_std": false, "squash_to_range": false, "fcnet_activation": "tanh", "grayscale": false, "dim": 84, "fcnet_hiddens": [128, 64, 32], "conv_filters": null, "custom_model": null, "conv_activation": "relu", "custom_options": {}, "use_lstm": false, "channel_major": false, "framestack": true, "lstm_use_prev_action_reward": false, "zero_mean": true, "max_seq_len": 20, "lstm_cell_size": 256, "custom_preprocessor": null}, "vf_share_layers": false, "lr_schedule": null, "compress_observations": false, "clip_rewards": null, "kl_target": 0.01, "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "callbacks": {"on_train_result": null, "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7f5e87ff5be0>", "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7f5e87ff5a20>", "on_sample_end": null, "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7f5e87ff5438>"}, "preprocessor_pref": "deepmind", "num_gpus": 0, "multiagent": {"policies_to_train": null, "policy_graphs": {}, "policy_mapping_fn": null}, "observation_filter": "MeanStdFilter", "num_workers": 30, "lr": 0.0005, "num_envs_per_worker": 1, "custom_resources_per_worker": {}, "vf_clip_param": 1000000.0, "vf_loss_coeff": 1.0, "log_level": "INFO", "tf_session_args": {"device_count": {"CPU": 1}, "log_device_placement": false, "gpu_options": {"allow_growth": true}, "intra_op_parallelism_threads": 2, "allow_soft_placement": true, "inter_op_parallelism_threads": 2}, "batch_mode": "truncate_episodes", "num_sgd_iter": 10, "output_compress_columns": ["obs", "new_obs"], "simple_optimizer": false, "env_config": {"run": "PPO", "flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.1,\n            \"eta3\": 0.1,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 7.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 0\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 700,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}"}, "entropy_coeff": 0.0, "sample_async": false, "lambda": 0.97, "monitor": false, "env": "MultiWaveAttenuationMergePOEnvBufferedObs-v0shortermeasure01:01:10", "clip_param": 0.3, "sample_batch_size": 750, "input_evaluation": null, "collect_metrics_timeout": 180, "sgd_minibatch_size": 128, "train_batch_size": 45000, "synchronize_filters": true, "kl_coeff": 0.2, "output": null, "num_cpus_for_driver": 1, "use_gae": true, "clip_actions": false, "num_cpus_per_worker": 1, "optimizer": {}, "num_gpus_per_worker": 0, "straggler_mitigation": false}, "timestamp": 1557418889, "info": {"num_steps_trained": 31698838, "default": {"cur_lr": 0.0005000000237487257, "kl": 0.012750321067869663, "vf_explained_var": 0.8639877438545227, "entropy": 2.2934603691101074, "total_loss": 15.861467361450195, "vf_loss": 15.867720603942871, "cur_kl_coeff": 1.0124998092651367, "policy_loss": -0.019160863012075424}, "load_time_ms": 34.368, "grad_time_ms": 20231.518, "sample_time_ms": 24726.185, "num_steps_sampled": 31698838, "update_time_ms": 8.834}, "policy_reward_mean": {}, "training_iteration": 276, "time_this_iter_s": 43.3605899810791, "experiment_id": "4ad1a1b4498d471a9b029fd78d997061", "time_since_restore": 3407.313803434372, "episode_len_mean": 751.0, "timesteps_this_iter": 81684, "custom_metrics": {"system_level_velocity_min": 5.979821290755244, "system_level_velocity_mean": 10.373344820444062, "system_level_velocity_max": 12.618241128957218, "outflow_rate_min": 637.7184857142857, "cost1_mean": 296.07351170052004, "cost2_min": -141.66057285833222, "outflow_rate_mean": 944.9107287980952, "cost2_max": -87.72735545197337, "cost1_min": 168.9727635165675, "cost1_max": 359.55261714054404, "cost2_mean": -116.19006861815406, "outflow_rate_max": 1153.8874478290327}}
{"iterations_since_restore": 77, "timesteps_since_restore": 6293500, "episode_reward_min": 545.1237995649326, "time_total_s": 16876.124930381775, "node_ip": "10.138.0.2", "done": false, "episode_reward_mean": 708.2173414381961, "num_metric_batches_dropped": 0, "episodes_total": 16321, "date": "2019-05-09_16-22-14", "pid": 21505, "episode_reward_max": 866.6112808884101, "timesteps_total": 31780160, "hostname": "flow-main", "episodes_this_iter": 42, "config": {"horizon": 1500, "input": "sampler", "output_max_file_size": 67108864, "gamma": 0.99, "model": {"free_log_std": false, "squash_to_range": false, "fcnet_activation": "tanh", "grayscale": false, "dim": 84, "fcnet_hiddens": [128, 64, 32], "conv_filters": null, "custom_model": null, "conv_activation": "relu", "custom_options": {}, "use_lstm": false, "channel_major": false, "framestack": true, "lstm_use_prev_action_reward": false, "zero_mean": true, "max_seq_len": 20, "lstm_cell_size": 256, "custom_preprocessor": null}, "vf_share_layers": false, "lr_schedule": null, "compress_observations": false, "clip_rewards": null, "kl_target": 0.01, "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "callbacks": {"on_train_result": null, "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7f5e87d5e898>", "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7f5e87d5e518>", "on_sample_end": null, "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7f5e87d5e160>"}, "preprocessor_pref": "deepmind", "num_gpus": 0, "multiagent": {"policies_to_train": null, "policy_graphs": {}, "policy_mapping_fn": null}, "observation_filter": "MeanStdFilter", "num_workers": 30, "lr": 0.0005, "num_envs_per_worker": 1, "custom_resources_per_worker": {}, "vf_clip_param": 1000000.0, "vf_loss_coeff": 1.0, "log_level": "INFO", "tf_session_args": {"device_count": {"CPU": 1}, "log_device_placement": false, "gpu_options": {"allow_growth": true}, "intra_op_parallelism_threads": 2, "allow_soft_placement": true, "inter_op_parallelism_threads": 2}, "batch_mode": "truncate_episodes", "num_sgd_iter": 10, "output_compress_columns": ["obs", "new_obs"], "simple_optimizer": false, "env_config": {"run": "PPO", "flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.1,\n            \"eta3\": 0.1,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 7.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 0\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 700,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}"}, "entropy_coeff": 0.0, "sample_async": false, "lambda": 0.97, "monitor": false, "env": "MultiWaveAttenuationMergePOEnvBufferedObs-v0shortermeasure01:01:10", "clip_param": 0.3, "sample_batch_size": 750, "input_evaluation": null, "collect_metrics_timeout": 180, "sgd_minibatch_size": 128, "train_batch_size": 45000, "synchronize_filters": true, "kl_coeff": 0.2, "output": null, "num_cpus_for_driver": 1, "use_gae": true, "clip_actions": false, "num_cpus_per_worker": 1, "optimizer": {}, "num_gpus_per_worker": 0, "straggler_mitigation": false}, "timestamp": 1557418934, "info": {"num_steps_trained": 31780160, "default": {"cur_lr": 0.0005000000237487257, "kl": 0.01224899385124445, "vf_explained_var": 0.8614346385002136, "entropy": 2.2924323081970215, "total_loss": 16.112003326416016, "vf_loss": 16.119365692138672, "cur_kl_coeff": 1.0124999284744263, "policy_loss": -0.01976308785378933}, "load_time_ms": 34.841, "grad_time_ms": 20078.129, "sample_time_ms": 24814.007, "num_steps_sampled": 31780160, "update_time_ms": 8.437}, "policy_reward_mean": {}, "training_iteration": 277, "time_this_iter_s": 44.32368302345276, "experiment_id": "4ad1a1b4498d471a9b029fd78d997061", "time_since_restore": 3451.6374864578247, "episode_len_mean": 751.0, "timesteps_this_iter": 81322, "custom_metrics": {"system_level_velocity_min": 6.12245231996789, "system_level_velocity_mean": 10.219469941528788, "system_level_velocity_max": 13.031771572041393, "outflow_rate_min": 638.7482571428571, "cost1_mean": 291.7959343095754, "cost2_min": -167.08181157673425, "outflow_rate_mean": 929.6829450237195, "cost2_max": -76.84316835293313, "cost1_min": 168.9727635165675, "cost1_max": 375.20305768166395, "cost2_mean": -115.56448201099172, "outflow_rate_max": 1155.6630749234114}}
{"iterations_since_restore": 78, "timesteps_since_restore": 6375946, "episode_reward_min": 499.4765980282322, "time_total_s": 16921.265316724777, "node_ip": "10.138.0.2", "done": false, "episode_reward_mean": 709.968861616135, "num_metric_batches_dropped": 0, "episodes_total": 16364, "date": "2019-05-09_16-22-59", "pid": 21505, "episode_reward_max": 906.2406493098423, "timesteps_total": 31862606, "hostname": "flow-main", "episodes_this_iter": 43, "config": {"horizon": 1500, "input": "sampler", "output_max_file_size": 67108864, "gamma": 0.99, "model": {"free_log_std": false, "squash_to_range": false, "fcnet_activation": "tanh", "grayscale": false, "dim": 84, "fcnet_hiddens": [128, 64, 32], "conv_filters": null, "custom_model": null, "conv_activation": "relu", "custom_options": {}, "use_lstm": false, "channel_major": false, "framestack": true, "lstm_use_prev_action_reward": false, "zero_mean": true, "max_seq_len": 20, "lstm_cell_size": 256, "custom_preprocessor": null}, "vf_share_layers": false, "lr_schedule": null, "compress_observations": false, "clip_rewards": null, "kl_target": 0.01, "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "callbacks": {"on_train_result": null, "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7f5e880104e0>", "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7f5e880106a0>", "on_sample_end": null, "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7f5e88010898>"}, "preprocessor_pref": "deepmind", "num_gpus": 0, "multiagent": {"policies_to_train": null, "policy_graphs": {}, "policy_mapping_fn": null}, "observation_filter": "MeanStdFilter", "num_workers": 30, "lr": 0.0005, "num_envs_per_worker": 1, "custom_resources_per_worker": {}, "vf_clip_param": 1000000.0, "vf_loss_coeff": 1.0, "log_level": "INFO", "tf_session_args": {"device_count": {"CPU": 1}, "log_device_placement": false, "gpu_options": {"allow_growth": true}, "intra_op_parallelism_threads": 2, "allow_soft_placement": true, "inter_op_parallelism_threads": 2}, "batch_mode": "truncate_episodes", "num_sgd_iter": 10, "output_compress_columns": ["obs", "new_obs"], "simple_optimizer": false, "env_config": {"run": "PPO", "flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.1,\n            \"eta3\": 0.1,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 7.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 0\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 700,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}"}, "entropy_coeff": 0.0, "sample_async": false, "lambda": 0.97, "monitor": false, "env": "MultiWaveAttenuationMergePOEnvBufferedObs-v0shortermeasure01:01:10", "clip_param": 0.3, "sample_batch_size": 750, "input_evaluation": null, "collect_metrics_timeout": 180, "sgd_minibatch_size": 128, "train_batch_size": 45000, "synchronize_filters": true, "kl_coeff": 0.2, "output": null, "num_cpus_for_driver": 1, "use_gae": true, "clip_actions": false, "num_cpus_per_worker": 1, "optimizer": {}, "num_gpus_per_worker": 0, "straggler_mitigation": false}, "timestamp": 1557418979, "info": {"num_steps_trained": 31862606, "default": {"cur_lr": 0.0005000000237487257, "kl": 0.012470991350710392, "vf_explained_var": 0.8556539416313171, "entropy": 2.28290057182312, "total_loss": 17.364349365234375, "vf_loss": 17.371177673339844, "cur_kl_coeff": 1.0124999284744263, "policy_loss": -0.01945539563894272}, "load_time_ms": 34.738, "grad_time_ms": 19818.281, "sample_time_ms": 25048.487, "num_steps_sampled": 31862606, "update_time_ms": 8.428}, "policy_reward_mean": {}, "training_iteration": 278, "time_this_iter_s": 45.14038634300232, "experiment_id": "4ad1a1b4498d471a9b029fd78d997061", "time_since_restore": 3496.777872800827, "episode_len_mean": 751.0, "timesteps_this_iter": 82446, "custom_metrics": {"system_level_velocity_min": 5.595209910001385, "system_level_velocity_mean": 10.268346832292975, "system_level_velocity_max": 13.657967968018648, "outflow_rate_min": 551.4740571428572, "cost1_mean": 293.41557460713216, "cost2_min": -167.08181157673425, "outflow_rate_mean": 930.9400844385381, "cost2_max": -76.84316835293313, "cost1_min": 156.17208124079175, "cost1_max": 393.97677751895606, "cost2_mean": -116.26775321675808, "outflow_rate_max": 1212.1524786213788}}
{"iterations_since_restore": 79, "timesteps_since_restore": 6458281, "episode_reward_min": 207.0867336926946, "time_total_s": 16967.10348534584, "node_ip": "10.138.0.2", "done": false, "episode_reward_mean": 702.5859914784561, "num_metric_batches_dropped": 0, "episodes_total": 16408, "date": "2019-05-09_16-23-45", "pid": 21505, "episode_reward_max": 906.2406493098423, "timesteps_total": 31944941, "hostname": "flow-main", "episodes_this_iter": 44, "config": {"horizon": 1500, "input": "sampler", "output_max_file_size": 67108864, "gamma": 0.99, "model": {"free_log_std": false, "squash_to_range": false, "fcnet_activation": "tanh", "grayscale": false, "dim": 84, "fcnet_hiddens": [128, 64, 32], "conv_filters": null, "custom_model": null, "conv_activation": "relu", "custom_options": {}, "use_lstm": false, "channel_major": false, "framestack": true, "lstm_use_prev_action_reward": false, "zero_mean": true, "max_seq_len": 20, "lstm_cell_size": 256, "custom_preprocessor": null}, "vf_share_layers": false, "lr_schedule": null, "compress_observations": false, "clip_rewards": null, "kl_target": 0.01, "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "callbacks": {"on_train_result": null, "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7f5e87d5ecc0>", "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7f5e87d5ec50>", "on_sample_end": null, "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7f5e87d5ea90>"}, "preprocessor_pref": "deepmind", "num_gpus": 0, "multiagent": {"policies_to_train": null, "policy_graphs": {}, "policy_mapping_fn": null}, "observation_filter": "MeanStdFilter", "num_workers": 30, "lr": 0.0005, "num_envs_per_worker": 1, "custom_resources_per_worker": {}, "vf_clip_param": 1000000.0, "vf_loss_coeff": 1.0, "log_level": "INFO", "tf_session_args": {"device_count": {"CPU": 1}, "log_device_placement": false, "gpu_options": {"allow_growth": true}, "intra_op_parallelism_threads": 2, "allow_soft_placement": true, "inter_op_parallelism_threads": 2}, "batch_mode": "truncate_episodes", "num_sgd_iter": 10, "output_compress_columns": ["obs", "new_obs"], "simple_optimizer": false, "env_config": {"run": "PPO", "flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.1,\n            \"eta3\": 0.1,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 7.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 0\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 700,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}"}, "entropy_coeff": 0.0, "sample_async": false, "lambda": 0.97, "monitor": false, "env": "MultiWaveAttenuationMergePOEnvBufferedObs-v0shortermeasure01:01:10", "clip_param": 0.3, "sample_batch_size": 750, "input_evaluation": null, "collect_metrics_timeout": 180, "sgd_minibatch_size": 128, "train_batch_size": 45000, "synchronize_filters": true, "kl_coeff": 0.2, "output": null, "num_cpus_for_driver": 1, "use_gae": true, "clip_actions": false, "num_cpus_per_worker": 1, "optimizer": {}, "num_gpus_per_worker": 0, "straggler_mitigation": false}, "timestamp": 1557419025, "info": {"num_steps_trained": 31944941, "default": {"cur_lr": 0.0005000000237487257, "kl": 0.013020818121731281, "vf_explained_var": 0.8496598601341248, "entropy": 2.306255340576172, "total_loss": 17.511558532714844, "vf_loss": 17.518434524536133, "cur_kl_coeff": 1.0124999284744263, "policy_loss": -0.020061258226633072}, "load_time_ms": 34.264, "grad_time_ms": 19789.958, "sample_time_ms": 25283.996, "num_steps_sampled": 31944941, "update_time_ms": 8.725}, "policy_reward_mean": {}, "training_iteration": 279, "time_this_iter_s": 45.83816862106323, "experiment_id": "4ad1a1b4498d471a9b029fd78d997061", "time_since_restore": 3542.6160414218903, "episode_len_mean": 745.67, "timesteps_this_iter": 82335, "custom_metrics": {"system_level_velocity_min": 4.840677924166223, "system_level_velocity_mean": 10.255547773488543, "system_level_velocity_max": 13.657967968018648, "outflow_rate_min": 386.9603162890406, "cost1_mean": 290.2327591436248, "cost2_min": -148.61655203716336, "outflow_rate_mean": 922.2694894506643, "cost2_max": -76.84316835293313, "cost1_min": 105.6693547960999, "cost1_max": 393.97677751895606, "cost2_mean": -115.1825739317696, "outflow_rate_max": 1212.1524786213788}}
{"iterations_since_restore": 80, "timesteps_since_restore": 6538079, "episode_reward_min": 207.0867336926946, "time_total_s": 17011.639387845993, "node_ip": "10.138.0.2", "done": false, "episode_reward_mean": 703.2443142664364, "num_metric_batches_dropped": 0, "episodes_total": 16450, "date": "2019-05-09_16-24-29", "pid": 21505, "episode_reward_max": 856.289700179951, "timesteps_total": 32024739, "hostname": "flow-main", "episodes_this_iter": 42, "config": {"horizon": 1500, "input": "sampler", "output_max_file_size": 67108864, "gamma": 0.99, "model": {"free_log_std": false, "squash_to_range": false, "fcnet_activation": "tanh", "grayscale": false, "dim": 84, "fcnet_hiddens": [128, 64, 32], "conv_filters": null, "custom_model": null, "conv_activation": "relu", "custom_options": {}, "use_lstm": false, "channel_major": false, "framestack": true, "lstm_use_prev_action_reward": false, "zero_mean": true, "max_seq_len": 20, "lstm_cell_size": 256, "custom_preprocessor": null}, "vf_share_layers": false, "lr_schedule": null, "compress_observations": false, "clip_rewards": null, "kl_target": 0.01, "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "callbacks": {"on_train_result": null, "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7f5e88017048>", "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7f5e88017be0>", "on_sample_end": null, "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7f5e880172e8>"}, "preprocessor_pref": "deepmind", "num_gpus": 0, "multiagent": {"policies_to_train": null, "policy_graphs": {}, "policy_mapping_fn": null}, "observation_filter": "MeanStdFilter", "num_workers": 30, "lr": 0.0005, "num_envs_per_worker": 1, "custom_resources_per_worker": {}, "vf_clip_param": 1000000.0, "vf_loss_coeff": 1.0, "log_level": "INFO", "tf_session_args": {"device_count": {"CPU": 1}, "log_device_placement": false, "gpu_options": {"allow_growth": true}, "intra_op_parallelism_threads": 2, "allow_soft_placement": true, "inter_op_parallelism_threads": 2}, "batch_mode": "truncate_episodes", "num_sgd_iter": 10, "output_compress_columns": ["obs", "new_obs"], "simple_optimizer": false, "env_config": {"run": "PPO", "flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.1,\n            \"eta3\": 0.1,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 7.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 0\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 700,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}"}, "entropy_coeff": 0.0, "sample_async": false, "lambda": 0.97, "monitor": false, "env": "MultiWaveAttenuationMergePOEnvBufferedObs-v0shortermeasure01:01:10", "clip_param": 0.3, "sample_batch_size": 750, "input_evaluation": null, "collect_metrics_timeout": 180, "sgd_minibatch_size": 128, "train_batch_size": 45000, "synchronize_filters": true, "kl_coeff": 0.2, "output": null, "num_cpus_for_driver": 1, "use_gae": true, "clip_actions": false, "num_cpus_per_worker": 1, "optimizer": {}, "num_gpus_per_worker": 0, "straggler_mitigation": false}, "timestamp": 1557419069, "info": {"num_steps_trained": 32024739, "default": {"cur_lr": 0.0005000000237487257, "kl": 0.012852628715336323, "vf_explained_var": 0.8520445227622986, "entropy": 2.2794697284698486, "total_loss": 16.14119529724121, "vf_loss": 16.148757934570312, "cur_kl_coeff": 1.0124999284744263, "policy_loss": -0.020577039569616318}, "load_time_ms": 34.031, "grad_time_ms": 19823.114, "sample_time_ms": 25224.123, "num_steps_sampled": 32024739, "update_time_ms": 8.798}, "policy_reward_mean": {}, "training_iteration": 280, "time_this_iter_s": 44.53590250015259, "experiment_id": "4ad1a1b4498d471a9b029fd78d997061", "time_since_restore": 3587.151943922043, "episode_len_mean": 745.67, "timesteps_this_iter": 79798, "custom_metrics": {"system_level_velocity_min": 4.840677924166223, "system_level_velocity_mean": 10.214367557202863, "system_level_velocity_max": 12.631982687640322, "outflow_rate_min": 386.9603162890406, "cost1_mean": 288.7890749835279, "cost2_min": -148.61655203716336, "outflow_rate_mean": 917.9365251161855, "cost2_max": -78.55875106585316, "cost1_min": 105.6693547960999, "cost1_max": 353.8432296893306, "cost2_mean": -113.43881731875196, "outflow_rate_max": 1108.5195772241298}}
{"iterations_since_restore": 81, "timesteps_since_restore": 6619536, "episode_reward_min": 595.456696788287, "time_total_s": 17054.88918375969, "node_ip": "10.138.0.2", "done": false, "episode_reward_mean": 724.4863998972386, "num_metric_batches_dropped": 0, "episodes_total": 16493, "date": "2019-05-09_16-25-13", "pid": 21505, "episode_reward_max": 882.2152232683909, "timesteps_total": 32106196, "hostname": "flow-main", "episodes_this_iter": 43, "config": {"horizon": 1500, "input": "sampler", "output_max_file_size": 67108864, "gamma": 0.99, "model": {"free_log_std": false, "squash_to_range": false, "fcnet_activation": "tanh", "grayscale": false, "dim": 84, "fcnet_hiddens": [128, 64, 32], "conv_filters": null, "custom_model": null, "conv_activation": "relu", "custom_options": {}, "use_lstm": false, "channel_major": false, "framestack": true, "lstm_use_prev_action_reward": false, "zero_mean": true, "max_seq_len": 20, "lstm_cell_size": 256, "custom_preprocessor": null}, "vf_share_layers": false, "lr_schedule": null, "compress_observations": false, "clip_rewards": null, "kl_target": 0.01, "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "callbacks": {"on_train_result": null, "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7f5e87d5e6d8>", "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7f5e87d5eeb8>", "on_sample_end": null, "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7f5e87d5e588>"}, "preprocessor_pref": "deepmind", "num_gpus": 0, "multiagent": {"policies_to_train": null, "policy_graphs": {}, "policy_mapping_fn": null}, "observation_filter": "MeanStdFilter", "num_workers": 30, "lr": 0.0005, "num_envs_per_worker": 1, "custom_resources_per_worker": {}, "vf_clip_param": 1000000.0, "vf_loss_coeff": 1.0, "log_level": "INFO", "tf_session_args": {"device_count": {"CPU": 1}, "log_device_placement": false, "gpu_options": {"allow_growth": true}, "intra_op_parallelism_threads": 2, "allow_soft_placement": true, "inter_op_parallelism_threads": 2}, "batch_mode": "truncate_episodes", "num_sgd_iter": 10, "output_compress_columns": ["obs", "new_obs"], "simple_optimizer": false, "env_config": {"run": "PPO", "flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.1,\n            \"eta3\": 0.1,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 7.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 0\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 700,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}"}, "entropy_coeff": 0.0, "sample_async": false, "lambda": 0.97, "monitor": false, "env": "MultiWaveAttenuationMergePOEnvBufferedObs-v0shortermeasure01:01:10", "clip_param": 0.3, "sample_batch_size": 750, "input_evaluation": null, "collect_metrics_timeout": 180, "sgd_minibatch_size": 128, "train_batch_size": 45000, "synchronize_filters": true, "kl_coeff": 0.2, "output": null, "num_cpus_for_driver": 1, "use_gae": true, "clip_actions": false, "num_cpus_per_worker": 1, "optimizer": {}, "num_gpus_per_worker": 0, "straggler_mitigation": false}, "timestamp": 1557419113, "info": {"num_steps_trained": 32106196, "default": {"cur_lr": 0.0005000000237487257, "kl": 0.012619171291589737, "vf_explained_var": 0.8325456380844116, "entropy": 2.2657930850982666, "total_loss": 18.720064163208008, "vf_loss": 18.727109909057617, "cur_kl_coeff": 1.0124999284744263, "policy_loss": -0.019822660833597183}, "load_time_ms": 34.049, "grad_time_ms": 19919.429, "sample_time_ms": 24891.564, "num_steps_sampled": 32106196, "update_time_ms": 8.605}, "policy_reward_mean": {}, "training_iteration": 281, "time_this_iter_s": 43.24979591369629, "experiment_id": "4ad1a1b4498d471a9b029fd78d997061", "time_since_restore": 3630.401739835739, "episode_len_mean": 751.0, "timesteps_this_iter": 81457, "custom_metrics": {"system_level_velocity_min": 6.964144229342323, "system_level_velocity_mean": 10.487695047705802, "system_level_velocity_max": 12.697025114652554, "outflow_rate_min": 738.9343923709799, "cost1_mean": 299.44722377765595, "cost2_min": -153.07730515359498, "outflow_rate_mean": 945.3495203452186, "cost2_max": -86.7585156187723, "cost1_min": 195.66183185581673, "cost1_max": 363.7917243548187, "cost2_mean": -116.68249407147711, "outflow_rate_max": 1133.3983820798067}}
{"iterations_since_restore": 82, "timesteps_since_restore": 6700907, "episode_reward_min": 592.1880208529813, "time_total_s": 17098.447929620743, "node_ip": "10.138.0.2", "done": false, "episode_reward_mean": 731.5069582592723, "num_metric_batches_dropped": 0, "episodes_total": 16536, "date": "2019-05-09_16-25-56", "pid": 21505, "episode_reward_max": 882.2152232683909, "timesteps_total": 32187567, "hostname": "flow-main", "episodes_this_iter": 43, "config": {"horizon": 1500, "input": "sampler", "output_max_file_size": 67108864, "gamma": 0.99, "model": {"free_log_std": false, "squash_to_range": false, "fcnet_activation": "tanh", "grayscale": false, "dim": 84, "fcnet_hiddens": [128, 64, 32], "conv_filters": null, "custom_model": null, "conv_activation": "relu", "custom_options": {}, "use_lstm": false, "channel_major": false, "framestack": true, "lstm_use_prev_action_reward": false, "zero_mean": true, "max_seq_len": 20, "lstm_cell_size": 256, "custom_preprocessor": null}, "vf_share_layers": false, "lr_schedule": null, "compress_observations": false, "clip_rewards": null, "kl_target": 0.01, "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "callbacks": {"on_train_result": null, "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7f5e88017a20>", "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7f5e88017dd8>", "on_sample_end": null, "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7f5e88017da0>"}, "preprocessor_pref": "deepmind", "num_gpus": 0, "multiagent": {"policies_to_train": null, "policy_graphs": {}, "policy_mapping_fn": null}, "observation_filter": "MeanStdFilter", "num_workers": 30, "lr": 0.0005, "num_envs_per_worker": 1, "custom_resources_per_worker": {}, "vf_clip_param": 1000000.0, "vf_loss_coeff": 1.0, "log_level": "INFO", "tf_session_args": {"device_count": {"CPU": 1}, "log_device_placement": false, "gpu_options": {"allow_growth": true}, "intra_op_parallelism_threads": 2, "allow_soft_placement": true, "inter_op_parallelism_threads": 2}, "batch_mode": "truncate_episodes", "num_sgd_iter": 10, "output_compress_columns": ["obs", "new_obs"], "simple_optimizer": false, "env_config": {"run": "PPO", "flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.1,\n            \"eta3\": 0.1,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 7.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 0\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 700,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}"}, "entropy_coeff": 0.0, "sample_async": false, "lambda": 0.97, "monitor": false, "env": "MultiWaveAttenuationMergePOEnvBufferedObs-v0shortermeasure01:01:10", "clip_param": 0.3, "sample_batch_size": 750, "input_evaluation": null, "collect_metrics_timeout": 180, "sgd_minibatch_size": 128, "train_batch_size": 45000, "synchronize_filters": true, "kl_coeff": 0.2, "output": null, "num_cpus_for_driver": 1, "use_gae": true, "clip_actions": false, "num_cpus_per_worker": 1, "optimizer": {}, "num_gpus_per_worker": 0, "straggler_mitigation": false}, "timestamp": 1557419156, "info": {"num_steps_trained": 32187567, "default": {"cur_lr": 0.0005000000237487257, "kl": 0.013172144070267677, "vf_explained_var": 0.8378810286521912, "entropy": 2.29164719581604, "total_loss": 18.278650283813477, "vf_loss": 18.285381317138672, "cur_kl_coeff": 1.0124999284744263, "policy_loss": -0.020067548379302025}, "load_time_ms": 34.409, "grad_time_ms": 19973.168, "sample_time_ms": 24601.336, "num_steps_sampled": 32187567, "update_time_ms": 8.598}, "policy_reward_mean": {}, "training_iteration": 282, "time_this_iter_s": 43.55874586105347, "experiment_id": "4ad1a1b4498d471a9b029fd78d997061", "time_since_restore": 3673.9604856967926, "episode_len_mean": 751.0, "timesteps_this_iter": 81371, "custom_metrics": {"system_level_velocity_min": 7.934625420016738, "system_level_velocity_mean": 10.691070948926695, "system_level_velocity_max": 14.112281644672272, "outflow_rate_min": 745.2066769353551, "cost1_mean": 305.55973972247017, "cost2_min": -156.806336657002, "outflow_rate_mean": 962.2893940122757, "cost2_max": -87.16564281705082, "cost1_min": 221.73074072820555, "cost1_max": 401.95075021760556, "cost2_mean": -120.18664187559447, "outflow_rate_max": 1247.653447754513}}
{"iterations_since_restore": 83, "timesteps_since_restore": 6782508, "episode_reward_min": 229.19797899282145, "time_total_s": 17141.22418308258, "node_ip": "10.138.0.2", "done": false, "episode_reward_mean": 723.2908419513333, "num_metric_batches_dropped": 0, "episodes_total": 16580, "date": "2019-05-09_16-26-39", "pid": 21505, "episode_reward_max": 854.6749427854736, "timesteps_total": 32269168, "hostname": "flow-main", "episodes_this_iter": 44, "config": {"horizon": 1500, "input": "sampler", "output_max_file_size": 67108864, "gamma": 0.99, "model": {"free_log_std": false, "squash_to_range": false, "fcnet_activation": "tanh", "grayscale": false, "dim": 84, "fcnet_hiddens": [128, 64, 32], "conv_filters": null, "custom_model": null, "conv_activation": "relu", "custom_options": {}, "use_lstm": false, "channel_major": false, "framestack": true, "lstm_use_prev_action_reward": false, "zero_mean": true, "max_seq_len": 20, "lstm_cell_size": 256, "custom_preprocessor": null}, "vf_share_layers": false, "lr_schedule": null, "compress_observations": false, "clip_rewards": null, "kl_target": 0.01, "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "callbacks": {"on_train_result": null, "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7f5e87d5e710>", "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7f5e87d5ecf8>", "on_sample_end": null, "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7f5e87d5e240>"}, "preprocessor_pref": "deepmind", "num_gpus": 0, "multiagent": {"policies_to_train": null, "policy_graphs": {}, "policy_mapping_fn": null}, "observation_filter": "MeanStdFilter", "num_workers": 30, "lr": 0.0005, "num_envs_per_worker": 1, "custom_resources_per_worker": {}, "vf_clip_param": 1000000.0, "vf_loss_coeff": 1.0, "log_level": "INFO", "tf_session_args": {"device_count": {"CPU": 1}, "log_device_placement": false, "gpu_options": {"allow_growth": true}, "intra_op_parallelism_threads": 2, "allow_soft_placement": true, "inter_op_parallelism_threads": 2}, "batch_mode": "truncate_episodes", "num_sgd_iter": 10, "output_compress_columns": ["obs", "new_obs"], "simple_optimizer": false, "env_config": {"run": "PPO", "flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.1,\n            \"eta3\": 0.1,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 7.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 0\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 700,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}"}, "entropy_coeff": 0.0, "sample_async": false, "lambda": 0.97, "monitor": false, "env": "MultiWaveAttenuationMergePOEnvBufferedObs-v0shortermeasure01:01:10", "clip_param": 0.3, "sample_batch_size": 750, "input_evaluation": null, "collect_metrics_timeout": 180, "sgd_minibatch_size": 128, "train_batch_size": 45000, "synchronize_filters": true, "kl_coeff": 0.2, "output": null, "num_cpus_for_driver": 1, "use_gae": true, "clip_actions": false, "num_cpus_per_worker": 1, "optimizer": {}, "num_gpus_per_worker": 0, "straggler_mitigation": false}, "timestamp": 1557419199, "info": {"num_steps_trained": 32269168, "default": {"cur_lr": 0.0005000000237487257, "kl": 0.012247486039996147, "vf_explained_var": 0.8373883366584778, "entropy": 2.28544282913208, "total_loss": 18.821578979492188, "vf_loss": 18.829151153564453, "cur_kl_coeff": 1.0124998092651367, "policy_loss": -0.019970770925283432}, "load_time_ms": 35.508, "grad_time_ms": 19763.71, "sample_time_ms": 24447.301, "num_steps_sampled": 32269168, "update_time_ms": 8.694}, "policy_reward_mean": {}, "training_iteration": 283, "time_this_iter_s": 42.77625346183777, "experiment_id": "4ad1a1b4498d471a9b029fd78d997061", "time_since_restore": 3716.7367391586304, "episode_len_mean": 743.37, "timesteps_this_iter": 81601, "custom_metrics": {"system_level_velocity_min": 6.066623299753967, "system_level_velocity_mean": 10.67118828811635, "system_level_velocity_max": 14.112281644672272, "outflow_rate_min": 432.49567712226843, "cost1_mean": 301.233030061725, "cost2_min": -156.806336657002, "outflow_rate_mean": 955.6543291537505, "cost2_max": -85.19784147004512, "cost1_min": 118.75685036994352, "cost1_max": 401.95075021760556, "cost2_mean": -120.62121743326946, "outflow_rate_max": 1247.653447754513}}
{"iterations_since_restore": 84, "timesteps_since_restore": 6862896, "episode_reward_min": 229.19797899282145, "time_total_s": 17185.068869113922, "node_ip": "10.138.0.2", "done": false, "episode_reward_mean": 722.002726234913, "num_metric_batches_dropped": 0, "episodes_total": 16623, "date": "2019-05-09_16-27-23", "pid": 21505, "episode_reward_max": 854.6749427854736, "timesteps_total": 32349556, "hostname": "flow-main", "episodes_this_iter": 43, "config": {"horizon": 1500, "input": "sampler", "output_max_file_size": 67108864, "gamma": 0.99, "model": {"free_log_std": false, "squash_to_range": false, "fcnet_activation": "tanh", "grayscale": false, "dim": 84, "fcnet_hiddens": [128, 64, 32], "conv_filters": null, "custom_model": null, "conv_activation": "relu", "custom_options": {}, "use_lstm": false, "channel_major": false, "framestack": true, "lstm_use_prev_action_reward": false, "zero_mean": true, "max_seq_len": 20, "lstm_cell_size": 256, "custom_preprocessor": null}, "vf_share_layers": false, "lr_schedule": null, "compress_observations": false, "clip_rewards": null, "kl_target": 0.01, "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "callbacks": {"on_train_result": null, "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7f5e88017da0>", "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7f5e88017dd8>", "on_sample_end": null, "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7f5e88017550>"}, "preprocessor_pref": "deepmind", "num_gpus": 0, "multiagent": {"policies_to_train": null, "policy_graphs": {}, "policy_mapping_fn": null}, "observation_filter": "MeanStdFilter", "num_workers": 30, "lr": 0.0005, "num_envs_per_worker": 1, "custom_resources_per_worker": {}, "vf_clip_param": 1000000.0, "vf_loss_coeff": 1.0, "log_level": "INFO", "tf_session_args": {"device_count": {"CPU": 1}, "log_device_placement": false, "gpu_options": {"allow_growth": true}, "intra_op_parallelism_threads": 2, "allow_soft_placement": true, "inter_op_parallelism_threads": 2}, "batch_mode": "truncate_episodes", "num_sgd_iter": 10, "output_compress_columns": ["obs", "new_obs"], "simple_optimizer": false, "env_config": {"run": "PPO", "flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.1,\n            \"eta3\": 0.1,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 7.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 0\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 700,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}"}, "entropy_coeff": 0.0, "sample_async": false, "lambda": 0.97, "monitor": false, "env": "MultiWaveAttenuationMergePOEnvBufferedObs-v0shortermeasure01:01:10", "clip_param": 0.3, "sample_batch_size": 750, "input_evaluation": null, "collect_metrics_timeout": 180, "sgd_minibatch_size": 128, "train_batch_size": 45000, "synchronize_filters": true, "kl_coeff": 0.2, "output": null, "num_cpus_for_driver": 1, "use_gae": true, "clip_actions": false, "num_cpus_per_worker": 1, "optimizer": {}, "num_gpus_per_worker": 0, "straggler_mitigation": false}, "timestamp": 1557419243, "info": {"num_steps_trained": 32349556, "default": {"cur_lr": 0.0005000000237487257, "kl": 0.012750661000609398, "vf_explained_var": 0.8343914151191711, "entropy": 2.2833478450775146, "total_loss": 18.52475929260254, "vf_loss": 18.53223991394043, "cur_kl_coeff": 1.0124998092651367, "policy_loss": -0.02038845792412758}, "load_time_ms": 35.117, "grad_time_ms": 19528.244, "sample_time_ms": 24608.971, "num_steps_sampled": 32349556, "update_time_ms": 8.639}, "policy_reward_mean": {}, "training_iteration": 284, "time_this_iter_s": 43.84468603134155, "experiment_id": "4ad1a1b4498d471a9b029fd78d997061", "time_since_restore": 3760.581425189972, "episode_len_mean": 743.37, "timesteps_this_iter": 80388, "custom_metrics": {"system_level_velocity_min": 6.066623299753967, "system_level_velocity_mean": 10.63871110410593, "system_level_velocity_max": 13.573962285112644, "outflow_rate_min": 432.49567712226843, "cost1_mean": 299.8592255623802, "cost2_min": -148.96960785146854, "outflow_rate_mean": 953.4002902616817, "cost2_max": -85.19784147004512, "cost1_min": 118.75685036994352, "cost1_max": 384.756152697199, "cost2_mean": -117.75747412624638, "outflow_rate_max": 1184.361789992949}}
{"iterations_since_restore": 85, "timesteps_since_restore": 6942813, "episode_reward_min": 229.19797899282145, "time_total_s": 17228.932614803314, "node_ip": "10.138.0.2", "done": false, "episode_reward_mean": 728.5751360952091, "num_metric_batches_dropped": 0, "episodes_total": 16665, "date": "2019-05-09_16-28-07", "pid": 21505, "episode_reward_max": 875.2516415493516, "timesteps_total": 32429473, "hostname": "flow-main", "episodes_this_iter": 42, "config": {"horizon": 1500, "input": "sampler", "output_max_file_size": 67108864, "gamma": 0.99, "model": {"free_log_std": false, "squash_to_range": false, "fcnet_activation": "tanh", "grayscale": false, "dim": 84, "fcnet_hiddens": [128, 64, 32], "conv_filters": null, "custom_model": null, "conv_activation": "relu", "custom_options": {}, "use_lstm": false, "channel_major": false, "framestack": true, "lstm_use_prev_action_reward": false, "zero_mean": true, "max_seq_len": 20, "lstm_cell_size": 256, "custom_preprocessor": null}, "vf_share_layers": false, "lr_schedule": null, "compress_observations": false, "clip_rewards": null, "kl_target": 0.01, "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "callbacks": {"on_train_result": null, "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7f5e87d5e0b8>", "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7f5e87d5e898>", "on_sample_end": null, "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7f5e87d5ea90>"}, "preprocessor_pref": "deepmind", "num_gpus": 0, "multiagent": {"policies_to_train": null, "policy_graphs": {}, "policy_mapping_fn": null}, "observation_filter": "MeanStdFilter", "num_workers": 30, "lr": 0.0005, "num_envs_per_worker": 1, "custom_resources_per_worker": {}, "vf_clip_param": 1000000.0, "vf_loss_coeff": 1.0, "log_level": "INFO", "tf_session_args": {"device_count": {"CPU": 1}, "log_device_placement": false, "gpu_options": {"allow_growth": true}, "intra_op_parallelism_threads": 2, "allow_soft_placement": true, "inter_op_parallelism_threads": 2}, "batch_mode": "truncate_episodes", "num_sgd_iter": 10, "output_compress_columns": ["obs", "new_obs"], "simple_optimizer": false, "env_config": {"run": "PPO", "flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.1,\n            \"eta3\": 0.1,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 7.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 0\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 700,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}"}, "entropy_coeff": 0.0, "sample_async": false, "lambda": 0.97, "monitor": false, "env": "MultiWaveAttenuationMergePOEnvBufferedObs-v0shortermeasure01:01:10", "clip_param": 0.3, "sample_batch_size": 750, "input_evaluation": null, "collect_metrics_timeout": 180, "sgd_minibatch_size": 128, "train_batch_size": 45000, "synchronize_filters": true, "kl_coeff": 0.2, "output": null, "num_cpus_for_driver": 1, "use_gae": true, "clip_actions": false, "num_cpus_per_worker": 1, "optimizer": {}, "num_gpus_per_worker": 0, "straggler_mitigation": false}, "timestamp": 1557419287, "info": {"num_steps_trained": 32429473, "default": {"cur_lr": 0.0005000000237487257, "kl": 0.012503251433372498, "vf_explained_var": 0.847176194190979, "entropy": 2.2851431369781494, "total_loss": 16.89990997314453, "vf_loss": 16.907421112060547, "cur_kl_coeff": 1.0124999284744263, "policy_loss": -0.0201695766299963}, "load_time_ms": 36.73, "grad_time_ms": 19031.792, "sample_time_ms": 24806.827, "num_steps_sampled": 32429473, "update_time_ms": 8.775}, "policy_reward_mean": {}, "training_iteration": 285, "time_this_iter_s": 43.86374568939209, "experiment_id": "4ad1a1b4498d471a9b029fd78d997061", "time_since_restore": 3804.445170879364, "episode_len_mean": 745.83, "timesteps_this_iter": 79917, "custom_metrics": {"system_level_velocity_min": 6.169684797937484, "system_level_velocity_mean": 10.763524357502417, "system_level_velocity_max": 13.48993080215858, "outflow_rate_min": 432.49567712226843, "cost1_mean": 304.61732586471544, "cost2_min": -150.4110822252928, "outflow_rate_mean": 962.1121604022728, "cost2_max": -84.94225868561986, "cost1_min": 118.75685036994352, "cost1_max": 383.2334241888767, "cost2_mean": -119.47074568876411, "outflow_rate_max": 1201.4099667332669}}
{"iterations_since_restore": 86, "timesteps_since_restore": 7021954, "episode_reward_min": 225.4223568890724, "time_total_s": 17273.3822119236, "node_ip": "10.138.0.2", "done": false, "episode_reward_mean": 731.4219778439162, "num_metric_batches_dropped": 0, "episodes_total": 16709, "date": "2019-05-09_16-28-51", "pid": 21505, "episode_reward_max": 875.2516415493516, "timesteps_total": 32508614, "hostname": "flow-main", "episodes_this_iter": 44, "config": {"horizon": 1500, "input": "sampler", "output_max_file_size": 67108864, "gamma": 0.99, "model": {"free_log_std": false, "squash_to_range": false, "fcnet_activation": "tanh", "grayscale": false, "dim": 84, "fcnet_hiddens": [128, 64, 32], "conv_filters": null, "custom_model": null, "conv_activation": "relu", "custom_options": {}, "use_lstm": false, "channel_major": false, "framestack": true, "lstm_use_prev_action_reward": false, "zero_mean": true, "max_seq_len": 20, "lstm_cell_size": 256, "custom_preprocessor": null}, "vf_share_layers": false, "lr_schedule": null, "compress_observations": false, "clip_rewards": null, "kl_target": 0.01, "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "callbacks": {"on_train_result": null, "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7f5e88017e10>", "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7f5e88017da0>", "on_sample_end": null, "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7f5e88017dd8>"}, "preprocessor_pref": "deepmind", "num_gpus": 0, "multiagent": {"policies_to_train": null, "policy_graphs": {}, "policy_mapping_fn": null}, "observation_filter": "MeanStdFilter", "num_workers": 30, "lr": 0.0005, "num_envs_per_worker": 1, "custom_resources_per_worker": {}, "vf_clip_param": 1000000.0, "vf_loss_coeff": 1.0, "log_level": "INFO", "tf_session_args": {"device_count": {"CPU": 1}, "log_device_placement": false, "gpu_options": {"allow_growth": true}, "intra_op_parallelism_threads": 2, "allow_soft_placement": true, "inter_op_parallelism_threads": 2}, "batch_mode": "truncate_episodes", "num_sgd_iter": 10, "output_compress_columns": ["obs", "new_obs"], "simple_optimizer": false, "env_config": {"run": "PPO", "flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.1,\n            \"eta3\": 0.1,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 7.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 0\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 700,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}"}, "entropy_coeff": 0.0, "sample_async": false, "lambda": 0.97, "monitor": false, "env": "MultiWaveAttenuationMergePOEnvBufferedObs-v0shortermeasure01:01:10", "clip_param": 0.3, "sample_batch_size": 750, "input_evaluation": null, "collect_metrics_timeout": 180, "sgd_minibatch_size": 128, "train_batch_size": 45000, "synchronize_filters": true, "kl_coeff": 0.2, "output": null, "num_cpus_for_driver": 1, "use_gae": true, "clip_actions": false, "num_cpus_per_worker": 1, "optimizer": {}, "num_gpus_per_worker": 0, "straggler_mitigation": false}, "timestamp": 1557419331, "info": {"num_steps_trained": 32508614, "default": {"cur_lr": 0.0005000000237487257, "kl": 0.012387087568640709, "vf_explained_var": 0.8342416286468506, "entropy": 2.2566821575164795, "total_loss": 17.302539825439453, "vf_loss": 17.309494018554688, "cur_kl_coeff": 1.0124999284744263, "policy_loss": -0.01949809119105339}, "load_time_ms": 37.107, "grad_time_ms": 19033.852, "sample_time_ms": 24914.28, "num_steps_sampled": 32508614, "update_time_ms": 8.797}, "policy_reward_mean": {}, "training_iteration": 286, "time_this_iter_s": 44.449597120285034, "experiment_id": "4ad1a1b4498d471a9b029fd78d997061", "time_since_restore": 3848.894767999649, "episode_len_mean": 745.14, "timesteps_this_iter": 79141, "custom_metrics": {"system_level_velocity_min": 6.169684797937484, "system_level_velocity_mean": 10.925874642244628, "system_level_velocity_max": 13.806173119366981, "outflow_rate_min": 419.37688307069067, "cost1_mean": 309.46109243783786, "cost2_min": -161.6852681599204, "outflow_rate_mean": 970.7042610447878, "cost2_max": -74.77423452567422, "cost1_min": 112.56920014179595, "cost1_max": 391.4016851781156, "cost2_mean": -122.88568773682519, "outflow_rate_max": 1201.4099667332669}}
{"iterations_since_restore": 87, "timesteps_since_restore": 7100532, "episode_reward_min": 213.50023562594944, "time_total_s": 17317.364685297012, "node_ip": "10.138.0.2", "done": false, "episode_reward_mean": 739.1746336241958, "num_metric_batches_dropped": 0, "episodes_total": 16752, "date": "2019-05-09_16-29-35", "pid": 21505, "episode_reward_max": 875.2516415493516, "timesteps_total": 32587192, "hostname": "flow-main", "episodes_this_iter": 43, "config": {"horizon": 1500, "input": "sampler", "output_max_file_size": 67108864, "gamma": 0.99, "model": {"free_log_std": false, "squash_to_range": false, "fcnet_activation": "tanh", "grayscale": false, "dim": 84, "fcnet_hiddens": [128, 64, 32], "conv_filters": null, "custom_model": null, "conv_activation": "relu", "custom_options": {}, "use_lstm": false, "channel_major": false, "framestack": true, "lstm_use_prev_action_reward": false, "zero_mean": true, "max_seq_len": 20, "lstm_cell_size": 256, "custom_preprocessor": null}, "vf_share_layers": false, "lr_schedule": null, "compress_observations": false, "clip_rewards": null, "kl_target": 0.01, "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "callbacks": {"on_train_result": null, "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7f5e87d5e9e8>", "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7f5e87d5e908>", "on_sample_end": null, "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7f5e87d5e710>"}, "preprocessor_pref": "deepmind", "num_gpus": 0, "multiagent": {"policies_to_train": null, "policy_graphs": {}, "policy_mapping_fn": null}, "observation_filter": "MeanStdFilter", "num_workers": 30, "lr": 0.0005, "num_envs_per_worker": 1, "custom_resources_per_worker": {}, "vf_clip_param": 1000000.0, "vf_loss_coeff": 1.0, "log_level": "INFO", "tf_session_args": {"device_count": {"CPU": 1}, "log_device_placement": false, "gpu_options": {"allow_growth": true}, "intra_op_parallelism_threads": 2, "allow_soft_placement": true, "inter_op_parallelism_threads": 2}, "batch_mode": "truncate_episodes", "num_sgd_iter": 10, "output_compress_columns": ["obs", "new_obs"], "simple_optimizer": false, "env_config": {"run": "PPO", "flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.1,\n            \"eta3\": 0.1,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 7.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 0\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 700,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}"}, "entropy_coeff": 0.0, "sample_async": false, "lambda": 0.97, "monitor": false, "env": "MultiWaveAttenuationMergePOEnvBufferedObs-v0shortermeasure01:01:10", "clip_param": 0.3, "sample_batch_size": 750, "input_evaluation": null, "collect_metrics_timeout": 180, "sgd_minibatch_size": 128, "train_batch_size": 45000, "synchronize_filters": true, "kl_coeff": 0.2, "output": null, "num_cpus_for_driver": 1, "use_gae": true, "clip_actions": false, "num_cpus_per_worker": 1, "optimizer": {}, "num_gpus_per_worker": 0, "straggler_mitigation": false}, "timestamp": 1557419375, "info": {"num_steps_trained": 32587192, "default": {"cur_lr": 0.0005000000237487257, "kl": 0.012703979387879372, "vf_explained_var": 0.8232627511024475, "entropy": 2.266254186630249, "total_loss": 18.042713165283203, "vf_loss": 18.05072784423828, "cur_kl_coeff": 1.0124999284744263, "policy_loss": -0.02087857946753502}, "load_time_ms": 37.162, "grad_time_ms": 19018.989, "sample_time_ms": 24889.664, "num_steps_sampled": 32587192, "update_time_ms": 9.172}, "policy_reward_mean": {}, "training_iteration": 287, "time_this_iter_s": 43.982473373413086, "experiment_id": "4ad1a1b4498d471a9b029fd78d997061", "time_since_restore": 3892.877241373062, "episode_len_mean": 739.85, "timesteps_this_iter": 78578, "custom_metrics": {"system_level_velocity_min": 7.9212057372474245, "system_level_velocity_mean": 11.162963214821, "system_level_velocity_max": 13.806173119366981, "outflow_rate_min": 407.0873754069589, "cost1_mean": 313.79370775462166, "cost2_min": -161.6852681599204, "outflow_rate_mean": 987.572222464982, "cost2_max": -74.77423452567422, "cost1_min": 111.75951704495087, "cost1_max": 391.4016851781156, "cost2_mean": -126.17400343676326, "outflow_rate_max": 1196.4878173305196}}
{"iterations_since_restore": 88, "timesteps_since_restore": 7180568, "episode_reward_min": 213.50023562594944, "time_total_s": 17362.180611610413, "node_ip": "10.138.0.2", "done": false, "episode_reward_mean": 742.4636881127503, "num_metric_batches_dropped": 0, "episodes_total": 16795, "date": "2019-05-09_16-30-20", "pid": 21505, "episode_reward_max": 853.0397940572543, "timesteps_total": 32667228, "hostname": "flow-main", "episodes_this_iter": 43, "config": {"horizon": 1500, "input": "sampler", "output_max_file_size": 67108864, "gamma": 0.99, "model": {"free_log_std": false, "squash_to_range": false, "fcnet_activation": "tanh", "grayscale": false, "dim": 84, "fcnet_hiddens": [128, 64, 32], "conv_filters": null, "custom_model": null, "conv_activation": "relu", "custom_options": {}, "use_lstm": false, "channel_major": false, "framestack": true, "lstm_use_prev_action_reward": false, "zero_mean": true, "max_seq_len": 20, "lstm_cell_size": 256, "custom_preprocessor": null}, "vf_share_layers": false, "lr_schedule": null, "compress_observations": false, "clip_rewards": null, "kl_target": 0.01, "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "callbacks": {"on_train_result": null, "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7f5e88017a58>", "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7f5e88017e10>", "on_sample_end": null, "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7f5e88017da0>"}, "preprocessor_pref": "deepmind", "num_gpus": 0, "multiagent": {"policies_to_train": null, "policy_graphs": {}, "policy_mapping_fn": null}, "observation_filter": "MeanStdFilter", "num_workers": 30, "lr": 0.0005, "num_envs_per_worker": 1, "custom_resources_per_worker": {}, "vf_clip_param": 1000000.0, "vf_loss_coeff": 1.0, "log_level": "INFO", "tf_session_args": {"device_count": {"CPU": 1}, "log_device_placement": false, "gpu_options": {"allow_growth": true}, "intra_op_parallelism_threads": 2, "allow_soft_placement": true, "inter_op_parallelism_threads": 2}, "batch_mode": "truncate_episodes", "num_sgd_iter": 10, "output_compress_columns": ["obs", "new_obs"], "simple_optimizer": false, "env_config": {"run": "PPO", "flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.1,\n            \"eta3\": 0.1,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 7.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 0\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 700,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}"}, "entropy_coeff": 0.0, "sample_async": false, "lambda": 0.97, "monitor": false, "env": "MultiWaveAttenuationMergePOEnvBufferedObs-v0shortermeasure01:01:10", "clip_param": 0.3, "sample_batch_size": 750, "input_evaluation": null, "collect_metrics_timeout": 180, "sgd_minibatch_size": 128, "train_batch_size": 45000, "synchronize_filters": true, "kl_coeff": 0.2, "output": null, "num_cpus_for_driver": 1, "use_gae": true, "clip_actions": false, "num_cpus_per_worker": 1, "optimizer": {}, "num_gpus_per_worker": 0, "straggler_mitigation": false}, "timestamp": 1557419420, "info": {"num_steps_trained": 32667228, "default": {"cur_lr": 0.0005000000237487257, "kl": 0.013324199244379997, "vf_explained_var": 0.8308480381965637, "entropy": 2.256950855255127, "total_loss": 16.656858444213867, "vf_loss": 16.663774490356445, "cur_kl_coeff": 1.0124999284744263, "policy_loss": -0.020407073199748993}, "load_time_ms": 36.379, "grad_time_ms": 19191.021, "sample_time_ms": 24687.457, "num_steps_sampled": 32667228, "update_time_ms": 9.345}, "policy_reward_mean": {}, "training_iteration": 288, "time_this_iter_s": 44.81592631340027, "experiment_id": "4ad1a1b4498d471a9b029fd78d997061", "time_since_restore": 3937.6931676864624, "episode_len_mean": 745.71, "timesteps_this_iter": 80036, "custom_metrics": {"system_level_velocity_min": 6.074350040025364, "system_level_velocity_mean": 11.155128722364989, "system_level_velocity_max": 13.806173119366981, "outflow_rate_min": 407.0873754069589, "cost1_mean": 316.4060349963614, "cost2_min": -157.5085867337892, "outflow_rate_mean": 993.8906321939312, "cost2_max": -88.52842578422764, "cost1_min": 111.75951704495087, "cost1_max": 391.4016851781156, "cost2_mean": -126.64299361034313, "outflow_rate_max": 1194.0790075076943}}
{"iterations_since_restore": 89, "timesteps_since_restore": 7261512, "episode_reward_min": 563.9617947075542, "time_total_s": 17406.612179279327, "node_ip": "10.138.0.2", "done": false, "episode_reward_mean": 742.3741903677361, "num_metric_batches_dropped": 0, "episodes_total": 16838, "date": "2019-05-09_16-31-05", "pid": 21505, "episode_reward_max": 885.06744723382, "timesteps_total": 32748172, "hostname": "flow-main", "episodes_this_iter": 43, "config": {"horizon": 1500, "input": "sampler", "output_max_file_size": 67108864, "gamma": 0.99, "model": {"free_log_std": false, "squash_to_range": false, "fcnet_activation": "tanh", "grayscale": false, "dim": 84, "fcnet_hiddens": [128, 64, 32], "conv_filters": null, "custom_model": null, "conv_activation": "relu", "custom_options": {}, "use_lstm": false, "channel_major": false, "framestack": true, "lstm_use_prev_action_reward": false, "zero_mean": true, "max_seq_len": 20, "lstm_cell_size": 256, "custom_preprocessor": null}, "vf_share_layers": false, "lr_schedule": null, "compress_observations": false, "clip_rewards": null, "kl_target": 0.01, "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "callbacks": {"on_train_result": null, "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7f5e87d5ed68>", "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7f5e87d5e9e8>", "on_sample_end": null, "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7f5e87d5e908>"}, "preprocessor_pref": "deepmind", "num_gpus": 0, "multiagent": {"policies_to_train": null, "policy_graphs": {}, "policy_mapping_fn": null}, "observation_filter": "MeanStdFilter", "num_workers": 30, "lr": 0.0005, "num_envs_per_worker": 1, "custom_resources_per_worker": {}, "vf_clip_param": 1000000.0, "vf_loss_coeff": 1.0, "log_level": "INFO", "tf_session_args": {"device_count": {"CPU": 1}, "log_device_placement": false, "gpu_options": {"allow_growth": true}, "intra_op_parallelism_threads": 2, "allow_soft_placement": true, "inter_op_parallelism_threads": 2}, "batch_mode": "truncate_episodes", "num_sgd_iter": 10, "output_compress_columns": ["obs", "new_obs"], "simple_optimizer": false, "env_config": {"run": "PPO", "flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.1,\n            \"eta3\": 0.1,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 7.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 0\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 700,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}"}, "entropy_coeff": 0.0, "sample_async": false, "lambda": 0.97, "monitor": false, "env": "MultiWaveAttenuationMergePOEnvBufferedObs-v0shortermeasure01:01:10", "clip_param": 0.3, "sample_batch_size": 750, "input_evaluation": null, "collect_metrics_timeout": 180, "sgd_minibatch_size": 128, "train_batch_size": 45000, "synchronize_filters": true, "kl_coeff": 0.2, "output": null, "num_cpus_for_driver": 1, "use_gae": true, "clip_actions": false, "num_cpus_per_worker": 1, "optimizer": {}, "num_gpus_per_worker": 0, "straggler_mitigation": false}, "timestamp": 1557419465, "info": {"num_steps_trained": 32748172, "default": {"cur_lr": 0.0005000000237487257, "kl": 0.012869528494775295, "vf_explained_var": 0.8448175191879272, "entropy": 2.276700019836426, "total_loss": 16.636568069458008, "vf_loss": 16.643247604370117, "cur_kl_coeff": 1.0124998092651367, "policy_loss": -0.019708530977368355}, "load_time_ms": 36.521, "grad_time_ms": 19309.046, "sample_time_ms": 24432.083, "num_steps_sampled": 32748172, "update_time_ms": 8.998}, "policy_reward_mean": {}, "training_iteration": 289, "time_this_iter_s": 44.431567668914795, "experiment_id": "4ad1a1b4498d471a9b029fd78d997061", "time_since_restore": 3982.124735355377, "episode_len_mean": 751.0, "timesteps_this_iter": 80944, "custom_metrics": {"system_level_velocity_min": 6.074350040025364, "system_level_velocity_mean": 11.132714862107173, "system_level_velocity_max": 13.689366634574835, "outflow_rate_min": 616.0314857142857, "cost1_mean": 318.15494132377114, "cost2_min": -157.5085867337892, "outflow_rate_mean": 996.9537846207494, "cost2_max": -89.88033878764566, "cost1_min": 172.4323987287852, "cost1_max": 393.8857021754617, "cost2_mean": -126.5009105341206, "outflow_rate_max": 1198.7363223184173}}
{"iterations_since_restore": 90, "timesteps_since_restore": 7343663, "episode_reward_min": 567.0524961959042, "time_total_s": 17449.380680799484, "node_ip": "10.138.0.2", "done": false, "episode_reward_mean": 732.2720068376686, "num_metric_batches_dropped": 0, "episodes_total": 16881, "date": "2019-05-09_16-31-48", "pid": 21505, "episode_reward_max": 885.06744723382, "timesteps_total": 32830323, "hostname": "flow-main", "episodes_this_iter": 43, "config": {"horizon": 1500, "input": "sampler", "output_max_file_size": 67108864, "gamma": 0.99, "model": {"free_log_std": false, "squash_to_range": false, "fcnet_activation": "tanh", "grayscale": false, "dim": 84, "fcnet_hiddens": [128, 64, 32], "conv_filters": null, "custom_model": null, "conv_activation": "relu", "custom_options": {}, "use_lstm": false, "channel_major": false, "framestack": true, "lstm_use_prev_action_reward": false, "zero_mean": true, "max_seq_len": 20, "lstm_cell_size": 256, "custom_preprocessor": null}, "vf_share_layers": false, "lr_schedule": null, "compress_observations": false, "clip_rewards": null, "kl_target": 0.01, "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "callbacks": {"on_train_result": null, "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7f5e88017198>", "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7f5e88017a58>", "on_sample_end": null, "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7f5e88017e10>"}, "preprocessor_pref": "deepmind", "num_gpus": 0, "multiagent": {"policies_to_train": null, "policy_graphs": {}, "policy_mapping_fn": null}, "observation_filter": "MeanStdFilter", "num_workers": 30, "lr": 0.0005, "num_envs_per_worker": 1, "custom_resources_per_worker": {}, "vf_clip_param": 1000000.0, "vf_loss_coeff": 1.0, "log_level": "INFO", "tf_session_args": {"device_count": {"CPU": 1}, "log_device_placement": false, "gpu_options": {"allow_growth": true}, "intra_op_parallelism_threads": 2, "allow_soft_placement": true, "inter_op_parallelism_threads": 2}, "batch_mode": "truncate_episodes", "num_sgd_iter": 10, "output_compress_columns": ["obs", "new_obs"], "simple_optimizer": false, "env_config": {"run": "PPO", "flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.1,\n            \"eta3\": 0.1,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 7.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 0\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 700,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}"}, "entropy_coeff": 0.0, "sample_async": false, "lambda": 0.97, "monitor": false, "env": "MultiWaveAttenuationMergePOEnvBufferedObs-v0shortermeasure01:01:10", "clip_param": 0.3, "sample_batch_size": 750, "input_evaluation": null, "collect_metrics_timeout": 180, "sgd_minibatch_size": 128, "train_batch_size": 45000, "synchronize_filters": true, "kl_coeff": 0.2, "output": null, "num_cpus_for_driver": 1, "use_gae": true, "clip_actions": false, "num_cpus_per_worker": 1, "optimizer": {}, "num_gpus_per_worker": 0, "straggler_mitigation": false}, "timestamp": 1557419508, "info": {"num_steps_trained": 32830323, "default": {"cur_lr": 0.0005000000237487257, "kl": 0.012042856775224209, "vf_explained_var": 0.8332549929618835, "entropy": 2.2973620891571045, "total_loss": 16.487619400024414, "vf_loss": 16.49494743347168, "cur_kl_coeff": 1.0124999284744263, "policy_loss": -0.019520020112395287}, "load_time_ms": 39.06, "grad_time_ms": 19251.161, "sample_time_ms": 24307.885, "num_steps_sampled": 32830323, "update_time_ms": 8.973}, "policy_reward_mean": {}, "training_iteration": 290, "time_this_iter_s": 42.76850152015686, "experiment_id": "4ad1a1b4498d471a9b029fd78d997061", "time_since_restore": 4024.893236875534, "episode_len_mean": 751.0, "timesteps_this_iter": 82151, "custom_metrics": {"system_level_velocity_min": 7.193657340923642, "system_level_velocity_mean": 10.960622591578131, "system_level_velocity_max": 13.689366634574835, "outflow_rate_min": 716.1039758594347, "cost1_mean": 313.13226500082004, "cost2_min": -151.3938689004779, "outflow_rate_mean": 978.268226112662, "cost2_max": -89.88033878764566, "cost1_min": 201.10716781948435, "cost1_max": 393.8857021754617, "cost2_mean": -124.36040318026231, "outflow_rate_max": 1198.7363223184173}}
{"iterations_since_restore": 91, "timesteps_since_restore": 7423233, "episode_reward_min": 221.79965763396984, "time_total_s": 17492.27468562126, "node_ip": "10.138.0.2", "done": false, "episode_reward_mean": 726.720659109042, "num_metric_batches_dropped": 0, "episodes_total": 16924, "date": "2019-05-09_16-32-31", "pid": 21505, "episode_reward_max": 885.06744723382, "timesteps_total": 32909893, "hostname": "flow-main", "episodes_this_iter": 43, "config": {"horizon": 1500, "input": "sampler", "output_max_file_size": 67108864, "gamma": 0.99, "model": {"free_log_std": false, "squash_to_range": false, "fcnet_activation": "tanh", "grayscale": false, "dim": 84, "fcnet_hiddens": [128, 64, 32], "conv_filters": null, "custom_model": null, "conv_activation": "relu", "custom_options": {}, "use_lstm": false, "channel_major": false, "framestack": true, "lstm_use_prev_action_reward": false, "zero_mean": true, "max_seq_len": 20, "lstm_cell_size": 256, "custom_preprocessor": null}, "vf_share_layers": false, "lr_schedule": null, "compress_observations": false, "clip_rewards": null, "kl_target": 0.01, "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "callbacks": {"on_train_result": null, "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7f5e87d5e2b0>", "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7f5e87d5ed68>", "on_sample_end": null, "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7f5e87d5e9e8>"}, "preprocessor_pref": "deepmind", "num_gpus": 0, "multiagent": {"policies_to_train": null, "policy_graphs": {}, "policy_mapping_fn": null}, "observation_filter": "MeanStdFilter", "num_workers": 30, "lr": 0.0005, "num_envs_per_worker": 1, "custom_resources_per_worker": {}, "vf_clip_param": 1000000.0, "vf_loss_coeff": 1.0, "log_level": "INFO", "tf_session_args": {"device_count": {"CPU": 1}, "log_device_placement": false, "gpu_options": {"allow_growth": true}, "intra_op_parallelism_threads": 2, "allow_soft_placement": true, "inter_op_parallelism_threads": 2}, "batch_mode": "truncate_episodes", "num_sgd_iter": 10, "output_compress_columns": ["obs", "new_obs"], "simple_optimizer": false, "env_config": {"run": "PPO", "flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.1,\n            \"eta3\": 0.1,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 7.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 0\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 700,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}"}, "entropy_coeff": 0.0, "sample_async": false, "lambda": 0.97, "monitor": false, "env": "MultiWaveAttenuationMergePOEnvBufferedObs-v0shortermeasure01:01:10", "clip_param": 0.3, "sample_batch_size": 750, "input_evaluation": null, "collect_metrics_timeout": 180, "sgd_minibatch_size": 128, "train_batch_size": 45000, "synchronize_filters": true, "kl_coeff": 0.2, "output": null, "num_cpus_for_driver": 1, "use_gae": true, "clip_actions": false, "num_cpus_per_worker": 1, "optimizer": {}, "num_gpus_per_worker": 0, "straggler_mitigation": false}, "timestamp": 1557419551, "info": {"num_steps_trained": 32909893, "default": {"cur_lr": 0.0005000000237487257, "kl": 0.012769315391778946, "vf_explained_var": 0.8258824944496155, "entropy": 2.276118516921997, "total_loss": 16.220680236816406, "vf_loss": 16.228391647338867, "cur_kl_coeff": 1.0124999284744263, "policy_loss": -0.02063922956585884}, "load_time_ms": 39.508, "grad_time_ms": 19108.822, "sample_time_ms": 24413.989, "num_steps_sampled": 32909893, "update_time_ms": 8.918}, "policy_reward_mean": {}, "training_iteration": 291, "time_this_iter_s": 42.894004821777344, "experiment_id": "4ad1a1b4498d471a9b029fd78d997061", "time_since_restore": 4067.7872416973114, "episode_len_mean": 745.79, "timesteps_this_iter": 79570, "custom_metrics": {"system_level_velocity_min": 7.193657340923642, "system_level_velocity_mean": 10.978491568042111, "system_level_velocity_max": 13.689366634574835, "outflow_rate_min": 422.809472929398, "cost1_mean": 310.78912936633105, "cost2_min": -154.0218742926774, "outflow_rate_mean": 973.4231639568193, "cost2_max": -89.45395847499384, "cost1_min": 115.60051790771743, "cost1_max": 393.8857021754617, "cost2_mean": -124.14145523844729, "outflow_rate_max": 1202.6961891559436}}
{"iterations_since_restore": 92, "timesteps_since_restore": 7503854, "episode_reward_min": 221.79965763396984, "time_total_s": 17536.33003973961, "node_ip": "10.138.0.2", "done": false, "episode_reward_mean": 731.1775665041167, "num_metric_batches_dropped": 0, "episodes_total": 16967, "date": "2019-05-09_16-33-15", "pid": 21505, "episode_reward_max": 872.6259035562504, "timesteps_total": 32990514, "hostname": "flow-main", "episodes_this_iter": 43, "config": {"horizon": 1500, "input": "sampler", "output_max_file_size": 67108864, "gamma": 0.99, "model": {"free_log_std": false, "squash_to_range": false, "fcnet_activation": "tanh", "grayscale": false, "dim": 84, "fcnet_hiddens": [128, 64, 32], "conv_filters": null, "custom_model": null, "conv_activation": "relu", "custom_options": {}, "use_lstm": false, "channel_major": false, "framestack": true, "lstm_use_prev_action_reward": false, "zero_mean": true, "max_seq_len": 20, "lstm_cell_size": 256, "custom_preprocessor": null}, "vf_share_layers": false, "lr_schedule": null, "compress_observations": false, "clip_rewards": null, "kl_target": 0.01, "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "callbacks": {"on_train_result": null, "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7f5e88017390>", "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7f5e88017198>", "on_sample_end": null, "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7f5e88017a58>"}, "preprocessor_pref": "deepmind", "num_gpus": 0, "multiagent": {"policies_to_train": null, "policy_graphs": {}, "policy_mapping_fn": null}, "observation_filter": "MeanStdFilter", "num_workers": 30, "lr": 0.0005, "num_envs_per_worker": 1, "custom_resources_per_worker": {}, "vf_clip_param": 1000000.0, "vf_loss_coeff": 1.0, "log_level": "INFO", "tf_session_args": {"device_count": {"CPU": 1}, "log_device_placement": false, "gpu_options": {"allow_growth": true}, "intra_op_parallelism_threads": 2, "allow_soft_placement": true, "inter_op_parallelism_threads": 2}, "batch_mode": "truncate_episodes", "num_sgd_iter": 10, "output_compress_columns": ["obs", "new_obs"], "simple_optimizer": false, "env_config": {"run": "PPO", "flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.1,\n            \"eta3\": 0.1,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 7.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 0\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 700,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}"}, "entropy_coeff": 0.0, "sample_async": false, "lambda": 0.97, "monitor": false, "env": "MultiWaveAttenuationMergePOEnvBufferedObs-v0shortermeasure01:01:10", "clip_param": 0.3, "sample_batch_size": 750, "input_evaluation": null, "collect_metrics_timeout": 180, "sgd_minibatch_size": 128, "train_batch_size": 45000, "synchronize_filters": true, "kl_coeff": 0.2, "output": null, "num_cpus_for_driver": 1, "use_gae": true, "clip_actions": false, "num_cpus_per_worker": 1, "optimizer": {}, "num_gpus_per_worker": 0, "straggler_mitigation": false}, "timestamp": 1557419595, "info": {"num_steps_trained": 32990514, "default": {"cur_lr": 0.0005000000237487257, "kl": 0.012457686476409435, "vf_explained_var": 0.8277642130851746, "entropy": 2.280256748199463, "total_loss": 15.824275016784668, "vf_loss": 15.832258224487305, "cur_kl_coeff": 1.0124999284744263, "policy_loss": -0.020595652982592583}, "load_time_ms": 39.724, "grad_time_ms": 18943.236, "sample_time_ms": 24630.867, "num_steps_sampled": 32990514, "update_time_ms": 9.14}, "policy_reward_mean": {}, "training_iteration": 292, "time_this_iter_s": 44.05535411834717, "experiment_id": "4ad1a1b4498d471a9b029fd78d997061", "time_since_restore": 4111.842595815659, "episode_len_mean": 745.79, "timesteps_this_iter": 80621, "custom_metrics": {"system_level_velocity_min": 7.193657340923642, "system_level_velocity_mean": 10.94265907221134, "system_level_velocity_max": 13.304016586009244, "outflow_rate_min": 422.809472929398, "cost1_mean": 310.24804769010063, "cost2_min": -157.09803864934213, "outflow_rate_mean": 974.1861188933746, "cost2_max": -89.45395847499384, "cost1_min": 115.60051790771743, "cost1_max": 380.89045016694587, "cost2_mean": -125.19220056461016, "outflow_rate_max": 1202.6961891559436}}
{"iterations_since_restore": 93, "timesteps_since_restore": 7583463, "episode_reward_min": 221.79965763396984, "time_total_s": 17579.871103048325, "node_ip": "10.138.0.2", "done": false, "episode_reward_mean": 747.0267837008283, "num_metric_batches_dropped": 0, "episodes_total": 17010, "date": "2019-05-09_16-33-58", "pid": 21505, "episode_reward_max": 872.6259035562504, "timesteps_total": 33070123, "hostname": "flow-main", "episodes_this_iter": 43, "config": {"horizon": 1500, "input": "sampler", "output_max_file_size": 67108864, "gamma": 0.99, "model": {"free_log_std": false, "squash_to_range": false, "fcnet_activation": "tanh", "grayscale": false, "dim": 84, "fcnet_hiddens": [128, 64, 32], "conv_filters": null, "custom_model": null, "conv_activation": "relu", "custom_options": {}, "use_lstm": false, "channel_major": false, "framestack": true, "lstm_use_prev_action_reward": false, "zero_mean": true, "max_seq_len": 20, "lstm_cell_size": 256, "custom_preprocessor": null}, "vf_share_layers": false, "lr_schedule": null, "compress_observations": false, "clip_rewards": null, "kl_target": 0.01, "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "callbacks": {"on_train_result": null, "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7f5e87d5ee80>", "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7f5e87d5e588>", "on_sample_end": null, "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7f5e87d5eac8>"}, "preprocessor_pref": "deepmind", "num_gpus": 0, "multiagent": {"policies_to_train": null, "policy_graphs": {}, "policy_mapping_fn": null}, "observation_filter": "MeanStdFilter", "num_workers": 30, "lr": 0.0005, "num_envs_per_worker": 1, "custom_resources_per_worker": {}, "vf_clip_param": 1000000.0, "vf_loss_coeff": 1.0, "log_level": "INFO", "tf_session_args": {"device_count": {"CPU": 1}, "log_device_placement": false, "gpu_options": {"allow_growth": true}, "intra_op_parallelism_threads": 2, "allow_soft_placement": true, "inter_op_parallelism_threads": 2}, "batch_mode": "truncate_episodes", "num_sgd_iter": 10, "output_compress_columns": ["obs", "new_obs"], "simple_optimizer": false, "env_config": {"run": "PPO", "flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.1,\n            \"eta3\": 0.1,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 7.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 0\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 700,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}"}, "entropy_coeff": 0.0, "sample_async": false, "lambda": 0.97, "monitor": false, "env": "MultiWaveAttenuationMergePOEnvBufferedObs-v0shortermeasure01:01:10", "clip_param": 0.3, "sample_batch_size": 750, "input_evaluation": null, "collect_metrics_timeout": 180, "sgd_minibatch_size": 128, "train_batch_size": 45000, "synchronize_filters": true, "kl_coeff": 0.2, "output": null, "num_cpus_for_driver": 1, "use_gae": true, "clip_actions": false, "num_cpus_per_worker": 1, "optimizer": {}, "num_gpus_per_worker": 0, "straggler_mitigation": false}, "timestamp": 1557419638, "info": {"num_steps_trained": 33070123, "default": {"cur_lr": 0.0005000000237487257, "kl": 0.01270986907184124, "vf_explained_var": 0.8321353197097778, "entropy": 2.2757062911987305, "total_loss": 16.531400680541992, "vf_loss": 16.539958953857422, "cur_kl_coeff": 1.0124999284744263, "policy_loss": -0.021427158266305923}, "load_time_ms": 38.525, "grad_time_ms": 18874.13, "sample_time_ms": 24780.18, "num_steps_sampled": 33070123, "update_time_ms": 8.88}, "policy_reward_mean": {}, "training_iteration": 293, "time_this_iter_s": 43.54106330871582, "experiment_id": "4ad1a1b4498d471a9b029fd78d997061", "time_since_restore": 4155.383659124374, "episode_len_mean": 745.79, "timesteps_this_iter": 79609, "custom_metrics": {"system_level_velocity_min": 8.053810536376616, "system_level_velocity_mean": 11.216365100444252, "system_level_velocity_max": 13.666531318564237, "outflow_rate_min": 422.809472929398, "cost1_mean": 318.1770071541907, "cost2_min": -161.5493293618766, "outflow_rate_mean": 1000.1961435293009, "cost2_max": -89.45395847499384, "cost1_min": 115.60051790771743, "cost1_max": 392.9564169237326, "cost2_mean": -126.41390641430925, "outflow_rate_max": 1229.8604878581891}}
{"iterations_since_restore": 94, "timesteps_since_restore": 7664856, "episode_reward_min": 588.4632568339807, "time_total_s": 17626.22163081169, "node_ip": "10.138.0.2", "done": false, "episode_reward_mean": 751.303985272771, "num_metric_batches_dropped": 0, "episodes_total": 17053, "date": "2019-05-09_16-34-45", "pid": 21505, "episode_reward_max": 853.5104935179418, "timesteps_total": 33151516, "hostname": "flow-main", "episodes_this_iter": 43, "config": {"horizon": 1500, "input": "sampler", "output_max_file_size": 67108864, "gamma": 0.99, "model": {"free_log_std": false, "squash_to_range": false, "fcnet_activation": "tanh", "grayscale": false, "dim": 84, "fcnet_hiddens": [128, 64, 32], "conv_filters": null, "custom_model": null, "conv_activation": "relu", "custom_options": {}, "use_lstm": false, "channel_major": false, "framestack": true, "lstm_use_prev_action_reward": false, "zero_mean": true, "max_seq_len": 20, "lstm_cell_size": 256, "custom_preprocessor": null}, "vf_share_layers": false, "lr_schedule": null, "compress_observations": false, "clip_rewards": null, "kl_target": 0.01, "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "callbacks": {"on_train_result": null, "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7f5e880179e8>", "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7f5e88017be0>", "on_sample_end": null, "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7f5e88017a20>"}, "preprocessor_pref": "deepmind", "num_gpus": 0, "multiagent": {"policies_to_train": null, "policy_graphs": {}, "policy_mapping_fn": null}, "observation_filter": "MeanStdFilter", "num_workers": 30, "lr": 0.0005, "num_envs_per_worker": 1, "custom_resources_per_worker": {}, "vf_clip_param": 1000000.0, "vf_loss_coeff": 1.0, "log_level": "INFO", "tf_session_args": {"device_count": {"CPU": 1}, "log_device_placement": false, "gpu_options": {"allow_growth": true}, "intra_op_parallelism_threads": 2, "allow_soft_placement": true, "inter_op_parallelism_threads": 2}, "batch_mode": "truncate_episodes", "num_sgd_iter": 10, "output_compress_columns": ["obs", "new_obs"], "simple_optimizer": false, "env_config": {"run": "PPO", "flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.1,\n            \"eta3\": 0.1,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 7.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 0\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 700,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}"}, "entropy_coeff": 0.0, "sample_async": false, "lambda": 0.97, "monitor": false, "env": "MultiWaveAttenuationMergePOEnvBufferedObs-v0shortermeasure01:01:10", "clip_param": 0.3, "sample_batch_size": 750, "input_evaluation": null, "collect_metrics_timeout": 180, "sgd_minibatch_size": 128, "train_batch_size": 45000, "synchronize_filters": true, "kl_coeff": 0.2, "output": null, "num_cpus_for_driver": 1, "use_gae": true, "clip_actions": false, "num_cpus_per_worker": 1, "optimizer": {}, "num_gpus_per_worker": 0, "straggler_mitigation": false}, "timestamp": 1557419685, "info": {"num_steps_trained": 33151516, "default": {"cur_lr": 0.0005000000237487257, "kl": 0.012806830927729607, "vf_explained_var": 0.8303126692771912, "entropy": 2.2853119373321533, "total_loss": 15.836869239807129, "vf_loss": 15.844478607177734, "cur_kl_coeff": 1.0124999284744263, "policy_loss": -0.02057783491909504}, "load_time_ms": 38.268, "grad_time_ms": 19062.081, "sample_time_ms": 24842.725, "num_steps_sampled": 33151516, "update_time_ms": 8.818}, "policy_reward_mean": {}, "training_iteration": 294, "time_this_iter_s": 46.3505277633667, "experiment_id": "4ad1a1b4498d471a9b029fd78d997061", "time_since_restore": 4201.734186887741, "episode_len_mean": 751.0, "timesteps_this_iter": 81393, "custom_metrics": {"system_level_velocity_min": 7.391328329724487, "system_level_velocity_mean": 11.172135671604838, "system_level_velocity_max": 13.666531318564237, "outflow_rate_min": 744.4225142857143, "cost1_mean": 319.4041256564838, "cost2_min": -161.5493293618766, "outflow_rate_mean": 1005.4744901263585, "cost2_max": -91.73781515103276, "cost1_min": 206.6741268730098, "cost1_max": 392.9564169237326, "cost2_mean": -128.2805110088306, "outflow_rate_max": 1229.8604878581891}}
{"iterations_since_restore": 95, "timesteps_since_restore": 7745204, "episode_reward_min": 206.27856115531935, "time_total_s": 17671.24579310417, "node_ip": "10.138.0.2", "done": false, "episode_reward_mean": 742.7361732317881, "num_metric_batches_dropped": 0, "episodes_total": 17095, "date": "2019-05-09_16-35-30", "pid": 21505, "episode_reward_max": 890.2956341105198, "timesteps_total": 33231864, "hostname": "flow-main", "episodes_this_iter": 42, "config": {"horizon": 1500, "input": "sampler", "output_max_file_size": 67108864, "gamma": 0.99, "model": {"free_log_std": false, "squash_to_range": false, "fcnet_activation": "tanh", "grayscale": false, "dim": 84, "fcnet_hiddens": [128, 64, 32], "conv_filters": null, "custom_model": null, "conv_activation": "relu", "custom_options": {}, "use_lstm": false, "channel_major": false, "framestack": true, "lstm_use_prev_action_reward": false, "zero_mean": true, "max_seq_len": 20, "lstm_cell_size": 256, "custom_preprocessor": null}, "vf_share_layers": false, "lr_schedule": null, "compress_observations": false, "clip_rewards": null, "kl_target": 0.01, "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "callbacks": {"on_train_result": null, "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7f5e87d5eac8>", "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7f5e87d5e588>", "on_sample_end": null, "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7f5e87d5ecf8>"}, "preprocessor_pref": "deepmind", "num_gpus": 0, "multiagent": {"policies_to_train": null, "policy_graphs": {}, "policy_mapping_fn": null}, "observation_filter": "MeanStdFilter", "num_workers": 30, "lr": 0.0005, "num_envs_per_worker": 1, "custom_resources_per_worker": {}, "vf_clip_param": 1000000.0, "vf_loss_coeff": 1.0, "log_level": "INFO", "tf_session_args": {"device_count": {"CPU": 1}, "log_device_placement": false, "gpu_options": {"allow_growth": true}, "intra_op_parallelism_threads": 2, "allow_soft_placement": true, "inter_op_parallelism_threads": 2}, "batch_mode": "truncate_episodes", "num_sgd_iter": 10, "output_compress_columns": ["obs", "new_obs"], "simple_optimizer": false, "env_config": {"run": "PPO", "flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.1,\n            \"eta3\": 0.1,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 7.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 0\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 700,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}"}, "entropy_coeff": 0.0, "sample_async": false, "lambda": 0.97, "monitor": false, "env": "MultiWaveAttenuationMergePOEnvBufferedObs-v0shortermeasure01:01:10", "clip_param": 0.3, "sample_batch_size": 750, "input_evaluation": null, "collect_metrics_timeout": 180, "sgd_minibatch_size": 128, "train_batch_size": 45000, "synchronize_filters": true, "kl_coeff": 0.2, "output": null, "num_cpus_for_driver": 1, "use_gae": true, "clip_actions": false, "num_cpus_per_worker": 1, "optimizer": {}, "num_gpus_per_worker": 0, "straggler_mitigation": false}, "timestamp": 1557419730, "info": {"num_steps_trained": 33231864, "default": {"cur_lr": 0.0005000000237487257, "kl": 0.012380479834973812, "vf_explained_var": 0.8386382460594177, "entropy": 2.305318593978882, "total_loss": 16.101463317871094, "vf_loss": 16.10821533203125, "cur_kl_coeff": 1.0124998092651367, "policy_loss": -0.019288092851638794}, "load_time_ms": 37.322, "grad_time_ms": 19378.346, "sample_time_ms": 24640.898, "num_steps_sampled": 33231864, "update_time_ms": 8.923}, "policy_reward_mean": {}, "training_iteration": 295, "time_this_iter_s": 45.02416229248047, "experiment_id": "4ad1a1b4498d471a9b029fd78d997061", "time_since_restore": 4246.758349180222, "episode_len_mean": 745.67, "timesteps_this_iter": 80348, "custom_metrics": {"system_level_velocity_min": 7.391328329724487, "system_level_velocity_mean": 11.171855860555791, "system_level_velocity_max": 13.50613711802287, "outflow_rate_min": 411.66680943066405, "cost1_mean": 316.73133453280786, "cost2_min": -161.2465675607451, "outflow_rate_mean": 995.562848015375, "cost2_max": -93.37174322478694, "cost1_min": 111.56842046603558, "cost1_max": 383.3430298909956, "cost2_mean": -128.06533788629602, "outflow_rate_max": 1230.3723632752337}}
{"iterations_since_restore": 96, "timesteps_since_restore": 7827545, "episode_reward_min": 188.62878499243376, "time_total_s": 17716.030233860016, "node_ip": "10.138.0.2", "done": false, "episode_reward_mean": 735.1647385375785, "num_metric_batches_dropped": 0, "episodes_total": 17138, "date": "2019-05-09_16-36-15", "pid": 21505, "episode_reward_max": 890.2956341105198, "timesteps_total": 33314205, "hostname": "flow-main", "episodes_this_iter": 43, "config": {"horizon": 1500, "input": "sampler", "output_max_file_size": 67108864, "gamma": 0.99, "model": {"free_log_std": false, "squash_to_range": false, "fcnet_activation": "tanh", "grayscale": false, "dim": 84, "fcnet_hiddens": [128, 64, 32], "conv_filters": null, "custom_model": null, "conv_activation": "relu", "custom_options": {}, "use_lstm": false, "channel_major": false, "framestack": true, "lstm_use_prev_action_reward": false, "zero_mean": true, "max_seq_len": 20, "lstm_cell_size": 256, "custom_preprocessor": null}, "vf_share_layers": false, "lr_schedule": null, "compress_observations": false, "clip_rewards": null, "kl_target": 0.01, "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "callbacks": {"on_train_result": null, "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7f5e88017048>", "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7f5e88017b00>", "on_sample_end": null, "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7f5e88017e10>"}, "preprocessor_pref": "deepmind", "num_gpus": 0, "multiagent": {"policies_to_train": null, "policy_graphs": {}, "policy_mapping_fn": null}, "observation_filter": "MeanStdFilter", "num_workers": 30, "lr": 0.0005, "num_envs_per_worker": 1, "custom_resources_per_worker": {}, "vf_clip_param": 1000000.0, "vf_loss_coeff": 1.0, "log_level": "INFO", "tf_session_args": {"device_count": {"CPU": 1}, "log_device_placement": false, "gpu_options": {"allow_growth": true}, "intra_op_parallelism_threads": 2, "allow_soft_placement": true, "inter_op_parallelism_threads": 2}, "batch_mode": "truncate_episodes", "num_sgd_iter": 10, "output_compress_columns": ["obs", "new_obs"], "simple_optimizer": false, "env_config": {"run": "PPO", "flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.1,\n            \"eta3\": 0.1,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 7.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 0\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 700,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}"}, "entropy_coeff": 0.0, "sample_async": false, "lambda": 0.97, "monitor": false, "env": "MultiWaveAttenuationMergePOEnvBufferedObs-v0shortermeasure01:01:10", "clip_param": 0.3, "sample_batch_size": 750, "input_evaluation": null, "collect_metrics_timeout": 180, "sgd_minibatch_size": 128, "train_batch_size": 45000, "synchronize_filters": true, "kl_coeff": 0.2, "output": null, "num_cpus_for_driver": 1, "use_gae": true, "clip_actions": false, "num_cpus_per_worker": 1, "optimizer": {}, "num_gpus_per_worker": 0, "straggler_mitigation": false}, "timestamp": 1557419775, "info": {"num_steps_trained": 33314205, "default": {"cur_lr": 0.0005000000237487257, "kl": 0.012036087922751904, "vf_explained_var": 0.8393076062202454, "entropy": 2.313783645629883, "total_loss": 16.42857551574707, "vf_loss": 16.436872482299805, "cur_kl_coeff": 1.0124999284744263, "policy_loss": -0.020483577623963356}, "load_time_ms": 36.722, "grad_time_ms": 19638.149, "sample_time_ms": 24415.772, "num_steps_sampled": 33314205, "update_time_ms": 9.033}, "policy_reward_mean": {}, "training_iteration": 296, "time_this_iter_s": 44.784440755844116, "experiment_id": "4ad1a1b4498d471a9b029fd78d997061", "time_since_restore": 4291.542789936066, "episode_len_mean": 740.44, "timesteps_this_iter": 82341, "custom_metrics": {"system_level_velocity_min": 6.396617340982159, "system_level_velocity_mean": 11.132253063721434, "system_level_velocity_max": 13.50613711802287, "outflow_rate_min": 394.80335986228823, "cost1_mean": 313.24694286930446, "cost2_min": -155.8835742634528, "outflow_rate_mean": 983.317048838426, "cost2_max": -65.48072514664403, "cost1_min": 98.44678082321003, "cost1_max": 381.3269092302535, "cost2_mean": -127.77640255266897, "outflow_rate_max": 1230.3723632752337}}
{"iterations_since_restore": 97, "timesteps_since_restore": 7910012, "episode_reward_min": 188.62878499243376, "time_total_s": 17759.814230442047, "node_ip": "10.138.0.2", "done": false, "episode_reward_mean": 729.9471225741191, "num_metric_batches_dropped": 0, "episodes_total": 17181, "date": "2019-05-09_16-36-58", "pid": 21505, "episode_reward_max": 861.2567136019572, "timesteps_total": 33396672, "hostname": "flow-main", "episodes_this_iter": 43, "config": {"horizon": 1500, "input": "sampler", "output_max_file_size": 67108864, "gamma": 0.99, "model": {"free_log_std": false, "squash_to_range": false, "fcnet_activation": "tanh", "grayscale": false, "dim": 84, "fcnet_hiddens": [128, 64, 32], "conv_filters": null, "custom_model": null, "conv_activation": "relu", "custom_options": {}, "use_lstm": false, "channel_major": false, "framestack": true, "lstm_use_prev_action_reward": false, "zero_mean": true, "max_seq_len": 20, "lstm_cell_size": 256, "custom_preprocessor": null}, "vf_share_layers": false, "lr_schedule": null, "compress_observations": false, "clip_rewards": null, "kl_target": 0.01, "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "callbacks": {"on_train_result": null, "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7f5e87d5ecf8>", "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7f5e87d5e588>", "on_sample_end": null, "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7f5e87d5e6d8>"}, "preprocessor_pref": "deepmind", "num_gpus": 0, "multiagent": {"policies_to_train": null, "policy_graphs": {}, "policy_mapping_fn": null}, "observation_filter": "MeanStdFilter", "num_workers": 30, "lr": 0.0005, "num_envs_per_worker": 1, "custom_resources_per_worker": {}, "vf_clip_param": 1000000.0, "vf_loss_coeff": 1.0, "log_level": "INFO", "tf_session_args": {"device_count": {"CPU": 1}, "log_device_placement": false, "gpu_options": {"allow_growth": true}, "intra_op_parallelism_threads": 2, "allow_soft_placement": true, "inter_op_parallelism_threads": 2}, "batch_mode": "truncate_episodes", "num_sgd_iter": 10, "output_compress_columns": ["obs", "new_obs"], "simple_optimizer": false, "env_config": {"run": "PPO", "flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.1,\n            \"eta3\": 0.1,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 7.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 0\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 700,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}"}, "entropy_coeff": 0.0, "sample_async": false, "lambda": 0.97, "monitor": false, "env": "MultiWaveAttenuationMergePOEnvBufferedObs-v0shortermeasure01:01:10", "clip_param": 0.3, "sample_batch_size": 750, "input_evaluation": null, "collect_metrics_timeout": 180, "sgd_minibatch_size": 128, "train_batch_size": 45000, "synchronize_filters": true, "kl_coeff": 0.2, "output": null, "num_cpus_for_driver": 1, "use_gae": true, "clip_actions": false, "num_cpus_per_worker": 1, "optimizer": {}, "num_gpus_per_worker": 0, "straggler_mitigation": false}, "timestamp": 1557419818, "info": {"num_steps_trained": 33396672, "default": {"cur_lr": 0.0005000000237487257, "kl": 0.012612948194146156, "vf_explained_var": 0.8499945402145386, "entropy": 2.33577561378479, "total_loss": 15.049737930297852, "vf_loss": 15.056938171386719, "cur_kl_coeff": 1.0124999284744263, "policy_loss": -0.019971640780568123}, "load_time_ms": 36.919, "grad_time_ms": 19718.391, "sample_time_ms": 24318.546, "num_steps_sampled": 33396672, "update_time_ms": 8.653}, "policy_reward_mean": {}, "training_iteration": 297, "time_this_iter_s": 43.78399658203125, "experiment_id": "4ad1a1b4498d471a9b029fd78d997061", "time_since_restore": 4335.326786518097, "episode_len_mean": 745.77, "timesteps_this_iter": 82467, "custom_metrics": {"system_level_velocity_min": 6.396617340982159, "system_level_velocity_mean": 10.940318638926684, "system_level_velocity_max": 13.404389067998318, "outflow_rate_min": 394.80335986228823, "cost1_mean": 310.0958150874058, "cost2_min": -151.56320266179614, "outflow_rate_mean": 975.1594364312068, "cost2_max": -65.48072514664403, "cost1_min": 98.44678082321003, "cost1_max": 381.81463221195406, "cost2_mean": -126.57616722823535, "outflow_rate_max": 1199.5418417174662}}
{"iterations_since_restore": 98, "timesteps_since_restore": 7990745, "episode_reward_min": 569.5624218041471, "time_total_s": 17804.242100954056, "node_ip": "10.138.0.2", "done": false, "episode_reward_mean": 733.9192368626675, "num_metric_batches_dropped": 0, "episodes_total": 17223, "date": "2019-05-09_16-37-43", "pid": 21505, "episode_reward_max": 906.084931009872, "timesteps_total": 33477405, "hostname": "flow-main", "episodes_this_iter": 42, "config": {"horizon": 1500, "input": "sampler", "output_max_file_size": 67108864, "gamma": 0.99, "model": {"free_log_std": false, "squash_to_range": false, "fcnet_activation": "tanh", "grayscale": false, "dim": 84, "fcnet_hiddens": [128, 64, 32], "conv_filters": null, "custom_model": null, "conv_activation": "relu", "custom_options": {}, "use_lstm": false, "channel_major": false, "framestack": true, "lstm_use_prev_action_reward": false, "zero_mean": true, "max_seq_len": 20, "lstm_cell_size": 256, "custom_preprocessor": null}, "vf_share_layers": false, "lr_schedule": null, "compress_observations": false, "clip_rewards": null, "kl_target": 0.01, "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "callbacks": {"on_train_result": null, "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7f5e88017c50>", "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7f5e88017390>", "on_sample_end": null, "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7f5e88017a20>"}, "preprocessor_pref": "deepmind", "num_gpus": 0, "multiagent": {"policies_to_train": null, "policy_graphs": {}, "policy_mapping_fn": null}, "observation_filter": "MeanStdFilter", "num_workers": 30, "lr": 0.0005, "num_envs_per_worker": 1, "custom_resources_per_worker": {}, "vf_clip_param": 1000000.0, "vf_loss_coeff": 1.0, "log_level": "INFO", "tf_session_args": {"device_count": {"CPU": 1}, "log_device_placement": false, "gpu_options": {"allow_growth": true}, "intra_op_parallelism_threads": 2, "allow_soft_placement": true, "inter_op_parallelism_threads": 2}, "batch_mode": "truncate_episodes", "num_sgd_iter": 10, "output_compress_columns": ["obs", "new_obs"], "simple_optimizer": false, "env_config": {"run": "PPO", "flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.1,\n            \"eta3\": 0.1,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 7.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 0\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 700,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}"}, "entropy_coeff": 0.0, "sample_async": false, "lambda": 0.97, "monitor": false, "env": "MultiWaveAttenuationMergePOEnvBufferedObs-v0shortermeasure01:01:10", "clip_param": 0.3, "sample_batch_size": 750, "input_evaluation": null, "collect_metrics_timeout": 180, "sgd_minibatch_size": 128, "train_batch_size": 45000, "synchronize_filters": true, "kl_coeff": 0.2, "output": null, "num_cpus_for_driver": 1, "use_gae": true, "clip_actions": false, "num_cpus_per_worker": 1, "optimizer": {}, "num_gpus_per_worker": 0, "straggler_mitigation": false}, "timestamp": 1557419863, "info": {"num_steps_trained": 33477405, "default": {"cur_lr": 0.0005000000237487257, "kl": 0.013382275588810444, "vf_explained_var": 0.8411779999732971, "entropy": 2.3291733264923096, "total_loss": 15.919146537780762, "vf_loss": 15.926190376281738, "cur_kl_coeff": 1.0124999284744263, "policy_loss": -0.020593680441379547}, "load_time_ms": 37.728, "grad_time_ms": 19559.239, "sample_time_ms": 24437.201, "num_steps_sampled": 33477405, "update_time_ms": 8.662}, "policy_reward_mean": {}, "training_iteration": 298, "time_this_iter_s": 44.42787051200867, "experiment_id": "4ad1a1b4498d471a9b029fd78d997061", "time_since_restore": 4379.754657030106, "episode_len_mean": 751.0, "timesteps_this_iter": 80733, "custom_metrics": {"system_level_velocity_min": 6.8838005477355955, "system_level_velocity_mean": 10.861454979153313, "system_level_velocity_max": 13.736562343202227, "outflow_rate_min": 700.7277015228427, "cost1_mean": 310.17946857050674, "cost2_min": -159.43675366244884, "outflow_rate_mean": 975.8625535833479, "cost2_max": -95.30354612141247, "cost1_min": 190.15530938948987, "cost1_max": 394.1598460647516, "cost2_mean": -125.18300342694018, "outflow_rate_max": 1223.0166855372634}}
{"iterations_since_restore": 99, "timesteps_since_restore": 8071782, "episode_reward_min": 575.2859479553144, "time_total_s": 17848.14853310585, "node_ip": "10.138.0.2", "done": false, "episode_reward_mean": 728.0158624556566, "num_metric_batches_dropped": 0, "episodes_total": 17265, "date": "2019-05-09_16-38-27", "pid": 21505, "episode_reward_max": 906.084931009872, "timesteps_total": 33558442, "hostname": "flow-main", "episodes_this_iter": 42, "config": {"horizon": 1500, "input": "sampler", "output_max_file_size": 67108864, "gamma": 0.99, "model": {"free_log_std": false, "squash_to_range": false, "fcnet_activation": "tanh", "grayscale": false, "dim": 84, "fcnet_hiddens": [128, 64, 32], "conv_filters": null, "custom_model": null, "conv_activation": "relu", "custom_options": {}, "use_lstm": false, "channel_major": false, "framestack": true, "lstm_use_prev_action_reward": false, "zero_mean": true, "max_seq_len": 20, "lstm_cell_size": 256, "custom_preprocessor": null}, "vf_share_layers": false, "lr_schedule": null, "compress_observations": false, "clip_rewards": null, "kl_target": 0.01, "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "callbacks": {"on_train_result": null, "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7f5e87d5e898>", "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7f5e87d5ecf8>", "on_sample_end": null, "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7f5e87d5e588>"}, "preprocessor_pref": "deepmind", "num_gpus": 0, "multiagent": {"policies_to_train": null, "policy_graphs": {}, "policy_mapping_fn": null}, "observation_filter": "MeanStdFilter", "num_workers": 30, "lr": 0.0005, "num_envs_per_worker": 1, "custom_resources_per_worker": {}, "vf_clip_param": 1000000.0, "vf_loss_coeff": 1.0, "log_level": "INFO", "tf_session_args": {"device_count": {"CPU": 1}, "log_device_placement": false, "gpu_options": {"allow_growth": true}, "intra_op_parallelism_threads": 2, "allow_soft_placement": true, "inter_op_parallelism_threads": 2}, "batch_mode": "truncate_episodes", "num_sgd_iter": 10, "output_compress_columns": ["obs", "new_obs"], "simple_optimizer": false, "env_config": {"run": "PPO", "flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.1,\n            \"eta3\": 0.1,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 7.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 0\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 700,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}"}, "entropy_coeff": 0.0, "sample_async": false, "lambda": 0.97, "monitor": false, "env": "MultiWaveAttenuationMergePOEnvBufferedObs-v0shortermeasure01:01:10", "clip_param": 0.3, "sample_batch_size": 750, "input_evaluation": null, "collect_metrics_timeout": 180, "sgd_minibatch_size": 128, "train_batch_size": 45000, "synchronize_filters": true, "kl_coeff": 0.2, "output": null, "num_cpus_for_driver": 1, "use_gae": true, "clip_actions": false, "num_cpus_per_worker": 1, "optimizer": {}, "num_gpus_per_worker": 0, "straggler_mitigation": false}, "timestamp": 1557419907, "info": {"num_steps_trained": 33558442, "default": {"cur_lr": 0.0005000000237487257, "kl": 0.011956039816141129, "vf_explained_var": 0.8403893113136292, "entropy": 2.3507909774780273, "total_loss": 16.3433895111084, "vf_loss": 16.35048484802246, "cur_kl_coeff": 1.0124998092651367, "policy_loss": -0.019201038405299187}, "load_time_ms": 38.233, "grad_time_ms": 19281.738, "sample_time_ms": 24662.803, "num_steps_sampled": 33558442, "update_time_ms": 8.591}, "policy_reward_mean": {}, "training_iteration": 299, "time_this_iter_s": 43.906432151794434, "experiment_id": "4ad1a1b4498d471a9b029fd78d997061", "time_since_restore": 4423.6610891819, "episode_len_mean": 751.0, "timesteps_this_iter": 81037, "custom_metrics": {"system_level_velocity_min": 7.287790515013115, "system_level_velocity_mean": 10.745905403094913, "system_level_velocity_max": 13.736562343202227, "outflow_rate_min": 722.4195578363385, "cost1_mean": 307.14097320386344, "cost2_min": -159.43675366244884, "outflow_rate_mean": 969.8106534377482, "cost2_max": -97.64948747382499, "cost1_min": 203.0902404513829, "cost1_max": 394.1598460647516, "cost2_mean": -124.8184338883612, "outflow_rate_max": 1223.0166855372634}}
{"iterations_since_restore": 100, "timesteps_since_restore": 8153134, "episode_reward_min": 538.1044508656206, "time_total_s": 17894.511150836945, "node_ip": "10.138.0.2", "done": true, "episode_reward_mean": 724.8246699904096, "num_metric_batches_dropped": 0, "episodes_total": 17307, "date": "2019-05-09_16-39-13", "pid": 21505, "episode_reward_max": 897.8478308183167, "timesteps_total": 33639794, "hostname": "flow-main", "episodes_this_iter": 42, "config": {"horizon": 1500, "input": "sampler", "output_max_file_size": 67108864, "gamma": 0.99, "model": {"free_log_std": false, "squash_to_range": false, "fcnet_activation": "tanh", "grayscale": false, "dim": 84, "fcnet_hiddens": [128, 64, 32], "conv_filters": null, "custom_model": null, "conv_activation": "relu", "custom_options": {}, "use_lstm": false, "channel_major": false, "framestack": true, "lstm_use_prev_action_reward": false, "zero_mean": true, "max_seq_len": 20, "lstm_cell_size": 256, "custom_preprocessor": null}, "vf_share_layers": false, "lr_schedule": null, "compress_observations": false, "clip_rewards": null, "kl_target": 0.01, "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "callbacks": {"on_train_result": null, "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7f5e88017550>", "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7f5e88017048>", "on_sample_end": null, "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7f5e88017b00>"}, "preprocessor_pref": "deepmind", "num_gpus": 0, "multiagent": {"policies_to_train": null, "policy_graphs": {}, "policy_mapping_fn": null}, "observation_filter": "MeanStdFilter", "num_workers": 30, "lr": 0.0005, "num_envs_per_worker": 1, "custom_resources_per_worker": {}, "vf_clip_param": 1000000.0, "vf_loss_coeff": 1.0, "log_level": "INFO", "tf_session_args": {"device_count": {"CPU": 1}, "log_device_placement": false, "gpu_options": {"allow_growth": true}, "intra_op_parallelism_threads": 2, "allow_soft_placement": true, "inter_op_parallelism_threads": 2}, "batch_mode": "truncate_episodes", "num_sgd_iter": 10, "output_compress_columns": ["obs", "new_obs"], "simple_optimizer": false, "env_config": {"run": "PPO", "flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.1,\n            \"eta3\": 0.1,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 7.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 0\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 700,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}"}, "entropy_coeff": 0.0, "sample_async": false, "lambda": 0.97, "monitor": false, "env": "MultiWaveAttenuationMergePOEnvBufferedObs-v0shortermeasure01:01:10", "clip_param": 0.3, "sample_batch_size": 750, "input_evaluation": null, "collect_metrics_timeout": 180, "sgd_minibatch_size": 128, "train_batch_size": 45000, "synchronize_filters": true, "kl_coeff": 0.2, "output": null, "num_cpus_for_driver": 1, "use_gae": true, "clip_actions": false, "num_cpus_per_worker": 1, "optimizer": {}, "num_gpus_per_worker": 0, "straggler_mitigation": false}, "timestamp": 1557419953, "info": {"num_steps_trained": 33639794, "default": {"cur_lr": 0.0005000000237487257, "kl": 0.012476958334445953, "vf_explained_var": 0.8473075032234192, "entropy": 2.367295980453491, "total_loss": 16.441314697265625, "vf_loss": 16.44869613647461, "cur_kl_coeff": 1.0124999284744263, "policy_loss": -0.02001381292939186}, "load_time_ms": 36.129, "grad_time_ms": 19340.34, "sample_time_ms": 24965.097, "num_steps_sampled": 33639794, "update_time_ms": 8.443}, "policy_reward_mean": {}, "training_iteration": 300, "time_this_iter_s": 46.36261773109436, "experiment_id": "4ad1a1b4498d471a9b029fd78d997061", "time_since_restore": 4470.023706912994, "episode_len_mean": 751.0, "timesteps_this_iter": 81352, "custom_metrics": {"system_level_velocity_min": 7.896736670307324, "system_level_velocity_mean": 10.686303793157403, "system_level_velocity_max": 13.326287729358594, "outflow_rate_min": 664.7176410540915, "cost1_mean": 305.1964532513899, "cost2_min": -159.71047543913, "outflow_rate_mean": 964.265889670631, "cost2_max": -90.72125902612238, "cost1_min": 217.68078329871514, "cost1_max": 383.98032768656697, "cost2_mean": -123.31720726040903, "outflow_rate_max": 1197.0287500218726}}
