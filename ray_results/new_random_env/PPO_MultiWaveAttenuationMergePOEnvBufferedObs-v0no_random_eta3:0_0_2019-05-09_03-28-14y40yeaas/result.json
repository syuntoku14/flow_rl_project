{"time_total_s": 7740.7810134887695, "time_since_restore": 57.85883402824402, "episode_reward_min": 179.64948430381602, "timestamp": 1557372601, "episodes_total": 13455, "iterations_since_restore": 1, "pid": 9951, "num_metric_batches_dropped": 0, "config": {"train_batch_size": 90000, "env": "MultiWaveAttenuationMergePOEnvBufferedObs-v0no_random_eta3:0", "horizon": 1500, "sample_batch_size": 750, "observation_filter": "MeanStdFilter", "log_level": "INFO", "simple_optimizer": false, "monitor": false, "batch_mode": "truncate_episodes", "lambda": 0.97, "sample_async": false, "input_evaluation": null, "clip_actions": false, "env_config": {"run": "PPO", "flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.3,\n            \"eta3\": 0.1,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 10.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 600,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}"}, "kl_target": 0.01, "num_cpus_per_worker": 1, "preprocessor_pref": "deepmind", "num_cpus_for_driver": 1, "output_max_file_size": 67108864, "lr": 0.0005, "entropy_coeff": 0.0, "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "num_sgd_iter": 10, "clip_param": 0.3, "tf_session_args": {"log_device_placement": false, "inter_op_parallelism_threads": 2, "allow_soft_placement": true, "gpu_options": {"allow_growth": true}, "intra_op_parallelism_threads": 2, "device_count": {"CPU": 1}}, "model": {"max_seq_len": 20, "channel_major": false, "conv_filters": null, "free_log_std": false, "lstm_cell_size": 256, "dim": 84, "zero_mean": true, "framestack": true, "lstm_use_prev_action_reward": false, "squash_to_range": false, "use_lstm": false, "custom_options": {}, "grayscale": false, "custom_preprocessor": null, "conv_activation": "relu", "fcnet_hiddens": [128, 64, 32], "custom_model": null, "fcnet_activation": "tanh"}, "output": null, "optimizer": {}, "num_gpus_per_worker": 0, "num_workers": 60, "use_gae": true, "lr_schedule": null, "multiagent": {"policies_to_train": null, "policy_mapping_fn": null, "policy_graphs": {}}, "vf_loss_coeff": 1.0, "kl_coeff": 0.2, "num_gpus": 0, "compress_observations": false, "num_envs_per_worker": 1, "collect_metrics_timeout": 180, "straggler_mitigation": false, "custom_resources_per_worker": {}, "input": "sampler", "vf_share_layers": false, "sgd_minibatch_size": 128, "output_compress_columns": ["obs", "new_obs"], "vf_clip_param": 1000000.0, "synchronize_filters": true, "callbacks": {"on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7fd2635f2128>", "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7fd2635f2160>", "on_train_result": null, "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7fd2635f2198>", "on_sample_end": null}, "gamma": 0.99, "clip_rewards": null}, "experiment_id": "9b178520507b4656ac608c6ff2056ff7", "timesteps_this_iter": 148243, "info": {"sample_time_ms": 24349.913, "num_steps_trained": 21508476, "update_time_ms": 488.864, "num_steps_sampled": 21508476, "grad_time_ms": 32628.276, "load_time_ms": 70.08, "default": {"kl": 0.016270261257886887, "vf_loss": 28.76353645324707, "vf_explained_var": 0.7182869911193848, "cur_kl_coeff": 0.5062499642372131, "total_loss": 28.764251708984375, "policy_loss": -0.00752067007124424, "cur_lr": 0.0005000000237487257, "entropy": 2.3328094482421875}}, "date": "2019-05-09_03-30-01", "done": false, "episode_len_mean": 736.4761904761905, "episodes_this_iter": 63, "episode_reward_max": 739.7769673075343, "custom_metrics": {"cost2_min": -100.81270380922862, "system_level_velocity_min": 9.037912038567779, "cost2_max": -47.301622690627894, "cost2_mean": -74.80862732250469, "cost1_mean": 317.4574783075193, "outflow_rate_mean": 853.150441688692, "cost1_max": 377.5357666438077, "system_level_velocity_mean": 11.870483781449046, "cost1_min": 104.35973544466144, "outflow_rate_max": 982.7269843575745, "outflow_rate_min": 430.1894243883059, "system_level_velocity_max": 13.779389412264855}, "hostname": "flow-main", "episode_reward_mean": 603.8480133651018, "training_iteration": 201, "timesteps_since_restore": 148243, "timesteps_total": 21508476, "time_this_iter_s": 57.85883402824402, "node_ip": "10.138.0.2", "policy_reward_mean": {}}
{"time_total_s": 7795.40972495079, "time_since_restore": 112.48754549026489, "episode_reward_min": 152.9343533030409, "timestamp": 1557372656, "episodes_total": 13524, "iterations_since_restore": 2, "pid": 9951, "num_metric_batches_dropped": 0, "config": {"train_batch_size": 90000, "env": "MultiWaveAttenuationMergePOEnvBufferedObs-v0no_random_eta3:0", "horizon": 1500, "sample_batch_size": 750, "observation_filter": "MeanStdFilter", "log_level": "INFO", "simple_optimizer": false, "monitor": false, "batch_mode": "truncate_episodes", "lambda": 0.97, "sample_async": false, "input_evaluation": null, "clip_actions": false, "env_config": {"run": "PPO", "flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.3,\n            \"eta3\": 0.1,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 10.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 600,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}"}, "kl_target": 0.01, "num_cpus_per_worker": 1, "preprocessor_pref": "deepmind", "num_cpus_for_driver": 1, "output_max_file_size": 67108864, "lr": 0.0005, "entropy_coeff": 0.0, "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "num_sgd_iter": 10, "clip_param": 0.3, "tf_session_args": {"log_device_placement": false, "inter_op_parallelism_threads": 2, "allow_soft_placement": true, "gpu_options": {"allow_growth": true}, "intra_op_parallelism_threads": 2, "device_count": {"CPU": 1}}, "model": {"max_seq_len": 20, "channel_major": false, "conv_filters": null, "free_log_std": false, "lstm_cell_size": 256, "dim": 84, "zero_mean": true, "framestack": true, "lstm_use_prev_action_reward": false, "squash_to_range": false, "use_lstm": false, "custom_options": {}, "grayscale": false, "custom_preprocessor": null, "conv_activation": "relu", "fcnet_hiddens": [128, 64, 32], "custom_model": null, "fcnet_activation": "tanh"}, "output": null, "optimizer": {}, "num_gpus_per_worker": 0, "num_workers": 60, "use_gae": true, "lr_schedule": null, "multiagent": {"policies_to_train": null, "policy_mapping_fn": null, "policy_graphs": {}}, "vf_loss_coeff": 1.0, "kl_coeff": 0.2, "num_gpus": 0, "compress_observations": false, "num_envs_per_worker": 1, "collect_metrics_timeout": 180, "straggler_mitigation": false, "custom_resources_per_worker": {}, "input": "sampler", "vf_share_layers": false, "sgd_minibatch_size": 128, "output_compress_columns": ["obs", "new_obs"], "vf_clip_param": 1000000.0, "synchronize_filters": true, "callbacks": {"on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7fd2635f2ba8>", "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7fd2635f2be0>", "on_train_result": null, "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7fd2635f2c18>", "on_sample_end": null}, "gamma": 0.99, "clip_rewards": null}, "experiment_id": "9b178520507b4656ac608c6ff2056ff7", "timesteps_this_iter": 142201, "info": {"sample_time_ms": 24042.83, "num_steps_trained": 21650677, "update_time_ms": 250.021, "num_steps_sampled": 21650677, "grad_time_ms": 31614.687, "load_time_ms": 51.905, "default": {"kl": 0.02570807933807373, "vf_loss": 16.251766204833984, "vf_explained_var": 0.8190320730209351, "cur_kl_coeff": 0.20000001788139343, "total_loss": 16.250064849853516, "policy_loss": -0.006842043716460466, "cur_lr": 0.0005000000237487257, "entropy": 2.2908928394317627}}, "date": "2019-05-09_03-30-56", "done": false, "episode_len_mean": 702.55, "episodes_this_iter": 69, "episode_reward_max": 745.3929154439288, "custom_metrics": {"cost2_min": -111.10366288240765, "system_level_velocity_min": 9.247612850130436, "cost2_max": -31.37299253169603, "cost2_mean": -74.10609117702965, "cost1_mean": 305.94370806549676, "outflow_rate_mean": 823.4894024726013, "cost1_max": 386.00008615781985, "system_level_velocity_mean": 12.000313794237329, "cost1_min": 90.52613004444237, "outflow_rate_max": 1008.7707463338096, "outflow_rate_min": 370.7453808811265, "system_level_velocity_max": 14.358649542915854}, "hostname": "flow-main", "episode_reward_mean": 581.0649041805207, "training_iteration": 202, "timesteps_since_restore": 290444, "timesteps_total": 21650677, "time_this_iter_s": 54.628711462020874, "node_ip": "10.138.0.2", "policy_reward_mean": {}}
{"time_total_s": 7851.23845243454, "time_since_restore": 168.31627297401428, "episode_reward_min": 60.25702287482957, "timestamp": 1557372711, "episodes_total": 13622, "iterations_since_restore": 3, "pid": 9951, "num_metric_batches_dropped": 0, "config": {"train_batch_size": 90000, "env": "MultiWaveAttenuationMergePOEnvBufferedObs-v0no_random_eta3:0", "horizon": 1500, "sample_batch_size": 750, "observation_filter": "MeanStdFilter", "log_level": "INFO", "simple_optimizer": false, "monitor": false, "batch_mode": "truncate_episodes", "lambda": 0.97, "sample_async": false, "input_evaluation": null, "clip_actions": false, "env_config": {"run": "PPO", "flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.3,\n            \"eta3\": 0.1,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 10.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 600,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}"}, "kl_target": 0.01, "num_cpus_per_worker": 1, "preprocessor_pref": "deepmind", "num_cpus_for_driver": 1, "output_max_file_size": 67108864, "lr": 0.0005, "entropy_coeff": 0.0, "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "num_sgd_iter": 10, "clip_param": 0.3, "tf_session_args": {"log_device_placement": false, "inter_op_parallelism_threads": 2, "allow_soft_placement": true, "gpu_options": {"allow_growth": true}, "intra_op_parallelism_threads": 2, "device_count": {"CPU": 1}}, "model": {"max_seq_len": 20, "channel_major": false, "conv_filters": null, "free_log_std": false, "lstm_cell_size": 256, "dim": 84, "zero_mean": true, "framestack": true, "lstm_use_prev_action_reward": false, "squash_to_range": false, "use_lstm": false, "custom_options": {}, "grayscale": false, "custom_preprocessor": null, "conv_activation": "relu", "fcnet_hiddens": [128, 64, 32], "custom_model": null, "fcnet_activation": "tanh"}, "output": null, "optimizer": {}, "num_gpus_per_worker": 0, "num_workers": 60, "use_gae": true, "lr_schedule": null, "multiagent": {"policies_to_train": null, "policy_mapping_fn": null, "policy_graphs": {}}, "vf_loss_coeff": 1.0, "kl_coeff": 0.2, "num_gpus": 0, "compress_observations": false, "num_envs_per_worker": 1, "collect_metrics_timeout": 180, "straggler_mitigation": false, "custom_resources_per_worker": {}, "input": "sampler", "vf_share_layers": false, "sgd_minibatch_size": 128, "output_compress_columns": ["obs", "new_obs"], "vf_clip_param": 1000000.0, "synchronize_filters": true, "callbacks": {"on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7fd26360c4e0>", "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7fd26360c518>", "on_train_result": null, "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7fd26360c550>", "on_sample_end": null}, "gamma": 0.99, "clip_rewards": null}, "experiment_id": "9b178520507b4656ac608c6ff2056ff7", "timesteps_this_iter": 143813, "info": {"sample_time_ms": 24070.902, "num_steps_trained": 21794490, "update_time_ms": 170.848, "num_steps_sampled": 21794490, "grad_time_ms": 31536.554, "load_time_ms": 46.045, "default": {"kl": 0.01816251315176487, "vf_loss": 23.440526962280273, "vf_explained_var": 0.7580004930496216, "cur_kl_coeff": 0.29999998211860657, "total_loss": 23.43938446044922, "policy_loss": -0.006587023846805096, "cur_lr": 0.0005000000237487257, "entropy": 2.2512102127075195}}, "date": "2019-05-09_03-31-51", "done": false, "episode_len_mean": 710.83, "episodes_this_iter": 98, "episode_reward_max": 718.7337423359692, "custom_metrics": {"cost2_min": -103.37957224708768, "system_level_velocity_min": 9.103034518948219, "cost2_max": -35.07434194995959, "cost2_mean": -72.71165499539956, "cost1_mean": 320.48258184054123, "outflow_rate_mean": 852.1694306901866, "cost1_max": 385.63521550603434, "system_level_velocity_mean": 12.411785437594292, "cost1_min": 45.535363748760474, "outflow_rate_max": 987.1232037475356, "outflow_rate_min": 249.61265296966172, "system_level_velocity_max": 14.356894902396279}, "hostname": "flow-main", "episode_reward_mean": 601.5045727096082, "training_iteration": 203, "timesteps_since_restore": 434257, "timesteps_total": 21794490, "time_this_iter_s": 55.82872748374939, "node_ip": "10.138.0.2", "policy_reward_mean": {}}
{"time_total_s": 7909.312375068665, "time_since_restore": 226.39019560813904, "episode_reward_min": 431.9431539245767, "timestamp": 1557372770, "episodes_total": 13713, "iterations_since_restore": 4, "pid": 9951, "num_metric_batches_dropped": 0, "config": {"train_batch_size": 90000, "env": "MultiWaveAttenuationMergePOEnvBufferedObs-v0no_random_eta3:0", "horizon": 1500, "sample_batch_size": 750, "observation_filter": "MeanStdFilter", "log_level": "INFO", "simple_optimizer": false, "monitor": false, "batch_mode": "truncate_episodes", "lambda": 0.97, "sample_async": false, "input_evaluation": null, "clip_actions": false, "env_config": {"run": "PPO", "flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.3,\n            \"eta3\": 0.1,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 10.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 600,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}"}, "kl_target": 0.01, "num_cpus_per_worker": 1, "preprocessor_pref": "deepmind", "num_cpus_for_driver": 1, "output_max_file_size": 67108864, "lr": 0.0005, "entropy_coeff": 0.0, "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "num_sgd_iter": 10, "clip_param": 0.3, "tf_session_args": {"log_device_placement": false, "inter_op_parallelism_threads": 2, "allow_soft_placement": true, "gpu_options": {"allow_growth": true}, "intra_op_parallelism_threads": 2, "device_count": {"CPU": 1}}, "model": {"max_seq_len": 20, "channel_major": false, "conv_filters": null, "free_log_std": false, "lstm_cell_size": 256, "dim": 84, "zero_mean": true, "framestack": true, "lstm_use_prev_action_reward": false, "squash_to_range": false, "use_lstm": false, "custom_options": {}, "grayscale": false, "custom_preprocessor": null, "conv_activation": "relu", "fcnet_hiddens": [128, 64, 32], "custom_model": null, "fcnet_activation": "tanh"}, "output": null, "optimizer": {}, "num_gpus_per_worker": 0, "num_workers": 60, "use_gae": true, "lr_schedule": null, "multiagent": {"policies_to_train": null, "policy_mapping_fn": null, "policy_graphs": {}}, "vf_loss_coeff": 1.0, "kl_coeff": 0.2, "num_gpus": 0, "compress_observations": false, "num_envs_per_worker": 1, "collect_metrics_timeout": 180, "straggler_mitigation": false, "custom_resources_per_worker": {}, "input": "sampler", "vf_share_layers": false, "sgd_minibatch_size": 128, "output_compress_columns": ["obs", "new_obs"], "vf_clip_param": 1000000.0, "synchronize_filters": true, "callbacks": {"on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7fd2635f2780>", "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7fd2635f24e0>", "on_train_result": null, "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7fd2635f2668>", "on_sample_end": null}, "gamma": 0.99, "clip_rewards": null}, "experiment_id": "9b178520507b4656ac608c6ff2056ff7", "timesteps_this_iter": 147396, "info": {"sample_time_ms": 24333.407, "num_steps_trained": 21941886, "update_time_ms": 130.39, "num_steps_sampled": 21941886, "grad_time_ms": 31811.336, "load_time_ms": 39.628, "default": {"kl": 0.017942745238542557, "vf_loss": 24.50246810913086, "vf_explained_var": 0.7573433518409729, "cur_kl_coeff": 0.29999998211860657, "total_loss": 24.50100326538086, "policy_loss": -0.006847484968602657, "cur_lr": 0.0005000000237487257, "entropy": 2.272150993347168}}, "date": "2019-05-09_03-32-50", "done": false, "episode_len_mean": 748.47, "episodes_this_iter": 91, "episode_reward_max": 731.2689130347952, "custom_metrics": {"cost2_min": -107.95557787013603, "system_level_velocity_min": 9.651114628512206, "cost2_max": -52.577026369517476, "cost2_mean": -79.40565434208466, "cost1_mean": 336.28181072287043, "outflow_rate_mean": 886.8971221576955, "cost1_max": 384.9244686954185, "system_level_velocity_mean": 12.422416382375095, "cost1_min": 237.02596444310072, "outflow_rate_max": 997.1525145837604, "outflow_rate_min": 649.1093262034595, "system_level_velocity_max": 14.388552148506237}, "hostname": "flow-main", "episode_reward_mean": 639.2829765880194, "training_iteration": 204, "timesteps_since_restore": 581653, "timesteps_total": 21941886, "time_this_iter_s": 58.073922634124756, "node_ip": "10.138.0.2", "policy_reward_mean": {}}
{"time_total_s": 7966.051423072815, "time_since_restore": 283.12924361228943, "episode_reward_min": 159.33600558172878, "timestamp": 1557372826, "episodes_total": 13805, "iterations_since_restore": 5, "pid": 9951, "num_metric_batches_dropped": 0, "config": {"train_batch_size": 90000, "env": "MultiWaveAttenuationMergePOEnvBufferedObs-v0no_random_eta3:0", "horizon": 1500, "sample_batch_size": 750, "observation_filter": "MeanStdFilter", "log_level": "INFO", "simple_optimizer": false, "monitor": false, "batch_mode": "truncate_episodes", "lambda": 0.97, "sample_async": false, "input_evaluation": null, "clip_actions": false, "env_config": {"run": "PPO", "flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.3,\n            \"eta3\": 0.1,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 10.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 600,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}"}, "kl_target": 0.01, "num_cpus_per_worker": 1, "preprocessor_pref": "deepmind", "num_cpus_for_driver": 1, "output_max_file_size": 67108864, "lr": 0.0005, "entropy_coeff": 0.0, "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "num_sgd_iter": 10, "clip_param": 0.3, "tf_session_args": {"log_device_placement": false, "inter_op_parallelism_threads": 2, "allow_soft_placement": true, "gpu_options": {"allow_growth": true}, "intra_op_parallelism_threads": 2, "device_count": {"CPU": 1}}, "model": {"max_seq_len": 20, "channel_major": false, "conv_filters": null, "free_log_std": false, "lstm_cell_size": 256, "dim": 84, "zero_mean": true, "framestack": true, "lstm_use_prev_action_reward": false, "squash_to_range": false, "use_lstm": false, "custom_options": {}, "grayscale": false, "custom_preprocessor": null, "conv_activation": "relu", "fcnet_hiddens": [128, 64, 32], "custom_model": null, "fcnet_activation": "tanh"}, "output": null, "optimizer": {}, "num_gpus_per_worker": 0, "num_workers": 60, "use_gae": true, "lr_schedule": null, "multiagent": {"policies_to_train": null, "policy_mapping_fn": null, "policy_graphs": {}}, "vf_loss_coeff": 1.0, "kl_coeff": 0.2, "num_gpus": 0, "compress_observations": false, "num_envs_per_worker": 1, "collect_metrics_timeout": 180, "straggler_mitigation": false, "custom_resources_per_worker": {}, "input": "sampler", "vf_share_layers": false, "sgd_minibatch_size": 128, "output_compress_columns": ["obs", "new_obs"], "vf_clip_param": 1000000.0, "synchronize_filters": true, "callbacks": {"on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7fd26360c438>", "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7fd26360c710>", "on_train_result": null, "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7fd26360c6a0>", "on_sample_end": null}, "gamma": 0.99, "clip_rewards": null}, "experiment_id": "9b178520507b4656ac608c6ff2056ff7", "timesteps_this_iter": 148912, "info": {"sample_time_ms": 24384.087, "num_steps_trained": 22090798, "update_time_ms": 106.674, "num_steps_sampled": 22090798, "grad_time_ms": 31815.941, "load_time_ms": 38.377, "default": {"kl": 0.017107300460338593, "vf_loss": 27.274986267089844, "vf_explained_var": 0.7545874714851379, "cur_kl_coeff": 0.29999998211860657, "total_loss": 27.274028778076172, "policy_loss": -0.00608888640999794, "cur_lr": 0.0005000000237487257, "entropy": 2.294088125228882}}, "date": "2019-05-09_03-33-46", "done": false, "episode_len_mean": 740.64, "episodes_this_iter": 92, "episode_reward_max": 730.4004906219794, "custom_metrics": {"cost2_min": -117.47612896147407, "system_level_velocity_min": 9.647698247229368, "cost2_max": -41.866246702074115, "cost2_mean": -81.2848673598505, "cost1_mean": 335.59112944717947, "outflow_rate_mean": 893.1043063558744, "cost1_max": 385.03361996160913, "system_level_velocity_mean": 12.501539102847579, "cost1_min": 100.05228816714688, "outflow_rate_max": 997.3474619005543, "outflow_rate_min": 419.8099031203368, "system_level_velocity_max": 14.310056906963686}, "hostname": "flow-main", "episode_reward_mean": 638.5501845282986, "training_iteration": 205, "timesteps_since_restore": 730565, "timesteps_total": 22090798, "time_this_iter_s": 56.73904800415039, "node_ip": "10.138.0.2", "policy_reward_mean": {}}
{"time_total_s": 8026.378524780273, "time_since_restore": 343.4563453197479, "episode_reward_min": 534.2723607429247, "timestamp": 1557372887, "episodes_total": 13895, "iterations_since_restore": 6, "pid": 9951, "num_metric_batches_dropped": 0, "config": {"train_batch_size": 90000, "env": "MultiWaveAttenuationMergePOEnvBufferedObs-v0no_random_eta3:0", "horizon": 1500, "sample_batch_size": 750, "observation_filter": "MeanStdFilter", "log_level": "INFO", "simple_optimizer": false, "monitor": false, "batch_mode": "truncate_episodes", "lambda": 0.97, "sample_async": false, "input_evaluation": null, "clip_actions": false, "env_config": {"run": "PPO", "flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.3,\n            \"eta3\": 0.1,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 10.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 600,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}"}, "kl_target": 0.01, "num_cpus_per_worker": 1, "preprocessor_pref": "deepmind", "num_cpus_for_driver": 1, "output_max_file_size": 67108864, "lr": 0.0005, "entropy_coeff": 0.0, "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "num_sgd_iter": 10, "clip_param": 0.3, "tf_session_args": {"log_device_placement": false, "inter_op_parallelism_threads": 2, "allow_soft_placement": true, "gpu_options": {"allow_growth": true}, "intra_op_parallelism_threads": 2, "device_count": {"CPU": 1}}, "model": {"max_seq_len": 20, "channel_major": false, "conv_filters": null, "free_log_std": false, "lstm_cell_size": 256, "dim": 84, "zero_mean": true, "framestack": true, "lstm_use_prev_action_reward": false, "squash_to_range": false, "use_lstm": false, "custom_options": {}, "grayscale": false, "custom_preprocessor": null, "conv_activation": "relu", "fcnet_hiddens": [128, 64, 32], "custom_model": null, "fcnet_activation": "tanh"}, "output": null, "optimizer": {}, "num_gpus_per_worker": 0, "num_workers": 60, "use_gae": true, "lr_schedule": null, "multiagent": {"policies_to_train": null, "policy_mapping_fn": null, "policy_graphs": {}}, "vf_loss_coeff": 1.0, "kl_coeff": 0.2, "num_gpus": 0, "compress_observations": false, "num_envs_per_worker": 1, "collect_metrics_timeout": 180, "straggler_mitigation": false, "custom_resources_per_worker": {}, "input": "sampler", "vf_share_layers": false, "sgd_minibatch_size": 128, "output_compress_columns": ["obs", "new_obs"], "vf_clip_param": 1000000.0, "synchronize_filters": true, "callbacks": {"on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7fd2635f29e8>", "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7fd2635f2ba8>", "on_train_result": null, "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7fd2635f27f0>", "on_sample_end": null}, "gamma": 0.99, "clip_rewards": null}, "experiment_id": "9b178520507b4656ac608c6ff2056ff7", "timesteps_this_iter": 148936, "info": {"sample_time_ms": 24529.293, "num_steps_trained": 22239734, "update_time_ms": 90.762, "num_steps_sampled": 22239734, "grad_time_ms": 32305.155, "load_time_ms": 35.863, "default": {"kl": 0.017311617732048035, "vf_loss": 26.924522399902344, "vf_explained_var": 0.7627531290054321, "cur_kl_coeff": 0.29999998211860657, "total_loss": 26.923542022705078, "policy_loss": -0.006171402055770159, "cur_lr": 0.0005000000237487257, "entropy": 2.2784323692321777}}, "date": "2019-05-09_03-34-47", "done": false, "episode_len_mean": 751.0, "episodes_this_iter": 90, "episode_reward_max": 758.134894210465, "custom_metrics": {"cost2_min": -131.427312674929, "system_level_velocity_min": 9.872235238737716, "cost2_max": -58.02536803747012, "cost2_mean": -87.37874069972388, "cost1_mean": 331.33993670609374, "outflow_rate_mean": 893.7176910145727, "cost1_max": 383.9159935994583, "system_level_velocity_mean": 12.139460102540362, "cost1_min": 268.2667450574544, "outflow_rate_max": 1039.9618027160748, "outflow_rate_min": 778.839611228028, "system_level_velocity_max": 14.252847382264832}, "hostname": "flow-main", "episode_reward_mean": 637.3004635134292, "training_iteration": 206, "timesteps_since_restore": 879501, "timesteps_total": 22239734, "time_this_iter_s": 60.327101707458496, "node_ip": "10.138.0.2", "policy_reward_mean": {}}
{"time_total_s": 8083.893357515335, "time_since_restore": 400.97117805480957, "episode_reward_min": 173.99669788026955, "timestamp": 1557372944, "episodes_total": 13989, "iterations_since_restore": 7, "pid": 9951, "num_metric_batches_dropped": 0, "config": {"train_batch_size": 90000, "env": "MultiWaveAttenuationMergePOEnvBufferedObs-v0no_random_eta3:0", "horizon": 1500, "sample_batch_size": 750, "observation_filter": "MeanStdFilter", "log_level": "INFO", "simple_optimizer": false, "monitor": false, "batch_mode": "truncate_episodes", "lambda": 0.97, "sample_async": false, "input_evaluation": null, "clip_actions": false, "env_config": {"run": "PPO", "flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.3,\n            \"eta3\": 0.1,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 10.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 600,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}"}, "kl_target": 0.01, "num_cpus_per_worker": 1, "preprocessor_pref": "deepmind", "num_cpus_for_driver": 1, "output_max_file_size": 67108864, "lr": 0.0005, "entropy_coeff": 0.0, "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "num_sgd_iter": 10, "clip_param": 0.3, "tf_session_args": {"log_device_placement": false, "inter_op_parallelism_threads": 2, "allow_soft_placement": true, "gpu_options": {"allow_growth": true}, "intra_op_parallelism_threads": 2, "device_count": {"CPU": 1}}, "model": {"max_seq_len": 20, "channel_major": false, "conv_filters": null, "free_log_std": false, "lstm_cell_size": 256, "dim": 84, "zero_mean": true, "framestack": true, "lstm_use_prev_action_reward": false, "squash_to_range": false, "use_lstm": false, "custom_options": {}, "grayscale": false, "custom_preprocessor": null, "conv_activation": "relu", "fcnet_hiddens": [128, 64, 32], "custom_model": null, "fcnet_activation": "tanh"}, "output": null, "optimizer": {}, "num_gpus_per_worker": 0, "num_workers": 60, "use_gae": true, "lr_schedule": null, "multiagent": {"policies_to_train": null, "policy_mapping_fn": null, "policy_graphs": {}}, "vf_loss_coeff": 1.0, "kl_coeff": 0.2, "num_gpus": 0, "compress_observations": false, "num_envs_per_worker": 1, "collect_metrics_timeout": 180, "straggler_mitigation": false, "custom_resources_per_worker": {}, "input": "sampler", "vf_share_layers": false, "sgd_minibatch_size": 128, "output_compress_columns": ["obs", "new_obs"], "vf_clip_param": 1000000.0, "synchronize_filters": true, "callbacks": {"on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7fd26360c588>", "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7fd26360c3c8>", "on_train_result": null, "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7fd26360c358>", "on_sample_end": null}, "gamma": 0.99, "clip_rewards": null}, "experiment_id": "9b178520507b4656ac608c6ff2056ff7", "timesteps_this_iter": 148166, "info": {"sample_time_ms": 24617.046, "num_steps_trained": 22387900, "update_time_ms": 79.359, "num_steps_sampled": 22387900, "grad_time_ms": 32271.693, "load_time_ms": 35.387, "default": {"kl": 0.017707185819745064, "vf_loss": 29.89527702331543, "vf_explained_var": 0.7496341466903687, "cur_kl_coeff": 0.29999998211860657, "total_loss": 29.89362907409668, "policy_loss": -0.006955910008400679, "cur_lr": 0.0005000000237487257, "entropy": 2.2758522033691406}}, "date": "2019-05-09_03-35-44", "done": false, "episode_len_mean": 733.46, "episodes_this_iter": 94, "episode_reward_max": 747.2975706837859, "custom_metrics": {"cost2_min": -115.94477499440266, "system_level_velocity_min": 9.660751130328403, "cost2_max": -40.874725584877936, "cost2_mean": -85.94439667086478, "cost1_mean": 332.31567128224765, "outflow_rate_mean": 894.7341007779969, "cost1_max": 391.3695030516177, "system_level_velocity_mean": 12.494817239554429, "cost1_min": 101.07416734259716, "outflow_rate_max": 1023.0173279872837, "outflow_rate_min": 412.472199933395, "system_level_velocity_max": 14.514949279382057}, "hostname": "flow-main", "episode_reward_mean": 636.6546898870517, "training_iteration": 207, "timesteps_since_restore": 1027667, "timesteps_total": 22387900, "time_this_iter_s": 57.514832735061646, "node_ip": "10.138.0.2", "policy_reward_mean": {}}
{"time_total_s": 8142.224837779999, "time_since_restore": 459.30265831947327, "episode_reward_min": 62.0109492821124, "timestamp": 1557373003, "episodes_total": 14085, "iterations_since_restore": 8, "pid": 9951, "num_metric_batches_dropped": 0, "config": {"train_batch_size": 90000, "env": "MultiWaveAttenuationMergePOEnvBufferedObs-v0no_random_eta3:0", "horizon": 1500, "sample_batch_size": 750, "observation_filter": "MeanStdFilter", "log_level": "INFO", "simple_optimizer": false, "monitor": false, "batch_mode": "truncate_episodes", "lambda": 0.97, "sample_async": false, "input_evaluation": null, "clip_actions": false, "env_config": {"run": "PPO", "flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.3,\n            \"eta3\": 0.1,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 10.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 600,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}"}, "kl_target": 0.01, "num_cpus_per_worker": 1, "preprocessor_pref": "deepmind", "num_cpus_for_driver": 1, "output_max_file_size": 67108864, "lr": 0.0005, "entropy_coeff": 0.0, "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "num_sgd_iter": 10, "clip_param": 0.3, "tf_session_args": {"log_device_placement": false, "inter_op_parallelism_threads": 2, "allow_soft_placement": true, "gpu_options": {"allow_growth": true}, "intra_op_parallelism_threads": 2, "device_count": {"CPU": 1}}, "model": {"max_seq_len": 20, "channel_major": false, "conv_filters": null, "free_log_std": false, "lstm_cell_size": 256, "dim": 84, "zero_mean": true, "framestack": true, "lstm_use_prev_action_reward": false, "squash_to_range": false, "use_lstm": false, "custom_options": {}, "grayscale": false, "custom_preprocessor": null, "conv_activation": "relu", "fcnet_hiddens": [128, 64, 32], "custom_model": null, "fcnet_activation": "tanh"}, "output": null, "optimizer": {}, "num_gpus_per_worker": 0, "num_workers": 60, "use_gae": true, "lr_schedule": null, "multiagent": {"policies_to_train": null, "policy_mapping_fn": null, "policy_graphs": {}}, "vf_loss_coeff": 1.0, "kl_coeff": 0.2, "num_gpus": 0, "compress_observations": false, "num_envs_per_worker": 1, "collect_metrics_timeout": 180, "straggler_mitigation": false, "custom_resources_per_worker": {}, "input": "sampler", "vf_share_layers": false, "sgd_minibatch_size": 128, "output_compress_columns": ["obs", "new_obs"], "vf_clip_param": 1000000.0, "synchronize_filters": true, "callbacks": {"on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7fd2635f2780>", "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7fd2635f28d0>", "on_train_result": null, "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7fd2635f2c50>", "on_sample_end": null}, "gamma": 0.99, "clip_rewards": null}, "experiment_id": "9b178520507b4656ac608c6ff2056ff7", "timesteps_this_iter": 148418, "info": {"sample_time_ms": 24716.647, "num_steps_trained": 22536318, "update_time_ms": 70.576, "num_steps_sampled": 22536318, "grad_time_ms": 32312.195, "load_time_ms": 35.67, "default": {"kl": 0.01752917841076851, "vf_loss": 32.64393615722656, "vf_explained_var": 0.7346503138542175, "cur_kl_coeff": 0.2999999523162842, "total_loss": 32.64237594604492, "policy_loss": -0.006813176907598972, "cur_lr": 0.0005000000237487257, "entropy": 2.245556354522705}}, "date": "2019-05-09_03-36-43", "done": false, "episode_len_mean": 737.31, "episodes_this_iter": 96, "episode_reward_max": 767.6681771381244, "custom_metrics": {"cost2_min": -117.8963389454523, "system_level_velocity_min": 9.882527437970941, "cost2_max": -42.1493397726214, "cost2_mean": -87.81329078592822, "cost1_mean": 332.49503779699313, "outflow_rate_mean": 897.6975995929282, "cost1_max": 390.42626090089993, "system_level_velocity_mean": 12.424262606601792, "cost1_min": 47.011595447222554, "outflow_rate_max": 1029.8020044500483, "outflow_rate_min": 253.32967474409116, "system_level_velocity_max": 14.475635553683171}, "hostname": "flow-main", "episode_reward_mean": 641.0497701216295, "training_iteration": 208, "timesteps_since_restore": 1176085, "timesteps_total": 22536318, "time_this_iter_s": 58.331480264663696, "node_ip": "10.138.0.2", "policy_reward_mean": {}}
{"time_total_s": 8202.020483255386, "time_since_restore": 519.0983037948608, "episode_reward_min": 157.88456136396093, "timestamp": 1557373063, "episodes_total": 14184, "iterations_since_restore": 9, "pid": 9951, "num_metric_batches_dropped": 0, "config": {"train_batch_size": 90000, "env": "MultiWaveAttenuationMergePOEnvBufferedObs-v0no_random_eta3:0", "horizon": 1500, "sample_batch_size": 750, "observation_filter": "MeanStdFilter", "log_level": "INFO", "simple_optimizer": false, "monitor": false, "batch_mode": "truncate_episodes", "lambda": 0.97, "sample_async": false, "input_evaluation": null, "clip_actions": false, "env_config": {"run": "PPO", "flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.3,\n            \"eta3\": 0.1,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 10.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 600,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}"}, "kl_target": 0.01, "num_cpus_per_worker": 1, "preprocessor_pref": "deepmind", "num_cpus_for_driver": 1, "output_max_file_size": 67108864, "lr": 0.0005, "entropy_coeff": 0.0, "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "num_sgd_iter": 10, "clip_param": 0.3, "tf_session_args": {"log_device_placement": false, "inter_op_parallelism_threads": 2, "allow_soft_placement": true, "gpu_options": {"allow_growth": true}, "intra_op_parallelism_threads": 2, "device_count": {"CPU": 1}}, "model": {"max_seq_len": 20, "channel_major": false, "conv_filters": null, "free_log_std": false, "lstm_cell_size": 256, "dim": 84, "zero_mean": true, "framestack": true, "lstm_use_prev_action_reward": false, "squash_to_range": false, "use_lstm": false, "custom_options": {}, "grayscale": false, "custom_preprocessor": null, "conv_activation": "relu", "fcnet_hiddens": [128, 64, 32], "custom_model": null, "fcnet_activation": "tanh"}, "output": null, "optimizer": {}, "num_gpus_per_worker": 0, "num_workers": 60, "use_gae": true, "lr_schedule": null, "multiagent": {"policies_to_train": null, "policy_mapping_fn": null, "policy_graphs": {}}, "vf_loss_coeff": 1.0, "kl_coeff": 0.2, "num_gpus": 0, "compress_observations": false, "num_envs_per_worker": 1, "collect_metrics_timeout": 180, "straggler_mitigation": false, "custom_resources_per_worker": {}, "input": "sampler", "vf_share_layers": false, "sgd_minibatch_size": 128, "output_compress_columns": ["obs", "new_obs"], "vf_clip_param": 1000000.0, "synchronize_filters": true, "callbacks": {"on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7fd26360c8d0>", "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7fd26360c630>", "on_train_result": null, "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7fd26360c5f8>", "on_sample_end": null}, "gamma": 0.99, "clip_rewards": null}, "experiment_id": "9b178520507b4656ac608c6ff2056ff7", "timesteps_this_iter": 147867, "info": {"sample_time_ms": 24805.258, "num_steps_trained": 22684185, "update_time_ms": 63.996, "num_steps_sampled": 22684185, "grad_time_ms": 32495.834, "load_time_ms": 35.261, "default": {"kl": 0.01709018647670746, "vf_loss": 36.50137710571289, "vf_explained_var": 0.718207836151123, "cur_kl_coeff": 0.29999998211860657, "total_loss": 36.49966812133789, "policy_loss": -0.006836895365267992, "cur_lr": 0.0005000000237487257, "entropy": 2.2488808631896973}}, "date": "2019-05-09_03-37-43", "done": false, "episode_len_mean": 712.11, "episodes_this_iter": 99, "episode_reward_max": 783.6916749780424, "custom_metrics": {"cost2_min": -128.54121995013983, "system_level_velocity_min": 10.247715829709056, "cost2_max": -42.873315476268004, "cost2_mean": -88.3077462882496, "cost1_mean": 328.1424614843617, "outflow_rate_mean": 889.7621563981759, "cost1_max": 393.12995212861983, "system_level_velocity_mean": 12.695138025960102, "cost1_min": 93.137367024488, "outflow_rate_max": 1048.6315916892286, "outflow_rate_min": 398.25782638006905, "system_level_velocity_max": 14.50997116722734}, "hostname": "flow-main", "episode_reward_mean": 629.7780364008123, "training_iteration": 209, "timesteps_since_restore": 1323952, "timesteps_total": 22684185, "time_this_iter_s": 59.79564547538757, "node_ip": "10.138.0.2", "policy_reward_mean": {}}
{"time_total_s": 8261.750770807266, "time_since_restore": 578.8285913467407, "episode_reward_min": 62.93027721983902, "timestamp": 1557373122, "episodes_total": 14276, "iterations_since_restore": 10, "pid": 9951, "num_metric_batches_dropped": 0, "config": {"train_batch_size": 90000, "env": "MultiWaveAttenuationMergePOEnvBufferedObs-v0no_random_eta3:0", "horizon": 1500, "sample_batch_size": 750, "observation_filter": "MeanStdFilter", "log_level": "INFO", "simple_optimizer": false, "monitor": false, "batch_mode": "truncate_episodes", "lambda": 0.97, "sample_async": false, "input_evaluation": null, "clip_actions": false, "env_config": {"run": "PPO", "flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.3,\n            \"eta3\": 0.1,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 10.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 600,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}"}, "kl_target": 0.01, "num_cpus_per_worker": 1, "preprocessor_pref": "deepmind", "num_cpus_for_driver": 1, "output_max_file_size": 67108864, "lr": 0.0005, "entropy_coeff": 0.0, "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "num_sgd_iter": 10, "clip_param": 0.3, "tf_session_args": {"log_device_placement": false, "inter_op_parallelism_threads": 2, "allow_soft_placement": true, "gpu_options": {"allow_growth": true}, "intra_op_parallelism_threads": 2, "device_count": {"CPU": 1}}, "model": {"max_seq_len": 20, "channel_major": false, "conv_filters": null, "free_log_std": false, "lstm_cell_size": 256, "dim": 84, "zero_mean": true, "framestack": true, "lstm_use_prev_action_reward": false, "squash_to_range": false, "use_lstm": false, "custom_options": {}, "grayscale": false, "custom_preprocessor": null, "conv_activation": "relu", "fcnet_hiddens": [128, 64, 32], "custom_model": null, "fcnet_activation": "tanh"}, "output": null, "optimizer": {}, "num_gpus_per_worker": 0, "num_workers": 60, "use_gae": true, "lr_schedule": null, "multiagent": {"policies_to_train": null, "policy_mapping_fn": null, "policy_graphs": {}}, "vf_loss_coeff": 1.0, "kl_coeff": 0.2, "num_gpus": 0, "compress_observations": false, "num_envs_per_worker": 1, "collect_metrics_timeout": 180, "straggler_mitigation": false, "custom_resources_per_worker": {}, "input": "sampler", "vf_share_layers": false, "sgd_minibatch_size": 128, "output_compress_columns": ["obs", "new_obs"], "vf_clip_param": 1000000.0, "synchronize_filters": true, "callbacks": {"on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7fd2635f2a20>", "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7fd2d67e3b70>", "on_train_result": null, "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7fd2635f2588>", "on_sample_end": null}, "gamma": 0.99, "clip_rewards": null}, "experiment_id": "9b178520507b4656ac608c6ff2056ff7", "timesteps_this_iter": 151718, "info": {"sample_time_ms": 24900.595, "num_steps_trained": 22835903, "update_time_ms": 58.737, "num_steps_sampled": 22835903, "grad_time_ms": 32607.413, "load_time_ms": 35.409, "default": {"kl": 0.021273115649819374, "vf_loss": 34.132049560546875, "vf_explained_var": 0.7635167241096497, "cur_kl_coeff": 0.30000001192092896, "total_loss": 34.13300323486328, "policy_loss": -0.005423663649708033, "cur_lr": 0.0005000000237487257, "entropy": 2.2957570552825928}}, "date": "2019-05-09_03-38-42", "done": false, "episode_len_mean": 730.23, "episodes_this_iter": 92, "episode_reward_max": 749.3013184238647, "custom_metrics": {"cost2_min": -115.65699491229933, "system_level_velocity_min": 10.066836012246549, "cost2_max": -45.92771026823125, "cost2_mean": -91.16796674934604, "cost1_mean": 332.28474952820295, "outflow_rate_mean": 901.531663183829, "cost1_max": 389.6252411166346, "system_level_velocity_mean": 12.494435452398744, "cost1_min": 47.77969048658121, "outflow_rate_max": 1036.9969776443024, "outflow_rate_min": 252.2580622048447, "system_level_velocity_max": 14.451503088060646}, "hostname": "flow-main", "episode_reward_mean": 640.0661869627038, "training_iteration": 210, "timesteps_since_restore": 1475670, "timesteps_total": 22835903, "time_this_iter_s": 59.73028755187988, "node_ip": "10.138.0.2", "policy_reward_mean": {}}
{"time_total_s": 8323.083959817886, "time_since_restore": 640.1617803573608, "episode_reward_min": 176.2702884491537, "timestamp": 1557373184, "episodes_total": 14371, "iterations_since_restore": 11, "pid": 9951, "num_metric_batches_dropped": 0, "config": {"train_batch_size": 90000, "env": "MultiWaveAttenuationMergePOEnvBufferedObs-v0no_random_eta3:0", "horizon": 1500, "sample_batch_size": 750, "observation_filter": "MeanStdFilter", "log_level": "INFO", "simple_optimizer": false, "monitor": false, "batch_mode": "truncate_episodes", "lambda": 0.97, "sample_async": false, "input_evaluation": null, "clip_actions": false, "env_config": {"run": "PPO", "flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.3,\n            \"eta3\": 0.1,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 10.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 600,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}"}, "kl_target": 0.01, "num_cpus_per_worker": 1, "preprocessor_pref": "deepmind", "num_cpus_for_driver": 1, "output_max_file_size": 67108864, "lr": 0.0005, "entropy_coeff": 0.0, "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "num_sgd_iter": 10, "clip_param": 0.3, "tf_session_args": {"log_device_placement": false, "inter_op_parallelism_threads": 2, "allow_soft_placement": true, "gpu_options": {"allow_growth": true}, "intra_op_parallelism_threads": 2, "device_count": {"CPU": 1}}, "model": {"max_seq_len": 20, "channel_major": false, "conv_filters": null, "free_log_std": false, "lstm_cell_size": 256, "dim": 84, "zero_mean": true, "framestack": true, "lstm_use_prev_action_reward": false, "squash_to_range": false, "use_lstm": false, "custom_options": {}, "grayscale": false, "custom_preprocessor": null, "conv_activation": "relu", "fcnet_hiddens": [128, 64, 32], "custom_model": null, "fcnet_activation": "tanh"}, "output": null, "optimizer": {}, "num_gpus_per_worker": 0, "num_workers": 60, "use_gae": true, "lr_schedule": null, "multiagent": {"policies_to_train": null, "policy_mapping_fn": null, "policy_graphs": {}}, "vf_loss_coeff": 1.0, "kl_coeff": 0.2, "num_gpus": 0, "compress_observations": false, "num_envs_per_worker": 1, "collect_metrics_timeout": 180, "straggler_mitigation": false, "custom_resources_per_worker": {}, "input": "sampler", "vf_share_layers": false, "sgd_minibatch_size": 128, "output_compress_columns": ["obs", "new_obs"], "vf_clip_param": 1000000.0, "synchronize_filters": true, "callbacks": {"on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7fd26360c2e8>", "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7fd26360ccc0>", "on_train_result": null, "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7fd26360c390>", "on_sample_end": null}, "gamma": 0.99, "clip_rewards": null}, "experiment_id": "9b178520507b4656ac608c6ff2056ff7", "timesteps_this_iter": 149445, "info": {"sample_time_ms": 25039.97, "num_steps_trained": 22985348, "update_time_ms": 11.086, "num_steps_sampled": 22985348, "grad_time_ms": 32868.629, "load_time_ms": 31.731, "default": {"kl": 0.012887758202850819, "vf_loss": 35.78407669067383, "vf_explained_var": 0.7606030702590942, "cur_kl_coeff": 0.45000001788139343, "total_loss": 35.78328323364258, "policy_loss": -0.00659724697470665, "cur_lr": 0.0005000000237487257, "entropy": 2.2947373390197754}}, "date": "2019-05-09_03-39-44", "done": false, "episode_len_mean": 732.81, "episodes_this_iter": 95, "episode_reward_max": 741.0284382901116, "custom_metrics": {"cost2_min": -132.2005939518438, "system_level_velocity_min": 9.791642444898496, "cost2_max": -52.96056034371138, "cost2_mean": -91.59064698176111, "cost1_mean": 332.873368960463, "outflow_rate_mean": 905.3746857445764, "cost1_max": 390.39450176770356, "system_level_velocity_mean": 12.51363332156891, "cost1_min": 100.66259925626389, "outflow_rate_max": 1030.4751454838085, "outflow_rate_min": 418.7450348515528, "system_level_velocity_max": 14.585771421864484}, "hostname": "flow-main", "episode_reward_mean": 639.4887478712042, "training_iteration": 211, "timesteps_since_restore": 1625115, "timesteps_total": 22985348, "time_this_iter_s": 61.33318901062012, "node_ip": "10.138.0.2", "policy_reward_mean": {}}
{"time_total_s": 8382.213675022125, "time_since_restore": 699.2914955615997, "episode_reward_min": 191.54853153197942, "timestamp": 1557373243, "episodes_total": 14464, "iterations_since_restore": 12, "pid": 9951, "num_metric_batches_dropped": 0, "config": {"train_batch_size": 90000, "env": "MultiWaveAttenuationMergePOEnvBufferedObs-v0no_random_eta3:0", "horizon": 1500, "sample_batch_size": 750, "observation_filter": "MeanStdFilter", "log_level": "INFO", "simple_optimizer": false, "monitor": false, "batch_mode": "truncate_episodes", "lambda": 0.97, "sample_async": false, "input_evaluation": null, "clip_actions": false, "env_config": {"run": "PPO", "flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.3,\n            \"eta3\": 0.1,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 10.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 600,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}"}, "kl_target": 0.01, "num_cpus_per_worker": 1, "preprocessor_pref": "deepmind", "num_cpus_for_driver": 1, "output_max_file_size": 67108864, "lr": 0.0005, "entropy_coeff": 0.0, "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "num_sgd_iter": 10, "clip_param": 0.3, "tf_session_args": {"log_device_placement": false, "inter_op_parallelism_threads": 2, "allow_soft_placement": true, "gpu_options": {"allow_growth": true}, "intra_op_parallelism_threads": 2, "device_count": {"CPU": 1}}, "model": {"max_seq_len": 20, "channel_major": false, "conv_filters": null, "free_log_std": false, "lstm_cell_size": 256, "dim": 84, "zero_mean": true, "framestack": true, "lstm_use_prev_action_reward": false, "squash_to_range": false, "use_lstm": false, "custom_options": {}, "grayscale": false, "custom_preprocessor": null, "conv_activation": "relu", "fcnet_hiddens": [128, 64, 32], "custom_model": null, "fcnet_activation": "tanh"}, "output": null, "optimizer": {}, "num_gpus_per_worker": 0, "num_workers": 60, "use_gae": true, "lr_schedule": null, "multiagent": {"policies_to_train": null, "policy_mapping_fn": null, "policy_graphs": {}}, "vf_loss_coeff": 1.0, "kl_coeff": 0.2, "num_gpus": 0, "compress_observations": false, "num_envs_per_worker": 1, "collect_metrics_timeout": 180, "straggler_mitigation": false, "custom_resources_per_worker": {}, "input": "sampler", "vf_share_layers": false, "sgd_minibatch_size": 128, "output_compress_columns": ["obs", "new_obs"], "vf_clip_param": 1000000.0, "synchronize_filters": true, "callbacks": {"on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7fd2635f29b0>", "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7fd2635f2b00>", "on_train_result": null, "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7fd2635f2550>", "on_sample_end": null}, "gamma": 0.99, "clip_rewards": null}, "experiment_id": "9b178520507b4656ac608c6ff2056ff7", "timesteps_this_iter": 148104, "info": {"sample_time_ms": 25250.193, "num_steps_trained": 23133452, "update_time_ms": 11.301, "num_steps_sampled": 23133452, "grad_time_ms": 33107.104, "load_time_ms": 31.177, "default": {"kl": 0.013608820736408234, "vf_loss": 34.881927490234375, "vf_explained_var": 0.7594221234321594, "cur_kl_coeff": 0.45000001788139343, "total_loss": 34.881446838378906, "policy_loss": -0.0066014910116791725, "cur_lr": 0.0005000000237487257, "entropy": 2.2673468589782715}}, "date": "2019-05-09_03-40-43", "done": false, "episode_len_mean": 741.4, "episodes_this_iter": 93, "episode_reward_max": 770.4049437394015, "custom_metrics": {"cost2_min": -122.00252187311597, "system_level_velocity_min": 9.399161438006859, "cost2_max": -42.48078722994035, "cost2_mean": -90.19180750878806, "cost1_mean": 341.871306105027, "outflow_rate_mean": 916.5638594759547, "cost1_max": 394.08139659837525, "system_level_velocity_mean": 12.713394617135455, "cost1_min": 106.55384699797602, "outflow_rate_max": 1031.712606177607, "outflow_rate_min": 410.78497023276293, "system_level_velocity_max": 14.502788195441472}, "hostname": "flow-main", "episode_reward_mean": 657.3897548742281, "training_iteration": 212, "timesteps_since_restore": 1773219, "timesteps_total": 23133452, "time_this_iter_s": 59.12971520423889, "node_ip": "10.138.0.2", "policy_reward_mean": {}}
{"time_total_s": 8441.379826068878, "time_since_restore": 758.4576466083527, "episode_reward_min": 170.31022825421633, "timestamp": 1557373302, "episodes_total": 14557, "iterations_since_restore": 13, "pid": 9951, "num_metric_batches_dropped": 0, "config": {"train_batch_size": 90000, "env": "MultiWaveAttenuationMergePOEnvBufferedObs-v0no_random_eta3:0", "horizon": 1500, "sample_batch_size": 750, "observation_filter": "MeanStdFilter", "log_level": "INFO", "simple_optimizer": false, "monitor": false, "batch_mode": "truncate_episodes", "lambda": 0.97, "sample_async": false, "input_evaluation": null, "clip_actions": false, "env_config": {"run": "PPO", "flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.3,\n            \"eta3\": 0.1,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 10.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 600,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}"}, "kl_target": 0.01, "num_cpus_per_worker": 1, "preprocessor_pref": "deepmind", "num_cpus_for_driver": 1, "output_max_file_size": 67108864, "lr": 0.0005, "entropy_coeff": 0.0, "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "num_sgd_iter": 10, "clip_param": 0.3, "tf_session_args": {"log_device_placement": false, "inter_op_parallelism_threads": 2, "allow_soft_placement": true, "gpu_options": {"allow_growth": true}, "intra_op_parallelism_threads": 2, "device_count": {"CPU": 1}}, "model": {"max_seq_len": 20, "channel_major": false, "conv_filters": null, "free_log_std": false, "lstm_cell_size": 256, "dim": 84, "zero_mean": true, "framestack": true, "lstm_use_prev_action_reward": false, "squash_to_range": false, "use_lstm": false, "custom_options": {}, "grayscale": false, "custom_preprocessor": null, "conv_activation": "relu", "fcnet_hiddens": [128, 64, 32], "custom_model": null, "fcnet_activation": "tanh"}, "output": null, "optimizer": {}, "num_gpus_per_worker": 0, "num_workers": 60, "use_gae": true, "lr_schedule": null, "multiagent": {"policies_to_train": null, "policy_mapping_fn": null, "policy_graphs": {}}, "vf_loss_coeff": 1.0, "kl_coeff": 0.2, "num_gpus": 0, "compress_observations": false, "num_envs_per_worker": 1, "collect_metrics_timeout": 180, "straggler_mitigation": false, "custom_resources_per_worker": {}, "input": "sampler", "vf_share_layers": false, "sgd_minibatch_size": 128, "output_compress_columns": ["obs", "new_obs"], "vf_clip_param": 1000000.0, "synchronize_filters": true, "callbacks": {"on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7fd26360c240>", "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7fd26360cf98>", "on_train_result": null, "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7fd26360cda0>", "on_sample_end": null}, "gamma": 0.99, "clip_rewards": null}, "experiment_id": "9b178520507b4656ac608c6ff2056ff7", "timesteps_this_iter": 151301, "info": {"sample_time_ms": 25412.463, "num_steps_trained": 23284753, "update_time_ms": 11.273, "num_steps_sampled": 23284753, "grad_time_ms": 33279.846, "load_time_ms": 30.984, "default": {"kl": 0.013111703097820282, "vf_loss": 34.15576934814453, "vf_explained_var": 0.788246214389801, "cur_kl_coeff": 0.45000001788139343, "total_loss": 34.1549072265625, "policy_loss": -0.006759942974895239, "cur_lr": 0.0005000000237487257, "entropy": 2.317976951599121}}, "date": "2019-05-09_03-41-42", "done": false, "episode_len_mean": 737.36, "episodes_this_iter": 93, "episode_reward_max": 770.4049437394015, "custom_metrics": {"cost2_min": -122.27682682546748, "system_level_velocity_min": 9.800196084626384, "cost2_max": -49.195411616961934, "cost2_mean": -89.4699373174558, "cost1_mean": 337.6033493058062, "outflow_rate_mean": 911.8805618903747, "cost1_max": 387.9222407955661, "system_level_velocity_mean": 12.635087139742655, "cost1_min": 101.32181516373451, "outflow_rate_max": 1024.2575198135926, "outflow_rate_min": 420.9584603669938, "system_level_velocity_max": 14.503570515617843}, "hostname": "flow-main", "episode_reward_mean": 646.6813711086187, "training_iteration": 213, "timesteps_since_restore": 1924520, "timesteps_total": 23284753, "time_this_iter_s": 59.16615104675293, "node_ip": "10.138.0.2", "policy_reward_mean": {}}
{"time_total_s": 8499.854858160019, "time_since_restore": 816.9326786994934, "episode_reward_min": 167.54177115085338, "timestamp": 1557373361, "episodes_total": 14651, "iterations_since_restore": 14, "pid": 9951, "num_metric_batches_dropped": 0, "config": {"train_batch_size": 90000, "env": "MultiWaveAttenuationMergePOEnvBufferedObs-v0no_random_eta3:0", "horizon": 1500, "sample_batch_size": 750, "observation_filter": "MeanStdFilter", "log_level": "INFO", "simple_optimizer": false, "monitor": false, "batch_mode": "truncate_episodes", "lambda": 0.97, "sample_async": false, "input_evaluation": null, "clip_actions": false, "env_config": {"run": "PPO", "flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.3,\n            \"eta3\": 0.1,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 10.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 600,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}"}, "kl_target": 0.01, "num_cpus_per_worker": 1, "preprocessor_pref": "deepmind", "num_cpus_for_driver": 1, "output_max_file_size": 67108864, "lr": 0.0005, "entropy_coeff": 0.0, "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "num_sgd_iter": 10, "clip_param": 0.3, "tf_session_args": {"log_device_placement": false, "inter_op_parallelism_threads": 2, "allow_soft_placement": true, "gpu_options": {"allow_growth": true}, "intra_op_parallelism_threads": 2, "device_count": {"CPU": 1}}, "model": {"max_seq_len": 20, "channel_major": false, "conv_filters": null, "free_log_std": false, "lstm_cell_size": 256, "dim": 84, "zero_mean": true, "framestack": true, "lstm_use_prev_action_reward": false, "squash_to_range": false, "use_lstm": false, "custom_options": {}, "grayscale": false, "custom_preprocessor": null, "conv_activation": "relu", "fcnet_hiddens": [128, 64, 32], "custom_model": null, "fcnet_activation": "tanh"}, "output": null, "optimizer": {}, "num_gpus_per_worker": 0, "num_workers": 60, "use_gae": true, "lr_schedule": null, "multiagent": {"policies_to_train": null, "policy_mapping_fn": null, "policy_graphs": {}}, "vf_loss_coeff": 1.0, "kl_coeff": 0.2, "num_gpus": 0, "compress_observations": false, "num_envs_per_worker": 1, "collect_metrics_timeout": 180, "straggler_mitigation": false, "custom_resources_per_worker": {}, "input": "sampler", "vf_share_layers": false, "sgd_minibatch_size": 128, "output_compress_columns": ["obs", "new_obs"], "vf_clip_param": 1000000.0, "synchronize_filters": true, "callbacks": {"on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7fd2635f2cf8>", "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7fd2635f2550>", "on_train_result": null, "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7fd2635f2b00>", "on_sample_end": null}, "gamma": 0.99, "clip_rewards": null}, "experiment_id": "9b178520507b4656ac608c6ff2056ff7", "timesteps_this_iter": 147957, "info": {"sample_time_ms": 25446.026, "num_steps_trained": 23432710, "update_time_ms": 11.302, "num_steps_sampled": 23432710, "grad_time_ms": 33286.733, "load_time_ms": 31.749, "default": {"kl": 0.013052708469331264, "vf_loss": 34.603424072265625, "vf_explained_var": 0.7733719348907471, "cur_kl_coeff": 0.44999998807907104, "total_loss": 34.603118896484375, "policy_loss": -0.006179443094879389, "cur_lr": 0.0005000000237487257, "entropy": 2.2847416400909424}}, "date": "2019-05-09_03-42-41", "done": false, "episode_len_mean": 722.36, "episodes_this_iter": 94, "episode_reward_max": 763.2295510027485, "custom_metrics": {"cost2_min": -124.08119717407538, "system_level_velocity_min": 9.971209039064494, "cost2_max": -45.12117302125386, "cost2_mean": -89.74760364080832, "cost1_mean": 328.470442766391, "outflow_rate_mean": 894.1704116673751, "cost1_max": 392.7765426635174, "system_level_velocity_mean": 12.540711466882769, "cost1_min": 98.63690643461723, "outflow_rate_max": 1041.5691669084977, "outflow_rate_min": 402.44874875665107, "system_level_velocity_max": 14.449436870136049}, "hostname": "flow-main", "episode_reward_mean": 629.3080172301604, "training_iteration": 214, "timesteps_since_restore": 2072477, "timesteps_total": 23432710, "time_this_iter_s": 58.47503209114075, "node_ip": "10.138.0.2", "policy_reward_mean": {}}
{"time_total_s": 8557.572079896927, "time_since_restore": 874.6499004364014, "episode_reward_min": 141.5590671248421, "timestamp": 1557373418, "episodes_total": 14746, "iterations_since_restore": 15, "pid": 9951, "num_metric_batches_dropped": 0, "config": {"train_batch_size": 90000, "env": "MultiWaveAttenuationMergePOEnvBufferedObs-v0no_random_eta3:0", "horizon": 1500, "sample_batch_size": 750, "observation_filter": "MeanStdFilter", "log_level": "INFO", "simple_optimizer": false, "monitor": false, "batch_mode": "truncate_episodes", "lambda": 0.97, "sample_async": false, "input_evaluation": null, "clip_actions": false, "env_config": {"run": "PPO", "flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.3,\n            \"eta3\": 0.1,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 10.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 600,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}"}, "kl_target": 0.01, "num_cpus_per_worker": 1, "preprocessor_pref": "deepmind", "num_cpus_for_driver": 1, "output_max_file_size": 67108864, "lr": 0.0005, "entropy_coeff": 0.0, "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "num_sgd_iter": 10, "clip_param": 0.3, "tf_session_args": {"log_device_placement": false, "inter_op_parallelism_threads": 2, "allow_soft_placement": true, "gpu_options": {"allow_growth": true}, "intra_op_parallelism_threads": 2, "device_count": {"CPU": 1}}, "model": {"max_seq_len": 20, "channel_major": false, "conv_filters": null, "free_log_std": false, "lstm_cell_size": 256, "dim": 84, "zero_mean": true, "framestack": true, "lstm_use_prev_action_reward": false, "squash_to_range": false, "use_lstm": false, "custom_options": {}, "grayscale": false, "custom_preprocessor": null, "conv_activation": "relu", "fcnet_hiddens": [128, 64, 32], "custom_model": null, "fcnet_activation": "tanh"}, "output": null, "optimizer": {}, "num_gpus_per_worker": 0, "num_workers": 60, "use_gae": true, "lr_schedule": null, "multiagent": {"policies_to_train": null, "policy_mapping_fn": null, "policy_graphs": {}}, "vf_loss_coeff": 1.0, "kl_coeff": 0.2, "num_gpus": 0, "compress_observations": false, "num_envs_per_worker": 1, "collect_metrics_timeout": 180, "straggler_mitigation": false, "custom_resources_per_worker": {}, "input": "sampler", "vf_share_layers": false, "sgd_minibatch_size": 128, "output_compress_columns": ["obs", "new_obs"], "vf_clip_param": 1000000.0, "synchronize_filters": true, "callbacks": {"on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7fd26360c9e8>", "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7fd26360ce10>", "on_train_result": null, "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7fd26360c5f8>", "on_sample_end": null}, "gamma": 0.99, "clip_rewards": null}, "experiment_id": "9b178520507b4656ac608c6ff2056ff7", "timesteps_this_iter": 148724, "info": {"sample_time_ms": 25507.756, "num_steps_trained": 23581434, "update_time_ms": 11.338, "num_steps_sampled": 23581434, "grad_time_ms": 33324.865, "load_time_ms": 31.171, "default": {"kl": 0.01238633319735527, "vf_loss": 37.20169448852539, "vf_explained_var": 0.7646176218986511, "cur_kl_coeff": 0.45000001788139343, "total_loss": 37.19992446899414, "policy_loss": -0.007343275006860495, "cur_lr": 0.0005000000237487257, "entropy": 2.303086042404175}}, "date": "2019-05-09_03-43-38", "done": false, "episode_len_mean": 733.28, "episodes_this_iter": 95, "episode_reward_max": 755.9166605591159, "custom_metrics": {"cost2_min": -121.45146868468805, "system_level_velocity_min": 10.43616361713066, "cost2_max": -27.821495213260818, "cost2_mean": -91.33716828822135, "cost1_mean": 337.5684116044309, "outflow_rate_mean": 913.0983853469348, "cost1_max": 391.2999172260211, "system_level_velocity_mean": 12.684299724370899, "cost1_min": 86.64132696685249, "outflow_rate_max": 1038.0087354239, "outflow_rate_min": 389.88545220940966, "system_level_velocity_max": 14.495680355510364}, "hostname": "flow-main", "episode_reward_mean": 644.876904963487, "training_iteration": 215, "timesteps_since_restore": 2221201, "timesteps_total": 23581434, "time_this_iter_s": 57.71722173690796, "node_ip": "10.138.0.2", "policy_reward_mean": {}}
{"time_total_s": 8616.741117715836, "time_since_restore": 933.8189382553101, "episode_reward_min": 155.34250396028153, "timestamp": 1557373478, "episodes_total": 14839, "iterations_since_restore": 16, "pid": 9951, "num_metric_batches_dropped": 0, "config": {"train_batch_size": 90000, "env": "MultiWaveAttenuationMergePOEnvBufferedObs-v0no_random_eta3:0", "horizon": 1500, "sample_batch_size": 750, "observation_filter": "MeanStdFilter", "log_level": "INFO", "simple_optimizer": false, "monitor": false, "batch_mode": "truncate_episodes", "lambda": 0.97, "sample_async": false, "input_evaluation": null, "clip_actions": false, "env_config": {"run": "PPO", "flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.3,\n            \"eta3\": 0.1,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 10.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 600,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}"}, "kl_target": 0.01, "num_cpus_per_worker": 1, "preprocessor_pref": "deepmind", "num_cpus_for_driver": 1, "output_max_file_size": 67108864, "lr": 0.0005, "entropy_coeff": 0.0, "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "num_sgd_iter": 10, "clip_param": 0.3, "tf_session_args": {"log_device_placement": false, "inter_op_parallelism_threads": 2, "allow_soft_placement": true, "gpu_options": {"allow_growth": true}, "intra_op_parallelism_threads": 2, "device_count": {"CPU": 1}}, "model": {"max_seq_len": 20, "channel_major": false, "conv_filters": null, "free_log_std": false, "lstm_cell_size": 256, "dim": 84, "zero_mean": true, "framestack": true, "lstm_use_prev_action_reward": false, "squash_to_range": false, "use_lstm": false, "custom_options": {}, "grayscale": false, "custom_preprocessor": null, "conv_activation": "relu", "fcnet_hiddens": [128, 64, 32], "custom_model": null, "fcnet_activation": "tanh"}, "output": null, "optimizer": {}, "num_gpus_per_worker": 0, "num_workers": 60, "use_gae": true, "lr_schedule": null, "multiagent": {"policies_to_train": null, "policy_mapping_fn": null, "policy_graphs": {}}, "vf_loss_coeff": 1.0, "kl_coeff": 0.2, "num_gpus": 0, "compress_observations": false, "num_envs_per_worker": 1, "collect_metrics_timeout": 180, "straggler_mitigation": false, "custom_resources_per_worker": {}, "input": "sampler", "vf_share_layers": false, "sgd_minibatch_size": 128, "output_compress_columns": ["obs", "new_obs"], "vf_clip_param": 1000000.0, "synchronize_filters": true, "callbacks": {"on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7fd26360c748>", "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7fd26360ca90>", "on_train_result": null, "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7fd26360cc18>", "on_sample_end": null}, "gamma": 0.99, "clip_rewards": null}, "experiment_id": "9b178520507b4656ac608c6ff2056ff7", "timesteps_this_iter": 150503, "info": {"sample_time_ms": 25549.333, "num_steps_trained": 23731937, "update_time_ms": 11.163, "num_steps_sampled": 23731937, "grad_time_ms": 33170.427, "load_time_ms": 30.485, "default": {"kl": 0.013122071512043476, "vf_loss": 35.862213134765625, "vf_explained_var": 0.7754882574081421, "cur_kl_coeff": 0.44999998807907104, "total_loss": 35.861358642578125, "policy_loss": -0.006760296877473593, "cur_lr": 0.0005000000237487257, "entropy": 2.305011749267578}}, "date": "2019-05-09_03-44-38", "done": false, "episode_len_mean": 736.18, "episodes_this_iter": 93, "episode_reward_max": 749.2014944716182, "custom_metrics": {"cost2_min": -129.9658662028848, "system_level_velocity_min": 8.066801027514027, "cost2_max": -31.692188913555277, "cost2_mean": -91.94193559702984, "cost1_mean": 338.0079433460415, "outflow_rate_mean": 913.871835275985, "cost1_max": 391.190301226075, "system_level_velocity_mean": 12.675807001471009, "cost1_min": 91.14107592695527, "outflow_rate_max": 1033.6262952713323, "outflow_rate_min": 394.5816963825663, "system_level_velocity_max": 14.32983647648043}, "hostname": "flow-main", "episode_reward_mean": 649.8655425453456, "training_iteration": 216, "timesteps_since_restore": 2371704, "timesteps_total": 23731937, "time_this_iter_s": 59.16903781890869, "node_ip": "10.138.0.2", "policy_reward_mean": {}}
{"time_total_s": 8676.173849344254, "time_since_restore": 993.251669883728, "episode_reward_min": 173.85816877410792, "timestamp": 1557373537, "episodes_total": 14931, "iterations_since_restore": 17, "pid": 9951, "num_metric_batches_dropped": 0, "config": {"train_batch_size": 90000, "env": "MultiWaveAttenuationMergePOEnvBufferedObs-v0no_random_eta3:0", "horizon": 1500, "sample_batch_size": 750, "observation_filter": "MeanStdFilter", "log_level": "INFO", "simple_optimizer": false, "monitor": false, "batch_mode": "truncate_episodes", "lambda": 0.97, "sample_async": false, "input_evaluation": null, "clip_actions": false, "env_config": {"run": "PPO", "flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.3,\n            \"eta3\": 0.1,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 10.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 600,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}"}, "kl_target": 0.01, "num_cpus_per_worker": 1, "preprocessor_pref": "deepmind", "num_cpus_for_driver": 1, "output_max_file_size": 67108864, "lr": 0.0005, "entropy_coeff": 0.0, "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "num_sgd_iter": 10, "clip_param": 0.3, "tf_session_args": {"log_device_placement": false, "inter_op_parallelism_threads": 2, "allow_soft_placement": true, "gpu_options": {"allow_growth": true}, "intra_op_parallelism_threads": 2, "device_count": {"CPU": 1}}, "model": {"max_seq_len": 20, "channel_major": false, "conv_filters": null, "free_log_std": false, "lstm_cell_size": 256, "dim": 84, "zero_mean": true, "framestack": true, "lstm_use_prev_action_reward": false, "squash_to_range": false, "use_lstm": false, "custom_options": {}, "grayscale": false, "custom_preprocessor": null, "conv_activation": "relu", "fcnet_hiddens": [128, 64, 32], "custom_model": null, "fcnet_activation": "tanh"}, "output": null, "optimizer": {}, "num_gpus_per_worker": 0, "num_workers": 60, "use_gae": true, "lr_schedule": null, "multiagent": {"policies_to_train": null, "policy_mapping_fn": null, "policy_graphs": {}}, "vf_loss_coeff": 1.0, "kl_coeff": 0.2, "num_gpus": 0, "compress_observations": false, "num_envs_per_worker": 1, "collect_metrics_timeout": 180, "straggler_mitigation": false, "custom_resources_per_worker": {}, "input": "sampler", "vf_share_layers": false, "sgd_minibatch_size": 128, "output_compress_columns": ["obs", "new_obs"], "vf_clip_param": 1000000.0, "synchronize_filters": true, "callbacks": {"on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7fd26360c3c8>", "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7fd26360cf60>", "on_train_result": null, "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7fd26360c588>", "on_sample_end": null}, "gamma": 0.99, "clip_rewards": null}, "experiment_id": "9b178520507b4656ac608c6ff2056ff7", "timesteps_this_iter": 152913, "info": {"sample_time_ms": 25650.389, "num_steps_trained": 23884850, "update_time_ms": 11.256, "num_steps_sampled": 23884850, "grad_time_ms": 33261.74, "load_time_ms": 29.801, "default": {"kl": 0.012855954468250275, "vf_loss": 35.00354766845703, "vf_explained_var": 0.7849664688110352, "cur_kl_coeff": 0.4500000476837158, "total_loss": 35.002323150634766, "policy_loss": -0.007010459899902344, "cur_lr": 0.0005000000237487257, "entropy": 2.336728811264038}}, "date": "2019-05-09_03-45-37", "done": false, "episode_len_mean": 739.66, "episodes_this_iter": 92, "episode_reward_max": 792.490549835861, "custom_metrics": {"cost2_min": -155.7617839719566, "system_level_velocity_min": 9.269910743582532, "cost2_max": -55.82245707089051, "cost2_mean": -99.7623382346436, "cost1_mean": 336.3958485200283, "outflow_rate_mean": 918.6681688056315, "cost1_max": 400.06333034942065, "system_level_velocity_mean": 12.50177009460432, "cost1_min": 98.92901976308214, "outflow_rate_max": 1070.140952634915, "outflow_rate_min": 405.6047979484032, "system_level_velocity_max": 14.617922899596419}, "hostname": "flow-main", "episode_reward_mean": 650.836048459349, "training_iteration": 217, "timesteps_since_restore": 2524617, "timesteps_total": 23884850, "time_this_iter_s": 59.43273162841797, "node_ip": "10.138.0.2", "policy_reward_mean": {}}
{"time_total_s": 8736.136542081833, "time_since_restore": 1053.2143626213074, "episode_reward_min": 170.54746682575228, "timestamp": 1557373597, "episodes_total": 15024, "iterations_since_restore": 18, "pid": 9951, "num_metric_batches_dropped": 0, "config": {"train_batch_size": 90000, "env": "MultiWaveAttenuationMergePOEnvBufferedObs-v0no_random_eta3:0", "horizon": 1500, "sample_batch_size": 750, "observation_filter": "MeanStdFilter", "log_level": "INFO", "simple_optimizer": false, "monitor": false, "batch_mode": "truncate_episodes", "lambda": 0.97, "sample_async": false, "input_evaluation": null, "clip_actions": false, "env_config": {"run": "PPO", "flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.3,\n            \"eta3\": 0.1,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 10.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 600,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}"}, "kl_target": 0.01, "num_cpus_per_worker": 1, "preprocessor_pref": "deepmind", "num_cpus_for_driver": 1, "output_max_file_size": 67108864, "lr": 0.0005, "entropy_coeff": 0.0, "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "num_sgd_iter": 10, "clip_param": 0.3, "tf_session_args": {"log_device_placement": false, "inter_op_parallelism_threads": 2, "allow_soft_placement": true, "gpu_options": {"allow_growth": true}, "intra_op_parallelism_threads": 2, "device_count": {"CPU": 1}}, "model": {"max_seq_len": 20, "channel_major": false, "conv_filters": null, "free_log_std": false, "lstm_cell_size": 256, "dim": 84, "zero_mean": true, "framestack": true, "lstm_use_prev_action_reward": false, "squash_to_range": false, "use_lstm": false, "custom_options": {}, "grayscale": false, "custom_preprocessor": null, "conv_activation": "relu", "fcnet_hiddens": [128, 64, 32], "custom_model": null, "fcnet_activation": "tanh"}, "output": null, "optimizer": {}, "num_gpus_per_worker": 0, "num_workers": 60, "use_gae": true, "lr_schedule": null, "multiagent": {"policies_to_train": null, "policy_mapping_fn": null, "policy_graphs": {}}, "vf_loss_coeff": 1.0, "kl_coeff": 0.2, "num_gpus": 0, "compress_observations": false, "num_envs_per_worker": 1, "collect_metrics_timeout": 180, "straggler_mitigation": false, "custom_resources_per_worker": {}, "input": "sampler", "vf_share_layers": false, "sgd_minibatch_size": 128, "output_compress_columns": ["obs", "new_obs"], "vf_clip_param": 1000000.0, "synchronize_filters": true, "callbacks": {"on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7fd26360c748>", "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7fd26360c940>", "on_train_result": null, "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7fd26360ceb8>", "on_sample_end": null}, "gamma": 0.99, "clip_rewards": null}, "experiment_id": "9b178520507b4656ac608c6ff2056ff7", "timesteps_this_iter": 152371, "info": {"sample_time_ms": 25605.856, "num_steps_trained": 24037221, "update_time_ms": 11.336, "num_steps_sampled": 24037221, "grad_time_ms": 33472.406, "load_time_ms": 28.39, "default": {"kl": 0.012830572202801704, "vf_loss": 35.22725296020508, "vf_explained_var": 0.7836183309555054, "cur_kl_coeff": 0.4500000476837158, "total_loss": 35.226898193359375, "policy_loss": -0.006128921639174223, "cur_lr": 0.0005000000237487257, "entropy": 2.3349530696868896}}, "date": "2019-05-09_03-46-37", "done": false, "episode_len_mean": 719.32, "episodes_this_iter": 93, "episode_reward_max": 775.688187775573, "custom_metrics": {"cost2_min": -137.31367609884506, "system_level_velocity_min": 10.087759660692813, "cost2_max": -48.493282260268316, "cost2_mean": -99.83909577929774, "cost1_mean": 330.79913472102174, "outflow_rate_mean": 910.4010461535623, "cost1_max": 394.60216261099293, "system_level_velocity_mean": 12.630304862085165, "cost1_min": 96.24656841392263, "outflow_rate_max": 1043.6194661283637, "outflow_rate_min": 403.303722450926, "system_level_velocity_max": 14.614273293007585}, "hostname": "flow-main", "episode_reward_mean": 639.484887686533, "training_iteration": 218, "timesteps_since_restore": 2676988, "timesteps_total": 24037221, "time_this_iter_s": 59.962692737579346, "node_ip": "10.138.0.2", "policy_reward_mean": {}}
{"time_total_s": 8796.751576423645, "time_since_restore": 1113.8293969631195, "episode_reward_min": 191.4334490953899, "timestamp": 1557373658, "episodes_total": 15115, "iterations_since_restore": 19, "pid": 9951, "num_metric_batches_dropped": 0, "config": {"train_batch_size": 90000, "env": "MultiWaveAttenuationMergePOEnvBufferedObs-v0no_random_eta3:0", "horizon": 1500, "sample_batch_size": 750, "observation_filter": "MeanStdFilter", "log_level": "INFO", "simple_optimizer": false, "monitor": false, "batch_mode": "truncate_episodes", "lambda": 0.97, "sample_async": false, "input_evaluation": null, "clip_actions": false, "env_config": {"run": "PPO", "flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.3,\n            \"eta3\": 0.1,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 10.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 600,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}"}, "kl_target": 0.01, "num_cpus_per_worker": 1, "preprocessor_pref": "deepmind", "num_cpus_for_driver": 1, "output_max_file_size": 67108864, "lr": 0.0005, "entropy_coeff": 0.0, "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "num_sgd_iter": 10, "clip_param": 0.3, "tf_session_args": {"log_device_placement": false, "inter_op_parallelism_threads": 2, "allow_soft_placement": true, "gpu_options": {"allow_growth": true}, "intra_op_parallelism_threads": 2, "device_count": {"CPU": 1}}, "model": {"max_seq_len": 20, "channel_major": false, "conv_filters": null, "free_log_std": false, "lstm_cell_size": 256, "dim": 84, "zero_mean": true, "framestack": true, "lstm_use_prev_action_reward": false, "squash_to_range": false, "use_lstm": false, "custom_options": {}, "grayscale": false, "custom_preprocessor": null, "conv_activation": "relu", "fcnet_hiddens": [128, 64, 32], "custom_model": null, "fcnet_activation": "tanh"}, "output": null, "optimizer": {}, "num_gpus_per_worker": 0, "num_workers": 60, "use_gae": true, "lr_schedule": null, "multiagent": {"policies_to_train": null, "policy_mapping_fn": null, "policy_graphs": {}}, "vf_loss_coeff": 1.0, "kl_coeff": 0.2, "num_gpus": 0, "compress_observations": false, "num_envs_per_worker": 1, "collect_metrics_timeout": 180, "straggler_mitigation": false, "custom_resources_per_worker": {}, "input": "sampler", "vf_share_layers": false, "sgd_minibatch_size": 128, "output_compress_columns": ["obs", "new_obs"], "vf_clip_param": 1000000.0, "synchronize_filters": true, "callbacks": {"on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7fd26360c518>", "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7fd26360c5c0>", "on_train_result": null, "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7fd26360c2b0>", "on_sample_end": null}, "gamma": 0.99, "clip_rewards": null}, "experiment_id": "9b178520507b4656ac608c6ff2056ff7", "timesteps_this_iter": 152414, "info": {"sample_time_ms": 25590.095, "num_steps_trained": 24189635, "update_time_ms": 11.259, "num_steps_sampled": 24189635, "grad_time_ms": 33570.457, "load_time_ms": 26.138, "default": {"kl": 0.012550690211355686, "vf_loss": 33.83935546875, "vf_explained_var": 0.7791867256164551, "cur_kl_coeff": 0.4500000476837158, "total_loss": 33.8375244140625, "policy_loss": -0.007475856225937605, "cur_lr": 0.0005000000237487257, "entropy": 2.3391215801239014}}, "date": "2019-05-09_03-47-38", "done": false, "episode_len_mean": 736.28, "episodes_this_iter": 91, "episode_reward_max": 759.3464396959547, "custom_metrics": {"cost2_min": -140.466565068444, "system_level_velocity_min": 10.18840962615932, "cost2_max": -61.2021033547487, "cost2_mean": -98.12787685800252, "cost1_mean": 339.8641008711031, "outflow_rate_mean": 925.0241546483397, "cost1_max": 393.0662514486275, "system_level_velocity_mean": 12.695416047987514, "cost1_min": 107.83627119782619, "outflow_rate_max": 1068.017246424084, "outflow_rate_min": 428.11069951664086, "system_level_velocity_max": 14.43550424504891}, "hostname": "flow-main", "episode_reward_mean": 654.7104736622887, "training_iteration": 219, "timesteps_since_restore": 2829402, "timesteps_total": 24189635, "time_this_iter_s": 60.615034341812134, "node_ip": "10.138.0.2", "policy_reward_mean": {}}
{"time_total_s": 8857.646149158478, "time_since_restore": 1174.7239696979523, "episode_reward_min": 61.26347571005655, "timestamp": 1557373719, "episodes_total": 15207, "iterations_since_restore": 20, "pid": 9951, "num_metric_batches_dropped": 0, "config": {"train_batch_size": 90000, "env": "MultiWaveAttenuationMergePOEnvBufferedObs-v0no_random_eta3:0", "horizon": 1500, "sample_batch_size": 750, "observation_filter": "MeanStdFilter", "log_level": "INFO", "simple_optimizer": false, "monitor": false, "batch_mode": "truncate_episodes", "lambda": 0.97, "sample_async": false, "input_evaluation": null, "clip_actions": false, "env_config": {"run": "PPO", "flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.3,\n            \"eta3\": 0.1,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 10.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 600,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}"}, "kl_target": 0.01, "num_cpus_per_worker": 1, "preprocessor_pref": "deepmind", "num_cpus_for_driver": 1, "output_max_file_size": 67108864, "lr": 0.0005, "entropy_coeff": 0.0, "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "num_sgd_iter": 10, "clip_param": 0.3, "tf_session_args": {"log_device_placement": false, "inter_op_parallelism_threads": 2, "allow_soft_placement": true, "gpu_options": {"allow_growth": true}, "intra_op_parallelism_threads": 2, "device_count": {"CPU": 1}}, "model": {"max_seq_len": 20, "channel_major": false, "conv_filters": null, "free_log_std": false, "lstm_cell_size": 256, "dim": 84, "zero_mean": true, "framestack": true, "lstm_use_prev_action_reward": false, "squash_to_range": false, "use_lstm": false, "custom_options": {}, "grayscale": false, "custom_preprocessor": null, "conv_activation": "relu", "fcnet_hiddens": [128, 64, 32], "custom_model": null, "fcnet_activation": "tanh"}, "output": null, "optimizer": {}, "num_gpus_per_worker": 0, "num_workers": 60, "use_gae": true, "lr_schedule": null, "multiagent": {"policies_to_train": null, "policy_mapping_fn": null, "policy_graphs": {}}, "vf_loss_coeff": 1.0, "kl_coeff": 0.2, "num_gpus": 0, "compress_observations": false, "num_envs_per_worker": 1, "collect_metrics_timeout": 180, "straggler_mitigation": false, "custom_resources_per_worker": {}, "input": "sampler", "vf_share_layers": false, "sgd_minibatch_size": 128, "output_compress_columns": ["obs", "new_obs"], "vf_clip_param": 1000000.0, "synchronize_filters": true, "callbacks": {"on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7fd2d67e3b70>", "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7fd26360ca90>", "on_train_result": null, "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7fd26360cb38>", "on_sample_end": null}, "gamma": 0.99, "clip_rewards": null}, "experiment_id": "9b178520507b4656ac608c6ff2056ff7", "timesteps_this_iter": 155595, "info": {"sample_time_ms": 25639.868, "num_steps_trained": 24345230, "update_time_ms": 11.139, "num_steps_sampled": 24345230, "grad_time_ms": 33639.017, "load_time_ms": 27.433, "default": {"kl": 0.012572654522955418, "vf_loss": 35.20863723754883, "vf_explained_var": 0.7915719151496887, "cur_kl_coeff": 0.44999998807907104, "total_loss": 35.207176208496094, "policy_loss": -0.007116245571523905, "cur_lr": 0.0005000000237487257, "entropy": 2.3630471229553223}}, "date": "2019-05-09_03-48-39", "done": false, "episode_len_mean": 731.71, "episodes_this_iter": 92, "episode_reward_max": 789.4498578320837, "custom_metrics": {"cost2_min": -149.95969275005635, "system_level_velocity_min": 9.703411929926887, "cost2_max": -38.219597411681036, "cost2_mean": -102.00488167005986, "cost1_mean": 332.5947363536551, "outflow_rate_mean": 913.5180285484026, "cost1_max": 395.6523118032702, "system_level_velocity_mean": 12.426769268894748, "cost1_min": 46.19198278783274, "outflow_rate_max": 1113.5556693041115, "outflow_rate_min": 254.23111705178346, "system_level_velocity_max": 14.581208741189895}, "hostname": "flow-main", "episode_reward_mean": 648.1886850411197, "training_iteration": 220, "timesteps_since_restore": 2984997, "timesteps_total": 24345230, "time_this_iter_s": 60.894572734832764, "node_ip": "10.138.0.2", "policy_reward_mean": {}}
{"time_total_s": 8918.063283443451, "time_since_restore": 1235.1411039829254, "episode_reward_min": 61.40006282965412, "timestamp": 1557373779, "episodes_total": 15300, "iterations_since_restore": 21, "pid": 9951, "num_metric_batches_dropped": 0, "config": {"train_batch_size": 90000, "env": "MultiWaveAttenuationMergePOEnvBufferedObs-v0no_random_eta3:0", "horizon": 1500, "sample_batch_size": 750, "observation_filter": "MeanStdFilter", "log_level": "INFO", "simple_optimizer": false, "monitor": false, "batch_mode": "truncate_episodes", "lambda": 0.97, "sample_async": false, "input_evaluation": null, "clip_actions": false, "env_config": {"run": "PPO", "flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.3,\n            \"eta3\": 0.1,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 10.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 600,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}"}, "kl_target": 0.01, "num_cpus_per_worker": 1, "preprocessor_pref": "deepmind", "num_cpus_for_driver": 1, "output_max_file_size": 67108864, "lr": 0.0005, "entropy_coeff": 0.0, "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "num_sgd_iter": 10, "clip_param": 0.3, "tf_session_args": {"log_device_placement": false, "inter_op_parallelism_threads": 2, "allow_soft_placement": true, "gpu_options": {"allow_growth": true}, "intra_op_parallelism_threads": 2, "device_count": {"CPU": 1}}, "model": {"max_seq_len": 20, "channel_major": false, "conv_filters": null, "free_log_std": false, "lstm_cell_size": 256, "dim": 84, "zero_mean": true, "framestack": true, "lstm_use_prev_action_reward": false, "squash_to_range": false, "use_lstm": false, "custom_options": {}, "grayscale": false, "custom_preprocessor": null, "conv_activation": "relu", "fcnet_hiddens": [128, 64, 32], "custom_model": null, "fcnet_activation": "tanh"}, "output": null, "optimizer": {}, "num_gpus_per_worker": 0, "num_workers": 60, "use_gae": true, "lr_schedule": null, "multiagent": {"policies_to_train": null, "policy_mapping_fn": null, "policy_graphs": {}}, "vf_loss_coeff": 1.0, "kl_coeff": 0.2, "num_gpus": 0, "compress_observations": false, "num_envs_per_worker": 1, "collect_metrics_timeout": 180, "straggler_mitigation": false, "custom_resources_per_worker": {}, "input": "sampler", "vf_share_layers": false, "sgd_minibatch_size": 128, "output_compress_columns": ["obs", "new_obs"], "vf_clip_param": 1000000.0, "synchronize_filters": true, "callbacks": {"on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7fd26360c400>", "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7fd26360c3c8>", "on_train_result": null, "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7fd2635f2a90>", "on_sample_end": null}, "gamma": 0.99, "clip_rewards": null}, "experiment_id": "9b178520507b4656ac608c6ff2056ff7", "timesteps_this_iter": 156528, "info": {"sample_time_ms": 25617.285, "num_steps_trained": 24501758, "update_time_ms": 11.016, "num_steps_sampled": 24501758, "grad_time_ms": 33571.748, "load_time_ms": 28.419, "default": {"kl": 0.01200926210731268, "vf_loss": 36.265464782714844, "vf_explained_var": 0.7940254211425781, "cur_kl_coeff": 0.45000001788139343, "total_loss": 36.2642936706543, "policy_loss": -0.0065771485678851604, "cur_lr": 0.0005000000237487257, "entropy": 2.381605386734009}}, "date": "2019-05-09_03-49-39", "done": false, "episode_len_mean": 726.52, "episodes_this_iter": 93, "episode_reward_max": 758.7078861306045, "custom_metrics": {"cost2_min": -162.13019743351146, "system_level_velocity_min": 9.745579006313772, "cost2_max": -39.26175215820402, "cost2_mean": -104.51522719653506, "cost1_mean": 330.46671750729286, "outflow_rate_mean": 914.4488621303541, "cost1_max": 391.2877303058556, "system_level_velocity_mean": 12.400028956363029, "cost1_min": 46.33544613003683, "outflow_rate_max": 1069.8618492216708, "outflow_rate_min": 250.71478868762952, "system_level_velocity_max": 14.373991300476908}, "hostname": "flow-main", "episode_reward_mean": 640.9975762325179, "training_iteration": 221, "timesteps_since_restore": 3141525, "timesteps_total": 24501758, "time_this_iter_s": 60.417134284973145, "node_ip": "10.138.0.2", "policy_reward_mean": {}}
{"time_total_s": 8980.450010299683, "time_since_restore": 1297.527830839157, "episode_reward_min": 314.2770241908488, "timestamp": 1557373842, "episodes_total": 15389, "iterations_since_restore": 22, "pid": 9951, "num_metric_batches_dropped": 0, "config": {"train_batch_size": 90000, "env": "MultiWaveAttenuationMergePOEnvBufferedObs-v0no_random_eta3:0", "horizon": 1500, "sample_batch_size": 750, "observation_filter": "MeanStdFilter", "log_level": "INFO", "simple_optimizer": false, "monitor": false, "batch_mode": "truncate_episodes", "lambda": 0.97, "sample_async": false, "input_evaluation": null, "clip_actions": false, "env_config": {"run": "PPO", "flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.3,\n            \"eta3\": 0.1,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 10.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 600,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}"}, "kl_target": 0.01, "num_cpus_per_worker": 1, "preprocessor_pref": "deepmind", "num_cpus_for_driver": 1, "output_max_file_size": 67108864, "lr": 0.0005, "entropy_coeff": 0.0, "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "num_sgd_iter": 10, "clip_param": 0.3, "tf_session_args": {"log_device_placement": false, "inter_op_parallelism_threads": 2, "allow_soft_placement": true, "gpu_options": {"allow_growth": true}, "intra_op_parallelism_threads": 2, "device_count": {"CPU": 1}}, "model": {"max_seq_len": 20, "channel_major": false, "conv_filters": null, "free_log_std": false, "lstm_cell_size": 256, "dim": 84, "zero_mean": true, "framestack": true, "lstm_use_prev_action_reward": false, "squash_to_range": false, "use_lstm": false, "custom_options": {}, "grayscale": false, "custom_preprocessor": null, "conv_activation": "relu", "fcnet_hiddens": [128, 64, 32], "custom_model": null, "fcnet_activation": "tanh"}, "output": null, "optimizer": {}, "num_gpus_per_worker": 0, "num_workers": 60, "use_gae": true, "lr_schedule": null, "multiagent": {"policies_to_train": null, "policy_mapping_fn": null, "policy_graphs": {}}, "vf_loss_coeff": 1.0, "kl_coeff": 0.2, "num_gpus": 0, "compress_observations": false, "num_envs_per_worker": 1, "collect_metrics_timeout": 180, "straggler_mitigation": false, "custom_resources_per_worker": {}, "input": "sampler", "vf_share_layers": false, "sgd_minibatch_size": 128, "output_compress_columns": ["obs", "new_obs"], "vf_clip_param": 1000000.0, "synchronize_filters": true, "callbacks": {"on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7fd26360ceb8>", "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7fd26360c860>", "on_train_result": null, "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7fd26360c2e8>", "on_sample_end": null}, "gamma": 0.99, "clip_rewards": null}, "experiment_id": "9b178520507b4656ac608c6ff2056ff7", "timesteps_this_iter": 158992, "info": {"sample_time_ms": 25724.528, "num_steps_trained": 24660750, "update_time_ms": 10.751, "num_steps_sampled": 24660750, "grad_time_ms": 33782.171, "load_time_ms": 31.986, "default": {"kl": 0.012171960435807705, "vf_loss": 32.94404602050781, "vf_explained_var": 0.8127280473709106, "cur_kl_coeff": 0.45000001788139343, "total_loss": 32.9428596496582, "policy_loss": -0.006659961771219969, "cur_lr": 0.0005000000237487257, "entropy": 2.4226796627044678}}, "date": "2019-05-09_03-50-42", "done": false, "episode_len_mean": 746.67, "episodes_this_iter": 89, "episode_reward_max": 786.4247629697973, "custom_metrics": {"cost2_min": -143.3009380428455, "system_level_velocity_min": 9.588096584116172, "cost2_max": -67.32822841211275, "cost2_mean": -106.47492978923381, "cost1_mean": 337.50034089809463, "outflow_rate_mean": 934.5435682744079, "cost1_max": 405.8007908397492, "system_level_velocity_mean": 12.372880329421816, "cost1_min": 161.06083606660172, "outflow_rate_max": 1088.2430761813882, "outflow_rate_min": 549.3472843912837, "system_level_velocity_max": 14.716916233456331}, "hostname": "flow-main", "episode_reward_mean": 649.6691757833222, "training_iteration": 222, "timesteps_since_restore": 3300517, "timesteps_total": 24660750, "time_this_iter_s": 62.38672685623169, "node_ip": "10.138.0.2", "policy_reward_mean": {}}
{"time_total_s": 9040.8195810318, "time_since_restore": 1357.8974015712738, "episode_reward_min": 172.08961142200744, "timestamp": 1557373902, "episodes_total": 15479, "iterations_since_restore": 23, "pid": 9951, "num_metric_batches_dropped": 0, "config": {"train_batch_size": 90000, "env": "MultiWaveAttenuationMergePOEnvBufferedObs-v0no_random_eta3:0", "horizon": 1500, "sample_batch_size": 750, "observation_filter": "MeanStdFilter", "log_level": "INFO", "simple_optimizer": false, "monitor": false, "batch_mode": "truncate_episodes", "lambda": 0.97, "sample_async": false, "input_evaluation": null, "clip_actions": false, "env_config": {"run": "PPO", "flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.3,\n            \"eta3\": 0.1,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 10.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 600,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}"}, "kl_target": 0.01, "num_cpus_per_worker": 1, "preprocessor_pref": "deepmind", "num_cpus_for_driver": 1, "output_max_file_size": 67108864, "lr": 0.0005, "entropy_coeff": 0.0, "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "num_sgd_iter": 10, "clip_param": 0.3, "tf_session_args": {"log_device_placement": false, "inter_op_parallelism_threads": 2, "allow_soft_placement": true, "gpu_options": {"allow_growth": true}, "intra_op_parallelism_threads": 2, "device_count": {"CPU": 1}}, "model": {"max_seq_len": 20, "channel_major": false, "conv_filters": null, "free_log_std": false, "lstm_cell_size": 256, "dim": 84, "zero_mean": true, "framestack": true, "lstm_use_prev_action_reward": false, "squash_to_range": false, "use_lstm": false, "custom_options": {}, "grayscale": false, "custom_preprocessor": null, "conv_activation": "relu", "fcnet_hiddens": [128, 64, 32], "custom_model": null, "fcnet_activation": "tanh"}, "output": null, "optimizer": {}, "num_gpus_per_worker": 0, "num_workers": 60, "use_gae": true, "lr_schedule": null, "multiagent": {"policies_to_train": null, "policy_mapping_fn": null, "policy_graphs": {}}, "vf_loss_coeff": 1.0, "kl_coeff": 0.2, "num_gpus": 0, "compress_observations": false, "num_envs_per_worker": 1, "collect_metrics_timeout": 180, "straggler_mitigation": false, "custom_resources_per_worker": {}, "input": "sampler", "vf_share_layers": false, "sgd_minibatch_size": 128, "output_compress_columns": ["obs", "new_obs"], "vf_clip_param": 1000000.0, "synchronize_filters": true, "callbacks": {"on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7fd2635f2f28>", "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7fd2635f2cf8>", "on_train_result": null, "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7fd2635f2588>", "on_sample_end": null}, "gamma": 0.99, "clip_rewards": null}, "experiment_id": "9b178520507b4656ac608c6ff2056ff7", "timesteps_this_iter": 154806, "info": {"sample_time_ms": 25705.476, "num_steps_trained": 24815556, "update_time_ms": 10.628, "num_steps_sampled": 24815556, "grad_time_ms": 33914.547, "load_time_ms": 35.877, "default": {"kl": 0.012140423990786076, "vf_loss": 34.88434982299805, "vf_explained_var": 0.8046311736106873, "cur_kl_coeff": 0.44999998807907104, "total_loss": 34.882774353027344, "policy_loss": -0.007038816809654236, "cur_lr": 0.0005000000237487257, "entropy": 2.4098594188690186}}, "date": "2019-05-09_03-51-42", "done": false, "episode_len_mean": 735.13, "episodes_this_iter": 90, "episode_reward_max": 771.7223239198817, "custom_metrics": {"cost2_min": -155.63750570497004, "system_level_velocity_min": 9.180521662242096, "cost2_max": -59.407817380427815, "cost2_mean": -106.15651150167538, "cost1_mean": 326.5831947150364, "outflow_rate_mean": 910.3075871355414, "cost1_max": 400.6006005354053, "system_level_velocity_mean": 12.136117068013666, "cost1_min": 98.18423415751195, "outflow_rate_max": 1089.2697026979442, "outflow_rate_min": 392.2624773015676, "system_level_velocity_max": 14.535763292871374}, "hostname": "flow-main", "episode_reward_mean": 635.0171994938647, "training_iteration": 223, "timesteps_since_restore": 3455323, "timesteps_total": 24815556, "time_this_iter_s": 60.3695707321167, "node_ip": "10.138.0.2", "policy_reward_mean": {}}
{"time_total_s": 9103.054785728455, "time_since_restore": 1420.132606267929, "episode_reward_min": 165.3897708610246, "timestamp": 1557373965, "episodes_total": 15569, "iterations_since_restore": 24, "pid": 9951, "num_metric_batches_dropped": 0, "config": {"train_batch_size": 90000, "env": "MultiWaveAttenuationMergePOEnvBufferedObs-v0no_random_eta3:0", "horizon": 1500, "sample_batch_size": 750, "observation_filter": "MeanStdFilter", "log_level": "INFO", "simple_optimizer": false, "monitor": false, "batch_mode": "truncate_episodes", "lambda": 0.97, "sample_async": false, "input_evaluation": null, "clip_actions": false, "env_config": {"run": "PPO", "flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.3,\n            \"eta3\": 0.1,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 10.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 600,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}"}, "kl_target": 0.01, "num_cpus_per_worker": 1, "preprocessor_pref": "deepmind", "num_cpus_for_driver": 1, "output_max_file_size": 67108864, "lr": 0.0005, "entropy_coeff": 0.0, "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "num_sgd_iter": 10, "clip_param": 0.3, "tf_session_args": {"log_device_placement": false, "inter_op_parallelism_threads": 2, "allow_soft_placement": true, "gpu_options": {"allow_growth": true}, "intra_op_parallelism_threads": 2, "device_count": {"CPU": 1}}, "model": {"max_seq_len": 20, "channel_major": false, "conv_filters": null, "free_log_std": false, "lstm_cell_size": 256, "dim": 84, "zero_mean": true, "framestack": true, "lstm_use_prev_action_reward": false, "squash_to_range": false, "use_lstm": false, "custom_options": {}, "grayscale": false, "custom_preprocessor": null, "conv_activation": "relu", "fcnet_hiddens": [128, 64, 32], "custom_model": null, "fcnet_activation": "tanh"}, "output": null, "optimizer": {}, "num_gpus_per_worker": 0, "num_workers": 60, "use_gae": true, "lr_schedule": null, "multiagent": {"policies_to_train": null, "policy_mapping_fn": null, "policy_graphs": {}}, "vf_loss_coeff": 1.0, "kl_coeff": 0.2, "num_gpus": 0, "compress_observations": false, "num_envs_per_worker": 1, "collect_metrics_timeout": 180, "straggler_mitigation": false, "custom_resources_per_worker": {}, "input": "sampler", "vf_share_layers": false, "sgd_minibatch_size": 128, "output_compress_columns": ["obs", "new_obs"], "vf_clip_param": 1000000.0, "synchronize_filters": true, "callbacks": {"on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7fd26360c940>", "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7fd26360c208>", "on_train_result": null, "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7fd26360cb70>", "on_sample_end": null}, "gamma": 0.99, "clip_rewards": null}, "experiment_id": "9b178520507b4656ac608c6ff2056ff7", "timesteps_this_iter": 155868, "info": {"sample_time_ms": 25757.384, "num_steps_trained": 24971424, "update_time_ms": 10.619, "num_steps_sampled": 24971424, "grad_time_ms": 34230.968, "load_time_ms": 42.683, "default": {"kl": 0.012320728041231632, "vf_loss": 35.689903259277344, "vf_explained_var": 0.7977217435836792, "cur_kl_coeff": 0.45000001788139343, "total_loss": 35.68778610229492, "policy_loss": -0.007662816438823938, "cur_lr": 0.0005000000237487257, "entropy": 2.4047365188598633}}, "date": "2019-05-09_03-52-45", "done": false, "episode_len_mean": 728.25, "episodes_this_iter": 90, "episode_reward_max": 796.9850497581727, "custom_metrics": {"cost2_min": -151.19662594232818, "system_level_velocity_min": 9.649981307030826, "cost2_max": -46.88153292064211, "cost2_mean": -102.44670293758685, "cost1_mean": 329.0442736599766, "outflow_rate_mean": 909.8855215916836, "cost1_max": 410.8905976604184, "system_level_velocity_mean": 12.376284692058068, "cost1_min": 92.50658835720127, "outflow_rate_max": 1126.4615209516794, "outflow_rate_min": 391.329203599776, "system_level_velocity_max": 14.663704511669833}, "hostname": "flow-main", "episode_reward_mean": 636.9797178095204, "training_iteration": 224, "timesteps_since_restore": 3611191, "timesteps_total": 24971424, "time_this_iter_s": 62.23520469665527, "node_ip": "10.138.0.2", "policy_reward_mean": {}}
{"time_total_s": 9164.823296070099, "time_since_restore": 1481.9011166095734, "episode_reward_min": 177.84517838690832, "timestamp": 1557374026, "episodes_total": 15657, "iterations_since_restore": 25, "pid": 9951, "num_metric_batches_dropped": 0, "config": {"train_batch_size": 90000, "env": "MultiWaveAttenuationMergePOEnvBufferedObs-v0no_random_eta3:0", "horizon": 1500, "sample_batch_size": 750, "observation_filter": "MeanStdFilter", "log_level": "INFO", "simple_optimizer": false, "monitor": false, "batch_mode": "truncate_episodes", "lambda": 0.97, "sample_async": false, "input_evaluation": null, "clip_actions": false, "env_config": {"run": "PPO", "flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.3,\n            \"eta3\": 0.1,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 10.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 600,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}"}, "kl_target": 0.01, "num_cpus_per_worker": 1, "preprocessor_pref": "deepmind", "num_cpus_for_driver": 1, "output_max_file_size": 67108864, "lr": 0.0005, "entropy_coeff": 0.0, "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "num_sgd_iter": 10, "clip_param": 0.3, "tf_session_args": {"log_device_placement": false, "inter_op_parallelism_threads": 2, "allow_soft_placement": true, "gpu_options": {"allow_growth": true}, "intra_op_parallelism_threads": 2, "device_count": {"CPU": 1}}, "model": {"max_seq_len": 20, "channel_major": false, "conv_filters": null, "free_log_std": false, "lstm_cell_size": 256, "dim": 84, "zero_mean": true, "framestack": true, "lstm_use_prev_action_reward": false, "squash_to_range": false, "use_lstm": false, "custom_options": {}, "grayscale": false, "custom_preprocessor": null, "conv_activation": "relu", "fcnet_hiddens": [128, 64, 32], "custom_model": null, "fcnet_activation": "tanh"}, "output": null, "optimizer": {}, "num_gpus_per_worker": 0, "num_workers": 60, "use_gae": true, "lr_schedule": null, "multiagent": {"policies_to_train": null, "policy_mapping_fn": null, "policy_graphs": {}}, "vf_loss_coeff": 1.0, "kl_coeff": 0.2, "num_gpus": 0, "compress_observations": false, "num_envs_per_worker": 1, "collect_metrics_timeout": 180, "straggler_mitigation": false, "custom_resources_per_worker": {}, "input": "sampler", "vf_share_layers": false, "sgd_minibatch_size": 128, "output_compress_columns": ["obs", "new_obs"], "vf_clip_param": 1000000.0, "synchronize_filters": true, "callbacks": {"on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7fd263616240>", "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7fd263616ba8>", "on_train_result": null, "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7fd2636160b8>", "on_sample_end": null}, "gamma": 0.99, "clip_rewards": null}, "experiment_id": "9b178520507b4656ac608c6ff2056ff7", "timesteps_this_iter": 156091, "info": {"sample_time_ms": 25845.558, "num_steps_trained": 25127515, "update_time_ms": 10.754, "num_steps_sampled": 25127515, "grad_time_ms": 34536.825, "load_time_ms": 48.984, "default": {"kl": 0.012080821208655834, "vf_loss": 32.30720520019531, "vf_explained_var": 0.7981656789779663, "cur_kl_coeff": 0.4500000476837158, "total_loss": 32.30615997314453, "policy_loss": -0.00648232689127326, "cur_lr": 0.0005000000237487257, "entropy": 2.3966569900512695}}, "date": "2019-05-09_03-53-46", "done": false, "episode_len_mean": 738.83, "episodes_this_iter": 88, "episode_reward_max": 817.6550471467172, "custom_metrics": {"cost2_min": -150.42066971183434, "system_level_velocity_min": 10.015801475844778, "cost2_max": -46.88153292064211, "cost2_mean": -107.03958183539297, "cost1_mean": 339.39537062238463, "outflow_rate_mean": 936.3555843180915, "cost1_max": 411.2781949232344, "system_level_velocity_mean": 12.547509857722918, "cost1_min": 100.07903574245836, "outflow_rate_max": 1126.4615209516794, "outflow_rate_min": 414.0386960852256, "system_level_velocity_max": 14.82266733863088}, "hostname": "flow-main", "episode_reward_mean": 659.5467207473362, "training_iteration": 225, "timesteps_since_restore": 3767282, "timesteps_total": 25127515, "time_this_iter_s": 61.76851034164429, "node_ip": "10.138.0.2", "policy_reward_mean": {}}
{"time_total_s": 9226.717782258987, "time_since_restore": 1543.795602798462, "episode_reward_min": 186.1322437192022, "timestamp": 1557374088, "episodes_total": 15749, "iterations_since_restore": 26, "pid": 9951, "num_metric_batches_dropped": 0, "config": {"train_batch_size": 90000, "env": "MultiWaveAttenuationMergePOEnvBufferedObs-v0no_random_eta3:0", "horizon": 1500, "sample_batch_size": 750, "observation_filter": "MeanStdFilter", "log_level": "INFO", "simple_optimizer": false, "monitor": false, "batch_mode": "truncate_episodes", "lambda": 0.97, "sample_async": false, "input_evaluation": null, "clip_actions": false, "env_config": {"run": "PPO", "flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.3,\n            \"eta3\": 0.1,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 10.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 600,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}"}, "kl_target": 0.01, "num_cpus_per_worker": 1, "preprocessor_pref": "deepmind", "num_cpus_for_driver": 1, "output_max_file_size": 67108864, "lr": 0.0005, "entropy_coeff": 0.0, "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "num_sgd_iter": 10, "clip_param": 0.3, "tf_session_args": {"log_device_placement": false, "inter_op_parallelism_threads": 2, "allow_soft_placement": true, "gpu_options": {"allow_growth": true}, "intra_op_parallelism_threads": 2, "device_count": {"CPU": 1}}, "model": {"max_seq_len": 20, "channel_major": false, "conv_filters": null, "free_log_std": false, "lstm_cell_size": 256, "dim": 84, "zero_mean": true, "framestack": true, "lstm_use_prev_action_reward": false, "squash_to_range": false, "use_lstm": false, "custom_options": {}, "grayscale": false, "custom_preprocessor": null, "conv_activation": "relu", "fcnet_hiddens": [128, 64, 32], "custom_model": null, "fcnet_activation": "tanh"}, "output": null, "optimizer": {}, "num_gpus_per_worker": 0, "num_workers": 60, "use_gae": true, "lr_schedule": null, "multiagent": {"policies_to_train": null, "policy_mapping_fn": null, "policy_graphs": {}}, "vf_loss_coeff": 1.0, "kl_coeff": 0.2, "num_gpus": 0, "compress_observations": false, "num_envs_per_worker": 1, "collect_metrics_timeout": 180, "straggler_mitigation": false, "custom_resources_per_worker": {}, "input": "sampler", "vf_share_layers": false, "sgd_minibatch_size": 128, "output_compress_columns": ["obs", "new_obs"], "vf_clip_param": 1000000.0, "synchronize_filters": true, "callbacks": {"on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7fd2635f2e80>", "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7fd2635f24e0>", "on_train_result": null, "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7fd2635f2d68>", "on_sample_end": null}, "gamma": 0.99, "clip_rewards": null}, "experiment_id": "9b178520507b4656ac608c6ff2056ff7", "timesteps_this_iter": 157331, "info": {"sample_time_ms": 25856.768, "num_steps_trained": 25284846, "update_time_ms": 10.804, "num_steps_sampled": 25284846, "grad_time_ms": 34786.034, "load_time_ms": 58.115, "default": {"kl": 0.011966481804847717, "vf_loss": 34.263851165771484, "vf_explained_var": 0.8024241328239441, "cur_kl_coeff": 0.4500000476837158, "total_loss": 34.26138687133789, "policy_loss": -0.007851308211684227, "cur_lr": 0.0005000000237487257, "entropy": 2.433677911758423}}, "date": "2019-05-09_03-54-48", "done": false, "episode_len_mean": 728.26, "episodes_this_iter": 92, "episode_reward_max": 792.6036059847255, "custom_metrics": {"cost2_min": -156.53391835686497, "system_level_velocity_min": 9.399760565406002, "cost2_max": -55.84991312723778, "cost2_mean": -110.6542770004574, "cost1_mean": 327.7661301430322, "outflow_rate_mean": 918.2329333146124, "cost1_max": 410.6669200084725, "system_level_velocity_mean": 12.307006009616607, "cost1_min": 102.74808469702927, "outflow_rate_max": 1107.3219831267786, "outflow_rate_min": 416.6802518789604, "system_level_velocity_max": 14.943202733022648}, "hostname": "flow-main", "episode_reward_mean": 635.7363771002606, "training_iteration": 226, "timesteps_since_restore": 3924613, "timesteps_total": 25284846, "time_this_iter_s": 61.89448618888855, "node_ip": "10.138.0.2", "policy_reward_mean": {}}
{"time_total_s": 9288.094717979431, "time_since_restore": 1605.1725385189056, "episode_reward_min": 176.8858649757952, "timestamp": 1557374150, "episodes_total": 15840, "iterations_since_restore": 27, "pid": 9951, "num_metric_batches_dropped": 0, "config": {"train_batch_size": 90000, "env": "MultiWaveAttenuationMergePOEnvBufferedObs-v0no_random_eta3:0", "horizon": 1500, "sample_batch_size": 750, "observation_filter": "MeanStdFilter", "log_level": "INFO", "simple_optimizer": false, "monitor": false, "batch_mode": "truncate_episodes", "lambda": 0.97, "sample_async": false, "input_evaluation": null, "clip_actions": false, "env_config": {"run": "PPO", "flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.3,\n            \"eta3\": 0.1,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 10.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 600,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}"}, "kl_target": 0.01, "num_cpus_per_worker": 1, "preprocessor_pref": "deepmind", "num_cpus_for_driver": 1, "output_max_file_size": 67108864, "lr": 0.0005, "entropy_coeff": 0.0, "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "num_sgd_iter": 10, "clip_param": 0.3, "tf_session_args": {"log_device_placement": false, "inter_op_parallelism_threads": 2, "allow_soft_placement": true, "gpu_options": {"allow_growth": true}, "intra_op_parallelism_threads": 2, "device_count": {"CPU": 1}}, "model": {"max_seq_len": 20, "channel_major": false, "conv_filters": null, "free_log_std": false, "lstm_cell_size": 256, "dim": 84, "zero_mean": true, "framestack": true, "lstm_use_prev_action_reward": false, "squash_to_range": false, "use_lstm": false, "custom_options": {}, "grayscale": false, "custom_preprocessor": null, "conv_activation": "relu", "fcnet_hiddens": [128, 64, 32], "custom_model": null, "fcnet_activation": "tanh"}, "output": null, "optimizer": {}, "num_gpus_per_worker": 0, "num_workers": 60, "use_gae": true, "lr_schedule": null, "multiagent": {"policies_to_train": null, "policy_mapping_fn": null, "policy_graphs": {}}, "vf_loss_coeff": 1.0, "kl_coeff": 0.2, "num_gpus": 0, "compress_observations": false, "num_envs_per_worker": 1, "collect_metrics_timeout": 180, "straggler_mitigation": false, "custom_resources_per_worker": {}, "input": "sampler", "vf_share_layers": false, "sgd_minibatch_size": 128, "output_compress_columns": ["obs", "new_obs"], "vf_clip_param": 1000000.0, "synchronize_filters": true, "callbacks": {"on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7fd263616710>", "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7fd263616748>", "on_train_result": null, "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7fd263616780>", "on_sample_end": null}, "gamma": 0.99, "clip_rewards": null}, "experiment_id": "9b178520507b4656ac608c6ff2056ff7", "timesteps_this_iter": 153692, "info": {"sample_time_ms": 25855.635, "num_steps_trained": 25438538, "update_time_ms": 10.681, "num_steps_sampled": 25438538, "grad_time_ms": 34972.705, "load_time_ms": 64.995, "default": {"kl": 0.01188044622540474, "vf_loss": 33.46183776855469, "vf_explained_var": 0.7886280417442322, "cur_kl_coeff": 0.44999998807907104, "total_loss": 33.45960235595703, "policy_loss": -0.007581776008009911, "cur_lr": 0.0005000000237487257, "entropy": 2.3853955268859863}}, "date": "2019-05-09_03-55-50", "done": false, "episode_len_mean": 722.0, "episodes_this_iter": 91, "episode_reward_max": 786.0115955142298, "custom_metrics": {"cost2_min": -146.6246325172376, "system_level_velocity_min": 9.480275569948704, "cost2_max": -44.19919657504201, "cost2_mean": -107.5749853527652, "cost1_mean": 330.139090686263, "outflow_rate_mean": 915.3881251729922, "cost1_max": 393.5281008952563, "system_level_velocity_mean": 12.498548136077238, "cost1_min": 97.61570320600667, "outflow_rate_max": 1084.0264156791973, "outflow_rate_min": 401.79998486476376, "system_level_velocity_max": 14.337896870769189}, "hostname": "flow-main", "episode_reward_mean": 644.8439977642186, "training_iteration": 227, "timesteps_since_restore": 4078305, "timesteps_total": 25438538, "time_this_iter_s": 61.376935720443726, "node_ip": "10.138.0.2", "policy_reward_mean": {}}
{"time_total_s": 9349.672024726868, "time_since_restore": 1666.7498452663422, "episode_reward_min": 188.8131327742262, "timestamp": 1557374211, "episodes_total": 15930, "iterations_since_restore": 28, "pid": 9951, "num_metric_batches_dropped": 0, "config": {"train_batch_size": 90000, "env": "MultiWaveAttenuationMergePOEnvBufferedObs-v0no_random_eta3:0", "horizon": 1500, "sample_batch_size": 750, "observation_filter": "MeanStdFilter", "log_level": "INFO", "simple_optimizer": false, "monitor": false, "batch_mode": "truncate_episodes", "lambda": 0.97, "sample_async": false, "input_evaluation": null, "clip_actions": false, "env_config": {"run": "PPO", "flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.3,\n            \"eta3\": 0.1,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 10.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 600,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}"}, "kl_target": 0.01, "num_cpus_per_worker": 1, "preprocessor_pref": "deepmind", "num_cpus_for_driver": 1, "output_max_file_size": 67108864, "lr": 0.0005, "entropy_coeff": 0.0, "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "num_sgd_iter": 10, "clip_param": 0.3, "tf_session_args": {"log_device_placement": false, "inter_op_parallelism_threads": 2, "allow_soft_placement": true, "gpu_options": {"allow_growth": true}, "intra_op_parallelism_threads": 2, "device_count": {"CPU": 1}}, "model": {"max_seq_len": 20, "channel_major": false, "conv_filters": null, "free_log_std": false, "lstm_cell_size": 256, "dim": 84, "zero_mean": true, "framestack": true, "lstm_use_prev_action_reward": false, "squash_to_range": false, "use_lstm": false, "custom_options": {}, "grayscale": false, "custom_preprocessor": null, "conv_activation": "relu", "fcnet_hiddens": [128, 64, 32], "custom_model": null, "fcnet_activation": "tanh"}, "output": null, "optimizer": {}, "num_gpus_per_worker": 0, "num_workers": 60, "use_gae": true, "lr_schedule": null, "multiagent": {"policies_to_train": null, "policy_mapping_fn": null, "policy_graphs": {}}, "vf_loss_coeff": 1.0, "kl_coeff": 0.2, "num_gpus": 0, "compress_observations": false, "num_envs_per_worker": 1, "collect_metrics_timeout": 180, "straggler_mitigation": false, "custom_resources_per_worker": {}, "input": "sampler", "vf_share_layers": false, "sgd_minibatch_size": 128, "output_compress_columns": ["obs", "new_obs"], "vf_clip_param": 1000000.0, "synchronize_filters": true, "callbacks": {"on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7fd2636162b0>", "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7fd263616eb8>", "on_train_result": null, "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7fd263616dd8>", "on_sample_end": null}, "gamma": 0.99, "clip_rewards": null}, "experiment_id": "9b178520507b4656ac608c6ff2056ff7", "timesteps_this_iter": 155795, "info": {"sample_time_ms": 25980.893, "num_steps_trained": 25594333, "update_time_ms": 10.706, "num_steps_sampled": 25594333, "grad_time_ms": 34998.65, "load_time_ms": 71.66, "default": {"kl": 0.012505954131484032, "vf_loss": 34.09225845336914, "vf_explained_var": 0.780072808265686, "cur_kl_coeff": 0.45000001788139343, "total_loss": 34.09063720703125, "policy_loss": -0.007248997688293457, "cur_lr": 0.0005000000237487257, "entropy": 2.4034273624420166}}, "date": "2019-05-09_03-56-51", "done": false, "episode_len_mean": 737.98, "episodes_this_iter": 90, "episode_reward_max": 780.7218154149242, "custom_metrics": {"cost2_min": -158.35983359862888, "system_level_velocity_min": 9.480275569948704, "cost2_max": -55.47455110019297, "cost2_mean": -109.70497658687769, "cost1_mean": 338.5054794907176, "outflow_rate_mean": 934.7757857257108, "cost1_max": 393.1413759468975, "system_level_velocity_mean": 12.5006322610476, "cost1_min": 103.37603611311744, "outflow_rate_max": 1087.9987374168536, "outflow_rate_min": 396.3797573098352, "system_level_velocity_max": 14.33582200395213}, "hostname": "flow-main", "episode_reward_mean": 661.7146254177579, "training_iteration": 228, "timesteps_since_restore": 4234100, "timesteps_total": 25594333, "time_this_iter_s": 61.57730674743652, "node_ip": "10.138.0.2", "policy_reward_mean": {}}
{"time_total_s": 9412.68252158165, "time_since_restore": 1729.7603421211243, "episode_reward_min": 190.18641579457324, "timestamp": 1557374274, "episodes_total": 16018, "iterations_since_restore": 29, "pid": 9951, "num_metric_batches_dropped": 0, "config": {"train_batch_size": 90000, "env": "MultiWaveAttenuationMergePOEnvBufferedObs-v0no_random_eta3:0", "horizon": 1500, "sample_batch_size": 750, "observation_filter": "MeanStdFilter", "log_level": "INFO", "simple_optimizer": false, "monitor": false, "batch_mode": "truncate_episodes", "lambda": 0.97, "sample_async": false, "input_evaluation": null, "clip_actions": false, "env_config": {"run": "PPO", "flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.3,\n            \"eta3\": 0.1,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 10.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 600,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}"}, "kl_target": 0.01, "num_cpus_per_worker": 1, "preprocessor_pref": "deepmind", "num_cpus_for_driver": 1, "output_max_file_size": 67108864, "lr": 0.0005, "entropy_coeff": 0.0, "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "num_sgd_iter": 10, "clip_param": 0.3, "tf_session_args": {"log_device_placement": false, "inter_op_parallelism_threads": 2, "allow_soft_placement": true, "gpu_options": {"allow_growth": true}, "intra_op_parallelism_threads": 2, "device_count": {"CPU": 1}}, "model": {"max_seq_len": 20, "channel_major": false, "conv_filters": null, "free_log_std": false, "lstm_cell_size": 256, "dim": 84, "zero_mean": true, "framestack": true, "lstm_use_prev_action_reward": false, "squash_to_range": false, "use_lstm": false, "custom_options": {}, "grayscale": false, "custom_preprocessor": null, "conv_activation": "relu", "fcnet_hiddens": [128, 64, 32], "custom_model": null, "fcnet_activation": "tanh"}, "output": null, "optimizer": {}, "num_gpus_per_worker": 0, "num_workers": 60, "use_gae": true, "lr_schedule": null, "multiagent": {"policies_to_train": null, "policy_mapping_fn": null, "policy_graphs": {}}, "vf_loss_coeff": 1.0, "kl_coeff": 0.2, "num_gpus": 0, "compress_observations": false, "num_envs_per_worker": 1, "collect_metrics_timeout": 180, "straggler_mitigation": false, "custom_resources_per_worker": {}, "input": "sampler", "vf_share_layers": false, "sgd_minibatch_size": 128, "output_compress_columns": ["obs", "new_obs"], "vf_clip_param": 1000000.0, "synchronize_filters": true, "callbacks": {"on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7fd263616828>", "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7fd263648898>", "on_train_result": null, "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7fd263616630>", "on_sample_end": null}, "gamma": 0.99, "clip_rewards": null}, "experiment_id": "9b178520507b4656ac608c6ff2056ff7", "timesteps_this_iter": 160121, "info": {"sample_time_ms": 26052.69, "num_steps_trained": 25754454, "update_time_ms": 10.829, "num_steps_sampled": 25754454, "grad_time_ms": 35157.374, "load_time_ms": 77.591, "default": {"kl": 0.01154644601047039, "vf_loss": 33.64963912963867, "vf_explained_var": 0.7890139818191528, "cur_kl_coeff": 0.44999998807907104, "total_loss": 33.647254943847656, "policy_loss": -0.007585880346596241, "cur_lr": 0.0005000000237487257, "entropy": 2.4481167793273926}}, "date": "2019-05-09_03-57-54", "done": false, "episode_len_mean": 740.93, "episodes_this_iter": 88, "episode_reward_max": 809.6336121901123, "custom_metrics": {"cost2_min": -168.903963305066, "system_level_velocity_min": 9.987749028737353, "cost2_max": -60.97975723384135, "cost2_mean": -115.5656009953465, "cost1_mean": 335.2174450199185, "outflow_rate_mean": 936.069124685532, "cost1_max": 402.2923427343486, "system_level_velocity_mean": 12.313702156724668, "cost1_min": 105.97594618956103, "outflow_rate_max": 1141.7772411858823, "outflow_rate_min": 410.91087226019795, "system_level_velocity_max": 14.691233367368508}, "hostname": "flow-main", "episode_reward_mean": 659.8150788780664, "training_iteration": 229, "timesteps_since_restore": 4394221, "timesteps_total": 25754454, "time_this_iter_s": 63.010496854782104, "node_ip": "10.138.0.2", "policy_reward_mean": {}}
{"time_total_s": 9475.30472278595, "time_since_restore": 1792.3825433254242, "episode_reward_min": 370.7570803892188, "timestamp": 1557374337, "episodes_total": 16106, "iterations_since_restore": 30, "pid": 9951, "num_metric_batches_dropped": 0, "config": {"train_batch_size": 90000, "env": "MultiWaveAttenuationMergePOEnvBufferedObs-v0no_random_eta3:0", "horizon": 1500, "sample_batch_size": 750, "observation_filter": "MeanStdFilter", "log_level": "INFO", "simple_optimizer": false, "monitor": false, "batch_mode": "truncate_episodes", "lambda": 0.97, "sample_async": false, "input_evaluation": null, "clip_actions": false, "env_config": {"run": "PPO", "flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.3,\n            \"eta3\": 0.1,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 10.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 600,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}"}, "kl_target": 0.01, "num_cpus_per_worker": 1, "preprocessor_pref": "deepmind", "num_cpus_for_driver": 1, "output_max_file_size": 67108864, "lr": 0.0005, "entropy_coeff": 0.0, "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "num_sgd_iter": 10, "clip_param": 0.3, "tf_session_args": {"log_device_placement": false, "inter_op_parallelism_threads": 2, "allow_soft_placement": true, "gpu_options": {"allow_growth": true}, "intra_op_parallelism_threads": 2, "device_count": {"CPU": 1}}, "model": {"max_seq_len": 20, "channel_major": false, "conv_filters": null, "free_log_std": false, "lstm_cell_size": 256, "dim": 84, "zero_mean": true, "framestack": true, "lstm_use_prev_action_reward": false, "squash_to_range": false, "use_lstm": false, "custom_options": {}, "grayscale": false, "custom_preprocessor": null, "conv_activation": "relu", "fcnet_hiddens": [128, 64, 32], "custom_model": null, "fcnet_activation": "tanh"}, "output": null, "optimizer": {}, "num_gpus_per_worker": 0, "num_workers": 60, "use_gae": true, "lr_schedule": null, "multiagent": {"policies_to_train": null, "policy_mapping_fn": null, "policy_graphs": {}}, "vf_loss_coeff": 1.0, "kl_coeff": 0.2, "num_gpus": 0, "compress_observations": false, "num_envs_per_worker": 1, "collect_metrics_timeout": 180, "straggler_mitigation": false, "custom_resources_per_worker": {}, "input": "sampler", "vf_share_layers": false, "sgd_minibatch_size": 128, "output_compress_columns": ["obs", "new_obs"], "vf_clip_param": 1000000.0, "synchronize_filters": true, "callbacks": {"on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7fd263616080>", "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7fd263616668>", "on_train_result": null, "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7fd263616518>", "on_sample_end": null}, "gamma": 0.99, "clip_rewards": null}, "experiment_id": "9b178520507b4656ac608c6ff2056ff7", "timesteps_this_iter": 158547, "info": {"sample_time_ms": 26108.7, "num_steps_trained": 25913001, "update_time_ms": 10.885, "num_steps_sampled": 25913001, "grad_time_ms": 35267.429, "load_time_ms": 77.526, "default": {"kl": 0.011840008199214935, "vf_loss": 32.92059326171875, "vf_explained_var": 0.7824510931968689, "cur_kl_coeff": 0.45000001788139343, "total_loss": 32.91879653930664, "policy_loss": -0.007125068921595812, "cur_lr": 0.0005000000237487257, "entropy": 2.418929100036621}}, "date": "2019-05-09_03-58-57", "done": false, "episode_len_mean": 740.76, "episodes_this_iter": 88, "episode_reward_max": 807.4244341679241, "custom_metrics": {"cost2_min": -163.97756074387797, "system_level_velocity_min": 9.844596130625309, "cost2_max": -57.12345019441666, "cost2_mean": -114.3690083315958, "cost1_mean": 330.79603382399984, "outflow_rate_mean": 924.8807669166323, "cost1_max": 401.71965139137296, "system_level_velocity_mean": 12.182032308727669, "cost1_min": 196.5750548520154, "outflow_rate_max": 1097.4371144464608, "outflow_rate_min": 614.9391571387097, "system_level_velocity_max": 14.550306856571694}, "hostname": "flow-main", "episode_reward_mean": 647.5599782298566, "training_iteration": 230, "timesteps_since_restore": 4552768, "timesteps_total": 25913001, "time_this_iter_s": 62.62220120429993, "node_ip": "10.138.0.2", "policy_reward_mean": {}}
{"time_total_s": 9536.256172895432, "time_since_restore": 1853.333993434906, "episode_reward_min": 180.0716124951363, "timestamp": 1557374398, "episodes_total": 16199, "iterations_since_restore": 31, "pid": 9951, "num_metric_batches_dropped": 0, "config": {"train_batch_size": 90000, "env": "MultiWaveAttenuationMergePOEnvBufferedObs-v0no_random_eta3:0", "horizon": 1500, "sample_batch_size": 750, "observation_filter": "MeanStdFilter", "log_level": "INFO", "simple_optimizer": false, "monitor": false, "batch_mode": "truncate_episodes", "lambda": 0.97, "sample_async": false, "input_evaluation": null, "clip_actions": false, "env_config": {"run": "PPO", "flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.3,\n            \"eta3\": 0.1,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 10.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 600,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}"}, "kl_target": 0.01, "num_cpus_per_worker": 1, "preprocessor_pref": "deepmind", "num_cpus_for_driver": 1, "output_max_file_size": 67108864, "lr": 0.0005, "entropy_coeff": 0.0, "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "num_sgd_iter": 10, "clip_param": 0.3, "tf_session_args": {"log_device_placement": false, "inter_op_parallelism_threads": 2, "allow_soft_placement": true, "gpu_options": {"allow_growth": true}, "intra_op_parallelism_threads": 2, "device_count": {"CPU": 1}}, "model": {"max_seq_len": 20, "channel_major": false, "conv_filters": null, "free_log_std": false, "lstm_cell_size": 256, "dim": 84, "zero_mean": true, "framestack": true, "lstm_use_prev_action_reward": false, "squash_to_range": false, "use_lstm": false, "custom_options": {}, "grayscale": false, "custom_preprocessor": null, "conv_activation": "relu", "fcnet_hiddens": [128, 64, 32], "custom_model": null, "fcnet_activation": "tanh"}, "output": null, "optimizer": {}, "num_gpus_per_worker": 0, "num_workers": 60, "use_gae": true, "lr_schedule": null, "multiagent": {"policies_to_train": null, "policy_mapping_fn": null, "policy_graphs": {}}, "vf_loss_coeff": 1.0, "kl_coeff": 0.2, "num_gpus": 0, "compress_observations": false, "num_envs_per_worker": 1, "collect_metrics_timeout": 180, "straggler_mitigation": false, "custom_resources_per_worker": {}, "input": "sampler", "vf_share_layers": false, "sgd_minibatch_size": 128, "output_compress_columns": ["obs", "new_obs"], "vf_clip_param": 1000000.0, "synchronize_filters": true, "callbacks": {"on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7fd2636167f0>", "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7fd2636166d8>", "on_train_result": null, "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7fd2636165f8>", "on_sample_end": null}, "gamma": 0.99, "clip_rewards": null}, "experiment_id": "9b178520507b4656ac608c6ff2056ff7", "timesteps_this_iter": 157299, "info": {"sample_time_ms": 26185.175, "num_steps_trained": 26070300, "update_time_ms": 10.831, "num_steps_sampled": 26070300, "grad_time_ms": 35231.837, "load_time_ms": 84.156, "default": {"kl": 0.012170454487204552, "vf_loss": 34.83499526977539, "vf_explained_var": 0.7786880731582642, "cur_kl_coeff": 0.44999998807907104, "total_loss": 34.83307647705078, "policy_loss": -0.0073952148668468, "cur_lr": 0.0005000000237487257, "entropy": 2.3985848426818848}}, "date": "2019-05-09_03-59-58", "done": false, "episode_len_mean": 723.39, "episodes_this_iter": 93, "episode_reward_max": 824.729208414003, "custom_metrics": {"cost2_min": -153.3698983840389, "system_level_velocity_min": 10.163899781178992, "cost2_max": -60.98231659617132, "cost2_mean": -116.51182099326715, "cost1_mean": 335.64015550067944, "outflow_rate_mean": 937.6361678719444, "cost1_max": 417.1993951854507, "system_level_velocity_mean": 12.632977475836105, "cost1_min": 101.0496694717686, "outflow_rate_max": 1121.478103515093, "outflow_rate_min": 405.89666247218963, "system_level_velocity_max": 14.973085680252018}, "hostname": "flow-main", "episode_reward_mean": 658.3197220542899, "training_iteration": 231, "timesteps_since_restore": 4710067, "timesteps_total": 26070300, "time_this_iter_s": 60.95145010948181, "node_ip": "10.138.0.2", "policy_reward_mean": {}}
{"time_total_s": 9598.399896621704, "time_since_restore": 1915.4777171611786, "episode_reward_min": 180.64082098827157, "timestamp": 1557374460, "episodes_total": 16290, "iterations_since_restore": 32, "pid": 9951, "num_metric_batches_dropped": 0, "config": {"train_batch_size": 90000, "env": "MultiWaveAttenuationMergePOEnvBufferedObs-v0no_random_eta3:0", "horizon": 1500, "sample_batch_size": 750, "observation_filter": "MeanStdFilter", "log_level": "INFO", "simple_optimizer": false, "monitor": false, "batch_mode": "truncate_episodes", "lambda": 0.97, "sample_async": false, "input_evaluation": null, "clip_actions": false, "env_config": {"run": "PPO", "flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.3,\n            \"eta3\": 0.1,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 10.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 600,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}"}, "kl_target": 0.01, "num_cpus_per_worker": 1, "preprocessor_pref": "deepmind", "num_cpus_for_driver": 1, "output_max_file_size": 67108864, "lr": 0.0005, "entropy_coeff": 0.0, "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "num_sgd_iter": 10, "clip_param": 0.3, "tf_session_args": {"log_device_placement": false, "inter_op_parallelism_threads": 2, "allow_soft_placement": true, "gpu_options": {"allow_growth": true}, "intra_op_parallelism_threads": 2, "device_count": {"CPU": 1}}, "model": {"max_seq_len": 20, "channel_major": false, "conv_filters": null, "free_log_std": false, "lstm_cell_size": 256, "dim": 84, "zero_mean": true, "framestack": true, "lstm_use_prev_action_reward": false, "squash_to_range": false, "use_lstm": false, "custom_options": {}, "grayscale": false, "custom_preprocessor": null, "conv_activation": "relu", "fcnet_hiddens": [128, 64, 32], "custom_model": null, "fcnet_activation": "tanh"}, "output": null, "optimizer": {}, "num_gpus_per_worker": 0, "num_workers": 60, "use_gae": true, "lr_schedule": null, "multiagent": {"policies_to_train": null, "policy_mapping_fn": null, "policy_graphs": {}}, "vf_loss_coeff": 1.0, "kl_coeff": 0.2, "num_gpus": 0, "compress_observations": false, "num_envs_per_worker": 1, "collect_metrics_timeout": 180, "straggler_mitigation": false, "custom_resources_per_worker": {}, "input": "sampler", "vf_share_layers": false, "sgd_minibatch_size": 128, "output_compress_columns": ["obs", "new_obs"], "vf_clip_param": 1000000.0, "synchronize_filters": true, "callbacks": {"on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7fd263616748>", "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7fd263648898>", "on_train_result": null, "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7fd2635f2a58>", "on_sample_end": null}, "gamma": 0.99, "clip_rewards": null}, "experiment_id": "9b178520507b4656ac608c6ff2056ff7", "timesteps_this_iter": 160021, "info": {"sample_time_ms": 26158.183, "num_steps_trained": 26230321, "update_time_ms": 10.812, "num_steps_sampled": 26230321, "grad_time_ms": 35232.435, "load_time_ms": 83.144, "default": {"kl": 0.01184961386024952, "vf_loss": 33.87189865112305, "vf_explained_var": 0.7865151166915894, "cur_kl_coeff": 0.44999998807907104, "total_loss": 33.86980438232422, "policy_loss": -0.007430439814925194, "cur_lr": 0.0005000000237487257, "entropy": 2.4496374130249023}}, "date": "2019-05-09_04-01-00", "done": false, "episode_len_mean": 719.7, "episodes_this_iter": 91, "episode_reward_max": 805.5151206313774, "custom_metrics": {"cost2_min": -159.91054643884218, "system_level_velocity_min": 10.305814897545048, "cost2_max": -66.37385321551547, "cost2_mean": -115.47411022530592, "cost1_mean": 327.8713170112902, "outflow_rate_mean": 921.0672765419953, "cost1_max": 404.92128194149115, "system_level_velocity_mean": 12.417778368381109, "cost1_min": 98.85203389824949, "outflow_rate_max": 1094.5059255544254, "outflow_rate_min": 394.8912118854544, "system_level_velocity_max": 14.627822236498064}, "hostname": "flow-main", "episode_reward_mean": 643.9396944199407, "training_iteration": 232, "timesteps_since_restore": 4870088, "timesteps_total": 26230321, "time_this_iter_s": 62.14372372627258, "node_ip": "10.138.0.2", "policy_reward_mean": {}}
{"time_total_s": 9661.740274906158, "time_since_restore": 1978.818095445633, "episode_reward_min": 176.81554064052153, "timestamp": 1557374524, "episodes_total": 16383, "iterations_since_restore": 33, "pid": 9951, "num_metric_batches_dropped": 0, "config": {"train_batch_size": 90000, "env": "MultiWaveAttenuationMergePOEnvBufferedObs-v0no_random_eta3:0", "horizon": 1500, "sample_batch_size": 750, "observation_filter": "MeanStdFilter", "log_level": "INFO", "simple_optimizer": false, "monitor": false, "batch_mode": "truncate_episodes", "lambda": 0.97, "sample_async": false, "input_evaluation": null, "clip_actions": false, "env_config": {"run": "PPO", "flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.3,\n            \"eta3\": 0.1,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 10.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 600,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}"}, "kl_target": 0.01, "num_cpus_per_worker": 1, "preprocessor_pref": "deepmind", "num_cpus_for_driver": 1, "output_max_file_size": 67108864, "lr": 0.0005, "entropy_coeff": 0.0, "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "num_sgd_iter": 10, "clip_param": 0.3, "tf_session_args": {"log_device_placement": false, "inter_op_parallelism_threads": 2, "allow_soft_placement": true, "gpu_options": {"allow_growth": true}, "intra_op_parallelism_threads": 2, "device_count": {"CPU": 1}}, "model": {"max_seq_len": 20, "channel_major": false, "conv_filters": null, "free_log_std": false, "lstm_cell_size": 256, "dim": 84, "zero_mean": true, "framestack": true, "lstm_use_prev_action_reward": false, "squash_to_range": false, "use_lstm": false, "custom_options": {}, "grayscale": false, "custom_preprocessor": null, "conv_activation": "relu", "fcnet_hiddens": [128, 64, 32], "custom_model": null, "fcnet_activation": "tanh"}, "output": null, "optimizer": {}, "num_gpus_per_worker": 0, "num_workers": 60, "use_gae": true, "lr_schedule": null, "multiagent": {"policies_to_train": null, "policy_mapping_fn": null, "policy_graphs": {}}, "vf_loss_coeff": 1.0, "kl_coeff": 0.2, "num_gpus": 0, "compress_observations": false, "num_envs_per_worker": 1, "collect_metrics_timeout": 180, "straggler_mitigation": false, "custom_resources_per_worker": {}, "input": "sampler", "vf_share_layers": false, "sgd_minibatch_size": 128, "output_compress_columns": ["obs", "new_obs"], "vf_clip_param": 1000000.0, "synchronize_filters": true, "callbacks": {"on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7fd2636168d0>", "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7fd263616b70>", "on_train_result": null, "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7fd263616780>", "on_sample_end": null}, "gamma": 0.99, "clip_rewards": null}, "experiment_id": "9b178520507b4656ac608c6ff2056ff7", "timesteps_this_iter": 160181, "info": {"sample_time_ms": 26234.607, "num_steps_trained": 26390502, "update_time_ms": 10.938, "num_steps_sampled": 26390502, "grad_time_ms": 35448.765, "load_time_ms": 83.016, "default": {"kl": 0.011907254345715046, "vf_loss": 32.78559112548828, "vf_explained_var": 0.7983354926109314, "cur_kl_coeff": 0.44999995827674866, "total_loss": 32.78464126586914, "policy_loss": -0.006310305092483759, "cur_lr": 0.0005000000237487257, "entropy": 2.438122272491455}}, "date": "2019-05-09_04-02-04", "done": false, "episode_len_mean": 714.33, "episodes_this_iter": 93, "episode_reward_max": 811.5785404973154, "custom_metrics": {"cost2_min": -170.03054672641613, "system_level_velocity_min": 9.586128011102833, "cost2_max": -55.23971320129873, "cost2_mean": -122.3131001584938, "cost1_mean": 328.9883284436536, "outflow_rate_mean": 933.4670014032226, "cost1_max": 408.86363403371496, "system_level_velocity_mean": 12.509520063295586, "cost1_min": 97.43779616012023, "outflow_rate_max": 1133.7315506814136, "outflow_rate_min": 401.4542041180331, "system_level_velocity_max": 14.497693673359558}, "hostname": "flow-main", "episode_reward_mean": 641.499938707859, "training_iteration": 233, "timesteps_since_restore": 5030269, "timesteps_total": 26390502, "time_this_iter_s": 63.340378284454346, "node_ip": "10.138.0.2", "policy_reward_mean": {}}
{"time_total_s": 9727.018629074097, "time_since_restore": 2044.0964496135712, "episode_reward_min": 347.5339170034704, "timestamp": 1557374589, "episodes_total": 16472, "iterations_since_restore": 34, "pid": 9951, "num_metric_batches_dropped": 0, "config": {"train_batch_size": 90000, "env": "MultiWaveAttenuationMergePOEnvBufferedObs-v0no_random_eta3:0", "horizon": 1500, "sample_batch_size": 750, "observation_filter": "MeanStdFilter", "log_level": "INFO", "simple_optimizer": false, "monitor": false, "batch_mode": "truncate_episodes", "lambda": 0.97, "sample_async": false, "input_evaluation": null, "clip_actions": false, "env_config": {"run": "PPO", "flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.3,\n            \"eta3\": 0.1,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 10.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 600,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}"}, "kl_target": 0.01, "num_cpus_per_worker": 1, "preprocessor_pref": "deepmind", "num_cpus_for_driver": 1, "output_max_file_size": 67108864, "lr": 0.0005, "entropy_coeff": 0.0, "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "num_sgd_iter": 10, "clip_param": 0.3, "tf_session_args": {"log_device_placement": false, "inter_op_parallelism_threads": 2, "allow_soft_placement": true, "gpu_options": {"allow_growth": true}, "intra_op_parallelism_threads": 2, "device_count": {"CPU": 1}}, "model": {"max_seq_len": 20, "channel_major": false, "conv_filters": null, "free_log_std": false, "lstm_cell_size": 256, "dim": 84, "zero_mean": true, "framestack": true, "lstm_use_prev_action_reward": false, "squash_to_range": false, "use_lstm": false, "custom_options": {}, "grayscale": false, "custom_preprocessor": null, "conv_activation": "relu", "fcnet_hiddens": [128, 64, 32], "custom_model": null, "fcnet_activation": "tanh"}, "output": null, "optimizer": {}, "num_gpus_per_worker": 0, "num_workers": 60, "use_gae": true, "lr_schedule": null, "multiagent": {"policies_to_train": null, "policy_mapping_fn": null, "policy_graphs": {}}, "vf_loss_coeff": 1.0, "kl_coeff": 0.2, "num_gpus": 0, "compress_observations": false, "num_envs_per_worker": 1, "collect_metrics_timeout": 180, "straggler_mitigation": false, "custom_resources_per_worker": {}, "input": "sampler", "vf_share_layers": false, "sgd_minibatch_size": 128, "output_compress_columns": ["obs", "new_obs"], "vf_clip_param": 1000000.0, "synchronize_filters": true, "callbacks": {"on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7fd2635f2a90>", "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7fd2635f2eb8>", "on_train_result": null, "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7fd2635f2b00>", "on_sample_end": null}, "gamma": 0.99, "clip_rewards": null}, "experiment_id": "9b178520507b4656ac608c6ff2056ff7", "timesteps_this_iter": 163253, "info": {"sample_time_ms": 26368.285, "num_steps_trained": 26553755, "update_time_ms": 11.095, "num_steps_sampled": 26553755, "grad_time_ms": 35610.573, "load_time_ms": 80.952, "default": {"kl": 0.011131656356155872, "vf_loss": 31.77292251586914, "vf_explained_var": 0.8054229617118835, "cur_kl_coeff": 0.44999998807907104, "total_loss": 31.77155113220215, "policy_loss": -0.006384438835084438, "cur_lr": 0.0005000000237487257, "entropy": 2.4777235984802246}}, "date": "2019-05-09_04-03-09", "done": false, "episode_len_mean": 740.94, "episodes_this_iter": 89, "episode_reward_max": 821.2465473778783, "custom_metrics": {"cost2_min": -158.9818732349948, "system_level_velocity_min": 10.141547728145131, "cost2_max": -51.05316328449692, "cost2_mean": -121.71770107216264, "cost1_mean": 337.56757680998226, "outflow_rate_mean": 950.606635207425, "cost1_max": 418.5778531453703, "system_level_velocity_mean": 12.418252594548491, "cost1_min": 174.10136902213156, "outflow_rate_max": 1136.77071921507, "outflow_rate_min": 575.7385876281982, "system_level_velocity_max": 15.15122790408887}, "hostname": "flow-main", "episode_reward_mean": 656.8543835729186, "training_iteration": 234, "timesteps_since_restore": 5193522, "timesteps_total": 26553755, "time_this_iter_s": 65.27835416793823, "node_ip": "10.138.0.2", "policy_reward_mean": {}}
{"time_total_s": 9790.295628547668, "time_since_restore": 2107.373449087143, "episode_reward_min": 197.36180365264354, "timestamp": 1557374652, "episodes_total": 16564, "iterations_since_restore": 35, "pid": 9951, "num_metric_batches_dropped": 0, "config": {"train_batch_size": 90000, "env": "MultiWaveAttenuationMergePOEnvBufferedObs-v0no_random_eta3:0", "horizon": 1500, "sample_batch_size": 750, "observation_filter": "MeanStdFilter", "log_level": "INFO", "simple_optimizer": false, "monitor": false, "batch_mode": "truncate_episodes", "lambda": 0.97, "sample_async": false, "input_evaluation": null, "clip_actions": false, "env_config": {"run": "PPO", "flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.3,\n            \"eta3\": 0.1,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 10.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 600,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}"}, "kl_target": 0.01, "num_cpus_per_worker": 1, "preprocessor_pref": "deepmind", "num_cpus_for_driver": 1, "output_max_file_size": 67108864, "lr": 0.0005, "entropy_coeff": 0.0, "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "num_sgd_iter": 10, "clip_param": 0.3, "tf_session_args": {"log_device_placement": false, "inter_op_parallelism_threads": 2, "allow_soft_placement": true, "gpu_options": {"allow_growth": true}, "intra_op_parallelism_threads": 2, "device_count": {"CPU": 1}}, "model": {"max_seq_len": 20, "channel_major": false, "conv_filters": null, "free_log_std": false, "lstm_cell_size": 256, "dim": 84, "zero_mean": true, "framestack": true, "lstm_use_prev_action_reward": false, "squash_to_range": false, "use_lstm": false, "custom_options": {}, "grayscale": false, "custom_preprocessor": null, "conv_activation": "relu", "fcnet_hiddens": [128, 64, 32], "custom_model": null, "fcnet_activation": "tanh"}, "output": null, "optimizer": {}, "num_gpus_per_worker": 0, "num_workers": 60, "use_gae": true, "lr_schedule": null, "multiagent": {"policies_to_train": null, "policy_mapping_fn": null, "policy_graphs": {}}, "vf_loss_coeff": 1.0, "kl_coeff": 0.2, "num_gpus": 0, "compress_observations": false, "num_envs_per_worker": 1, "collect_metrics_timeout": 180, "straggler_mitigation": false, "custom_resources_per_worker": {}, "input": "sampler", "vf_share_layers": false, "sgd_minibatch_size": 128, "output_compress_columns": ["obs", "new_obs"], "vf_clip_param": 1000000.0, "synchronize_filters": true, "callbacks": {"on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7fd263616278>", "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7fd263616898>", "on_train_result": null, "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7fd2636161d0>", "on_sample_end": null}, "gamma": 0.99, "clip_rewards": null}, "experiment_id": "9b178520507b4656ac608c6ff2056ff7", "timesteps_this_iter": 161355, "info": {"sample_time_ms": 26446.044, "num_steps_trained": 26715110, "update_time_ms": 10.765, "num_steps_sampled": 26715110, "grad_time_ms": 35681.728, "load_time_ms": 81.818, "default": {"kl": 0.011597532778978348, "vf_loss": 32.9501838684082, "vf_explained_var": 0.7896978259086609, "cur_kl_coeff": 0.44999998807907104, "total_loss": 32.9482307434082, "policy_loss": -0.007172579877078533, "cur_lr": 0.0005000000237487257, "entropy": 2.4505136013031006}}, "date": "2019-05-09_04-04-12", "done": false, "episode_len_mean": 724.19, "episodes_this_iter": 92, "episode_reward_max": 821.2465473778783, "custom_metrics": {"cost2_min": -176.2612843439265, "system_level_velocity_min": 9.657649254864541, "cost2_max": -71.9749467315549, "cost2_mean": -125.9313536941423, "cost1_mean": 331.2948346515582, "outflow_rate_mean": 936.5046845763408, "cost1_max": 428.7068593822942, "system_level_velocity_mean": 12.436460358705181, "cost1_min": 110.34898553640613, "outflow_rate_max": 1189.4464770144689, "outflow_rate_min": 416.59907564666446, "system_level_velocity_max": 15.179360174960621}, "hostname": "flow-main", "episode_reward_mean": 650.273220362931, "training_iteration": 235, "timesteps_since_restore": 5354877, "timesteps_total": 26715110, "time_this_iter_s": 63.27699947357178, "node_ip": "10.138.0.2", "policy_reward_mean": {}}
{"time_total_s": 9853.147896766663, "time_since_restore": 2170.225717306137, "episode_reward_min": 210.8012809726685, "timestamp": 1557374715, "episodes_total": 16655, "iterations_since_restore": 36, "pid": 9951, "num_metric_batches_dropped": 0, "config": {"train_batch_size": 90000, "env": "MultiWaveAttenuationMergePOEnvBufferedObs-v0no_random_eta3:0", "horizon": 1500, "sample_batch_size": 750, "observation_filter": "MeanStdFilter", "log_level": "INFO", "simple_optimizer": false, "monitor": false, "batch_mode": "truncate_episodes", "lambda": 0.97, "sample_async": false, "input_evaluation": null, "clip_actions": false, "env_config": {"run": "PPO", "flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.3,\n            \"eta3\": 0.1,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 10.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 600,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}"}, "kl_target": 0.01, "num_cpus_per_worker": 1, "preprocessor_pref": "deepmind", "num_cpus_for_driver": 1, "output_max_file_size": 67108864, "lr": 0.0005, "entropy_coeff": 0.0, "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "num_sgd_iter": 10, "clip_param": 0.3, "tf_session_args": {"log_device_placement": false, "inter_op_parallelism_threads": 2, "allow_soft_placement": true, "gpu_options": {"allow_growth": true}, "intra_op_parallelism_threads": 2, "device_count": {"CPU": 1}}, "model": {"max_seq_len": 20, "channel_major": false, "conv_filters": null, "free_log_std": false, "lstm_cell_size": 256, "dim": 84, "zero_mean": true, "framestack": true, "lstm_use_prev_action_reward": false, "squash_to_range": false, "use_lstm": false, "custom_options": {}, "grayscale": false, "custom_preprocessor": null, "conv_activation": "relu", "fcnet_hiddens": [128, 64, 32], "custom_model": null, "fcnet_activation": "tanh"}, "output": null, "optimizer": {}, "num_gpus_per_worker": 0, "num_workers": 60, "use_gae": true, "lr_schedule": null, "multiagent": {"policies_to_train": null, "policy_mapping_fn": null, "policy_graphs": {}}, "vf_loss_coeff": 1.0, "kl_coeff": 0.2, "num_gpus": 0, "compress_observations": false, "num_envs_per_worker": 1, "collect_metrics_timeout": 180, "straggler_mitigation": false, "custom_resources_per_worker": {}, "input": "sampler", "vf_share_layers": false, "sgd_minibatch_size": 128, "output_compress_columns": ["obs", "new_obs"], "vf_clip_param": 1000000.0, "synchronize_filters": true, "callbacks": {"on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7fd2635f2eb8>", "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7fd2635f2a90>", "on_train_result": null, "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7fd2635f26a0>", "on_sample_end": null}, "gamma": 0.99, "clip_rewards": null}, "experiment_id": "9b178520507b4656ac608c6ff2056ff7", "timesteps_this_iter": 160953, "info": {"sample_time_ms": 26481.462, "num_steps_trained": 26876063, "update_time_ms": 11.021, "num_steps_sampled": 26876063, "grad_time_ms": 35747.745, "load_time_ms": 74.18, "default": {"kl": 0.011817827820777893, "vf_loss": 34.8991584777832, "vf_explained_var": 0.7828553318977356, "cur_kl_coeff": 0.44999995827674866, "total_loss": 34.89719772338867, "policy_loss": -0.007277322467416525, "cur_lr": 0.0005000000237487257, "entropy": 2.4288482666015625}}, "date": "2019-05-09_04-05-15", "done": false, "episode_len_mean": 737.08, "episodes_this_iter": 91, "episode_reward_max": 804.6864857620277, "custom_metrics": {"cost2_min": -178.9879286369519, "system_level_velocity_min": 9.660685072581487, "cost2_max": -76.23681423397475, "cost2_mean": -129.92252393496568, "cost1_mean": 344.74305101065147, "outflow_rate_mean": 970.7852196674918, "cost1_max": 421.42726736302654, "system_level_velocity_mean": 12.707149326285286, "cost1_min": 119.13222374370072, "outflow_rate_max": 1160.4697548469373, "outflow_rate_min": 445.64447068960425, "system_level_velocity_max": 15.200916828906715}, "hostname": "flow-main", "episode_reward_mean": 675.4390865684932, "training_iteration": 236, "timesteps_since_restore": 5515830, "timesteps_total": 26876063, "time_this_iter_s": 62.85226821899414, "node_ip": "10.138.0.2", "policy_reward_mean": {}}
{"time_total_s": 9918.77712893486, "time_since_restore": 2235.8549494743347, "episode_reward_min": 189.40105385616778, "timestamp": 1557374781, "episodes_total": 16746, "iterations_since_restore": 37, "pid": 9951, "num_metric_batches_dropped": 0, "config": {"train_batch_size": 90000, "env": "MultiWaveAttenuationMergePOEnvBufferedObs-v0no_random_eta3:0", "horizon": 1500, "sample_batch_size": 750, "observation_filter": "MeanStdFilter", "log_level": "INFO", "simple_optimizer": false, "monitor": false, "batch_mode": "truncate_episodes", "lambda": 0.97, "sample_async": false, "input_evaluation": null, "clip_actions": false, "env_config": {"run": "PPO", "flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.3,\n            \"eta3\": 0.1,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 10.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 600,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}"}, "kl_target": 0.01, "num_cpus_per_worker": 1, "preprocessor_pref": "deepmind", "num_cpus_for_driver": 1, "output_max_file_size": 67108864, "lr": 0.0005, "entropy_coeff": 0.0, "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "num_sgd_iter": 10, "clip_param": 0.3, "tf_session_args": {"log_device_placement": false, "inter_op_parallelism_threads": 2, "allow_soft_placement": true, "gpu_options": {"allow_growth": true}, "intra_op_parallelism_threads": 2, "device_count": {"CPU": 1}}, "model": {"max_seq_len": 20, "channel_major": false, "conv_filters": null, "free_log_std": false, "lstm_cell_size": 256, "dim": 84, "zero_mean": true, "framestack": true, "lstm_use_prev_action_reward": false, "squash_to_range": false, "use_lstm": false, "custom_options": {}, "grayscale": false, "custom_preprocessor": null, "conv_activation": "relu", "fcnet_hiddens": [128, 64, 32], "custom_model": null, "fcnet_activation": "tanh"}, "output": null, "optimizer": {}, "num_gpus_per_worker": 0, "num_workers": 60, "use_gae": true, "lr_schedule": null, "multiagent": {"policies_to_train": null, "policy_mapping_fn": null, "policy_graphs": {}}, "vf_loss_coeff": 1.0, "kl_coeff": 0.2, "num_gpus": 0, "compress_observations": false, "num_envs_per_worker": 1, "collect_metrics_timeout": 180, "straggler_mitigation": false, "custom_resources_per_worker": {}, "input": "sampler", "vf_share_layers": false, "sgd_minibatch_size": 128, "output_compress_columns": ["obs", "new_obs"], "vf_clip_param": 1000000.0, "synchronize_filters": true, "callbacks": {"on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7fd2636164a8>", "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7fd263616518>", "on_train_result": null, "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7fd263616d68>", "on_sample_end": null}, "gamma": 0.99, "clip_rewards": null}, "experiment_id": "9b178520507b4656ac608c6ff2056ff7", "timesteps_this_iter": 166188, "info": {"sample_time_ms": 26640.478, "num_steps_trained": 27042251, "update_time_ms": 11.012, "num_steps_sampled": 27042251, "grad_time_ms": 36017.507, "load_time_ms": 68.367, "default": {"kl": 0.011739798821508884, "vf_loss": 31.629501342773438, "vf_explained_var": 0.7987157702445984, "cur_kl_coeff": 0.44999998807907104, "total_loss": 31.627208709716797, "policy_loss": -0.007578227669000626, "cur_lr": 0.0005000000237487257, "entropy": 2.470787763595581}}, "date": "2019-05-09_04-06-21", "done": false, "episode_len_mean": 724.03, "episodes_this_iter": 91, "episode_reward_max": 819.6649669757121, "custom_metrics": {"cost2_min": -183.3836249598577, "system_level_velocity_min": 10.417643675841221, "cost2_max": -64.21362163267213, "cost2_mean": -131.6626456398776, "cost1_mean": 335.24141365334356, "outflow_rate_mean": 957.0420902019084, "cost1_max": 419.888734380865, "system_level_velocity_mean": 12.564437996901304, "cost1_min": 106.99582091253805, "outflow_rate_max": 1175.466278553331, "outflow_rate_min": 414.064647059846, "system_level_velocity_max": 14.950386034018681}, "hostname": "flow-main", "episode_reward_mean": 655.5110596662262, "training_iteration": 237, "timesteps_since_restore": 5682018, "timesteps_total": 27042251, "time_this_iter_s": 65.62923216819763, "node_ip": "10.138.0.2", "policy_reward_mean": {}}
{"time_total_s": 9981.771286964417, "time_since_restore": 2298.849107503891, "episode_reward_min": 188.13573415614363, "timestamp": 1557374844, "episodes_total": 16837, "iterations_since_restore": 38, "pid": 9951, "num_metric_batches_dropped": 0, "config": {"train_batch_size": 90000, "env": "MultiWaveAttenuationMergePOEnvBufferedObs-v0no_random_eta3:0", "horizon": 1500, "sample_batch_size": 750, "observation_filter": "MeanStdFilter", "log_level": "INFO", "simple_optimizer": false, "monitor": false, "batch_mode": "truncate_episodes", "lambda": 0.97, "sample_async": false, "input_evaluation": null, "clip_actions": false, "env_config": {"run": "PPO", "flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.3,\n            \"eta3\": 0.1,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 10.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 600,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}"}, "kl_target": 0.01, "num_cpus_per_worker": 1, "preprocessor_pref": "deepmind", "num_cpus_for_driver": 1, "output_max_file_size": 67108864, "lr": 0.0005, "entropy_coeff": 0.0, "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "num_sgd_iter": 10, "clip_param": 0.3, "tf_session_args": {"log_device_placement": false, "inter_op_parallelism_threads": 2, "allow_soft_placement": true, "gpu_options": {"allow_growth": true}, "intra_op_parallelism_threads": 2, "device_count": {"CPU": 1}}, "model": {"max_seq_len": 20, "channel_major": false, "conv_filters": null, "free_log_std": false, "lstm_cell_size": 256, "dim": 84, "zero_mean": true, "framestack": true, "lstm_use_prev_action_reward": false, "squash_to_range": false, "use_lstm": false, "custom_options": {}, "grayscale": false, "custom_preprocessor": null, "conv_activation": "relu", "fcnet_hiddens": [128, 64, 32], "custom_model": null, "fcnet_activation": "tanh"}, "output": null, "optimizer": {}, "num_gpus_per_worker": 0, "num_workers": 60, "use_gae": true, "lr_schedule": null, "multiagent": {"policies_to_train": null, "policy_mapping_fn": null, "policy_graphs": {}}, "vf_loss_coeff": 1.0, "kl_coeff": 0.2, "num_gpus": 0, "compress_observations": false, "num_envs_per_worker": 1, "collect_metrics_timeout": 180, "straggler_mitigation": false, "custom_resources_per_worker": {}, "input": "sampler", "vf_share_layers": false, "sgd_minibatch_size": 128, "output_compress_columns": ["obs", "new_obs"], "vf_clip_param": 1000000.0, "synchronize_filters": true, "callbacks": {"on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7fd2635f2fd0>", "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7fd2635f2780>", "on_train_result": null, "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7fd2635f2a58>", "on_sample_end": null}, "gamma": 0.99, "clip_rewards": null}, "experiment_id": "9b178520507b4656ac608c6ff2056ff7", "timesteps_this_iter": 159414, "info": {"sample_time_ms": 26693.35, "num_steps_trained": 27201665, "update_time_ms": 11.13, "num_steps_sampled": 27201665, "grad_time_ms": 36110.683, "load_time_ms": 63.519, "default": {"kl": 0.01145070232450962, "vf_loss": 30.99799919128418, "vf_explained_var": 0.7881346940994263, "cur_kl_coeff": 0.44999998807907104, "total_loss": 30.995845794677734, "policy_loss": -0.00730593828484416, "cur_lr": 0.0005000000237487257, "entropy": 2.4175803661346436}}, "date": "2019-05-09_04-07-24", "done": false, "episode_len_mean": 730.22, "episodes_this_iter": 91, "episode_reward_max": 815.010486282281, "custom_metrics": {"cost2_min": -177.53358436632396, "system_level_velocity_min": 10.26496322718242, "cost2_max": -64.21362163267213, "cost2_mean": -129.67095266404536, "cost1_mean": 341.5025152585385, "outflow_rate_mean": 965.8572648796819, "cost1_max": 419.888734380865, "system_level_velocity_mean": 12.680471110274734, "cost1_min": 105.42441630245705, "outflow_rate_max": 1175.466278553331, "outflow_rate_min": 413.87372095098823, "system_level_velocity_max": 14.92899698244096}, "hostname": "flow-main", "episode_reward_mean": 668.5182305349537, "training_iteration": 238, "timesteps_since_restore": 5841432, "timesteps_total": 27201665, "time_this_iter_s": 62.994158029556274, "node_ip": "10.138.0.2", "policy_reward_mean": {}}
{"time_total_s": 10046.735336065292, "time_since_restore": 2363.813156604767, "episode_reward_min": 62.434559193654934, "timestamp": 1557374909, "episodes_total": 16925, "iterations_since_restore": 39, "pid": 9951, "num_metric_batches_dropped": 0, "config": {"train_batch_size": 90000, "env": "MultiWaveAttenuationMergePOEnvBufferedObs-v0no_random_eta3:0", "horizon": 1500, "sample_batch_size": 750, "observation_filter": "MeanStdFilter", "log_level": "INFO", "simple_optimizer": false, "monitor": false, "batch_mode": "truncate_episodes", "lambda": 0.97, "sample_async": false, "input_evaluation": null, "clip_actions": false, "env_config": {"run": "PPO", "flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.3,\n            \"eta3\": 0.1,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 10.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 600,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}"}, "kl_target": 0.01, "num_cpus_per_worker": 1, "preprocessor_pref": "deepmind", "num_cpus_for_driver": 1, "output_max_file_size": 67108864, "lr": 0.0005, "entropy_coeff": 0.0, "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "num_sgd_iter": 10, "clip_param": 0.3, "tf_session_args": {"log_device_placement": false, "inter_op_parallelism_threads": 2, "allow_soft_placement": true, "gpu_options": {"allow_growth": true}, "intra_op_parallelism_threads": 2, "device_count": {"CPU": 1}}, "model": {"max_seq_len": 20, "channel_major": false, "conv_filters": null, "free_log_std": false, "lstm_cell_size": 256, "dim": 84, "zero_mean": true, "framestack": true, "lstm_use_prev_action_reward": false, "squash_to_range": false, "use_lstm": false, "custom_options": {}, "grayscale": false, "custom_preprocessor": null, "conv_activation": "relu", "fcnet_hiddens": [128, 64, 32], "custom_model": null, "fcnet_activation": "tanh"}, "output": null, "optimizer": {}, "num_gpus_per_worker": 0, "num_workers": 60, "use_gae": true, "lr_schedule": null, "multiagent": {"policies_to_train": null, "policy_mapping_fn": null, "policy_graphs": {}}, "vf_loss_coeff": 1.0, "kl_coeff": 0.2, "num_gpus": 0, "compress_observations": false, "num_envs_per_worker": 1, "collect_metrics_timeout": 180, "straggler_mitigation": false, "custom_resources_per_worker": {}, "input": "sampler", "vf_share_layers": false, "sgd_minibatch_size": 128, "output_compress_columns": ["obs", "new_obs"], "vf_clip_param": 1000000.0, "synchronize_filters": true, "callbacks": {"on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7fd263616320>", "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7fd263616198>", "on_train_result": null, "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7fd263616898>", "on_sample_end": null}, "gamma": 0.99, "clip_rewards": null}, "experiment_id": "9b178520507b4656ac608c6ff2056ff7", "timesteps_this_iter": 166065, "info": {"sample_time_ms": 26774.386, "num_steps_trained": 27367730, "update_time_ms": 11.037, "num_steps_sampled": 27367730, "grad_time_ms": 36230.932, "load_time_ms": 59.156, "default": {"kl": 0.011162052862346172, "vf_loss": 32.54264831542969, "vf_explained_var": 0.80162113904953, "cur_kl_coeff": 0.45000001788139343, "total_loss": 32.54143524169922, "policy_loss": -0.006231856532394886, "cur_lr": 0.0005000000237487257, "entropy": 2.4650726318359375}}, "date": "2019-05-09_04-08-29", "done": false, "episode_len_mean": 733.67, "episodes_this_iter": 88, "episode_reward_max": 793.8863983026841, "custom_metrics": {"cost2_min": -177.53358436632396, "system_level_velocity_min": 9.885834228960617, "cost2_max": -43.80574206811718, "cost2_mean": -132.50751424375568, "cost1_mean": 343.2434837658268, "outflow_rate_mean": 972.5264374870493, "cost1_max": 416.7534889967685, "system_level_velocity_mean": 12.647704529002484, "cost1_min": 47.35074286567022, "outflow_rate_max": 1147.8397643549215, "outflow_rate_min": 252.61220025429526, "system_level_velocity_max": 15.077096531966944}, "hostname": "flow-main", "episode_reward_mean": 669.6745446940342, "training_iteration": 239, "timesteps_since_restore": 6007497, "timesteps_total": 27367730, "time_this_iter_s": 64.96404910087585, "node_ip": "10.138.0.2", "policy_reward_mean": {}}
{"time_total_s": 10113.773341655731, "time_since_restore": 2430.8511621952057, "episode_reward_min": 185.72688240290466, "timestamp": 1557374976, "episodes_total": 17013, "iterations_since_restore": 40, "pid": 9951, "num_metric_batches_dropped": 0, "config": {"train_batch_size": 90000, "env": "MultiWaveAttenuationMergePOEnvBufferedObs-v0no_random_eta3:0", "horizon": 1500, "sample_batch_size": 750, "observation_filter": "MeanStdFilter", "log_level": "INFO", "simple_optimizer": false, "monitor": false, "batch_mode": "truncate_episodes", "lambda": 0.97, "sample_async": false, "input_evaluation": null, "clip_actions": false, "env_config": {"run": "PPO", "flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.3,\n            \"eta3\": 0.1,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 10.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 600,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}"}, "kl_target": 0.01, "num_cpus_per_worker": 1, "preprocessor_pref": "deepmind", "num_cpus_for_driver": 1, "output_max_file_size": 67108864, "lr": 0.0005, "entropy_coeff": 0.0, "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "num_sgd_iter": 10, "clip_param": 0.3, "tf_session_args": {"log_device_placement": false, "inter_op_parallelism_threads": 2, "allow_soft_placement": true, "gpu_options": {"allow_growth": true}, "intra_op_parallelism_threads": 2, "device_count": {"CPU": 1}}, "model": {"max_seq_len": 20, "channel_major": false, "conv_filters": null, "free_log_std": false, "lstm_cell_size": 256, "dim": 84, "zero_mean": true, "framestack": true, "lstm_use_prev_action_reward": false, "squash_to_range": false, "use_lstm": false, "custom_options": {}, "grayscale": false, "custom_preprocessor": null, "conv_activation": "relu", "fcnet_hiddens": [128, 64, 32], "custom_model": null, "fcnet_activation": "tanh"}, "output": null, "optimizer": {}, "num_gpus_per_worker": 0, "num_workers": 60, "use_gae": true, "lr_schedule": null, "multiagent": {"policies_to_train": null, "policy_mapping_fn": null, "policy_graphs": {}}, "vf_loss_coeff": 1.0, "kl_coeff": 0.2, "num_gpus": 0, "compress_observations": false, "num_envs_per_worker": 1, "collect_metrics_timeout": 180, "straggler_mitigation": false, "custom_resources_per_worker": {}, "input": "sampler", "vf_share_layers": false, "sgd_minibatch_size": 128, "output_compress_columns": ["obs", "new_obs"], "vf_clip_param": 1000000.0, "synchronize_filters": true, "callbacks": {"on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7fd2635f2a90>", "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7fd2635f2860>", "on_train_result": null, "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7fd2635f26a0>", "on_sample_end": null}, "gamma": 0.99, "clip_rewards": null}, "experiment_id": "9b178520507b4656ac608c6ff2056ff7", "timesteps_this_iter": 170654, "info": {"sample_time_ms": 26857.142, "num_steps_trained": 27538384, "update_time_ms": 11.054, "num_steps_sampled": 27538384, "grad_time_ms": 36589.428, "load_time_ms": 58.585, "default": {"kl": 0.010915229097008705, "vf_loss": 30.174530029296875, "vf_explained_var": 0.8105728030204773, "cur_kl_coeff": 0.44999998807907104, "total_loss": 30.172109603881836, "policy_loss": -0.007334430702030659, "cur_lr": 0.0005000000237487257, "entropy": 2.51532244682312}}, "date": "2019-05-09_04-09-36", "done": false, "episode_len_mean": 730.66, "episodes_this_iter": 88, "episode_reward_max": 866.2631051767362, "custom_metrics": {"cost2_min": -190.33890643017796, "system_level_velocity_min": 9.891429676140987, "cost2_max": -73.82187796813375, "cost2_mean": -140.94534944607142, "cost1_mean": 328.9389815973092, "outflow_rate_mean": 953.2288988296616, "cost1_max": 425.4339724149562, "system_level_velocity_mean": 12.19216092093716, "cost1_min": 106.37669315612203, "outflow_rate_max": 1187.4568798412856, "outflow_rate_min": 413.57268226062376, "system_level_velocity_max": 15.193755111056497}, "hostname": "flow-main", "episode_reward_mean": 651.6752445426679, "training_iteration": 240, "timesteps_since_restore": 6178151, "timesteps_total": 27538384, "time_this_iter_s": 67.03800559043884, "node_ip": "10.138.0.2", "policy_reward_mean": {}}
{"time_total_s": 10181.184247970581, "time_since_restore": 2498.2620685100555, "episode_reward_min": 212.64873425809284, "timestamp": 1557375044, "episodes_total": 17099, "iterations_since_restore": 41, "pid": 9951, "num_metric_batches_dropped": 0, "config": {"train_batch_size": 90000, "env": "MultiWaveAttenuationMergePOEnvBufferedObs-v0no_random_eta3:0", "horizon": 1500, "sample_batch_size": 750, "observation_filter": "MeanStdFilter", "log_level": "INFO", "simple_optimizer": false, "monitor": false, "batch_mode": "truncate_episodes", "lambda": 0.97, "sample_async": false, "input_evaluation": null, "clip_actions": false, "env_config": {"run": "PPO", "flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.3,\n            \"eta3\": 0.1,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 10.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 600,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}"}, "kl_target": 0.01, "num_cpus_per_worker": 1, "preprocessor_pref": "deepmind", "num_cpus_for_driver": 1, "output_max_file_size": 67108864, "lr": 0.0005, "entropy_coeff": 0.0, "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "num_sgd_iter": 10, "clip_param": 0.3, "tf_session_args": {"log_device_placement": false, "inter_op_parallelism_threads": 2, "allow_soft_placement": true, "gpu_options": {"allow_growth": true}, "intra_op_parallelism_threads": 2, "device_count": {"CPU": 1}}, "model": {"max_seq_len": 20, "channel_major": false, "conv_filters": null, "free_log_std": false, "lstm_cell_size": 256, "dim": 84, "zero_mean": true, "framestack": true, "lstm_use_prev_action_reward": false, "squash_to_range": false, "use_lstm": false, "custom_options": {}, "grayscale": false, "custom_preprocessor": null, "conv_activation": "relu", "fcnet_hiddens": [128, 64, 32], "custom_model": null, "fcnet_activation": "tanh"}, "output": null, "optimizer": {}, "num_gpus_per_worker": 0, "num_workers": 60, "use_gae": true, "lr_schedule": null, "multiagent": {"policies_to_train": null, "policy_mapping_fn": null, "policy_graphs": {}}, "vf_loss_coeff": 1.0, "kl_coeff": 0.2, "num_gpus": 0, "compress_observations": false, "num_envs_per_worker": 1, "collect_metrics_timeout": 180, "straggler_mitigation": false, "custom_resources_per_worker": {}, "input": "sampler", "vf_share_layers": false, "sgd_minibatch_size": 128, "output_compress_columns": ["obs", "new_obs"], "vf_clip_param": 1000000.0, "synchronize_filters": true, "callbacks": {"on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7fd263616b70>", "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7fd263616c88>", "on_train_result": null, "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7fd263616080>", "on_sample_end": null}, "gamma": 0.99, "clip_rewards": null}, "experiment_id": "9b178520507b4656ac608c6ff2056ff7", "timesteps_this_iter": 164735, "info": {"sample_time_ms": 26980.871, "num_steps_trained": 27703119, "update_time_ms": 11.004, "num_steps_sampled": 27703119, "grad_time_ms": 37122.211, "load_time_ms": 51.377, "default": {"kl": 0.011499974876642227, "vf_loss": 28.767860412597656, "vf_explained_var": 0.822705864906311, "cur_kl_coeff": 0.45000001788139343, "total_loss": 28.765830993652344, "policy_loss": -0.007205691188573837, "cur_lr": 0.0005000000237487257, "entropy": 2.490926504135132}}, "date": "2019-05-09_04-10-44", "done": false, "episode_len_mean": 741.4, "episodes_this_iter": 86, "episode_reward_max": 866.2631051767362, "custom_metrics": {"cost2_min": -190.33890643017796, "system_level_velocity_min": 10.328978677968903, "cost2_max": -92.39669786859716, "cost2_mean": -140.95722601599354, "cost1_mean": 341.12153816685384, "outflow_rate_mean": 978.0027722965533, "cost1_max": 429.81982886262415, "system_level_velocity_mean": 12.452524074068199, "cost1_min": 117.80882711853336, "outflow_rate_max": 1187.4568798412856, "outflow_rate_min": 426.59136939208236, "system_level_velocity_max": 15.28208541844987}, "hostname": "flow-main", "episode_reward_mean": 667.5344861608797, "training_iteration": 241, "timesteps_since_restore": 6342886, "timesteps_total": 27703119, "time_this_iter_s": 67.41090631484985, "node_ip": "10.138.0.2", "policy_reward_mean": {}}
{"time_total_s": 10247.348953008652, "time_since_restore": 2564.426773548126, "episode_reward_min": 191.67849030591904, "timestamp": 1557375110, "episodes_total": 17187, "iterations_since_restore": 42, "pid": 9951, "num_metric_batches_dropped": 0, "config": {"train_batch_size": 90000, "env": "MultiWaveAttenuationMergePOEnvBufferedObs-v0no_random_eta3:0", "horizon": 1500, "sample_batch_size": 750, "observation_filter": "MeanStdFilter", "log_level": "INFO", "simple_optimizer": false, "monitor": false, "batch_mode": "truncate_episodes", "lambda": 0.97, "sample_async": false, "input_evaluation": null, "clip_actions": false, "env_config": {"run": "PPO", "flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.3,\n            \"eta3\": 0.1,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 10.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 600,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}"}, "kl_target": 0.01, "num_cpus_per_worker": 1, "preprocessor_pref": "deepmind", "num_cpus_for_driver": 1, "output_max_file_size": 67108864, "lr": 0.0005, "entropy_coeff": 0.0, "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "num_sgd_iter": 10, "clip_param": 0.3, "tf_session_args": {"log_device_placement": false, "inter_op_parallelism_threads": 2, "allow_soft_placement": true, "gpu_options": {"allow_growth": true}, "intra_op_parallelism_threads": 2, "device_count": {"CPU": 1}}, "model": {"max_seq_len": 20, "channel_major": false, "conv_filters": null, "free_log_std": false, "lstm_cell_size": 256, "dim": 84, "zero_mean": true, "framestack": true, "lstm_use_prev_action_reward": false, "squash_to_range": false, "use_lstm": false, "custom_options": {}, "grayscale": false, "custom_preprocessor": null, "conv_activation": "relu", "fcnet_hiddens": [128, 64, 32], "custom_model": null, "fcnet_activation": "tanh"}, "output": null, "optimizer": {}, "num_gpus_per_worker": 0, "num_workers": 60, "use_gae": true, "lr_schedule": null, "multiagent": {"policies_to_train": null, "policy_mapping_fn": null, "policy_graphs": {}}, "vf_loss_coeff": 1.0, "kl_coeff": 0.2, "num_gpus": 0, "compress_observations": false, "num_envs_per_worker": 1, "collect_metrics_timeout": 180, "straggler_mitigation": false, "custom_resources_per_worker": {}, "input": "sampler", "vf_share_layers": false, "sgd_minibatch_size": 128, "output_compress_columns": ["obs", "new_obs"], "vf_clip_param": 1000000.0, "synchronize_filters": true, "callbacks": {"on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7fd2635f2a20>", "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7fd2635f2f98>", "on_train_result": null, "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7fd2635f27f0>", "on_sample_end": null}, "gamma": 0.99, "clip_rewards": null}, "experiment_id": "9b178520507b4656ac608c6ff2056ff7", "timesteps_this_iter": 167629, "info": {"sample_time_ms": 27033.39, "num_steps_trained": 27870748, "update_time_ms": 11.033, "num_steps_sampled": 27870748, "grad_time_ms": 37472.921, "load_time_ms": 48.426, "default": {"kl": 0.011001389473676682, "vf_loss": 30.367958068847656, "vf_explained_var": 0.8222290873527527, "cur_kl_coeff": 0.4500000476837158, "total_loss": 30.366119384765625, "policy_loss": -0.00678407633677125, "cur_lr": 0.0005000000237487257, "entropy": 2.5086541175842285}}, "date": "2019-05-09_04-11-50", "done": false, "episode_len_mean": 741.34, "episodes_this_iter": 88, "episode_reward_max": 845.1409626959913, "custom_metrics": {"cost2_min": -181.5273496457558, "system_level_velocity_min": 10.379461031433943, "cost2_max": -83.29699563861232, "cost2_mean": -141.08330689721979, "cost1_mean": 338.69972408019805, "outflow_rate_mean": 976.5744944552476, "cost1_max": 431.084714186474, "system_level_velocity_mean": 12.376375457546667, "cost1_min": 109.03708954406761, "outflow_rate_max": 1192.8838084945219, "outflow_rate_min": 415.27408356539274, "system_level_velocity_max": 15.335811215946894}, "hostname": "flow-main", "episode_reward_mean": 663.07394856065, "training_iteration": 242, "timesteps_since_restore": 6510515, "timesteps_total": 27870748, "time_this_iter_s": 66.16470503807068, "node_ip": "10.138.0.2", "policy_reward_mean": {}}
{"time_total_s": 10313.08486032486, "time_since_restore": 2630.162680864334, "episode_reward_min": 180.39359091733576, "timestamp": 1557375176, "episodes_total": 17278, "iterations_since_restore": 43, "pid": 9951, "num_metric_batches_dropped": 0, "config": {"train_batch_size": 90000, "env": "MultiWaveAttenuationMergePOEnvBufferedObs-v0no_random_eta3:0", "horizon": 1500, "sample_batch_size": 750, "observation_filter": "MeanStdFilter", "log_level": "INFO", "simple_optimizer": false, "monitor": false, "batch_mode": "truncate_episodes", "lambda": 0.97, "sample_async": false, "input_evaluation": null, "clip_actions": false, "env_config": {"run": "PPO", "flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.3,\n            \"eta3\": 0.1,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 10.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 600,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}"}, "kl_target": 0.01, "num_cpus_per_worker": 1, "preprocessor_pref": "deepmind", "num_cpus_for_driver": 1, "output_max_file_size": 67108864, "lr": 0.0005, "entropy_coeff": 0.0, "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "num_sgd_iter": 10, "clip_param": 0.3, "tf_session_args": {"log_device_placement": false, "inter_op_parallelism_threads": 2, "allow_soft_placement": true, "gpu_options": {"allow_growth": true}, "intra_op_parallelism_threads": 2, "device_count": {"CPU": 1}}, "model": {"max_seq_len": 20, "channel_major": false, "conv_filters": null, "free_log_std": false, "lstm_cell_size": 256, "dim": 84, "zero_mean": true, "framestack": true, "lstm_use_prev_action_reward": false, "squash_to_range": false, "use_lstm": false, "custom_options": {}, "grayscale": false, "custom_preprocessor": null, "conv_activation": "relu", "fcnet_hiddens": [128, 64, 32], "custom_model": null, "fcnet_activation": "tanh"}, "output": null, "optimizer": {}, "num_gpus_per_worker": 0, "num_workers": 60, "use_gae": true, "lr_schedule": null, "multiagent": {"policies_to_train": null, "policy_mapping_fn": null, "policy_graphs": {}}, "vf_loss_coeff": 1.0, "kl_coeff": 0.2, "num_gpus": 0, "compress_observations": false, "num_envs_per_worker": 1, "collect_metrics_timeout": 180, "straggler_mitigation": false, "custom_resources_per_worker": {}, "input": "sampler", "vf_share_layers": false, "sgd_minibatch_size": 128, "output_compress_columns": ["obs", "new_obs"], "vf_clip_param": 1000000.0, "synchronize_filters": true, "callbacks": {"on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7fd2636165c0>", "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7fd2636162e8>", "on_train_result": null, "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7fd263616438>", "on_sample_end": null}, "gamma": 0.99, "clip_rewards": null}, "experiment_id": "9b178520507b4656ac608c6ff2056ff7", "timesteps_this_iter": 165093, "info": {"sample_time_ms": 27138.888, "num_steps_trained": 28035841, "update_time_ms": 10.919, "num_steps_sampled": 28035841, "grad_time_ms": 37616.368, "load_time_ms": 43.794, "default": {"kl": 0.011356220580637455, "vf_loss": 30.455039978027344, "vf_explained_var": 0.8167325258255005, "cur_kl_coeff": 0.44999998807907104, "total_loss": 30.45317268371582, "policy_loss": -0.006974364630877972, "cur_lr": 0.0005000000237487257, "entropy": 2.482663154602051}}, "date": "2019-05-09_04-12-56", "done": false, "episode_len_mean": 726.39, "episodes_this_iter": 91, "episode_reward_max": 822.4667624545493, "custom_metrics": {"cost2_min": -178.28638476736552, "system_level_velocity_min": 10.449934560644916, "cost2_max": -59.4459893462151, "cost2_mean": -141.76027665807553, "cost1_mean": 339.96666640061466, "outflow_rate_mean": 977.9450014204428, "cost1_max": 432.5941738784294, "system_level_velocity_mean": 12.671557790427554, "cost1_min": 103.91073431338393, "outflow_rate_max": 1185.7825808997918, "outflow_rate_min": 415.78412547360847, "system_level_velocity_max": 15.471846394787798}, "hostname": "flow-main", "episode_reward_mean": 661.7852700142752, "training_iteration": 243, "timesteps_since_restore": 6675608, "timesteps_total": 28035841, "time_this_iter_s": 65.73590731620789, "node_ip": "10.138.0.2", "policy_reward_mean": {}}
{"time_total_s": 10377.274423122406, "time_since_restore": 2694.3522436618805, "episode_reward_min": 179.54507825383746, "timestamp": 1557375240, "episodes_total": 17365, "iterations_since_restore": 44, "pid": 9951, "num_metric_batches_dropped": 0, "config": {"train_batch_size": 90000, "env": "MultiWaveAttenuationMergePOEnvBufferedObs-v0no_random_eta3:0", "horizon": 1500, "sample_batch_size": 750, "observation_filter": "MeanStdFilter", "log_level": "INFO", "simple_optimizer": false, "monitor": false, "batch_mode": "truncate_episodes", "lambda": 0.97, "sample_async": false, "input_evaluation": null, "clip_actions": false, "env_config": {"run": "PPO", "flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.3,\n            \"eta3\": 0.1,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 10.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 600,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}"}, "kl_target": 0.01, "num_cpus_per_worker": 1, "preprocessor_pref": "deepmind", "num_cpus_for_driver": 1, "output_max_file_size": 67108864, "lr": 0.0005, "entropy_coeff": 0.0, "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "num_sgd_iter": 10, "clip_param": 0.3, "tf_session_args": {"log_device_placement": false, "inter_op_parallelism_threads": 2, "allow_soft_placement": true, "gpu_options": {"allow_growth": true}, "intra_op_parallelism_threads": 2, "device_count": {"CPU": 1}}, "model": {"max_seq_len": 20, "channel_major": false, "conv_filters": null, "free_log_std": false, "lstm_cell_size": 256, "dim": 84, "zero_mean": true, "framestack": true, "lstm_use_prev_action_reward": false, "squash_to_range": false, "use_lstm": false, "custom_options": {}, "grayscale": false, "custom_preprocessor": null, "conv_activation": "relu", "fcnet_hiddens": [128, 64, 32], "custom_model": null, "fcnet_activation": "tanh"}, "output": null, "optimizer": {}, "num_gpus_per_worker": 0, "num_workers": 60, "use_gae": true, "lr_schedule": null, "multiagent": {"policies_to_train": null, "policy_mapping_fn": null, "policy_graphs": {}}, "vf_loss_coeff": 1.0, "kl_coeff": 0.2, "num_gpus": 0, "compress_observations": false, "num_envs_per_worker": 1, "collect_metrics_timeout": 180, "straggler_mitigation": false, "custom_resources_per_worker": {}, "input": "sampler", "vf_share_layers": false, "sgd_minibatch_size": 128, "output_compress_columns": ["obs", "new_obs"], "vf_clip_param": 1000000.0, "synchronize_filters": true, "callbacks": {"on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7fd263616eb8>", "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7fd263616ef0>", "on_train_result": null, "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7fd263616198>", "on_sample_end": null}, "gamma": 0.99, "clip_rewards": null}, "experiment_id": "9b178520507b4656ac608c6ff2056ff7", "timesteps_this_iter": 169288, "info": {"sample_time_ms": 27090.324, "num_steps_trained": 28205129, "update_time_ms": 10.968, "num_steps_sampled": 28205129, "grad_time_ms": 37569.01, "load_time_ms": 40.17, "default": {"kl": 0.011430349200963974, "vf_loss": 30.143884658813477, "vf_explained_var": 0.8258889317512512, "cur_kl_coeff": 0.45000001788139343, "total_loss": 30.142351150512695, "policy_loss": -0.006676382385194302, "cur_lr": 0.0005000000237487257, "entropy": 2.5200588703155518}}, "date": "2019-05-09_04-14-00", "done": false, "episode_len_mean": 721.21, "episodes_this_iter": 87, "episode_reward_max": 896.8591435134492, "custom_metrics": {"cost2_min": -190.55473035306647, "system_level_velocity_min": 9.257031800438208, "cost2_max": -65.02828437521002, "cost2_mean": -141.02932981989716, "cost1_mean": 338.96108772936407, "outflow_rate_mean": 976.5445403586025, "cost1_max": 448.1582253995275, "system_level_velocity_mean": 12.747759938532537, "cost1_min": 102.22589245209505, "outflow_rate_max": 1230.9966425550704, "outflow_rate_min": 417.11314062704986, "system_level_velocity_max": 15.833554410230144}, "hostname": "flow-main", "episode_reward_mean": 659.0732252387722, "training_iteration": 244, "timesteps_since_restore": 6844896, "timesteps_total": 28205129, "time_this_iter_s": 64.18956279754639, "node_ip": "10.138.0.2", "policy_reward_mean": {}}
{"time_total_s": 10442.30185842514, "time_since_restore": 2759.379678964615, "episode_reward_min": 192.36788784123095, "timestamp": 1557375305, "episodes_total": 17451, "iterations_since_restore": 45, "pid": 9951, "num_metric_batches_dropped": 0, "config": {"train_batch_size": 90000, "env": "MultiWaveAttenuationMergePOEnvBufferedObs-v0no_random_eta3:0", "horizon": 1500, "sample_batch_size": 750, "observation_filter": "MeanStdFilter", "log_level": "INFO", "simple_optimizer": false, "monitor": false, "batch_mode": "truncate_episodes", "lambda": 0.97, "sample_async": false, "input_evaluation": null, "clip_actions": false, "env_config": {"run": "PPO", "flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.3,\n            \"eta3\": 0.1,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 10.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 600,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}"}, "kl_target": 0.01, "num_cpus_per_worker": 1, "preprocessor_pref": "deepmind", "num_cpus_for_driver": 1, "output_max_file_size": 67108864, "lr": 0.0005, "entropy_coeff": 0.0, "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "num_sgd_iter": 10, "clip_param": 0.3, "tf_session_args": {"log_device_placement": false, "inter_op_parallelism_threads": 2, "allow_soft_placement": true, "gpu_options": {"allow_growth": true}, "intra_op_parallelism_threads": 2, "device_count": {"CPU": 1}}, "model": {"max_seq_len": 20, "channel_major": false, "conv_filters": null, "free_log_std": false, "lstm_cell_size": 256, "dim": 84, "zero_mean": true, "framestack": true, "lstm_use_prev_action_reward": false, "squash_to_range": false, "use_lstm": false, "custom_options": {}, "grayscale": false, "custom_preprocessor": null, "conv_activation": "relu", "fcnet_hiddens": [128, 64, 32], "custom_model": null, "fcnet_activation": "tanh"}, "output": null, "optimizer": {}, "num_gpus_per_worker": 0, "num_workers": 60, "use_gae": true, "lr_schedule": null, "multiagent": {"policies_to_train": null, "policy_mapping_fn": null, "policy_graphs": {}}, "vf_loss_coeff": 1.0, "kl_coeff": 0.2, "num_gpus": 0, "compress_observations": false, "num_envs_per_worker": 1, "collect_metrics_timeout": 180, "straggler_mitigation": false, "custom_resources_per_worker": {}, "input": "sampler", "vf_share_layers": false, "sgd_minibatch_size": 128, "output_compress_columns": ["obs", "new_obs"], "vf_clip_param": 1000000.0, "synchronize_filters": true, "callbacks": {"on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7fd263616828>", "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7fd2636165f8>", "on_train_result": null, "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7fd2635f2780>", "on_sample_end": null}, "gamma": 0.99, "clip_rewards": null}, "experiment_id": "9b178520507b4656ac608c6ff2056ff7", "timesteps_this_iter": 168857, "info": {"sample_time_ms": 27127.956, "num_steps_trained": 28373986, "update_time_ms": 10.986, "num_steps_sampled": 28373986, "grad_time_ms": 37714.098, "load_time_ms": 32.843, "default": {"kl": 0.011235516518354416, "vf_loss": 30.347665786743164, "vf_explained_var": 0.8334800004959106, "cur_kl_coeff": 0.4500000476837158, "total_loss": 30.346208572387695, "policy_loss": -0.006511941086500883, "cur_lr": 0.0005000000237487257, "entropy": 2.5267136096954346}}, "date": "2019-05-09_04-15-05", "done": false, "episode_len_mean": 735.27, "episodes_this_iter": 86, "episode_reward_max": 828.214185681681, "custom_metrics": {"cost2_min": -180.1193812724065, "system_level_velocity_min": 10.329950899327761, "cost2_max": -74.49611852076917, "cost2_mean": -147.496582038095, "cost1_mean": 341.0610728697913, "outflow_rate_mean": 987.7590151981453, "cost1_max": 434.28553381566246, "system_level_velocity_mean": 12.560013537456761, "cost1_min": 108.41731953305401, "outflow_rate_max": 1184.8722307614642, "outflow_rate_min": 417.6052222944651, "system_level_velocity_max": 15.634421175758842}, "hostname": "flow-main", "episode_reward_mean": 662.6220593630103, "training_iteration": 245, "timesteps_since_restore": 7013753, "timesteps_total": 28373986, "time_this_iter_s": 65.02743530273438, "node_ip": "10.138.0.2", "policy_reward_mean": {}}
{"time_total_s": 10508.718083620071, "time_since_restore": 2825.795904159546, "episode_reward_min": 191.2765377895598, "timestamp": 1557375372, "episodes_total": 17540, "iterations_since_restore": 46, "pid": 9951, "num_metric_batches_dropped": 0, "config": {"train_batch_size": 90000, "env": "MultiWaveAttenuationMergePOEnvBufferedObs-v0no_random_eta3:0", "horizon": 1500, "sample_batch_size": 750, "observation_filter": "MeanStdFilter", "log_level": "INFO", "simple_optimizer": false, "monitor": false, "batch_mode": "truncate_episodes", "lambda": 0.97, "sample_async": false, "input_evaluation": null, "clip_actions": false, "env_config": {"run": "PPO", "flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.3,\n            \"eta3\": 0.1,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 10.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 600,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}"}, "kl_target": 0.01, "num_cpus_per_worker": 1, "preprocessor_pref": "deepmind", "num_cpus_for_driver": 1, "output_max_file_size": 67108864, "lr": 0.0005, "entropy_coeff": 0.0, "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "num_sgd_iter": 10, "clip_param": 0.3, "tf_session_args": {"log_device_placement": false, "inter_op_parallelism_threads": 2, "allow_soft_placement": true, "gpu_options": {"allow_growth": true}, "intra_op_parallelism_threads": 2, "device_count": {"CPU": 1}}, "model": {"max_seq_len": 20, "channel_major": false, "conv_filters": null, "free_log_std": false, "lstm_cell_size": 256, "dim": 84, "zero_mean": true, "framestack": true, "lstm_use_prev_action_reward": false, "squash_to_range": false, "use_lstm": false, "custom_options": {}, "grayscale": false, "custom_preprocessor": null, "conv_activation": "relu", "fcnet_hiddens": [128, 64, 32], "custom_model": null, "fcnet_activation": "tanh"}, "output": null, "optimizer": {}, "num_gpus_per_worker": 0, "num_workers": 60, "use_gae": true, "lr_schedule": null, "multiagent": {"policies_to_train": null, "policy_mapping_fn": null, "policy_graphs": {}}, "vf_loss_coeff": 1.0, "kl_coeff": 0.2, "num_gpus": 0, "compress_observations": false, "num_envs_per_worker": 1, "collect_metrics_timeout": 180, "straggler_mitigation": false, "custom_resources_per_worker": {}, "input": "sampler", "vf_share_layers": false, "sgd_minibatch_size": 128, "output_compress_columns": ["obs", "new_obs"], "vf_clip_param": 1000000.0, "synchronize_filters": true, "callbacks": {"on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7fd263616278>", "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7fd263616400>", "on_train_result": null, "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7fd263616d30>", "on_sample_end": null}, "gamma": 0.99, "clip_rewards": null}, "experiment_id": "9b178520507b4656ac608c6ff2056ff7", "timesteps_this_iter": 166694, "info": {"sample_time_ms": 27262.407, "num_steps_trained": 28540680, "update_time_ms": 10.908, "num_steps_sampled": 28540680, "grad_time_ms": 37932.764, "load_time_ms": 31.922, "default": {"kl": 0.010896378196775913, "vf_loss": 30.895132064819336, "vf_explained_var": 0.8272253274917603, "cur_kl_coeff": 0.45000001788139343, "total_loss": 30.89285659790039, "policy_loss": -0.007176866754889488, "cur_lr": 0.0005000000237487257, "entropy": 2.5141382217407227}}, "date": "2019-05-09_04-16-12", "done": false, "episode_len_mean": 719.41, "episodes_this_iter": 89, "episode_reward_max": 815.9588700658511, "custom_metrics": {"cost2_min": -173.36416092639988, "system_level_velocity_min": 10.38441925309258, "cost2_max": -66.55230361970753, "cost2_mean": -143.55550846284575, "cost1_mean": 334.45520767516507, "outflow_rate_mean": 967.7840178737491, "cost1_max": 429.3847267238956, "system_level_velocity_mean": 12.635416610861347, "cost1_min": 107.88234239879463, "outflow_rate_max": 1170.8782995823976, "outflow_rate_min": 411.20070261406283, "system_level_velocity_max": 15.430079850568864}, "hostname": "flow-main", "episode_reward_mean": 645.267937877667, "training_iteration": 246, "timesteps_since_restore": 7180447, "timesteps_total": 28540680, "time_this_iter_s": 66.41622519493103, "node_ip": "10.138.0.2", "policy_reward_mean": {}}
{"time_total_s": 10572.548853635788, "time_since_restore": 2889.6266741752625, "episode_reward_min": 189.1684737736603, "timestamp": 1557375435, "episodes_total": 17628, "iterations_since_restore": 47, "pid": 9951, "num_metric_batches_dropped": 0, "config": {"train_batch_size": 90000, "env": "MultiWaveAttenuationMergePOEnvBufferedObs-v0no_random_eta3:0", "horizon": 1500, "sample_batch_size": 750, "observation_filter": "MeanStdFilter", "log_level": "INFO", "simple_optimizer": false, "monitor": false, "batch_mode": "truncate_episodes", "lambda": 0.97, "sample_async": false, "input_evaluation": null, "clip_actions": false, "env_config": {"run": "PPO", "flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.3,\n            \"eta3\": 0.1,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 10.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 600,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}"}, "kl_target": 0.01, "num_cpus_per_worker": 1, "preprocessor_pref": "deepmind", "num_cpus_for_driver": 1, "output_max_file_size": 67108864, "lr": 0.0005, "entropy_coeff": 0.0, "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "num_sgd_iter": 10, "clip_param": 0.3, "tf_session_args": {"log_device_placement": false, "inter_op_parallelism_threads": 2, "allow_soft_placement": true, "gpu_options": {"allow_growth": true}, "intra_op_parallelism_threads": 2, "device_count": {"CPU": 1}}, "model": {"max_seq_len": 20, "channel_major": false, "conv_filters": null, "free_log_std": false, "lstm_cell_size": 256, "dim": 84, "zero_mean": true, "framestack": true, "lstm_use_prev_action_reward": false, "squash_to_range": false, "use_lstm": false, "custom_options": {}, "grayscale": false, "custom_preprocessor": null, "conv_activation": "relu", "fcnet_hiddens": [128, 64, 32], "custom_model": null, "fcnet_activation": "tanh"}, "output": null, "optimizer": {}, "num_gpus_per_worker": 0, "num_workers": 60, "use_gae": true, "lr_schedule": null, "multiagent": {"policies_to_train": null, "policy_mapping_fn": null, "policy_graphs": {}}, "vf_loss_coeff": 1.0, "kl_coeff": 0.2, "num_gpus": 0, "compress_observations": false, "num_envs_per_worker": 1, "collect_metrics_timeout": 180, "straggler_mitigation": false, "custom_resources_per_worker": {}, "input": "sampler", "vf_share_layers": false, "sgd_minibatch_size": 128, "output_compress_columns": ["obs", "new_obs"], "vf_clip_param": 1000000.0, "synchronize_filters": true, "callbacks": {"on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7fd2635f2860>", "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7fd2635f2550>", "on_train_result": null, "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7fd2635f2da0>", "on_sample_end": null}, "gamma": 0.99, "clip_rewards": null}, "experiment_id": "9b178520507b4656ac608c6ff2056ff7", "timesteps_this_iter": 167057, "info": {"sample_time_ms": 27177.394, "num_steps_trained": 28707737, "update_time_ms": 10.984, "num_steps_sampled": 28707737, "grad_time_ms": 37839.464, "load_time_ms": 30.724, "default": {"kl": 0.012203891761600971, "vf_loss": 30.082536697387695, "vf_explained_var": 0.8332111835479736, "cur_kl_coeff": 0.44999998807907104, "total_loss": 30.082374572753906, "policy_loss": -0.005648905877023935, "cur_lr": 0.0005000000237487257, "entropy": 2.5098206996917725}}, "date": "2019-05-09_04-17-15", "done": false, "episode_len_mean": 721.9, "episodes_this_iter": 88, "episode_reward_max": 832.9755189347958, "custom_metrics": {"cost2_min": -184.44376642171878, "system_level_velocity_min": 9.923080818209533, "cost2_max": -79.08570625304198, "cost2_mean": -145.12572190807006, "cost1_mean": 337.80590575601445, "outflow_rate_mean": 978.6430503783988, "cost1_max": 422.781644356886, "system_level_velocity_mean": 12.726339966209178, "cost1_min": 107.88234239879463, "outflow_rate_max": 1185.4061881845553, "outflow_rate_min": 411.20070261406283, "system_level_velocity_max": 15.400944498157767}, "hostname": "flow-main", "episode_reward_mean": 656.7279751177845, "training_iteration": 247, "timesteps_since_restore": 7347504, "timesteps_total": 28707737, "time_this_iter_s": 63.83077001571655, "node_ip": "10.138.0.2", "policy_reward_mean": {}}
{"time_total_s": 10640.667068958282, "time_since_restore": 2957.744889497757, "episode_reward_min": 186.03205615248973, "timestamp": 1557375504, "episodes_total": 17714, "iterations_since_restore": 48, "pid": 9951, "num_metric_batches_dropped": 0, "config": {"train_batch_size": 90000, "env": "MultiWaveAttenuationMergePOEnvBufferedObs-v0no_random_eta3:0", "horizon": 1500, "sample_batch_size": 750, "observation_filter": "MeanStdFilter", "log_level": "INFO", "simple_optimizer": false, "monitor": false, "batch_mode": "truncate_episodes", "lambda": 0.97, "sample_async": false, "input_evaluation": null, "clip_actions": false, "env_config": {"run": "PPO", "flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.3,\n            \"eta3\": 0.1,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 10.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 600,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}"}, "kl_target": 0.01, "num_cpus_per_worker": 1, "preprocessor_pref": "deepmind", "num_cpus_for_driver": 1, "output_max_file_size": 67108864, "lr": 0.0005, "entropy_coeff": 0.0, "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "num_sgd_iter": 10, "clip_param": 0.3, "tf_session_args": {"log_device_placement": false, "inter_op_parallelism_threads": 2, "allow_soft_placement": true, "gpu_options": {"allow_growth": true}, "intra_op_parallelism_threads": 2, "device_count": {"CPU": 1}}, "model": {"max_seq_len": 20, "channel_major": false, "conv_filters": null, "free_log_std": false, "lstm_cell_size": 256, "dim": 84, "zero_mean": true, "framestack": true, "lstm_use_prev_action_reward": false, "squash_to_range": false, "use_lstm": false, "custom_options": {}, "grayscale": false, "custom_preprocessor": null, "conv_activation": "relu", "fcnet_hiddens": [128, 64, 32], "custom_model": null, "fcnet_activation": "tanh"}, "output": null, "optimizer": {}, "num_gpus_per_worker": 0, "num_workers": 60, "use_gae": true, "lr_schedule": null, "multiagent": {"policies_to_train": null, "policy_mapping_fn": null, "policy_graphs": {}}, "vf_loss_coeff": 1.0, "kl_coeff": 0.2, "num_gpus": 0, "compress_observations": false, "num_envs_per_worker": 1, "collect_metrics_timeout": 180, "straggler_mitigation": false, "custom_resources_per_worker": {}, "input": "sampler", "vf_share_layers": false, "sgd_minibatch_size": 128, "output_compress_columns": ["obs", "new_obs"], "vf_clip_param": 1000000.0, "synchronize_filters": true, "callbacks": {"on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7fd263616438>", "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7fd263616ef0>", "on_train_result": null, "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7fd263616080>", "on_sample_end": null}, "gamma": 0.99, "clip_rewards": null}, "experiment_id": "9b178520507b4656ac608c6ff2056ff7", "timesteps_this_iter": 171514, "info": {"sample_time_ms": 27272.325, "num_steps_trained": 28879251, "update_time_ms": 10.949, "num_steps_sampled": 28879251, "grad_time_ms": 38252.899, "load_time_ms": 28.727, "default": {"kl": 0.01146673783659935, "vf_loss": 29.757287979125977, "vf_explained_var": 0.8387690186500549, "cur_kl_coeff": 0.44999998807907104, "total_loss": 29.75555992126465, "policy_loss": -0.0068864403292536736, "cur_lr": 0.0005000000237487257, "entropy": 2.5344746112823486}}, "date": "2019-05-09_04-18-24", "done": false, "episode_len_mean": 736.99, "episodes_this_iter": 86, "episode_reward_max": 866.0600379055315, "custom_metrics": {"cost2_min": -189.10839393815652, "system_level_velocity_min": 10.694580410264983, "cost2_max": -74.62444391476629, "cost2_mean": -147.10339429031967, "cost1_mean": 345.58293410617074, "outflow_rate_mean": 994.6613503032672, "cost1_max": 429.4527874387337, "system_level_velocity_mean": 12.718561272031343, "cost1_min": 107.77660138865465, "outflow_rate_max": 1197.0016925030886, "outflow_rate_min": 412.1003336511442, "system_level_velocity_max": 15.54620235586827}, "hostname": "flow-main", "episode_reward_mean": 674.1711524000082, "training_iteration": 248, "timesteps_since_restore": 7519018, "timesteps_total": 28879251, "time_this_iter_s": 68.1182153224945, "node_ip": "10.138.0.2", "policy_reward_mean": {}}
{"time_total_s": 10708.154638290405, "time_since_restore": 3025.2324588298798, "episode_reward_min": 177.01037569765037, "timestamp": 1557375571, "episodes_total": 17801, "iterations_since_restore": 49, "pid": 9951, "num_metric_batches_dropped": 0, "config": {"train_batch_size": 90000, "env": "MultiWaveAttenuationMergePOEnvBufferedObs-v0no_random_eta3:0", "horizon": 1500, "sample_batch_size": 750, "observation_filter": "MeanStdFilter", "log_level": "INFO", "simple_optimizer": false, "monitor": false, "batch_mode": "truncate_episodes", "lambda": 0.97, "sample_async": false, "input_evaluation": null, "clip_actions": false, "env_config": {"run": "PPO", "flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.3,\n            \"eta3\": 0.1,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 10.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 600,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}"}, "kl_target": 0.01, "num_cpus_per_worker": 1, "preprocessor_pref": "deepmind", "num_cpus_for_driver": 1, "output_max_file_size": 67108864, "lr": 0.0005, "entropy_coeff": 0.0, "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "num_sgd_iter": 10, "clip_param": 0.3, "tf_session_args": {"log_device_placement": false, "inter_op_parallelism_threads": 2, "allow_soft_placement": true, "gpu_options": {"allow_growth": true}, "intra_op_parallelism_threads": 2, "device_count": {"CPU": 1}}, "model": {"max_seq_len": 20, "channel_major": false, "conv_filters": null, "free_log_std": false, "lstm_cell_size": 256, "dim": 84, "zero_mean": true, "framestack": true, "lstm_use_prev_action_reward": false, "squash_to_range": false, "use_lstm": false, "custom_options": {}, "grayscale": false, "custom_preprocessor": null, "conv_activation": "relu", "fcnet_hiddens": [128, 64, 32], "custom_model": null, "fcnet_activation": "tanh"}, "output": null, "optimizer": {}, "num_gpus_per_worker": 0, "num_workers": 60, "use_gae": true, "lr_schedule": null, "multiagent": {"policies_to_train": null, "policy_mapping_fn": null, "policy_graphs": {}}, "vf_loss_coeff": 1.0, "kl_coeff": 0.2, "num_gpus": 0, "compress_observations": false, "num_envs_per_worker": 1, "collect_metrics_timeout": 180, "straggler_mitigation": false, "custom_resources_per_worker": {}, "input": "sampler", "vf_share_layers": false, "sgd_minibatch_size": 128, "output_compress_columns": ["obs", "new_obs"], "vf_clip_param": 1000000.0, "synchronize_filters": true, "callbacks": {"on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7fd2635f2860>", "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7fd2635f2c50>", "on_train_result": null, "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7fd2635f28d0>", "on_sample_end": null}, "gamma": 0.99, "clip_rewards": null}, "experiment_id": "9b178520507b4656ac608c6ff2056ff7", "timesteps_this_iter": 172432, "info": {"sample_time_ms": 27348.56, "num_steps_trained": 29051683, "update_time_ms": 11.004, "num_steps_sampled": 29051683, "grad_time_ms": 38428.016, "load_time_ms": 30.044, "default": {"kl": 0.01116936095058918, "vf_loss": 26.84097671508789, "vf_explained_var": 0.8482654094696045, "cur_kl_coeff": 0.45000001788139343, "total_loss": 26.838680267333984, "policy_loss": -0.007321175653487444, "cur_lr": 0.0005000000237487257, "entropy": 2.5485262870788574}}, "date": "2019-05-09_04-19-31", "done": false, "episode_len_mean": 726.33, "episodes_this_iter": 87, "episode_reward_max": 881.3427983646218, "custom_metrics": {"cost2_min": -191.4983662842379, "system_level_velocity_min": 9.193658023970478, "cost2_max": -64.00369787995919, "cost2_mean": -153.02729108229528, "cost1_mean": 333.74393778331864, "outflow_rate_mean": 976.888817675062, "cost1_max": 444.6517249568731, "system_level_velocity_mean": 12.44558348384804, "cost1_min": 101.13448586761689, "outflow_rate_max": 1221.0893538282075, "outflow_rate_min": 413.0099359978503, "system_level_velocity_max": 15.682880729437214}, "hostname": "flow-main", "episode_reward_mean": 655.6040260830054, "training_iteration": 249, "timesteps_since_restore": 7691450, "timesteps_total": 29051683, "time_this_iter_s": 67.4875693321228, "node_ip": "10.138.0.2", "policy_reward_mean": {}}
{"time_total_s": 10773.634701490402, "time_since_restore": 3090.7125220298767, "episode_reward_min": 180.20824398672957, "timestamp": 1557375637, "episodes_total": 17889, "iterations_since_restore": 50, "pid": 9951, "num_metric_batches_dropped": 0, "config": {"train_batch_size": 90000, "env": "MultiWaveAttenuationMergePOEnvBufferedObs-v0no_random_eta3:0", "horizon": 1500, "sample_batch_size": 750, "observation_filter": "MeanStdFilter", "log_level": "INFO", "simple_optimizer": false, "monitor": false, "batch_mode": "truncate_episodes", "lambda": 0.97, "sample_async": false, "input_evaluation": null, "clip_actions": false, "env_config": {"run": "PPO", "flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.3,\n            \"eta3\": 0.1,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 10.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 600,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}"}, "kl_target": 0.01, "num_cpus_per_worker": 1, "preprocessor_pref": "deepmind", "num_cpus_for_driver": 1, "output_max_file_size": 67108864, "lr": 0.0005, "entropy_coeff": 0.0, "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "num_sgd_iter": 10, "clip_param": 0.3, "tf_session_args": {"log_device_placement": false, "inter_op_parallelism_threads": 2, "allow_soft_placement": true, "gpu_options": {"allow_growth": true}, "intra_op_parallelism_threads": 2, "device_count": {"CPU": 1}}, "model": {"max_seq_len": 20, "channel_major": false, "conv_filters": null, "free_log_std": false, "lstm_cell_size": 256, "dim": 84, "zero_mean": true, "framestack": true, "lstm_use_prev_action_reward": false, "squash_to_range": false, "use_lstm": false, "custom_options": {}, "grayscale": false, "custom_preprocessor": null, "conv_activation": "relu", "fcnet_hiddens": [128, 64, 32], "custom_model": null, "fcnet_activation": "tanh"}, "output": null, "optimizer": {}, "num_gpus_per_worker": 0, "num_workers": 60, "use_gae": true, "lr_schedule": null, "multiagent": {"policies_to_train": null, "policy_mapping_fn": null, "policy_graphs": {}}, "vf_loss_coeff": 1.0, "kl_coeff": 0.2, "num_gpus": 0, "compress_observations": false, "num_envs_per_worker": 1, "collect_metrics_timeout": 180, "straggler_mitigation": false, "custom_resources_per_worker": {}, "input": "sampler", "vf_share_layers": false, "sgd_minibatch_size": 128, "output_compress_columns": ["obs", "new_obs"], "vf_clip_param": 1000000.0, "synchronize_filters": true, "callbacks": {"on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7fd26360c438>", "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7fd26360cdd8>", "on_train_result": null, "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7fd26360ce80>", "on_sample_end": null}, "gamma": 0.99, "clip_rewards": null}, "experiment_id": "9b178520507b4656ac608c6ff2056ff7", "timesteps_this_iter": 167167, "info": {"sample_time_ms": 27278.922, "num_steps_trained": 29218850, "update_time_ms": 10.866, "num_steps_sampled": 29218850, "grad_time_ms": 38346.866, "load_time_ms": 29.419, "default": {"kl": 0.0114264115691185, "vf_loss": 29.512123107910156, "vf_explained_var": 0.8411052227020264, "cur_kl_coeff": 0.44999998807907104, "total_loss": 29.509925842285156, "policy_loss": -0.007339931558817625, "cur_lr": 0.0005000000237487257, "entropy": 2.5125858783721924}}, "date": "2019-05-09_04-20-37", "done": false, "episode_len_mean": 725.7, "episodes_this_iter": 88, "episode_reward_max": 914.9503927108348, "custom_metrics": {"cost2_min": -184.19761391817852, "system_level_velocity_min": 9.193658023970478, "cost2_max": -76.74250120068882, "cost2_mean": -150.29318930651712, "cost1_mean": 338.7167829791113, "outflow_rate_mean": 984.6616103937413, "cost1_max": 458.2865032293462, "system_level_velocity_mean": 12.635732392040536, "cost1_min": 103.81024008209118, "outflow_rate_max": 1240.5023155814624, "outflow_rate_min": 417.03476420573696, "system_level_velocity_max": 16.152279777934964}, "hostname": "flow-main", "episode_reward_mean": 661.9206281421674, "training_iteration": 250, "timesteps_since_restore": 7858617, "timesteps_total": 29218850, "time_this_iter_s": 65.48006319999695, "node_ip": "10.138.0.2", "policy_reward_mean": {}}
{"time_total_s": 10840.647600412369, "time_since_restore": 3157.7254209518433, "episode_reward_min": 274.6346043484901, "timestamp": 1557375704, "episodes_total": 17973, "iterations_since_restore": 51, "pid": 9951, "num_metric_batches_dropped": 0, "config": {"train_batch_size": 90000, "env": "MultiWaveAttenuationMergePOEnvBufferedObs-v0no_random_eta3:0", "horizon": 1500, "sample_batch_size": 750, "observation_filter": "MeanStdFilter", "log_level": "INFO", "simple_optimizer": false, "monitor": false, "batch_mode": "truncate_episodes", "lambda": 0.97, "sample_async": false, "input_evaluation": null, "clip_actions": false, "env_config": {"run": "PPO", "flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.3,\n            \"eta3\": 0.1,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 10.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 600,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}"}, "kl_target": 0.01, "num_cpus_per_worker": 1, "preprocessor_pref": "deepmind", "num_cpus_for_driver": 1, "output_max_file_size": 67108864, "lr": 0.0005, "entropy_coeff": 0.0, "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "num_sgd_iter": 10, "clip_param": 0.3, "tf_session_args": {"log_device_placement": false, "inter_op_parallelism_threads": 2, "allow_soft_placement": true, "gpu_options": {"allow_growth": true}, "intra_op_parallelism_threads": 2, "device_count": {"CPU": 1}}, "model": {"max_seq_len": 20, "channel_major": false, "conv_filters": null, "free_log_std": false, "lstm_cell_size": 256, "dim": 84, "zero_mean": true, "framestack": true, "lstm_use_prev_action_reward": false, "squash_to_range": false, "use_lstm": false, "custom_options": {}, "grayscale": false, "custom_preprocessor": null, "conv_activation": "relu", "fcnet_hiddens": [128, 64, 32], "custom_model": null, "fcnet_activation": "tanh"}, "output": null, "optimizer": {}, "num_gpus_per_worker": 0, "num_workers": 60, "use_gae": true, "lr_schedule": null, "multiagent": {"policies_to_train": null, "policy_mapping_fn": null, "policy_graphs": {}}, "vf_loss_coeff": 1.0, "kl_coeff": 0.2, "num_gpus": 0, "compress_observations": false, "num_envs_per_worker": 1, "collect_metrics_timeout": 180, "straggler_mitigation": false, "custom_resources_per_worker": {}, "input": "sampler", "vf_share_layers": false, "sgd_minibatch_size": 128, "output_compress_columns": ["obs", "new_obs"], "vf_clip_param": 1000000.0, "synchronize_filters": true, "callbacks": {"on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7fd2635f2860>", "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7fd2635f2550>", "on_train_result": null, "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7fd2635f2d68>", "on_sample_end": null}, "gamma": 0.99, "clip_rewards": null}, "experiment_id": "9b178520507b4656ac608c6ff2056ff7", "timesteps_this_iter": 171164, "info": {"sample_time_ms": 27338.413, "num_steps_trained": 29390014, "update_time_ms": 11.108, "num_steps_sampled": 29390014, "grad_time_ms": 38243.757, "load_time_ms": 29.818, "default": {"kl": 0.010720157995820045, "vf_loss": 27.524372100830078, "vf_explained_var": 0.8448826670646667, "cur_kl_coeff": 0.44999995827674866, "total_loss": 27.522293090820312, "policy_loss": -0.006904167123138905, "cur_lr": 0.0005000000237487257, "entropy": 2.544567584991455}}, "date": "2019-05-09_04-21-44", "done": false, "episode_len_mean": 742.26, "episodes_this_iter": 84, "episode_reward_max": 914.9503927108348, "custom_metrics": {"cost2_min": -184.19761391817852, "system_level_velocity_min": 9.32490422694248, "cost2_max": -74.82018929959642, "cost2_mean": -152.0871487712554, "cost1_mean": 342.9297036775681, "outflow_rate_mean": 995.9366435653981, "cost1_max": 458.2865032293462, "system_level_velocity_mean": 12.481808243693356, "cost1_min": 151.66313415671354, "outflow_rate_max": 1240.5023155814624, "outflow_rate_min": 551.5841644360239, "system_level_velocity_max": 16.152279777934964}, "hostname": "flow-main", "episode_reward_mean": 673.4394085723347, "training_iteration": 251, "timesteps_since_restore": 8029781, "timesteps_total": 29390014, "time_this_iter_s": 67.01289892196655, "node_ip": "10.138.0.2", "policy_reward_mean": {}}
{"time_total_s": 10908.318055868149, "time_since_restore": 3225.3958764076233, "episode_reward_min": 180.23078047616008, "timestamp": 1557375771, "episodes_total": 18059, "iterations_since_restore": 52, "pid": 9951, "num_metric_batches_dropped": 0, "config": {"train_batch_size": 90000, "env": "MultiWaveAttenuationMergePOEnvBufferedObs-v0no_random_eta3:0", "horizon": 1500, "sample_batch_size": 750, "observation_filter": "MeanStdFilter", "log_level": "INFO", "simple_optimizer": false, "monitor": false, "batch_mode": "truncate_episodes", "lambda": 0.97, "sample_async": false, "input_evaluation": null, "clip_actions": false, "env_config": {"run": "PPO", "flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.3,\n            \"eta3\": 0.1,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 10.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 600,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}"}, "kl_target": 0.01, "num_cpus_per_worker": 1, "preprocessor_pref": "deepmind", "num_cpus_for_driver": 1, "output_max_file_size": 67108864, "lr": 0.0005, "entropy_coeff": 0.0, "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "num_sgd_iter": 10, "clip_param": 0.3, "tf_session_args": {"log_device_placement": false, "inter_op_parallelism_threads": 2, "allow_soft_placement": true, "gpu_options": {"allow_growth": true}, "intra_op_parallelism_threads": 2, "device_count": {"CPU": 1}}, "model": {"max_seq_len": 20, "channel_major": false, "conv_filters": null, "free_log_std": false, "lstm_cell_size": 256, "dim": 84, "zero_mean": true, "framestack": true, "lstm_use_prev_action_reward": false, "squash_to_range": false, "use_lstm": false, "custom_options": {}, "grayscale": false, "custom_preprocessor": null, "conv_activation": "relu", "fcnet_hiddens": [128, 64, 32], "custom_model": null, "fcnet_activation": "tanh"}, "output": null, "optimizer": {}, "num_gpus_per_worker": 0, "num_workers": 60, "use_gae": true, "lr_schedule": null, "multiagent": {"policies_to_train": null, "policy_mapping_fn": null, "policy_graphs": {}}, "vf_loss_coeff": 1.0, "kl_coeff": 0.2, "num_gpus": 0, "compress_observations": false, "num_envs_per_worker": 1, "collect_metrics_timeout": 180, "straggler_mitigation": false, "custom_resources_per_worker": {}, "input": "sampler", "vf_share_layers": false, "sgd_minibatch_size": 128, "output_compress_columns": ["obs", "new_obs"], "vf_clip_param": 1000000.0, "synchronize_filters": true, "callbacks": {"on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7fd25c327438>", "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7fd25c3274a8>", "on_train_result": null, "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7fd25c3274e0>", "on_sample_end": null}, "gamma": 0.99, "clip_rewards": null}, "experiment_id": "9b178520507b4656ac608c6ff2056ff7", "timesteps_this_iter": 169514, "info": {"sample_time_ms": 27398.439, "num_steps_trained": 29559528, "update_time_ms": 11.008, "num_steps_sampled": 29559528, "grad_time_ms": 38333.373, "load_time_ms": 30.996, "default": {"kl": 0.011100192554295063, "vf_loss": 28.33197593688965, "vf_explained_var": 0.8464866280555725, "cur_kl_coeff": 0.4500000476837158, "total_loss": 28.32878303527832, "policy_loss": -0.00818898156285286, "cur_lr": 0.0005000000237487257, "entropy": 2.545971155166626}}, "date": "2019-05-09_04-22-51", "done": false, "episode_len_mean": 745.74, "episodes_this_iter": 86, "episode_reward_max": 823.4286045663688, "custom_metrics": {"cost2_min": -184.35205632559249, "system_level_velocity_min": 10.062763633973715, "cost2_max": -69.30752350787222, "cost2_mean": -150.18312744252725, "cost1_mean": 346.00886312404873, "outflow_rate_mean": 1002.5330245703385, "cost1_max": 435.80629187607633, "system_level_velocity_mean": 12.518676373617774, "cost1_min": 107.50495837984647, "outflow_rate_max": 1185.8112841522666, "outflow_rate_min": 436.6525578416276, "system_level_velocity_max": 15.716874765703253}, "hostname": "flow-main", "episode_reward_mean": 675.4077733157702, "training_iteration": 252, "timesteps_since_restore": 8199295, "timesteps_total": 29559528, "time_this_iter_s": 67.67045545578003, "node_ip": "10.138.0.2", "policy_reward_mean": {}}
{"time_total_s": 10975.645594358444, "time_since_restore": 3292.7234148979187, "episode_reward_min": 569.3926408331573, "timestamp": 1557375839, "episodes_total": 18142, "iterations_since_restore": 53, "pid": 9951, "num_metric_batches_dropped": 0, "config": {"train_batch_size": 90000, "env": "MultiWaveAttenuationMergePOEnvBufferedObs-v0no_random_eta3:0", "horizon": 1500, "sample_batch_size": 750, "observation_filter": "MeanStdFilter", "log_level": "INFO", "simple_optimizer": false, "monitor": false, "batch_mode": "truncate_episodes", "lambda": 0.97, "sample_async": false, "input_evaluation": null, "clip_actions": false, "env_config": {"run": "PPO", "flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.3,\n            \"eta3\": 0.1,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 10.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 600,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}"}, "kl_target": 0.01, "num_cpus_per_worker": 1, "preprocessor_pref": "deepmind", "num_cpus_for_driver": 1, "output_max_file_size": 67108864, "lr": 0.0005, "entropy_coeff": 0.0, "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "num_sgd_iter": 10, "clip_param": 0.3, "tf_session_args": {"log_device_placement": false, "inter_op_parallelism_threads": 2, "allow_soft_placement": true, "gpu_options": {"allow_growth": true}, "intra_op_parallelism_threads": 2, "device_count": {"CPU": 1}}, "model": {"max_seq_len": 20, "channel_major": false, "conv_filters": null, "free_log_std": false, "lstm_cell_size": 256, "dim": 84, "zero_mean": true, "framestack": true, "lstm_use_prev_action_reward": false, "squash_to_range": false, "use_lstm": false, "custom_options": {}, "grayscale": false, "custom_preprocessor": null, "conv_activation": "relu", "fcnet_hiddens": [128, 64, 32], "custom_model": null, "fcnet_activation": "tanh"}, "output": null, "optimizer": {}, "num_gpus_per_worker": 0, "num_workers": 60, "use_gae": true, "lr_schedule": null, "multiagent": {"policies_to_train": null, "policy_mapping_fn": null, "policy_graphs": {}}, "vf_loss_coeff": 1.0, "kl_coeff": 0.2, "num_gpus": 0, "compress_observations": false, "num_envs_per_worker": 1, "collect_metrics_timeout": 180, "straggler_mitigation": false, "custom_resources_per_worker": {}, "input": "sampler", "vf_share_layers": false, "sgd_minibatch_size": 128, "output_compress_columns": ["obs", "new_obs"], "vf_clip_param": 1000000.0, "synchronize_filters": true, "callbacks": {"on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7fd26360c4e0>", "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7fd26360cf98>", "on_train_result": null, "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7fd26360c9e8>", "on_sample_end": null}, "gamma": 0.99, "clip_rewards": null}, "experiment_id": "9b178520507b4656ac608c6ff2056ff7", "timesteps_this_iter": 172285, "info": {"sample_time_ms": 27430.404, "num_steps_trained": 29731813, "update_time_ms": 11.271, "num_steps_sampled": 29731813, "grad_time_ms": 38455.581, "load_time_ms": 33.115, "default": {"kl": 0.010629302822053432, "vf_loss": 28.051109313964844, "vf_explained_var": 0.845217227935791, "cur_kl_coeff": 0.44999998807907104, "total_loss": 28.048715591430664, "policy_loss": -0.007179523352533579, "cur_lr": 0.0005000000237487257, "entropy": 2.5891494750976562}}, "date": "2019-05-09_04-23-59", "done": false, "episode_len_mean": 751.0, "episodes_this_iter": 83, "episode_reward_max": 837.5394032229939, "custom_metrics": {"cost2_min": -184.35205632559249, "system_level_velocity_min": 10.062763633973715, "cost2_max": -94.8351637210142, "cost2_mean": -150.82106238108486, "cost1_mean": 339.73010338277965, "outflow_rate_mean": 987.7718927956754, "cost1_max": 414.246482593849, "system_level_velocity_mean": 12.185845152107312, "cost1_min": 280.5345058354417, "outflow_rate_max": 1170.0143669803097, "outflow_rate_min": 834.4733585919009, "system_level_velocity_max": 14.87807845240172}, "hostname": "flow-main", "episode_reward_mean": 670.4053229180691, "training_iteration": 253, "timesteps_since_restore": 8371580, "timesteps_total": 29731813, "time_this_iter_s": 67.32753849029541, "node_ip": "10.138.0.2", "policy_reward_mean": {}}
{"time_total_s": 11044.385547876358, "time_since_restore": 3361.4633684158325, "episode_reward_min": 188.98939744589677, "timestamp": 1557375908, "episodes_total": 18230, "iterations_since_restore": 54, "pid": 9951, "num_metric_batches_dropped": 0, "config": {"train_batch_size": 90000, "env": "MultiWaveAttenuationMergePOEnvBufferedObs-v0no_random_eta3:0", "horizon": 1500, "sample_batch_size": 750, "observation_filter": "MeanStdFilter", "log_level": "INFO", "simple_optimizer": false, "monitor": false, "batch_mode": "truncate_episodes", "lambda": 0.97, "sample_async": false, "input_evaluation": null, "clip_actions": false, "env_config": {"run": "PPO", "flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.3,\n            \"eta3\": 0.1,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 10.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 600,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}"}, "kl_target": 0.01, "num_cpus_per_worker": 1, "preprocessor_pref": "deepmind", "num_cpus_for_driver": 1, "output_max_file_size": 67108864, "lr": 0.0005, "entropy_coeff": 0.0, "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "num_sgd_iter": 10, "clip_param": 0.3, "tf_session_args": {"log_device_placement": false, "inter_op_parallelism_threads": 2, "allow_soft_placement": true, "gpu_options": {"allow_growth": true}, "intra_op_parallelism_threads": 2, "device_count": {"CPU": 1}}, "model": {"max_seq_len": 20, "channel_major": false, "conv_filters": null, "free_log_std": false, "lstm_cell_size": 256, "dim": 84, "zero_mean": true, "framestack": true, "lstm_use_prev_action_reward": false, "squash_to_range": false, "use_lstm": false, "custom_options": {}, "grayscale": false, "custom_preprocessor": null, "conv_activation": "relu", "fcnet_hiddens": [128, 64, 32], "custom_model": null, "fcnet_activation": "tanh"}, "output": null, "optimizer": {}, "num_gpus_per_worker": 0, "num_workers": 60, "use_gae": true, "lr_schedule": null, "multiagent": {"policies_to_train": null, "policy_mapping_fn": null, "policy_graphs": {}}, "vf_loss_coeff": 1.0, "kl_coeff": 0.2, "num_gpus": 0, "compress_observations": false, "num_envs_per_worker": 1, "collect_metrics_timeout": 180, "straggler_mitigation": false, "custom_resources_per_worker": {}, "input": "sampler", "vf_share_layers": false, "sgd_minibatch_size": 128, "output_compress_columns": ["obs", "new_obs"], "vf_clip_param": 1000000.0, "synchronize_filters": true, "callbacks": {"on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7fd25c3277f0>", "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7fd25c3272b0>", "on_train_result": null, "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7fd25c3275c0>", "on_sample_end": null}, "gamma": 0.99, "clip_rewards": null}, "experiment_id": "9b178520507b4656ac608c6ff2056ff7", "timesteps_this_iter": 171602, "info": {"sample_time_ms": 27527.328, "num_steps_trained": 29903415, "update_time_ms": 11.234, "num_steps_sampled": 29903415, "grad_time_ms": 38809.157, "load_time_ms": 33.611, "default": {"kl": 0.010572182945907116, "vf_loss": 29.417566299438477, "vf_explained_var": 0.8374878168106079, "cur_kl_coeff": 0.44999998807907104, "total_loss": 29.41542625427246, "policy_loss": -0.006899558939039707, "cur_lr": 0.0005000000237487257, "entropy": 2.555330276489258}}, "date": "2019-05-09_04-25-08", "done": false, "episode_len_mean": 722.86, "episodes_this_iter": 88, "episode_reward_max": 959.0176494951407, "custom_metrics": {"cost2_min": -190.95557722175928, "system_level_velocity_min": 8.633494215564882, "cost2_max": -85.72752122894673, "cost2_mean": -150.33942655302204, "cost1_mean": 335.1426884960056, "outflow_rate_mean": 976.3223560853336, "cost1_max": 451.39279113658694, "system_level_velocity_mean": 12.536494220385698, "cost1_min": 108.67320958127159, "outflow_rate_max": 1217.7558826462875, "outflow_rate_min": 408.23487867291476, "system_level_velocity_max": 15.80961386572824}, "hostname": "flow-main", "episode_reward_mean": 659.7881347326575, "training_iteration": 254, "timesteps_since_restore": 8543182, "timesteps_total": 29903415, "time_this_iter_s": 68.73995351791382, "node_ip": "10.138.0.2", "policy_reward_mean": {}}
{"time_total_s": 11113.890103578568, "time_since_restore": 3430.967924118042, "episode_reward_min": 185.42619221305597, "timestamp": 1557375977, "episodes_total": 18321, "iterations_since_restore": 55, "pid": 9951, "num_metric_batches_dropped": 0, "config": {"train_batch_size": 90000, "env": "MultiWaveAttenuationMergePOEnvBufferedObs-v0no_random_eta3:0", "horizon": 1500, "sample_batch_size": 750, "observation_filter": "MeanStdFilter", "log_level": "INFO", "simple_optimizer": false, "monitor": false, "batch_mode": "truncate_episodes", "lambda": 0.97, "sample_async": false, "input_evaluation": null, "clip_actions": false, "env_config": {"run": "PPO", "flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.3,\n            \"eta3\": 0.1,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 10.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 600,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}"}, "kl_target": 0.01, "num_cpus_per_worker": 1, "preprocessor_pref": "deepmind", "num_cpus_for_driver": 1, "output_max_file_size": 67108864, "lr": 0.0005, "entropy_coeff": 0.0, "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "num_sgd_iter": 10, "clip_param": 0.3, "tf_session_args": {"log_device_placement": false, "inter_op_parallelism_threads": 2, "allow_soft_placement": true, "gpu_options": {"allow_growth": true}, "intra_op_parallelism_threads": 2, "device_count": {"CPU": 1}}, "model": {"max_seq_len": 20, "channel_major": false, "conv_filters": null, "free_log_std": false, "lstm_cell_size": 256, "dim": 84, "zero_mean": true, "framestack": true, "lstm_use_prev_action_reward": false, "squash_to_range": false, "use_lstm": false, "custom_options": {}, "grayscale": false, "custom_preprocessor": null, "conv_activation": "relu", "fcnet_hiddens": [128, 64, 32], "custom_model": null, "fcnet_activation": "tanh"}, "output": null, "optimizer": {}, "num_gpus_per_worker": 0, "num_workers": 60, "use_gae": true, "lr_schedule": null, "multiagent": {"policies_to_train": null, "policy_mapping_fn": null, "policy_graphs": {}}, "vf_loss_coeff": 1.0, "kl_coeff": 0.2, "num_gpus": 0, "compress_observations": false, "num_envs_per_worker": 1, "collect_metrics_timeout": 180, "straggler_mitigation": false, "custom_resources_per_worker": {}, "input": "sampler", "vf_share_layers": false, "sgd_minibatch_size": 128, "output_compress_columns": ["obs", "new_obs"], "vf_clip_param": 1000000.0, "synchronize_filters": true, "callbacks": {"on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7fd263616470>", "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7fd2636161d0>", "on_train_result": null, "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7fd263616780>", "on_sample_end": null}, "gamma": 0.99, "clip_rewards": null}, "experiment_id": "9b178520507b4656ac608c6ff2056ff7", "timesteps_this_iter": 171583, "info": {"sample_time_ms": 27558.997, "num_steps_trained": 30074998, "update_time_ms": 11.3, "num_steps_sampled": 30074998, "grad_time_ms": 39219.97, "load_time_ms": 33.66, "default": {"kl": 0.010696196928620338, "vf_loss": 30.10626220703125, "vf_explained_var": 0.8397047519683838, "cur_kl_coeff": 0.44999998807907104, "total_loss": 30.103708267211914, "policy_loss": -0.0073661659844219685, "cur_lr": 0.0005000000237487257, "entropy": 2.550773859024048}}, "date": "2019-05-09_04-26-17", "done": false, "episode_len_mean": 697.44, "episodes_this_iter": 91, "episode_reward_max": 959.0176494951407, "custom_metrics": {"cost2_min": -185.3675126336966, "system_level_velocity_min": 9.724933261646719, "cost2_max": -79.15505249530824, "cost2_mean": -146.90684121335573, "cost1_mean": 325.92087503897756, "outflow_rate_mean": 953.3623588251254, "cost1_max": 451.39279113658694, "system_level_velocity_mean": 12.674984051808089, "cost1_min": 108.425158825395, "outflow_rate_max": 1217.7558826462875, "outflow_rate_min": 416.7228960908292, "system_level_velocity_max": 15.80961386572824}, "hostname": "flow-main", "episode_reward_mean": 639.5704569846843, "training_iteration": 255, "timesteps_since_restore": 8714765, "timesteps_total": 30074998, "time_this_iter_s": 69.50455570220947, "node_ip": "10.138.0.2", "policy_reward_mean": {}}
{"time_total_s": 11181.206808567047, "time_since_restore": 3498.2846291065216, "episode_reward_min": 192.1572960245131, "timestamp": 1557376045, "episodes_total": 18408, "iterations_since_restore": 56, "pid": 9951, "num_metric_batches_dropped": 0, "config": {"train_batch_size": 90000, "env": "MultiWaveAttenuationMergePOEnvBufferedObs-v0no_random_eta3:0", "horizon": 1500, "sample_batch_size": 750, "observation_filter": "MeanStdFilter", "log_level": "INFO", "simple_optimizer": false, "monitor": false, "batch_mode": "truncate_episodes", "lambda": 0.97, "sample_async": false, "input_evaluation": null, "clip_actions": false, "env_config": {"run": "PPO", "flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.3,\n            \"eta3\": 0.1,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 10.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 600,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}"}, "kl_target": 0.01, "num_cpus_per_worker": 1, "preprocessor_pref": "deepmind", "num_cpus_for_driver": 1, "output_max_file_size": 67108864, "lr": 0.0005, "entropy_coeff": 0.0, "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "num_sgd_iter": 10, "clip_param": 0.3, "tf_session_args": {"log_device_placement": false, "inter_op_parallelism_threads": 2, "allow_soft_placement": true, "gpu_options": {"allow_growth": true}, "intra_op_parallelism_threads": 2, "device_count": {"CPU": 1}}, "model": {"max_seq_len": 20, "channel_major": false, "conv_filters": null, "free_log_std": false, "lstm_cell_size": 256, "dim": 84, "zero_mean": true, "framestack": true, "lstm_use_prev_action_reward": false, "squash_to_range": false, "use_lstm": false, "custom_options": {}, "grayscale": false, "custom_preprocessor": null, "conv_activation": "relu", "fcnet_hiddens": [128, 64, 32], "custom_model": null, "fcnet_activation": "tanh"}, "output": null, "optimizer": {}, "num_gpus_per_worker": 0, "num_workers": 60, "use_gae": true, "lr_schedule": null, "multiagent": {"policies_to_train": null, "policy_mapping_fn": null, "policy_graphs": {}}, "vf_loss_coeff": 1.0, "kl_coeff": 0.2, "num_gpus": 0, "compress_observations": false, "num_envs_per_worker": 1, "collect_metrics_timeout": 180, "straggler_mitigation": false, "custom_resources_per_worker": {}, "input": "sampler", "vf_share_layers": false, "sgd_minibatch_size": 128, "output_compress_columns": ["obs", "new_obs"], "vf_clip_param": 1000000.0, "synchronize_filters": true, "callbacks": {"on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7fd25c327cc0>", "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7fd25c327278>", "on_train_result": null, "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7fd25c327c50>", "on_sample_end": null}, "gamma": 0.99, "clip_rewards": null}, "experiment_id": "9b178520507b4656ac608c6ff2056ff7", "timesteps_this_iter": 172849, "info": {"sample_time_ms": 27575.979, "num_steps_trained": 30247847, "update_time_ms": 11.253, "num_steps_sampled": 30247847, "grad_time_ms": 39291.779, "load_time_ms": 35.205, "default": {"kl": 0.010658279992640018, "vf_loss": 27.81818199157715, "vf_explained_var": 0.8445785641670227, "cur_kl_coeff": 0.44999998807907104, "total_loss": 27.816558837890625, "policy_loss": -0.006419029086828232, "cur_lr": 0.0005000000237487257, "entropy": 2.5883665084838867}}, "date": "2019-05-09_04-27-25", "done": false, "episode_len_mean": 730.89, "episodes_this_iter": 87, "episode_reward_max": 891.3271820607124, "custom_metrics": {"cost2_min": -188.0857737838619, "system_level_velocity_min": 9.729849290546547, "cost2_max": -77.21861138209994, "cost2_mean": -154.08507959993173, "cost1_mean": 340.87023533740904, "outflow_rate_mean": 993.3260673974428, "cost1_max": 449.7552300292244, "system_level_velocity_mean": 12.595901622499461, "cost1_min": 110.83346850571621, "outflow_rate_max": 1232.5697008640761, "outflow_rate_min": 421.1827336130011, "system_level_velocity_max": 15.9407606026583}, "hostname": "flow-main", "episode_reward_mean": 665.3729844974328, "training_iteration": 256, "timesteps_since_restore": 8887614, "timesteps_total": 30247847, "time_this_iter_s": 67.31670498847961, "node_ip": "10.138.0.2", "policy_reward_mean": {}}
{"time_total_s": 11246.580172538757, "time_since_restore": 3563.657993078232, "episode_reward_min": 202.406848571647, "timestamp": 1557376110, "episodes_total": 18495, "iterations_since_restore": 57, "pid": 9951, "num_metric_batches_dropped": 0, "config": {"train_batch_size": 90000, "env": "MultiWaveAttenuationMergePOEnvBufferedObs-v0no_random_eta3:0", "horizon": 1500, "sample_batch_size": 750, "observation_filter": "MeanStdFilter", "log_level": "INFO", "simple_optimizer": false, "monitor": false, "batch_mode": "truncate_episodes", "lambda": 0.97, "sample_async": false, "input_evaluation": null, "clip_actions": false, "env_config": {"run": "PPO", "flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.3,\n            \"eta3\": 0.1,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 10.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 600,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}"}, "kl_target": 0.01, "num_cpus_per_worker": 1, "preprocessor_pref": "deepmind", "num_cpus_for_driver": 1, "output_max_file_size": 67108864, "lr": 0.0005, "entropy_coeff": 0.0, "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "num_sgd_iter": 10, "clip_param": 0.3, "tf_session_args": {"log_device_placement": false, "inter_op_parallelism_threads": 2, "allow_soft_placement": true, "gpu_options": {"allow_growth": true}, "intra_op_parallelism_threads": 2, "device_count": {"CPU": 1}}, "model": {"max_seq_len": 20, "channel_major": false, "conv_filters": null, "free_log_std": false, "lstm_cell_size": 256, "dim": 84, "zero_mean": true, "framestack": true, "lstm_use_prev_action_reward": false, "squash_to_range": false, "use_lstm": false, "custom_options": {}, "grayscale": false, "custom_preprocessor": null, "conv_activation": "relu", "fcnet_hiddens": [128, 64, 32], "custom_model": null, "fcnet_activation": "tanh"}, "output": null, "optimizer": {}, "num_gpus_per_worker": 0, "num_workers": 60, "use_gae": true, "lr_schedule": null, "multiagent": {"policies_to_train": null, "policy_mapping_fn": null, "policy_graphs": {}}, "vf_loss_coeff": 1.0, "kl_coeff": 0.2, "num_gpus": 0, "compress_observations": false, "num_envs_per_worker": 1, "collect_metrics_timeout": 180, "straggler_mitigation": false, "custom_resources_per_worker": {}, "input": "sampler", "vf_share_layers": false, "sgd_minibatch_size": 128, "output_compress_columns": ["obs", "new_obs"], "vf_clip_param": 1000000.0, "synchronize_filters": true, "callbacks": {"on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7fd263616b00>", "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7fd263616860>", "on_train_result": null, "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7fd263616828>", "on_sample_end": null}, "gamma": 0.99, "clip_rewards": null}, "experiment_id": "9b178520507b4656ac608c6ff2056ff7", "timesteps_this_iter": 173601, "info": {"sample_time_ms": 27600.09, "num_steps_trained": 30421448, "update_time_ms": 11.376, "num_steps_sampled": 30421448, "grad_time_ms": 39414.925, "load_time_ms": 36.226, "default": {"kl": 0.009878805838525295, "vf_loss": 27.77376365661621, "vf_explained_var": 0.8487792015075684, "cur_kl_coeff": 0.44999995827674866, "total_loss": 27.771276473999023, "policy_loss": -0.006931352894753218, "cur_lr": 0.0005000000237487257, "entropy": 2.5765228271484375}}, "date": "2019-05-09_04-28-30", "done": false, "episode_len_mean": 725.82, "episodes_this_iter": 87, "episode_reward_max": 891.3271820607124, "custom_metrics": {"cost2_min": -188.0857737838619, "system_level_velocity_min": 9.509542041039893, "cost2_max": -77.21861138209994, "cost2_mean": -156.21343813906861, "cost1_mean": 342.3550480330261, "outflow_rate_mean": 999.9664308949425, "cost1_max": 449.7552300292244, "system_level_velocity_mean": 12.760302298701616, "cost1_min": 116.81599002589041, "outflow_rate_max": 1232.5697008640761, "outflow_rate_min": 439.5460753591362, "system_level_velocity_max": 15.9407606026583}, "hostname": "flow-main", "episode_reward_mean": 670.7972737494205, "training_iteration": 257, "timesteps_since_restore": 9061215, "timesteps_total": 30421448, "time_this_iter_s": 65.3733639717102, "node_ip": "10.138.0.2", "policy_reward_mean": {}}
{"time_total_s": 11314.348826885223, "time_since_restore": 3631.426647424698, "episode_reward_min": 184.7409843023623, "timestamp": 1557376178, "episodes_total": 18580, "iterations_since_restore": 58, "pid": 9951, "num_metric_batches_dropped": 0, "config": {"train_batch_size": 90000, "env": "MultiWaveAttenuationMergePOEnvBufferedObs-v0no_random_eta3:0", "horizon": 1500, "sample_batch_size": 750, "observation_filter": "MeanStdFilter", "log_level": "INFO", "simple_optimizer": false, "monitor": false, "batch_mode": "truncate_episodes", "lambda": 0.97, "sample_async": false, "input_evaluation": null, "clip_actions": false, "env_config": {"run": "PPO", "flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.3,\n            \"eta3\": 0.1,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 10.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 600,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}"}, "kl_target": 0.01, "num_cpus_per_worker": 1, "preprocessor_pref": "deepmind", "num_cpus_for_driver": 1, "output_max_file_size": 67108864, "lr": 0.0005, "entropy_coeff": 0.0, "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "num_sgd_iter": 10, "clip_param": 0.3, "tf_session_args": {"log_device_placement": false, "inter_op_parallelism_threads": 2, "allow_soft_placement": true, "gpu_options": {"allow_growth": true}, "intra_op_parallelism_threads": 2, "device_count": {"CPU": 1}}, "model": {"max_seq_len": 20, "channel_major": false, "conv_filters": null, "free_log_std": false, "lstm_cell_size": 256, "dim": 84, "zero_mean": true, "framestack": true, "lstm_use_prev_action_reward": false, "squash_to_range": false, "use_lstm": false, "custom_options": {}, "grayscale": false, "custom_preprocessor": null, "conv_activation": "relu", "fcnet_hiddens": [128, 64, 32], "custom_model": null, "fcnet_activation": "tanh"}, "output": null, "optimizer": {}, "num_gpus_per_worker": 0, "num_workers": 60, "use_gae": true, "lr_schedule": null, "multiagent": {"policies_to_train": null, "policy_mapping_fn": null, "policy_graphs": {}}, "vf_loss_coeff": 1.0, "kl_coeff": 0.2, "num_gpus": 0, "compress_observations": false, "num_envs_per_worker": 1, "collect_metrics_timeout": 180, "straggler_mitigation": false, "custom_resources_per_worker": {}, "input": "sampler", "vf_share_layers": false, "sgd_minibatch_size": 128, "output_compress_columns": ["obs", "new_obs"], "vf_clip_param": 1000000.0, "synchronize_filters": true, "callbacks": {"on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7fd25c3279e8>", "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7fd25c327d68>", "on_train_result": null, "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7fd25c3274a8>", "on_sample_end": null}, "gamma": 0.99, "clip_rewards": null}, "experiment_id": "9b178520507b4656ac608c6ff2056ff7", "timesteps_this_iter": 176345, "info": {"sample_time_ms": 27626.63, "num_steps_trained": 30597793, "update_time_ms": 11.442, "num_steps_sampled": 30597793, "grad_time_ms": 39355.319, "load_time_ms": 37.656, "default": {"kl": 0.010025009512901306, "vf_loss": 27.890472412109375, "vf_explained_var": 0.8511019945144653, "cur_kl_coeff": 0.44999998807907104, "total_loss": 27.888015747070312, "policy_loss": -0.006969781592488289, "cur_lr": 0.0005000000237487257, "entropy": 2.5866892337799072}}, "date": "2019-05-09_04-29-38", "done": false, "episode_len_mean": 729.09, "episodes_this_iter": 85, "episode_reward_max": 852.4465026979988, "custom_metrics": {"cost2_min": -192.27642064953295, "system_level_velocity_min": 10.392907050130598, "cost2_max": -77.26964434819709, "cost2_mean": -159.6999289561695, "cost1_mean": 342.2551508944725, "outflow_rate_mean": 1000.7068428662657, "cost1_max": 433.165028146228, "system_level_velocity_mean": 12.674310479938956, "cost1_min": 106.68586100746957, "outflow_rate_max": 1204.5886734284732, "outflow_rate_min": 416.10549774309305, "system_level_velocity_max": 15.27176720769006}, "hostname": "flow-main", "episode_reward_mean": 669.5365104531302, "training_iteration": 258, "timesteps_since_restore": 9237560, "timesteps_total": 30597793, "time_this_iter_s": 67.76865434646606, "node_ip": "10.138.0.2", "policy_reward_mean": {}}
{"time_total_s": 11384.102393627167, "time_since_restore": 3701.1802141666412, "episode_reward_min": 192.824686027918, "timestamp": 1557376248, "episodes_total": 18665, "iterations_since_restore": 59, "pid": 9951, "num_metric_batches_dropped": 0, "config": {"train_batch_size": 90000, "env": "MultiWaveAttenuationMergePOEnvBufferedObs-v0no_random_eta3:0", "horizon": 1500, "sample_batch_size": 750, "observation_filter": "MeanStdFilter", "log_level": "INFO", "simple_optimizer": false, "monitor": false, "batch_mode": "truncate_episodes", "lambda": 0.97, "sample_async": false, "input_evaluation": null, "clip_actions": false, "env_config": {"run": "PPO", "flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.3,\n            \"eta3\": 0.1,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 10.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 600,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}"}, "kl_target": 0.01, "num_cpus_per_worker": 1, "preprocessor_pref": "deepmind", "num_cpus_for_driver": 1, "output_max_file_size": 67108864, "lr": 0.0005, "entropy_coeff": 0.0, "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "num_sgd_iter": 10, "clip_param": 0.3, "tf_session_args": {"log_device_placement": false, "inter_op_parallelism_threads": 2, "allow_soft_placement": true, "gpu_options": {"allow_growth": true}, "intra_op_parallelism_threads": 2, "device_count": {"CPU": 1}}, "model": {"max_seq_len": 20, "channel_major": false, "conv_filters": null, "free_log_std": false, "lstm_cell_size": 256, "dim": 84, "zero_mean": true, "framestack": true, "lstm_use_prev_action_reward": false, "squash_to_range": false, "use_lstm": false, "custom_options": {}, "grayscale": false, "custom_preprocessor": null, "conv_activation": "relu", "fcnet_hiddens": [128, 64, 32], "custom_model": null, "fcnet_activation": "tanh"}, "output": null, "optimizer": {}, "num_gpus_per_worker": 0, "num_workers": 60, "use_gae": true, "lr_schedule": null, "multiagent": {"policies_to_train": null, "policy_mapping_fn": null, "policy_graphs": {}}, "vf_loss_coeff": 1.0, "kl_coeff": 0.2, "num_gpus": 0, "compress_observations": false, "num_envs_per_worker": 1, "collect_metrics_timeout": 180, "straggler_mitigation": false, "custom_resources_per_worker": {}, "input": "sampler", "vf_share_layers": false, "sgd_minibatch_size": 128, "output_compress_columns": ["obs", "new_obs"], "vf_clip_param": 1000000.0, "synchronize_filters": true, "callbacks": {"on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7fd263616128>", "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7fd2636165f8>", "on_train_result": null, "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7fd263616c50>", "on_sample_end": null}, "gamma": 0.99, "clip_rewards": null}, "experiment_id": "9b178520507b4656ac608c6ff2056ff7", "timesteps_this_iter": 178362, "info": {"sample_time_ms": 27694.069, "num_steps_trained": 30776155, "update_time_ms": 11.318, "num_steps_sampled": 30776155, "grad_time_ms": 39509.187, "load_time_ms": 37.362, "default": {"kl": 0.01026358176022768, "vf_loss": 28.041765213012695, "vf_explained_var": 0.8561521768569946, "cur_kl_coeff": 0.44999998807907104, "total_loss": 28.039155960083008, "policy_loss": -0.0072289565578103065, "cur_lr": 0.0005000000237487257, "entropy": 2.589794635772705}}, "date": "2019-05-09_04-30-48", "done": false, "episode_len_mean": 742.37, "episodes_this_iter": 85, "episode_reward_max": 939.8894782530873, "custom_metrics": {"cost2_min": -190.52587476526747, "system_level_velocity_min": 8.997673629290237, "cost2_max": -80.16333324177529, "cost2_mean": -166.2624765610271, "cost1_mean": 350.3992968776605, "outflow_rate_mean": 1026.2544200769476, "cost1_max": 450.6011935941895, "system_level_velocity_mean": 12.689387572355843, "cost1_min": 109.85048426345367, "outflow_rate_max": 1220.902369211521, "outflow_rate_min": 424.29671435971653, "system_level_velocity_max": 15.924070854604212}, "hostname": "flow-main", "episode_reward_mean": 686.60620248569, "training_iteration": 259, "timesteps_since_restore": 9415922, "timesteps_total": 30776155, "time_this_iter_s": 69.75356674194336, "node_ip": "10.138.0.2", "policy_reward_mean": {}}
{"time_total_s": 11453.08676815033, "time_since_restore": 3770.164588689804, "episode_reward_min": 187.97953219134612, "timestamp": 1557376317, "episodes_total": 18754, "iterations_since_restore": 60, "pid": 9951, "num_metric_batches_dropped": 0, "config": {"train_batch_size": 90000, "env": "MultiWaveAttenuationMergePOEnvBufferedObs-v0no_random_eta3:0", "horizon": 1500, "sample_batch_size": 750, "observation_filter": "MeanStdFilter", "log_level": "INFO", "simple_optimizer": false, "monitor": false, "batch_mode": "truncate_episodes", "lambda": 0.97, "sample_async": false, "input_evaluation": null, "clip_actions": false, "env_config": {"run": "PPO", "flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.3,\n            \"eta3\": 0.1,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 10.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 600,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}"}, "kl_target": 0.01, "num_cpus_per_worker": 1, "preprocessor_pref": "deepmind", "num_cpus_for_driver": 1, "output_max_file_size": 67108864, "lr": 0.0005, "entropy_coeff": 0.0, "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "num_sgd_iter": 10, "clip_param": 0.3, "tf_session_args": {"log_device_placement": false, "inter_op_parallelism_threads": 2, "allow_soft_placement": true, "gpu_options": {"allow_growth": true}, "intra_op_parallelism_threads": 2, "device_count": {"CPU": 1}}, "model": {"max_seq_len": 20, "channel_major": false, "conv_filters": null, "free_log_std": false, "lstm_cell_size": 256, "dim": 84, "zero_mean": true, "framestack": true, "lstm_use_prev_action_reward": false, "squash_to_range": false, "use_lstm": false, "custom_options": {}, "grayscale": false, "custom_preprocessor": null, "conv_activation": "relu", "fcnet_hiddens": [128, 64, 32], "custom_model": null, "fcnet_activation": "tanh"}, "output": null, "optimizer": {}, "num_gpus_per_worker": 0, "num_workers": 60, "use_gae": true, "lr_schedule": null, "multiagent": {"policies_to_train": null, "policy_mapping_fn": null, "policy_graphs": {}}, "vf_loss_coeff": 1.0, "kl_coeff": 0.2, "num_gpus": 0, "compress_observations": false, "num_envs_per_worker": 1, "collect_metrics_timeout": 180, "straggler_mitigation": false, "custom_resources_per_worker": {}, "input": "sampler", "vf_share_layers": false, "sgd_minibatch_size": 128, "output_compress_columns": ["obs", "new_obs"], "vf_clip_param": 1000000.0, "synchronize_filters": true, "callbacks": {"on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7fd2635f2c50>", "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7fd2635f2a58>", "on_train_result": null, "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7fd2635f2eb8>", "on_sample_end": null}, "gamma": 0.99, "clip_rewards": null}, "experiment_id": "9b178520507b4656ac608c6ff2056ff7", "timesteps_this_iter": 173498, "info": {"sample_time_ms": 27836.603, "num_steps_trained": 30949653, "update_time_ms": 11.455, "num_steps_sampled": 30949653, "grad_time_ms": 39714.348, "load_time_ms": 37.998, "default": {"kl": 0.010143169201910496, "vf_loss": 29.266870498657227, "vf_explained_var": 0.8560468554496765, "cur_kl_coeff": 0.44999998807907104, "total_loss": 29.264310836791992, "policy_loss": -0.007121298462152481, "cur_lr": 0.0005000000237487257, "entropy": 2.5825958251953125}}, "date": "2019-05-09_04-31-57", "done": false, "episode_len_mean": 722.04, "episodes_this_iter": 89, "episode_reward_max": 839.2167178381824, "custom_metrics": {"cost2_min": -188.38600695741502, "system_level_velocity_min": 9.295865650505295, "cost2_max": -82.07074043436816, "cost2_mean": -160.4795239663829, "cost1_mean": 337.83093117670205, "outflow_rate_mean": 992.5585582385626, "cost1_max": 423.380897614834, "system_level_velocity_mean": 12.634401141935003, "cost1_min": 109.31694396174953, "outflow_rate_max": 1192.819202308137, "outflow_rate_min": 421.98641379934475, "system_level_velocity_max": 15.616322416037887}, "hostname": "flow-main", "episode_reward_mean": 662.1150752646731, "training_iteration": 260, "timesteps_since_restore": 9589420, "timesteps_total": 30949653, "time_this_iter_s": 68.98437452316284, "node_ip": "10.138.0.2", "policy_reward_mean": {}}
{"time_total_s": 11522.445309400558, "time_since_restore": 3839.523129940033, "episode_reward_min": 187.97953219134612, "timestamp": 1557376386, "episodes_total": 18841, "iterations_since_restore": 61, "pid": 9951, "num_metric_batches_dropped": 0, "config": {"train_batch_size": 90000, "env": "MultiWaveAttenuationMergePOEnvBufferedObs-v0no_random_eta3:0", "horizon": 1500, "sample_batch_size": 750, "observation_filter": "MeanStdFilter", "log_level": "INFO", "simple_optimizer": false, "monitor": false, "batch_mode": "truncate_episodes", "lambda": 0.97, "sample_async": false, "input_evaluation": null, "clip_actions": false, "env_config": {"run": "PPO", "flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.3,\n            \"eta3\": 0.1,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 10.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 600,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}"}, "kl_target": 0.01, "num_cpus_per_worker": 1, "preprocessor_pref": "deepmind", "num_cpus_for_driver": 1, "output_max_file_size": 67108864, "lr": 0.0005, "entropy_coeff": 0.0, "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "num_sgd_iter": 10, "clip_param": 0.3, "tf_session_args": {"log_device_placement": false, "inter_op_parallelism_threads": 2, "allow_soft_placement": true, "gpu_options": {"allow_growth": true}, "intra_op_parallelism_threads": 2, "device_count": {"CPU": 1}}, "model": {"max_seq_len": 20, "channel_major": false, "conv_filters": null, "free_log_std": false, "lstm_cell_size": 256, "dim": 84, "zero_mean": true, "framestack": true, "lstm_use_prev_action_reward": false, "squash_to_range": false, "use_lstm": false, "custom_options": {}, "grayscale": false, "custom_preprocessor": null, "conv_activation": "relu", "fcnet_hiddens": [128, 64, 32], "custom_model": null, "fcnet_activation": "tanh"}, "output": null, "optimizer": {}, "num_gpus_per_worker": 0, "num_workers": 60, "use_gae": true, "lr_schedule": null, "multiagent": {"policies_to_train": null, "policy_mapping_fn": null, "policy_graphs": {}}, "vf_loss_coeff": 1.0, "kl_coeff": 0.2, "num_gpus": 0, "compress_observations": false, "num_envs_per_worker": 1, "collect_metrics_timeout": 180, "straggler_mitigation": false, "custom_resources_per_worker": {}, "input": "sampler", "vf_share_layers": false, "sgd_minibatch_size": 128, "output_compress_columns": ["obs", "new_obs"], "vf_clip_param": 1000000.0, "synchronize_filters": true, "callbacks": {"on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7fd263616f98>", "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7fd2636160b8>", "on_train_result": null, "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7fd263616710>", "on_sample_end": null}, "gamma": 0.99, "clip_rewards": null}, "experiment_id": "9b178520507b4656ac608c6ff2056ff7", "timesteps_this_iter": 177264, "info": {"sample_time_ms": 27796.998, "num_steps_trained": 31126917, "update_time_ms": 11.468, "num_steps_sampled": 31126917, "grad_time_ms": 39987.371, "load_time_ms": 36.377, "default": {"kl": 0.010240464471280575, "vf_loss": 27.795337677001953, "vf_explained_var": 0.8531608581542969, "cur_kl_coeff": 0.44999995827674866, "total_loss": 27.792585372924805, "policy_loss": -0.007361176889389753, "cur_lr": 0.0005000000237487257, "entropy": 2.5993807315826416}}, "date": "2019-05-09_04-33-06", "done": false, "episode_len_mean": 731.64, "episodes_this_iter": 87, "episode_reward_max": 898.0110376391247, "custom_metrics": {"cost2_min": -189.3669969139533, "system_level_velocity_min": 10.196377486859573, "cost2_max": -82.07074043436816, "cost2_mean": -162.8269426450334, "cost1_mean": 340.2169258517357, "outflow_rate_mean": 998.8849425540392, "cost1_max": 451.2037890002956, "system_level_velocity_mean": 12.520254330886264, "cost1_min": 109.31694396174953, "outflow_rate_max": 1229.2100601405318, "outflow_rate_min": 421.98641379934475, "system_level_velocity_max": 15.95078769318194}, "hostname": "flow-main", "episode_reward_mean": 670.0548030380118, "training_iteration": 261, "timesteps_since_restore": 9766684, "timesteps_total": 31126917, "time_this_iter_s": 69.35854125022888, "node_ip": "10.138.0.2", "policy_reward_mean": {}}
{"time_total_s": 11591.976926803589, "time_since_restore": 3909.0547473430634, "episode_reward_min": 194.0162928691733, "timestamp": 1557376456, "episodes_total": 18926, "iterations_since_restore": 62, "pid": 9951, "num_metric_batches_dropped": 0, "config": {"train_batch_size": 90000, "env": "MultiWaveAttenuationMergePOEnvBufferedObs-v0no_random_eta3:0", "horizon": 1500, "sample_batch_size": 750, "observation_filter": "MeanStdFilter", "log_level": "INFO", "simple_optimizer": false, "monitor": false, "batch_mode": "truncate_episodes", "lambda": 0.97, "sample_async": false, "input_evaluation": null, "clip_actions": false, "env_config": {"run": "PPO", "flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.3,\n            \"eta3\": 0.1,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 10.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 600,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}"}, "kl_target": 0.01, "num_cpus_per_worker": 1, "preprocessor_pref": "deepmind", "num_cpus_for_driver": 1, "output_max_file_size": 67108864, "lr": 0.0005, "entropy_coeff": 0.0, "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "num_sgd_iter": 10, "clip_param": 0.3, "tf_session_args": {"log_device_placement": false, "inter_op_parallelism_threads": 2, "allow_soft_placement": true, "gpu_options": {"allow_growth": true}, "intra_op_parallelism_threads": 2, "device_count": {"CPU": 1}}, "model": {"max_seq_len": 20, "channel_major": false, "conv_filters": null, "free_log_std": false, "lstm_cell_size": 256, "dim": 84, "zero_mean": true, "framestack": true, "lstm_use_prev_action_reward": false, "squash_to_range": false, "use_lstm": false, "custom_options": {}, "grayscale": false, "custom_preprocessor": null, "conv_activation": "relu", "fcnet_hiddens": [128, 64, 32], "custom_model": null, "fcnet_activation": "tanh"}, "output": null, "optimizer": {}, "num_gpus_per_worker": 0, "num_workers": 60, "use_gae": true, "lr_schedule": null, "multiagent": {"policies_to_train": null, "policy_mapping_fn": null, "policy_graphs": {}}, "vf_loss_coeff": 1.0, "kl_coeff": 0.2, "num_gpus": 0, "compress_observations": false, "num_envs_per_worker": 1, "collect_metrics_timeout": 180, "straggler_mitigation": false, "custom_resources_per_worker": {}, "input": "sampler", "vf_share_layers": false, "sgd_minibatch_size": 128, "output_compress_columns": ["obs", "new_obs"], "vf_clip_param": 1000000.0, "synchronize_filters": true, "callbacks": {"on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7fd2635f28d0>", "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7fd2635f26d8>", "on_train_result": null, "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7fd2635f2d68>", "on_sample_end": null}, "gamma": 0.99, "clip_rewards": null}, "experiment_id": "9b178520507b4656ac608c6ff2056ff7", "timesteps_this_iter": 178249, "info": {"sample_time_ms": 27880.032, "num_steps_trained": 31305166, "update_time_ms": 11.719, "num_steps_sampled": 31305166, "grad_time_ms": 40091.939, "load_time_ms": 37.034, "default": {"kl": 0.01013471744954586, "vf_loss": 25.65296745300293, "vf_explained_var": 0.8659478425979614, "cur_kl_coeff": 0.44999998807907104, "total_loss": 25.65062713623047, "policy_loss": -0.00689840130507946, "cur_lr": 0.0005000000237487257, "entropy": 2.6070661544799805}}, "date": "2019-05-09_04-34-16", "done": false, "episode_len_mean": 734.41, "episodes_this_iter": 85, "episode_reward_max": 816.9183965407781, "custom_metrics": {"cost2_min": -199.39415538896344, "system_level_velocity_min": 9.263061505977038, "cost2_max": -76.64416605454828, "cost2_mean": -163.38216445127745, "cost1_mean": 339.11592756063567, "outflow_rate_mean": 999.629655709026, "cost1_max": 422.80753956419255, "system_level_velocity_mean": 12.422181463938273, "cost1_min": 109.9176525014298, "outflow_rate_max": 1179.5873173282953, "outflow_rate_min": 411.9422791268619, "system_level_velocity_max": 14.992965346504322}, "hostname": "flow-main", "episode_reward_mean": 671.8434091893764, "training_iteration": 262, "timesteps_since_restore": 9944933, "timesteps_total": 31305166, "time_this_iter_s": 69.5316174030304, "node_ip": "10.138.0.2", "policy_reward_mean": {}}
{"time_total_s": 11662.126589775085, "time_since_restore": 3979.20441031456, "episode_reward_min": 196.05922822234413, "timestamp": 1557376526, "episodes_total": 19009, "iterations_since_restore": 63, "pid": 9951, "num_metric_batches_dropped": 0, "config": {"train_batch_size": 90000, "env": "MultiWaveAttenuationMergePOEnvBufferedObs-v0no_random_eta3:0", "horizon": 1500, "sample_batch_size": 750, "observation_filter": "MeanStdFilter", "log_level": "INFO", "simple_optimizer": false, "monitor": false, "batch_mode": "truncate_episodes", "lambda": 0.97, "sample_async": false, "input_evaluation": null, "clip_actions": false, "env_config": {"run": "PPO", "flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.3,\n            \"eta3\": 0.1,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 10.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 600,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}"}, "kl_target": 0.01, "num_cpus_per_worker": 1, "preprocessor_pref": "deepmind", "num_cpus_for_driver": 1, "output_max_file_size": 67108864, "lr": 0.0005, "entropy_coeff": 0.0, "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "num_sgd_iter": 10, "clip_param": 0.3, "tf_session_args": {"log_device_placement": false, "inter_op_parallelism_threads": 2, "allow_soft_placement": true, "gpu_options": {"allow_growth": true}, "intra_op_parallelism_threads": 2, "device_count": {"CPU": 1}}, "model": {"max_seq_len": 20, "channel_major": false, "conv_filters": null, "free_log_std": false, "lstm_cell_size": 256, "dim": 84, "zero_mean": true, "framestack": true, "lstm_use_prev_action_reward": false, "squash_to_range": false, "use_lstm": false, "custom_options": {}, "grayscale": false, "custom_preprocessor": null, "conv_activation": "relu", "fcnet_hiddens": [128, 64, 32], "custom_model": null, "fcnet_activation": "tanh"}, "output": null, "optimizer": {}, "num_gpus_per_worker": 0, "num_workers": 60, "use_gae": true, "lr_schedule": null, "multiagent": {"policies_to_train": null, "policy_mapping_fn": null, "policy_graphs": {}}, "vf_loss_coeff": 1.0, "kl_coeff": 0.2, "num_gpus": 0, "compress_observations": false, "num_envs_per_worker": 1, "collect_metrics_timeout": 180, "straggler_mitigation": false, "custom_resources_per_worker": {}, "input": "sampler", "vf_share_layers": false, "sgd_minibatch_size": 128, "output_compress_columns": ["obs", "new_obs"], "vf_clip_param": 1000000.0, "synchronize_filters": true, "callbacks": {"on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7fd263616e80>", "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7fd2636165c0>", "on_train_result": null, "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7fd263616828>", "on_sample_end": null}, "gamma": 0.99, "clip_rewards": null}, "experiment_id": "9b178520507b4656ac608c6ff2056ff7", "timesteps_this_iter": 180937, "info": {"sample_time_ms": 27954.254, "num_steps_trained": 31486103, "update_time_ms": 11.773, "num_steps_sampled": 31486103, "grad_time_ms": 40299.636, "load_time_ms": 36.179, "default": {"kl": 0.009774277918040752, "vf_loss": 24.892993927001953, "vf_explained_var": 0.8707263469696045, "cur_kl_coeff": 0.44999998807907104, "total_loss": 24.89017105102539, "policy_loss": -0.007219248916953802, "cur_lr": 0.0005000000237487257, "entropy": 2.61761474609375}}, "date": "2019-05-09_04-35-26", "done": false, "episode_len_mean": 742.34, "episodes_this_iter": 83, "episode_reward_max": 879.8846758028807, "custom_metrics": {"cost2_min": -191.38545630869737, "system_level_velocity_min": 10.221925423491289, "cost2_max": -76.64416605454828, "cost2_mean": -165.6852503093454, "cost1_mean": 340.736589628372, "outflow_rate_mean": 1006.1602207123564, "cost1_max": 440.21582554203763, "system_level_velocity_mean": 12.318593336101355, "cost1_min": 113.36968340746205, "outflow_rate_max": 1213.2394413587404, "outflow_rate_min": 437.3599394133612, "system_level_velocity_max": 15.547392056967423}, "hostname": "flow-main", "episode_reward_mean": 675.5617258193066, "training_iteration": 263, "timesteps_since_restore": 10125870, "timesteps_total": 31486103, "time_this_iter_s": 70.14966297149658, "node_ip": "10.138.0.2", "policy_reward_mean": {}}
{"time_total_s": 11732.62141919136, "time_since_restore": 4049.699239730835, "episode_reward_min": 200.91970096734102, "timestamp": 1557376597, "episodes_total": 19093, "iterations_since_restore": 64, "pid": 9951, "num_metric_batches_dropped": 0, "config": {"train_batch_size": 90000, "env": "MultiWaveAttenuationMergePOEnvBufferedObs-v0no_random_eta3:0", "horizon": 1500, "sample_batch_size": 750, "observation_filter": "MeanStdFilter", "log_level": "INFO", "simple_optimizer": false, "monitor": false, "batch_mode": "truncate_episodes", "lambda": 0.97, "sample_async": false, "input_evaluation": null, "clip_actions": false, "env_config": {"run": "PPO", "flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.3,\n            \"eta3\": 0.1,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 10.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 600,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}"}, "kl_target": 0.01, "num_cpus_per_worker": 1, "preprocessor_pref": "deepmind", "num_cpus_for_driver": 1, "output_max_file_size": 67108864, "lr": 0.0005, "entropy_coeff": 0.0, "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "num_sgd_iter": 10, "clip_param": 0.3, "tf_session_args": {"log_device_placement": false, "inter_op_parallelism_threads": 2, "allow_soft_placement": true, "gpu_options": {"allow_growth": true}, "intra_op_parallelism_threads": 2, "device_count": {"CPU": 1}}, "model": {"max_seq_len": 20, "channel_major": false, "conv_filters": null, "free_log_std": false, "lstm_cell_size": 256, "dim": 84, "zero_mean": true, "framestack": true, "lstm_use_prev_action_reward": false, "squash_to_range": false, "use_lstm": false, "custom_options": {}, "grayscale": false, "custom_preprocessor": null, "conv_activation": "relu", "fcnet_hiddens": [128, 64, 32], "custom_model": null, "fcnet_activation": "tanh"}, "output": null, "optimizer": {}, "num_gpus_per_worker": 0, "num_workers": 60, "use_gae": true, "lr_schedule": null, "multiagent": {"policies_to_train": null, "policy_mapping_fn": null, "policy_graphs": {}}, "vf_loss_coeff": 1.0, "kl_coeff": 0.2, "num_gpus": 0, "compress_observations": false, "num_envs_per_worker": 1, "collect_metrics_timeout": 180, "straggler_mitigation": false, "custom_resources_per_worker": {}, "input": "sampler", "vf_share_layers": false, "sgd_minibatch_size": 128, "output_compress_columns": ["obs", "new_obs"], "vf_clip_param": 1000000.0, "synchronize_filters": true, "callbacks": {"on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7fd2635f2cf8>", "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7fd2635f2a20>", "on_train_result": null, "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7fd2635f2a58>", "on_sample_end": null}, "gamma": 0.99, "clip_rewards": null}, "experiment_id": "9b178520507b4656ac608c6ff2056ff7", "timesteps_this_iter": 177876, "info": {"sample_time_ms": 27987.454, "num_steps_trained": 31663979, "update_time_ms": 11.718, "num_steps_sampled": 31663979, "grad_time_ms": 40444.727, "load_time_ms": 35.857, "default": {"kl": 0.0100615369156003, "vf_loss": 24.977428436279297, "vf_explained_var": 0.8765209317207336, "cur_kl_coeff": 0.44999995827674866, "total_loss": 24.974796295166016, "policy_loss": -0.007163261529058218, "cur_lr": 0.0005000000237487257, "entropy": 2.6180105209350586}}, "date": "2019-05-09_04-36-37", "done": false, "episode_len_mean": 737.15, "episodes_this_iter": 84, "episode_reward_max": 849.7326897294922, "custom_metrics": {"cost2_min": -196.22045852411156, "system_level_velocity_min": 10.23816050555594, "cost2_max": -85.5640682920327, "cost2_mean": -166.78036728397674, "cost1_mean": 337.81984794353514, "outflow_rate_mean": 1000.5574246106532, "cost1_max": 420.8270071215816, "system_level_velocity_mean": 12.29432322665345, "cost1_min": 113.62208408111043, "outflow_rate_max": 1187.5551461222312, "outflow_rate_min": 424.66171271738926, "system_level_velocity_max": 14.941015251668011}, "hostname": "flow-main", "episode_reward_mean": 670.9186597511966, "training_iteration": 264, "timesteps_since_restore": 10303746, "timesteps_total": 31663979, "time_this_iter_s": 70.49482941627502, "node_ip": "10.138.0.2", "policy_reward_mean": {}}
{"time_total_s": 11801.333289384842, "time_since_restore": 4118.411109924316, "episode_reward_min": 182.23572077172616, "timestamp": 1557376665, "episodes_total": 19179, "iterations_since_restore": 65, "pid": 9951, "num_metric_batches_dropped": 0, "config": {"train_batch_size": 90000, "env": "MultiWaveAttenuationMergePOEnvBufferedObs-v0no_random_eta3:0", "horizon": 1500, "sample_batch_size": 750, "observation_filter": "MeanStdFilter", "log_level": "INFO", "simple_optimizer": false, "monitor": false, "batch_mode": "truncate_episodes", "lambda": 0.97, "sample_async": false, "input_evaluation": null, "clip_actions": false, "env_config": {"run": "PPO", "flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.3,\n            \"eta3\": 0.1,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 10.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 600,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}"}, "kl_target": 0.01, "num_cpus_per_worker": 1, "preprocessor_pref": "deepmind", "num_cpus_for_driver": 1, "output_max_file_size": 67108864, "lr": 0.0005, "entropy_coeff": 0.0, "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "num_sgd_iter": 10, "clip_param": 0.3, "tf_session_args": {"log_device_placement": false, "inter_op_parallelism_threads": 2, "allow_soft_placement": true, "gpu_options": {"allow_growth": true}, "intra_op_parallelism_threads": 2, "device_count": {"CPU": 1}}, "model": {"max_seq_len": 20, "channel_major": false, "conv_filters": null, "free_log_std": false, "lstm_cell_size": 256, "dim": 84, "zero_mean": true, "framestack": true, "lstm_use_prev_action_reward": false, "squash_to_range": false, "use_lstm": false, "custom_options": {}, "grayscale": false, "custom_preprocessor": null, "conv_activation": "relu", "fcnet_hiddens": [128, 64, 32], "custom_model": null, "fcnet_activation": "tanh"}, "output": null, "optimizer": {}, "num_gpus_per_worker": 0, "num_workers": 60, "use_gae": true, "lr_schedule": null, "multiagent": {"policies_to_train": null, "policy_mapping_fn": null, "policy_graphs": {}}, "vf_loss_coeff": 1.0, "kl_coeff": 0.2, "num_gpus": 0, "compress_observations": false, "num_envs_per_worker": 1, "collect_metrics_timeout": 180, "straggler_mitigation": false, "custom_resources_per_worker": {}, "input": "sampler", "vf_share_layers": false, "sgd_minibatch_size": 128, "output_compress_columns": ["obs", "new_obs"], "vf_clip_param": 1000000.0, "synchronize_filters": true, "callbacks": {"on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7fd263616748>", "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7fd263616ef0>", "on_train_result": null, "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7fd263616cc0>", "on_sample_end": null}, "gamma": 0.99, "clip_rewards": null}, "experiment_id": "9b178520507b4656ac608c6ff2056ff7", "timesteps_this_iter": 177841, "info": {"sample_time_ms": 28060.768, "num_steps_trained": 31841820, "update_time_ms": 11.882, "num_steps_sampled": 31841820, "grad_time_ms": 40297.844, "load_time_ms": 35.771, "default": {"kl": 0.010162093676626682, "vf_loss": 27.517995834350586, "vf_explained_var": 0.8694453239440918, "cur_kl_coeff": 0.44999995827674866, "total_loss": 27.51568031311035, "policy_loss": -0.006888639647513628, "cur_lr": 0.0005000000237487257, "entropy": 2.6058883666992188}}, "date": "2019-05-09_04-37-45", "done": false, "episode_len_mean": 726.43, "episodes_this_iter": 86, "episode_reward_max": 918.222086416263, "custom_metrics": {"cost2_min": -196.22045852411156, "system_level_velocity_min": 10.460599216773105, "cost2_max": -74.80164515265774, "cost2_mean": -167.18382703601986, "cost1_mean": 336.59387526300657, "outflow_rate_mean": 997.6062209095813, "cost1_max": 456.74586230311, "system_level_velocity_mean": 12.452251480554121, "cost1_min": 104.59075474114029, "outflow_rate_max": 1230.817766946636, "outflow_rate_min": 403.29588640975555, "system_level_velocity_max": 16.01617227781409}, "hostname": "flow-main", "episode_reward_mean": 666.8182431667572, "training_iteration": 265, "timesteps_since_restore": 10481587, "timesteps_total": 31841820, "time_this_iter_s": 68.71187019348145, "node_ip": "10.138.0.2", "policy_reward_mean": {}}
{"time_total_s": 11871.133703231812, "time_since_restore": 4188.211523771286, "episode_reward_min": 182.23572077172616, "timestamp": 1557376735, "episodes_total": 19262, "iterations_since_restore": 66, "pid": 9951, "num_metric_batches_dropped": 0, "config": {"train_batch_size": 90000, "env": "MultiWaveAttenuationMergePOEnvBufferedObs-v0no_random_eta3:0", "horizon": 1500, "sample_batch_size": 750, "observation_filter": "MeanStdFilter", "log_level": "INFO", "simple_optimizer": false, "monitor": false, "batch_mode": "truncate_episodes", "lambda": 0.97, "sample_async": false, "input_evaluation": null, "clip_actions": false, "env_config": {"run": "PPO", "flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.3,\n            \"eta3\": 0.1,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 10.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 600,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}"}, "kl_target": 0.01, "num_cpus_per_worker": 1, "preprocessor_pref": "deepmind", "num_cpus_for_driver": 1, "output_max_file_size": 67108864, "lr": 0.0005, "entropy_coeff": 0.0, "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "num_sgd_iter": 10, "clip_param": 0.3, "tf_session_args": {"log_device_placement": false, "inter_op_parallelism_threads": 2, "allow_soft_placement": true, "gpu_options": {"allow_growth": true}, "intra_op_parallelism_threads": 2, "device_count": {"CPU": 1}}, "model": {"max_seq_len": 20, "channel_major": false, "conv_filters": null, "free_log_std": false, "lstm_cell_size": 256, "dim": 84, "zero_mean": true, "framestack": true, "lstm_use_prev_action_reward": false, "squash_to_range": false, "use_lstm": false, "custom_options": {}, "grayscale": false, "custom_preprocessor": null, "conv_activation": "relu", "fcnet_hiddens": [128, 64, 32], "custom_model": null, "fcnet_activation": "tanh"}, "output": null, "optimizer": {}, "num_gpus_per_worker": 0, "num_workers": 60, "use_gae": true, "lr_schedule": null, "multiagent": {"policies_to_train": null, "policy_mapping_fn": null, "policy_graphs": {}}, "vf_loss_coeff": 1.0, "kl_coeff": 0.2, "num_gpus": 0, "compress_observations": false, "num_envs_per_worker": 1, "collect_metrics_timeout": 180, "straggler_mitigation": false, "custom_resources_per_worker": {}, "input": "sampler", "vf_share_layers": false, "sgd_minibatch_size": 128, "output_compress_columns": ["obs", "new_obs"], "vf_clip_param": 1000000.0, "synchronize_filters": true, "callbacks": {"on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7fd2636160f0>", "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7fd263616710>", "on_train_result": null, "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7fd263616f98>", "on_sample_end": null}, "gamma": 0.99, "clip_rewards": null}, "experiment_id": "9b178520507b4656ac608c6ff2056ff7", "timesteps_this_iter": 178003, "info": {"sample_time_ms": 28133.237, "num_steps_trained": 32019823, "update_time_ms": 11.702, "num_steps_sampled": 32019823, "grad_time_ms": 40476.326, "load_time_ms": 36.848, "default": {"kl": 0.009328095242381096, "vf_loss": 26.37613296508789, "vf_explained_var": 0.8690311312675476, "cur_kl_coeff": 0.44999998807907104, "total_loss": 26.373735427856445, "policy_loss": -0.006594953127205372, "cur_lr": 0.0005000000237487257, "entropy": 2.5941052436828613}}, "date": "2019-05-09_04-38-55", "done": false, "episode_len_mean": 728.45, "episodes_this_iter": 83, "episode_reward_max": 925.1481238169533, "custom_metrics": {"cost2_min": -193.67618679568716, "system_level_velocity_min": 9.402452541137654, "cost2_max": -74.80164515265774, "cost2_mean": -169.11675483830012, "cost1_mean": 335.89693247314955, "outflow_rate_mean": 1002.6053389509971, "cost1_max": 454.43120914027395, "system_level_velocity_mean": 12.441902543322565, "cost1_min": 104.59075474114029, "outflow_rate_max": 1228.7734729487343, "outflow_rate_min": 416.1479919011126, "system_level_velocity_max": 16.05528359425205}, "hostname": "flow-main", "episode_reward_mean": 668.5467465949861, "training_iteration": 266, "timesteps_since_restore": 10659590, "timesteps_total": 32019823, "time_this_iter_s": 69.8004138469696, "node_ip": "10.138.0.2", "policy_reward_mean": {}}
{"time_total_s": 11941.547065734863, "time_since_restore": 4258.624886274338, "episode_reward_min": 345.00125653795453, "timestamp": 1557376806, "episodes_total": 19345, "iterations_since_restore": 67, "pid": 9951, "num_metric_batches_dropped": 0, "config": {"train_batch_size": 90000, "env": "MultiWaveAttenuationMergePOEnvBufferedObs-v0no_random_eta3:0", "horizon": 1500, "sample_batch_size": 750, "observation_filter": "MeanStdFilter", "log_level": "INFO", "simple_optimizer": false, "monitor": false, "batch_mode": "truncate_episodes", "lambda": 0.97, "sample_async": false, "input_evaluation": null, "clip_actions": false, "env_config": {"run": "PPO", "flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.3,\n            \"eta3\": 0.1,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 10.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 600,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}"}, "kl_target": 0.01, "num_cpus_per_worker": 1, "preprocessor_pref": "deepmind", "num_cpus_for_driver": 1, "output_max_file_size": 67108864, "lr": 0.0005, "entropy_coeff": 0.0, "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "num_sgd_iter": 10, "clip_param": 0.3, "tf_session_args": {"log_device_placement": false, "inter_op_parallelism_threads": 2, "allow_soft_placement": true, "gpu_options": {"allow_growth": true}, "intra_op_parallelism_threads": 2, "device_count": {"CPU": 1}}, "model": {"max_seq_len": 20, "channel_major": false, "conv_filters": null, "free_log_std": false, "lstm_cell_size": 256, "dim": 84, "zero_mean": true, "framestack": true, "lstm_use_prev_action_reward": false, "squash_to_range": false, "use_lstm": false, "custom_options": {}, "grayscale": false, "custom_preprocessor": null, "conv_activation": "relu", "fcnet_hiddens": [128, 64, 32], "custom_model": null, "fcnet_activation": "tanh"}, "output": null, "optimizer": {}, "num_gpus_per_worker": 0, "num_workers": 60, "use_gae": true, "lr_schedule": null, "multiagent": {"policies_to_train": null, "policy_mapping_fn": null, "policy_graphs": {}}, "vf_loss_coeff": 1.0, "kl_coeff": 0.2, "num_gpus": 0, "compress_observations": false, "num_envs_per_worker": 1, "collect_metrics_timeout": 180, "straggler_mitigation": false, "custom_resources_per_worker": {}, "input": "sampler", "vf_share_layers": false, "sgd_minibatch_size": 128, "output_compress_columns": ["obs", "new_obs"], "vf_clip_param": 1000000.0, "synchronize_filters": true, "callbacks": {"on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7fd263616f60>", "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7fd263616cf8>", "on_train_result": null, "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7fd263616ba8>", "on_sample_end": null}, "gamma": 0.99, "clip_rewards": null}, "experiment_id": "9b178520507b4656ac608c6ff2056ff7", "timesteps_this_iter": 179676, "info": {"sample_time_ms": 28248.262, "num_steps_trained": 32199499, "update_time_ms": 11.671, "num_steps_sampled": 32199499, "grad_time_ms": 40864.658, "load_time_ms": 37.526, "default": {"kl": 0.00987139530479908, "vf_loss": 26.828792572021484, "vf_explained_var": 0.8650842308998108, "cur_kl_coeff": 0.44999998807907104, "total_loss": 26.826082229614258, "policy_loss": -0.007155737839639187, "cur_lr": 0.0005000000237487257, "entropy": 2.595503807067871}}, "date": "2019-05-09_04-40-06", "done": false, "episode_len_mean": 741.79, "episodes_this_iter": 83, "episode_reward_max": 914.0368890158402, "custom_metrics": {"cost2_min": -197.22174302355373, "system_level_velocity_min": 9.72319294889922, "cost2_max": -115.27838340498631, "cost2_mean": -175.3263879086006, "cost1_mean": 345.9883050429744, "outflow_rate_mean": 1028.6931399143696, "cost1_max": 454.39300929231354, "system_level_velocity_mean": 12.552069059938738, "cost1_min": 178.66863881420124, "outflow_rate_max": 1233.6666647273055, "outflow_rate_min": 583.346872504634, "system_level_velocity_max": 15.991304941273796}, "hostname": "flow-main", "episode_reward_mean": 685.9585336612154, "training_iteration": 267, "timesteps_since_restore": 10839266, "timesteps_total": 32199499, "time_this_iter_s": 70.41336250305176, "node_ip": "10.138.0.2", "policy_reward_mean": {}}
{"time_total_s": 12011.537647485733, "time_since_restore": 4328.6154680252075, "episode_reward_min": 191.00907118297445, "timestamp": 1557376876, "episodes_total": 19428, "iterations_since_restore": 68, "pid": 9951, "num_metric_batches_dropped": 0, "config": {"train_batch_size": 90000, "env": "MultiWaveAttenuationMergePOEnvBufferedObs-v0no_random_eta3:0", "horizon": 1500, "sample_batch_size": 750, "observation_filter": "MeanStdFilter", "log_level": "INFO", "simple_optimizer": false, "monitor": false, "batch_mode": "truncate_episodes", "lambda": 0.97, "sample_async": false, "input_evaluation": null, "clip_actions": false, "env_config": {"run": "PPO", "flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.3,\n            \"eta3\": 0.1,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 10.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 600,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}"}, "kl_target": 0.01, "num_cpus_per_worker": 1, "preprocessor_pref": "deepmind", "num_cpus_for_driver": 1, "output_max_file_size": 67108864, "lr": 0.0005, "entropy_coeff": 0.0, "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "num_sgd_iter": 10, "clip_param": 0.3, "tf_session_args": {"log_device_placement": false, "inter_op_parallelism_threads": 2, "allow_soft_placement": true, "gpu_options": {"allow_growth": true}, "intra_op_parallelism_threads": 2, "device_count": {"CPU": 1}}, "model": {"max_seq_len": 20, "channel_major": false, "conv_filters": null, "free_log_std": false, "lstm_cell_size": 256, "dim": 84, "zero_mean": true, "framestack": true, "lstm_use_prev_action_reward": false, "squash_to_range": false, "use_lstm": false, "custom_options": {}, "grayscale": false, "custom_preprocessor": null, "conv_activation": "relu", "fcnet_hiddens": [128, 64, 32], "custom_model": null, "fcnet_activation": "tanh"}, "output": null, "optimizer": {}, "num_gpus_per_worker": 0, "num_workers": 60, "use_gae": true, "lr_schedule": null, "multiagent": {"policies_to_train": null, "policy_mapping_fn": null, "policy_graphs": {}}, "vf_loss_coeff": 1.0, "kl_coeff": 0.2, "num_gpus": 0, "compress_observations": false, "num_envs_per_worker": 1, "collect_metrics_timeout": 180, "straggler_mitigation": false, "custom_resources_per_worker": {}, "input": "sampler", "vf_share_layers": false, "sgd_minibatch_size": 128, "output_compress_columns": ["obs", "new_obs"], "vf_clip_param": 1000000.0, "synchronize_filters": true, "callbacks": {"on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7fd26360c5f8>", "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7fd25c327128>", "on_train_result": null, "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7fd25c3274a8>", "on_sample_end": null}, "gamma": 0.99, "clip_rewards": null}, "experiment_id": "9b178520507b4656ac608c6ff2056ff7", "timesteps_this_iter": 180297, "info": {"sample_time_ms": 28289.771, "num_steps_trained": 32379796, "update_time_ms": 11.549, "num_steps_sampled": 32379796, "grad_time_ms": 41040.119, "load_time_ms": 38.64, "default": {"kl": 0.009623473510146141, "vf_loss": 26.556476593017578, "vf_explained_var": 0.8653392195701599, "cur_kl_coeff": 0.44999998807907104, "total_loss": 26.553485870361328, "policy_loss": -0.00732176611199975, "cur_lr": 0.0005000000237487257, "entropy": 2.611985445022583}}, "date": "2019-05-09_04-41-16", "done": false, "episode_len_mean": 733.46, "episodes_this_iter": 83, "episode_reward_max": 871.0393233546729, "custom_metrics": {"cost2_min": -197.22174302355373, "system_level_velocity_min": 8.973230786756941, "cost2_max": -85.71204477275367, "cost2_mean": -173.25321563700385, "cost1_mean": 342.3051563808983, "outflow_rate_mean": 1018.4908937374335, "cost1_max": 433.1980751976256, "system_level_velocity_mean": 12.569014017436604, "cost1_min": 108.84017311577824, "outflow_rate_max": 1193.0812299514832, "outflow_rate_min": 406.671297452149, "system_level_velocity_max": 15.633126964956327}, "hostname": "flow-main", "episode_reward_mean": 675.0709205953816, "training_iteration": 268, "timesteps_since_restore": 11019563, "timesteps_total": 32379796, "time_this_iter_s": 69.99058175086975, "node_ip": "10.138.0.2", "policy_reward_mean": {}}
{"time_total_s": 12083.315819501877, "time_since_restore": 4400.393640041351, "episode_reward_min": 186.43289567824422, "timestamp": 1557376948, "episodes_total": 19510, "iterations_since_restore": 69, "pid": 9951, "num_metric_batches_dropped": 0, "config": {"train_batch_size": 90000, "env": "MultiWaveAttenuationMergePOEnvBufferedObs-v0no_random_eta3:0", "horizon": 1500, "sample_batch_size": 750, "observation_filter": "MeanStdFilter", "log_level": "INFO", "simple_optimizer": false, "monitor": false, "batch_mode": "truncate_episodes", "lambda": 0.97, "sample_async": false, "input_evaluation": null, "clip_actions": false, "env_config": {"run": "PPO", "flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.3,\n            \"eta3\": 0.1,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 10.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 600,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}"}, "kl_target": 0.01, "num_cpus_per_worker": 1, "preprocessor_pref": "deepmind", "num_cpus_for_driver": 1, "output_max_file_size": 67108864, "lr": 0.0005, "entropy_coeff": 0.0, "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "num_sgd_iter": 10, "clip_param": 0.3, "tf_session_args": {"log_device_placement": false, "inter_op_parallelism_threads": 2, "allow_soft_placement": true, "gpu_options": {"allow_growth": true}, "intra_op_parallelism_threads": 2, "device_count": {"CPU": 1}}, "model": {"max_seq_len": 20, "channel_major": false, "conv_filters": null, "free_log_std": false, "lstm_cell_size": 256, "dim": 84, "zero_mean": true, "framestack": true, "lstm_use_prev_action_reward": false, "squash_to_range": false, "use_lstm": false, "custom_options": {}, "grayscale": false, "custom_preprocessor": null, "conv_activation": "relu", "fcnet_hiddens": [128, 64, 32], "custom_model": null, "fcnet_activation": "tanh"}, "output": null, "optimizer": {}, "num_gpus_per_worker": 0, "num_workers": 60, "use_gae": true, "lr_schedule": null, "multiagent": {"policies_to_train": null, "policy_mapping_fn": null, "policy_graphs": {}}, "vf_loss_coeff": 1.0, "kl_coeff": 0.2, "num_gpus": 0, "compress_observations": false, "num_envs_per_worker": 1, "collect_metrics_timeout": 180, "straggler_mitigation": false, "custom_resources_per_worker": {}, "input": "sampler", "vf_share_layers": false, "sgd_minibatch_size": 128, "output_compress_columns": ["obs", "new_obs"], "vf_clip_param": 1000000.0, "synchronize_filters": true, "callbacks": {"on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7fd263616b00>", "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7fd263616cc0>", "on_train_result": null, "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7fd2636167b8>", "on_sample_end": null}, "gamma": 0.99, "clip_rewards": null}, "experiment_id": "9b178520507b4656ac608c6ff2056ff7", "timesteps_this_iter": 180809, "info": {"sample_time_ms": 28419.061, "num_steps_trained": 32560605, "update_time_ms": 11.748, "num_steps_sampled": 32560605, "grad_time_ms": 41112.677, "load_time_ms": 39.874, "default": {"kl": 0.009433292783796787, "vf_loss": 24.57175636291504, "vf_explained_var": 0.8726760745048523, "cur_kl_coeff": 0.44999998807907104, "total_loss": 24.569175720214844, "policy_loss": -0.006824183277785778, "cur_lr": 0.0005000000237487257, "entropy": 2.6183066368103027}}, "date": "2019-05-09_04-42-28", "done": false, "episode_len_mean": 736.08, "episodes_this_iter": 82, "episode_reward_max": 937.581780791258, "custom_metrics": {"cost2_min": -198.54851149645683, "system_level_velocity_min": 10.229100211118793, "cost2_max": -85.54831731156207, "cost2_mean": -173.29068394918374, "cost1_mean": 343.52769217691423, "outflow_rate_mean": 1019.6647761241853, "cost1_max": 456.49189788671583, "system_level_velocity_mean": 12.56212175460492, "cost1_min": 110.61536679236028, "outflow_rate_max": 1233.333799985487, "outflow_rate_min": 428.5992793377692, "system_level_velocity_max": 16.05070620071026}, "hostname": "flow-main", "episode_reward_mean": 680.7012121200793, "training_iteration": 269, "timesteps_since_restore": 11200372, "timesteps_total": 32560605, "time_this_iter_s": 71.7781720161438, "node_ip": "10.138.0.2", "policy_reward_mean": {}}
{"time_total_s": 12152.917391300201, "time_since_restore": 4469.995211839676, "episode_reward_min": 186.5840145358535, "timestamp": 1557377017, "episodes_total": 19597, "iterations_since_restore": 70, "pid": 9951, "num_metric_batches_dropped": 0, "config": {"train_batch_size": 90000, "env": "MultiWaveAttenuationMergePOEnvBufferedObs-v0no_random_eta3:0", "horizon": 1500, "sample_batch_size": 750, "observation_filter": "MeanStdFilter", "log_level": "INFO", "simple_optimizer": false, "monitor": false, "batch_mode": "truncate_episodes", "lambda": 0.97, "sample_async": false, "input_evaluation": null, "clip_actions": false, "env_config": {"run": "PPO", "flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.3,\n            \"eta3\": 0.1,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 10.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 600,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}"}, "kl_target": 0.01, "num_cpus_per_worker": 1, "preprocessor_pref": "deepmind", "num_cpus_for_driver": 1, "output_max_file_size": 67108864, "lr": 0.0005, "entropy_coeff": 0.0, "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "num_sgd_iter": 10, "clip_param": 0.3, "tf_session_args": {"log_device_placement": false, "inter_op_parallelism_threads": 2, "allow_soft_placement": true, "gpu_options": {"allow_growth": true}, "intra_op_parallelism_threads": 2, "device_count": {"CPU": 1}}, "model": {"max_seq_len": 20, "channel_major": false, "conv_filters": null, "free_log_std": false, "lstm_cell_size": 256, "dim": 84, "zero_mean": true, "framestack": true, "lstm_use_prev_action_reward": false, "squash_to_range": false, "use_lstm": false, "custom_options": {}, "grayscale": false, "custom_preprocessor": null, "conv_activation": "relu", "fcnet_hiddens": [128, 64, 32], "custom_model": null, "fcnet_activation": "tanh"}, "output": null, "optimizer": {}, "num_gpus_per_worker": 0, "num_workers": 60, "use_gae": true, "lr_schedule": null, "multiagent": {"policies_to_train": null, "policy_mapping_fn": null, "policy_graphs": {}}, "vf_loss_coeff": 1.0, "kl_coeff": 0.2, "num_gpus": 0, "compress_observations": false, "num_envs_per_worker": 1, "collect_metrics_timeout": 180, "straggler_mitigation": false, "custom_resources_per_worker": {}, "input": "sampler", "vf_share_layers": false, "sgd_minibatch_size": 128, "output_compress_columns": ["obs", "new_obs"], "vf_clip_param": 1000000.0, "synchronize_filters": true, "callbacks": {"on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7fd25c327e80>", "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7fd25c327128>", "on_train_result": null, "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7fd25c327438>", "on_sample_end": null}, "gamma": 0.99, "clip_rewards": null}, "experiment_id": "9b178520507b4656ac608c6ff2056ff7", "timesteps_this_iter": 177583, "info": {"sample_time_ms": 28389.212, "num_steps_trained": 32738188, "update_time_ms": 11.759, "num_steps_sampled": 32738188, "grad_time_ms": 41198.189, "load_time_ms": 40.038, "default": {"kl": 0.009623444639146328, "vf_loss": 26.909997940063477, "vf_explained_var": 0.865095853805542, "cur_kl_coeff": 0.44999998807907104, "total_loss": 26.907573699951172, "policy_loss": -0.006755142472684383, "cur_lr": 0.0005000000237487257, "entropy": 2.5985662937164307}}, "date": "2019-05-09_04-43-37", "done": false, "episode_len_mean": 729.86, "episodes_this_iter": 87, "episode_reward_max": 894.5747573585721, "custom_metrics": {"cost2_min": -207.03561258141085, "system_level_velocity_min": 9.59982772928685, "cost2_max": -83.0460668236916, "cost2_mean": -169.5508981583629, "cost1_mean": 342.2855431443353, "outflow_rate_mean": 1013.2748016635306, "cost1_max": 441.9108833033117, "system_level_velocity_mean": 12.601959799115827, "cost1_min": 105.83972263660722, "outflow_rate_max": 1216.6242886978928, "outflow_rate_min": 401.3650228177575, "system_level_velocity_max": 15.554517039350527}, "hostname": "flow-main", "episode_reward_mean": 676.2996217032714, "training_iteration": 270, "timesteps_since_restore": 11377955, "timesteps_total": 32738188, "time_this_iter_s": 69.60157179832458, "node_ip": "10.138.0.2", "policy_reward_mean": {}}
{"time_total_s": 12222.69418478012, "time_since_restore": 4539.772005319595, "episode_reward_min": 204.7127170656816, "timestamp": 1557377087, "episodes_total": 19680, "iterations_since_restore": 71, "pid": 9951, "num_metric_batches_dropped": 0, "config": {"train_batch_size": 90000, "env": "MultiWaveAttenuationMergePOEnvBufferedObs-v0no_random_eta3:0", "horizon": 1500, "sample_batch_size": 750, "observation_filter": "MeanStdFilter", "log_level": "INFO", "simple_optimizer": false, "monitor": false, "batch_mode": "truncate_episodes", "lambda": 0.97, "sample_async": false, "input_evaluation": null, "clip_actions": false, "env_config": {"run": "PPO", "flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.3,\n            \"eta3\": 0.1,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 10.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 600,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}"}, "kl_target": 0.01, "num_cpus_per_worker": 1, "preprocessor_pref": "deepmind", "num_cpus_for_driver": 1, "output_max_file_size": 67108864, "lr": 0.0005, "entropy_coeff": 0.0, "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "num_sgd_iter": 10, "clip_param": 0.3, "tf_session_args": {"log_device_placement": false, "inter_op_parallelism_threads": 2, "allow_soft_placement": true, "gpu_options": {"allow_growth": true}, "intra_op_parallelism_threads": 2, "device_count": {"CPU": 1}}, "model": {"max_seq_len": 20, "channel_major": false, "conv_filters": null, "free_log_std": false, "lstm_cell_size": 256, "dim": 84, "zero_mean": true, "framestack": true, "lstm_use_prev_action_reward": false, "squash_to_range": false, "use_lstm": false, "custom_options": {}, "grayscale": false, "custom_preprocessor": null, "conv_activation": "relu", "fcnet_hiddens": [128, 64, 32], "custom_model": null, "fcnet_activation": "tanh"}, "output": null, "optimizer": {}, "num_gpus_per_worker": 0, "num_workers": 60, "use_gae": true, "lr_schedule": null, "multiagent": {"policies_to_train": null, "policy_mapping_fn": null, "policy_graphs": {}}, "vf_loss_coeff": 1.0, "kl_coeff": 0.2, "num_gpus": 0, "compress_observations": false, "num_envs_per_worker": 1, "collect_metrics_timeout": 180, "straggler_mitigation": false, "custom_resources_per_worker": {}, "input": "sampler", "vf_share_layers": false, "sgd_minibatch_size": 128, "output_compress_columns": ["obs", "new_obs"], "vf_clip_param": 1000000.0, "synchronize_filters": true, "callbacks": {"on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7fd25c327cc0>", "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7fd25c3272e8>", "on_train_result": null, "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7fd25c327320>", "on_sample_end": null}, "gamma": 0.99, "clip_rewards": null}, "experiment_id": "9b178520507b4656ac608c6ff2056ff7", "timesteps_this_iter": 179571, "info": {"sample_time_ms": 28440.393, "num_steps_trained": 32917759, "update_time_ms": 11.426, "num_steps_sampled": 32917759, "grad_time_ms": 41191.826, "load_time_ms": 40.048, "default": {"kl": 0.009448735043406487, "vf_loss": 24.884716033935547, "vf_explained_var": 0.8714684247970581, "cur_kl_coeff": 0.44999998807907104, "total_loss": 24.882484436035156, "policy_loss": -0.006485441233962774, "cur_lr": 0.0005000000237487257, "entropy": 2.626279354095459}}, "date": "2019-05-09_04-44-47", "done": false, "episode_len_mean": 730.08, "episodes_this_iter": 83, "episode_reward_max": 874.6985900950251, "custom_metrics": {"cost2_min": -195.74007587031815, "system_level_velocity_min": 9.834664354092379, "cost2_max": -84.26498546787693, "cost2_mean": -168.45355225906852, "cost1_mean": 341.22631642843464, "outflow_rate_mean": 1013.3362957054699, "cost1_max": 440.9479424626473, "system_level_velocity_mean": 12.586887830232715, "cost1_min": 115.84024425311985, "outflow_rate_max": 1204.7408231326742, "outflow_rate_min": 435.2768917900941, "system_level_velocity_max": 15.595154599721623}, "hostname": "flow-main", "episode_reward_mean": 676.0745619483272, "training_iteration": 271, "timesteps_since_restore": 11557526, "timesteps_total": 32917759, "time_this_iter_s": 69.77679347991943, "node_ip": "10.138.0.2", "policy_reward_mean": {}}
{"time_total_s": 12290.787786483765, "time_since_restore": 4607.865607023239, "episode_reward_min": 190.16682808616372, "timestamp": 1557377155, "episodes_total": 19764, "iterations_since_restore": 72, "pid": 9951, "num_metric_batches_dropped": 0, "config": {"train_batch_size": 90000, "env": "MultiWaveAttenuationMergePOEnvBufferedObs-v0no_random_eta3:0", "horizon": 1500, "sample_batch_size": 750, "observation_filter": "MeanStdFilter", "log_level": "INFO", "simple_optimizer": false, "monitor": false, "batch_mode": "truncate_episodes", "lambda": 0.97, "sample_async": false, "input_evaluation": null, "clip_actions": false, "env_config": {"run": "PPO", "flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.3,\n            \"eta3\": 0.1,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 10.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 600,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}"}, "kl_target": 0.01, "num_cpus_per_worker": 1, "preprocessor_pref": "deepmind", "num_cpus_for_driver": 1, "output_max_file_size": 67108864, "lr": 0.0005, "entropy_coeff": 0.0, "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "num_sgd_iter": 10, "clip_param": 0.3, "tf_session_args": {"log_device_placement": false, "inter_op_parallelism_threads": 2, "allow_soft_placement": true, "gpu_options": {"allow_growth": true}, "intra_op_parallelism_threads": 2, "device_count": {"CPU": 1}}, "model": {"max_seq_len": 20, "channel_major": false, "conv_filters": null, "free_log_std": false, "lstm_cell_size": 256, "dim": 84, "zero_mean": true, "framestack": true, "lstm_use_prev_action_reward": false, "squash_to_range": false, "use_lstm": false, "custom_options": {}, "grayscale": false, "custom_preprocessor": null, "conv_activation": "relu", "fcnet_hiddens": [128, 64, 32], "custom_model": null, "fcnet_activation": "tanh"}, "output": null, "optimizer": {}, "num_gpus_per_worker": 0, "num_workers": 60, "use_gae": true, "lr_schedule": null, "multiagent": {"policies_to_train": null, "policy_mapping_fn": null, "policy_graphs": {}}, "vf_loss_coeff": 1.0, "kl_coeff": 0.2, "num_gpus": 0, "compress_observations": false, "num_envs_per_worker": 1, "collect_metrics_timeout": 180, "straggler_mitigation": false, "custom_resources_per_worker": {}, "input": "sampler", "vf_share_layers": false, "sgd_minibatch_size": 128, "output_compress_columns": ["obs", "new_obs"], "vf_clip_param": 1000000.0, "synchronize_filters": true, "callbacks": {"on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7fd263616fd0>", "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7fd263616ef0>", "on_train_result": null, "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7fd263616ba8>", "on_sample_end": null}, "gamma": 0.99, "clip_rewards": null}, "experiment_id": "9b178520507b4656ac608c6ff2056ff7", "timesteps_this_iter": 178187, "info": {"sample_time_ms": 28389.478, "num_steps_trained": 33095946, "update_time_ms": 11.581, "num_steps_sampled": 33095946, "grad_time_ms": 41100.175, "load_time_ms": 40.093, "default": {"kl": 0.00939292460680008, "vf_loss": 26.083810806274414, "vf_explained_var": 0.866546094417572, "cur_kl_coeff": 0.44999998807907104, "total_loss": 26.08152961730957, "policy_loss": -0.006508722901344299, "cur_lr": 0.0005000000237487257, "entropy": 2.6170530319213867}}, "date": "2019-05-09_04-45-55", "done": false, "episode_len_mean": 735.25, "episodes_this_iter": 84, "episode_reward_max": 940.1099035615691, "custom_metrics": {"cost2_min": -192.8797306635032, "system_level_velocity_min": 9.806782262343699, "cost2_max": -84.26498546787693, "cost2_mean": -167.258349837298, "cost1_mean": 338.8518846531638, "outflow_rate_mean": 1005.2231789386942, "cost1_max": 456.6684584758031, "system_level_velocity_mean": 12.399644230586256, "cost1_min": 110.59704892174443, "outflow_rate_max": 1233.8313939589289, "outflow_rate_min": 425.41136953001933, "system_level_velocity_max": 16.09188537658787}, "hostname": "flow-main", "episode_reward_mean": 677.0782731169285, "training_iteration": 272, "timesteps_since_restore": 11735713, "timesteps_total": 33095946, "time_this_iter_s": 68.0936017036438, "node_ip": "10.138.0.2", "policy_reward_mean": {}}
{"time_total_s": 12362.143426656723, "time_since_restore": 4679.2212471961975, "episode_reward_min": 190.16682808616372, "timestamp": 1557377227, "episodes_total": 19847, "iterations_since_restore": 73, "pid": 9951, "num_metric_batches_dropped": 0, "config": {"train_batch_size": 90000, "env": "MultiWaveAttenuationMergePOEnvBufferedObs-v0no_random_eta3:0", "horizon": 1500, "sample_batch_size": 750, "observation_filter": "MeanStdFilter", "log_level": "INFO", "simple_optimizer": false, "monitor": false, "batch_mode": "truncate_episodes", "lambda": 0.97, "sample_async": false, "input_evaluation": null, "clip_actions": false, "env_config": {"run": "PPO", "flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.3,\n            \"eta3\": 0.1,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 10.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 600,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}"}, "kl_target": 0.01, "num_cpus_per_worker": 1, "preprocessor_pref": "deepmind", "num_cpus_for_driver": 1, "output_max_file_size": 67108864, "lr": 0.0005, "entropy_coeff": 0.0, "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "num_sgd_iter": 10, "clip_param": 0.3, "tf_session_args": {"log_device_placement": false, "inter_op_parallelism_threads": 2, "allow_soft_placement": true, "gpu_options": {"allow_growth": true}, "intra_op_parallelism_threads": 2, "device_count": {"CPU": 1}}, "model": {"max_seq_len": 20, "channel_major": false, "conv_filters": null, "free_log_std": false, "lstm_cell_size": 256, "dim": 84, "zero_mean": true, "framestack": true, "lstm_use_prev_action_reward": false, "squash_to_range": false, "use_lstm": false, "custom_options": {}, "grayscale": false, "custom_preprocessor": null, "conv_activation": "relu", "fcnet_hiddens": [128, 64, 32], "custom_model": null, "fcnet_activation": "tanh"}, "output": null, "optimizer": {}, "num_gpus_per_worker": 0, "num_workers": 60, "use_gae": true, "lr_schedule": null, "multiagent": {"policies_to_train": null, "policy_mapping_fn": null, "policy_graphs": {}}, "vf_loss_coeff": 1.0, "kl_coeff": 0.2, "num_gpus": 0, "compress_observations": false, "num_envs_per_worker": 1, "collect_metrics_timeout": 180, "straggler_mitigation": false, "custom_resources_per_worker": {}, "input": "sampler", "vf_share_layers": false, "sgd_minibatch_size": 128, "output_compress_columns": ["obs", "new_obs"], "vf_clip_param": 1000000.0, "synchronize_filters": true, "callbacks": {"on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7fd25c327860>", "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7fd25c3270f0>", "on_train_result": null, "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7fd25c327390>", "on_sample_end": null}, "gamma": 0.99, "clip_rewards": null}, "experiment_id": "9b178520507b4656ac608c6ff2056ff7", "timesteps_this_iter": 179691, "info": {"sample_time_ms": 28430.148, "num_steps_trained": 33275637, "update_time_ms": 11.156, "num_steps_sampled": 33275637, "grad_time_ms": 41180.077, "load_time_ms": 40.331, "default": {"kl": 0.009988454170525074, "vf_loss": 24.987974166870117, "vf_explained_var": 0.8732231259346008, "cur_kl_coeff": 0.44999998807907104, "total_loss": 24.985366821289062, "policy_loss": -0.007102467585355043, "cur_lr": 0.0005000000237487257, "entropy": 2.6348400115966797}}, "date": "2019-05-09_04-47-07", "done": false, "episode_len_mean": 729.92, "episodes_this_iter": 83, "episode_reward_max": 936.9290078732739, "custom_metrics": {"cost2_min": -195.60235324852786, "system_level_velocity_min": 10.889562944890208, "cost2_max": -84.86337229542842, "cost2_mean": -167.9378539106705, "cost1_mean": 342.1402910125083, "outflow_rate_mean": 1014.028836961529, "cost1_max": 444.2825430489178, "system_level_velocity_mean": 12.599716019154293, "cost1_min": 110.59704892174443, "outflow_rate_max": 1208.3050471144822, "outflow_rate_min": 425.41136953001933, "system_level_velocity_max": 15.637777622925853}, "hostname": "flow-main", "episode_reward_mean": 680.3679239127033, "training_iteration": 273, "timesteps_since_restore": 11915404, "timesteps_total": 33275637, "time_this_iter_s": 71.35564017295837, "node_ip": "10.138.0.2", "policy_reward_mean": {}}
{"time_total_s": 12432.958042383194, "time_since_restore": 4750.0358629226685, "episode_reward_min": 189.22973199886655, "timestamp": 1557377297, "episodes_total": 19931, "iterations_since_restore": 74, "pid": 9951, "num_metric_batches_dropped": 0, "config": {"train_batch_size": 90000, "env": "MultiWaveAttenuationMergePOEnvBufferedObs-v0no_random_eta3:0", "horizon": 1500, "sample_batch_size": 750, "observation_filter": "MeanStdFilter", "log_level": "INFO", "simple_optimizer": false, "monitor": false, "batch_mode": "truncate_episodes", "lambda": 0.97, "sample_async": false, "input_evaluation": null, "clip_actions": false, "env_config": {"run": "PPO", "flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.3,\n            \"eta3\": 0.1,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 10.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 600,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}"}, "kl_target": 0.01, "num_cpus_per_worker": 1, "preprocessor_pref": "deepmind", "num_cpus_for_driver": 1, "output_max_file_size": 67108864, "lr": 0.0005, "entropy_coeff": 0.0, "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "num_sgd_iter": 10, "clip_param": 0.3, "tf_session_args": {"log_device_placement": false, "inter_op_parallelism_threads": 2, "allow_soft_placement": true, "gpu_options": {"allow_growth": true}, "intra_op_parallelism_threads": 2, "device_count": {"CPU": 1}}, "model": {"max_seq_len": 20, "channel_major": false, "conv_filters": null, "free_log_std": false, "lstm_cell_size": 256, "dim": 84, "zero_mean": true, "framestack": true, "lstm_use_prev_action_reward": false, "squash_to_range": false, "use_lstm": false, "custom_options": {}, "grayscale": false, "custom_preprocessor": null, "conv_activation": "relu", "fcnet_hiddens": [128, 64, 32], "custom_model": null, "fcnet_activation": "tanh"}, "output": null, "optimizer": {}, "num_gpus_per_worker": 0, "num_workers": 60, "use_gae": true, "lr_schedule": null, "multiagent": {"policies_to_train": null, "policy_mapping_fn": null, "policy_graphs": {}}, "vf_loss_coeff": 1.0, "kl_coeff": 0.2, "num_gpus": 0, "compress_observations": false, "num_envs_per_worker": 1, "collect_metrics_timeout": 180, "straggler_mitigation": false, "custom_resources_per_worker": {}, "input": "sampler", "vf_share_layers": false, "sgd_minibatch_size": 128, "output_compress_columns": ["obs", "new_obs"], "vf_clip_param": 1000000.0, "synchronize_filters": true, "callbacks": {"on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7fd263616470>", "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7fd263616e80>", "on_train_result": null, "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7fd263616f60>", "on_sample_end": null}, "gamma": 0.99, "clip_rewards": null}, "experiment_id": "9b178520507b4656ac608c6ff2056ff7", "timesteps_this_iter": 178986, "info": {"sample_time_ms": 28412.955, "num_steps_trained": 33454623, "update_time_ms": 11.269, "num_steps_sampled": 33454623, "grad_time_ms": 41229.435, "load_time_ms": 38.424, "default": {"kl": 0.010190659202635288, "vf_loss": 25.032642364501953, "vf_explained_var": 0.8709005117416382, "cur_kl_coeff": 0.44999998807907104, "total_loss": 25.030241012573242, "policy_loss": -0.006986682768911123, "cur_lr": 0.0005000000237487257, "entropy": 2.632319927215576}}, "date": "2019-05-09_04-48-17", "done": false, "episode_len_mean": 730.09, "episodes_this_iter": 84, "episode_reward_max": 888.7865088158753, "custom_metrics": {"cost2_min": -198.48209497081484, "system_level_velocity_min": 9.456357856609685, "cost2_max": -81.43602319104929, "cost2_mean": -168.04736923892366, "cost1_mean": 336.947577242924, "outflow_rate_mean": 1001.696197463314, "cost1_max": 429.80343847047936, "system_level_velocity_mean": 12.420103257709473, "cost1_min": 108.92156292463144, "outflow_rate_max": 1191.5457605743015, "outflow_rate_min": 424.2792358220423, "system_level_velocity_max": 15.243521878792127}, "hostname": "flow-main", "episode_reward_mean": 673.9067672972304, "training_iteration": 274, "timesteps_since_restore": 12094390, "timesteps_total": 33454623, "time_this_iter_s": 70.81461572647095, "node_ip": "10.138.0.2", "policy_reward_mean": {}}
{"time_total_s": 12502.612837314606, "time_since_restore": 4819.69065785408, "episode_reward_min": 189.22973199886655, "timestamp": 1557377367, "episodes_total": 20015, "iterations_since_restore": 75, "pid": 9951, "num_metric_batches_dropped": 0, "config": {"train_batch_size": 90000, "env": "MultiWaveAttenuationMergePOEnvBufferedObs-v0no_random_eta3:0", "horizon": 1500, "sample_batch_size": 750, "observation_filter": "MeanStdFilter", "log_level": "INFO", "simple_optimizer": false, "monitor": false, "batch_mode": "truncate_episodes", "lambda": 0.97, "sample_async": false, "input_evaluation": null, "clip_actions": false, "env_config": {"run": "PPO", "flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.3,\n            \"eta3\": 0.1,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 10.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 600,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}"}, "kl_target": 0.01, "num_cpus_per_worker": 1, "preprocessor_pref": "deepmind", "num_cpus_for_driver": 1, "output_max_file_size": 67108864, "lr": 0.0005, "entropy_coeff": 0.0, "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "num_sgd_iter": 10, "clip_param": 0.3, "tf_session_args": {"log_device_placement": false, "inter_op_parallelism_threads": 2, "allow_soft_placement": true, "gpu_options": {"allow_growth": true}, "intra_op_parallelism_threads": 2, "device_count": {"CPU": 1}}, "model": {"max_seq_len": 20, "channel_major": false, "conv_filters": null, "free_log_std": false, "lstm_cell_size": 256, "dim": 84, "zero_mean": true, "framestack": true, "lstm_use_prev_action_reward": false, "squash_to_range": false, "use_lstm": false, "custom_options": {}, "grayscale": false, "custom_preprocessor": null, "conv_activation": "relu", "fcnet_hiddens": [128, 64, 32], "custom_model": null, "fcnet_activation": "tanh"}, "output": null, "optimizer": {}, "num_gpus_per_worker": 0, "num_workers": 60, "use_gae": true, "lr_schedule": null, "multiagent": {"policies_to_train": null, "policy_mapping_fn": null, "policy_graphs": {}}, "vf_loss_coeff": 1.0, "kl_coeff": 0.2, "num_gpus": 0, "compress_observations": false, "num_envs_per_worker": 1, "collect_metrics_timeout": 180, "straggler_mitigation": false, "custom_resources_per_worker": {}, "input": "sampler", "vf_share_layers": false, "sgd_minibatch_size": 128, "output_compress_columns": ["obs", "new_obs"], "vf_clip_param": 1000000.0, "synchronize_filters": true, "callbacks": {"on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7fd25c327a58>", "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7fd25c327438>", "on_train_result": null, "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7fd25c327c18>", "on_sample_end": null}, "gamma": 0.99, "clip_rewards": null}, "experiment_id": "9b178520507b4656ac608c6ff2056ff7", "timesteps_this_iter": 178971, "info": {"sample_time_ms": 28458.488, "num_steps_trained": 33633594, "update_time_ms": 11.359, "num_steps_sampled": 33633594, "grad_time_ms": 41276.693, "load_time_ms": 38.691, "default": {"kl": 0.009870285168290138, "vf_loss": 24.41057586669922, "vf_explained_var": 0.8754942417144775, "cur_kl_coeff": 0.44999998807907104, "total_loss": 24.407756805419922, "policy_loss": -0.00726317660883069, "cur_lr": 0.0005000000237487257, "entropy": 2.630202293395996}}, "date": "2019-05-09_04-49-27", "done": false, "episode_len_mean": 735.21, "episodes_this_iter": 84, "episode_reward_max": 958.1814097618376, "custom_metrics": {"cost2_min": -200.79234300048503, "system_level_velocity_min": 10.438115668528269, "cost2_max": -81.43602319104929, "cost2_mean": -170.63432846861335, "cost1_mean": 340.5186092891171, "outflow_rate_mean": 1008.8149041373491, "cost1_max": 456.61543206257494, "system_level_velocity_mean": 12.411743235399221, "cost1_min": 108.92156292463144, "outflow_rate_max": 1228.882522115177, "outflow_rate_min": 424.2792358220423, "system_level_velocity_max": 16.05070584413684}, "hostname": "flow-main", "episode_reward_mean": 681.6837225934898, "training_iteration": 275, "timesteps_since_restore": 12273361, "timesteps_total": 33633594, "time_this_iter_s": 69.65479493141174, "node_ip": "10.138.0.2", "policy_reward_mean": {}}
{"time_total_s": 12572.15716123581, "time_since_restore": 4889.234981775284, "episode_reward_min": 199.88359806446266, "timestamp": 1557377437, "episodes_total": 20098, "iterations_since_restore": 76, "pid": 9951, "num_metric_batches_dropped": 0, "config": {"train_batch_size": 90000, "env": "MultiWaveAttenuationMergePOEnvBufferedObs-v0no_random_eta3:0", "horizon": 1500, "sample_batch_size": 750, "observation_filter": "MeanStdFilter", "log_level": "INFO", "simple_optimizer": false, "monitor": false, "batch_mode": "truncate_episodes", "lambda": 0.97, "sample_async": false, "input_evaluation": null, "clip_actions": false, "env_config": {"run": "PPO", "flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.3,\n            \"eta3\": 0.1,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 10.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 600,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}"}, "kl_target": 0.01, "num_cpus_per_worker": 1, "preprocessor_pref": "deepmind", "num_cpus_for_driver": 1, "output_max_file_size": 67108864, "lr": 0.0005, "entropy_coeff": 0.0, "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "num_sgd_iter": 10, "clip_param": 0.3, "tf_session_args": {"log_device_placement": false, "inter_op_parallelism_threads": 2, "allow_soft_placement": true, "gpu_options": {"allow_growth": true}, "intra_op_parallelism_threads": 2, "device_count": {"CPU": 1}}, "model": {"max_seq_len": 20, "channel_major": false, "conv_filters": null, "free_log_std": false, "lstm_cell_size": 256, "dim": 84, "zero_mean": true, "framestack": true, "lstm_use_prev_action_reward": false, "squash_to_range": false, "use_lstm": false, "custom_options": {}, "grayscale": false, "custom_preprocessor": null, "conv_activation": "relu", "fcnet_hiddens": [128, 64, 32], "custom_model": null, "fcnet_activation": "tanh"}, "output": null, "optimizer": {}, "num_gpus_per_worker": 0, "num_workers": 60, "use_gae": true, "lr_schedule": null, "multiagent": {"policies_to_train": null, "policy_mapping_fn": null, "policy_graphs": {}}, "vf_loss_coeff": 1.0, "kl_coeff": 0.2, "num_gpus": 0, "compress_observations": false, "num_envs_per_worker": 1, "collect_metrics_timeout": 180, "straggler_mitigation": false, "custom_resources_per_worker": {}, "input": "sampler", "vf_share_layers": false, "sgd_minibatch_size": 128, "output_compress_columns": ["obs", "new_obs"], "vf_clip_param": 1000000.0, "synchronize_filters": true, "callbacks": {"on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7fd26360ce48>", "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7fd26360ceb8>", "on_train_result": null, "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7fd26360ca90>", "on_sample_end": null}, "gamma": 0.99, "clip_rewards": null}, "experiment_id": "9b178520507b4656ac608c6ff2056ff7", "timesteps_this_iter": 178505, "info": {"sample_time_ms": 28479.106, "num_steps_trained": 33812099, "update_time_ms": 11.628, "num_steps_sampled": 33812099, "grad_time_ms": 41229.339, "load_time_ms": 38.374, "default": {"kl": 0.009666338562965393, "vf_loss": 24.631494522094727, "vf_explained_var": 0.8768754601478577, "cur_kl_coeff": 0.44999995827674866, "total_loss": 24.628761291503906, "policy_loss": -0.007081887684762478, "cur_lr": 0.0005000000237487257, "entropy": 2.637343645095825}}, "date": "2019-05-09_04-50-37", "done": false, "episode_len_mean": 730.94, "episodes_this_iter": 83, "episode_reward_max": 902.2138962390209, "custom_metrics": {"cost2_min": -195.93392929604164, "system_level_velocity_min": 10.159038042880239, "cost2_max": -86.37277002363733, "cost2_mean": -167.83657842579683, "cost1_mean": 337.7323618156634, "outflow_rate_mean": 1003.6365142140246, "cost1_max": 444.24977346475276, "system_level_velocity_mean": 12.431970145831965, "cost1_min": 114.5400001511191, "outflow_rate_max": 1222.0062852084388, "outflow_rate_min": 428.2610147487922, "system_level_velocity_max": 15.585133552415591}, "hostname": "flow-main", "episode_reward_mean": 669.0893909516685, "training_iteration": 276, "timesteps_since_restore": 12451866, "timesteps_total": 33812099, "time_this_iter_s": 69.54432392120361, "node_ip": "10.138.0.2", "policy_reward_mean": {}}
{"time_total_s": 12640.916154623032, "time_since_restore": 4957.993975162506, "episode_reward_min": 184.79885704477022, "timestamp": 1557377506, "episodes_total": 20183, "iterations_since_restore": 77, "pid": 9951, "num_metric_batches_dropped": 0, "config": {"train_batch_size": 90000, "env": "MultiWaveAttenuationMergePOEnvBufferedObs-v0no_random_eta3:0", "horizon": 1500, "sample_batch_size": 750, "observation_filter": "MeanStdFilter", "log_level": "INFO", "simple_optimizer": false, "monitor": false, "batch_mode": "truncate_episodes", "lambda": 0.97, "sample_async": false, "input_evaluation": null, "clip_actions": false, "env_config": {"run": "PPO", "flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.3,\n            \"eta3\": 0.1,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 10.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 600,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}"}, "kl_target": 0.01, "num_cpus_per_worker": 1, "preprocessor_pref": "deepmind", "num_cpus_for_driver": 1, "output_max_file_size": 67108864, "lr": 0.0005, "entropy_coeff": 0.0, "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "num_sgd_iter": 10, "clip_param": 0.3, "tf_session_args": {"log_device_placement": false, "inter_op_parallelism_threads": 2, "allow_soft_placement": true, "gpu_options": {"allow_growth": true}, "intra_op_parallelism_threads": 2, "device_count": {"CPU": 1}}, "model": {"max_seq_len": 20, "channel_major": false, "conv_filters": null, "free_log_std": false, "lstm_cell_size": 256, "dim": 84, "zero_mean": true, "framestack": true, "lstm_use_prev_action_reward": false, "squash_to_range": false, "use_lstm": false, "custom_options": {}, "grayscale": false, "custom_preprocessor": null, "conv_activation": "relu", "fcnet_hiddens": [128, 64, 32], "custom_model": null, "fcnet_activation": "tanh"}, "output": null, "optimizer": {}, "num_gpus_per_worker": 0, "num_workers": 60, "use_gae": true, "lr_schedule": null, "multiagent": {"policies_to_train": null, "policy_mapping_fn": null, "policy_graphs": {}}, "vf_loss_coeff": 1.0, "kl_coeff": 0.2, "num_gpus": 0, "compress_observations": false, "num_envs_per_worker": 1, "collect_metrics_timeout": 180, "straggler_mitigation": false, "custom_resources_per_worker": {}, "input": "sampler", "vf_share_layers": false, "sgd_minibatch_size": 128, "output_compress_columns": ["obs", "new_obs"], "vf_clip_param": 1000000.0, "synchronize_filters": true, "callbacks": {"on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7fd25c327198>", "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7fd25c327be0>", "on_train_result": null, "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7fd25c327588>", "on_sample_end": null}, "gamma": 0.99, "clip_rewards": null}, "experiment_id": "9b178520507b4656ac608c6ff2056ff7", "timesteps_this_iter": 181357, "info": {"sample_time_ms": 28494.996, "num_steps_trained": 33993456, "update_time_ms": 11.523, "num_steps_sampled": 33993456, "grad_time_ms": 41048.283, "load_time_ms": 38.155, "default": {"kl": 0.009919715113937855, "vf_loss": 26.187063217163086, "vf_explained_var": 0.8718032240867615, "cur_kl_coeff": 0.44999995827674866, "total_loss": 26.1845760345459, "policy_loss": -0.006950341165065765, "cur_lr": 0.0005000000237487257, "entropy": 2.6481170654296875}}, "date": "2019-05-09_04-51-46", "done": false, "episode_len_mean": 735.56, "episodes_this_iter": 85, "episode_reward_max": 922.8410298669621, "custom_metrics": {"cost2_min": -198.6224483558477, "system_level_velocity_min": 9.61897939655877, "cost2_max": -79.88645168415094, "cost2_mean": -171.26945569439283, "cost1_mean": 345.04811862071693, "outflow_rate_mean": 1022.594848244158, "cost1_max": 459.20741255022, "system_level_velocity_mean": 12.596411365554852, "cost1_min": 107.7568510918322, "outflow_rate_max": 1242.1111345405554, "outflow_rate_min": 419.74476242760943, "system_level_velocity_max": 16.1646967997044}, "hostname": "flow-main", "episode_reward_mean": 684.022387752244, "training_iteration": 277, "timesteps_since_restore": 12633223, "timesteps_total": 33993456, "time_this_iter_s": 68.75899338722229, "node_ip": "10.138.0.2", "policy_reward_mean": {}}
{"time_total_s": 12711.56871342659, "time_since_restore": 5028.646533966064, "episode_reward_min": 64.43356713338743, "timestamp": 1557377576, "episodes_total": 20267, "iterations_since_restore": 78, "pid": 9951, "num_metric_batches_dropped": 0, "config": {"train_batch_size": 90000, "env": "MultiWaveAttenuationMergePOEnvBufferedObs-v0no_random_eta3:0", "horizon": 1500, "sample_batch_size": 750, "observation_filter": "MeanStdFilter", "log_level": "INFO", "simple_optimizer": false, "monitor": false, "batch_mode": "truncate_episodes", "lambda": 0.97, "sample_async": false, "input_evaluation": null, "clip_actions": false, "env_config": {"run": "PPO", "flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.3,\n            \"eta3\": 0.1,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 10.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 600,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}"}, "kl_target": 0.01, "num_cpus_per_worker": 1, "preprocessor_pref": "deepmind", "num_cpus_for_driver": 1, "output_max_file_size": 67108864, "lr": 0.0005, "entropy_coeff": 0.0, "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "num_sgd_iter": 10, "clip_param": 0.3, "tf_session_args": {"log_device_placement": false, "inter_op_parallelism_threads": 2, "allow_soft_placement": true, "gpu_options": {"allow_growth": true}, "intra_op_parallelism_threads": 2, "device_count": {"CPU": 1}}, "model": {"max_seq_len": 20, "channel_major": false, "conv_filters": null, "free_log_std": false, "lstm_cell_size": 256, "dim": 84, "zero_mean": true, "framestack": true, "lstm_use_prev_action_reward": false, "squash_to_range": false, "use_lstm": false, "custom_options": {}, "grayscale": false, "custom_preprocessor": null, "conv_activation": "relu", "fcnet_hiddens": [128, 64, 32], "custom_model": null, "fcnet_activation": "tanh"}, "output": null, "optimizer": {}, "num_gpus_per_worker": 0, "num_workers": 60, "use_gae": true, "lr_schedule": null, "multiagent": {"policies_to_train": null, "policy_mapping_fn": null, "policy_graphs": {}}, "vf_loss_coeff": 1.0, "kl_coeff": 0.2, "num_gpus": 0, "compress_observations": false, "num_envs_per_worker": 1, "collect_metrics_timeout": 180, "straggler_mitigation": false, "custom_resources_per_worker": {}, "input": "sampler", "vf_share_layers": false, "sgd_minibatch_size": 128, "output_compress_columns": ["obs", "new_obs"], "vf_clip_param": 1000000.0, "synchronize_filters": true, "callbacks": {"on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7fd2635f2cf8>", "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7fd2635f2b00>", "on_train_result": null, "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7fd2635f2780>", "on_sample_end": null}, "gamma": 0.99, "clip_rewards": null}, "experiment_id": "9b178520507b4656ac608c6ff2056ff7", "timesteps_this_iter": 179208, "info": {"sample_time_ms": 28545.815, "num_steps_trained": 34172664, "update_time_ms": 11.629, "num_steps_sampled": 34172664, "grad_time_ms": 41069.647, "load_time_ms": 36.032, "default": {"kl": 0.009774875827133656, "vf_loss": 27.970937728881836, "vf_explained_var": 0.8721985816955566, "cur_kl_coeff": 0.44999998807907104, "total_loss": 27.968364715576172, "policy_loss": -0.006972198374569416, "cur_lr": 0.0005000000237487257, "entropy": 2.6521127223968506}}, "date": "2019-05-09_04-52-56", "done": false, "episode_len_mean": 731.74, "episodes_this_iter": 84, "episode_reward_max": 927.9242894474794, "custom_metrics": {"cost2_min": -198.3246006283629, "system_level_velocity_min": 8.572603454967854, "cost2_max": -52.26288595448164, "cost2_mean": -171.05149547192545, "cost1_mean": 342.10567839041045, "outflow_rate_mean": 1015.6056575257815, "cost1_max": 457.69589404196654, "system_level_velocity_mean": 12.550782237752545, "cost1_min": 49.29801223223323, "outflow_rate_max": 1240.8752743499192, "outflow_rate_min": 254.23111705178346, "system_level_velocity_max": 16.10872582051445}, "hostname": "flow-main", "episode_reward_mean": 679.4632224757535, "training_iteration": 278, "timesteps_since_restore": 12812431, "timesteps_total": 34172664, "time_this_iter_s": 70.65255880355835, "node_ip": "10.138.0.2", "policy_reward_mean": {}}
{"time_total_s": 12781.113427639008, "time_since_restore": 5098.191248178482, "episode_reward_min": 192.50799310627943, "timestamp": 1557377646, "episodes_total": 20352, "iterations_since_restore": 79, "pid": 9951, "num_metric_batches_dropped": 0, "config": {"train_batch_size": 90000, "env": "MultiWaveAttenuationMergePOEnvBufferedObs-v0no_random_eta3:0", "horizon": 1500, "sample_batch_size": 750, "observation_filter": "MeanStdFilter", "log_level": "INFO", "simple_optimizer": false, "monitor": false, "batch_mode": "truncate_episodes", "lambda": 0.97, "sample_async": false, "input_evaluation": null, "clip_actions": false, "env_config": {"run": "PPO", "flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.3,\n            \"eta3\": 0.1,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 10.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 600,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}"}, "kl_target": 0.01, "num_cpus_per_worker": 1, "preprocessor_pref": "deepmind", "num_cpus_for_driver": 1, "output_max_file_size": 67108864, "lr": 0.0005, "entropy_coeff": 0.0, "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "num_sgd_iter": 10, "clip_param": 0.3, "tf_session_args": {"log_device_placement": false, "inter_op_parallelism_threads": 2, "allow_soft_placement": true, "gpu_options": {"allow_growth": true}, "intra_op_parallelism_threads": 2, "device_count": {"CPU": 1}}, "model": {"max_seq_len": 20, "channel_major": false, "conv_filters": null, "free_log_std": false, "lstm_cell_size": 256, "dim": 84, "zero_mean": true, "framestack": true, "lstm_use_prev_action_reward": false, "squash_to_range": false, "use_lstm": false, "custom_options": {}, "grayscale": false, "custom_preprocessor": null, "conv_activation": "relu", "fcnet_hiddens": [128, 64, 32], "custom_model": null, "fcnet_activation": "tanh"}, "output": null, "optimizer": {}, "num_gpus_per_worker": 0, "num_workers": 60, "use_gae": true, "lr_schedule": null, "multiagent": {"policies_to_train": null, "policy_mapping_fn": null, "policy_graphs": {}}, "vf_loss_coeff": 1.0, "kl_coeff": 0.2, "num_gpus": 0, "compress_observations": false, "num_envs_per_worker": 1, "collect_metrics_timeout": 180, "straggler_mitigation": false, "custom_resources_per_worker": {}, "input": "sampler", "vf_share_layers": false, "sgd_minibatch_size": 128, "output_compress_columns": ["obs", "new_obs"], "vf_clip_param": 1000000.0, "synchronize_filters": true, "callbacks": {"on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7fd25c327630>", "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7fd25c3272b0>", "on_train_result": null, "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7fd25c327160>", "on_sample_end": null}, "gamma": 0.99, "clip_rewards": null}, "experiment_id": "9b178520507b4656ac608c6ff2056ff7", "timesteps_this_iter": 179780, "info": {"sample_time_ms": 28427.933, "num_steps_trained": 34352444, "update_time_ms": 11.47, "num_steps_sampled": 34352444, "grad_time_ms": 40959.756, "load_time_ms": 35.582, "default": {"kl": 0.010097203776240349, "vf_loss": 26.781461715698242, "vf_explained_var": 0.873494029045105, "cur_kl_coeff": 0.44999995827674866, "total_loss": 26.778968811035156, "policy_loss": -0.007034959737211466, "cur_lr": 0.0005000000237487257, "entropy": 2.645068883895874}}, "date": "2019-05-09_04-54-06", "done": false, "episode_len_mean": 735.13, "episodes_this_iter": 85, "episode_reward_max": 927.9242894474794, "custom_metrics": {"cost2_min": -198.5505921568506, "system_level_velocity_min": 9.009325657650013, "cost2_max": -86.41065595314478, "cost2_mean": -172.2117539398674, "cost1_mean": 344.0620997454807, "outflow_rate_mean": 1020.3371350623353, "cost1_max": 462.03325088104515, "system_level_velocity_mean": 12.594184647045536, "cost1_min": 110.65108997948866, "outflow_rate_max": 1242.5563954123647, "outflow_rate_min": 413.4032741022593, "system_level_velocity_max": 16.30196241318851}, "hostname": "flow-main", "episode_reward_mean": 682.0442805166342, "training_iteration": 279, "timesteps_since_restore": 12992211, "timesteps_total": 34352444, "time_this_iter_s": 69.5447142124176, "node_ip": "10.138.0.2", "policy_reward_mean": {}}
{"time_total_s": 12850.274145364761, "time_since_restore": 5167.351965904236, "episode_reward_min": 194.84751573828987, "timestamp": 1557377715, "episodes_total": 20434, "iterations_since_restore": 80, "pid": 9951, "num_metric_batches_dropped": 0, "config": {"train_batch_size": 90000, "env": "MultiWaveAttenuationMergePOEnvBufferedObs-v0no_random_eta3:0", "horizon": 1500, "sample_batch_size": 750, "observation_filter": "MeanStdFilter", "log_level": "INFO", "simple_optimizer": false, "monitor": false, "batch_mode": "truncate_episodes", "lambda": 0.97, "sample_async": false, "input_evaluation": null, "clip_actions": false, "env_config": {"run": "PPO", "flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.3,\n            \"eta3\": 0.1,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 10.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 600,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}"}, "kl_target": 0.01, "num_cpus_per_worker": 1, "preprocessor_pref": "deepmind", "num_cpus_for_driver": 1, "output_max_file_size": 67108864, "lr": 0.0005, "entropy_coeff": 0.0, "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "num_sgd_iter": 10, "clip_param": 0.3, "tf_session_args": {"log_device_placement": false, "inter_op_parallelism_threads": 2, "allow_soft_placement": true, "gpu_options": {"allow_growth": true}, "intra_op_parallelism_threads": 2, "device_count": {"CPU": 1}}, "model": {"max_seq_len": 20, "channel_major": false, "conv_filters": null, "free_log_std": false, "lstm_cell_size": 256, "dim": 84, "zero_mean": true, "framestack": true, "lstm_use_prev_action_reward": false, "squash_to_range": false, "use_lstm": false, "custom_options": {}, "grayscale": false, "custom_preprocessor": null, "conv_activation": "relu", "fcnet_hiddens": [128, 64, 32], "custom_model": null, "fcnet_activation": "tanh"}, "output": null, "optimizer": {}, "num_gpus_per_worker": 0, "num_workers": 60, "use_gae": true, "lr_schedule": null, "multiagent": {"policies_to_train": null, "policy_mapping_fn": null, "policy_graphs": {}}, "vf_loss_coeff": 1.0, "kl_coeff": 0.2, "num_gpus": 0, "compress_observations": false, "num_envs_per_worker": 1, "collect_metrics_timeout": 180, "straggler_mitigation": false, "custom_resources_per_worker": {}, "input": "sampler", "vf_share_layers": false, "sgd_minibatch_size": 128, "output_compress_columns": ["obs", "new_obs"], "vf_clip_param": 1000000.0, "synchronize_filters": true, "callbacks": {"on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7fd26360c710>", "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7fd26360cdd8>", "on_train_result": null, "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7fd26360cd68>", "on_sample_end": null}, "gamma": 0.99, "clip_rewards": null}, "experiment_id": "9b178520507b4656ac608c6ff2056ff7", "timesteps_this_iter": 178533, "info": {"sample_time_ms": 28479.293, "num_steps_trained": 34530977, "update_time_ms": 11.368, "num_steps_sampled": 34530977, "grad_time_ms": 40865.439, "load_time_ms": 35.272, "default": {"kl": 0.010094238445162773, "vf_loss": 26.284326553344727, "vf_explained_var": 0.8681945204734802, "cur_kl_coeff": 0.44999995827674866, "total_loss": 26.281463623046875, "policy_loss": -0.007407739292830229, "cur_lr": 0.0005000000237487257, "entropy": 2.6670215129852295}}, "date": "2019-05-09_04-55-15", "done": false, "episode_len_mean": 745.67, "episodes_this_iter": 82, "episode_reward_max": 923.5593200237238, "custom_metrics": {"cost2_min": -204.59769858710507, "system_level_velocity_min": 9.406604839556191, "cost2_max": -86.41065595314478, "cost2_mean": -171.82066660047866, "cost1_mean": 349.87561329790987, "outflow_rate_mean": 1032.2337486859533, "cost1_max": 452.88111616284243, "system_level_velocity_mean": 12.594513790183237, "cost1_min": 110.65108997948866, "outflow_rate_max": 1231.6856152578662, "outflow_rate_min": 413.4032741022593, "system_level_velocity_max": 15.911960886398278}, "hostname": "flow-main", "episode_reward_mean": 695.4335716429913, "training_iteration": 280, "timesteps_since_restore": 13170744, "timesteps_total": 34530977, "time_this_iter_s": 69.16071772575378, "node_ip": "10.138.0.2", "policy_reward_mean": {}}
{"time_total_s": 12919.21494936943, "time_since_restore": 5236.292769908905, "episode_reward_min": 192.60077836551184, "timestamp": 1557377784, "episodes_total": 20518, "iterations_since_restore": 81, "pid": 9951, "num_metric_batches_dropped": 0, "config": {"train_batch_size": 90000, "env": "MultiWaveAttenuationMergePOEnvBufferedObs-v0no_random_eta3:0", "horizon": 1500, "sample_batch_size": 750, "observation_filter": "MeanStdFilter", "log_level": "INFO", "simple_optimizer": false, "monitor": false, "batch_mode": "truncate_episodes", "lambda": 0.97, "sample_async": false, "input_evaluation": null, "clip_actions": false, "env_config": {"run": "PPO", "flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.3,\n            \"eta3\": 0.1,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 10.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 600,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}"}, "kl_target": 0.01, "num_cpus_per_worker": 1, "preprocessor_pref": "deepmind", "num_cpus_for_driver": 1, "output_max_file_size": 67108864, "lr": 0.0005, "entropy_coeff": 0.0, "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "num_sgd_iter": 10, "clip_param": 0.3, "tf_session_args": {"log_device_placement": false, "inter_op_parallelism_threads": 2, "allow_soft_placement": true, "gpu_options": {"allow_growth": true}, "intra_op_parallelism_threads": 2, "device_count": {"CPU": 1}}, "model": {"max_seq_len": 20, "channel_major": false, "conv_filters": null, "free_log_std": false, "lstm_cell_size": 256, "dim": 84, "zero_mean": true, "framestack": true, "lstm_use_prev_action_reward": false, "squash_to_range": false, "use_lstm": false, "custom_options": {}, "grayscale": false, "custom_preprocessor": null, "conv_activation": "relu", "fcnet_hiddens": [128, 64, 32], "custom_model": null, "fcnet_activation": "tanh"}, "output": null, "optimizer": {}, "num_gpus_per_worker": 0, "num_workers": 60, "use_gae": true, "lr_schedule": null, "multiagent": {"policies_to_train": null, "policy_mapping_fn": null, "policy_graphs": {}}, "vf_loss_coeff": 1.0, "kl_coeff": 0.2, "num_gpus": 0, "compress_observations": false, "num_envs_per_worker": 1, "collect_metrics_timeout": 180, "straggler_mitigation": false, "custom_resources_per_worker": {}, "input": "sampler", "vf_share_layers": false, "sgd_minibatch_size": 128, "output_compress_columns": ["obs", "new_obs"], "vf_clip_param": 1000000.0, "synchronize_filters": true, "callbacks": {"on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7fd25c327908>", "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7fd25c327278>", "on_train_result": null, "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7fd25c327550>", "on_sample_end": null}, "gamma": 0.99, "clip_rewards": null}, "experiment_id": "9b178520507b4656ac608c6ff2056ff7", "timesteps_this_iter": 178787, "info": {"sample_time_ms": 28483.669, "num_steps_trained": 34709764, "update_time_ms": 11.78, "num_steps_sampled": 34709764, "grad_time_ms": 40777.545, "load_time_ms": 35.597, "default": {"kl": 0.009792579337954521, "vf_loss": 27.32040786743164, "vf_explained_var": 0.8656193017959595, "cur_kl_coeff": 0.44999995827674866, "total_loss": 27.318370819091797, "policy_loss": -0.0064457738772034645, "cur_lr": 0.0005000000237487257, "entropy": 2.670586109161377}}, "date": "2019-05-09_04-56-24", "done": false, "episode_len_mean": 725.73, "episodes_this_iter": 84, "episode_reward_max": 921.478265371172, "custom_metrics": {"cost2_min": -197.33713244431544, "system_level_velocity_min": 10.996137716453802, "cost2_max": -80.8362492183048, "cost2_mean": -170.79301335513952, "cost1_mean": 340.523203196808, "outflow_rate_mean": 1012.3360677665935, "cost1_max": 459.01045885508245, "system_level_velocity_mean": 12.639448469668173, "cost1_min": 110.96011756769116, "outflow_rate_max": 1242.5074974060444, "outflow_rate_min": 426.1742478473766, "system_level_velocity_max": 16.176435720299146}, "hostname": "flow-main", "episode_reward_mean": 674.4595010797046, "training_iteration": 281, "timesteps_since_restore": 13349531, "timesteps_total": 34709764, "time_this_iter_s": 68.94080400466919, "node_ip": "10.138.0.2", "policy_reward_mean": {}}
{"time_total_s": 12988.912332057953, "time_since_restore": 5305.990152597427, "episode_reward_min": 195.02360308731684, "timestamp": 1557377854, "episodes_total": 20602, "iterations_since_restore": 82, "pid": 9951, "num_metric_batches_dropped": 0, "config": {"train_batch_size": 90000, "env": "MultiWaveAttenuationMergePOEnvBufferedObs-v0no_random_eta3:0", "horizon": 1500, "sample_batch_size": 750, "observation_filter": "MeanStdFilter", "log_level": "INFO", "simple_optimizer": false, "monitor": false, "batch_mode": "truncate_episodes", "lambda": 0.97, "sample_async": false, "input_evaluation": null, "clip_actions": false, "env_config": {"run": "PPO", "flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.3,\n            \"eta3\": 0.1,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 10.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 600,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}"}, "kl_target": 0.01, "num_cpus_per_worker": 1, "preprocessor_pref": "deepmind", "num_cpus_for_driver": 1, "output_max_file_size": 67108864, "lr": 0.0005, "entropy_coeff": 0.0, "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "num_sgd_iter": 10, "clip_param": 0.3, "tf_session_args": {"log_device_placement": false, "inter_op_parallelism_threads": 2, "allow_soft_placement": true, "gpu_options": {"allow_growth": true}, "intra_op_parallelism_threads": 2, "device_count": {"CPU": 1}}, "model": {"max_seq_len": 20, "channel_major": false, "conv_filters": null, "free_log_std": false, "lstm_cell_size": 256, "dim": 84, "zero_mean": true, "framestack": true, "lstm_use_prev_action_reward": false, "squash_to_range": false, "use_lstm": false, "custom_options": {}, "grayscale": false, "custom_preprocessor": null, "conv_activation": "relu", "fcnet_hiddens": [128, 64, 32], "custom_model": null, "fcnet_activation": "tanh"}, "output": null, "optimizer": {}, "num_gpus_per_worker": 0, "num_workers": 60, "use_gae": true, "lr_schedule": null, "multiagent": {"policies_to_train": null, "policy_mapping_fn": null, "policy_graphs": {}}, "vf_loss_coeff": 1.0, "kl_coeff": 0.2, "num_gpus": 0, "compress_observations": false, "num_envs_per_worker": 1, "collect_metrics_timeout": 180, "straggler_mitigation": false, "custom_resources_per_worker": {}, "input": "sampler", "vf_share_layers": false, "sgd_minibatch_size": 128, "output_compress_columns": ["obs", "new_obs"], "vf_clip_param": 1000000.0, "synchronize_filters": true, "callbacks": {"on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7fd26360ce80>", "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7fd26360c240>", "on_train_result": null, "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7fd26360c630>", "on_sample_end": null}, "gamma": 0.99, "clip_rewards": null}, "experiment_id": "9b178520507b4656ac608c6ff2056ff7", "timesteps_this_iter": 179585, "info": {"sample_time_ms": 28485.278, "num_steps_trained": 34889349, "update_time_ms": 11.76, "num_steps_sampled": 34889349, "grad_time_ms": 40937.168, "load_time_ms": 35.508, "default": {"kl": 0.010006618686020374, "vf_loss": 25.48851776123047, "vf_explained_var": 0.8720175623893738, "cur_kl_coeff": 0.44999998807907104, "total_loss": 25.485727310180664, "policy_loss": -0.007290772628039122, "cur_lr": 0.0005000000237487257, "entropy": 2.6780903339385986}}, "date": "2019-05-09_04-57-34", "done": false, "episode_len_mean": 735.21, "episodes_this_iter": 84, "episode_reward_max": 918.6526215561495, "custom_metrics": {"cost2_min": -197.44469516330156, "system_level_velocity_min": 10.676076277863642, "cost2_max": -90.90127072553256, "cost2_mean": -172.48171203025777, "cost1_mean": 345.01786252686094, "outflow_rate_mean": 1023.1299532973279, "cost1_max": 453.2268642705575, "system_level_velocity_mean": 12.627646081563528, "cost1_min": 113.60456104200719, "outflow_rate_max": 1230.8407156398896, "outflow_rate_min": 417.2488829816006, "system_level_velocity_max": 15.910072125106936}, "hostname": "flow-main", "episode_reward_mean": 679.5028629396473, "training_iteration": 282, "timesteps_since_restore": 13529116, "timesteps_total": 34889349, "time_this_iter_s": 69.69738268852234, "node_ip": "10.138.0.2", "policy_reward_mean": {}}
{"time_total_s": 13058.924423217773, "time_since_restore": 5376.002243757248, "episode_reward_min": 200.19641472244365, "timestamp": 1557377924, "episodes_total": 20684, "iterations_since_restore": 83, "pid": 9951, "num_metric_batches_dropped": 0, "config": {"train_batch_size": 90000, "env": "MultiWaveAttenuationMergePOEnvBufferedObs-v0no_random_eta3:0", "horizon": 1500, "sample_batch_size": 750, "observation_filter": "MeanStdFilter", "log_level": "INFO", "simple_optimizer": false, "monitor": false, "batch_mode": "truncate_episodes", "lambda": 0.97, "sample_async": false, "input_evaluation": null, "clip_actions": false, "env_config": {"run": "PPO", "flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.3,\n            \"eta3\": 0.1,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 10.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 600,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}"}, "kl_target": 0.01, "num_cpus_per_worker": 1, "preprocessor_pref": "deepmind", "num_cpus_for_driver": 1, "output_max_file_size": 67108864, "lr": 0.0005, "entropy_coeff": 0.0, "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "num_sgd_iter": 10, "clip_param": 0.3, "tf_session_args": {"log_device_placement": false, "inter_op_parallelism_threads": 2, "allow_soft_placement": true, "gpu_options": {"allow_growth": true}, "intra_op_parallelism_threads": 2, "device_count": {"CPU": 1}}, "model": {"max_seq_len": 20, "channel_major": false, "conv_filters": null, "free_log_std": false, "lstm_cell_size": 256, "dim": 84, "zero_mean": true, "framestack": true, "lstm_use_prev_action_reward": false, "squash_to_range": false, "use_lstm": false, "custom_options": {}, "grayscale": false, "custom_preprocessor": null, "conv_activation": "relu", "fcnet_hiddens": [128, 64, 32], "custom_model": null, "fcnet_activation": "tanh"}, "output": null, "optimizer": {}, "num_gpus_per_worker": 0, "num_workers": 60, "use_gae": true, "lr_schedule": null, "multiagent": {"policies_to_train": null, "policy_mapping_fn": null, "policy_graphs": {}}, "vf_loss_coeff": 1.0, "kl_coeff": 0.2, "num_gpus": 0, "compress_observations": false, "num_envs_per_worker": 1, "collect_metrics_timeout": 180, "straggler_mitigation": false, "custom_resources_per_worker": {}, "input": "sampler", "vf_share_layers": false, "sgd_minibatch_size": 128, "output_compress_columns": ["obs", "new_obs"], "vf_clip_param": 1000000.0, "synchronize_filters": true, "callbacks": {"on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7fd25c327f60>", "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7fd25c327b00>", "on_train_result": null, "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7fd25c327710>", "on_sample_end": null}, "gamma": 0.99, "clip_rewards": null}, "experiment_id": "9b178520507b4656ac608c6ff2056ff7", "timesteps_this_iter": 180717, "info": {"sample_time_ms": 28410.0, "num_steps_trained": 35070066, "update_time_ms": 11.67, "num_steps_sampled": 35070066, "grad_time_ms": 40877.486, "load_time_ms": 35.956, "default": {"kl": 0.009450048208236694, "vf_loss": 26.54759979248047, "vf_explained_var": 0.871444821357727, "cur_kl_coeff": 0.44999995827674866, "total_loss": 26.545307159423828, "policy_loss": -0.006544927135109901, "cur_lr": 0.0005000000237487257, "entropy": 2.6865768432617188}}, "date": "2019-05-09_04-58-44", "done": false, "episode_len_mean": 740.5, "episodes_this_iter": 82, "episode_reward_max": 899.4971783925736, "custom_metrics": {"cost2_min": -206.16681066626785, "system_level_velocity_min": 9.446774466209668, "cost2_max": -90.00296528719372, "cost2_mean": -174.28813246776033, "cost1_mean": 350.30202991803526, "outflow_rate_mean": 1035.6839417282235, "cost1_max": 448.9670801167403, "system_level_velocity_mean": 12.70219560673031, "cost1_min": 116.50236545691772, "outflow_rate_max": 1229.2832722698022, "outflow_rate_min": 433.8736685119903, "system_level_velocity_max": 15.801178550089947}, "hostname": "flow-main", "episode_reward_mean": 690.9302382695569, "training_iteration": 283, "timesteps_since_restore": 13709833, "timesteps_total": 35070066, "time_this_iter_s": 70.01209115982056, "node_ip": "10.138.0.2", "policy_reward_mean": {}}
{"time_total_s": 13128.821504592896, "time_since_restore": 5445.89932513237, "episode_reward_min": 324.8145407940187, "timestamp": 1557377994, "episodes_total": 20770, "iterations_since_restore": 84, "pid": 9951, "num_metric_batches_dropped": 0, "config": {"train_batch_size": 90000, "env": "MultiWaveAttenuationMergePOEnvBufferedObs-v0no_random_eta3:0", "horizon": 1500, "sample_batch_size": 750, "observation_filter": "MeanStdFilter", "log_level": "INFO", "simple_optimizer": false, "monitor": false, "batch_mode": "truncate_episodes", "lambda": 0.97, "sample_async": false, "input_evaluation": null, "clip_actions": false, "env_config": {"run": "PPO", "flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.3,\n            \"eta3\": 0.1,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 10.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 600,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}"}, "kl_target": 0.01, "num_cpus_per_worker": 1, "preprocessor_pref": "deepmind", "num_cpus_for_driver": 1, "output_max_file_size": 67108864, "lr": 0.0005, "entropy_coeff": 0.0, "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "num_sgd_iter": 10, "clip_param": 0.3, "tf_session_args": {"log_device_placement": false, "inter_op_parallelism_threads": 2, "allow_soft_placement": true, "gpu_options": {"allow_growth": true}, "intra_op_parallelism_threads": 2, "device_count": {"CPU": 1}}, "model": {"max_seq_len": 20, "channel_major": false, "conv_filters": null, "free_log_std": false, "lstm_cell_size": 256, "dim": 84, "zero_mean": true, "framestack": true, "lstm_use_prev_action_reward": false, "squash_to_range": false, "use_lstm": false, "custom_options": {}, "grayscale": false, "custom_preprocessor": null, "conv_activation": "relu", "fcnet_hiddens": [128, 64, 32], "custom_model": null, "fcnet_activation": "tanh"}, "output": null, "optimizer": {}, "num_gpus_per_worker": 0, "num_workers": 60, "use_gae": true, "lr_schedule": null, "multiagent": {"policies_to_train": null, "policy_mapping_fn": null, "policy_graphs": {}}, "vf_loss_coeff": 1.0, "kl_coeff": 0.2, "num_gpus": 0, "compress_observations": false, "num_envs_per_worker": 1, "collect_metrics_timeout": 180, "straggler_mitigation": false, "custom_resources_per_worker": {}, "input": "sampler", "vf_share_layers": false, "sgd_minibatch_size": 128, "output_compress_columns": ["obs", "new_obs"], "vf_clip_param": 1000000.0, "synchronize_filters": true, "callbacks": {"on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7fd25c327b70>", "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7fd25c327be0>", "on_train_result": null, "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7fd25c327128>", "on_sample_end": null}, "gamma": 0.99, "clip_rewards": null}, "experiment_id": "9b178520507b4656ac608c6ff2056ff7", "timesteps_this_iter": 181084, "info": {"sample_time_ms": 28451.364, "num_steps_trained": 35251150, "update_time_ms": 11.737, "num_steps_sampled": 35251150, "grad_time_ms": 40738.46, "load_time_ms": 38.5, "default": {"kl": 0.009317299351096153, "vf_loss": 24.64741325378418, "vf_explained_var": 0.8786029815673828, "cur_kl_coeff": 0.44999998807907104, "total_loss": 24.645301818847656, "policy_loss": -0.006300692912191153, "cur_lr": 0.0005000000237487257, "entropy": 2.688800096511841}}, "date": "2019-05-09_04-59-54", "done": false, "episode_len_mean": 737.91, "episodes_this_iter": 86, "episode_reward_max": 919.9026313121276, "custom_metrics": {"cost2_min": -212.20355553884232, "system_level_velocity_min": 9.311712067047875, "cost2_max": -116.17193613337247, "cost2_mean": -174.29927995921437, "cost1_mean": 350.60486731233846, "outflow_rate_mean": 1035.9738617311525, "cost1_max": 460.74942125478356, "system_level_velocity_mean": 12.784989274382063, "cost1_min": 172.68446566603893, "outflow_rate_max": 1242.8047604768415, "outflow_rate_min": 577.3039234503088, "system_level_velocity_max": 16.228127293610612}, "hostname": "flow-main", "episode_reward_mean": 687.9261195103719, "training_iteration": 284, "timesteps_since_restore": 13890917, "timesteps_total": 35251150, "time_this_iter_s": 69.89708137512207, "node_ip": "10.138.0.2", "policy_reward_mean": {}}
{"time_total_s": 13196.335728406906, "time_since_restore": 5513.413548946381, "episode_reward_min": 208.6002486136466, "timestamp": 1557378062, "episodes_total": 20852, "iterations_since_restore": 85, "pid": 9951, "num_metric_batches_dropped": 0, "config": {"train_batch_size": 90000, "env": "MultiWaveAttenuationMergePOEnvBufferedObs-v0no_random_eta3:0", "horizon": 1500, "sample_batch_size": 750, "observation_filter": "MeanStdFilter", "log_level": "INFO", "simple_optimizer": false, "monitor": false, "batch_mode": "truncate_episodes", "lambda": 0.97, "sample_async": false, "input_evaluation": null, "clip_actions": false, "env_config": {"run": "PPO", "flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.3,\n            \"eta3\": 0.1,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 10.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 600,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}"}, "kl_target": 0.01, "num_cpus_per_worker": 1, "preprocessor_pref": "deepmind", "num_cpus_for_driver": 1, "output_max_file_size": 67108864, "lr": 0.0005, "entropy_coeff": 0.0, "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "num_sgd_iter": 10, "clip_param": 0.3, "tf_session_args": {"log_device_placement": false, "inter_op_parallelism_threads": 2, "allow_soft_placement": true, "gpu_options": {"allow_growth": true}, "intra_op_parallelism_threads": 2, "device_count": {"CPU": 1}}, "model": {"max_seq_len": 20, "channel_major": false, "conv_filters": null, "free_log_std": false, "lstm_cell_size": 256, "dim": 84, "zero_mean": true, "framestack": true, "lstm_use_prev_action_reward": false, "squash_to_range": false, "use_lstm": false, "custom_options": {}, "grayscale": false, "custom_preprocessor": null, "conv_activation": "relu", "fcnet_hiddens": [128, 64, 32], "custom_model": null, "fcnet_activation": "tanh"}, "output": null, "optimizer": {}, "num_gpus_per_worker": 0, "num_workers": 60, "use_gae": true, "lr_schedule": null, "multiagent": {"policies_to_train": null, "policy_mapping_fn": null, "policy_graphs": {}}, "vf_loss_coeff": 1.0, "kl_coeff": 0.2, "num_gpus": 0, "compress_observations": false, "num_envs_per_worker": 1, "collect_metrics_timeout": 180, "straggler_mitigation": false, "custom_resources_per_worker": {}, "input": "sampler", "vf_share_layers": false, "sgd_minibatch_size": 128, "output_compress_columns": ["obs", "new_obs"], "vf_clip_param": 1000000.0, "synchronize_filters": true, "callbacks": {"on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7fd25c327358>", "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7fd25c327b38>", "on_train_result": null, "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7fd25c327c88>", "on_sample_end": null}, "gamma": 0.99, "clip_rewards": null}, "experiment_id": "9b178520507b4656ac608c6ff2056ff7", "timesteps_this_iter": 180215, "info": {"sample_time_ms": 28391.308, "num_steps_trained": 35431365, "update_time_ms": 11.534, "num_steps_sampled": 35431365, "grad_time_ms": 40581.47, "load_time_ms": 38.587, "default": {"kl": 0.009599626995623112, "vf_loss": 23.644195556640625, "vf_explained_var": 0.8760358095169067, "cur_kl_coeff": 0.45000001788139343, "total_loss": 23.641555786132812, "policy_loss": -0.006958705838769674, "cur_lr": 0.0005000000237487257, "entropy": 2.7047297954559326}}, "date": "2019-05-09_05-01-02", "done": false, "episode_len_mean": 745.04, "episodes_this_iter": 82, "episode_reward_max": 892.6439612870754, "custom_metrics": {"cost2_min": -212.20355553884232, "system_level_velocity_min": 9.505694118981252, "cost2_max": -92.21679171925786, "cost2_mean": -172.90191171312898, "cost1_mean": 344.05196536286184, "outflow_rate_mean": 1023.6580619408646, "cost1_max": 448.9018454156819, "system_level_velocity_mean": 12.424263434019304, "cost1_min": 117.74563529600047, "outflow_rate_max": 1228.7879416827154, "outflow_rate_min": 434.02595031914046, "system_level_velocity_max": 15.84939412270014}, "hostname": "flow-main", "episode_reward_mean": 682.4632586410427, "training_iteration": 285, "timesteps_since_restore": 14071132, "timesteps_total": 35431365, "time_this_iter_s": 67.51422381401062, "node_ip": "10.138.0.2", "policy_reward_mean": {}}
{"time_total_s": 13264.189665079117, "time_since_restore": 5581.267485618591, "episode_reward_min": 196.84763701040492, "timestamp": 1557378129, "episodes_total": 20938, "iterations_since_restore": 86, "pid": 9951, "num_metric_batches_dropped": 0, "config": {"train_batch_size": 90000, "env": "MultiWaveAttenuationMergePOEnvBufferedObs-v0no_random_eta3:0", "horizon": 1500, "sample_batch_size": 750, "observation_filter": "MeanStdFilter", "log_level": "INFO", "simple_optimizer": false, "monitor": false, "batch_mode": "truncate_episodes", "lambda": 0.97, "sample_async": false, "input_evaluation": null, "clip_actions": false, "env_config": {"run": "PPO", "flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.3,\n            \"eta3\": 0.1,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 10.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 600,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}"}, "kl_target": 0.01, "num_cpus_per_worker": 1, "preprocessor_pref": "deepmind", "num_cpus_for_driver": 1, "output_max_file_size": 67108864, "lr": 0.0005, "entropy_coeff": 0.0, "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "num_sgd_iter": 10, "clip_param": 0.3, "tf_session_args": {"log_device_placement": false, "inter_op_parallelism_threads": 2, "allow_soft_placement": true, "gpu_options": {"allow_growth": true}, "intra_op_parallelism_threads": 2, "device_count": {"CPU": 1}}, "model": {"max_seq_len": 20, "channel_major": false, "conv_filters": null, "free_log_std": false, "lstm_cell_size": 256, "dim": 84, "zero_mean": true, "framestack": true, "lstm_use_prev_action_reward": false, "squash_to_range": false, "use_lstm": false, "custom_options": {}, "grayscale": false, "custom_preprocessor": null, "conv_activation": "relu", "fcnet_hiddens": [128, 64, 32], "custom_model": null, "fcnet_activation": "tanh"}, "output": null, "optimizer": {}, "num_gpus_per_worker": 0, "num_workers": 60, "use_gae": true, "lr_schedule": null, "multiagent": {"policies_to_train": null, "policy_mapping_fn": null, "policy_graphs": {}}, "vf_loss_coeff": 1.0, "kl_coeff": 0.2, "num_gpus": 0, "compress_observations": false, "num_envs_per_worker": 1, "collect_metrics_timeout": 180, "straggler_mitigation": false, "custom_resources_per_worker": {}, "input": "sampler", "vf_share_layers": false, "sgd_minibatch_size": 128, "output_compress_columns": ["obs", "new_obs"], "vf_clip_param": 1000000.0, "synchronize_filters": true, "callbacks": {"on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7fd2635f26a0>", "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7fd2635f2cf8>", "on_train_result": null, "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7fd2635f2b38>", "on_sample_end": null}, "gamma": 0.99, "clip_rewards": null}, "experiment_id": "9b178520507b4656ac608c6ff2056ff7", "timesteps_this_iter": 179401, "info": {"sample_time_ms": 28350.31, "num_steps_trained": 35610766, "update_time_ms": 11.549, "num_steps_sampled": 35610766, "grad_time_ms": 40447.58, "load_time_ms": 38.541, "default": {"kl": 0.009661219082772732, "vf_loss": 26.1825008392334, "vf_explained_var": 0.8719209432601929, "cur_kl_coeff": 0.44999995827674866, "total_loss": 26.180830001831055, "policy_loss": -0.006017456296831369, "cur_lr": 0.0005000000237487257, "entropy": 2.7092223167419434}}, "date": "2019-05-09_05-02-09", "done": false, "episode_len_mean": 721.41, "episodes_this_iter": 86, "episode_reward_max": 920.2223788649145, "custom_metrics": {"cost2_min": -196.29362373531808, "system_level_velocity_min": 10.881290265806836, "cost2_max": -84.18046248931404, "cost2_mean": -170.60374772839282, "cost1_mean": 340.1582417422037, "outflow_rate_mean": 1010.0760401070111, "cost1_max": 452.4033828769525, "system_level_velocity_mean": 12.70019991658317, "cost1_min": 113.02104201860914, "outflow_rate_max": 1231.49867456331, "outflow_rate_min": 422.47097924346537, "system_level_velocity_max": 15.89895036923383}, "hostname": "flow-main", "episode_reward_mean": 670.6007171376144, "training_iteration": 286, "timesteps_since_restore": 14250533, "timesteps_total": 35610766, "time_this_iter_s": 67.8539366722107, "node_ip": "10.138.0.2", "policy_reward_mean": {}}
{"time_total_s": 13334.014160871506, "time_since_restore": 5651.09198141098, "episode_reward_min": 196.84763701040492, "timestamp": 1557378199, "episodes_total": 21021, "iterations_since_restore": 87, "pid": 9951, "num_metric_batches_dropped": 0, "config": {"train_batch_size": 90000, "env": "MultiWaveAttenuationMergePOEnvBufferedObs-v0no_random_eta3:0", "horizon": 1500, "sample_batch_size": 750, "observation_filter": "MeanStdFilter", "log_level": "INFO", "simple_optimizer": false, "monitor": false, "batch_mode": "truncate_episodes", "lambda": 0.97, "sample_async": false, "input_evaluation": null, "clip_actions": false, "env_config": {"run": "PPO", "flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.3,\n            \"eta3\": 0.1,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 10.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 600,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}"}, "kl_target": 0.01, "num_cpus_per_worker": 1, "preprocessor_pref": "deepmind", "num_cpus_for_driver": 1, "output_max_file_size": 67108864, "lr": 0.0005, "entropy_coeff": 0.0, "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "num_sgd_iter": 10, "clip_param": 0.3, "tf_session_args": {"log_device_placement": false, "inter_op_parallelism_threads": 2, "allow_soft_placement": true, "gpu_options": {"allow_growth": true}, "intra_op_parallelism_threads": 2, "device_count": {"CPU": 1}}, "model": {"max_seq_len": 20, "channel_major": false, "conv_filters": null, "free_log_std": false, "lstm_cell_size": 256, "dim": 84, "zero_mean": true, "framestack": true, "lstm_use_prev_action_reward": false, "squash_to_range": false, "use_lstm": false, "custom_options": {}, "grayscale": false, "custom_preprocessor": null, "conv_activation": "relu", "fcnet_hiddens": [128, 64, 32], "custom_model": null, "fcnet_activation": "tanh"}, "output": null, "optimizer": {}, "num_gpus_per_worker": 0, "num_workers": 60, "use_gae": true, "lr_schedule": null, "multiagent": {"policies_to_train": null, "policy_mapping_fn": null, "policy_graphs": {}}, "vf_loss_coeff": 1.0, "kl_coeff": 0.2, "num_gpus": 0, "compress_observations": false, "num_envs_per_worker": 1, "collect_metrics_timeout": 180, "straggler_mitigation": false, "custom_resources_per_worker": {}, "input": "sampler", "vf_share_layers": false, "sgd_minibatch_size": 128, "output_compress_columns": ["obs", "new_obs"], "vf_clip_param": 1000000.0, "synchronize_filters": true, "callbacks": {"on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7fd25c327d68>", "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7fd25c327cc0>", "on_train_result": null, "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7fd25c327be0>", "on_sample_end": null}, "gamma": 0.99, "clip_rewards": null}, "experiment_id": "9b178520507b4656ac608c6ff2056ff7", "timesteps_this_iter": 180999, "info": {"sample_time_ms": 28442.819, "num_steps_trained": 35791765, "update_time_ms": 11.635, "num_steps_sampled": 35791765, "grad_time_ms": 40461.616, "load_time_ms": 39.258, "default": {"kl": 0.009834907948970795, "vf_loss": 21.17462158203125, "vf_explained_var": 0.8899666666984558, "cur_kl_coeff": 0.44999998807907104, "total_loss": 21.171842575073242, "policy_loss": -0.007206165697425604, "cur_lr": 0.0005000000237487257, "entropy": 2.7170400619506836}}, "date": "2019-05-09_05-03-19", "done": false, "episode_len_mean": 730.96, "episodes_this_iter": 83, "episode_reward_max": 905.1260461804939, "custom_metrics": {"cost2_min": -196.29362373531808, "system_level_velocity_min": 9.502018780294588, "cost2_max": -84.18046248931404, "cost2_mean": -170.49391977279316, "cost1_mean": 342.884650817802, "outflow_rate_mean": 1018.3638552200259, "cost1_max": 446.92268762778843, "system_level_velocity_mean": 12.60352528223844, "cost1_min": 113.02104201860914, "outflow_rate_max": 1219.845911232152, "outflow_rate_min": 429.7777376182263, "system_level_velocity_max": 15.680013100250564}, "hostname": "flow-main", "episode_reward_mean": 673.8867038800752, "training_iteration": 287, "timesteps_since_restore": 14431532, "timesteps_total": 35791765, "time_this_iter_s": 69.82449579238892, "node_ip": "10.138.0.2", "policy_reward_mean": {}}
{"time_total_s": 13405.227962493896, "time_since_restore": 5722.305783033371, "episode_reward_min": 193.67963022573684, "timestamp": 1557378271, "episodes_total": 21106, "iterations_since_restore": 88, "pid": 9951, "num_metric_batches_dropped": 0, "config": {"train_batch_size": 90000, "env": "MultiWaveAttenuationMergePOEnvBufferedObs-v0no_random_eta3:0", "horizon": 1500, "sample_batch_size": 750, "observation_filter": "MeanStdFilter", "log_level": "INFO", "simple_optimizer": false, "monitor": false, "batch_mode": "truncate_episodes", "lambda": 0.97, "sample_async": false, "input_evaluation": null, "clip_actions": false, "env_config": {"run": "PPO", "flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.3,\n            \"eta3\": 0.1,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 10.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 600,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}"}, "kl_target": 0.01, "num_cpus_per_worker": 1, "preprocessor_pref": "deepmind", "num_cpus_for_driver": 1, "output_max_file_size": 67108864, "lr": 0.0005, "entropy_coeff": 0.0, "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "num_sgd_iter": 10, "clip_param": 0.3, "tf_session_args": {"log_device_placement": false, "inter_op_parallelism_threads": 2, "allow_soft_placement": true, "gpu_options": {"allow_growth": true}, "intra_op_parallelism_threads": 2, "device_count": {"CPU": 1}}, "model": {"max_seq_len": 20, "channel_major": false, "conv_filters": null, "free_log_std": false, "lstm_cell_size": 256, "dim": 84, "zero_mean": true, "framestack": true, "lstm_use_prev_action_reward": false, "squash_to_range": false, "use_lstm": false, "custom_options": {}, "grayscale": false, "custom_preprocessor": null, "conv_activation": "relu", "fcnet_hiddens": [128, 64, 32], "custom_model": null, "fcnet_activation": "tanh"}, "output": null, "optimizer": {}, "num_gpus_per_worker": 0, "num_workers": 60, "use_gae": true, "lr_schedule": null, "multiagent": {"policies_to_train": null, "policy_mapping_fn": null, "policy_graphs": {}}, "vf_loss_coeff": 1.0, "kl_coeff": 0.2, "num_gpus": 0, "compress_observations": false, "num_envs_per_worker": 1, "collect_metrics_timeout": 180, "straggler_mitigation": false, "custom_resources_per_worker": {}, "input": "sampler", "vf_share_layers": false, "sgd_minibatch_size": 128, "output_compress_columns": ["obs", "new_obs"], "vf_clip_param": 1000000.0, "synchronize_filters": true, "callbacks": {"on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7fd2635f2a90>", "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7fd2635f2eb8>", "on_train_result": null, "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7fd2635f2550>", "on_sample_end": null}, "gamma": 0.99, "clip_rewards": null}, "experiment_id": "9b178520507b4656ac608c6ff2056ff7", "timesteps_this_iter": 179403, "info": {"sample_time_ms": 28628.348, "num_steps_trained": 35971168, "update_time_ms": 11.854, "num_steps_sampled": 35971168, "grad_time_ms": 40326.528, "load_time_ms": 41.451, "default": {"kl": 0.009166822768747807, "vf_loss": 25.7768611907959, "vf_explained_var": 0.879567563533783, "cur_kl_coeff": 0.44999995827674866, "total_loss": 25.774269104003906, "policy_loss": -0.00671670027077198, "cur_lr": 0.0005000000237487257, "entropy": 2.7212448120117188}}, "date": "2019-05-09_05-04-31", "done": false, "episode_len_mean": 728.03, "episodes_this_iter": 85, "episode_reward_max": 901.8169542314757, "custom_metrics": {"cost2_min": -195.92890753068266, "system_level_velocity_min": 9.197389209048843, "cost2_max": -99.20403863953152, "cost2_mean": -170.89342129278032, "cost1_mean": 349.6544714891899, "outflow_rate_mean": 1033.576627613833, "cost1_max": 449.985421462509, "system_level_velocity_mean": 12.914163203619164, "cost1_min": 114.26756671349044, "outflow_rate_max": 1224.8136859789684, "outflow_rate_min": 427.6906557700245, "system_level_velocity_max": 15.768017134606607}, "hostname": "flow-main", "episode_reward_mean": 687.328191000324, "training_iteration": 288, "timesteps_since_restore": 14610935, "timesteps_total": 35971168, "time_this_iter_s": 71.21380162239075, "node_ip": "10.138.0.2", "policy_reward_mean": {}}
{"time_total_s": 13473.927151918411, "time_since_restore": 5791.004972457886, "episode_reward_min": 191.22988472458724, "timestamp": 1557378339, "episodes_total": 21189, "iterations_since_restore": 89, "pid": 9951, "num_metric_batches_dropped": 0, "config": {"train_batch_size": 90000, "env": "MultiWaveAttenuationMergePOEnvBufferedObs-v0no_random_eta3:0", "horizon": 1500, "sample_batch_size": 750, "observation_filter": "MeanStdFilter", "log_level": "INFO", "simple_optimizer": false, "monitor": false, "batch_mode": "truncate_episodes", "lambda": 0.97, "sample_async": false, "input_evaluation": null, "clip_actions": false, "env_config": {"run": "PPO", "flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.3,\n            \"eta3\": 0.1,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 10.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 600,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}"}, "kl_target": 0.01, "num_cpus_per_worker": 1, "preprocessor_pref": "deepmind", "num_cpus_for_driver": 1, "output_max_file_size": 67108864, "lr": 0.0005, "entropy_coeff": 0.0, "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "num_sgd_iter": 10, "clip_param": 0.3, "tf_session_args": {"log_device_placement": false, "inter_op_parallelism_threads": 2, "allow_soft_placement": true, "gpu_options": {"allow_growth": true}, "intra_op_parallelism_threads": 2, "device_count": {"CPU": 1}}, "model": {"max_seq_len": 20, "channel_major": false, "conv_filters": null, "free_log_std": false, "lstm_cell_size": 256, "dim": 84, "zero_mean": true, "framestack": true, "lstm_use_prev_action_reward": false, "squash_to_range": false, "use_lstm": false, "custom_options": {}, "grayscale": false, "custom_preprocessor": null, "conv_activation": "relu", "fcnet_hiddens": [128, 64, 32], "custom_model": null, "fcnet_activation": "tanh"}, "output": null, "optimizer": {}, "num_gpus_per_worker": 0, "num_workers": 60, "use_gae": true, "lr_schedule": null, "multiagent": {"policies_to_train": null, "policy_mapping_fn": null, "policy_graphs": {}}, "vf_loss_coeff": 1.0, "kl_coeff": 0.2, "num_gpus": 0, "compress_observations": false, "num_envs_per_worker": 1, "collect_metrics_timeout": 180, "straggler_mitigation": false, "custom_resources_per_worker": {}, "input": "sampler", "vf_share_layers": false, "sgd_minibatch_size": 128, "output_compress_columns": ["obs", "new_obs"], "vf_clip_param": 1000000.0, "synchronize_filters": true, "callbacks": {"on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7fd26360c4e0>", "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7fd26360c668>", "on_train_result": null, "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7fd26360c3c8>", "on_sample_end": null}, "gamma": 0.99, "clip_rewards": null}, "experiment_id": "9b178520507b4656ac608c6ff2056ff7", "timesteps_this_iter": 179754, "info": {"sample_time_ms": 28593.771, "num_steps_trained": 36150922, "update_time_ms": 12.065, "num_steps_sampled": 36150922, "grad_time_ms": 40284.879, "load_time_ms": 41.179, "default": {"kl": 0.00999252125620842, "vf_loss": 24.611244201660156, "vf_explained_var": 0.8839654922485352, "cur_kl_coeff": 0.44999995827674866, "total_loss": 24.608200073242188, "policy_loss": -0.007542496081441641, "cur_lr": 0.0005000000237487257, "entropy": 2.7251150608062744}}, "date": "2019-05-09_05-05-39", "done": false, "episode_len_mean": 732.54, "episodes_this_iter": 83, "episode_reward_max": 866.3519998233779, "custom_metrics": {"cost2_min": -201.5526042466653, "system_level_velocity_min": 9.296819336731142, "cost2_max": -88.31513662825171, "cost2_mean": -169.98310969642932, "cost1_mean": 341.98417403314374, "outflow_rate_mean": 1014.756620333537, "cost1_max": 445.4669250021905, "system_level_velocity_mean": 12.570024105090926, "cost1_min": 111.26694674647723, "outflow_rate_max": 1225.8585291623094, "outflow_rate_min": 418.6996702581309, "system_level_velocity_max": 15.867396560540675}, "hostname": "flow-main", "episode_reward_mean": 672.2893010345189, "training_iteration": 289, "timesteps_since_restore": 14790689, "timesteps_total": 36150922, "time_this_iter_s": 68.69918942451477, "node_ip": "10.138.0.2", "policy_reward_mean": {}}
{"time_total_s": 13543.241750240326, "time_since_restore": 5860.3195707798, "episode_reward_min": 188.9891901529542, "timestamp": 1557378409, "episodes_total": 21273, "iterations_since_restore": 90, "pid": 9951, "num_metric_batches_dropped": 0, "config": {"train_batch_size": 90000, "env": "MultiWaveAttenuationMergePOEnvBufferedObs-v0no_random_eta3:0", "horizon": 1500, "sample_batch_size": 750, "observation_filter": "MeanStdFilter", "log_level": "INFO", "simple_optimizer": false, "monitor": false, "batch_mode": "truncate_episodes", "lambda": 0.97, "sample_async": false, "input_evaluation": null, "clip_actions": false, "env_config": {"run": "PPO", "flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.3,\n            \"eta3\": 0.1,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 10.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 600,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}"}, "kl_target": 0.01, "num_cpus_per_worker": 1, "preprocessor_pref": "deepmind", "num_cpus_for_driver": 1, "output_max_file_size": 67108864, "lr": 0.0005, "entropy_coeff": 0.0, "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "num_sgd_iter": 10, "clip_param": 0.3, "tf_session_args": {"log_device_placement": false, "inter_op_parallelism_threads": 2, "allow_soft_placement": true, "gpu_options": {"allow_growth": true}, "intra_op_parallelism_threads": 2, "device_count": {"CPU": 1}}, "model": {"max_seq_len": 20, "channel_major": false, "conv_filters": null, "free_log_std": false, "lstm_cell_size": 256, "dim": 84, "zero_mean": true, "framestack": true, "lstm_use_prev_action_reward": false, "squash_to_range": false, "use_lstm": false, "custom_options": {}, "grayscale": false, "custom_preprocessor": null, "conv_activation": "relu", "fcnet_hiddens": [128, 64, 32], "custom_model": null, "fcnet_activation": "tanh"}, "output": null, "optimizer": {}, "num_gpus_per_worker": 0, "num_workers": 60, "use_gae": true, "lr_schedule": null, "multiagent": {"policies_to_train": null, "policy_mapping_fn": null, "policy_graphs": {}}, "vf_loss_coeff": 1.0, "kl_coeff": 0.2, "num_gpus": 0, "compress_observations": false, "num_envs_per_worker": 1, "collect_metrics_timeout": 180, "straggler_mitigation": false, "custom_resources_per_worker": {}, "input": "sampler", "vf_share_layers": false, "sgd_minibatch_size": 128, "output_compress_columns": ["obs", "new_obs"], "vf_clip_param": 1000000.0, "synchronize_filters": true, "callbacks": {"on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7fd25c327588>", "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7fd25c327978>", "on_train_result": null, "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7fd25c327128>", "on_sample_end": null}, "gamma": 0.99, "clip_rewards": null}, "experiment_id": "9b178520507b4656ac608c6ff2056ff7", "timesteps_this_iter": 177006, "info": {"sample_time_ms": 28546.848, "num_steps_trained": 36327928, "update_time_ms": 12.009, "num_steps_sampled": 36327928, "grad_time_ms": 40349.478, "load_time_ms": 41.065, "default": {"kl": 0.009325675666332245, "vf_loss": 27.50264549255371, "vf_explained_var": 0.8824740052223206, "cur_kl_coeff": 0.44999998807907104, "total_loss": 27.499818801879883, "policy_loss": -0.007023329846560955, "cur_lr": 0.0005000000237487257, "entropy": 2.7176167964935303}}, "date": "2019-05-09_05-06-49", "done": false, "episode_len_mean": 728.23, "episodes_this_iter": 84, "episode_reward_max": 894.4911215761302, "custom_metrics": {"cost2_min": -199.54764466871916, "system_level_velocity_min": 10.437751857448085, "cost2_max": -90.07028829159673, "cost2_mean": -168.24194648486548, "cost1_mean": 340.13902236658976, "outflow_rate_mean": 1010.5133926427926, "cost1_max": 456.0031588112324, "system_level_velocity_mean": 12.607402102669434, "cost1_min": 112.29835198389614, "outflow_rate_max": 1239.6863558161826, "outflow_rate_min": 428.1838362713215, "system_level_velocity_max": 16.128525128739366}, "hostname": "flow-main", "episode_reward_mean": 668.4555214795774, "training_iteration": 290, "timesteps_since_restore": 14967695, "timesteps_total": 36327928, "time_this_iter_s": 69.31459832191467, "node_ip": "10.138.0.2", "policy_reward_mean": {}}
{"time_total_s": 13614.864467382431, "time_since_restore": 5931.9422879219055, "episode_reward_min": 69.80316871975496, "timestamp": 1557378480, "episodes_total": 21356, "iterations_since_restore": 91, "pid": 9951, "num_metric_batches_dropped": 0, "config": {"train_batch_size": 90000, "env": "MultiWaveAttenuationMergePOEnvBufferedObs-v0no_random_eta3:0", "horizon": 1500, "sample_batch_size": 750, "observation_filter": "MeanStdFilter", "log_level": "INFO", "simple_optimizer": false, "monitor": false, "batch_mode": "truncate_episodes", "lambda": 0.97, "sample_async": false, "input_evaluation": null, "clip_actions": false, "env_config": {"run": "PPO", "flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.3,\n            \"eta3\": 0.1,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 10.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 600,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}"}, "kl_target": 0.01, "num_cpus_per_worker": 1, "preprocessor_pref": "deepmind", "num_cpus_for_driver": 1, "output_max_file_size": 67108864, "lr": 0.0005, "entropy_coeff": 0.0, "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "num_sgd_iter": 10, "clip_param": 0.3, "tf_session_args": {"log_device_placement": false, "inter_op_parallelism_threads": 2, "allow_soft_placement": true, "gpu_options": {"allow_growth": true}, "intra_op_parallelism_threads": 2, "device_count": {"CPU": 1}}, "model": {"max_seq_len": 20, "channel_major": false, "conv_filters": null, "free_log_std": false, "lstm_cell_size": 256, "dim": 84, "zero_mean": true, "framestack": true, "lstm_use_prev_action_reward": false, "squash_to_range": false, "use_lstm": false, "custom_options": {}, "grayscale": false, "custom_preprocessor": null, "conv_activation": "relu", "fcnet_hiddens": [128, 64, 32], "custom_model": null, "fcnet_activation": "tanh"}, "output": null, "optimizer": {}, "num_gpus_per_worker": 0, "num_workers": 60, "use_gae": true, "lr_schedule": null, "multiagent": {"policies_to_train": null, "policy_mapping_fn": null, "policy_graphs": {}}, "vf_loss_coeff": 1.0, "kl_coeff": 0.2, "num_gpus": 0, "compress_observations": false, "num_envs_per_worker": 1, "collect_metrics_timeout": 180, "straggler_mitigation": false, "custom_resources_per_worker": {}, "input": "sampler", "vf_share_layers": false, "sgd_minibatch_size": 128, "output_compress_columns": ["obs", "new_obs"], "vf_clip_param": 1000000.0, "synchronize_filters": true, "callbacks": {"on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7fd25c327b00>", "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7fd25c327908>", "on_train_result": null, "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7fd25c327e10>", "on_sample_end": null}, "gamma": 0.99, "clip_rewards": null}, "experiment_id": "9b178520507b4656ac608c6ff2056ff7", "timesteps_this_iter": 179794, "info": {"sample_time_ms": 28578.391, "num_steps_trained": 36507722, "update_time_ms": 12.012, "num_steps_sampled": 36507722, "grad_time_ms": 40584.333, "load_time_ms": 40.914, "default": {"kl": 0.009770330972969532, "vf_loss": 26.932598114013672, "vf_explained_var": 0.8821508288383484, "cur_kl_coeff": 0.44999995827674866, "total_loss": 26.930652618408203, "policy_loss": -0.006339930463582277, "cur_lr": 0.0005000000237487257, "entropy": 2.741396903991699}}, "date": "2019-05-09_05-08-00", "done": false, "episode_len_mean": 730.74, "episodes_this_iter": 83, "episode_reward_max": 875.4504571530041, "custom_metrics": {"cost2_min": -196.31222961183187, "system_level_velocity_min": 9.658445165898273, "cost2_max": -57.60349810773599, "cost2_mean": -171.91036109869648, "cost1_mean": 343.85114129148894, "outflow_rate_mean": 1021.5083101019108, "cost1_max": 448.7624291369447, "system_level_velocity_mean": 12.693267961679464, "cost1_min": 53.01829084412428, "outflow_rate_max": 1233.1974366623806, "outflow_rate_min": 262.865401520268, "system_level_velocity_max": 15.855398048380511}, "hostname": "flow-main", "episode_reward_mean": 668.9921987514787, "training_iteration": 291, "timesteps_since_restore": 15147489, "timesteps_total": 36507722, "time_this_iter_s": 71.6227171421051, "node_ip": "10.138.0.2", "policy_reward_mean": {}}
{"time_total_s": 13685.215100049973, "time_since_restore": 6002.292920589447, "episode_reward_min": 194.02029757638684, "timestamp": 1557378551, "episodes_total": 21440, "iterations_since_restore": 92, "pid": 9951, "num_metric_batches_dropped": 0, "config": {"train_batch_size": 90000, "env": "MultiWaveAttenuationMergePOEnvBufferedObs-v0no_random_eta3:0", "horizon": 1500, "sample_batch_size": 750, "observation_filter": "MeanStdFilter", "log_level": "INFO", "simple_optimizer": false, "monitor": false, "batch_mode": "truncate_episodes", "lambda": 0.97, "sample_async": false, "input_evaluation": null, "clip_actions": false, "env_config": {"run": "PPO", "flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.3,\n            \"eta3\": 0.1,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 10.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 600,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}"}, "kl_target": 0.01, "num_cpus_per_worker": 1, "preprocessor_pref": "deepmind", "num_cpus_for_driver": 1, "output_max_file_size": 67108864, "lr": 0.0005, "entropy_coeff": 0.0, "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "num_sgd_iter": 10, "clip_param": 0.3, "tf_session_args": {"log_device_placement": false, "inter_op_parallelism_threads": 2, "allow_soft_placement": true, "gpu_options": {"allow_growth": true}, "intra_op_parallelism_threads": 2, "device_count": {"CPU": 1}}, "model": {"max_seq_len": 20, "channel_major": false, "conv_filters": null, "free_log_std": false, "lstm_cell_size": 256, "dim": 84, "zero_mean": true, "framestack": true, "lstm_use_prev_action_reward": false, "squash_to_range": false, "use_lstm": false, "custom_options": {}, "grayscale": false, "custom_preprocessor": null, "conv_activation": "relu", "fcnet_hiddens": [128, 64, 32], "custom_model": null, "fcnet_activation": "tanh"}, "output": null, "optimizer": {}, "num_gpus_per_worker": 0, "num_workers": 60, "use_gae": true, "lr_schedule": null, "multiagent": {"policies_to_train": null, "policy_mapping_fn": null, "policy_graphs": {}}, "vf_loss_coeff": 1.0, "kl_coeff": 0.2, "num_gpus": 0, "compress_observations": false, "num_envs_per_worker": 1, "collect_metrics_timeout": 180, "straggler_mitigation": false, "custom_resources_per_worker": {}, "input": "sampler", "vf_share_layers": false, "sgd_minibatch_size": 128, "output_compress_columns": ["obs", "new_obs"], "vf_clip_param": 1000000.0, "synchronize_filters": true, "callbacks": {"on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7fd26360cdd8>", "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7fd26360c710>", "on_train_result": null, "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7fd26360c4e0>", "on_sample_end": null}, "gamma": 0.99, "clip_rewards": null}, "experiment_id": "9b178520507b4656ac608c6ff2056ff7", "timesteps_this_iter": 178710, "info": {"sample_time_ms": 28605.825, "num_steps_trained": 36686432, "update_time_ms": 11.613, "num_steps_sampled": 36686432, "grad_time_ms": 40614.92, "load_time_ms": 41.6, "default": {"kl": 0.009424026124179363, "vf_loss": 28.29098129272461, "vf_explained_var": 0.8788279294967651, "cur_kl_coeff": 0.44999995827674866, "total_loss": 28.28809928894043, "policy_loss": -0.007121789734810591, "cur_lr": 0.0005000000237487257, "entropy": 2.737485885620117}}, "date": "2019-05-09_05-09-11", "done": false, "episode_len_mean": 727.39, "episodes_this_iter": 84, "episode_reward_max": 942.0703273650994, "custom_metrics": {"cost2_min": -198.30456487946174, "system_level_velocity_min": 9.105824655606002, "cost2_max": -92.49759586018794, "cost2_mean": -171.60830760895234, "cost1_mean": 345.3102214250798, "outflow_rate_mean": 1023.9373553053748, "cost1_max": 463.4375701236352, "system_level_velocity_mean": 12.826810609495386, "cost1_min": 110.6049419143721, "outflow_rate_max": 1251.385627745585, "outflow_rate_min": 405.9255391776879, "system_level_velocity_max": 16.439615499409403}, "hostname": "flow-main", "episode_reward_mean": 673.5610072642526, "training_iteration": 292, "timesteps_since_restore": 15326199, "timesteps_total": 36686432, "time_this_iter_s": 70.3506326675415, "node_ip": "10.138.0.2", "policy_reward_mean": {}}
{"time_total_s": 13755.480021476746, "time_since_restore": 6072.55784201622, "episode_reward_min": 204.17195017274858, "timestamp": 1557378621, "episodes_total": 21524, "iterations_since_restore": 93, "pid": 9951, "num_metric_batches_dropped": 0, "config": {"train_batch_size": 90000, "env": "MultiWaveAttenuationMergePOEnvBufferedObs-v0no_random_eta3:0", "horizon": 1500, "sample_batch_size": 750, "observation_filter": "MeanStdFilter", "log_level": "INFO", "simple_optimizer": false, "monitor": false, "batch_mode": "truncate_episodes", "lambda": 0.97, "sample_async": false, "input_evaluation": null, "clip_actions": false, "env_config": {"run": "PPO", "flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.3,\n            \"eta3\": 0.1,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 10.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 600,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}"}, "kl_target": 0.01, "num_cpus_per_worker": 1, "preprocessor_pref": "deepmind", "num_cpus_for_driver": 1, "output_max_file_size": 67108864, "lr": 0.0005, "entropy_coeff": 0.0, "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "num_sgd_iter": 10, "clip_param": 0.3, "tf_session_args": {"log_device_placement": false, "inter_op_parallelism_threads": 2, "allow_soft_placement": true, "gpu_options": {"allow_growth": true}, "intra_op_parallelism_threads": 2, "device_count": {"CPU": 1}}, "model": {"max_seq_len": 20, "channel_major": false, "conv_filters": null, "free_log_std": false, "lstm_cell_size": 256, "dim": 84, "zero_mean": true, "framestack": true, "lstm_use_prev_action_reward": false, "squash_to_range": false, "use_lstm": false, "custom_options": {}, "grayscale": false, "custom_preprocessor": null, "conv_activation": "relu", "fcnet_hiddens": [128, 64, 32], "custom_model": null, "fcnet_activation": "tanh"}, "output": null, "optimizer": {}, "num_gpus_per_worker": 0, "num_workers": 60, "use_gae": true, "lr_schedule": null, "multiagent": {"policies_to_train": null, "policy_mapping_fn": null, "policy_graphs": {}}, "vf_loss_coeff": 1.0, "kl_coeff": 0.2, "num_gpus": 0, "compress_observations": false, "num_envs_per_worker": 1, "collect_metrics_timeout": 180, "straggler_mitigation": false, "custom_resources_per_worker": {}, "input": "sampler", "vf_share_layers": false, "sgd_minibatch_size": 128, "output_compress_columns": ["obs", "new_obs"], "vf_clip_param": 1000000.0, "synchronize_filters": true, "callbacks": {"on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7fd25c327278>", "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7fd25c3271d0>", "on_train_result": null, "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7fd25c3277f0>", "on_sample_end": null}, "gamma": 0.99, "clip_rewards": null}, "experiment_id": "9b178520507b4656ac608c6ff2056ff7", "timesteps_this_iter": 182051, "info": {"sample_time_ms": 28603.661, "num_steps_trained": 36868483, "update_time_ms": 11.963, "num_steps_sampled": 36868483, "grad_time_ms": 40639.653, "load_time_ms": 41.365, "default": {"kl": 0.009405108168721199, "vf_loss": 25.469392776489258, "vf_explained_var": 0.8857542276382446, "cur_kl_coeff": 0.44999998807907104, "total_loss": 25.46666717529297, "policy_loss": -0.006956400349736214, "cur_lr": 0.0005000000237487257, "entropy": 2.7564001083374023}}, "date": "2019-05-09_05-10-21", "done": false, "episode_len_mean": 737.97, "episodes_this_iter": 84, "episode_reward_max": 942.0703273650994, "custom_metrics": {"cost2_min": -205.98131854795102, "system_level_velocity_min": 9.511977205592503, "cost2_max": -94.20011114616696, "cost2_mean": -172.72490927641454, "cost1_mean": 348.36022448650283, "outflow_rate_mean": 1032.117112471255, "cost1_max": 462.2280226329983, "system_level_velocity_mean": 12.741342587770196, "cost1_min": 117.38930121588893, "outflow_rate_max": 1230.9628791884002, "outflow_rate_min": 435.2937045119711, "system_level_velocity_max": 16.245065129204537}, "hostname": "flow-main", "episode_reward_mean": 678.287875320233, "training_iteration": 293, "timesteps_since_restore": 15508250, "timesteps_total": 36868483, "time_this_iter_s": 70.26492142677307, "node_ip": "10.138.0.2", "policy_reward_mean": {}}
{"time_total_s": 13824.548810720444, "time_since_restore": 6141.626631259918, "episode_reward_min": 202.31656647613704, "timestamp": 1557378690, "episodes_total": 21607, "iterations_since_restore": 94, "pid": 9951, "num_metric_batches_dropped": 0, "config": {"train_batch_size": 90000, "env": "MultiWaveAttenuationMergePOEnvBufferedObs-v0no_random_eta3:0", "horizon": 1500, "sample_batch_size": 750, "observation_filter": "MeanStdFilter", "log_level": "INFO", "simple_optimizer": false, "monitor": false, "batch_mode": "truncate_episodes", "lambda": 0.97, "sample_async": false, "input_evaluation": null, "clip_actions": false, "env_config": {"run": "PPO", "flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.3,\n            \"eta3\": 0.1,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 10.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 600,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}"}, "kl_target": 0.01, "num_cpus_per_worker": 1, "preprocessor_pref": "deepmind", "num_cpus_for_driver": 1, "output_max_file_size": 67108864, "lr": 0.0005, "entropy_coeff": 0.0, "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "num_sgd_iter": 10, "clip_param": 0.3, "tf_session_args": {"log_device_placement": false, "inter_op_parallelism_threads": 2, "allow_soft_placement": true, "gpu_options": {"allow_growth": true}, "intra_op_parallelism_threads": 2, "device_count": {"CPU": 1}}, "model": {"max_seq_len": 20, "channel_major": false, "conv_filters": null, "free_log_std": false, "lstm_cell_size": 256, "dim": 84, "zero_mean": true, "framestack": true, "lstm_use_prev_action_reward": false, "squash_to_range": false, "use_lstm": false, "custom_options": {}, "grayscale": false, "custom_preprocessor": null, "conv_activation": "relu", "fcnet_hiddens": [128, 64, 32], "custom_model": null, "fcnet_activation": "tanh"}, "output": null, "optimizer": {}, "num_gpus_per_worker": 0, "num_workers": 60, "use_gae": true, "lr_schedule": null, "multiagent": {"policies_to_train": null, "policy_mapping_fn": null, "policy_graphs": {}}, "vf_loss_coeff": 1.0, "kl_coeff": 0.2, "num_gpus": 0, "compress_observations": false, "num_envs_per_worker": 1, "collect_metrics_timeout": 180, "straggler_mitigation": false, "custom_resources_per_worker": {}, "input": "sampler", "vf_share_layers": false, "sgd_minibatch_size": 128, "output_compress_columns": ["obs", "new_obs"], "vf_clip_param": 1000000.0, "synchronize_filters": true, "callbacks": {"on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7fd2635f2cc0>", "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7fd2635f2a90>", "on_train_result": null, "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7fd263616358>", "on_sample_end": null}, "gamma": 0.99, "clip_rewards": null}, "experiment_id": "9b178520507b4656ac608c6ff2056ff7", "timesteps_this_iter": 179562, "info": {"sample_time_ms": 28594.723, "num_steps_trained": 37048045, "update_time_ms": 11.93, "num_steps_sampled": 37048045, "grad_time_ms": 40572.201, "load_time_ms": 39.309, "default": {"kl": 0.009246776811778545, "vf_loss": 26.173267364501953, "vf_explained_var": 0.8866563439369202, "cur_kl_coeff": 0.44999998807907104, "total_loss": 26.17115020751953, "policy_loss": -0.006277511361986399, "cur_lr": 0.0005000000237487257, "entropy": 2.756148099899292}}, "date": "2019-05-09_05-11-30", "done": false, "episode_len_mean": 731.0, "episodes_this_iter": 83, "episode_reward_max": 868.2279200147116, "custom_metrics": {"cost2_min": -200.94042558304244, "system_level_velocity_min": 9.244847512499726, "cost2_max": -94.20011114616696, "cost2_mean": -170.06535609724702, "cost1_mean": 345.67185541700206, "outflow_rate_mean": 1025.2260174070977, "cost1_max": 444.1190376987828, "system_level_velocity_mean": 12.780832348998274, "cost1_min": 117.38930121588893, "outflow_rate_max": 1231.5957981923107, "outflow_rate_min": 435.2937045119711, "system_level_velocity_max": 15.989563814853293}, "hostname": "flow-main", "episode_reward_mean": 674.3717620216239, "training_iteration": 294, "timesteps_since_restore": 15687812, "timesteps_total": 37048045, "time_this_iter_s": 69.06878924369812, "node_ip": "10.138.0.2", "policy_reward_mean": {}}
{"time_total_s": 13895.01724934578, "time_since_restore": 6212.095069885254, "episode_reward_min": 202.31656647613704, "timestamp": 1557378761, "episodes_total": 21689, "iterations_since_restore": 95, "pid": 9951, "num_metric_batches_dropped": 0, "config": {"train_batch_size": 90000, "env": "MultiWaveAttenuationMergePOEnvBufferedObs-v0no_random_eta3:0", "horizon": 1500, "sample_batch_size": 750, "observation_filter": "MeanStdFilter", "log_level": "INFO", "simple_optimizer": false, "monitor": false, "batch_mode": "truncate_episodes", "lambda": 0.97, "sample_async": false, "input_evaluation": null, "clip_actions": false, "env_config": {"run": "PPO", "flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.3,\n            \"eta3\": 0.1,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 10.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 600,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}"}, "kl_target": 0.01, "num_cpus_per_worker": 1, "preprocessor_pref": "deepmind", "num_cpus_for_driver": 1, "output_max_file_size": 67108864, "lr": 0.0005, "entropy_coeff": 0.0, "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "num_sgd_iter": 10, "clip_param": 0.3, "tf_session_args": {"log_device_placement": false, "inter_op_parallelism_threads": 2, "allow_soft_placement": true, "gpu_options": {"allow_growth": true}, "intra_op_parallelism_threads": 2, "device_count": {"CPU": 1}}, "model": {"max_seq_len": 20, "channel_major": false, "conv_filters": null, "free_log_std": false, "lstm_cell_size": 256, "dim": 84, "zero_mean": true, "framestack": true, "lstm_use_prev_action_reward": false, "squash_to_range": false, "use_lstm": false, "custom_options": {}, "grayscale": false, "custom_preprocessor": null, "conv_activation": "relu", "fcnet_hiddens": [128, 64, 32], "custom_model": null, "fcnet_activation": "tanh"}, "output": null, "optimizer": {}, "num_gpus_per_worker": 0, "num_workers": 60, "use_gae": true, "lr_schedule": null, "multiagent": {"policies_to_train": null, "policy_mapping_fn": null, "policy_graphs": {}}, "vf_loss_coeff": 1.0, "kl_coeff": 0.2, "num_gpus": 0, "compress_observations": false, "num_envs_per_worker": 1, "collect_metrics_timeout": 180, "straggler_mitigation": false, "custom_resources_per_worker": {}, "input": "sampler", "vf_share_layers": false, "sgd_minibatch_size": 128, "output_compress_columns": ["obs", "new_obs"], "vf_clip_param": 1000000.0, "synchronize_filters": true, "callbacks": {"on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7fd25c327908>", "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7fd25c327748>", "on_train_result": null, "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7fd25c327358>", "on_sample_end": null}, "gamma": 0.99, "clip_rewards": null}, "experiment_id": "9b178520507b4656ac608c6ff2056ff7", "timesteps_this_iter": 180771, "info": {"sample_time_ms": 28612.224, "num_steps_trained": 37228816, "update_time_ms": 11.778, "num_steps_sampled": 37228816, "grad_time_ms": 40849.443, "load_time_ms": 41.014, "default": {"kl": 0.009332717396318913, "vf_loss": 27.297672271728516, "vf_explained_var": 0.879485547542572, "cur_kl_coeff": 0.44999998807907104, "total_loss": 27.29564094543457, "policy_loss": -0.006228290963917971, "cur_lr": 0.0005000000237487257, "entropy": 2.7600414752960205}}, "date": "2019-05-09_05-12-41", "done": false, "episode_len_mean": 738.88, "episodes_this_iter": 82, "episode_reward_max": 872.4569738402258, "custom_metrics": {"cost2_min": -202.03476910632799, "system_level_velocity_min": 9.250374595217634, "cost2_max": -94.64023092202542, "cost2_mean": -172.17812177981546, "cost1_mean": 346.7634226388742, "outflow_rate_mean": 1029.1202599370672, "cost1_max": 443.2146512106727, "system_level_velocity_mean": 12.645846091452848, "cost1_min": 118.07310123135389, "outflow_rate_max": 1226.688700116002, "outflow_rate_min": 434.2545236658974, "system_level_velocity_max": 15.639524789782632}, "hostname": "flow-main", "episode_reward_mean": 674.4136018326963, "training_iteration": 295, "timesteps_since_restore": 15868583, "timesteps_total": 37228816, "time_this_iter_s": 70.4684386253357, "node_ip": "10.138.0.2", "policy_reward_mean": {}}
{"time_total_s": 13963.45518898964, "time_since_restore": 6280.533009529114, "episode_reward_min": 191.26951806053302, "timestamp": 1557378829, "episodes_total": 21773, "iterations_since_restore": 96, "pid": 9951, "num_metric_batches_dropped": 0, "config": {"train_batch_size": 90000, "env": "MultiWaveAttenuationMergePOEnvBufferedObs-v0no_random_eta3:0", "horizon": 1500, "sample_batch_size": 750, "observation_filter": "MeanStdFilter", "log_level": "INFO", "simple_optimizer": false, "monitor": false, "batch_mode": "truncate_episodes", "lambda": 0.97, "sample_async": false, "input_evaluation": null, "clip_actions": false, "env_config": {"run": "PPO", "flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.3,\n            \"eta3\": 0.1,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 10.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 600,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}"}, "kl_target": 0.01, "num_cpus_per_worker": 1, "preprocessor_pref": "deepmind", "num_cpus_for_driver": 1, "output_max_file_size": 67108864, "lr": 0.0005, "entropy_coeff": 0.0, "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "num_sgd_iter": 10, "clip_param": 0.3, "tf_session_args": {"log_device_placement": false, "inter_op_parallelism_threads": 2, "allow_soft_placement": true, "gpu_options": {"allow_growth": true}, "intra_op_parallelism_threads": 2, "device_count": {"CPU": 1}}, "model": {"max_seq_len": 20, "channel_major": false, "conv_filters": null, "free_log_std": false, "lstm_cell_size": 256, "dim": 84, "zero_mean": true, "framestack": true, "lstm_use_prev_action_reward": false, "squash_to_range": false, "use_lstm": false, "custom_options": {}, "grayscale": false, "custom_preprocessor": null, "conv_activation": "relu", "fcnet_hiddens": [128, 64, 32], "custom_model": null, "fcnet_activation": "tanh"}, "output": null, "optimizer": {}, "num_gpus_per_worker": 0, "num_workers": 60, "use_gae": true, "lr_schedule": null, "multiagent": {"policies_to_train": null, "policy_mapping_fn": null, "policy_graphs": {}}, "vf_loss_coeff": 1.0, "kl_coeff": 0.2, "num_gpus": 0, "compress_observations": false, "num_envs_per_worker": 1, "collect_metrics_timeout": 180, "straggler_mitigation": false, "custom_resources_per_worker": {}, "input": "sampler", "vf_share_layers": false, "sgd_minibatch_size": 128, "output_compress_columns": ["obs", "new_obs"], "vf_clip_param": 1000000.0, "synchronize_filters": true, "callbacks": {"on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7fd263616358>", "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7fd2636164e0>", "on_train_result": null, "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7fd263616cc0>", "on_sample_end": null}, "gamma": 0.99, "clip_rewards": null}, "experiment_id": "9b178520507b4656ac608c6ff2056ff7", "timesteps_this_iter": 177067, "info": {"sample_time_ms": 28602.777, "num_steps_trained": 37405883, "update_time_ms": 11.749, "num_steps_sampled": 37405883, "grad_time_ms": 40924.622, "load_time_ms": 39.274, "default": {"kl": 0.008915923535823822, "vf_loss": 26.945114135742188, "vf_explained_var": 0.8837049603462219, "cur_kl_coeff": 0.44999998807907104, "total_loss": 26.942703247070312, "policy_loss": -0.006421744357794523, "cur_lr": 0.0005000000237487257, "entropy": 2.7456374168395996}}, "date": "2019-05-09_05-13-49", "done": false, "episode_len_mean": 740.38, "episodes_this_iter": 84, "episode_reward_max": 910.5380084411838, "custom_metrics": {"cost2_min": -202.03476910632799, "system_level_velocity_min": 10.300906494844428, "cost2_max": -93.62523945463445, "cost2_mean": -174.7081107147379, "cost1_mean": 351.2032648018419, "outflow_rate_mean": 1039.6198877331217, "cost1_max": 460.0734408521627, "system_level_velocity_mean": 12.784296326287459, "cost1_min": 112.36918723745765, "outflow_rate_max": 1243.9231733243396, "outflow_rate_min": 417.0722901104415, "system_level_velocity_max": 16.218858118780837}, "hostname": "flow-main", "episode_reward_mean": 681.3363099501513, "training_iteration": 296, "timesteps_since_restore": 16045650, "timesteps_total": 37405883, "time_this_iter_s": 68.43793964385986, "node_ip": "10.138.0.2", "policy_reward_mean": {}}
{"time_total_s": 14033.333117961884, "time_since_restore": 6350.410938501358, "episode_reward_min": 191.26951806053302, "timestamp": 1557378899, "episodes_total": 21856, "iterations_since_restore": 97, "pid": 9951, "num_metric_batches_dropped": 0, "config": {"train_batch_size": 90000, "env": "MultiWaveAttenuationMergePOEnvBufferedObs-v0no_random_eta3:0", "horizon": 1500, "sample_batch_size": 750, "observation_filter": "MeanStdFilter", "log_level": "INFO", "simple_optimizer": false, "monitor": false, "batch_mode": "truncate_episodes", "lambda": 0.97, "sample_async": false, "input_evaluation": null, "clip_actions": false, "env_config": {"run": "PPO", "flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.3,\n            \"eta3\": 0.1,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 10.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 600,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}"}, "kl_target": 0.01, "num_cpus_per_worker": 1, "preprocessor_pref": "deepmind", "num_cpus_for_driver": 1, "output_max_file_size": 67108864, "lr": 0.0005, "entropy_coeff": 0.0, "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "num_sgd_iter": 10, "clip_param": 0.3, "tf_session_args": {"log_device_placement": false, "inter_op_parallelism_threads": 2, "allow_soft_placement": true, "gpu_options": {"allow_growth": true}, "intra_op_parallelism_threads": 2, "device_count": {"CPU": 1}}, "model": {"max_seq_len": 20, "channel_major": false, "conv_filters": null, "free_log_std": false, "lstm_cell_size": 256, "dim": 84, "zero_mean": true, "framestack": true, "lstm_use_prev_action_reward": false, "squash_to_range": false, "use_lstm": false, "custom_options": {}, "grayscale": false, "custom_preprocessor": null, "conv_activation": "relu", "fcnet_hiddens": [128, 64, 32], "custom_model": null, "fcnet_activation": "tanh"}, "output": null, "optimizer": {}, "num_gpus_per_worker": 0, "num_workers": 60, "use_gae": true, "lr_schedule": null, "multiagent": {"policies_to_train": null, "policy_mapping_fn": null, "policy_graphs": {}}, "vf_loss_coeff": 1.0, "kl_coeff": 0.2, "num_gpus": 0, "compress_observations": false, "num_envs_per_worker": 1, "collect_metrics_timeout": 180, "straggler_mitigation": false, "custom_resources_per_worker": {}, "input": "sampler", "vf_share_layers": false, "sgd_minibatch_size": 128, "output_compress_columns": ["obs", "new_obs"], "vf_clip_param": 1000000.0, "synchronize_filters": true, "callbacks": {"on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7fd2635f2cc0>", "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7fd2635f2780>", "on_train_result": null, "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7fd263616dd8>", "on_sample_end": null}, "gamma": 0.99, "clip_rewards": null}, "experiment_id": "9b178520507b4656ac608c6ff2056ff7", "timesteps_this_iter": 179685, "info": {"sample_time_ms": 28514.351, "num_steps_trained": 37585568, "update_time_ms": 11.537, "num_steps_sampled": 37585568, "grad_time_ms": 41019.529, "load_time_ms": 38.869, "default": {"kl": 0.008923012763261795, "vf_loss": 28.367319107055664, "vf_explained_var": 0.8852325081825256, "cur_kl_coeff": 0.44999998807907104, "total_loss": 28.364988327026367, "policy_loss": -0.006346473004668951, "cur_lr": 0.0005000000237487257, "entropy": 2.7575929164886475}}, "date": "2019-05-09_05-14-59", "done": false, "episode_len_mean": 741.32, "episodes_this_iter": 83, "episode_reward_max": 947.8009204481293, "custom_metrics": {"cost2_min": -199.37568213700922, "system_level_velocity_min": 10.416270852453271, "cost2_max": -99.22324037044552, "cost2_mean": -175.07986265039943, "cost1_mean": 353.8606871286196, "outflow_rate_mean": 1043.8807144739862, "cost1_max": 475.55520578673156, "system_level_velocity_mean": 12.870916233653375, "cost1_min": 112.36918723745765, "outflow_rate_max": 1264.4228335989997, "outflow_rate_min": 417.0722901104415, "system_level_velocity_max": 16.837250767921574}, "hostname": "flow-main", "episode_reward_mean": 685.6236833560513, "training_iteration": 297, "timesteps_since_restore": 16225335, "timesteps_total": 37585568, "time_this_iter_s": 69.87792897224426, "node_ip": "10.138.0.2", "policy_reward_mean": {}}
{"time_total_s": 14102.27920460701, "time_since_restore": 6419.357025146484, "episode_reward_min": 322.981984272559, "timestamp": 1557378968, "episodes_total": 21939, "iterations_since_restore": 98, "pid": 9951, "num_metric_batches_dropped": 0, "config": {"train_batch_size": 90000, "env": "MultiWaveAttenuationMergePOEnvBufferedObs-v0no_random_eta3:0", "horizon": 1500, "sample_batch_size": 750, "observation_filter": "MeanStdFilter", "log_level": "INFO", "simple_optimizer": false, "monitor": false, "batch_mode": "truncate_episodes", "lambda": 0.97, "sample_async": false, "input_evaluation": null, "clip_actions": false, "env_config": {"run": "PPO", "flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.3,\n            \"eta3\": 0.1,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 10.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 600,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}"}, "kl_target": 0.01, "num_cpus_per_worker": 1, "preprocessor_pref": "deepmind", "num_cpus_for_driver": 1, "output_max_file_size": 67108864, "lr": 0.0005, "entropy_coeff": 0.0, "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "num_sgd_iter": 10, "clip_param": 0.3, "tf_session_args": {"log_device_placement": false, "inter_op_parallelism_threads": 2, "allow_soft_placement": true, "gpu_options": {"allow_growth": true}, "intra_op_parallelism_threads": 2, "device_count": {"CPU": 1}}, "model": {"max_seq_len": 20, "channel_major": false, "conv_filters": null, "free_log_std": false, "lstm_cell_size": 256, "dim": 84, "zero_mean": true, "framestack": true, "lstm_use_prev_action_reward": false, "squash_to_range": false, "use_lstm": false, "custom_options": {}, "grayscale": false, "custom_preprocessor": null, "conv_activation": "relu", "fcnet_hiddens": [128, 64, 32], "custom_model": null, "fcnet_activation": "tanh"}, "output": null, "optimizer": {}, "num_gpus_per_worker": 0, "num_workers": 60, "use_gae": true, "lr_schedule": null, "multiagent": {"policies_to_train": null, "policy_mapping_fn": null, "policy_graphs": {}}, "vf_loss_coeff": 1.0, "kl_coeff": 0.2, "num_gpus": 0, "compress_observations": false, "num_envs_per_worker": 1, "collect_metrics_timeout": 180, "straggler_mitigation": false, "custom_resources_per_worker": {}, "input": "sampler", "vf_share_layers": false, "sgd_minibatch_size": 128, "output_compress_columns": ["obs", "new_obs"], "vf_clip_param": 1000000.0, "synchronize_filters": true, "callbacks": {"on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7fd2636164e0>", "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7fd263616358>", "on_train_result": null, "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7fd263616cf8>", "on_sample_end": null}, "gamma": 0.99, "clip_rewards": null}, "experiment_id": "9b178520507b4656ac608c6ff2056ff7", "timesteps_this_iter": 178615, "info": {"sample_time_ms": 28244.562, "num_steps_trained": 37764183, "update_time_ms": 11.42, "num_steps_sampled": 37764183, "grad_time_ms": 41068.479, "load_time_ms": 36.794, "default": {"kl": 0.009501907043159008, "vf_loss": 27.57822036743164, "vf_explained_var": 0.8826391696929932, "cur_kl_coeff": 0.44999998807907104, "total_loss": 27.575485229492188, "policy_loss": -0.007012450601905584, "cur_lr": 0.0005000000237487257, "entropy": 2.7430577278137207}}, "date": "2019-05-09_05-16-08", "done": false, "episode_len_mean": 746.65, "episodes_this_iter": 83, "episode_reward_max": 923.8179915558221, "custom_metrics": {"cost2_min": -203.851272198181, "system_level_velocity_min": 10.978850750600577, "cost2_max": -126.95032242011482, "cost2_mean": -176.83280464683148, "cost1_mean": 359.05558628612283, "outflow_rate_mean": 1057.088873617041, "cost1_max": 459.4228020441042, "system_level_velocity_mean": 12.954938759159601, "cost1_min": 181.1863333114608, "outflow_rate_max": 1245.226150542889, "outflow_rate_min": 603.1681068115039, "system_level_velocity_max": 16.29294813594843}, "hostname": "flow-main", "episode_reward_mean": 697.1876439444522, "training_iteration": 298, "timesteps_since_restore": 16403950, "timesteps_total": 37764183, "time_this_iter_s": 68.94608664512634, "node_ip": "10.138.0.2", "policy_reward_mean": {}}
{"time_total_s": 14171.303026676178, "time_since_restore": 6488.3808472156525, "episode_reward_min": 204.7229145438795, "timestamp": 1557379037, "episodes_total": 22024, "iterations_since_restore": 99, "pid": 9951, "num_metric_batches_dropped": 0, "config": {"train_batch_size": 90000, "env": "MultiWaveAttenuationMergePOEnvBufferedObs-v0no_random_eta3:0", "horizon": 1500, "sample_batch_size": 750, "observation_filter": "MeanStdFilter", "log_level": "INFO", "simple_optimizer": false, "monitor": false, "batch_mode": "truncate_episodes", "lambda": 0.97, "sample_async": false, "input_evaluation": null, "clip_actions": false, "env_config": {"run": "PPO", "flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.3,\n            \"eta3\": 0.1,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 10.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 600,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}"}, "kl_target": 0.01, "num_cpus_per_worker": 1, "preprocessor_pref": "deepmind", "num_cpus_for_driver": 1, "output_max_file_size": 67108864, "lr": 0.0005, "entropy_coeff": 0.0, "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "num_sgd_iter": 10, "clip_param": 0.3, "tf_session_args": {"log_device_placement": false, "inter_op_parallelism_threads": 2, "allow_soft_placement": true, "gpu_options": {"allow_growth": true}, "intra_op_parallelism_threads": 2, "device_count": {"CPU": 1}}, "model": {"max_seq_len": 20, "channel_major": false, "conv_filters": null, "free_log_std": false, "lstm_cell_size": 256, "dim": 84, "zero_mean": true, "framestack": true, "lstm_use_prev_action_reward": false, "squash_to_range": false, "use_lstm": false, "custom_options": {}, "grayscale": false, "custom_preprocessor": null, "conv_activation": "relu", "fcnet_hiddens": [128, 64, 32], "custom_model": null, "fcnet_activation": "tanh"}, "output": null, "optimizer": {}, "num_gpus_per_worker": 0, "num_workers": 60, "use_gae": true, "lr_schedule": null, "multiagent": {"policies_to_train": null, "policy_mapping_fn": null, "policy_graphs": {}}, "vf_loss_coeff": 1.0, "kl_coeff": 0.2, "num_gpus": 0, "compress_observations": false, "num_envs_per_worker": 1, "collect_metrics_timeout": 180, "straggler_mitigation": false, "custom_resources_per_worker": {}, "input": "sampler", "vf_share_layers": false, "sgd_minibatch_size": 128, "output_compress_columns": ["obs", "new_obs"], "vf_clip_param": 1000000.0, "synchronize_filters": true, "callbacks": {"on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7fd263616dd8>", "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7fd2636166d8>", "on_train_result": null, "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7fd263616400>", "on_sample_end": null}, "gamma": 0.99, "clip_rewards": null}, "experiment_id": "9b178520507b4656ac608c6ff2056ff7", "timesteps_this_iter": 176693, "info": {"sample_time_ms": 28264.361, "num_steps_trained": 37940876, "update_time_ms": 11.279, "num_steps_sampled": 37940876, "grad_time_ms": 41077.025, "load_time_ms": 35.46, "default": {"kl": 0.00903678685426712, "vf_loss": 29.86719512939453, "vf_explained_var": 0.8737374544143677, "cur_kl_coeff": 0.44999998807907104, "total_loss": 29.86441421508789, "policy_loss": -0.006846054922789335, "cur_lr": 0.0005000000237487257, "entropy": 2.7410147190093994}}, "date": "2019-05-09_05-17-17", "done": false, "episode_len_mean": 738.93, "episodes_this_iter": 85, "episode_reward_max": 899.8207887946555, "custom_metrics": {"cost2_min": -193.37070189712637, "system_level_velocity_min": 9.459107204941853, "cost2_max": -99.45154014459587, "cost2_mean": -175.1349244902602, "cost1_mean": 352.18742715585205, "outflow_rate_mean": 1041.7103329604504, "cost1_max": 459.296293896116, "system_level_velocity_mean": 12.889914429717287, "cost1_min": 119.4519212105443, "outflow_rate_max": 1245.0265245100009, "outflow_rate_min": 439.80531186893296, "system_level_velocity_max": 16.29294813594843}, "hostname": "flow-main", "episode_reward_mean": 687.2967794787571, "training_iteration": 299, "timesteps_since_restore": 16580643, "timesteps_total": 37940876, "time_this_iter_s": 69.02382206916809, "node_ip": "10.138.0.2", "policy_reward_mean": {}}
{"time_total_s": 14242.876829385757, "time_since_restore": 6559.954649925232, "episode_reward_min": 452.2228737753888, "timestamp": 1557379109, "episodes_total": 22105, "iterations_since_restore": 100, "pid": 9951, "num_metric_batches_dropped": 0, "config": {"train_batch_size": 90000, "env": "MultiWaveAttenuationMergePOEnvBufferedObs-v0no_random_eta3:0", "horizon": 1500, "sample_batch_size": 750, "observation_filter": "MeanStdFilter", "log_level": "INFO", "simple_optimizer": false, "monitor": false, "batch_mode": "truncate_episodes", "lambda": 0.97, "sample_async": false, "input_evaluation": null, "clip_actions": false, "env_config": {"run": "PPO", "flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.3,\n            \"eta3\": 0.1,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 10.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 600,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}"}, "kl_target": 0.01, "num_cpus_per_worker": 1, "preprocessor_pref": "deepmind", "num_cpus_for_driver": 1, "output_max_file_size": 67108864, "lr": 0.0005, "entropy_coeff": 0.0, "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "num_sgd_iter": 10, "clip_param": 0.3, "tf_session_args": {"log_device_placement": false, "inter_op_parallelism_threads": 2, "allow_soft_placement": true, "gpu_options": {"allow_growth": true}, "intra_op_parallelism_threads": 2, "device_count": {"CPU": 1}}, "model": {"max_seq_len": 20, "channel_major": false, "conv_filters": null, "free_log_std": false, "lstm_cell_size": 256, "dim": 84, "zero_mean": true, "framestack": true, "lstm_use_prev_action_reward": false, "squash_to_range": false, "use_lstm": false, "custom_options": {}, "grayscale": false, "custom_preprocessor": null, "conv_activation": "relu", "fcnet_hiddens": [128, 64, 32], "custom_model": null, "fcnet_activation": "tanh"}, "output": null, "optimizer": {}, "num_gpus_per_worker": 0, "num_workers": 60, "use_gae": true, "lr_schedule": null, "multiagent": {"policies_to_train": null, "policy_mapping_fn": null, "policy_graphs": {}}, "vf_loss_coeff": 1.0, "kl_coeff": 0.2, "num_gpus": 0, "compress_observations": false, "num_envs_per_worker": 1, "collect_metrics_timeout": 180, "straggler_mitigation": false, "custom_resources_per_worker": {}, "input": "sampler", "vf_share_layers": false, "sgd_minibatch_size": 128, "output_compress_columns": ["obs", "new_obs"], "vf_clip_param": 1000000.0, "synchronize_filters": true, "callbacks": {"on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7fd263616128>", "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7fd263616a58>", "on_train_result": null, "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7fd2636165f8>", "on_sample_end": null}, "gamma": 0.99, "clip_rewards": null}, "experiment_id": "9b178520507b4656ac608c6ff2056ff7", "timesteps_this_iter": 180212, "info": {"sample_time_ms": 28293.444, "num_steps_trained": 38121088, "update_time_ms": 11.472, "num_steps_sampled": 38121088, "grad_time_ms": 41275.096, "load_time_ms": 35.637, "default": {"kl": 0.009627334773540497, "vf_loss": 26.016357421875, "vf_explained_var": 0.8856136202812195, "cur_kl_coeff": 0.45000001788139343, "total_loss": 26.013904571533203, "policy_loss": -0.006787414196878672, "cur_lr": 0.0005000000237487257, "entropy": 2.7682101726531982}}, "date": "2019-05-09_05-18-29", "done": true, "episode_len_mean": 745.94, "episodes_this_iter": 81, "episode_reward_max": 865.671202248613, "custom_metrics": {"cost2_min": -198.67567530300158, "system_level_velocity_min": 10.105514886025267, "cost2_max": -149.80116336766645, "cost2_mean": -178.5491785758008, "cost1_mean": 354.064111920776, "outflow_rate_mean": 1048.5260875331307, "cost1_max": 444.6551075572118, "system_level_velocity_mean": 12.785219530005737, "cost1_min": 239.5735757775142, "outflow_rate_max": 1230.5528398692638, "outflow_rate_min": 713.0168263226486, "system_level_velocity_max": 15.760853026616523}, "hostname": "flow-main", "episode_reward_mean": 691.3202088116204, "training_iteration": 300, "timesteps_since_restore": 16760855, "timesteps_total": 38121088, "time_this_iter_s": 71.57380270957947, "node_ip": "10.138.0.2", "policy_reward_mean": {}}
