{"node_ip": "10.138.0.2", "episode_reward_mean": 335.4286464671017, "time_this_iter_s": 74.68119359016418, "done": false, "episode_len_mean": 750.0, "timestamp": 1557387635, "training_iteration": 1, "experiment_id": "58dd2f5595014063b753971755894587", "time_since_restore": 74.68119359016418, "timesteps_total": 153243, "pid": 25334, "episodes_this_iter": 30, "date": "2019-05-09_07-40-35", "info": {"sample_time_ms": 36978.395, "grad_time_ms": 36257.497, "num_steps_sampled": 153243, "update_time_ms": 933.992, "default": {"vf_explained_var": 0.9508706331253052, "cur_kl_coeff": 0.20000001788139343, "vf_loss": 0.4292932450771332, "policy_loss": -0.003050078870728612, "cur_lr": 0.0005000000237487257, "kl": 0.004768841899931431, "total_loss": 0.4271969497203827, "entropy": 1.413812518119812}, "load_time_ms": 109.015, "num_steps_trained": 153243}, "timesteps_since_restore": 153243, "iterations_since_restore": 1, "config": {"local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "compress_observations": false, "clip_rewards": null, "sample_async": false, "custom_resources_per_worker": {}, "use_gae": true, "vf_share_layers": false, "vf_loss_coeff": 1.0, "optimizer": {}, "simple_optimizer": false, "num_envs_per_worker": 1, "vf_clip_param": 1000000.0, "synchronize_filters": true, "num_cpus_per_worker": 1, "multiagent": {"policy_graphs": {}, "policies_to_train": null, "policy_mapping_fn": null}, "kl_target": 0.01, "clip_actions": false, "input": "sampler", "input_evaluation": null, "entropy_coeff": 0.0, "lr_schedule": null, "sgd_minibatch_size": 128, "callbacks": {"on_sample_end": null, "on_train_result": null, "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7f498a922208>", "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7f498a9221d0>", "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7f498a922198>"}, "num_cpus_for_driver": 1, "log_level": "INFO", "tf_session_args": {"log_device_placement": false, "gpu_options": {"allow_growth": true}, "intra_op_parallelism_threads": 2, "inter_op_parallelism_threads": 2, "allow_soft_placement": true, "device_count": {"CPU": 1}}, "model": {"dim": 84, "free_log_std": false, "fcnet_hiddens": [128, 64, 32], "custom_model": null, "fcnet_activation": "tanh", "lstm_use_prev_action_reward": false, "grayscale": false, "channel_major": false, "squash_to_range": false, "framestack": true, "use_lstm": false, "conv_activation": "relu", "conv_filters": null, "custom_preprocessor": null, "lstm_cell_size": 256, "zero_mean": true, "custom_options": {}, "max_seq_len": 20}, "lambda": 0.97, "num_gpus_per_worker": 0, "kl_coeff": 0.2, "horizon": 1500, "preprocessor_pref": "deepmind", "env_config": {"run": "PPO", "flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.1,\n            \"eta3\": 0.1,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 7.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 0\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 700,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}"}, "clip_param": 0.3, "observation_filter": "MeanStdFilter", "env": "MultiWaveAttenuationMergePOEnvBufferedObs-v0density_[eta1, eta2, eta3]:[1.0, 0.1, 0.0]_t_min:7.0", "gamma": 0.99, "lr": 0.0005, "monitor": false, "output_compress_columns": ["obs", "new_obs"], "batch_mode": "truncate_episodes", "num_gpus": 0, "num_workers": 30, "output": null, "collect_metrics_timeout": 180, "num_sgd_iter": 10, "sample_batch_size": 750, "output_max_file_size": 67108864, "straggler_mitigation": false, "train_batch_size": 90000}, "num_metric_batches_dropped": 0, "hostname": "flow-main", "episodes_total": 30, "episode_reward_min": 197.2294828228158, "time_total_s": 74.68119359016418, "policy_reward_mean": {}, "timesteps_this_iter": 153243, "custom_metrics": {"cost1_mean": 148.6807647868747, "system_level_velocity_mean": 5.16278230618485, "cost2_max": -23.343628416792857, "outflow_rate_max": 665.9304755959594, "outflow_rate_mean": 435.12152437174086, "cost1_max": 215.14764449186845, "outflow_rate_min": 216.0447958423708, "system_level_velocity_max": 7.35740335495417, "system_level_velocity_min": 2.9699132335311766, "cost2_min": -98.28801755098775, "cost1_min": 82.75161778715473, "cost2_mean": -72.02273912169602}, "episode_reward_max": 456.2148517237404}
{"node_ip": "10.138.0.2", "episode_reward_mean": 332.14958569242435, "time_this_iter_s": 72.77247929573059, "done": false, "episode_len_mean": 750.6296296296297, "timestamp": 1557387708, "training_iteration": 2, "experiment_id": "58dd2f5595014063b753971755894587", "time_since_restore": 147.45367288589478, "timesteps_total": 303067, "pid": 25334, "episodes_this_iter": 51, "date": "2019-05-09_07-41-48", "info": {"sample_time_ms": 36870.094, "grad_time_ms": 35970.117, "num_steps_sampled": 303067, "update_time_ms": 472.925, "default": {"vf_explained_var": 0.9822870492935181, "cur_kl_coeff": 0.10000001639127731, "vf_loss": 0.5587922930717468, "policy_loss": -0.004028102848678827, "cur_lr": 0.0005000000237487257, "kl": 0.010553793981671333, "total_loss": 0.555819571018219, "entropy": 1.4174437522888184}, "load_time_ms": 86.966, "num_steps_trained": 303067}, "timesteps_since_restore": 303067, "iterations_since_restore": 2, "config": {"local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "compress_observations": false, "clip_rewards": null, "sample_async": false, "custom_resources_per_worker": {}, "use_gae": true, "vf_share_layers": false, "vf_loss_coeff": 1.0, "optimizer": {}, "simple_optimizer": false, "num_envs_per_worker": 1, "vf_clip_param": 1000000.0, "synchronize_filters": true, "num_cpus_per_worker": 1, "multiagent": {"policy_graphs": {}, "policies_to_train": null, "policy_mapping_fn": null}, "kl_target": 0.01, "clip_actions": false, "input": "sampler", "input_evaluation": null, "entropy_coeff": 0.0, "lr_schedule": null, "sgd_minibatch_size": 128, "callbacks": {"on_sample_end": null, "on_train_result": null, "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7f49896a7630>", "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7f49896a75f8>", "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7f49896a75c0>"}, "num_cpus_for_driver": 1, "log_level": "INFO", "tf_session_args": {"log_device_placement": false, "gpu_options": {"allow_growth": true}, "intra_op_parallelism_threads": 2, "inter_op_parallelism_threads": 2, "allow_soft_placement": true, "device_count": {"CPU": 1}}, "model": {"dim": 84, "free_log_std": false, "fcnet_hiddens": [128, 64, 32], "custom_model": null, "fcnet_activation": "tanh", "lstm_use_prev_action_reward": false, "grayscale": false, "channel_major": false, "squash_to_range": false, "framestack": true, "use_lstm": false, "conv_activation": "relu", "conv_filters": null, "custom_preprocessor": null, "lstm_cell_size": 256, "zero_mean": true, "custom_options": {}, "max_seq_len": 20}, "lambda": 0.97, "num_gpus_per_worker": 0, "kl_coeff": 0.2, "horizon": 1500, "preprocessor_pref": "deepmind", "env_config": {"run": "PPO", "flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.1,\n            \"eta3\": 0.1,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 7.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 0\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 700,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}"}, "clip_param": 0.3, "observation_filter": "MeanStdFilter", "env": "MultiWaveAttenuationMergePOEnvBufferedObs-v0density_[eta1, eta2, eta3]:[1.0, 0.1, 0.0]_t_min:7.0", "gamma": 0.99, "lr": 0.0005, "monitor": false, "output_compress_columns": ["obs", "new_obs"], "batch_mode": "truncate_episodes", "num_gpus": 0, "num_workers": 30, "output": null, "collect_metrics_timeout": 180, "num_sgd_iter": 10, "sample_batch_size": 750, "output_max_file_size": 67108864, "straggler_mitigation": false, "train_batch_size": 90000}, "num_metric_batches_dropped": 0, "hostname": "flow-main", "episodes_total": 81, "episode_reward_min": 181.08010509779314, "time_total_s": 147.45367288589478, "policy_reward_mean": {}, "timesteps_this_iter": 149824, "custom_metrics": {"cost1_mean": 150.51620871835587, "system_level_velocity_mean": 5.227863206977432, "cost2_max": -23.343628416792857, "outflow_rate_max": 732.4012469894964, "outflow_rate_mean": 449.8697616029846, "cost1_max": 230.96564227397903, "outflow_rate_min": 204.23666339086788, "system_level_velocity_max": 7.9393985598654595, "system_level_velocity_min": 2.8095330026955265, "cost2_min": -106.85758174513452, "cost1_min": 78.20879311616319, "cost2_mean": -69.21000223250245}, "episode_reward_max": 512.4802936663705}
{"node_ip": "10.138.0.2", "episode_reward_mean": 368.39087040069074, "time_this_iter_s": 76.15396451950073, "done": false, "episode_len_mean": 751.0, "timestamp": 1557387784, "training_iteration": 3, "experiment_id": "58dd2f5595014063b753971755894587", "time_since_restore": 223.6076374053955, "timesteps_total": 452529, "pid": 25334, "episodes_this_iter": 56, "date": "2019-05-09_07-43-04", "info": {"sample_time_ms": 37482.423, "grad_time_ms": 36327.44, "num_steps_sampled": 452529, "update_time_ms": 317.794, "default": {"vf_explained_var": 0.9834840297698975, "cur_kl_coeff": 0.10000000894069672, "vf_loss": 0.8263794779777527, "policy_loss": -0.008261344395577908, "cur_lr": 0.0005000000237487257, "kl": 0.020452972501516342, "total_loss": 0.820163369178772, "entropy": 1.4151641130447388}, "load_time_ms": 79.841, "num_steps_trained": 452529}, "timesteps_since_restore": 452529, "iterations_since_restore": 3, "config": {"local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "compress_observations": false, "clip_rewards": null, "sample_async": false, "custom_resources_per_worker": {}, "use_gae": true, "vf_share_layers": false, "vf_loss_coeff": 1.0, "optimizer": {}, "simple_optimizer": false, "num_envs_per_worker": 1, "vf_clip_param": 1000000.0, "synchronize_filters": true, "num_cpus_per_worker": 1, "multiagent": {"policy_graphs": {}, "policies_to_train": null, "policy_mapping_fn": null}, "kl_target": 0.01, "clip_actions": false, "input": "sampler", "input_evaluation": null, "entropy_coeff": 0.0, "lr_schedule": null, "sgd_minibatch_size": 128, "callbacks": {"on_sample_end": null, "on_train_result": null, "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7f498a922550>", "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7f498a9226d8>", "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7f498a9228d0>"}, "num_cpus_for_driver": 1, "log_level": "INFO", "tf_session_args": {"log_device_placement": false, "gpu_options": {"allow_growth": true}, "intra_op_parallelism_threads": 2, "inter_op_parallelism_threads": 2, "allow_soft_placement": true, "device_count": {"CPU": 1}}, "model": {"dim": 84, "free_log_std": false, "fcnet_hiddens": [128, 64, 32], "custom_model": null, "fcnet_activation": "tanh", "lstm_use_prev_action_reward": false, "grayscale": false, "channel_major": false, "squash_to_range": false, "framestack": true, "use_lstm": false, "conv_activation": "relu", "conv_filters": null, "custom_preprocessor": null, "lstm_cell_size": 256, "zero_mean": true, "custom_options": {}, "max_seq_len": 20}, "lambda": 0.97, "num_gpus_per_worker": 0, "kl_coeff": 0.2, "horizon": 1500, "preprocessor_pref": "deepmind", "env_config": {"run": "PPO", "flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.1,\n            \"eta3\": 0.1,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 7.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 0\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 700,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}"}, "clip_param": 0.3, "observation_filter": "MeanStdFilter", "env": "MultiWaveAttenuationMergePOEnvBufferedObs-v0density_[eta1, eta2, eta3]:[1.0, 0.1, 0.0]_t_min:7.0", "gamma": 0.99, "lr": 0.0005, "monitor": false, "output_compress_columns": ["obs", "new_obs"], "batch_mode": "truncate_episodes", "num_gpus": 0, "num_workers": 30, "output": null, "collect_metrics_timeout": 180, "num_sgd_iter": 10, "sample_batch_size": 750, "output_max_file_size": 67108864, "straggler_mitigation": false, "train_batch_size": 90000}, "num_metric_batches_dropped": 0, "hostname": "flow-main", "episodes_total": 137, "episode_reward_min": 181.08010509779314, "time_total_s": 223.6076374053955, "policy_reward_mean": {}, "timesteps_this_iter": 149462, "custom_metrics": {"cost1_mean": 168.87140592658582, "system_level_velocity_mean": 5.839462217127622, "cost2_max": -36.105436501127365, "outflow_rate_max": 798.145753780487, "outflow_rate_mean": 505.80893074477075, "cost1_max": 252.7151919679552, "outflow_rate_min": 187.3314302841289, "system_level_velocity_max": 8.59711288459184, "system_level_velocity_min": 2.8095330026955265, "cost2_min": -129.7333962807574, "cost1_min": 78.2181845392751, "cost2_mean": -73.62219909937734}, "episode_reward_max": 570.5983169589938}
{"node_ip": "10.138.0.2", "episode_reward_mean": 475.31312136961674, "time_this_iter_s": 68.06655645370483, "done": false, "episode_len_mean": 751.0, "timestamp": 1557387852, "training_iteration": 4, "experiment_id": "58dd2f5595014063b753971755894587", "time_since_restore": 291.67419385910034, "timesteps_total": 594413, "pid": 25334, "episodes_this_iter": 57, "date": "2019-05-09_07-44-12", "info": {"sample_time_ms": 36604.942, "grad_time_ms": 35698.961, "num_steps_sampled": 594413, "update_time_ms": 240.996, "default": {"vf_explained_var": 0.9763648509979248, "cur_kl_coeff": 0.1499999761581421, "vf_loss": 1.4850202798843384, "policy_loss": -0.007154426071792841, "cur_lr": 0.0005000000237487257, "kl": 0.01206023246049881, "total_loss": 1.4796748161315918, "entropy": 1.3958982229232788}, "load_time_ms": 67.315, "num_steps_trained": 594413}, "timesteps_since_restore": 594413, "iterations_since_restore": 4, "config": {"local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "compress_observations": false, "clip_rewards": null, "sample_async": false, "custom_resources_per_worker": {}, "use_gae": true, "vf_share_layers": false, "vf_loss_coeff": 1.0, "optimizer": {}, "simple_optimizer": false, "num_envs_per_worker": 1, "vf_clip_param": 1000000.0, "synchronize_filters": true, "num_cpus_per_worker": 1, "multiagent": {"policy_graphs": {}, "policies_to_train": null, "policy_mapping_fn": null}, "kl_target": 0.01, "clip_actions": false, "input": "sampler", "input_evaluation": null, "entropy_coeff": 0.0, "lr_schedule": null, "sgd_minibatch_size": 128, "callbacks": {"on_sample_end": null, "on_train_result": null, "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7f49896b12e8>", "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7f49896b12b0>", "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7f49896b1048>"}, "num_cpus_for_driver": 1, "log_level": "INFO", "tf_session_args": {"log_device_placement": false, "gpu_options": {"allow_growth": true}, "intra_op_parallelism_threads": 2, "inter_op_parallelism_threads": 2, "allow_soft_placement": true, "device_count": {"CPU": 1}}, "model": {"dim": 84, "free_log_std": false, "fcnet_hiddens": [128, 64, 32], "custom_model": null, "fcnet_activation": "tanh", "lstm_use_prev_action_reward": false, "grayscale": false, "channel_major": false, "squash_to_range": false, "framestack": true, "use_lstm": false, "conv_activation": "relu", "conv_filters": null, "custom_preprocessor": null, "lstm_cell_size": 256, "zero_mean": true, "custom_options": {}, "max_seq_len": 20}, "lambda": 0.97, "num_gpus_per_worker": 0, "kl_coeff": 0.2, "horizon": 1500, "preprocessor_pref": "deepmind", "env_config": {"run": "PPO", "flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.1,\n            \"eta3\": 0.1,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 7.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 0\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 700,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}"}, "clip_param": 0.3, "observation_filter": "MeanStdFilter", "env": "MultiWaveAttenuationMergePOEnvBufferedObs-v0density_[eta1, eta2, eta3]:[1.0, 0.1, 0.0]_t_min:7.0", "gamma": 0.99, "lr": 0.0005, "monitor": false, "output_compress_columns": ["obs", "new_obs"], "batch_mode": "truncate_episodes", "num_gpus": 0, "num_workers": 30, "output": null, "collect_metrics_timeout": 180, "num_sgd_iter": 10, "sample_batch_size": 750, "output_max_file_size": 67108864, "straggler_mitigation": false, "train_batch_size": 90000}, "num_metric_batches_dropped": 0, "hostname": "flow-main", "episodes_total": 194, "episode_reward_min": 212.0082660953227, "time_total_s": 291.67419385910034, "policy_reward_mean": {}, "timesteps_this_iter": 141884, "custom_metrics": {"cost1_mean": 209.9782499138164, "system_level_velocity_mean": 7.208597318670302, "cost2_max": -38.91088598380568, "outflow_rate_max": 893.1469187937569, "outflow_rate_mean": 633.0977815012592, "cost1_max": 296.06338926501314, "outflow_rate_min": 197.3139972399864, "system_level_velocity_max": 10.109334098690535, "system_level_velocity_min": 3.071568327390904, "cost2_min": -129.7333962807574, "cost1_min": 86.0756253804554, "cost2_mean": -84.18884384963785}, "episode_reward_max": 742.5151863371067}
{"node_ip": "10.138.0.2", "episode_reward_mean": 569.7837898893963, "time_this_iter_s": 68.77609372138977, "done": false, "episode_len_mean": 751.0, "timestamp": 1557387921, "training_iteration": 5, "experiment_id": "58dd2f5595014063b753971755894587", "time_since_restore": 360.4502875804901, "timesteps_total": 736841, "pid": 25334, "episodes_this_iter": 56, "date": "2019-05-09_07-45-21", "info": {"sample_time_ms": 36053.737, "grad_time_ms": 35486.062, "num_steps_sampled": 736841, "update_time_ms": 194.743, "default": {"vf_explained_var": 0.9750076532363892, "cur_kl_coeff": 0.14999999105930328, "vf_loss": 1.7446959018707275, "policy_loss": -0.0075979214161634445, "cur_lr": 0.0005000000237487257, "kl": 0.01121156383305788, "total_loss": 1.7387796640396118, "entropy": 1.427091121673584}, "load_time_ms": 60.842, "num_steps_trained": 736841}, "timesteps_since_restore": 736841, "iterations_since_restore": 5, "config": {"local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "compress_observations": false, "clip_rewards": null, "sample_async": false, "custom_resources_per_worker": {}, "use_gae": true, "vf_share_layers": false, "vf_loss_coeff": 1.0, "optimizer": {}, "simple_optimizer": false, "num_envs_per_worker": 1, "vf_clip_param": 1000000.0, "synchronize_filters": true, "num_cpus_per_worker": 1, "multiagent": {"policy_graphs": {}, "policies_to_train": null, "policy_mapping_fn": null}, "kl_target": 0.01, "clip_actions": false, "input": "sampler", "input_evaluation": null, "entropy_coeff": 0.0, "lr_schedule": null, "sgd_minibatch_size": 128, "callbacks": {"on_sample_end": null, "on_train_result": null, "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7f49896a7390>", "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7f49896a76d8>", "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7f49896a7780>"}, "num_cpus_for_driver": 1, "log_level": "INFO", "tf_session_args": {"log_device_placement": false, "gpu_options": {"allow_growth": true}, "intra_op_parallelism_threads": 2, "inter_op_parallelism_threads": 2, "allow_soft_placement": true, "device_count": {"CPU": 1}}, "model": {"dim": 84, "free_log_std": false, "fcnet_hiddens": [128, 64, 32], "custom_model": null, "fcnet_activation": "tanh", "lstm_use_prev_action_reward": false, "grayscale": false, "channel_major": false, "squash_to_range": false, "framestack": true, "use_lstm": false, "conv_activation": "relu", "conv_filters": null, "custom_preprocessor": null, "lstm_cell_size": 256, "zero_mean": true, "custom_options": {}, "max_seq_len": 20}, "lambda": 0.97, "num_gpus_per_worker": 0, "kl_coeff": 0.2, "horizon": 1500, "preprocessor_pref": "deepmind", "env_config": {"run": "PPO", "flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.1,\n            \"eta3\": 0.1,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 7.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 0\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 700,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}"}, "clip_param": 0.3, "observation_filter": "MeanStdFilter", "env": "MultiWaveAttenuationMergePOEnvBufferedObs-v0density_[eta1, eta2, eta3]:[1.0, 0.1, 0.0]_t_min:7.0", "gamma": 0.99, "lr": 0.0005, "monitor": false, "output_compress_columns": ["obs", "new_obs"], "batch_mode": "truncate_episodes", "num_gpus": 0, "num_workers": 30, "output": null, "collect_metrics_timeout": 180, "num_sgd_iter": 10, "sample_batch_size": 750, "output_max_file_size": 67108864, "straggler_mitigation": false, "train_batch_size": 90000}, "num_metric_batches_dropped": 0, "hostname": "flow-main", "episodes_total": 250, "episode_reward_min": 350.0159119229429, "time_total_s": 360.4502875804901, "policy_reward_mean": {}, "timesteps_this_iter": 142428, "custom_metrics": {"cost1_mean": 241.90445287404623, "system_level_velocity_mean": 8.291930755512846, "cost2_max": -58.110467528539715, "outflow_rate_max": 923.0567312477149, "outflow_rate_mean": 734.1865113308105, "cost1_max": 304.986832497283, "outflow_rate_min": 362.2575921841484, "system_level_velocity_max": 10.345613183482321, "system_level_velocity_min": 5.2191087278922375, "cost2_min": -126.58720031971309, "cost1_min": 150.3571961740085, "cost2_mean": -92.69205217867557}, "episode_reward_max": 775.9469944262175}
{"node_ip": "10.138.0.2", "episode_reward_mean": 611.8265757596346, "time_this_iter_s": 70.41218996047974, "done": false, "episode_len_mean": 751.0, "timestamp": 1557387991, "training_iteration": 6, "experiment_id": "58dd2f5595014063b753971755894587", "time_since_restore": 430.86247754096985, "timesteps_total": 880349, "pid": 25334, "episodes_this_iter": 57, "date": "2019-05-09_07-46-31", "info": {"sample_time_ms": 35761.567, "grad_time_ms": 35535.98, "num_steps_sampled": 880349, "update_time_ms": 164.076, "default": {"vf_explained_var": 0.9700822234153748, "cur_kl_coeff": 0.14999999105930328, "vf_loss": 2.1336441040039062, "policy_loss": -0.009683597832918167, "cur_lr": 0.0005000000237487257, "kl": 0.012855138629674911, "total_loss": 2.1258885860443115, "entropy": 1.4247491359710693}, "load_time_ms": 61.703, "num_steps_trained": 880349}, "timesteps_since_restore": 880349, "iterations_since_restore": 6, "config": {"local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "compress_observations": false, "clip_rewards": null, "sample_async": false, "custom_resources_per_worker": {}, "use_gae": true, "vf_share_layers": false, "vf_loss_coeff": 1.0, "optimizer": {}, "simple_optimizer": false, "num_envs_per_worker": 1, "vf_clip_param": 1000000.0, "synchronize_filters": true, "num_cpus_per_worker": 1, "multiagent": {"policy_graphs": {}, "policies_to_train": null, "policy_mapping_fn": null}, "kl_target": 0.01, "clip_actions": false, "input": "sampler", "input_evaluation": null, "entropy_coeff": 0.0, "lr_schedule": null, "sgd_minibatch_size": 128, "callbacks": {"on_sample_end": null, "on_train_result": null, "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7f49896b1a58>", "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7f49896b1c50>", "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7f49896b19b0>"}, "num_cpus_for_driver": 1, "log_level": "INFO", "tf_session_args": {"log_device_placement": false, "gpu_options": {"allow_growth": true}, "intra_op_parallelism_threads": 2, "inter_op_parallelism_threads": 2, "allow_soft_placement": true, "device_count": {"CPU": 1}}, "model": {"dim": 84, "free_log_std": false, "fcnet_hiddens": [128, 64, 32], "custom_model": null, "fcnet_activation": "tanh", "lstm_use_prev_action_reward": false, "grayscale": false, "channel_major": false, "squash_to_range": false, "framestack": true, "use_lstm": false, "conv_activation": "relu", "conv_filters": null, "custom_preprocessor": null, "lstm_cell_size": 256, "zero_mean": true, "custom_options": {}, "max_seq_len": 20}, "lambda": 0.97, "num_gpus_per_worker": 0, "kl_coeff": 0.2, "horizon": 1500, "preprocessor_pref": "deepmind", "env_config": {"run": "PPO", "flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.1,\n            \"eta3\": 0.1,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 7.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 0\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 700,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}"}, "clip_param": 0.3, "observation_filter": "MeanStdFilter", "env": "MultiWaveAttenuationMergePOEnvBufferedObs-v0density_[eta1, eta2, eta3]:[1.0, 0.1, 0.0]_t_min:7.0", "gamma": 0.99, "lr": 0.0005, "monitor": false, "output_compress_columns": ["obs", "new_obs"], "batch_mode": "truncate_episodes", "num_gpus": 0, "num_workers": 30, "output": null, "collect_metrics_timeout": 180, "num_sgd_iter": 10, "sample_batch_size": 750, "output_max_file_size": 67108864, "straggler_mitigation": false, "train_batch_size": 90000}, "num_metric_batches_dropped": 0, "hostname": "flow-main", "episodes_total": 307, "episode_reward_min": 389.4076525537445, "time_total_s": 430.86247754096985, "policy_reward_mean": {}, "timesteps_this_iter": 143508, "custom_metrics": {"cost1_mean": 257.593803794808, "system_level_velocity_mean": 8.846527131188854, "cost2_max": -69.46836918278726, "outflow_rate_max": 923.0567312477149, "outflow_rate_mean": 780.8995479364519, "cost1_max": 304.986832497283, "outflow_rate_min": 480.1897701717394, "system_level_velocity_max": 10.345613183482321, "system_level_velocity_min": 6.259449239643548, "cost2_min": -126.58720031971309, "cost1_min": 180.79556076371634, "cost2_mean": -98.44078419365196}, "episode_reward_max": 775.9469944262175}
{"node_ip": "10.138.0.2", "episode_reward_mean": 640.9248294542774, "time_this_iter_s": 67.89236497879028, "done": false, "episode_len_mean": 751.0, "timestamp": 1557388059, "training_iteration": 7, "experiment_id": "58dd2f5595014063b753971755894587", "time_since_restore": 498.75484251976013, "timesteps_total": 1022565, "pid": 25334, "episodes_this_iter": 57, "date": "2019-05-09_07-47-39", "info": {"sample_time_ms": 35616.497, "grad_time_ms": 35144.327, "num_steps_sampled": 1022565, "update_time_ms": 142.31, "default": {"vf_explained_var": 0.9676522612571716, "cur_kl_coeff": 0.1499999761581421, "vf_loss": 2.3343324661254883, "policy_loss": -0.008949329145252705, "cur_lr": 0.0005000000237487257, "kl": 0.012020823545753956, "total_loss": 2.327186346054077, "entropy": 1.4234390258789062}, "load_time_ms": 62.778, "num_steps_trained": 1022565}, "timesteps_since_restore": 1022565, "iterations_since_restore": 7, "config": {"local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "compress_observations": false, "clip_rewards": null, "sample_async": false, "custom_resources_per_worker": {}, "use_gae": true, "vf_share_layers": false, "vf_loss_coeff": 1.0, "optimizer": {}, "simple_optimizer": false, "num_envs_per_worker": 1, "vf_clip_param": 1000000.0, "synchronize_filters": true, "num_cpus_per_worker": 1, "multiagent": {"policy_graphs": {}, "policies_to_train": null, "policy_mapping_fn": null}, "kl_target": 0.01, "clip_actions": false, "input": "sampler", "input_evaluation": null, "entropy_coeff": 0.0, "lr_schedule": null, "sgd_minibatch_size": 128, "callbacks": {"on_sample_end": null, "on_train_result": null, "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7f49896b1fd0>", "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7f49896b1048>", "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7f49896b1390>"}, "num_cpus_for_driver": 1, "log_level": "INFO", "tf_session_args": {"log_device_placement": false, "gpu_options": {"allow_growth": true}, "intra_op_parallelism_threads": 2, "inter_op_parallelism_threads": 2, "allow_soft_placement": true, "device_count": {"CPU": 1}}, "model": {"dim": 84, "free_log_std": false, "fcnet_hiddens": [128, 64, 32], "custom_model": null, "fcnet_activation": "tanh", "lstm_use_prev_action_reward": false, "grayscale": false, "channel_major": false, "squash_to_range": false, "framestack": true, "use_lstm": false, "conv_activation": "relu", "conv_filters": null, "custom_preprocessor": null, "lstm_cell_size": 256, "zero_mean": true, "custom_options": {}, "max_seq_len": 20}, "lambda": 0.97, "num_gpus_per_worker": 0, "kl_coeff": 0.2, "horizon": 1500, "preprocessor_pref": "deepmind", "env_config": {"run": "PPO", "flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.1,\n            \"eta3\": 0.1,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 7.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 0\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 700,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}"}, "clip_param": 0.3, "observation_filter": "MeanStdFilter", "env": "MultiWaveAttenuationMergePOEnvBufferedObs-v0density_[eta1, eta2, eta3]:[1.0, 0.1, 0.0]_t_min:7.0", "gamma": 0.99, "lr": 0.0005, "monitor": false, "output_compress_columns": ["obs", "new_obs"], "batch_mode": "truncate_episodes", "num_gpus": 0, "num_workers": 30, "output": null, "collect_metrics_timeout": 180, "num_sgd_iter": 10, "sample_batch_size": 750, "output_max_file_size": 67108864, "straggler_mitigation": false, "train_batch_size": 90000}, "num_metric_batches_dropped": 0, "hostname": "flow-main", "episodes_total": 364, "episode_reward_min": 472.3111547006066, "time_total_s": 498.75484251976013, "policy_reward_mean": {}, "timesteps_this_iter": 142216, "custom_metrics": {"cost1_mean": 268.4976703582864, "system_level_velocity_mean": 9.23988776292659, "cost2_max": -69.71124304695168, "outflow_rate_max": 925.2382806279409, "outflow_rate_mean": 811.6639298076738, "cost1_max": 317.1741085589853, "outflow_rate_min": 589.1186635260034, "system_level_velocity_max": 10.898575292809682, "system_level_velocity_min": 6.946620142268529, "cost2_min": -125.13191089831045, "cost1_min": 199.43229963696558, "cost2_mean": -104.63772467508092}, "episode_reward_max": 768.2466077645872}
{"node_ip": "10.138.0.2", "episode_reward_mean": 665.3257039547351, "time_this_iter_s": 69.63896322250366, "done": false, "episode_len_mean": 751.0, "timestamp": 1557388129, "training_iteration": 8, "experiment_id": "58dd2f5595014063b753971755894587", "time_since_restore": 568.3938057422638, "timesteps_total": 1163576, "pid": 25334, "episodes_this_iter": 57, "date": "2019-05-09_07-48-49", "info": {"sample_time_ms": 35593.79, "grad_time_ms": 34985.344, "num_steps_sampled": 1163576, "update_time_ms": 126.138, "default": {"vf_explained_var": 0.9620916843414307, "cur_kl_coeff": 0.1499999761581421, "vf_loss": 2.6777422428131104, "policy_loss": -0.009665662422776222, "cur_lr": 0.0005000000237487257, "kl": 0.013294583186507225, "total_loss": 2.6700708866119385, "entropy": 1.423503041267395}, "load_time_ms": 62.44, "num_steps_trained": 1163576}, "timesteps_since_restore": 1163576, "iterations_since_restore": 8, "config": {"local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "compress_observations": false, "clip_rewards": null, "sample_async": false, "custom_resources_per_worker": {}, "use_gae": true, "vf_share_layers": false, "vf_loss_coeff": 1.0, "optimizer": {}, "simple_optimizer": false, "num_envs_per_worker": 1, "vf_clip_param": 1000000.0, "synchronize_filters": true, "num_cpus_per_worker": 1, "multiagent": {"policy_graphs": {}, "policies_to_train": null, "policy_mapping_fn": null}, "kl_target": 0.01, "clip_actions": false, "input": "sampler", "input_evaluation": null, "entropy_coeff": 0.0, "lr_schedule": null, "sgd_minibatch_size": 128, "callbacks": {"on_sample_end": null, "on_train_result": null, "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7f49896a7588>", "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7f49896a7438>", "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7f49896a76a0>"}, "num_cpus_for_driver": 1, "log_level": "INFO", "tf_session_args": {"log_device_placement": false, "gpu_options": {"allow_growth": true}, "intra_op_parallelism_threads": 2, "inter_op_parallelism_threads": 2, "allow_soft_placement": true, "device_count": {"CPU": 1}}, "model": {"dim": 84, "free_log_std": false, "fcnet_hiddens": [128, 64, 32], "custom_model": null, "fcnet_activation": "tanh", "lstm_use_prev_action_reward": false, "grayscale": false, "channel_major": false, "squash_to_range": false, "framestack": true, "use_lstm": false, "conv_activation": "relu", "conv_filters": null, "custom_preprocessor": null, "lstm_cell_size": 256, "zero_mean": true, "custom_options": {}, "max_seq_len": 20}, "lambda": 0.97, "num_gpus_per_worker": 0, "kl_coeff": 0.2, "horizon": 1500, "preprocessor_pref": "deepmind", "env_config": {"run": "PPO", "flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.1,\n            \"eta3\": 0.1,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 7.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 0\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 700,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}"}, "clip_param": 0.3, "observation_filter": "MeanStdFilter", "env": "MultiWaveAttenuationMergePOEnvBufferedObs-v0density_[eta1, eta2, eta3]:[1.0, 0.1, 0.0]_t_min:7.0", "gamma": 0.99, "lr": 0.0005, "monitor": false, "output_compress_columns": ["obs", "new_obs"], "batch_mode": "truncate_episodes", "num_gpus": 0, "num_workers": 30, "output": null, "collect_metrics_timeout": 180, "num_sgd_iter": 10, "sample_batch_size": 750, "output_max_file_size": 67108864, "straggler_mitigation": false, "train_batch_size": 90000}, "num_metric_batches_dropped": 0, "hostname": "flow-main", "episodes_total": 421, "episode_reward_min": 485.98804492854697, "time_total_s": 568.3938057422638, "policy_reward_mean": {}, "timesteps_this_iter": 141011, "custom_metrics": {"cost1_mean": 279.8424104973448, "system_level_velocity_mean": 9.636251758165617, "cost2_max": -89.27529369649254, "outflow_rate_max": 1011.4451390714618, "outflow_rate_mean": 841.4495037256515, "cost1_max": 344.90510490659835, "outflow_rate_min": 637.1321580051454, "system_level_velocity_max": 11.807678756611363, "system_level_velocity_min": 7.044056690869281, "cost2_min": -131.54829956828203, "cost1_min": 201.2965360260789, "cost2_mean": -108.65000428103627}, "episode_reward_max": 786.971515254322}
{"node_ip": "10.138.0.2", "episode_reward_mean": 690.0061774567749, "time_this_iter_s": 68.11138248443604, "done": false, "episode_len_mean": 751.0, "timestamp": 1557388197, "training_iteration": 9, "experiment_id": "58dd2f5595014063b753971755894587", "time_since_restore": 636.5051882266998, "timesteps_total": 1305044, "pid": 25334, "episodes_this_iter": 58, "date": "2019-05-09_07-49-57", "info": {"sample_time_ms": 35459.745, "grad_time_ms": 34806.419, "num_steps_sampled": 1305044, "update_time_ms": 113.297, "default": {"vf_explained_var": 0.9499975442886353, "cur_kl_coeff": 0.1499999761581421, "vf_loss": 3.260561943054199, "policy_loss": -0.009889920242130756, "cur_lr": 0.0005000000237487257, "kl": 0.01400368008762598, "total_loss": 3.252772569656372, "entropy": 1.4100857973098755}, "load_time_ms": 59.729, "num_steps_trained": 1305044}, "timesteps_since_restore": 1305044, "iterations_since_restore": 9, "config": {"local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "compress_observations": false, "clip_rewards": null, "sample_async": false, "custom_resources_per_worker": {}, "use_gae": true, "vf_share_layers": false, "vf_loss_coeff": 1.0, "optimizer": {}, "simple_optimizer": false, "num_envs_per_worker": 1, "vf_clip_param": 1000000.0, "synchronize_filters": true, "num_cpus_per_worker": 1, "multiagent": {"policy_graphs": {}, "policies_to_train": null, "policy_mapping_fn": null}, "kl_target": 0.01, "clip_actions": false, "input": "sampler", "input_evaluation": null, "entropy_coeff": 0.0, "lr_schedule": null, "sgd_minibatch_size": 128, "callbacks": {"on_sample_end": null, "on_train_result": null, "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7f49896b1780>", "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7f49896b15f8>", "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7f49896b1f98>"}, "num_cpus_for_driver": 1, "log_level": "INFO", "tf_session_args": {"log_device_placement": false, "gpu_options": {"allow_growth": true}, "intra_op_parallelism_threads": 2, "inter_op_parallelism_threads": 2, "allow_soft_placement": true, "device_count": {"CPU": 1}}, "model": {"dim": 84, "free_log_std": false, "fcnet_hiddens": [128, 64, 32], "custom_model": null, "fcnet_activation": "tanh", "lstm_use_prev_action_reward": false, "grayscale": false, "channel_major": false, "squash_to_range": false, "framestack": true, "use_lstm": false, "conv_activation": "relu", "conv_filters": null, "custom_preprocessor": null, "lstm_cell_size": 256, "zero_mean": true, "custom_options": {}, "max_seq_len": 20}, "lambda": 0.97, "num_gpus_per_worker": 0, "kl_coeff": 0.2, "horizon": 1500, "preprocessor_pref": "deepmind", "env_config": {"run": "PPO", "flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.1,\n            \"eta3\": 0.1,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 7.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 0\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 700,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}"}, "clip_param": 0.3, "observation_filter": "MeanStdFilter", "env": "MultiWaveAttenuationMergePOEnvBufferedObs-v0density_[eta1, eta2, eta3]:[1.0, 0.1, 0.0]_t_min:7.0", "gamma": 0.99, "lr": 0.0005, "monitor": false, "output_compress_columns": ["obs", "new_obs"], "batch_mode": "truncate_episodes", "num_gpus": 0, "num_workers": 30, "output": null, "collect_metrics_timeout": 180, "num_sgd_iter": 10, "sample_batch_size": 750, "output_max_file_size": 67108864, "straggler_mitigation": false, "train_batch_size": 90000}, "num_metric_batches_dropped": 0, "hostname": "flow-main", "episodes_total": 479, "episode_reward_min": 563.6324605048127, "time_total_s": 636.5051882266998, "policy_reward_mean": {}, "timesteps_this_iter": 141468, "custom_metrics": {"cost1_mean": 289.38678971590116, "system_level_velocity_mean": 9.965206269197525, "cost2_max": -91.07635224330403, "outflow_rate_max": 1011.4451390714618, "outflow_rate_mean": 862.2772800728228, "cost1_max": 344.90510490659835, "outflow_rate_min": 768.7950834362555, "system_level_velocity_max": 11.807678756611363, "system_level_velocity_min": 8.843492553880928, "cost2_min": -129.77698988571248, "cost1_min": 255.27983784096847, "cost2_mean": -109.27904439813257}, "episode_reward_max": 830.481979399765}
{"node_ip": "10.138.0.2", "episode_reward_mean": 708.1090803126942, "time_this_iter_s": 67.97204375267029, "done": false, "episode_len_mean": 751.0, "timestamp": 1557388265, "training_iteration": 10, "experiment_id": "58dd2f5595014063b753971755894587", "time_since_restore": 704.4772319793701, "timesteps_total": 1444660, "pid": 25334, "episodes_this_iter": 58, "date": "2019-05-09_07-51-05", "info": {"sample_time_ms": 35285.977, "grad_time_ms": 34714.826, "num_steps_sampled": 1444660, "update_time_ms": 103.051, "default": {"vf_explained_var": 0.9456433057785034, "cur_kl_coeff": 0.14999999105930328, "vf_loss": 3.643660068511963, "policy_loss": -0.009744735434651375, "cur_lr": 0.0005000000237487257, "kl": 0.013980746269226074, "total_loss": 3.636012315750122, "entropy": 1.3906899690628052}, "load_time_ms": 59.277, "num_steps_trained": 1444660}, "timesteps_since_restore": 1444660, "iterations_since_restore": 10, "config": {"local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "compress_observations": false, "clip_rewards": null, "sample_async": false, "custom_resources_per_worker": {}, "use_gae": true, "vf_share_layers": false, "vf_loss_coeff": 1.0, "optimizer": {}, "simple_optimizer": false, "num_envs_per_worker": 1, "vf_clip_param": 1000000.0, "synchronize_filters": true, "num_cpus_per_worker": 1, "multiagent": {"policy_graphs": {}, "policies_to_train": null, "policy_mapping_fn": null}, "kl_target": 0.01, "clip_actions": false, "input": "sampler", "input_evaluation": null, "entropy_coeff": 0.0, "lr_schedule": null, "sgd_minibatch_size": 128, "callbacks": {"on_sample_end": null, "on_train_result": null, "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7f49896a7a20>", "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7f49896a7da0>", "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7f49896a7cf8>"}, "num_cpus_for_driver": 1, "log_level": "INFO", "tf_session_args": {"log_device_placement": false, "gpu_options": {"allow_growth": true}, "intra_op_parallelism_threads": 2, "inter_op_parallelism_threads": 2, "allow_soft_placement": true, "device_count": {"CPU": 1}}, "model": {"dim": 84, "free_log_std": false, "fcnet_hiddens": [128, 64, 32], "custom_model": null, "fcnet_activation": "tanh", "lstm_use_prev_action_reward": false, "grayscale": false, "channel_major": false, "squash_to_range": false, "framestack": true, "use_lstm": false, "conv_activation": "relu", "conv_filters": null, "custom_preprocessor": null, "lstm_cell_size": 256, "zero_mean": true, "custom_options": {}, "max_seq_len": 20}, "lambda": 0.97, "num_gpus_per_worker": 0, "kl_coeff": 0.2, "horizon": 1500, "preprocessor_pref": "deepmind", "env_config": {"run": "PPO", "flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.1,\n            \"eta3\": 0.1,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 7.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 0\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 700,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}"}, "clip_param": 0.3, "observation_filter": "MeanStdFilter", "env": "MultiWaveAttenuationMergePOEnvBufferedObs-v0density_[eta1, eta2, eta3]:[1.0, 0.1, 0.0]_t_min:7.0", "gamma": 0.99, "lr": 0.0005, "monitor": false, "output_compress_columns": ["obs", "new_obs"], "batch_mode": "truncate_episodes", "num_gpus": 0, "num_workers": 30, "output": null, "collect_metrics_timeout": 180, "num_sgd_iter": 10, "sample_batch_size": 750, "output_max_file_size": 67108864, "straggler_mitigation": false, "train_batch_size": 90000}, "num_metric_batches_dropped": 0, "hostname": "flow-main", "episodes_total": 537, "episode_reward_min": 614.5459140949249, "time_total_s": 704.4772319793701, "policy_reward_mean": {}, "timesteps_this_iter": 139616, "custom_metrics": {"cost1_mean": 294.01487634181444, "system_level_velocity_mean": 10.12204664224705, "cost2_max": -90.39037278379594, "outflow_rate_max": 1031.605417651964, "outflow_rate_mean": 867.7399396647596, "cost1_max": 348.51963358395494, "outflow_rate_min": 777.840390346837, "system_level_velocity_max": 12.002417381653736, "system_level_velocity_min": 9.014304060102106, "cost2_min": -126.01813705850981, "cost1_min": 260.2079846814753, "cost2_mean": -108.41167372301052}, "episode_reward_max": 830.481979399765}
{"node_ip": "10.138.0.2", "episode_reward_mean": 711.2192216470696, "time_this_iter_s": 65.28747200965881, "done": false, "episode_len_mean": 745.82, "timestamp": 1557388331, "training_iteration": 11, "experiment_id": "58dd2f5595014063b753971755894587", "time_since_restore": 769.7647039890289, "timesteps_total": 1581820, "pid": 25334, "episodes_this_iter": 59, "date": "2019-05-09_07-52-11", "info": {"sample_time_ms": 34862.767, "grad_time_ms": 34310.565, "num_steps_sampled": 1581820, "update_time_ms": 10.872, "default": {"vf_explained_var": 0.9431344866752625, "cur_kl_coeff": 0.14999999105930328, "vf_loss": 4.052573204040527, "policy_loss": -0.010151362046599388, "cur_lr": 0.0005000000237487257, "kl": 0.01577376388013363, "total_loss": 4.044787883758545, "entropy": 1.3736178874969482}, "load_time_ms": 55.373, "num_steps_trained": 1581820}, "timesteps_since_restore": 1581820, "iterations_since_restore": 11, "config": {"local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "compress_observations": false, "clip_rewards": null, "sample_async": false, "custom_resources_per_worker": {}, "use_gae": true, "vf_share_layers": false, "vf_loss_coeff": 1.0, "optimizer": {}, "simple_optimizer": false, "num_envs_per_worker": 1, "vf_clip_param": 1000000.0, "synchronize_filters": true, "num_cpus_per_worker": 1, "multiagent": {"policy_graphs": {}, "policies_to_train": null, "policy_mapping_fn": null}, "kl_target": 0.01, "clip_actions": false, "input": "sampler", "input_evaluation": null, "entropy_coeff": 0.0, "lr_schedule": null, "sgd_minibatch_size": 128, "callbacks": {"on_sample_end": null, "on_train_result": null, "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7f49896b1cf8>", "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7f49896b1b70>", "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7f49896b1dd8>"}, "num_cpus_for_driver": 1, "log_level": "INFO", "tf_session_args": {"log_device_placement": false, "gpu_options": {"allow_growth": true}, "intra_op_parallelism_threads": 2, "inter_op_parallelism_threads": 2, "allow_soft_placement": true, "device_count": {"CPU": 1}}, "model": {"dim": 84, "free_log_std": false, "fcnet_hiddens": [128, 64, 32], "custom_model": null, "fcnet_activation": "tanh", "lstm_use_prev_action_reward": false, "grayscale": false, "channel_major": false, "squash_to_range": false, "framestack": true, "use_lstm": false, "conv_activation": "relu", "conv_filters": null, "custom_preprocessor": null, "lstm_cell_size": 256, "zero_mean": true, "custom_options": {}, "max_seq_len": 20}, "lambda": 0.97, "num_gpus_per_worker": 0, "kl_coeff": 0.2, "horizon": 1500, "preprocessor_pref": "deepmind", "env_config": {"run": "PPO", "flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.1,\n            \"eta3\": 0.1,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 7.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 0\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 700,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}"}, "clip_param": 0.3, "observation_filter": "MeanStdFilter", "env": "MultiWaveAttenuationMergePOEnvBufferedObs-v0density_[eta1, eta2, eta3]:[1.0, 0.1, 0.0]_t_min:7.0", "gamma": 0.99, "lr": 0.0005, "monitor": false, "output_compress_columns": ["obs", "new_obs"], "batch_mode": "truncate_episodes", "num_gpus": 0, "num_workers": 30, "output": null, "collect_metrics_timeout": 180, "num_sgd_iter": 10, "sample_batch_size": 750, "output_max_file_size": 67108864, "straggler_mitigation": false, "train_batch_size": 90000}, "num_metric_batches_dropped": 0, "hostname": "flow-main", "episodes_total": 596, "episode_reward_min": 220.3940756933259, "time_total_s": 769.7647039890289, "policy_reward_mean": {}, "timesteps_this_iter": 137160, "custom_metrics": {"cost1_mean": 296.5504938219245, "system_level_velocity_mean": 10.30398321635748, "cost2_max": -61.81402613929543, "outflow_rate_max": 1028.3544902066283, "outflow_rate_mean": 871.3269260484939, "cost1_max": 349.30444545118246, "outflow_rate_min": 428.4987116669549, "system_level_velocity_max": 13.224380177675052, "system_level_velocity_min": 9.014304060102106, "cost2_min": -126.31916482146829, "cost1_min": 116.59978981479463, "cost2_mean": -106.8728853574377}, "episode_reward_max": 847.2720697711258}
{"node_ip": "10.138.0.2", "episode_reward_mean": 704.6711361554251, "time_this_iter_s": 66.72076153755188, "done": false, "episode_len_mean": 745.78, "timestamp": 1557388397, "training_iteration": 12, "experiment_id": "58dd2f5595014063b753971755894587", "time_since_restore": 836.4854655265808, "timesteps_total": 1720631, "pid": 25334, "episodes_this_iter": 59, "date": "2019-05-09_07-53-17", "info": {"sample_time_ms": 34426.848, "grad_time_ms": 34143.119, "num_steps_sampled": 1720631, "update_time_ms": 10.551, "default": {"vf_explained_var": 0.9460591077804565, "cur_kl_coeff": 0.1499999761581421, "vf_loss": 4.155145168304443, "policy_loss": -0.01023624837398529, "cur_lr": 0.0005000000237487257, "kl": 0.015104603953659534, "total_loss": 4.14717435836792, "entropy": 1.3854626417160034}, "load_time_ms": 54.911, "num_steps_trained": 1720631}, "timesteps_since_restore": 1720631, "iterations_since_restore": 12, "config": {"local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "compress_observations": false, "clip_rewards": null, "sample_async": false, "custom_resources_per_worker": {}, "use_gae": true, "vf_share_layers": false, "vf_loss_coeff": 1.0, "optimizer": {}, "simple_optimizer": false, "num_envs_per_worker": 1, "vf_clip_param": 1000000.0, "synchronize_filters": true, "num_cpus_per_worker": 1, "multiagent": {"policy_graphs": {}, "policies_to_train": null, "policy_mapping_fn": null}, "kl_target": 0.01, "clip_actions": false, "input": "sampler", "input_evaluation": null, "entropy_coeff": 0.0, "lr_schedule": null, "sgd_minibatch_size": 128, "callbacks": {"on_sample_end": null, "on_train_result": null, "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7f49896b15f8>", "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7f49896b17f0>", "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7f49896b1e80>"}, "num_cpus_for_driver": 1, "log_level": "INFO", "tf_session_args": {"log_device_placement": false, "gpu_options": {"allow_growth": true}, "intra_op_parallelism_threads": 2, "inter_op_parallelism_threads": 2, "allow_soft_placement": true, "device_count": {"CPU": 1}}, "model": {"dim": 84, "free_log_std": false, "fcnet_hiddens": [128, 64, 32], "custom_model": null, "fcnet_activation": "tanh", "lstm_use_prev_action_reward": false, "grayscale": false, "channel_major": false, "squash_to_range": false, "framestack": true, "use_lstm": false, "conv_activation": "relu", "conv_filters": null, "custom_preprocessor": null, "lstm_cell_size": 256, "zero_mean": true, "custom_options": {}, "max_seq_len": 20}, "lambda": 0.97, "num_gpus_per_worker": 0, "kl_coeff": 0.2, "horizon": 1500, "preprocessor_pref": "deepmind", "env_config": {"run": "PPO", "flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.1,\n            \"eta3\": 0.1,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 7.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 0\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 700,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}"}, "clip_param": 0.3, "observation_filter": "MeanStdFilter", "env": "MultiWaveAttenuationMergePOEnvBufferedObs-v0density_[eta1, eta2, eta3]:[1.0, 0.1, 0.0]_t_min:7.0", "gamma": 0.99, "lr": 0.0005, "monitor": false, "output_compress_columns": ["obs", "new_obs"], "batch_mode": "truncate_episodes", "num_gpus": 0, "num_workers": 30, "output": null, "collect_metrics_timeout": 180, "num_sgd_iter": 10, "sample_batch_size": 750, "output_max_file_size": 67108864, "straggler_mitigation": false, "train_batch_size": 90000}, "num_metric_batches_dropped": 0, "hostname": "flow-main", "episodes_total": 655, "episode_reward_min": 214.41346774765503, "time_total_s": 836.4854655265808, "policy_reward_mean": {}, "timesteps_this_iter": 138811, "custom_metrics": {"cost1_mean": 297.221504281789, "system_level_velocity_mean": 10.336332392076208, "cost2_max": -57.6617456038736, "outflow_rate_max": 1028.3544902066283, "outflow_rate_mean": 868.8482845405098, "cost1_max": 349.30444545118246, "outflow_rate_min": 423.7831278015673, "system_level_velocity_max": 13.114625227900767, "system_level_velocity_min": 9.17549761185546, "cost2_min": -126.7174336597464, "cost1_min": 113.49418271244072, "cost2_mean": -107.48208335118377}, "episode_reward_max": 847.2720697711258}
{"node_ip": "10.138.0.2", "episode_reward_mean": 695.2536231994548, "time_this_iter_s": 64.541743516922, "done": false, "episode_len_mean": 745.78, "timestamp": 1557388462, "training_iteration": 13, "experiment_id": "58dd2f5595014063b753971755894587", "time_since_restore": 901.0272090435028, "timesteps_total": 1862296, "pid": 25334, "episodes_this_iter": 58, "date": "2019-05-09_07-54-22", "info": {"sample_time_ms": 33834.569, "grad_time_ms": 33579.549, "num_steps_sampled": 1862296, "update_time_ms": 10.725, "default": {"vf_explained_var": 0.9532363414764404, "cur_kl_coeff": 0.1499999761581421, "vf_loss": 3.932600498199463, "policy_loss": -0.010658199898898602, "cur_lr": 0.0005000000237487257, "kl": 0.016155390068888664, "total_loss": 3.924365758895874, "entropy": 1.393336534500122}, "load_time_ms": 54.495, "num_steps_trained": 1862296}, "timesteps_since_restore": 1862296, "iterations_since_restore": 13, "config": {"local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "compress_observations": false, "clip_rewards": null, "sample_async": false, "custom_resources_per_worker": {}, "use_gae": true, "vf_share_layers": false, "vf_loss_coeff": 1.0, "optimizer": {}, "simple_optimizer": false, "num_envs_per_worker": 1, "vf_clip_param": 1000000.0, "synchronize_filters": true, "num_cpus_per_worker": 1, "multiagent": {"policy_graphs": {}, "policies_to_train": null, "policy_mapping_fn": null}, "kl_target": 0.01, "clip_actions": false, "input": "sampler", "input_evaluation": null, "entropy_coeff": 0.0, "lr_schedule": null, "sgd_minibatch_size": 128, "callbacks": {"on_sample_end": null, "on_train_result": null, "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7f49896b1908>", "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7f49896b17b8>", "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7f49896b1198>"}, "num_cpus_for_driver": 1, "log_level": "INFO", "tf_session_args": {"log_device_placement": false, "gpu_options": {"allow_growth": true}, "intra_op_parallelism_threads": 2, "inter_op_parallelism_threads": 2, "allow_soft_placement": true, "device_count": {"CPU": 1}}, "model": {"dim": 84, "free_log_std": false, "fcnet_hiddens": [128, 64, 32], "custom_model": null, "fcnet_activation": "tanh", "lstm_use_prev_action_reward": false, "grayscale": false, "channel_major": false, "squash_to_range": false, "framestack": true, "use_lstm": false, "conv_activation": "relu", "conv_filters": null, "custom_preprocessor": null, "lstm_cell_size": 256, "zero_mean": true, "custom_options": {}, "max_seq_len": 20}, "lambda": 0.97, "num_gpus_per_worker": 0, "kl_coeff": 0.2, "horizon": 1500, "preprocessor_pref": "deepmind", "env_config": {"run": "PPO", "flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.1,\n            \"eta3\": 0.1,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 7.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 0\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 700,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}"}, "clip_param": 0.3, "observation_filter": "MeanStdFilter", "env": "MultiWaveAttenuationMergePOEnvBufferedObs-v0density_[eta1, eta2, eta3]:[1.0, 0.1, 0.0]_t_min:7.0", "gamma": 0.99, "lr": 0.0005, "monitor": false, "output_compress_columns": ["obs", "new_obs"], "batch_mode": "truncate_episodes", "num_gpus": 0, "num_workers": 30, "output": null, "collect_metrics_timeout": 180, "num_sgd_iter": 10, "sample_batch_size": 750, "output_max_file_size": 67108864, "straggler_mitigation": false, "train_batch_size": 90000}, "num_metric_batches_dropped": 0, "hostname": "flow-main", "episodes_total": 713, "episode_reward_min": 214.41346774765503, "time_total_s": 901.0272090435028, "policy_reward_mean": {}, "timesteps_this_iter": 141665, "custom_metrics": {"cost1_mean": 297.5309313216265, "system_level_velocity_mean": 10.355629359127663, "cost2_max": -57.6617456038736, "outflow_rate_max": 1029.9981620648916, "outflow_rate_mean": 867.4454749536084, "cost1_max": 352.1978359593412, "outflow_rate_min": 423.7831278015673, "system_level_velocity_max": 13.114625227900767, "system_level_velocity_min": 9.188389202995857, "cost2_min": -126.7174336597464, "cost1_min": 113.49418271244072, "cost2_mean": -107.79302944084817}, "episode_reward_max": 825.4130680373934}
{"node_ip": "10.138.0.2", "episode_reward_mean": 698.4074935201378, "time_this_iter_s": 66.18902659416199, "done": false, "episode_len_mean": 751.0, "timestamp": 1557388528, "training_iteration": 14, "experiment_id": "58dd2f5595014063b753971755894587", "time_since_restore": 967.2162356376648, "timesteps_total": 2001863, "pid": 25334, "episodes_this_iter": 59, "date": "2019-05-09_07-55-28", "info": {"sample_time_ms": 33668.736, "grad_time_ms": 33552.518, "num_steps_sampled": 2001863, "update_time_ms": 10.572, "default": {"vf_explained_var": 0.9476719498634338, "cur_kl_coeff": 0.14999999105930328, "vf_loss": 4.342207431793213, "policy_loss": -0.011173591017723083, "cur_lr": 0.0005000000237487257, "kl": 0.01529181282967329, "total_loss": 4.333327770233154, "entropy": 1.369814395904541}, "load_time_ms": 55.853, "num_steps_trained": 2001863}, "timesteps_since_restore": 2001863, "iterations_since_restore": 14, "config": {"local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "compress_observations": false, "clip_rewards": null, "sample_async": false, "custom_resources_per_worker": {}, "use_gae": true, "vf_share_layers": false, "vf_loss_coeff": 1.0, "optimizer": {}, "simple_optimizer": false, "num_envs_per_worker": 1, "vf_clip_param": 1000000.0, "synchronize_filters": true, "num_cpus_per_worker": 1, "multiagent": {"policy_graphs": {}, "policies_to_train": null, "policy_mapping_fn": null}, "kl_target": 0.01, "clip_actions": false, "input": "sampler", "input_evaluation": null, "entropy_coeff": 0.0, "lr_schedule": null, "sgd_minibatch_size": 128, "callbacks": {"on_sample_end": null, "on_train_result": null, "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7f49896b10b8>", "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7f49896b1978>", "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7f49896b1cf8>"}, "num_cpus_for_driver": 1, "log_level": "INFO", "tf_session_args": {"log_device_placement": false, "gpu_options": {"allow_growth": true}, "intra_op_parallelism_threads": 2, "inter_op_parallelism_threads": 2, "allow_soft_placement": true, "device_count": {"CPU": 1}}, "model": {"dim": 84, "free_log_std": false, "fcnet_hiddens": [128, 64, 32], "custom_model": null, "fcnet_activation": "tanh", "lstm_use_prev_action_reward": false, "grayscale": false, "channel_major": false, "squash_to_range": false, "framestack": true, "use_lstm": false, "conv_activation": "relu", "conv_filters": null, "custom_preprocessor": null, "lstm_cell_size": 256, "zero_mean": true, "custom_options": {}, "max_seq_len": 20}, "lambda": 0.97, "num_gpus_per_worker": 0, "kl_coeff": 0.2, "horizon": 1500, "preprocessor_pref": "deepmind", "env_config": {"run": "PPO", "flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.1,\n            \"eta3\": 0.1,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 7.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 0\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 700,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}"}, "clip_param": 0.3, "observation_filter": "MeanStdFilter", "env": "MultiWaveAttenuationMergePOEnvBufferedObs-v0density_[eta1, eta2, eta3]:[1.0, 0.1, 0.0]_t_min:7.0", "gamma": 0.99, "lr": 0.0005, "monitor": false, "output_compress_columns": ["obs", "new_obs"], "batch_mode": "truncate_episodes", "num_gpus": 0, "num_workers": 30, "output": null, "collect_metrics_timeout": 180, "num_sgd_iter": 10, "sample_batch_size": 750, "output_max_file_size": 67108864, "straggler_mitigation": false, "train_batch_size": 90000}, "num_metric_batches_dropped": 0, "hostname": "flow-main", "episodes_total": 772, "episode_reward_min": 587.9060315777974, "time_total_s": 967.2162356376648, "policy_reward_mean": {}, "timesteps_this_iter": 139567, "custom_metrics": {"cost1_mean": 299.9743693726574, "system_level_velocity_mean": 10.364864679138913, "cost2_max": -87.79755130490138, "outflow_rate_max": 1035.1430319201493, "outflow_rate_mean": 873.0936358770027, "cost1_max": 355.383916947486, "outflow_rate_min": 748.2347108151223, "system_level_velocity_max": 12.244700486999909, "system_level_velocity_min": 9.188389202995857, "cost2_min": -123.30466099307768, "cost1_min": 267.23742559039476, "cost2_mean": -106.21332215520682}, "episode_reward_max": 833.2624576435535}
{"node_ip": "10.138.0.2", "episode_reward_mean": 694.8230245549188, "time_this_iter_s": 65.1540310382843, "done": false, "episode_len_mean": 751.0, "timestamp": 1557388593, "training_iteration": 15, "experiment_id": "58dd2f5595014063b753971755894587", "time_since_restore": 1032.370266675949, "timesteps_total": 2139852, "pid": 25334, "episodes_this_iter": 58, "date": "2019-05-09_07-56-33", "info": {"sample_time_ms": 33399.728, "grad_time_ms": 33451.773, "num_steps_sampled": 2139852, "update_time_ms": 10.504, "default": {"vf_explained_var": 0.9508020281791687, "cur_kl_coeff": 0.1499999761581421, "vf_loss": 4.1494646072387695, "policy_loss": -0.012238498777151108, "cur_lr": 0.0005000000237487257, "kl": 0.01706172153353691, "total_loss": 4.139786243438721, "entropy": 1.372768521308899}, "load_time_ms": 59.23, "num_steps_trained": 2139852}, "timesteps_since_restore": 2139852, "iterations_since_restore": 15, "config": {"local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "compress_observations": false, "clip_rewards": null, "sample_async": false, "custom_resources_per_worker": {}, "use_gae": true, "vf_share_layers": false, "vf_loss_coeff": 1.0, "optimizer": {}, "simple_optimizer": false, "num_envs_per_worker": 1, "vf_clip_param": 1000000.0, "synchronize_filters": true, "num_cpus_per_worker": 1, "multiagent": {"policy_graphs": {}, "policies_to_train": null, "policy_mapping_fn": null}, "kl_target": 0.01, "clip_actions": false, "input": "sampler", "input_evaluation": null, "entropy_coeff": 0.0, "lr_schedule": null, "sgd_minibatch_size": 128, "callbacks": {"on_sample_end": null, "on_train_result": null, "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7f49896b1ef0>", "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7f49896b15c0>", "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7f49896b12b0>"}, "num_cpus_for_driver": 1, "log_level": "INFO", "tf_session_args": {"log_device_placement": false, "gpu_options": {"allow_growth": true}, "intra_op_parallelism_threads": 2, "inter_op_parallelism_threads": 2, "allow_soft_placement": true, "device_count": {"CPU": 1}}, "model": {"dim": 84, "free_log_std": false, "fcnet_hiddens": [128, 64, 32], "custom_model": null, "fcnet_activation": "tanh", "lstm_use_prev_action_reward": false, "grayscale": false, "channel_major": false, "squash_to_range": false, "framestack": true, "use_lstm": false, "conv_activation": "relu", "conv_filters": null, "custom_preprocessor": null, "lstm_cell_size": 256, "zero_mean": true, "custom_options": {}, "max_seq_len": 20}, "lambda": 0.97, "num_gpus_per_worker": 0, "kl_coeff": 0.2, "horizon": 1500, "preprocessor_pref": "deepmind", "env_config": {"run": "PPO", "flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.1,\n            \"eta3\": 0.1,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 7.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 0\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 700,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}"}, "clip_param": 0.3, "observation_filter": "MeanStdFilter", "env": "MultiWaveAttenuationMergePOEnvBufferedObs-v0density_[eta1, eta2, eta3]:[1.0, 0.1, 0.0]_t_min:7.0", "gamma": 0.99, "lr": 0.0005, "monitor": false, "output_compress_columns": ["obs", "new_obs"], "batch_mode": "truncate_episodes", "num_gpus": 0, "num_workers": 30, "output": null, "collect_metrics_timeout": 180, "num_sgd_iter": 10, "sample_batch_size": 750, "output_max_file_size": 67108864, "straggler_mitigation": false, "train_batch_size": 90000}, "num_metric_batches_dropped": 0, "hostname": "flow-main", "episodes_total": 830, "episode_reward_min": 587.9060315777974, "time_total_s": 1032.370266675949, "policy_reward_mean": {}, "timesteps_this_iter": 137989, "custom_metrics": {"cost1_mean": 295.8430216972552, "system_level_velocity_mean": 10.244105144616192, "cost2_max": -90.46393046095707, "outflow_rate_max": 1035.1430319201493, "outflow_rate_mean": 862.2862560264142, "cost1_max": 355.383916947486, "outflow_rate_min": 748.2347108151223, "system_level_velocity_max": 12.216662704293453, "system_level_velocity_min": 9.24497546589706, "cost2_min": -121.01488204760224, "cost1_min": 267.23742559039476, "cost2_mean": -104.68090087508932}, "episode_reward_max": 833.2624576435535}
{"node_ip": "10.138.0.2", "episode_reward_mean": 706.0280931904653, "time_this_iter_s": 65.50977277755737, "done": false, "episode_len_mean": 751.0, "timestamp": 1557388659, "training_iteration": 16, "experiment_id": "58dd2f5595014063b753971755894587", "time_since_restore": 1097.8800394535065, "timesteps_total": 2278674, "pid": 25334, "episodes_this_iter": 59, "date": "2019-05-09_07-57-39", "info": {"sample_time_ms": 33056.752, "grad_time_ms": 33304.778, "num_steps_sampled": 2278674, "update_time_ms": 10.66, "default": {"vf_explained_var": 0.9460550546646118, "cur_kl_coeff": 0.1499999761581421, "vf_loss": 4.714461803436279, "policy_loss": -0.01237571518868208, "cur_lr": 0.0005000000237487257, "kl": 0.017573244869709015, "total_loss": 4.7047224044799805, "entropy": 1.3623325824737549}, "load_time_ms": 59.03, "num_steps_trained": 2278674}, "timesteps_since_restore": 2278674, "iterations_since_restore": 16, "config": {"local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "compress_observations": false, "clip_rewards": null, "sample_async": false, "custom_resources_per_worker": {}, "use_gae": true, "vf_share_layers": false, "vf_loss_coeff": 1.0, "optimizer": {}, "simple_optimizer": false, "num_envs_per_worker": 1, "vf_clip_param": 1000000.0, "synchronize_filters": true, "num_cpus_per_worker": 1, "multiagent": {"policy_graphs": {}, "policies_to_train": null, "policy_mapping_fn": null}, "kl_target": 0.01, "clip_actions": false, "input": "sampler", "input_evaluation": null, "entropy_coeff": 0.0, "lr_schedule": null, "sgd_minibatch_size": 128, "callbacks": {"on_sample_end": null, "on_train_result": null, "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7f498a922f60>", "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7f49896b1a90>", "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7f49896b1c88>"}, "num_cpus_for_driver": 1, "log_level": "INFO", "tf_session_args": {"log_device_placement": false, "gpu_options": {"allow_growth": true}, "intra_op_parallelism_threads": 2, "inter_op_parallelism_threads": 2, "allow_soft_placement": true, "device_count": {"CPU": 1}}, "model": {"dim": 84, "free_log_std": false, "fcnet_hiddens": [128, 64, 32], "custom_model": null, "fcnet_activation": "tanh", "lstm_use_prev_action_reward": false, "grayscale": false, "channel_major": false, "squash_to_range": false, "framestack": true, "use_lstm": false, "conv_activation": "relu", "conv_filters": null, "custom_preprocessor": null, "lstm_cell_size": 256, "zero_mean": true, "custom_options": {}, "max_seq_len": 20}, "lambda": 0.97, "num_gpus_per_worker": 0, "kl_coeff": 0.2, "horizon": 1500, "preprocessor_pref": "deepmind", "env_config": {"run": "PPO", "flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.1,\n            \"eta3\": 0.1,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 7.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 0\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 700,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}"}, "clip_param": 0.3, "observation_filter": "MeanStdFilter", "env": "MultiWaveAttenuationMergePOEnvBufferedObs-v0density_[eta1, eta2, eta3]:[1.0, 0.1, 0.0]_t_min:7.0", "gamma": 0.99, "lr": 0.0005, "monitor": false, "output_compress_columns": ["obs", "new_obs"], "batch_mode": "truncate_episodes", "num_gpus": 0, "num_workers": 30, "output": null, "collect_metrics_timeout": 180, "num_sgd_iter": 10, "sample_batch_size": 750, "output_max_file_size": 67108864, "straggler_mitigation": false, "train_batch_size": 90000}, "num_metric_batches_dropped": 0, "hostname": "flow-main", "episodes_total": 889, "episode_reward_min": 623.1849148782525, "time_total_s": 1097.8800394535065, "policy_reward_mean": {}, "timesteps_this_iter": 138822, "custom_metrics": {"cost1_mean": 299.79184961992814, "system_level_velocity_mean": 10.376728940770908, "cost2_max": -92.39003818628835, "outflow_rate_max": 1035.6868663088494, "outflow_rate_mean": 872.5591569612474, "cost1_max": 354.6528425388492, "outflow_rate_min": 795.9447871225032, "system_level_velocity_max": 12.233681954535795, "system_level_velocity_min": 9.436171609447666, "cost2_min": -129.27662209897608, "cost1_min": 270.8523551417215, "cost2_mean": -105.22886748062625}, "episode_reward_max": 824.012820918396}
{"node_ip": "10.138.0.2", "episode_reward_mean": 711.6882168765889, "time_this_iter_s": 62.72955894470215, "done": false, "episode_len_mean": 751.0, "timestamp": 1557388722, "training_iteration": 17, "experiment_id": "58dd2f5595014063b753971755894587", "time_since_restore": 1160.6095983982086, "timesteps_total": 2414246, "pid": 25334, "episodes_this_iter": 59, "date": "2019-05-09_07-58-42", "info": {"sample_time_ms": 32524.952, "grad_time_ms": 33323.427, "num_steps_sampled": 2414246, "update_time_ms": 10.566, "default": {"vf_explained_var": 0.9445450305938721, "cur_kl_coeff": 0.14999999105930328, "vf_loss": 4.991321563720703, "policy_loss": -0.012622766196727753, "cur_lr": 0.0005000000237487257, "kl": 0.017840901389718056, "total_loss": 4.981375217437744, "entropy": 1.3424336910247803}, "load_time_ms": 57.847, "num_steps_trained": 2414246}, "timesteps_since_restore": 2414246, "iterations_since_restore": 17, "config": {"local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "compress_observations": false, "clip_rewards": null, "sample_async": false, "custom_resources_per_worker": {}, "use_gae": true, "vf_share_layers": false, "vf_loss_coeff": 1.0, "optimizer": {}, "simple_optimizer": false, "num_envs_per_worker": 1, "vf_clip_param": 1000000.0, "synchronize_filters": true, "num_cpus_per_worker": 1, "multiagent": {"policy_graphs": {}, "policies_to_train": null, "policy_mapping_fn": null}, "kl_target": 0.01, "clip_actions": false, "input": "sampler", "input_evaluation": null, "entropy_coeff": 0.0, "lr_schedule": null, "sgd_minibatch_size": 128, "callbacks": {"on_sample_end": null, "on_train_result": null, "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7f49896b10b8>", "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7f49896b1b00>", "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7f49896b1978>"}, "num_cpus_for_driver": 1, "log_level": "INFO", "tf_session_args": {"log_device_placement": false, "gpu_options": {"allow_growth": true}, "intra_op_parallelism_threads": 2, "inter_op_parallelism_threads": 2, "allow_soft_placement": true, "device_count": {"CPU": 1}}, "model": {"dim": 84, "free_log_std": false, "fcnet_hiddens": [128, 64, 32], "custom_model": null, "fcnet_activation": "tanh", "lstm_use_prev_action_reward": false, "grayscale": false, "channel_major": false, "squash_to_range": false, "framestack": true, "use_lstm": false, "conv_activation": "relu", "conv_filters": null, "custom_preprocessor": null, "lstm_cell_size": 256, "zero_mean": true, "custom_options": {}, "max_seq_len": 20}, "lambda": 0.97, "num_gpus_per_worker": 0, "kl_coeff": 0.2, "horizon": 1500, "preprocessor_pref": "deepmind", "env_config": {"run": "PPO", "flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.1,\n            \"eta3\": 0.1,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 7.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 0\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 700,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}"}, "clip_param": 0.3, "observation_filter": "MeanStdFilter", "env": "MultiWaveAttenuationMergePOEnvBufferedObs-v0density_[eta1, eta2, eta3]:[1.0, 0.1, 0.0]_t_min:7.0", "gamma": 0.99, "lr": 0.0005, "monitor": false, "output_compress_columns": ["obs", "new_obs"], "batch_mode": "truncate_episodes", "num_gpus": 0, "num_workers": 30, "output": null, "collect_metrics_timeout": 180, "num_sgd_iter": 10, "sample_batch_size": 750, "output_max_file_size": 67108864, "straggler_mitigation": false, "train_batch_size": 90000}, "num_metric_batches_dropped": 0, "hostname": "flow-main", "episodes_total": 948, "episode_reward_min": 623.1849148782525, "time_total_s": 1160.6095983982086, "policy_reward_mean": {}, "timesteps_this_iter": 135572, "custom_metrics": {"cost1_mean": 304.28705252488356, "system_level_velocity_mean": 10.525508820649414, "cost2_max": -89.68812903689454, "outflow_rate_max": 1036.224792052884, "outflow_rate_mean": 886.0543285899585, "cost1_max": 353.00998728685977, "outflow_rate_min": 795.3343811030097, "system_level_velocity_max": 12.19866131704272, "system_level_velocity_min": 9.508480264459997, "cost2_min": -129.27662209897608, "cost1_min": 274.4130169089665, "cost2_mean": -104.82889545827149}, "episode_reward_max": 822.3941876320475}
{"node_ip": "10.138.0.2", "episode_reward_mean": 718.8015393052051, "time_this_iter_s": 62.35796022415161, "done": false, "episode_len_mean": 745.82, "timestamp": 1557388784, "training_iteration": 18, "experiment_id": "58dd2f5595014063b753971755894587", "time_since_restore": 1222.9675586223602, "timesteps_total": 2548154, "pid": 25334, "episodes_this_iter": 60, "date": "2019-05-09_07-59-44", "info": {"sample_time_ms": 31889.005, "grad_time_ms": 33231.62, "num_steps_sampled": 2548154, "update_time_ms": 10.348, "default": {"vf_explained_var": 0.9407728314399719, "cur_kl_coeff": 0.14999999105930328, "vf_loss": 5.3941569328308105, "policy_loss": -0.014193577691912651, "cur_lr": 0.0005000000237487257, "kl": 0.020147118717432022, "total_loss": 5.3829851150512695, "entropy": 1.3303110599517822}, "load_time_ms": 57.812, "num_steps_trained": 2548154}, "timesteps_since_restore": 2548154, "iterations_since_restore": 18, "config": {"local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "compress_observations": false, "clip_rewards": null, "sample_async": false, "custom_resources_per_worker": {}, "use_gae": true, "vf_share_layers": false, "vf_loss_coeff": 1.0, "optimizer": {}, "simple_optimizer": false, "num_envs_per_worker": 1, "vf_clip_param": 1000000.0, "synchronize_filters": true, "num_cpus_per_worker": 1, "multiagent": {"policy_graphs": {}, "policies_to_train": null, "policy_mapping_fn": null}, "kl_target": 0.01, "clip_actions": false, "input": "sampler", "input_evaluation": null, "entropy_coeff": 0.0, "lr_schedule": null, "sgd_minibatch_size": 128, "callbacks": {"on_sample_end": null, "on_train_result": null, "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7f49896b12b0>", "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7f49896b1ba8>", "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7f49896b1ef0>"}, "num_cpus_for_driver": 1, "log_level": "INFO", "tf_session_args": {"log_device_placement": false, "gpu_options": {"allow_growth": true}, "intra_op_parallelism_threads": 2, "inter_op_parallelism_threads": 2, "allow_soft_placement": true, "device_count": {"CPU": 1}}, "model": {"dim": 84, "free_log_std": false, "fcnet_hiddens": [128, 64, 32], "custom_model": null, "fcnet_activation": "tanh", "lstm_use_prev_action_reward": false, "grayscale": false, "channel_major": false, "squash_to_range": false, "framestack": true, "use_lstm": false, "conv_activation": "relu", "conv_filters": null, "custom_preprocessor": null, "lstm_cell_size": 256, "zero_mean": true, "custom_options": {}, "max_seq_len": 20}, "lambda": 0.97, "num_gpus_per_worker": 0, "kl_coeff": 0.2, "horizon": 1500, "preprocessor_pref": "deepmind", "env_config": {"run": "PPO", "flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.1,\n            \"eta3\": 0.1,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 7.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 0\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 700,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}"}, "clip_param": 0.3, "observation_filter": "MeanStdFilter", "env": "MultiWaveAttenuationMergePOEnvBufferedObs-v0density_[eta1, eta2, eta3]:[1.0, 0.1, 0.0]_t_min:7.0", "gamma": 0.99, "lr": 0.0005, "monitor": false, "output_compress_columns": ["obs", "new_obs"], "batch_mode": "truncate_episodes", "num_gpus": 0, "num_workers": 30, "output": null, "collect_metrics_timeout": 180, "num_sgd_iter": 10, "sample_batch_size": 750, "output_max_file_size": 67108864, "straggler_mitigation": false, "train_batch_size": 90000}, "num_metric_batches_dropped": 0, "hostname": "flow-main", "episodes_total": 1008, "episode_reward_min": 218.8845371181273, "time_total_s": 1222.9675586223602, "policy_reward_mean": {}, "timesteps_this_iter": 133908, "custom_metrics": {"cost1_mean": 306.78945618644286, "system_level_velocity_mean": 10.706082581233407, "cost2_max": -54.03882985072349, "outflow_rate_max": 1039.184583301412, "outflow_rate_mean": 894.6047334598995, "cost1_max": 357.97981586601753, "outflow_rate_min": 425.2827793811191, "system_level_velocity_max": 12.938310836605286, "system_level_velocity_min": 9.519354731351998, "cost2_min": -121.60754518501903, "cost1_min": 113.73474962880752, "cost2_mean": -104.6525105953841}, "episode_reward_max": 841.7478167155914}
{"node_ip": "10.138.0.2", "episode_reward_mean": 716.3060400762574, "time_this_iter_s": 61.19146966934204, "done": false, "episode_len_mean": 730.15, "timestamp": 1557388845, "training_iteration": 19, "experiment_id": "58dd2f5595014063b753971755894587", "time_since_restore": 1284.1590282917023, "timesteps_total": 2682806, "pid": 25334, "episodes_this_iter": 63, "date": "2019-05-09_08-00-45", "info": {"sample_time_ms": 31515.48, "grad_time_ms": 32920.823, "num_steps_sampled": 2682806, "update_time_ms": 10.29, "default": {"vf_explained_var": 0.9296301007270813, "cur_kl_coeff": 0.22499997913837433, "vf_loss": 6.098603248596191, "policy_loss": -0.013411637395620346, "cur_lr": 0.0005000000237487257, "kl": 0.016952261328697205, "total_loss": 6.089005947113037, "entropy": 1.334154725074768}, "load_time_ms": 56.612, "num_steps_trained": 2682806}, "timesteps_since_restore": 2682806, "iterations_since_restore": 19, "config": {"local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "compress_observations": false, "clip_rewards": null, "sample_async": false, "custom_resources_per_worker": {}, "use_gae": true, "vf_share_layers": false, "vf_loss_coeff": 1.0, "optimizer": {}, "simple_optimizer": false, "num_envs_per_worker": 1, "vf_clip_param": 1000000.0, "synchronize_filters": true, "num_cpus_per_worker": 1, "multiagent": {"policy_graphs": {}, "policies_to_train": null, "policy_mapping_fn": null}, "kl_target": 0.01, "clip_actions": false, "input": "sampler", "input_evaluation": null, "entropy_coeff": 0.0, "lr_schedule": null, "sgd_minibatch_size": 128, "callbacks": {"on_sample_end": null, "on_train_result": null, "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7f49896b1e80>", "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7f49896b1b00>", "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7f49896b1978>"}, "num_cpus_for_driver": 1, "log_level": "INFO", "tf_session_args": {"log_device_placement": false, "gpu_options": {"allow_growth": true}, "intra_op_parallelism_threads": 2, "inter_op_parallelism_threads": 2, "allow_soft_placement": true, "device_count": {"CPU": 1}}, "model": {"dim": 84, "free_log_std": false, "fcnet_hiddens": [128, 64, 32], "custom_model": null, "fcnet_activation": "tanh", "lstm_use_prev_action_reward": false, "grayscale": false, "channel_major": false, "squash_to_range": false, "framestack": true, "use_lstm": false, "conv_activation": "relu", "conv_filters": null, "custom_preprocessor": null, "lstm_cell_size": 256, "zero_mean": true, "custom_options": {}, "max_seq_len": 20}, "lambda": 0.97, "num_gpus_per_worker": 0, "kl_coeff": 0.2, "horizon": 1500, "preprocessor_pref": "deepmind", "env_config": {"run": "PPO", "flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.1,\n            \"eta3\": 0.1,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 7.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 0\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 700,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}"}, "clip_param": 0.3, "observation_filter": "MeanStdFilter", "env": "MultiWaveAttenuationMergePOEnvBufferedObs-v0density_[eta1, eta2, eta3]:[1.0, 0.1, 0.0]_t_min:7.0", "gamma": 0.99, "lr": 0.0005, "monitor": false, "output_compress_columns": ["obs", "new_obs"], "batch_mode": "truncate_episodes", "num_gpus": 0, "num_workers": 30, "output": null, "collect_metrics_timeout": 180, "num_sgd_iter": 10, "sample_batch_size": 750, "output_max_file_size": 67108864, "straggler_mitigation": false, "train_batch_size": 90000}, "num_metric_batches_dropped": 0, "hostname": "flow-main", "episodes_total": 1071, "episode_reward_min": 201.2121162948559, "time_total_s": 1284.1590282917023, "policy_reward_mean": {}, "timesteps_this_iter": 134652, "custom_metrics": {"cost1_mean": 308.1295722676947, "system_level_velocity_mean": 11.035101397371783, "cost2_max": -51.55028525094707, "outflow_rate_max": 1034.6245732026855, "outflow_rate_mean": 899.8012552472013, "cost1_max": 356.0176392780682, "outflow_rate_min": 406.58754210296473, "system_level_velocity_max": 12.938310836605286, "system_level_velocity_min": 9.519354731351998, "cost2_min": -132.95953742015314, "cost1_min": 105.39814518549508, "cost2_mean": -103.59725158980348}, "episode_reward_max": 844.7998313357961}
{"node_ip": "10.138.0.2", "episode_reward_mean": 725.2842189366124, "time_this_iter_s": 69.98338866233826, "done": false, "episode_len_mean": 735.33, "timestamp": 1557388915, "training_iteration": 20, "experiment_id": "58dd2f5595014063b753971755894587", "time_since_restore": 1354.1424169540405, "timesteps_total": 2817419, "pid": 25334, "episodes_this_iter": 62, "date": "2019-05-09_08-01-55", "info": {"sample_time_ms": 32147.927, "grad_time_ms": 32499.514, "num_steps_sampled": 2817419, "update_time_ms": 10.098, "default": {"vf_explained_var": 0.9247869253158569, "cur_kl_coeff": 0.22499997913837433, "vf_loss": 6.828853607177734, "policy_loss": -0.01346216257661581, "cur_lr": 0.0005000000237487257, "kl": 0.01748822070658207, "total_loss": 6.819326877593994, "entropy": 1.3174995183944702}, "load_time_ms": 54.732, "num_steps_trained": 2817419}, "timesteps_since_restore": 2817419, "iterations_since_restore": 20, "config": {"local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "compress_observations": false, "clip_rewards": null, "sample_async": false, "custom_resources_per_worker": {}, "use_gae": true, "vf_share_layers": false, "vf_loss_coeff": 1.0, "optimizer": {}, "simple_optimizer": false, "num_envs_per_worker": 1, "vf_clip_param": 1000000.0, "synchronize_filters": true, "num_cpus_per_worker": 1, "multiagent": {"policy_graphs": {}, "policies_to_train": null, "policy_mapping_fn": null}, "kl_target": 0.01, "clip_actions": false, "input": "sampler", "input_evaluation": null, "entropy_coeff": 0.0, "lr_schedule": null, "sgd_minibatch_size": 128, "callbacks": {"on_sample_end": null, "on_train_result": null, "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7f498a922d68>", "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7f498a922a20>", "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7f498a922fd0>"}, "num_cpus_for_driver": 1, "log_level": "INFO", "tf_session_args": {"log_device_placement": false, "gpu_options": {"allow_growth": true}, "intra_op_parallelism_threads": 2, "inter_op_parallelism_threads": 2, "allow_soft_placement": true, "device_count": {"CPU": 1}}, "model": {"dim": 84, "free_log_std": false, "fcnet_hiddens": [128, 64, 32], "custom_model": null, "fcnet_activation": "tanh", "lstm_use_prev_action_reward": false, "grayscale": false, "channel_major": false, "squash_to_range": false, "framestack": true, "use_lstm": false, "conv_activation": "relu", "conv_filters": null, "custom_preprocessor": null, "lstm_cell_size": 256, "zero_mean": true, "custom_options": {}, "max_seq_len": 20}, "lambda": 0.97, "num_gpus_per_worker": 0, "kl_coeff": 0.2, "horizon": 1500, "preprocessor_pref": "deepmind", "env_config": {"run": "PPO", "flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.1,\n            \"eta3\": 0.1,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 7.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 0\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 700,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}"}, "clip_param": 0.3, "observation_filter": "MeanStdFilter", "env": "MultiWaveAttenuationMergePOEnvBufferedObs-v0density_[eta1, eta2, eta3]:[1.0, 0.1, 0.0]_t_min:7.0", "gamma": 0.99, "lr": 0.0005, "monitor": false, "output_compress_columns": ["obs", "new_obs"], "batch_mode": "truncate_episodes", "num_gpus": 0, "num_workers": 30, "output": null, "collect_metrics_timeout": 180, "num_sgd_iter": 10, "sample_batch_size": 750, "output_max_file_size": 67108864, "straggler_mitigation": false, "train_batch_size": 90000}, "num_metric_batches_dropped": 0, "hostname": "flow-main", "episodes_total": 1133, "episode_reward_min": 201.2121162948559, "time_total_s": 1354.1424169540405, "policy_reward_mean": {}, "timesteps_this_iter": 134613, "custom_metrics": {"cost1_mean": 310.40563119942885, "system_level_velocity_mean": 11.029467239384392, "cost2_max": -51.55028525094707, "outflow_rate_max": 1048.17936043136, "outflow_rate_mean": 903.6669109949389, "cost1_max": 365.4424045161573, "outflow_rate_min": 406.58754210296473, "system_level_velocity_max": 12.83724455207156, "system_level_velocity_min": 9.691795829096055, "cost2_min": -120.9264795877396, "cost1_min": 105.39814518549508, "cost2_mean": -103.5619346677088}, "episode_reward_max": 864.6744281353286}
{"node_ip": "10.138.0.2", "episode_reward_mean": 742.839550148884, "time_this_iter_s": 62.136889934539795, "done": false, "episode_len_mean": 745.87, "timestamp": 1557388978, "training_iteration": 21, "experiment_id": "58dd2f5595014063b753971755894587", "time_since_restore": 1416.2793068885803, "timesteps_total": 2949838, "pid": 25334, "episodes_this_iter": 60, "date": "2019-05-09_08-02-58", "info": {"sample_time_ms": 32200.209, "grad_time_ms": 32132.489, "num_steps_sampled": 2949838, "update_time_ms": 9.607, "default": {"vf_explained_var": 0.9362116456031799, "cur_kl_coeff": 0.22499996423721313, "vf_loss": 6.063344478607178, "policy_loss": -0.013759228400886059, "cur_lr": 0.0005000000237487257, "kl": 0.017401138320565224, "total_loss": 6.053500652313232, "entropy": 1.3228892087936401}, "load_time_ms": 55.017, "num_steps_trained": 2949838}, "timesteps_since_restore": 2949838, "iterations_since_restore": 21, "config": {"local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "compress_observations": false, "clip_rewards": null, "sample_async": false, "custom_resources_per_worker": {}, "use_gae": true, "vf_share_layers": false, "vf_loss_coeff": 1.0, "optimizer": {}, "simple_optimizer": false, "num_envs_per_worker": 1, "vf_clip_param": 1000000.0, "synchronize_filters": true, "num_cpus_per_worker": 1, "multiagent": {"policy_graphs": {}, "policies_to_train": null, "policy_mapping_fn": null}, "kl_target": 0.01, "clip_actions": false, "input": "sampler", "input_evaluation": null, "entropy_coeff": 0.0, "lr_schedule": null, "sgd_minibatch_size": 128, "callbacks": {"on_sample_end": null, "on_train_result": null, "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7f49896a7b00>", "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7f49896a7780>", "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7f49896a7080>"}, "num_cpus_for_driver": 1, "log_level": "INFO", "tf_session_args": {"log_device_placement": false, "gpu_options": {"allow_growth": true}, "intra_op_parallelism_threads": 2, "inter_op_parallelism_threads": 2, "allow_soft_placement": true, "device_count": {"CPU": 1}}, "model": {"dim": 84, "free_log_std": false, "fcnet_hiddens": [128, 64, 32], "custom_model": null, "fcnet_activation": "tanh", "lstm_use_prev_action_reward": false, "grayscale": false, "channel_major": false, "squash_to_range": false, "framestack": true, "use_lstm": false, "conv_activation": "relu", "conv_filters": null, "custom_preprocessor": null, "lstm_cell_size": 256, "zero_mean": true, "custom_options": {}, "max_seq_len": 20}, "lambda": 0.97, "num_gpus_per_worker": 0, "kl_coeff": 0.2, "horizon": 1500, "preprocessor_pref": "deepmind", "env_config": {"run": "PPO", "flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.1,\n            \"eta3\": 0.1,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 7.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 0\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 700,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}"}, "clip_param": 0.3, "observation_filter": "MeanStdFilter", "env": "MultiWaveAttenuationMergePOEnvBufferedObs-v0density_[eta1, eta2, eta3]:[1.0, 0.1, 0.0]_t_min:7.0", "gamma": 0.99, "lr": 0.0005, "monitor": false, "output_compress_columns": ["obs", "new_obs"], "batch_mode": "truncate_episodes", "num_gpus": 0, "num_workers": 30, "output": null, "collect_metrics_timeout": 180, "num_sgd_iter": 10, "sample_batch_size": 750, "output_max_file_size": 67108864, "straggler_mitigation": false, "train_batch_size": 90000}, "num_metric_batches_dropped": 0, "hostname": "flow-main", "episodes_total": 1193, "episode_reward_min": 221.84465092140292, "time_total_s": 1416.2793068885803, "policy_reward_mean": {}, "timesteps_this_iter": 132419, "custom_metrics": {"cost1_mean": 318.44628600025123, "system_level_velocity_mean": 11.134647552985092, "cost2_max": -56.293215836442684, "outflow_rate_max": 1057.0898995264045, "outflow_rate_mean": 924.0339606646563, "cost1_max": 368.8324991064688, "outflow_rate_min": 417.34789359656247, "system_level_velocity_max": 12.737549515195909, "system_level_velocity_min": 9.671101250595184, "cost2_min": -120.82764299892582, "cost1_min": 113.44862621692398, "cost2_mean": -104.42986417463098}, "episode_reward_max": 849.1590009431792}
{"node_ip": "10.138.0.2", "episode_reward_mean": 749.5305561852997, "time_this_iter_s": 69.18661427497864, "done": false, "episode_len_mean": 751.0, "timestamp": 1557389047, "training_iteration": 22, "experiment_id": "58dd2f5595014063b753971755894587", "time_since_restore": 1485.465921163559, "timesteps_total": 3081779, "pid": 25334, "episodes_this_iter": 61, "date": "2019-05-09_08-04-07", "info": {"sample_time_ms": 33111.441, "grad_time_ms": 31470.024, "num_steps_sampled": 3081779, "update_time_ms": 9.585, "default": {"vf_explained_var": 0.9300822615623474, "cur_kl_coeff": 0.22499996423721313, "vf_loss": 6.717986583709717, "policy_loss": -0.014008790254592896, "cur_lr": 0.0005000000237487257, "kl": 0.01846982352435589, "total_loss": 6.708133697509766, "entropy": 1.3016546964645386}, "load_time_ms": 55.186, "num_steps_trained": 3081779}, "timesteps_since_restore": 3081779, "iterations_since_restore": 22, "config": {"local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "compress_observations": false, "clip_rewards": null, "sample_async": false, "custom_resources_per_worker": {}, "use_gae": true, "vf_share_layers": false, "vf_loss_coeff": 1.0, "optimizer": {}, "simple_optimizer": false, "num_envs_per_worker": 1, "vf_clip_param": 1000000.0, "synchronize_filters": true, "num_cpus_per_worker": 1, "multiagent": {"policy_graphs": {}, "policies_to_train": null, "policy_mapping_fn": null}, "kl_target": 0.01, "clip_actions": false, "input": "sampler", "input_evaluation": null, "entropy_coeff": 0.0, "lr_schedule": null, "sgd_minibatch_size": 128, "callbacks": {"on_sample_end": null, "on_train_result": null, "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7f49896a77f0>", "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7f49896b1d68>", "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7f49896b1fd0>"}, "num_cpus_for_driver": 1, "log_level": "INFO", "tf_session_args": {"log_device_placement": false, "gpu_options": {"allow_growth": true}, "intra_op_parallelism_threads": 2, "inter_op_parallelism_threads": 2, "allow_soft_placement": true, "device_count": {"CPU": 1}}, "model": {"dim": 84, "free_log_std": false, "fcnet_hiddens": [128, 64, 32], "custom_model": null, "fcnet_activation": "tanh", "lstm_use_prev_action_reward": false, "grayscale": false, "channel_major": false, "squash_to_range": false, "framestack": true, "use_lstm": false, "conv_activation": "relu", "conv_filters": null, "custom_preprocessor": null, "lstm_cell_size": 256, "zero_mean": true, "custom_options": {}, "max_seq_len": 20}, "lambda": 0.97, "num_gpus_per_worker": 0, "kl_coeff": 0.2, "horizon": 1500, "preprocessor_pref": "deepmind", "env_config": {"run": "PPO", "flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.1,\n            \"eta3\": 0.1,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 7.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 0\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 700,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}"}, "clip_param": 0.3, "observation_filter": "MeanStdFilter", "env": "MultiWaveAttenuationMergePOEnvBufferedObs-v0density_[eta1, eta2, eta3]:[1.0, 0.1, 0.0]_t_min:7.0", "gamma": 0.99, "lr": 0.0005, "monitor": false, "output_compress_columns": ["obs", "new_obs"], "batch_mode": "truncate_episodes", "num_gpus": 0, "num_workers": 30, "output": null, "collect_metrics_timeout": 180, "num_sgd_iter": 10, "sample_batch_size": 750, "output_max_file_size": 67108864, "straggler_mitigation": false, "train_batch_size": 90000}, "num_metric_batches_dropped": 0, "hostname": "flow-main", "episodes_total": 1254, "episode_reward_min": 645.0650659307481, "time_total_s": 1485.465921163559, "policy_reward_mean": {}, "timesteps_this_iter": 131941, "custom_metrics": {"cost1_mean": 325.1614950818567, "system_level_velocity_mean": 11.293584924960648, "cost2_max": -90.43007376016587, "outflow_rate_max": 1067.1371225029854, "outflow_rate_mean": 940.6843250342145, "cost1_max": 374.8397033609327, "outflow_rate_min": 819.5432102054785, "system_level_velocity_max": 13.012950115289419, "system_level_velocity_min": 9.671101250595184, "cost2_min": -120.67593218423187, "cost1_min": 279.04100105646705, "cost2_mean": -104.51653948225075}, "episode_reward_max": 864.1464807566523}
{"node_ip": "10.138.0.2", "episode_reward_mean": 744.1208570208116, "time_this_iter_s": 68.89280390739441, "done": false, "episode_len_mean": 745.67, "timestamp": 1557389116, "training_iteration": 23, "experiment_id": "58dd2f5595014063b753971755894587", "time_since_restore": 1554.3587250709534, "timesteps_total": 3213750, "pid": 25334, "episodes_this_iter": 62, "date": "2019-05-09_08-05-16", "info": {"sample_time_ms": 33753.851, "grad_time_ms": 31263.681, "num_steps_sampled": 3213750, "update_time_ms": 9.51, "default": {"vf_explained_var": 0.9300416111946106, "cur_kl_coeff": 0.22499997913837433, "vf_loss": 7.056125164031982, "policy_loss": -0.014850974082946777, "cur_lr": 0.0005000000237487257, "kl": 0.018456362187862396, "total_loss": 7.045426368713379, "entropy": 1.3062549829483032}, "load_time_ms": 56.016, "num_steps_trained": 3213750}, "timesteps_since_restore": 3213750, "iterations_since_restore": 23, "config": {"local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "compress_observations": false, "clip_rewards": null, "sample_async": false, "custom_resources_per_worker": {}, "use_gae": true, "vf_share_layers": false, "vf_loss_coeff": 1.0, "optimizer": {}, "simple_optimizer": false, "num_envs_per_worker": 1, "vf_clip_param": 1000000.0, "synchronize_filters": true, "num_cpus_per_worker": 1, "multiagent": {"policy_graphs": {}, "policies_to_train": null, "policy_mapping_fn": null}, "kl_target": 0.01, "clip_actions": false, "input": "sampler", "input_evaluation": null, "entropy_coeff": 0.0, "lr_schedule": null, "sgd_minibatch_size": 128, "callbacks": {"on_sample_end": null, "on_train_result": null, "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7f49896b1470>", "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7f49896b16a0>", "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7f49896b1a90>"}, "num_cpus_for_driver": 1, "log_level": "INFO", "tf_session_args": {"log_device_placement": false, "gpu_options": {"allow_growth": true}, "intra_op_parallelism_threads": 2, "inter_op_parallelism_threads": 2, "allow_soft_placement": true, "device_count": {"CPU": 1}}, "model": {"dim": 84, "free_log_std": false, "fcnet_hiddens": [128, 64, 32], "custom_model": null, "fcnet_activation": "tanh", "lstm_use_prev_action_reward": false, "grayscale": false, "channel_major": false, "squash_to_range": false, "framestack": true, "use_lstm": false, "conv_activation": "relu", "conv_filters": null, "custom_preprocessor": null, "lstm_cell_size": 256, "zero_mean": true, "custom_options": {}, "max_seq_len": 20}, "lambda": 0.97, "num_gpus_per_worker": 0, "kl_coeff": 0.2, "horizon": 1500, "preprocessor_pref": "deepmind", "env_config": {"run": "PPO", "flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.1,\n            \"eta3\": 0.1,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 7.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 0\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 700,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}"}, "clip_param": 0.3, "observation_filter": "MeanStdFilter", "env": "MultiWaveAttenuationMergePOEnvBufferedObs-v0density_[eta1, eta2, eta3]:[1.0, 0.1, 0.0]_t_min:7.0", "gamma": 0.99, "lr": 0.0005, "monitor": false, "output_compress_columns": ["obs", "new_obs"], "batch_mode": "truncate_episodes", "num_gpus": 0, "num_workers": 30, "output": null, "collect_metrics_timeout": 180, "num_sgd_iter": 10, "sample_batch_size": 750, "output_max_file_size": 67108864, "straggler_mitigation": false, "train_batch_size": 90000}, "num_metric_batches_dropped": 0, "hostname": "flow-main", "episodes_total": 1316, "episode_reward_min": 199.6085334167511, "time_total_s": 1554.3587250709534, "policy_reward_mean": {}, "timesteps_this_iter": 131971, "custom_metrics": {"cost1_mean": 321.9838404197677, "system_level_velocity_mean": 11.2836620768077, "cost2_max": -56.19620522247281, "outflow_rate_max": 1067.1371225029854, "outflow_rate_mean": 933.1131960939264, "cost1_max": 374.8397033609327, "outflow_rate_min": 387.842602872978, "system_level_velocity_max": 13.012950115289419, "system_level_velocity_min": 9.91165535485232, "cost2_min": -124.97056101289458, "cost1_min": 103.59720961203955, "cost2_mean": -100.9346037206473}, "episode_reward_max": 864.1464807566523}
{"node_ip": "10.138.0.2", "episode_reward_mean": 746.9350628597051, "time_this_iter_s": 71.52629661560059, "done": false, "episode_len_mean": 751.0, "timestamp": 1557389187, "training_iteration": 24, "experiment_id": "58dd2f5595014063b753971755894587", "time_since_restore": 1625.885021686554, "timesteps_total": 3346963, "pid": 25334, "episodes_this_iter": 61, "date": "2019-05-09_08-06-27", "info": {"sample_time_ms": 34567.965, "grad_time_ms": 30987.448, "num_steps_sampled": 3346963, "update_time_ms": 9.387, "default": {"vf_explained_var": 0.9287041425704956, "cur_kl_coeff": 0.22499996423721313, "vf_loss": 6.88385009765625, "policy_loss": -0.014203200116753578, "cur_lr": 0.0005000000237487257, "kl": 0.018296441063284874, "total_loss": 6.8737640380859375, "entropy": 1.3279719352722168}, "load_time_ms": 58.707, "num_steps_trained": 3346963}, "timesteps_since_restore": 3346963, "iterations_since_restore": 24, "config": {"local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "compress_observations": false, "clip_rewards": null, "sample_async": false, "custom_resources_per_worker": {}, "use_gae": true, "vf_share_layers": false, "vf_loss_coeff": 1.0, "optimizer": {}, "simple_optimizer": false, "num_envs_per_worker": 1, "vf_clip_param": 1000000.0, "synchronize_filters": true, "num_cpus_per_worker": 1, "multiagent": {"policy_graphs": {}, "policies_to_train": null, "policy_mapping_fn": null}, "kl_target": 0.01, "clip_actions": false, "input": "sampler", "input_evaluation": null, "entropy_coeff": 0.0, "lr_schedule": null, "sgd_minibatch_size": 128, "callbacks": {"on_sample_end": null, "on_train_result": null, "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7f49896a7400>", "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7f49896a7b38>", "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7f49896a7f28>"}, "num_cpus_for_driver": 1, "log_level": "INFO", "tf_session_args": {"log_device_placement": false, "gpu_options": {"allow_growth": true}, "intra_op_parallelism_threads": 2, "inter_op_parallelism_threads": 2, "allow_soft_placement": true, "device_count": {"CPU": 1}}, "model": {"dim": 84, "free_log_std": false, "fcnet_hiddens": [128, 64, 32], "custom_model": null, "fcnet_activation": "tanh", "lstm_use_prev_action_reward": false, "grayscale": false, "channel_major": false, "squash_to_range": false, "framestack": true, "use_lstm": false, "conv_activation": "relu", "conv_filters": null, "custom_preprocessor": null, "lstm_cell_size": 256, "zero_mean": true, "custom_options": {}, "max_seq_len": 20}, "lambda": 0.97, "num_gpus_per_worker": 0, "kl_coeff": 0.2, "horizon": 1500, "preprocessor_pref": "deepmind", "env_config": {"run": "PPO", "flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.1,\n            \"eta3\": 0.1,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 7.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 0\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 700,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}"}, "clip_param": 0.3, "observation_filter": "MeanStdFilter", "env": "MultiWaveAttenuationMergePOEnvBufferedObs-v0density_[eta1, eta2, eta3]:[1.0, 0.1, 0.0]_t_min:7.0", "gamma": 0.99, "lr": 0.0005, "monitor": false, "output_compress_columns": ["obs", "new_obs"], "batch_mode": "truncate_episodes", "num_gpus": 0, "num_workers": 30, "output": null, "collect_metrics_timeout": 180, "num_sgd_iter": 10, "sample_batch_size": 750, "output_max_file_size": 67108864, "straggler_mitigation": false, "train_batch_size": 90000}, "num_metric_batches_dropped": 0, "hostname": "flow-main", "episodes_total": 1377, "episode_reward_min": 611.1875208049966, "time_total_s": 1625.885021686554, "policy_reward_mean": {}, "timesteps_this_iter": 133213, "custom_metrics": {"cost1_mean": 322.52172404923675, "system_level_velocity_mean": 11.217701325694561, "cost2_max": -80.18605631732181, "outflow_rate_max": 1076.082528105042, "outflow_rate_mean": 935.6706369997373, "cost1_max": 376.08701567748096, "outflow_rate_min": 825.2919070015496, "system_level_velocity_max": 13.091049187634965, "system_level_velocity_min": 9.50004147381567, "cost2_min": -118.11116054992847, "cost1_min": 273.71363975863653, "cost2_mean": -98.86954052768223}, "episode_reward_max": 851.6034360663829}
{"node_ip": "10.138.0.2", "episode_reward_mean": 745.4263507820008, "time_this_iter_s": 68.48835730552673, "done": false, "episode_len_mean": 745.83, "timestamp": 1557389256, "training_iteration": 25, "experiment_id": "58dd2f5595014063b753971755894587", "time_since_restore": 1694.3733789920807, "timesteps_total": 3479491, "pid": 25334, "episodes_this_iter": 63, "date": "2019-05-09_08-07-36", "info": {"sample_time_ms": 35460.634, "grad_time_ms": 30434.915, "num_steps_sampled": 3479491, "update_time_ms": 9.331, "default": {"vf_explained_var": 0.9270644783973694, "cur_kl_coeff": 0.22499996423721313, "vf_loss": 7.468306064605713, "policy_loss": -0.014196167699992657, "cur_lr": 0.0005000000237487257, "kl": 0.018634866923093796, "total_loss": 7.458302974700928, "entropy": 1.3078668117523193}, "load_time_ms": 56.903, "num_steps_trained": 3479491}, "timesteps_since_restore": 3479491, "iterations_since_restore": 25, "config": {"local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "compress_observations": false, "clip_rewards": null, "sample_async": false, "custom_resources_per_worker": {}, "use_gae": true, "vf_share_layers": false, "vf_loss_coeff": 1.0, "optimizer": {}, "simple_optimizer": false, "num_envs_per_worker": 1, "vf_clip_param": 1000000.0, "synchronize_filters": true, "num_cpus_per_worker": 1, "multiagent": {"policy_graphs": {}, "policies_to_train": null, "policy_mapping_fn": null}, "kl_target": 0.01, "clip_actions": false, "input": "sampler", "input_evaluation": null, "entropy_coeff": 0.0, "lr_schedule": null, "sgd_minibatch_size": 128, "callbacks": {"on_sample_end": null, "on_train_result": null, "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7f49896b1a58>", "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7f49896b1f28>", "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7f49896b1f60>"}, "num_cpus_for_driver": 1, "log_level": "INFO", "tf_session_args": {"log_device_placement": false, "gpu_options": {"allow_growth": true}, "intra_op_parallelism_threads": 2, "inter_op_parallelism_threads": 2, "allow_soft_placement": true, "device_count": {"CPU": 1}}, "model": {"dim": 84, "free_log_std": false, "fcnet_hiddens": [128, 64, 32], "custom_model": null, "fcnet_activation": "tanh", "lstm_use_prev_action_reward": false, "grayscale": false, "channel_major": false, "squash_to_range": false, "framestack": true, "use_lstm": false, "conv_activation": "relu", "conv_filters": null, "custom_preprocessor": null, "lstm_cell_size": 256, "zero_mean": true, "custom_options": {}, "max_seq_len": 20}, "lambda": 0.97, "num_gpus_per_worker": 0, "kl_coeff": 0.2, "horizon": 1500, "preprocessor_pref": "deepmind", "env_config": {"run": "PPO", "flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.1,\n            \"eta3\": 0.1,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 7.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 0\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 700,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}"}, "clip_param": 0.3, "observation_filter": "MeanStdFilter", "env": "MultiWaveAttenuationMergePOEnvBufferedObs-v0density_[eta1, eta2, eta3]:[1.0, 0.1, 0.0]_t_min:7.0", "gamma": 0.99, "lr": 0.0005, "monitor": false, "output_compress_columns": ["obs", "new_obs"], "batch_mode": "truncate_episodes", "num_gpus": 0, "num_workers": 30, "output": null, "collect_metrics_timeout": 180, "num_sgd_iter": 10, "sample_batch_size": 750, "output_max_file_size": 67108864, "straggler_mitigation": false, "train_batch_size": 90000}, "num_metric_batches_dropped": 0, "hostname": "flow-main", "episodes_total": 1440, "episode_reward_min": 211.376458031954, "time_total_s": 1694.3733789920807, "policy_reward_mean": {}, "timesteps_this_iter": 132528, "custom_metrics": {"cost1_mean": 322.15552035942676, "system_level_velocity_mean": 11.293388375380005, "cost2_max": -47.782501156167825, "outflow_rate_max": 1062.5854650849712, "outflow_rate_mean": 937.7918836640808, "cost1_max": 369.1417946974359, "outflow_rate_min": 434.28518088338745, "system_level_velocity_max": 12.88977266491015, "system_level_velocity_min": 9.068261837160136, "cost2_min": -115.08739999908249, "cost1_min": 112.79699346449858, "cost2_mean": -96.58657186367917}, "episode_reward_max": 851.6034360663829}
{"node_ip": "10.138.0.2", "episode_reward_mean": 744.3218627504823, "time_this_iter_s": 71.56276154518127, "done": false, "episode_len_mean": 751.0, "timestamp": 1557389327, "training_iteration": 26, "experiment_id": "58dd2f5595014063b753971755894587", "time_since_restore": 1765.936140537262, "timesteps_total": 3611831, "pid": 25334, "episodes_this_iter": 61, "date": "2019-05-09_08-08-47", "info": {"sample_time_ms": 36373.147, "grad_time_ms": 30131.124, "num_steps_sampled": 3611831, "update_time_ms": 8.796, "default": {"vf_explained_var": 0.9243024587631226, "cur_kl_coeff": 0.22499997913837433, "vf_loss": 7.110130310058594, "policy_loss": -0.014106460846960545, "cur_lr": 0.0005000000237487257, "kl": 0.01823492906987667, "total_loss": 7.100126266479492, "entropy": 1.3166369199752808}, "load_time_ms": 55.931, "num_steps_trained": 3611831}, "timesteps_since_restore": 3611831, "iterations_since_restore": 26, "config": {"local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "compress_observations": false, "clip_rewards": null, "sample_async": false, "custom_resources_per_worker": {}, "use_gae": true, "vf_share_layers": false, "vf_loss_coeff": 1.0, "optimizer": {}, "simple_optimizer": false, "num_envs_per_worker": 1, "vf_clip_param": 1000000.0, "synchronize_filters": true, "num_cpus_per_worker": 1, "multiagent": {"policy_graphs": {}, "policies_to_train": null, "policy_mapping_fn": null}, "kl_target": 0.01, "clip_actions": false, "input": "sampler", "input_evaluation": null, "entropy_coeff": 0.0, "lr_schedule": null, "sgd_minibatch_size": 128, "callbacks": {"on_sample_end": null, "on_train_result": null, "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7f49896b15c0>", "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7f49896b1a90>", "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7f49896b16a0>"}, "num_cpus_for_driver": 1, "log_level": "INFO", "tf_session_args": {"log_device_placement": false, "gpu_options": {"allow_growth": true}, "intra_op_parallelism_threads": 2, "inter_op_parallelism_threads": 2, "allow_soft_placement": true, "device_count": {"CPU": 1}}, "model": {"dim": 84, "free_log_std": false, "fcnet_hiddens": [128, 64, 32], "custom_model": null, "fcnet_activation": "tanh", "lstm_use_prev_action_reward": false, "grayscale": false, "channel_major": false, "squash_to_range": false, "framestack": true, "use_lstm": false, "conv_activation": "relu", "conv_filters": null, "custom_preprocessor": null, "lstm_cell_size": 256, "zero_mean": true, "custom_options": {}, "max_seq_len": 20}, "lambda": 0.97, "num_gpus_per_worker": 0, "kl_coeff": 0.2, "horizon": 1500, "preprocessor_pref": "deepmind", "env_config": {"run": "PPO", "flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.1,\n            \"eta3\": 0.1,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 7.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 0\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 700,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}"}, "clip_param": 0.3, "observation_filter": "MeanStdFilter", "env": "MultiWaveAttenuationMergePOEnvBufferedObs-v0density_[eta1, eta2, eta3]:[1.0, 0.1, 0.0]_t_min:7.0", "gamma": 0.99, "lr": 0.0005, "monitor": false, "output_compress_columns": ["obs", "new_obs"], "batch_mode": "truncate_episodes", "num_gpus": 0, "num_workers": 30, "output": null, "collect_metrics_timeout": 180, "num_sgd_iter": 10, "sample_batch_size": 750, "output_max_file_size": 67108864, "straggler_mitigation": false, "train_batch_size": 90000}, "num_metric_batches_dropped": 0, "hostname": "flow-main", "episodes_total": 1501, "episode_reward_min": 650.1570359202337, "time_total_s": 1765.936140537262, "policy_reward_mean": {}, "timesteps_this_iter": 132340, "custom_metrics": {"cost1_mean": 318.96761053329385, "system_level_velocity_mean": 11.102649279307077, "cost2_max": -81.97886069293678, "outflow_rate_max": 1053.422476201767, "outflow_rate_mean": 929.0651869040187, "cost1_max": 368.30346695172034, "outflow_rate_min": 815.7657730052257, "system_level_velocity_max": 12.758610223464226, "system_level_velocity_min": 9.068261837160136, "cost2_min": -115.08739999908249, "cost1_min": 263.46768798037147, "cost2_mean": -95.22307498501772}, "episode_reward_max": 852.6226282580159}
{"node_ip": "10.138.0.2", "episode_reward_mean": 733.1480140370761, "time_this_iter_s": 69.19867587089539, "done": false, "episode_len_mean": 745.83, "timestamp": 1557389397, "training_iteration": 27, "experiment_id": "58dd2f5595014063b753971755894587", "time_since_restore": 1835.1348164081573, "timesteps_total": 3742013, "pid": 25334, "episodes_this_iter": 62, "date": "2019-05-09_08-09-57", "info": {"sample_time_ms": 37340.914, "grad_time_ms": 29808.808, "num_steps_sampled": 3742013, "update_time_ms": 8.557, "default": {"vf_explained_var": 0.9242386221885681, "cur_kl_coeff": 0.22499996423721313, "vf_loss": 7.74344539642334, "policy_loss": -0.014719519764184952, "cur_lr": 0.0005000000237487257, "kl": 0.019346173852682114, "total_loss": 7.733078479766846, "entropy": 1.3136602640151978}, "load_time_ms": 57.412, "num_steps_trained": 3742013}, "timesteps_since_restore": 3742013, "iterations_since_restore": 27, "config": {"local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "compress_observations": false, "clip_rewards": null, "sample_async": false, "custom_resources_per_worker": {}, "use_gae": true, "vf_share_layers": false, "vf_loss_coeff": 1.0, "optimizer": {}, "simple_optimizer": false, "num_envs_per_worker": 1, "vf_clip_param": 1000000.0, "synchronize_filters": true, "num_cpus_per_worker": 1, "multiagent": {"policy_graphs": {}, "policies_to_train": null, "policy_mapping_fn": null}, "kl_target": 0.01, "clip_actions": false, "input": "sampler", "input_evaluation": null, "entropy_coeff": 0.0, "lr_schedule": null, "sgd_minibatch_size": 128, "callbacks": {"on_sample_end": null, "on_train_result": null, "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7f49896bf198>", "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7f49896bf160>", "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7f49896bf128>"}, "num_cpus_for_driver": 1, "log_level": "INFO", "tf_session_args": {"log_device_placement": false, "gpu_options": {"allow_growth": true}, "intra_op_parallelism_threads": 2, "inter_op_parallelism_threads": 2, "allow_soft_placement": true, "device_count": {"CPU": 1}}, "model": {"dim": 84, "free_log_std": false, "fcnet_hiddens": [128, 64, 32], "custom_model": null, "fcnet_activation": "tanh", "lstm_use_prev_action_reward": false, "grayscale": false, "channel_major": false, "squash_to_range": false, "framestack": true, "use_lstm": false, "conv_activation": "relu", "conv_filters": null, "custom_preprocessor": null, "lstm_cell_size": 256, "zero_mean": true, "custom_options": {}, "max_seq_len": 20}, "lambda": 0.97, "num_gpus_per_worker": 0, "kl_coeff": 0.2, "horizon": 1500, "preprocessor_pref": "deepmind", "env_config": {"run": "PPO", "flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.1,\n            \"eta3\": 0.1,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 7.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 0\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 700,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}"}, "clip_param": 0.3, "observation_filter": "MeanStdFilter", "env": "MultiWaveAttenuationMergePOEnvBufferedObs-v0density_[eta1, eta2, eta3]:[1.0, 0.1, 0.0]_t_min:7.0", "gamma": 0.99, "lr": 0.0005, "monitor": false, "output_compress_columns": ["obs", "new_obs"], "batch_mode": "truncate_episodes", "num_gpus": 0, "num_workers": 30, "output": null, "collect_metrics_timeout": 180, "num_sgd_iter": 10, "sample_batch_size": 750, "output_max_file_size": 67108864, "straggler_mitigation": false, "train_batch_size": 90000}, "num_metric_batches_dropped": 0, "hostname": "flow-main", "episodes_total": 1563, "episode_reward_min": 214.423748798441, "time_total_s": 1835.1348164081573, "policy_reward_mean": {}, "timesteps_this_iter": 130182, "custom_metrics": {"cost1_mean": 313.56468204274245, "system_level_velocity_mean": 11.019479931277234, "cost2_max": -47.10221135461937, "outflow_rate_max": 1053.529248510266, "outflow_rate_mean": 915.978583531013, "cost1_max": 378.507484545401, "outflow_rate_min": 419.6061979417019, "system_level_velocity_max": 13.17422483684844, "system_level_velocity_min": 9.607915378402478, "cost2_min": -115.74793446867186, "cost1_min": 110.1937102332218, "cost2_mean": -94.11186535944874}, "episode_reward_max": 903.6149297622665}
{"node_ip": "10.138.0.2", "episode_reward_mean": 739.7805866389145, "time_this_iter_s": 70.10736155509949, "done": false, "episode_len_mean": 745.16, "timestamp": 1557389467, "training_iteration": 28, "experiment_id": "58dd2f5595014063b753971755894587", "time_since_restore": 1905.2421779632568, "timesteps_total": 3874378, "pid": 25334, "episodes_this_iter": 62, "date": "2019-05-09_08-11-07", "info": {"sample_time_ms": 38362.576, "grad_time_ms": 29565.981, "num_steps_sampled": 3874378, "update_time_ms": 8.449, "default": {"vf_explained_var": 0.9268741011619568, "cur_kl_coeff": 0.22499996423721313, "vf_loss": 7.48767614364624, "policy_loss": -0.014794413931667805, "cur_lr": 0.0005000000237487257, "kl": 0.019059231504797935, "total_loss": 7.477169990539551, "entropy": 1.3290729522705078}, "load_time_ms": 57.144, "num_steps_trained": 3874378}, "timesteps_since_restore": 3874378, "iterations_since_restore": 28, "config": {"local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "compress_observations": false, "clip_rewards": null, "sample_async": false, "custom_resources_per_worker": {}, "use_gae": true, "vf_share_layers": false, "vf_loss_coeff": 1.0, "optimizer": {}, "simple_optimizer": false, "num_envs_per_worker": 1, "vf_clip_param": 1000000.0, "synchronize_filters": true, "num_cpus_per_worker": 1, "multiagent": {"policy_graphs": {}, "policies_to_train": null, "policy_mapping_fn": null}, "kl_target": 0.01, "clip_actions": false, "input": "sampler", "input_evaluation": null, "entropy_coeff": 0.0, "lr_schedule": null, "sgd_minibatch_size": 128, "callbacks": {"on_sample_end": null, "on_train_result": null, "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7f49896bf9b0>", "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7f49896bf828>", "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7f49896bf940>"}, "num_cpus_for_driver": 1, "log_level": "INFO", "tf_session_args": {"log_device_placement": false, "gpu_options": {"allow_growth": true}, "intra_op_parallelism_threads": 2, "inter_op_parallelism_threads": 2, "allow_soft_placement": true, "device_count": {"CPU": 1}}, "model": {"dim": 84, "free_log_std": false, "fcnet_hiddens": [128, 64, 32], "custom_model": null, "fcnet_activation": "tanh", "lstm_use_prev_action_reward": false, "grayscale": false, "channel_major": false, "squash_to_range": false, "framestack": true, "use_lstm": false, "conv_activation": "relu", "conv_filters": null, "custom_preprocessor": null, "lstm_cell_size": 256, "zero_mean": true, "custom_options": {}, "max_seq_len": 20}, "lambda": 0.97, "num_gpus_per_worker": 0, "kl_coeff": 0.2, "horizon": 1500, "preprocessor_pref": "deepmind", "env_config": {"run": "PPO", "flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.1,\n            \"eta3\": 0.1,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 7.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 0\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 700,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}"}, "clip_param": 0.3, "observation_filter": "MeanStdFilter", "env": "MultiWaveAttenuationMergePOEnvBufferedObs-v0density_[eta1, eta2, eta3]:[1.0, 0.1, 0.0]_t_min:7.0", "gamma": 0.99, "lr": 0.0005, "monitor": false, "output_compress_columns": ["obs", "new_obs"], "batch_mode": "truncate_episodes", "num_gpus": 0, "num_workers": 30, "output": null, "collect_metrics_timeout": 180, "num_sgd_iter": 10, "sample_batch_size": 750, "output_max_file_size": 67108864, "straggler_mitigation": false, "train_batch_size": 90000}, "num_metric_batches_dropped": 0, "hostname": "flow-main", "episodes_total": 1625, "episode_reward_min": 212.1371461143603, "time_total_s": 1905.2421779632568, "policy_reward_mean": {}, "timesteps_this_iter": 132365, "custom_metrics": {"cost1_mean": 318.0565632835291, "system_level_velocity_mean": 11.179412010110742, "cost2_max": -46.41494837613543, "outflow_rate_max": 1057.6315698784936, "outflow_rate_mean": 928.3851885108036, "cost1_max": 378.507484545401, "outflow_rate_min": 415.72565388184427, "system_level_velocity_max": 13.17422483684844, "system_level_velocity_min": 9.607915378402478, "cost2_min": -116.6145675033762, "cost1_min": 109.30493469989308, "cost2_mean": -95.8376005373449}, "episode_reward_max": 903.6149297622665}
{"node_ip": "10.138.0.2", "episode_reward_mean": 739.8842985502622, "time_this_iter_s": 69.85359954833984, "done": false, "episode_len_mean": 745.16, "timestamp": 1557389537, "training_iteration": 29, "experiment_id": "58dd2f5595014063b753971755894587", "time_since_restore": 1975.0957775115967, "timesteps_total": 4005633, "pid": 25334, "episodes_this_iter": 61, "date": "2019-05-09_08-12-17", "info": {"sample_time_ms": 39224.368, "grad_time_ms": 29565.918, "num_steps_sampled": 4005633, "update_time_ms": 8.254, "default": {"vf_explained_var": 0.92242431640625, "cur_kl_coeff": 0.22499996423721313, "vf_loss": 7.69002628326416, "policy_loss": -0.015514046885073185, "cur_lr": 0.0005000000237487257, "kl": 0.01940775103867054, "total_loss": 7.6788787841796875, "entropy": 1.323563814163208}, "load_time_ms": 60.936, "num_steps_trained": 4005633}, "timesteps_since_restore": 4005633, "iterations_since_restore": 29, "config": {"local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "compress_observations": false, "clip_rewards": null, "sample_async": false, "custom_resources_per_worker": {}, "use_gae": true, "vf_share_layers": false, "vf_loss_coeff": 1.0, "optimizer": {}, "simple_optimizer": false, "num_envs_per_worker": 1, "vf_clip_param": 1000000.0, "synchronize_filters": true, "num_cpus_per_worker": 1, "multiagent": {"policy_graphs": {}, "policies_to_train": null, "policy_mapping_fn": null}, "kl_target": 0.01, "clip_actions": false, "input": "sampler", "input_evaluation": null, "entropy_coeff": 0.0, "lr_schedule": null, "sgd_minibatch_size": 128, "callbacks": {"on_sample_end": null, "on_train_result": null, "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7f498a922f98>", "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7f498a922b00>", "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7f498a9227b8>"}, "num_cpus_for_driver": 1, "log_level": "INFO", "tf_session_args": {"log_device_placement": false, "gpu_options": {"allow_growth": true}, "intra_op_parallelism_threads": 2, "inter_op_parallelism_threads": 2, "allow_soft_placement": true, "device_count": {"CPU": 1}}, "model": {"dim": 84, "free_log_std": false, "fcnet_hiddens": [128, 64, 32], "custom_model": null, "fcnet_activation": "tanh", "lstm_use_prev_action_reward": false, "grayscale": false, "channel_major": false, "squash_to_range": false, "framestack": true, "use_lstm": false, "conv_activation": "relu", "conv_filters": null, "custom_preprocessor": null, "lstm_cell_size": 256, "zero_mean": true, "custom_options": {}, "max_seq_len": 20}, "lambda": 0.97, "num_gpus_per_worker": 0, "kl_coeff": 0.2, "horizon": 1500, "preprocessor_pref": "deepmind", "env_config": {"run": "PPO", "flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.1,\n            \"eta3\": 0.1,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 7.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 0\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 700,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}"}, "clip_param": 0.3, "observation_filter": "MeanStdFilter", "env": "MultiWaveAttenuationMergePOEnvBufferedObs-v0density_[eta1, eta2, eta3]:[1.0, 0.1, 0.0]_t_min:7.0", "gamma": 0.99, "lr": 0.0005, "monitor": false, "output_compress_columns": ["obs", "new_obs"], "batch_mode": "truncate_episodes", "num_gpus": 0, "num_workers": 30, "output": null, "collect_metrics_timeout": 180, "num_sgd_iter": 10, "sample_batch_size": 750, "output_max_file_size": 67108864, "straggler_mitigation": false, "train_batch_size": 90000}, "num_metric_batches_dropped": 0, "hostname": "flow-main", "episodes_total": 1686, "episode_reward_min": 212.1371461143603, "time_total_s": 1975.0957775115967, "policy_reward_mean": {}, "timesteps_this_iter": 131255, "custom_metrics": {"cost1_mean": 317.3331323902676, "system_level_velocity_mean": 11.150081930457326, "cost2_max": -46.41494837613543, "outflow_rate_max": 1057.6315698784936, "outflow_rate_mean": 926.1020616543069, "cost1_max": 367.6933740348843, "outflow_rate_min": 415.72565388184427, "system_level_velocity_max": 12.749666536877788, "system_level_velocity_min": 9.653816093021264, "cost2_min": -116.6145675033762, "cost1_min": 109.30493469989308, "cost2_mean": -95.53975461219159}, "episode_reward_max": 845.325352698467}
{"node_ip": "10.138.0.2", "episode_reward_mean": 716.2877272744398, "time_this_iter_s": 69.99910235404968, "done": false, "episode_len_mean": 730.08, "timestamp": 1557389607, "training_iteration": 30, "experiment_id": "58dd2f5595014063b753971755894587", "time_since_restore": 2045.0948798656464, "timesteps_total": 4137312, "pid": 25334, "episodes_this_iter": 66, "date": "2019-05-09_08-13-27", "info": {"sample_time_ms": 39152.396, "grad_time_ms": 29635.024, "num_steps_sampled": 4137312, "update_time_ms": 8.137, "default": {"vf_explained_var": 0.9243685007095337, "cur_kl_coeff": 0.22499997913837433, "vf_loss": 7.954831123352051, "policy_loss": -0.014615966007113457, "cur_lr": 0.0005000000237487257, "kl": 0.018942179158329964, "total_loss": 7.944477081298828, "entropy": 1.324835181236267}, "load_time_ms": 60.722, "num_steps_trained": 4137312}, "timesteps_since_restore": 4137312, "iterations_since_restore": 30, "config": {"local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "compress_observations": false, "clip_rewards": null, "sample_async": false, "custom_resources_per_worker": {}, "use_gae": true, "vf_share_layers": false, "vf_loss_coeff": 1.0, "optimizer": {}, "simple_optimizer": false, "num_envs_per_worker": 1, "vf_clip_param": 1000000.0, "synchronize_filters": true, "num_cpus_per_worker": 1, "multiagent": {"policy_graphs": {}, "policies_to_train": null, "policy_mapping_fn": null}, "kl_target": 0.01, "clip_actions": false, "input": "sampler", "input_evaluation": null, "entropy_coeff": 0.0, "lr_schedule": null, "sgd_minibatch_size": 128, "callbacks": {"on_sample_end": null, "on_train_result": null, "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7f49896bbf98>", "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7f49896bb278>", "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7f49896bbef0>"}, "num_cpus_for_driver": 1, "log_level": "INFO", "tf_session_args": {"log_device_placement": false, "gpu_options": {"allow_growth": true}, "intra_op_parallelism_threads": 2, "inter_op_parallelism_threads": 2, "allow_soft_placement": true, "device_count": {"CPU": 1}}, "model": {"dim": 84, "free_log_std": false, "fcnet_hiddens": [128, 64, 32], "custom_model": null, "fcnet_activation": "tanh", "lstm_use_prev_action_reward": false, "grayscale": false, "channel_major": false, "squash_to_range": false, "framestack": true, "use_lstm": false, "conv_activation": "relu", "conv_filters": null, "custom_preprocessor": null, "lstm_cell_size": 256, "zero_mean": true, "custom_options": {}, "max_seq_len": 20}, "lambda": 0.97, "num_gpus_per_worker": 0, "kl_coeff": 0.2, "horizon": 1500, "preprocessor_pref": "deepmind", "env_config": {"run": "PPO", "flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.1,\n            \"eta3\": 0.1,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 7.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 0\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 700,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}"}, "clip_param": 0.3, "observation_filter": "MeanStdFilter", "env": "MultiWaveAttenuationMergePOEnvBufferedObs-v0density_[eta1, eta2, eta3]:[1.0, 0.1, 0.0]_t_min:7.0", "gamma": 0.99, "lr": 0.0005, "monitor": false, "output_compress_columns": ["obs", "new_obs"], "batch_mode": "truncate_episodes", "num_gpus": 0, "num_workers": 30, "output": null, "collect_metrics_timeout": 180, "num_sgd_iter": 10, "sample_batch_size": 750, "output_max_file_size": 67108864, "straggler_mitigation": false, "train_batch_size": 90000}, "num_metric_batches_dropped": 0, "hostname": "flow-main", "episodes_total": 1752, "episode_reward_min": 203.24384821460816, "time_total_s": 2045.0948798656464, "policy_reward_mean": {}, "timesteps_this_iter": 131679, "custom_metrics": {"cost1_mean": 309.3223634524665, "system_level_velocity_mean": 11.137798397734402, "cost2_max": -44.52349362735657, "outflow_rate_max": 1046.4260880663558, "outflow_rate_mean": 907.8644334410556, "cost1_max": 363.4305122544415, "outflow_rate_min": 398.96792486414193, "system_level_velocity_max": 12.664324236417736, "system_level_velocity_min": 9.802860898829763, "cost2_min": -117.95635207187348, "cost1_min": 104.31904245176497, "cost2_mean": -94.97452750264043}, "episode_reward_max": 835.9932385587759}
{"node_ip": "10.138.0.2", "episode_reward_mean": 729.7765311645613, "time_this_iter_s": 69.4989914894104, "done": false, "episode_len_mean": 735.37, "timestamp": 1557389676, "training_iteration": 31, "experiment_id": "58dd2f5595014063b753971755894587", "time_since_restore": 2114.5938713550568, "timesteps_total": 4267550, "pid": 25334, "episodes_this_iter": 61, "date": "2019-05-09_08-14-36", "info": {"sample_time_ms": 39817.38, "grad_time_ms": 29707.264, "num_steps_sampled": 4267550, "update_time_ms": 8.136, "default": {"vf_explained_var": 0.9365383386611938, "cur_kl_coeff": 0.22499996423721313, "vf_loss": 6.695286273956299, "policy_loss": -0.016367346048355103, "cur_lr": 0.0005000000237487257, "kl": 0.020137153565883636, "total_loss": 6.683449745178223, "entropy": 1.328412413597107}, "load_time_ms": 60.662, "num_steps_trained": 4267550}, "timesteps_since_restore": 4267550, "iterations_since_restore": 31, "config": {"local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "compress_observations": false, "clip_rewards": null, "sample_async": false, "custom_resources_per_worker": {}, "use_gae": true, "vf_share_layers": false, "vf_loss_coeff": 1.0, "optimizer": {}, "simple_optimizer": false, "num_envs_per_worker": 1, "vf_clip_param": 1000000.0, "synchronize_filters": true, "num_cpus_per_worker": 1, "multiagent": {"policy_graphs": {}, "policies_to_train": null, "policy_mapping_fn": null}, "kl_target": 0.01, "clip_actions": false, "input": "sampler", "input_evaluation": null, "entropy_coeff": 0.0, "lr_schedule": null, "sgd_minibatch_size": 128, "callbacks": {"on_sample_end": null, "on_train_result": null, "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7f498a9305c0>", "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7f498a922ef0>", "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7f49896b1a90>"}, "num_cpus_for_driver": 1, "log_level": "INFO", "tf_session_args": {"log_device_placement": false, "gpu_options": {"allow_growth": true}, "intra_op_parallelism_threads": 2, "inter_op_parallelism_threads": 2, "allow_soft_placement": true, "device_count": {"CPU": 1}}, "model": {"dim": 84, "free_log_std": false, "fcnet_hiddens": [128, 64, 32], "custom_model": null, "fcnet_activation": "tanh", "lstm_use_prev_action_reward": false, "grayscale": false, "channel_major": false, "squash_to_range": false, "framestack": true, "use_lstm": false, "conv_activation": "relu", "conv_filters": null, "custom_preprocessor": null, "lstm_cell_size": 256, "zero_mean": true, "custom_options": {}, "max_seq_len": 20}, "lambda": 0.97, "num_gpus_per_worker": 0, "kl_coeff": 0.2, "horizon": 1500, "preprocessor_pref": "deepmind", "env_config": {"run": "PPO", "flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.1,\n            \"eta3\": 0.1,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 7.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 0\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 700,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}"}, "clip_param": 0.3, "observation_filter": "MeanStdFilter", "env": "MultiWaveAttenuationMergePOEnvBufferedObs-v0density_[eta1, eta2, eta3]:[1.0, 0.1, 0.0]_t_min:7.0", "gamma": 0.99, "lr": 0.0005, "monitor": false, "output_compress_columns": ["obs", "new_obs"], "batch_mode": "truncate_episodes", "num_gpus": 0, "num_workers": 30, "output": null, "collect_metrics_timeout": 180, "num_sgd_iter": 10, "sample_batch_size": 750, "output_max_file_size": 67108864, "straggler_mitigation": false, "train_batch_size": 90000}, "num_metric_batches_dropped": 0, "hostname": "flow-main", "episodes_total": 1813, "episode_reward_min": 206.9173237379529, "time_total_s": 2114.5938713550568, "policy_reward_mean": {}, "timesteps_this_iter": 130238, "custom_metrics": {"cost1_mean": 318.0773125848925, "system_level_velocity_mean": 11.3561075532502, "cost2_max": -44.52349362735657, "outflow_rate_max": 1056.5951673291302, "outflow_rate_mean": 931.6469034611431, "cost1_max": 367.91346091269884, "outflow_rate_min": 405.2988956313818, "system_level_velocity_max": 12.811634328494707, "system_level_velocity_min": 9.619309304501465, "cost2_min": -121.86348837150966, "cost1_min": 107.97198848899708, "cost2_mean": -97.89896537020937}, "episode_reward_max": 856.6501375200987}
{"node_ip": "10.138.0.2", "episode_reward_mean": 757.9123709291531, "time_this_iter_s": 68.67046904563904, "done": false, "episode_len_mean": 751.0, "timestamp": 1557389745, "training_iteration": 32, "experiment_id": "58dd2f5595014063b753971755894587", "time_since_restore": 2183.264340400696, "timesteps_total": 4398078, "pid": 25334, "episodes_this_iter": 61, "date": "2019-05-09_08-15-45", "info": {"sample_time_ms": 39606.715, "grad_time_ms": 29864.701, "num_steps_sampled": 4398078, "update_time_ms": 8.104, "default": {"vf_explained_var": 0.9319664835929871, "cur_kl_coeff": 0.33750006556510925, "vf_loss": 7.4344305992126465, "policy_loss": -0.01495231781154871, "cur_lr": 0.0005000000237487257, "kl": 0.015682434663176537, "total_loss": 7.424771308898926, "entropy": 1.3347426652908325}, "load_time_ms": 61.67, "num_steps_trained": 4398078}, "timesteps_since_restore": 4398078, "iterations_since_restore": 32, "config": {"local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "compress_observations": false, "clip_rewards": null, "sample_async": false, "custom_resources_per_worker": {}, "use_gae": true, "vf_share_layers": false, "vf_loss_coeff": 1.0, "optimizer": {}, "simple_optimizer": false, "num_envs_per_worker": 1, "vf_clip_param": 1000000.0, "synchronize_filters": true, "num_cpus_per_worker": 1, "multiagent": {"policy_graphs": {}, "policies_to_train": null, "policy_mapping_fn": null}, "kl_target": 0.01, "clip_actions": false, "input": "sampler", "input_evaluation": null, "entropy_coeff": 0.0, "lr_schedule": null, "sgd_minibatch_size": 128, "callbacks": {"on_sample_end": null, "on_train_result": null, "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7f49896b1da0>", "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7f49896b1c88>", "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7f49896b1438>"}, "num_cpus_for_driver": 1, "log_level": "INFO", "tf_session_args": {"log_device_placement": false, "gpu_options": {"allow_growth": true}, "intra_op_parallelism_threads": 2, "inter_op_parallelism_threads": 2, "allow_soft_placement": true, "device_count": {"CPU": 1}}, "model": {"dim": 84, "free_log_std": false, "fcnet_hiddens": [128, 64, 32], "custom_model": null, "fcnet_activation": "tanh", "lstm_use_prev_action_reward": false, "grayscale": false, "channel_major": false, "squash_to_range": false, "framestack": true, "use_lstm": false, "conv_activation": "relu", "conv_filters": null, "custom_preprocessor": null, "lstm_cell_size": 256, "zero_mean": true, "custom_options": {}, "max_seq_len": 20}, "lambda": 0.97, "num_gpus_per_worker": 0, "kl_coeff": 0.2, "horizon": 1500, "preprocessor_pref": "deepmind", "env_config": {"run": "PPO", "flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.1,\n            \"eta3\": 0.1,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 7.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 0\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 700,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}"}, "clip_param": 0.3, "observation_filter": "MeanStdFilter", "env": "MultiWaveAttenuationMergePOEnvBufferedObs-v0density_[eta1, eta2, eta3]:[1.0, 0.1, 0.0]_t_min:7.0", "gamma": 0.99, "lr": 0.0005, "monitor": false, "output_compress_columns": ["obs", "new_obs"], "batch_mode": "truncate_episodes", "num_gpus": 0, "num_workers": 30, "output": null, "collect_metrics_timeout": 180, "num_sgd_iter": 10, "sample_batch_size": 750, "output_max_file_size": 67108864, "straggler_mitigation": false, "train_batch_size": 90000}, "num_metric_batches_dropped": 0, "hostname": "flow-main", "episodes_total": 1874, "episode_reward_min": 633.9148475949269, "time_total_s": 2183.264340400696, "policy_reward_mean": {}, "timesteps_this_iter": 130528, "custom_metrics": {"cost1_mean": 331.8488810085086, "system_level_velocity_mean": 11.56169994479456, "cost2_max": -82.54282902632238, "outflow_rate_max": 1056.5951673291302, "outflow_rate_mean": 964.908429929946, "cost1_max": 367.91346091269884, "outflow_rate_min": 824.4703332347318, "system_level_velocity_max": 12.6956287790519, "system_level_velocity_min": 9.619309304501465, "cost2_min": -121.86348837150966, "cost1_min": 275.2745378176767, "cost2_mean": -102.89516201271289}, "episode_reward_max": 856.6501375200987}
{"node_ip": "10.138.0.2", "episode_reward_mean": 752.0610630311709, "time_this_iter_s": 67.2990050315857, "done": false, "episode_len_mean": 751.0, "timestamp": 1557389812, "training_iteration": 33, "experiment_id": "58dd2f5595014063b753971755894587", "time_since_restore": 2250.5633454322815, "timesteps_total": 4528371, "pid": 25334, "episodes_this_iter": 61, "date": "2019-05-09_08-16-52", "info": {"sample_time_ms": 39614.062, "grad_time_ms": 29702.761, "num_steps_sampled": 4528371, "update_time_ms": 8.037, "default": {"vf_explained_var": 0.9362607002258301, "cur_kl_coeff": 0.33750006556510925, "vf_loss": 7.253098964691162, "policy_loss": -0.01599094830453396, "cur_lr": 0.0005000000237487257, "kl": 0.01614208333194256, "total_loss": 7.242556095123291, "entropy": 1.325495958328247}, "load_time_ms": 61.241, "num_steps_trained": 4528371}, "timesteps_since_restore": 4528371, "iterations_since_restore": 33, "config": {"local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "compress_observations": false, "clip_rewards": null, "sample_async": false, "custom_resources_per_worker": {}, "use_gae": true, "vf_share_layers": false, "vf_loss_coeff": 1.0, "optimizer": {}, "simple_optimizer": false, "num_envs_per_worker": 1, "vf_clip_param": 1000000.0, "synchronize_filters": true, "num_cpus_per_worker": 1, "multiagent": {"policy_graphs": {}, "policies_to_train": null, "policy_mapping_fn": null}, "kl_target": 0.01, "clip_actions": false, "input": "sampler", "input_evaluation": null, "entropy_coeff": 0.0, "lr_schedule": null, "sgd_minibatch_size": 128, "callbacks": {"on_sample_end": null, "on_train_result": null, "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7f49896bbc88>", "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7f49896bb470>", "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7f49896bbf28>"}, "num_cpus_for_driver": 1, "log_level": "INFO", "tf_session_args": {"log_device_placement": false, "gpu_options": {"allow_growth": true}, "intra_op_parallelism_threads": 2, "inter_op_parallelism_threads": 2, "allow_soft_placement": true, "device_count": {"CPU": 1}}, "model": {"dim": 84, "free_log_std": false, "fcnet_hiddens": [128, 64, 32], "custom_model": null, "fcnet_activation": "tanh", "lstm_use_prev_action_reward": false, "grayscale": false, "channel_major": false, "squash_to_range": false, "framestack": true, "use_lstm": false, "conv_activation": "relu", "conv_filters": null, "custom_preprocessor": null, "lstm_cell_size": 256, "zero_mean": true, "custom_options": {}, "max_seq_len": 20}, "lambda": 0.97, "num_gpus_per_worker": 0, "kl_coeff": 0.2, "horizon": 1500, "preprocessor_pref": "deepmind", "env_config": {"run": "PPO", "flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.1,\n            \"eta3\": 0.1,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 7.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 0\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 700,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}"}, "clip_param": 0.3, "observation_filter": "MeanStdFilter", "env": "MultiWaveAttenuationMergePOEnvBufferedObs-v0density_[eta1, eta2, eta3]:[1.0, 0.1, 0.0]_t_min:7.0", "gamma": 0.99, "lr": 0.0005, "monitor": false, "output_compress_columns": ["obs", "new_obs"], "batch_mode": "truncate_episodes", "num_gpus": 0, "num_workers": 30, "output": null, "collect_metrics_timeout": 180, "num_sgd_iter": 10, "sample_batch_size": 750, "output_max_file_size": 67108864, "straggler_mitigation": false, "train_batch_size": 90000}, "num_metric_batches_dropped": 0, "hostname": "flow-main", "episodes_total": 1935, "episode_reward_min": 605.5326046825796, "time_total_s": 2250.5633454322815, "policy_reward_mean": {}, "timesteps_this_iter": 130293, "custom_metrics": {"cost1_mean": 330.8724103970931, "system_level_velocity_mean": 11.537975474915163, "cost2_max": -87.48197292709379, "outflow_rate_max": 1100.1740381922677, "outflow_rate_mean": 962.165244249784, "cost1_max": 387.0766198541535, "outflow_rate_min": 848.660825513322, "system_level_velocity_max": 13.373507089334908, "system_level_velocity_min": 10.052524448562156, "cost2_min": -124.30997496006565, "cost1_min": 285.86269864094083, "cost2_mean": -103.54601887139783}, "episode_reward_max": 890.620719424229}
{"node_ip": "10.138.0.2", "episode_reward_mean": 745.9874285917464, "time_this_iter_s": 68.50567269325256, "done": false, "episode_len_mean": 751.0, "timestamp": 1557389881, "training_iteration": 34, "experiment_id": "58dd2f5595014063b753971755894587", "time_since_restore": 2319.069018125534, "timesteps_total": 4660204, "pid": 25334, "episodes_this_iter": 61, "date": "2019-05-09_08-18-01", "info": {"sample_time_ms": 39430.51, "grad_time_ms": 29588.41, "num_steps_sampled": 4660204, "update_time_ms": 8.074, "default": {"vf_explained_var": 0.9339015483856201, "cur_kl_coeff": 0.33750003576278687, "vf_loss": 7.504174709320068, "policy_loss": -0.015113575384020805, "cur_lr": 0.0005000000237487257, "kl": 0.016209125518798828, "total_loss": 7.494532108306885, "entropy": 1.3466238975524902}, "load_time_ms": 56.729, "num_steps_trained": 4660204}, "timesteps_since_restore": 4660204, "iterations_since_restore": 34, "config": {"local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "compress_observations": false, "clip_rewards": null, "sample_async": false, "custom_resources_per_worker": {}, "use_gae": true, "vf_share_layers": false, "vf_loss_coeff": 1.0, "optimizer": {}, "simple_optimizer": false, "num_envs_per_worker": 1, "vf_clip_param": 1000000.0, "synchronize_filters": true, "num_cpus_per_worker": 1, "multiagent": {"policy_graphs": {}, "policies_to_train": null, "policy_mapping_fn": null}, "kl_target": 0.01, "clip_actions": false, "input": "sampler", "input_evaluation": null, "entropy_coeff": 0.0, "lr_schedule": null, "sgd_minibatch_size": 128, "callbacks": {"on_sample_end": null, "on_train_result": null, "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7f49896bf518>", "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7f49896bf9e8>", "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7f49896bfd30>"}, "num_cpus_for_driver": 1, "log_level": "INFO", "tf_session_args": {"log_device_placement": false, "gpu_options": {"allow_growth": true}, "intra_op_parallelism_threads": 2, "inter_op_parallelism_threads": 2, "allow_soft_placement": true, "device_count": {"CPU": 1}}, "model": {"dim": 84, "free_log_std": false, "fcnet_hiddens": [128, 64, 32], "custom_model": null, "fcnet_activation": "tanh", "lstm_use_prev_action_reward": false, "grayscale": false, "channel_major": false, "squash_to_range": false, "framestack": true, "use_lstm": false, "conv_activation": "relu", "conv_filters": null, "custom_preprocessor": null, "lstm_cell_size": 256, "zero_mean": true, "custom_options": {}, "max_seq_len": 20}, "lambda": 0.97, "num_gpus_per_worker": 0, "kl_coeff": 0.2, "horizon": 1500, "preprocessor_pref": "deepmind", "env_config": {"run": "PPO", "flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.1,\n            \"eta3\": 0.1,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 7.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 0\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 700,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}"}, "clip_param": 0.3, "observation_filter": "MeanStdFilter", "env": "MultiWaveAttenuationMergePOEnvBufferedObs-v0density_[eta1, eta2, eta3]:[1.0, 0.1, 0.0]_t_min:7.0", "gamma": 0.99, "lr": 0.0005, "monitor": false, "output_compress_columns": ["obs", "new_obs"], "batch_mode": "truncate_episodes", "num_gpus": 0, "num_workers": 30, "output": null, "collect_metrics_timeout": 180, "num_sgd_iter": 10, "sample_batch_size": 750, "output_max_file_size": 67108864, "straggler_mitigation": false, "train_batch_size": 90000}, "num_metric_batches_dropped": 0, "hostname": "flow-main", "episodes_total": 1996, "episode_reward_min": 605.5326046825796, "time_total_s": 2319.069018125534, "policy_reward_mean": {}, "timesteps_this_iter": 131833, "custom_metrics": {"cost1_mean": 328.2023887558748, "system_level_velocity_mean": 11.448139357522713, "cost2_max": -84.21788631701703, "outflow_rate_max": 1100.1740381922677, "outflow_rate_mean": 956.0562702794637, "cost1_max": 387.0766198541535, "outflow_rate_min": 832.1975779133403, "system_level_velocity_max": 13.373507089334908, "system_level_velocity_min": 9.980289404056327, "cost2_min": -124.30997496006565, "cost1_min": 284.6600620139112, "cost2_mean": -102.64618095485903}, "episode_reward_max": 890.620719424229}
{"node_ip": "10.138.0.2", "episode_reward_mean": 735.9575799479383, "time_this_iter_s": 70.61997175216675, "done": false, "episode_len_mean": 740.58, "timestamp": 1557389952, "training_iteration": 35, "experiment_id": "58dd2f5595014063b753971755894587", "time_since_restore": 2389.688989877701, "timesteps_total": 4791586, "pid": 25334, "episodes_this_iter": 64, "date": "2019-05-09_08-19-12", "info": {"sample_time_ms": 39273.864, "grad_time_ms": 29955.136, "num_steps_sampled": 4791586, "update_time_ms": 7.931, "default": {"vf_explained_var": 0.9289647340774536, "cur_kl_coeff": 0.33750009536743164, "vf_loss": 8.478422164916992, "policy_loss": -0.015428873710334301, "cur_lr": 0.0005000000237487257, "kl": 0.016053389757871628, "total_loss": 8.468411445617676, "entropy": 1.3358668088912964}, "load_time_ms": 58.891, "num_steps_trained": 4791586}, "timesteps_since_restore": 4791586, "iterations_since_restore": 35, "config": {"local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "compress_observations": false, "clip_rewards": null, "sample_async": false, "custom_resources_per_worker": {}, "use_gae": true, "vf_share_layers": false, "vf_loss_coeff": 1.0, "optimizer": {}, "simple_optimizer": false, "num_envs_per_worker": 1, "vf_clip_param": 1000000.0, "synchronize_filters": true, "num_cpus_per_worker": 1, "multiagent": {"policy_graphs": {}, "policies_to_train": null, "policy_mapping_fn": null}, "kl_target": 0.01, "clip_actions": false, "input": "sampler", "input_evaluation": null, "entropy_coeff": 0.0, "lr_schedule": null, "sgd_minibatch_size": 128, "callbacks": {"on_sample_end": null, "on_train_result": null, "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7f49896bfb38>", "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7f498a922a20>", "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7f498a922c18>"}, "num_cpus_for_driver": 1, "log_level": "INFO", "tf_session_args": {"log_device_placement": false, "gpu_options": {"allow_growth": true}, "intra_op_parallelism_threads": 2, "inter_op_parallelism_threads": 2, "allow_soft_placement": true, "device_count": {"CPU": 1}}, "model": {"dim": 84, "free_log_std": false, "fcnet_hiddens": [128, 64, 32], "custom_model": null, "fcnet_activation": "tanh", "lstm_use_prev_action_reward": false, "grayscale": false, "channel_major": false, "squash_to_range": false, "framestack": true, "use_lstm": false, "conv_activation": "relu", "conv_filters": null, "custom_preprocessor": null, "lstm_cell_size": 256, "zero_mean": true, "custom_options": {}, "max_seq_len": 20}, "lambda": 0.97, "num_gpus_per_worker": 0, "kl_coeff": 0.2, "horizon": 1500, "preprocessor_pref": "deepmind", "env_config": {"run": "PPO", "flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.1,\n            \"eta3\": 0.1,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 7.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 0\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 700,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}"}, "clip_param": 0.3, "observation_filter": "MeanStdFilter", "env": "MultiWaveAttenuationMergePOEnvBufferedObs-v0density_[eta1, eta2, eta3]:[1.0, 0.1, 0.0]_t_min:7.0", "gamma": 0.99, "lr": 0.0005, "monitor": false, "output_compress_columns": ["obs", "new_obs"], "batch_mode": "truncate_episodes", "num_gpus": 0, "num_workers": 30, "output": null, "collect_metrics_timeout": 180, "num_sgd_iter": 10, "sample_batch_size": 750, "output_max_file_size": 67108864, "straggler_mitigation": false, "train_batch_size": 90000}, "num_metric_batches_dropped": 0, "hostname": "flow-main", "episodes_total": 2060, "episode_reward_min": 207.4390993012194, "time_total_s": 2389.688989877701, "policy_reward_mean": {}, "timesteps_this_iter": 131382, "custom_metrics": {"cost1_mean": 323.4586499312718, "system_level_velocity_mean": 11.465199633684353, "cost2_max": -51.167428490377134, "outflow_rate_max": 1106.8723738360563, "outflow_rate_mean": 943.9779452219246, "cost1_max": 392.2285581702899, "outflow_rate_min": 408.9380697349284, "system_level_velocity_max": 13.54896010134812, "system_level_velocity_min": 9.980289404056327, "cost2_min": -122.96410128424115, "cost1_min": 110.48895234574384, "cost2_mean": -100.69359507538964}, "episode_reward_max": 892.8496104784412}
{"node_ip": "10.138.0.2", "episode_reward_mean": 748.879342813484, "time_this_iter_s": 69.13700771331787, "done": false, "episode_len_mean": 740.6, "timestamp": 1557390021, "training_iteration": 36, "experiment_id": "58dd2f5595014063b753971755894587", "time_since_restore": 2458.8259975910187, "timesteps_total": 4922308, "pid": 25334, "episodes_this_iter": 63, "date": "2019-05-09_08-20-21", "info": {"sample_time_ms": 39138.175, "grad_time_ms": 29851.082, "num_steps_sampled": 4922308, "update_time_ms": 8.049, "default": {"vf_explained_var": 0.9359669089317322, "cur_kl_coeff": 0.33750006556510925, "vf_loss": 7.699801445007324, "policy_loss": -0.015971751883625984, "cur_lr": 0.0005000000237487257, "kl": 0.016701042652130127, "total_loss": 7.6894659996032715, "entropy": 1.3258538246154785}, "load_time_ms": 57.779, "num_steps_trained": 4922308}, "timesteps_since_restore": 4922308, "iterations_since_restore": 36, "config": {"local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "compress_observations": false, "clip_rewards": null, "sample_async": false, "custom_resources_per_worker": {}, "use_gae": true, "vf_share_layers": false, "vf_loss_coeff": 1.0, "optimizer": {}, "simple_optimizer": false, "num_envs_per_worker": 1, "vf_clip_param": 1000000.0, "synchronize_filters": true, "num_cpus_per_worker": 1, "multiagent": {"policy_graphs": {}, "policies_to_train": null, "policy_mapping_fn": null}, "kl_target": 0.01, "clip_actions": false, "input": "sampler", "input_evaluation": null, "entropy_coeff": 0.0, "lr_schedule": null, "sgd_minibatch_size": 128, "callbacks": {"on_sample_end": null, "on_train_result": null, "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7f49896bb390>", "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7f49896bbdd8>", "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7f49896bbeb8>"}, "num_cpus_for_driver": 1, "log_level": "INFO", "tf_session_args": {"log_device_placement": false, "gpu_options": {"allow_growth": true}, "intra_op_parallelism_threads": 2, "inter_op_parallelism_threads": 2, "allow_soft_placement": true, "device_count": {"CPU": 1}}, "model": {"dim": 84, "free_log_std": false, "fcnet_hiddens": [128, 64, 32], "custom_model": null, "fcnet_activation": "tanh", "lstm_use_prev_action_reward": false, "grayscale": false, "channel_major": false, "squash_to_range": false, "framestack": true, "use_lstm": false, "conv_activation": "relu", "conv_filters": null, "custom_preprocessor": null, "lstm_cell_size": 256, "zero_mean": true, "custom_options": {}, "max_seq_len": 20}, "lambda": 0.97, "num_gpus_per_worker": 0, "kl_coeff": 0.2, "horizon": 1500, "preprocessor_pref": "deepmind", "env_config": {"run": "PPO", "flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.1,\n            \"eta3\": 0.1,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 7.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 0\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 700,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}"}, "clip_param": 0.3, "observation_filter": "MeanStdFilter", "env": "MultiWaveAttenuationMergePOEnvBufferedObs-v0density_[eta1, eta2, eta3]:[1.0, 0.1, 0.0]_t_min:7.0", "gamma": 0.99, "lr": 0.0005, "monitor": false, "output_compress_columns": ["obs", "new_obs"], "batch_mode": "truncate_episodes", "num_gpus": 0, "num_workers": 30, "output": null, "collect_metrics_timeout": 180, "num_sgd_iter": 10, "sample_batch_size": 750, "output_max_file_size": 67108864, "straggler_mitigation": false, "train_batch_size": 90000}, "num_metric_batches_dropped": 0, "hostname": "flow-main", "episodes_total": 2123, "episode_reward_min": 207.4390993012194, "time_total_s": 2458.8259975910187, "policy_reward_mean": {}, "timesteps_this_iter": 130722, "custom_metrics": {"cost1_mean": 330.8344712055064, "system_level_velocity_mean": 11.712072382489394, "cost2_max": -51.167428490377134, "outflow_rate_max": 1107.7655988612055, "outflow_rate_mean": 962.9417024205778, "cost1_max": 392.2285581702899, "outflow_rate_min": 423.8964426682847, "system_level_velocity_max": 13.57875030253145, "system_level_velocity_min": 9.882703379946028, "cost2_min": -122.96410128424115, "cost1_min": 111.8449527911838, "cost2_mean": -101.92235346846572}, "episode_reward_max": 892.8496104784412}
{"node_ip": "10.138.0.2", "episode_reward_mean": 750.1047941189978, "time_this_iter_s": 70.38890051841736, "done": false, "episode_len_mean": 741.52, "timestamp": 1557390091, "training_iteration": 37, "experiment_id": "58dd2f5595014063b753971755894587", "time_since_restore": 2529.214898109436, "timesteps_total": 5053115, "pid": 25334, "episodes_this_iter": 64, "date": "2019-05-09_08-21-31", "info": {"sample_time_ms": 39118.23, "grad_time_ms": 29991.036, "num_steps_sampled": 5053115, "update_time_ms": 7.965, "default": {"vf_explained_var": 0.9351591467857361, "cur_kl_coeff": 0.33750006556510925, "vf_loss": 7.917060852050781, "policy_loss": -0.015609185211360455, "cur_lr": 0.0005000000237487257, "kl": 0.01615430973470211, "total_loss": 7.906903266906738, "entropy": 1.3297038078308105}, "load_time_ms": 56.032, "num_steps_trained": 5053115}, "timesteps_since_restore": 5053115, "iterations_since_restore": 37, "config": {"local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "compress_observations": false, "clip_rewards": null, "sample_async": false, "custom_resources_per_worker": {}, "use_gae": true, "vf_share_layers": false, "vf_loss_coeff": 1.0, "optimizer": {}, "simple_optimizer": false, "num_envs_per_worker": 1, "vf_clip_param": 1000000.0, "synchronize_filters": true, "num_cpus_per_worker": 1, "multiagent": {"policy_graphs": {}, "policies_to_train": null, "policy_mapping_fn": null}, "kl_target": 0.01, "clip_actions": false, "input": "sampler", "input_evaluation": null, "entropy_coeff": 0.0, "lr_schedule": null, "sgd_minibatch_size": 128, "callbacks": {"on_sample_end": null, "on_train_result": null, "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7f49896bb5c0>", "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7f49896bbfd0>", "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7f49896bba90>"}, "num_cpus_for_driver": 1, "log_level": "INFO", "tf_session_args": {"log_device_placement": false, "gpu_options": {"allow_growth": true}, "intra_op_parallelism_threads": 2, "inter_op_parallelism_threads": 2, "allow_soft_placement": true, "device_count": {"CPU": 1}}, "model": {"dim": 84, "free_log_std": false, "fcnet_hiddens": [128, 64, 32], "custom_model": null, "fcnet_activation": "tanh", "lstm_use_prev_action_reward": false, "grayscale": false, "channel_major": false, "squash_to_range": false, "framestack": true, "use_lstm": false, "conv_activation": "relu", "conv_filters": null, "custom_preprocessor": null, "lstm_cell_size": 256, "zero_mean": true, "custom_options": {}, "max_seq_len": 20}, "lambda": 0.97, "num_gpus_per_worker": 0, "kl_coeff": 0.2, "horizon": 1500, "preprocessor_pref": "deepmind", "env_config": {"run": "PPO", "flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.1,\n            \"eta3\": 0.1,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 7.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 0\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 700,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}"}, "clip_param": 0.3, "observation_filter": "MeanStdFilter", "env": "MultiWaveAttenuationMergePOEnvBufferedObs-v0density_[eta1, eta2, eta3]:[1.0, 0.1, 0.0]_t_min:7.0", "gamma": 0.99, "lr": 0.0005, "monitor": false, "output_compress_columns": ["obs", "new_obs"], "batch_mode": "truncate_episodes", "num_gpus": 0, "num_workers": 30, "output": null, "collect_metrics_timeout": 180, "num_sgd_iter": 10, "sample_batch_size": 750, "output_max_file_size": 67108864, "straggler_mitigation": false, "train_batch_size": 90000}, "num_metric_batches_dropped": 0, "hostname": "flow-main", "episodes_total": 2187, "episode_reward_min": 212.1451954320247, "time_total_s": 2529.214898109436, "policy_reward_mean": {}, "timesteps_this_iter": 130807, "custom_metrics": {"cost1_mean": 332.3752249564275, "system_level_velocity_mean": 11.74945528065477, "cost2_max": -52.19808395676216, "outflow_rate_max": 1095.4811645442585, "outflow_rate_mean": 968.6854871808465, "cost1_max": 384.4169516815289, "outflow_rate_min": 440.34135574037003, "system_level_velocity_max": 13.756004107093935, "system_level_velocity_min": 9.882703379946028, "cost2_min": -124.07065919045594, "cost1_min": 114.37876197993785, "cost2_mean": -102.50194588327497}, "episode_reward_max": 865.5575462024888}
{"node_ip": "10.138.0.2", "episode_reward_mean": 762.1502523934764, "time_this_iter_s": 68.63055872917175, "done": false, "episode_len_mean": 741.52, "timestamp": 1557390160, "training_iteration": 38, "experiment_id": "58dd2f5595014063b753971755894587", "time_since_restore": 2597.845456838608, "timesteps_total": 5183605, "pid": 25334, "episodes_this_iter": 62, "date": "2019-05-09_08-22-40", "info": {"sample_time_ms": 39122.876, "grad_time_ms": 29837.342, "num_steps_sampled": 5183605, "update_time_ms": 7.723, "default": {"vf_explained_var": 0.9251729846000671, "cur_kl_coeff": 0.33750006556510925, "vf_loss": 8.560608863830566, "policy_loss": -0.015742214396595955, "cur_lr": 0.0005000000237487257, "kl": 0.016182996332645416, "total_loss": 8.550329208374023, "entropy": 1.3181318044662476}, "load_time_ms": 57.362, "num_steps_trained": 5183605}, "timesteps_since_restore": 5183605, "iterations_since_restore": 38, "config": {"local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "compress_observations": false, "clip_rewards": null, "sample_async": false, "custom_resources_per_worker": {}, "use_gae": true, "vf_share_layers": false, "vf_loss_coeff": 1.0, "optimizer": {}, "simple_optimizer": false, "num_envs_per_worker": 1, "vf_clip_param": 1000000.0, "synchronize_filters": true, "num_cpus_per_worker": 1, "multiagent": {"policy_graphs": {}, "policies_to_train": null, "policy_mapping_fn": null}, "kl_target": 0.01, "clip_actions": false, "input": "sampler", "input_evaluation": null, "entropy_coeff": 0.0, "lr_schedule": null, "sgd_minibatch_size": 128, "callbacks": {"on_sample_end": null, "on_train_result": null, "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7f49896bf4e0>", "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7f49896bfb38>", "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7f49896bffd0>"}, "num_cpus_for_driver": 1, "log_level": "INFO", "tf_session_args": {"log_device_placement": false, "gpu_options": {"allow_growth": true}, "intra_op_parallelism_threads": 2, "inter_op_parallelism_threads": 2, "allow_soft_placement": true, "device_count": {"CPU": 1}}, "model": {"dim": 84, "free_log_std": false, "fcnet_hiddens": [128, 64, 32], "custom_model": null, "fcnet_activation": "tanh", "lstm_use_prev_action_reward": false, "grayscale": false, "channel_major": false, "squash_to_range": false, "framestack": true, "use_lstm": false, "conv_activation": "relu", "conv_filters": null, "custom_preprocessor": null, "lstm_cell_size": 256, "zero_mean": true, "custom_options": {}, "max_seq_len": 20}, "lambda": 0.97, "num_gpus_per_worker": 0, "kl_coeff": 0.2, "horizon": 1500, "preprocessor_pref": "deepmind", "env_config": {"run": "PPO", "flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.1,\n            \"eta3\": 0.1,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 7.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 0\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 700,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}"}, "clip_param": 0.3, "observation_filter": "MeanStdFilter", "env": "MultiWaveAttenuationMergePOEnvBufferedObs-v0density_[eta1, eta2, eta3]:[1.0, 0.1, 0.0]_t_min:7.0", "gamma": 0.99, "lr": 0.0005, "monitor": false, "output_compress_columns": ["obs", "new_obs"], "batch_mode": "truncate_episodes", "num_gpus": 0, "num_workers": 30, "output": null, "collect_metrics_timeout": 180, "num_sgd_iter": 10, "sample_batch_size": 750, "output_max_file_size": 67108864, "straggler_mitigation": false, "train_batch_size": 90000}, "num_metric_batches_dropped": 0, "hostname": "flow-main", "episodes_total": 2249, "episode_reward_min": 212.1451954320247, "time_total_s": 2597.845456838608, "policy_reward_mean": {}, "timesteps_this_iter": 130490, "custom_metrics": {"cost1_mean": 335.47712172200823, "system_level_velocity_mean": 11.860092376048431, "cost2_max": -52.19808395676216, "outflow_rate_max": 1086.8252531604585, "outflow_rate_mean": 974.7184133778243, "cost1_max": 380.7527891701752, "outflow_rate_min": 440.34135574037003, "system_level_velocity_max": 13.756004107093935, "system_level_velocity_min": 10.764235311497298, "cost2_min": -132.5472305596109, "cost1_min": 114.37876197993785, "cost2_mean": -104.26408824144839}, "episode_reward_max": 865.5575462024888}
{"node_ip": "10.138.0.2", "episode_reward_mean": 769.5700712931218, "time_this_iter_s": 70.81990098953247, "done": false, "episode_len_mean": 745.82, "timestamp": 1557390231, "training_iteration": 39, "experiment_id": "58dd2f5595014063b753971755894587", "time_since_restore": 2668.6653578281403, "timesteps_total": 5314119, "pid": 25334, "episodes_this_iter": 62, "date": "2019-05-09_08-23-51", "info": {"sample_time_ms": 39183.751, "grad_time_ms": 29880.728, "num_steps_sampled": 5314119, "update_time_ms": 7.892, "default": {"vf_explained_var": 0.9304139614105225, "cur_kl_coeff": 0.33750006556510925, "vf_loss": 8.213312149047852, "policy_loss": -0.015295038931071758, "cur_lr": 0.0005000000237487257, "kl": 0.016122382134199142, "total_loss": 8.203458786010742, "entropy": 1.316434383392334}, "load_time_ms": 52.023, "num_steps_trained": 5314119}, "timesteps_since_restore": 5314119, "iterations_since_restore": 39, "config": {"local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "compress_observations": false, "clip_rewards": null, "sample_async": false, "custom_resources_per_worker": {}, "use_gae": true, "vf_share_layers": false, "vf_loss_coeff": 1.0, "optimizer": {}, "simple_optimizer": false, "num_envs_per_worker": 1, "vf_clip_param": 1000000.0, "synchronize_filters": true, "num_cpus_per_worker": 1, "multiagent": {"policy_graphs": {}, "policies_to_train": null, "policy_mapping_fn": null}, "kl_target": 0.01, "clip_actions": false, "input": "sampler", "input_evaluation": null, "entropy_coeff": 0.0, "lr_schedule": null, "sgd_minibatch_size": 128, "callbacks": {"on_sample_end": null, "on_train_result": null, "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7f49896bf940>", "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7f49896bba20>", "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7f49896bb400>"}, "num_cpus_for_driver": 1, "log_level": "INFO", "tf_session_args": {"log_device_placement": false, "gpu_options": {"allow_growth": true}, "intra_op_parallelism_threads": 2, "inter_op_parallelism_threads": 2, "allow_soft_placement": true, "device_count": {"CPU": 1}}, "model": {"dim": 84, "free_log_std": false, "fcnet_hiddens": [128, 64, 32], "custom_model": null, "fcnet_activation": "tanh", "lstm_use_prev_action_reward": false, "grayscale": false, "channel_major": false, "squash_to_range": false, "framestack": true, "use_lstm": false, "conv_activation": "relu", "conv_filters": null, "custom_preprocessor": null, "lstm_cell_size": 256, "zero_mean": true, "custom_options": {}, "max_seq_len": 20}, "lambda": 0.97, "num_gpus_per_worker": 0, "kl_coeff": 0.2, "horizon": 1500, "preprocessor_pref": "deepmind", "env_config": {"run": "PPO", "flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.1,\n            \"eta3\": 0.1,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 7.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 0\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 700,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}"}, "clip_param": 0.3, "observation_filter": "MeanStdFilter", "env": "MultiWaveAttenuationMergePOEnvBufferedObs-v0density_[eta1, eta2, eta3]:[1.0, 0.1, 0.0]_t_min:7.0", "gamma": 0.99, "lr": 0.0005, "monitor": false, "output_compress_columns": ["obs", "new_obs"], "batch_mode": "truncate_episodes", "num_gpus": 0, "num_workers": 30, "output": null, "collect_metrics_timeout": 180, "num_sgd_iter": 10, "sample_batch_size": 750, "output_max_file_size": 67108864, "straggler_mitigation": false, "train_batch_size": 90000}, "num_metric_batches_dropped": 0, "hostname": "flow-main", "episodes_total": 2311, "episode_reward_min": 213.72917141868479, "time_total_s": 2668.6653578281403, "policy_reward_mean": {}, "timesteps_this_iter": 130514, "custom_metrics": {"cost1_mean": 337.2564659194675, "system_level_velocity_mean": 11.826125189461377, "cost2_max": -52.30071013612395, "outflow_rate_max": 1086.8252531604585, "outflow_rate_mean": 978.1496554625809, "cost1_max": 380.32786399864324, "outflow_rate_min": 433.99722871921426, "system_level_velocity_max": 13.17979939411024, "system_level_velocity_min": 10.655078188109757, "cost2_min": -132.5472305596109, "cost1_min": 114.24317330204399, "cost2_mean": -104.47745508732628}, "episode_reward_max": 908.3726722410794}
{"node_ip": "10.138.0.2", "episode_reward_mean": 775.7766304271636, "time_this_iter_s": 69.98304772377014, "done": false, "episode_len_mean": 751.0, "timestamp": 1557390301, "training_iteration": 40, "experiment_id": "58dd2f5595014063b753971755894587", "time_since_restore": 2738.6484055519104, "timesteps_total": 5444091, "pid": 25334, "episodes_this_iter": 62, "date": "2019-05-09_08-25-01", "info": {"sample_time_ms": 39258.456, "grad_time_ms": 29798.415, "num_steps_sampled": 5444091, "update_time_ms": 7.856, "default": {"vf_explained_var": 0.9380512833595276, "cur_kl_coeff": 0.33750006556510925, "vf_loss": 7.435632705688477, "policy_loss": -0.017138659954071045, "cur_lr": 0.0005000000237487257, "kl": 0.017253795638680458, "total_loss": 7.424316883087158, "entropy": 1.3143256902694702}, "load_time_ms": 55.757, "num_steps_trained": 5444091}, "timesteps_since_restore": 5444091, "iterations_since_restore": 40, "config": {"local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "compress_observations": false, "clip_rewards": null, "sample_async": false, "custom_resources_per_worker": {}, "use_gae": true, "vf_share_layers": false, "vf_loss_coeff": 1.0, "optimizer": {}, "simple_optimizer": false, "num_envs_per_worker": 1, "vf_clip_param": 1000000.0, "synchronize_filters": true, "num_cpus_per_worker": 1, "multiagent": {"policy_graphs": {}, "policies_to_train": null, "policy_mapping_fn": null}, "kl_target": 0.01, "clip_actions": false, "input": "sampler", "input_evaluation": null, "entropy_coeff": 0.0, "lr_schedule": null, "sgd_minibatch_size": 128, "callbacks": {"on_sample_end": null, "on_train_result": null, "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7f498a9226a0>", "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7f498a922fd0>", "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7f498a922940>"}, "num_cpus_for_driver": 1, "log_level": "INFO", "tf_session_args": {"log_device_placement": false, "gpu_options": {"allow_growth": true}, "intra_op_parallelism_threads": 2, "inter_op_parallelism_threads": 2, "allow_soft_placement": true, "device_count": {"CPU": 1}}, "model": {"dim": 84, "free_log_std": false, "fcnet_hiddens": [128, 64, 32], "custom_model": null, "fcnet_activation": "tanh", "lstm_use_prev_action_reward": false, "grayscale": false, "channel_major": false, "squash_to_range": false, "framestack": true, "use_lstm": false, "conv_activation": "relu", "conv_filters": null, "custom_preprocessor": null, "lstm_cell_size": 256, "zero_mean": true, "custom_options": {}, "max_seq_len": 20}, "lambda": 0.97, "num_gpus_per_worker": 0, "kl_coeff": 0.2, "horizon": 1500, "preprocessor_pref": "deepmind", "env_config": {"run": "PPO", "flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.1,\n            \"eta3\": 0.1,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 7.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 0\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 700,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}"}, "clip_param": 0.3, "observation_filter": "MeanStdFilter", "env": "MultiWaveAttenuationMergePOEnvBufferedObs-v0density_[eta1, eta2, eta3]:[1.0, 0.1, 0.0]_t_min:7.0", "gamma": 0.99, "lr": 0.0005, "monitor": false, "output_compress_columns": ["obs", "new_obs"], "batch_mode": "truncate_episodes", "num_gpus": 0, "num_workers": 30, "output": null, "collect_metrics_timeout": 180, "num_sgd_iter": 10, "sample_batch_size": 750, "output_max_file_size": 67108864, "straggler_mitigation": false, "train_batch_size": 90000}, "num_metric_batches_dropped": 0, "hostname": "flow-main", "episodes_total": 2373, "episode_reward_min": 699.9828200403724, "time_total_s": 2738.6484055519104, "policy_reward_mean": {}, "timesteps_this_iter": 129972, "custom_metrics": {"cost1_mean": 339.34877550176805, "system_level_velocity_mean": 11.797519645802245, "cost2_max": -89.61382516016329, "outflow_rate_max": 1088.9826545352428, "outflow_rate_mean": 983.7593395313868, "cost1_max": 384.3946776013458, "outflow_rate_min": 867.4325487125016, "system_level_velocity_max": 13.332343328358174, "system_level_velocity_min": 10.294668579394495, "cost2_min": -120.18310975093821, "cost1_min": 296.57027498369666, "cost2_mean": -104.05312904167971}, "episode_reward_max": 862.6553733480173}
{"node_ip": "10.138.0.2", "episode_reward_mean": 767.0954107364436, "time_this_iter_s": 69.79736280441284, "done": false, "episode_len_mean": 745.77, "timestamp": 1557390371, "training_iteration": 41, "experiment_id": "58dd2f5595014063b753971755894587", "time_since_restore": 2808.4457683563232, "timesteps_total": 5573057, "pid": 25334, "episodes_this_iter": 63, "date": "2019-05-09_08-26-11", "info": {"sample_time_ms": 39225.291, "grad_time_ms": 29857.975, "num_steps_sampled": 5573057, "update_time_ms": 8.106, "default": {"vf_explained_var": 0.9378253221511841, "cur_kl_coeff": 0.33750003576278687, "vf_loss": 7.996731758117676, "policy_loss": -0.01589280180633068, "cur_lr": 0.0005000000237487257, "kl": 0.01637301780283451, "total_loss": 7.986364841461182, "entropy": 1.322540283203125}, "load_time_ms": 55.448, "num_steps_trained": 5573057}, "timesteps_since_restore": 5573057, "iterations_since_restore": 41, "config": {"local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "compress_observations": false, "clip_rewards": null, "sample_async": false, "custom_resources_per_worker": {}, "use_gae": true, "vf_share_layers": false, "vf_loss_coeff": 1.0, "optimizer": {}, "simple_optimizer": false, "num_envs_per_worker": 1, "vf_clip_param": 1000000.0, "synchronize_filters": true, "num_cpus_per_worker": 1, "multiagent": {"policy_graphs": {}, "policies_to_train": null, "policy_mapping_fn": null}, "kl_target": 0.01, "clip_actions": false, "input": "sampler", "input_evaluation": null, "entropy_coeff": 0.0, "lr_schedule": null, "sgd_minibatch_size": 128, "callbacks": {"on_sample_end": null, "on_train_result": null, "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7f49896bfb38>", "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7f49896bf0b8>", "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7f49896bf9e8>"}, "num_cpus_for_driver": 1, "log_level": "INFO", "tf_session_args": {"log_device_placement": false, "gpu_options": {"allow_growth": true}, "intra_op_parallelism_threads": 2, "inter_op_parallelism_threads": 2, "allow_soft_placement": true, "device_count": {"CPU": 1}}, "model": {"dim": 84, "free_log_std": false, "fcnet_hiddens": [128, 64, 32], "custom_model": null, "fcnet_activation": "tanh", "lstm_use_prev_action_reward": false, "grayscale": false, "channel_major": false, "squash_to_range": false, "framestack": true, "use_lstm": false, "conv_activation": "relu", "conv_filters": null, "custom_preprocessor": null, "lstm_cell_size": 256, "zero_mean": true, "custom_options": {}, "max_seq_len": 20}, "lambda": 0.97, "num_gpus_per_worker": 0, "kl_coeff": 0.2, "horizon": 1500, "preprocessor_pref": "deepmind", "env_config": {"run": "PPO", "flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.1,\n            \"eta3\": 0.1,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 7.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 0\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 700,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}"}, "clip_param": 0.3, "observation_filter": "MeanStdFilter", "env": "MultiWaveAttenuationMergePOEnvBufferedObs-v0density_[eta1, eta2, eta3]:[1.0, 0.1, 0.0]_t_min:7.0", "gamma": 0.99, "lr": 0.0005, "monitor": false, "output_compress_columns": ["obs", "new_obs"], "batch_mode": "truncate_episodes", "num_gpus": 0, "num_workers": 30, "output": null, "collect_metrics_timeout": 180, "num_sgd_iter": 10, "sample_batch_size": 750, "output_max_file_size": 67108864, "straggler_mitigation": false, "train_batch_size": 90000}, "num_metric_batches_dropped": 0, "hostname": "flow-main", "episodes_total": 2436, "episode_reward_min": 206.98804203801654, "time_total_s": 2808.4457683563232, "policy_reward_mean": {}, "timesteps_this_iter": 128966, "custom_metrics": {"cost1_mean": 338.7276884440723, "system_level_velocity_mean": 11.872904828504188, "cost2_max": -49.94008861593889, "outflow_rate_max": 1085.3380119691858, "outflow_rate_mean": 983.4315106477817, "cost1_max": 381.64311529935, "outflow_rate_min": 428.44997544712027, "system_level_velocity_max": 13.185712510454382, "system_level_velocity_min": 10.294668579394495, "cost2_min": -121.67967618518765, "cost1_min": 111.47221015030533, "cost2_mean": -103.95619171544105}, "episode_reward_max": 873.1883747610804}
{"node_ip": "10.138.0.2", "episode_reward_mean": 772.8922422606329, "time_this_iter_s": 66.98067426681519, "done": false, "episode_len_mean": 751.0, "timestamp": 1557390438, "training_iteration": 42, "experiment_id": "58dd2f5595014063b753971755894587", "time_since_restore": 2875.4264426231384, "timesteps_total": 5702779, "pid": 25334, "episodes_this_iter": 62, "date": "2019-05-09_08-27-18", "info": {"sample_time_ms": 39218.44, "grad_time_ms": 29696.273, "num_steps_sampled": 5702779, "update_time_ms": 8.035, "default": {"vf_explained_var": 0.9402097463607788, "cur_kl_coeff": 0.33750006556510925, "vf_loss": 8.038792610168457, "policy_loss": -0.016110505908727646, "cur_lr": 0.0005000000237487257, "kl": 0.01686854660511017, "total_loss": 8.028375625610352, "entropy": 1.33781898021698}, "load_time_ms": 54.17, "num_steps_trained": 5702779}, "timesteps_since_restore": 5702779, "iterations_since_restore": 42, "config": {"local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "compress_observations": false, "clip_rewards": null, "sample_async": false, "custom_resources_per_worker": {}, "use_gae": true, "vf_share_layers": false, "vf_loss_coeff": 1.0, "optimizer": {}, "simple_optimizer": false, "num_envs_per_worker": 1, "vf_clip_param": 1000000.0, "synchronize_filters": true, "num_cpus_per_worker": 1, "multiagent": {"policy_graphs": {}, "policies_to_train": null, "policy_mapping_fn": null}, "kl_target": 0.01, "clip_actions": false, "input": "sampler", "input_evaluation": null, "entropy_coeff": 0.0, "lr_schedule": null, "sgd_minibatch_size": 128, "callbacks": {"on_sample_end": null, "on_train_result": null, "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7f49896bf630>", "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7f49896bf940>", "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7f49896bf860>"}, "num_cpus_for_driver": 1, "log_level": "INFO", "tf_session_args": {"log_device_placement": false, "gpu_options": {"allow_growth": true}, "intra_op_parallelism_threads": 2, "inter_op_parallelism_threads": 2, "allow_soft_placement": true, "device_count": {"CPU": 1}}, "model": {"dim": 84, "free_log_std": false, "fcnet_hiddens": [128, 64, 32], "custom_model": null, "fcnet_activation": "tanh", "lstm_use_prev_action_reward": false, "grayscale": false, "channel_major": false, "squash_to_range": false, "framestack": true, "use_lstm": false, "conv_activation": "relu", "conv_filters": null, "custom_preprocessor": null, "lstm_cell_size": 256, "zero_mean": true, "custom_options": {}, "max_seq_len": 20}, "lambda": 0.97, "num_gpus_per_worker": 0, "kl_coeff": 0.2, "horizon": 1500, "preprocessor_pref": "deepmind", "env_config": {"run": "PPO", "flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.1,\n            \"eta3\": 0.1,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 7.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 0\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 700,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}"}, "clip_param": 0.3, "observation_filter": "MeanStdFilter", "env": "MultiWaveAttenuationMergePOEnvBufferedObs-v0density_[eta1, eta2, eta3]:[1.0, 0.1, 0.0]_t_min:7.0", "gamma": 0.99, "lr": 0.0005, "monitor": false, "output_compress_columns": ["obs", "new_obs"], "batch_mode": "truncate_episodes", "num_gpus": 0, "num_workers": 30, "output": null, "collect_metrics_timeout": 180, "num_sgd_iter": 10, "sample_batch_size": 750, "output_max_file_size": 67108864, "straggler_mitigation": false, "train_batch_size": 90000}, "num_metric_batches_dropped": 0, "hostname": "flow-main", "episodes_total": 2498, "episode_reward_min": 677.4193392508063, "time_total_s": 2875.4264426231384, "policy_reward_mean": {}, "timesteps_this_iter": 129722, "custom_metrics": {"cost1_mean": 343.5629764750483, "system_level_velocity_mean": 11.969072336454506, "cost2_max": -90.99797268162143, "outflow_rate_max": 1088.5423556302865, "outflow_rate_mean": 994.5056140106348, "cost1_max": 382.1728818790899, "outflow_rate_min": 899.176083620232, "system_level_velocity_max": 13.284653315849658, "system_level_velocity_min": 10.9003269478996, "cost2_min": -121.70974202240623, "cost1_min": 310.7693103826099, "cost2_mean": -105.44433768917226}, "episode_reward_max": 873.1883747610804}
{"node_ip": "10.138.0.2", "episode_reward_mean": 770.0454783112946, "time_this_iter_s": 68.11075735092163, "done": false, "episode_len_mean": 751.0, "timestamp": 1557390506, "training_iteration": 43, "experiment_id": "58dd2f5595014063b753971755894587", "time_since_restore": 2943.53719997406, "timesteps_total": 5833232, "pid": 25334, "episodes_this_iter": 62, "date": "2019-05-09_08-28-26", "info": {"sample_time_ms": 39236.123, "grad_time_ms": 29760.291, "num_steps_sampled": 5833232, "update_time_ms": 8.0, "default": {"vf_explained_var": 0.9455761909484863, "cur_kl_coeff": 0.33750006556510925, "vf_loss": 7.625888824462891, "policy_loss": -0.016382506117224693, "cur_lr": 0.0005000000237487257, "kl": 0.01698221266269684, "total_loss": 7.615237236022949, "entropy": 1.3529775142669678}, "load_time_ms": 54.065, "num_steps_trained": 5833232}, "timesteps_since_restore": 5833232, "iterations_since_restore": 43, "config": {"local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "compress_observations": false, "clip_rewards": null, "sample_async": false, "custom_resources_per_worker": {}, "use_gae": true, "vf_share_layers": false, "vf_loss_coeff": 1.0, "optimizer": {}, "simple_optimizer": false, "num_envs_per_worker": 1, "vf_clip_param": 1000000.0, "synchronize_filters": true, "num_cpus_per_worker": 1, "multiagent": {"policy_graphs": {}, "policies_to_train": null, "policy_mapping_fn": null}, "kl_target": 0.01, "clip_actions": false, "input": "sampler", "input_evaluation": null, "entropy_coeff": 0.0, "lr_schedule": null, "sgd_minibatch_size": 128, "callbacks": {"on_sample_end": null, "on_train_result": null, "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7f49896bff60>", "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7f49896bf668>", "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7f49896bf160>"}, "num_cpus_for_driver": 1, "log_level": "INFO", "tf_session_args": {"log_device_placement": false, "gpu_options": {"allow_growth": true}, "intra_op_parallelism_threads": 2, "inter_op_parallelism_threads": 2, "allow_soft_placement": true, "device_count": {"CPU": 1}}, "model": {"dim": 84, "free_log_std": false, "fcnet_hiddens": [128, 64, 32], "custom_model": null, "fcnet_activation": "tanh", "lstm_use_prev_action_reward": false, "grayscale": false, "channel_major": false, "squash_to_range": false, "framestack": true, "use_lstm": false, "conv_activation": "relu", "conv_filters": null, "custom_preprocessor": null, "lstm_cell_size": 256, "zero_mean": true, "custom_options": {}, "max_seq_len": 20}, "lambda": 0.97, "num_gpus_per_worker": 0, "kl_coeff": 0.2, "horizon": 1500, "preprocessor_pref": "deepmind", "env_config": {"run": "PPO", "flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.1,\n            \"eta3\": 0.1,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 7.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 0\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 700,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}"}, "clip_param": 0.3, "observation_filter": "MeanStdFilter", "env": "MultiWaveAttenuationMergePOEnvBufferedObs-v0density_[eta1, eta2, eta3]:[1.0, 0.1, 0.0]_t_min:7.0", "gamma": 0.99, "lr": 0.0005, "monitor": false, "output_compress_columns": ["obs", "new_obs"], "batch_mode": "truncate_episodes", "num_gpus": 0, "num_workers": 30, "output": null, "collect_metrics_timeout": 180, "num_sgd_iter": 10, "sample_batch_size": 750, "output_max_file_size": 67108864, "straggler_mitigation": false, "train_batch_size": 90000}, "num_metric_batches_dropped": 0, "hostname": "flow-main", "episodes_total": 2560, "episode_reward_min": 673.6011473865058, "time_total_s": 2943.53719997406, "policy_reward_mean": {}, "timesteps_this_iter": 130453, "custom_metrics": {"cost1_mean": 344.09696455008867, "system_level_velocity_mean": 11.990697995003902, "cost2_max": -92.38590231361924, "outflow_rate_max": 1108.1358515412792, "outflow_rate_mean": 995.8098720694209, "cost1_max": 392.29843689272747, "outflow_rate_min": 903.5402688166453, "system_level_velocity_max": 13.685460150065701, "system_level_velocity_min": 10.9003269478996, "cost2_min": -121.70974202240623, "cost1_min": 311.4741386776459, "cost2_mean": -106.20536138931533}, "episode_reward_max": 887.6451569694967}
{"node_ip": "10.138.0.2", "episode_reward_mean": 769.6232645734392, "time_this_iter_s": 70.02094316482544, "done": false, "episode_len_mean": 747.47, "timestamp": 1557390576, "training_iteration": 44, "experiment_id": "58dd2f5595014063b753971755894587", "time_since_restore": 3013.5581431388855, "timesteps_total": 5962650, "pid": 25334, "episodes_this_iter": 63, "date": "2019-05-09_08-29-36", "info": {"sample_time_ms": 39297.748, "grad_time_ms": 29846.66, "num_steps_sampled": 5962650, "update_time_ms": 8.151, "default": {"vf_explained_var": 0.9400421380996704, "cur_kl_coeff": 0.33750006556510925, "vf_loss": 8.364630699157715, "policy_loss": -0.016821403056383133, "cur_lr": 0.0005000000237487257, "kl": 0.016948428004980087, "total_loss": 8.353529930114746, "entropy": 1.3400354385375977}, "load_time_ms": 57.387, "num_steps_trained": 5962650}, "timesteps_since_restore": 5962650, "iterations_since_restore": 44, "config": {"local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "compress_observations": false, "clip_rewards": null, "sample_async": false, "custom_resources_per_worker": {}, "use_gae": true, "vf_share_layers": false, "vf_loss_coeff": 1.0, "optimizer": {}, "simple_optimizer": false, "num_envs_per_worker": 1, "vf_clip_param": 1000000.0, "synchronize_filters": true, "num_cpus_per_worker": 1, "multiagent": {"policy_graphs": {}, "policies_to_train": null, "policy_mapping_fn": null}, "kl_target": 0.01, "clip_actions": false, "input": "sampler", "input_evaluation": null, "entropy_coeff": 0.0, "lr_schedule": null, "sgd_minibatch_size": 128, "callbacks": {"on_sample_end": null, "on_train_result": null, "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7f49896bbbe0>", "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7f49896bb6d8>", "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7f49896bb668>"}, "num_cpus_for_driver": 1, "log_level": "INFO", "tf_session_args": {"log_device_placement": false, "gpu_options": {"allow_growth": true}, "intra_op_parallelism_threads": 2, "inter_op_parallelism_threads": 2, "allow_soft_placement": true, "device_count": {"CPU": 1}}, "model": {"dim": 84, "free_log_std": false, "fcnet_hiddens": [128, 64, 32], "custom_model": null, "fcnet_activation": "tanh", "lstm_use_prev_action_reward": false, "grayscale": false, "channel_major": false, "squash_to_range": false, "framestack": true, "use_lstm": false, "conv_activation": "relu", "conv_filters": null, "custom_preprocessor": null, "lstm_cell_size": 256, "zero_mean": true, "custom_options": {}, "max_seq_len": 20}, "lambda": 0.97, "num_gpus_per_worker": 0, "kl_coeff": 0.2, "horizon": 1500, "preprocessor_pref": "deepmind", "env_config": {"run": "PPO", "flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.1,\n            \"eta3\": 0.1,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 7.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 0\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 700,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}"}, "clip_param": 0.3, "observation_filter": "MeanStdFilter", "env": "MultiWaveAttenuationMergePOEnvBufferedObs-v0density_[eta1, eta2, eta3]:[1.0, 0.1, 0.0]_t_min:7.0", "gamma": 0.99, "lr": 0.0005, "monitor": false, "output_compress_columns": ["obs", "new_obs"], "batch_mode": "truncate_episodes", "num_gpus": 0, "num_workers": 30, "output": null, "collect_metrics_timeout": 180, "num_sgd_iter": 10, "sample_batch_size": 750, "output_max_file_size": 67108864, "straggler_mitigation": false, "train_batch_size": 90000}, "num_metric_batches_dropped": 0, "hostname": "flow-main", "episodes_total": 2623, "episode_reward_min": 437.90899045079715, "time_total_s": 3013.5581431388855, "policy_reward_mean": {}, "timesteps_this_iter": 129418, "custom_metrics": {"cost1_mean": 345.0573689545695, "system_level_velocity_mean": 12.07134934473051, "cost2_max": -84.44092689789056, "outflow_rate_max": 1108.1358515412792, "outflow_rate_mean": 998.7210263390356, "cost1_max": 392.29843689272747, "outflow_rate_min": 629.8396652929155, "system_level_velocity_max": 13.685460150065701, "system_level_velocity_min": 11.014800297754988, "cost2_min": -122.56006741287031, "cost1_min": 202.72734543410314, "cost2_mean": -107.28667929645466}, "episode_reward_max": 868.3232816841248}
{"node_ip": "10.138.0.2", "episode_reward_mean": 774.1605221065627, "time_this_iter_s": 67.87422275543213, "done": false, "episode_len_mean": 751.0, "timestamp": 1557390644, "training_iteration": 45, "experiment_id": "58dd2f5595014063b753971755894587", "time_since_restore": 3081.4323658943176, "timesteps_total": 6093103, "pid": 25334, "episodes_this_iter": 62, "date": "2019-05-09_08-30-44", "info": {"sample_time_ms": 39420.042, "grad_time_ms": 29452.177, "num_steps_sampled": 6093103, "update_time_ms": 8.157, "default": {"vf_explained_var": 0.9496777057647705, "cur_kl_coeff": 0.33750006556510925, "vf_loss": 7.322815895080566, "policy_loss": -0.015709759667515755, "cur_lr": 0.0005000000237487257, "kl": 0.016377106308937073, "total_loss": 7.312633037567139, "entropy": 1.3605546951293945}, "load_time_ms": 56.135, "num_steps_trained": 6093103}, "timesteps_since_restore": 6093103, "iterations_since_restore": 45, "config": {"local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "compress_observations": false, "clip_rewards": null, "sample_async": false, "custom_resources_per_worker": {}, "use_gae": true, "vf_share_layers": false, "vf_loss_coeff": 1.0, "optimizer": {}, "simple_optimizer": false, "num_envs_per_worker": 1, "vf_clip_param": 1000000.0, "synchronize_filters": true, "num_cpus_per_worker": 1, "multiagent": {"policy_graphs": {}, "policies_to_train": null, "policy_mapping_fn": null}, "kl_target": 0.01, "clip_actions": false, "input": "sampler", "input_evaluation": null, "entropy_coeff": 0.0, "lr_schedule": null, "sgd_minibatch_size": 128, "callbacks": {"on_sample_end": null, "on_train_result": null, "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7f49896bf7b8>", "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7f49896bf198>", "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7f49896bf9b0>"}, "num_cpus_for_driver": 1, "log_level": "INFO", "tf_session_args": {"log_device_placement": false, "gpu_options": {"allow_growth": true}, "intra_op_parallelism_threads": 2, "inter_op_parallelism_threads": 2, "allow_soft_placement": true, "device_count": {"CPU": 1}}, "model": {"dim": 84, "free_log_std": false, "fcnet_hiddens": [128, 64, 32], "custom_model": null, "fcnet_activation": "tanh", "lstm_use_prev_action_reward": false, "grayscale": false, "channel_major": false, "squash_to_range": false, "framestack": true, "use_lstm": false, "conv_activation": "relu", "conv_filters": null, "custom_preprocessor": null, "lstm_cell_size": 256, "zero_mean": true, "custom_options": {}, "max_seq_len": 20}, "lambda": 0.97, "num_gpus_per_worker": 0, "kl_coeff": 0.2, "horizon": 1500, "preprocessor_pref": "deepmind", "env_config": {"run": "PPO", "flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.1,\n            \"eta3\": 0.1,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 7.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 0\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 700,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}"}, "clip_param": 0.3, "observation_filter": "MeanStdFilter", "env": "MultiWaveAttenuationMergePOEnvBufferedObs-v0density_[eta1, eta2, eta3]:[1.0, 0.1, 0.0]_t_min:7.0", "gamma": 0.99, "lr": 0.0005, "monitor": false, "output_compress_columns": ["obs", "new_obs"], "batch_mode": "truncate_episodes", "num_gpus": 0, "num_workers": 30, "output": null, "collect_metrics_timeout": 180, "num_sgd_iter": 10, "sample_batch_size": 750, "output_max_file_size": 67108864, "straggler_mitigation": false, "train_batch_size": 90000}, "num_metric_batches_dropped": 0, "hostname": "flow-main", "episodes_total": 2685, "episode_reward_min": 687.5001696065998, "time_total_s": 3081.4323658943176, "policy_reward_mean": {}, "timesteps_this_iter": 130453, "custom_metrics": {"cost1_mean": 347.23988186736636, "system_level_velocity_mean": 12.081951342720517, "cost2_max": -85.65438057155157, "outflow_rate_max": 1103.3791769004954, "outflow_rate_mean": 1004.0971085910134, "cost1_max": 389.96420696605367, "outflow_rate_min": 906.3279472566992, "system_level_velocity_max": 13.590996576789063, "system_level_velocity_min": 10.87670074195345, "cost2_min": -122.56006741287031, "cost1_min": 313.21903035711154, "cost2_mean": -105.966111733551}, "episode_reward_max": 905.3269942755318}
{"node_ip": "10.138.0.2", "episode_reward_mean": 779.0459344635311, "time_this_iter_s": 71.15684342384338, "done": false, "episode_len_mean": 751.0, "timestamp": 1557390715, "training_iteration": 46, "experiment_id": "58dd2f5595014063b753971755894587", "time_since_restore": 3152.589209318161, "timesteps_total": 6223904, "pid": 25334, "episodes_this_iter": 63, "date": "2019-05-09_08-31-55", "info": {"sample_time_ms": 39502.294, "grad_time_ms": 29568.943, "num_steps_sampled": 6223904, "update_time_ms": 8.143, "default": {"vf_explained_var": 0.9504525661468506, "cur_kl_coeff": 0.33750006556510925, "vf_loss": 7.437077045440674, "policy_loss": -0.016714487224817276, "cur_lr": 0.0005000000237487257, "kl": 0.01739204116165638, "total_loss": 7.42623233795166, "entropy": 1.3480967283248901}, "load_time_ms": 58.015, "num_steps_trained": 6223904}, "timesteps_since_restore": 6223904, "iterations_since_restore": 46, "config": {"local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "compress_observations": false, "clip_rewards": null, "sample_async": false, "custom_resources_per_worker": {}, "use_gae": true, "vf_share_layers": false, "vf_loss_coeff": 1.0, "optimizer": {}, "simple_optimizer": false, "num_envs_per_worker": 1, "vf_clip_param": 1000000.0, "synchronize_filters": true, "num_cpus_per_worker": 1, "multiagent": {"policy_graphs": {}, "policies_to_train": null, "policy_mapping_fn": null}, "kl_target": 0.01, "clip_actions": false, "input": "sampler", "input_evaluation": null, "entropy_coeff": 0.0, "lr_schedule": null, "sgd_minibatch_size": 128, "callbacks": {"on_sample_end": null, "on_train_result": null, "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7f49896bfa90>", "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7f49896bf358>", "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7f49896bfc88>"}, "num_cpus_for_driver": 1, "log_level": "INFO", "tf_session_args": {"log_device_placement": false, "gpu_options": {"allow_growth": true}, "intra_op_parallelism_threads": 2, "inter_op_parallelism_threads": 2, "allow_soft_placement": true, "device_count": {"CPU": 1}}, "model": {"dim": 84, "free_log_std": false, "fcnet_hiddens": [128, 64, 32], "custom_model": null, "fcnet_activation": "tanh", "lstm_use_prev_action_reward": false, "grayscale": false, "channel_major": false, "squash_to_range": false, "framestack": true, "use_lstm": false, "conv_activation": "relu", "conv_filters": null, "custom_preprocessor": null, "lstm_cell_size": 256, "zero_mean": true, "custom_options": {}, "max_seq_len": 20}, "lambda": 0.97, "num_gpus_per_worker": 0, "kl_coeff": 0.2, "horizon": 1500, "preprocessor_pref": "deepmind", "env_config": {"run": "PPO", "flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.1,\n            \"eta3\": 0.1,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 7.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 0\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 700,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}"}, "clip_param": 0.3, "observation_filter": "MeanStdFilter", "env": "MultiWaveAttenuationMergePOEnvBufferedObs-v0density_[eta1, eta2, eta3]:[1.0, 0.1, 0.0]_t_min:7.0", "gamma": 0.99, "lr": 0.0005, "monitor": false, "output_compress_columns": ["obs", "new_obs"], "batch_mode": "truncate_episodes", "num_gpus": 0, "num_workers": 30, "output": null, "collect_metrics_timeout": 180, "num_sgd_iter": 10, "sample_batch_size": 750, "output_max_file_size": 67108864, "straggler_mitigation": false, "train_batch_size": 90000}, "num_metric_batches_dropped": 0, "hostname": "flow-main", "episodes_total": 2748, "episode_reward_min": 687.5001696065998, "time_total_s": 3152.589209318161, "policy_reward_mean": {}, "timesteps_this_iter": 130801, "custom_metrics": {"cost1_mean": 348.1460924381769, "system_level_velocity_mean": 12.113444175940531, "cost2_max": -85.35317941104014, "outflow_rate_max": 1103.3791769004954, "outflow_rate_mean": 1005.961937789916, "cost1_max": 389.96420696605367, "outflow_rate_min": 911.1630308166407, "system_level_velocity_max": 13.590996576789063, "system_level_velocity_min": 10.904115556308271, "cost2_min": -119.81600306579624, "cost1_min": 313.70982144298546, "cost2_mean": -105.1594716286332}, "episode_reward_max": 893.7091482432304}
{"node_ip": "10.138.0.2", "episode_reward_mean": 769.4187105630498, "time_this_iter_s": 68.32258129119873, "done": false, "episode_len_mean": 745.75, "timestamp": 1557390783, "training_iteration": 47, "experiment_id": "58dd2f5595014063b753971755894587", "time_since_restore": 3220.9117906093597, "timesteps_total": 6352502, "pid": 25334, "episodes_this_iter": 63, "date": "2019-05-09_08-33-03", "info": {"sample_time_ms": 39606.955, "grad_time_ms": 29258.203, "num_steps_sampled": 6352502, "update_time_ms": 8.158, "default": {"vf_explained_var": 0.9415737390518188, "cur_kl_coeff": 0.33750003576278687, "vf_loss": 9.212942123413086, "policy_loss": -0.016240200027823448, "cur_lr": 0.0005000000237487257, "kl": 0.017425790429115295, "total_loss": 9.202582359313965, "entropy": 1.3668733835220337}, "load_time_ms": 59.731, "num_steps_trained": 6352502}, "timesteps_since_restore": 6352502, "iterations_since_restore": 47, "config": {"local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "compress_observations": false, "clip_rewards": null, "sample_async": false, "custom_resources_per_worker": {}, "use_gae": true, "vf_share_layers": false, "vf_loss_coeff": 1.0, "optimizer": {}, "simple_optimizer": false, "num_envs_per_worker": 1, "vf_clip_param": 1000000.0, "synchronize_filters": true, "num_cpus_per_worker": 1, "multiagent": {"policy_graphs": {}, "policies_to_train": null, "policy_mapping_fn": null}, "kl_target": 0.01, "clip_actions": false, "input": "sampler", "input_evaluation": null, "entropy_coeff": 0.0, "lr_schedule": null, "sgd_minibatch_size": 128, "callbacks": {"on_sample_end": null, "on_train_result": null, "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7f49896bb940>", "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7f49896bb898>", "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7f49896bb668>"}, "num_cpus_for_driver": 1, "log_level": "INFO", "tf_session_args": {"log_device_placement": false, "gpu_options": {"allow_growth": true}, "intra_op_parallelism_threads": 2, "inter_op_parallelism_threads": 2, "allow_soft_placement": true, "device_count": {"CPU": 1}}, "model": {"dim": 84, "free_log_std": false, "fcnet_hiddens": [128, 64, 32], "custom_model": null, "fcnet_activation": "tanh", "lstm_use_prev_action_reward": false, "grayscale": false, "channel_major": false, "squash_to_range": false, "framestack": true, "use_lstm": false, "conv_activation": "relu", "conv_filters": null, "custom_preprocessor": null, "lstm_cell_size": 256, "zero_mean": true, "custom_options": {}, "max_seq_len": 20}, "lambda": 0.97, "num_gpus_per_worker": 0, "kl_coeff": 0.2, "horizon": 1500, "preprocessor_pref": "deepmind", "env_config": {"run": "PPO", "flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.1,\n            \"eta3\": 0.1,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 7.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 0\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 700,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}"}, "clip_param": 0.3, "observation_filter": "MeanStdFilter", "env": "MultiWaveAttenuationMergePOEnvBufferedObs-v0density_[eta1, eta2, eta3]:[1.0, 0.1, 0.0]_t_min:7.0", "gamma": 0.99, "lr": 0.0005, "monitor": false, "output_compress_columns": ["obs", "new_obs"], "batch_mode": "truncate_episodes", "num_gpus": 0, "num_workers": 30, "output": null, "collect_metrics_timeout": 180, "num_sgd_iter": 10, "sample_batch_size": 750, "output_max_file_size": 67108864, "straggler_mitigation": false, "train_batch_size": 90000}, "num_metric_batches_dropped": 0, "hostname": "flow-main", "episodes_total": 2811, "episode_reward_min": 205.93897690895372, "time_total_s": 3220.9117906093597, "policy_reward_mean": {}, "timesteps_this_iter": 128598, "custom_metrics": {"cost1_mean": 345.24199687446077, "system_level_velocity_mean": 12.119709109520336, "cost2_max": -54.86997549433465, "outflow_rate_max": 1110.1855299825525, "outflow_rate_mean": 997.3078991805116, "cost1_max": 393.909254920765, "outflow_rate_min": 430.7385247065639, "system_level_velocity_max": 13.637841354901294, "system_level_velocity_min": 10.476666182296865, "cost2_min": -119.81600306579624, "cost1_min": 112.6637412361078, "cost2_mean": -103.86824982707017}, "episode_reward_max": 900.3178804030858}
{"node_ip": "10.138.0.2", "episode_reward_mean": 770.5637570455785, "time_this_iter_s": 68.2983808517456, "done": false, "episode_len_mean": 751.0, "timestamp": 1557390852, "training_iteration": 48, "experiment_id": "58dd2f5595014063b753971755894587", "time_since_restore": 3289.2101714611053, "timesteps_total": 6482818, "pid": 25334, "episodes_this_iter": 63, "date": "2019-05-09_08-34-12", "info": {"sample_time_ms": 39631.557, "grad_time_ms": 29204.694, "num_steps_sampled": 6482818, "update_time_ms": 8.192, "default": {"vf_explained_var": 0.9463728070259094, "cur_kl_coeff": 0.33750006556510925, "vf_loss": 8.507695198059082, "policy_loss": -0.015194427222013474, "cur_lr": 0.0005000000237487257, "kl": 0.01677550934255123, "total_loss": 8.498163223266602, "entropy": 1.3606669902801514}, "load_time_ms": 55.701, "num_steps_trained": 6482818}, "timesteps_since_restore": 6482818, "iterations_since_restore": 48, "config": {"local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "compress_observations": false, "clip_rewards": null, "sample_async": false, "custom_resources_per_worker": {}, "use_gae": true, "vf_share_layers": false, "vf_loss_coeff": 1.0, "optimizer": {}, "simple_optimizer": false, "num_envs_per_worker": 1, "vf_clip_param": 1000000.0, "synchronize_filters": true, "num_cpus_per_worker": 1, "multiagent": {"policy_graphs": {}, "policies_to_train": null, "policy_mapping_fn": null}, "kl_target": 0.01, "clip_actions": false, "input": "sampler", "input_evaluation": null, "entropy_coeff": 0.0, "lr_schedule": null, "sgd_minibatch_size": 128, "callbacks": {"on_sample_end": null, "on_train_result": null, "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7f49896bfcc0>", "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7f49896bfb70>", "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7f49896bfa20>"}, "num_cpus_for_driver": 1, "log_level": "INFO", "tf_session_args": {"log_device_placement": false, "gpu_options": {"allow_growth": true}, "intra_op_parallelism_threads": 2, "inter_op_parallelism_threads": 2, "allow_soft_placement": true, "device_count": {"CPU": 1}}, "model": {"dim": 84, "free_log_std": false, "fcnet_hiddens": [128, 64, 32], "custom_model": null, "fcnet_activation": "tanh", "lstm_use_prev_action_reward": false, "grayscale": false, "channel_major": false, "squash_to_range": false, "framestack": true, "use_lstm": false, "conv_activation": "relu", "conv_filters": null, "custom_preprocessor": null, "lstm_cell_size": 256, "zero_mean": true, "custom_options": {}, "max_seq_len": 20}, "lambda": 0.97, "num_gpus_per_worker": 0, "kl_coeff": 0.2, "horizon": 1500, "preprocessor_pref": "deepmind", "env_config": {"run": "PPO", "flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.1,\n            \"eta3\": 0.1,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 7.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 0\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 700,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}"}, "clip_param": 0.3, "observation_filter": "MeanStdFilter", "env": "MultiWaveAttenuationMergePOEnvBufferedObs-v0density_[eta1, eta2, eta3]:[1.0, 0.1, 0.0]_t_min:7.0", "gamma": 0.99, "lr": 0.0005, "monitor": false, "output_compress_columns": ["obs", "new_obs"], "batch_mode": "truncate_episodes", "num_gpus": 0, "num_workers": 30, "output": null, "collect_metrics_timeout": 180, "num_sgd_iter": 10, "sample_batch_size": 750, "output_max_file_size": 67108864, "straggler_mitigation": false, "train_batch_size": 90000}, "num_metric_batches_dropped": 0, "hostname": "flow-main", "episodes_total": 2874, "episode_reward_min": 621.0883181725429, "time_total_s": 3289.2101714611053, "policy_reward_mean": {}, "timesteps_this_iter": 130316, "custom_metrics": {"cost1_mean": 347.37949149834174, "system_level_velocity_mean": 12.10893306379383, "cost2_max": -80.69082101455434, "outflow_rate_max": 1110.1855299825525, "outflow_rate_mean": 1002.5047454980973, "cost1_max": 393.909254920765, "outflow_rate_min": 905.979178894784, "system_level_velocity_max": 13.637841354901294, "system_level_velocity_min": 11.062276932637861, "cost2_min": -125.92563718361777, "cost1_min": 315.70106355586904, "cost2_mean": -104.65883856617313}, "episode_reward_max": 900.3178804030858}
{"node_ip": "10.138.0.2", "episode_reward_mean": 759.6317113155768, "time_this_iter_s": 71.17292833328247, "done": false, "episode_len_mean": 736.17, "timestamp": 1557390923, "training_iteration": 49, "experiment_id": "58dd2f5595014063b753971755894587", "time_since_restore": 3360.383099794388, "timesteps_total": 6612819, "pid": 25334, "episodes_this_iter": 65, "date": "2019-05-09_08-35-23", "info": {"sample_time_ms": 39618.412, "grad_time_ms": 29248.701, "num_steps_sampled": 6612819, "update_time_ms": 8.114, "default": {"vf_explained_var": 0.9390984773635864, "cur_kl_coeff": 0.33750006556510925, "vf_loss": 9.767580032348633, "policy_loss": -0.01538131758570671, "cur_lr": 0.0005000000237487257, "kl": 0.016724860295653343, "total_loss": 9.757843017578125, "entropy": 1.3729588985443115}, "load_time_ms": 61.045, "num_steps_trained": 6612819}, "timesteps_since_restore": 6612819, "iterations_since_restore": 49, "config": {"local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "compress_observations": false, "clip_rewards": null, "sample_async": false, "custom_resources_per_worker": {}, "use_gae": true, "vf_share_layers": false, "vf_loss_coeff": 1.0, "optimizer": {}, "simple_optimizer": false, "num_envs_per_worker": 1, "vf_clip_param": 1000000.0, "synchronize_filters": true, "num_cpus_per_worker": 1, "multiagent": {"policy_graphs": {}, "policies_to_train": null, "policy_mapping_fn": null}, "kl_target": 0.01, "clip_actions": false, "input": "sampler", "input_evaluation": null, "entropy_coeff": 0.0, "lr_schedule": null, "sgd_minibatch_size": 128, "callbacks": {"on_sample_end": null, "on_train_result": null, "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7f49896bba58>", "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7f49896bb438>", "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7f49896bbc18>"}, "num_cpus_for_driver": 1, "log_level": "INFO", "tf_session_args": {"log_device_placement": false, "gpu_options": {"allow_growth": true}, "intra_op_parallelism_threads": 2, "inter_op_parallelism_threads": 2, "allow_soft_placement": true, "device_count": {"CPU": 1}}, "model": {"dim": 84, "free_log_std": false, "fcnet_hiddens": [128, 64, 32], "custom_model": null, "fcnet_activation": "tanh", "lstm_use_prev_action_reward": false, "grayscale": false, "channel_major": false, "squash_to_range": false, "framestack": true, "use_lstm": false, "conv_activation": "relu", "conv_filters": null, "custom_preprocessor": null, "lstm_cell_size": 256, "zero_mean": true, "custom_options": {}, "max_seq_len": 20}, "lambda": 0.97, "num_gpus_per_worker": 0, "kl_coeff": 0.2, "horizon": 1500, "preprocessor_pref": "deepmind", "env_config": {"run": "PPO", "flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.1,\n            \"eta3\": 0.1,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 7.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 0\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 700,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}"}, "clip_param": 0.3, "observation_filter": "MeanStdFilter", "env": "MultiWaveAttenuationMergePOEnvBufferedObs-v0density_[eta1, eta2, eta3]:[1.0, 0.1, 0.0]_t_min:7.0", "gamma": 0.99, "lr": 0.0005, "monitor": false, "output_compress_columns": ["obs", "new_obs"], "batch_mode": "truncate_episodes", "num_gpus": 0, "num_workers": 30, "output": null, "collect_metrics_timeout": 180, "num_sgd_iter": 10, "sample_batch_size": 750, "output_max_file_size": 67108864, "straggler_mitigation": false, "train_batch_size": 90000}, "num_metric_batches_dropped": 0, "hostname": "flow-main", "episodes_total": 2939, "episode_reward_min": 196.5006207246157, "time_total_s": 3360.383099794388, "policy_reward_mean": {}, "timesteps_this_iter": 130001, "custom_metrics": {"cost1_mean": 341.8172598995996, "system_level_velocity_mean": 12.178024508753172, "cost2_max": -55.81261915344254, "outflow_rate_max": 1104.030575096998, "outflow_rate_mean": 988.3163496689206, "cost1_max": 391.2868535436834, "outflow_rate_min": 417.7320061168969, "system_level_velocity_max": 13.593807236462268, "system_level_velocity_min": 11.001140322195285, "cost2_min": -125.92563718361777, "cost1_min": 108.07665030900606, "cost2_mean": -103.51169156229524}, "episode_reward_max": 888.8658736346171}
{"node_ip": "10.138.0.2", "episode_reward_mean": 760.3119939263701, "time_this_iter_s": 69.36135268211365, "done": false, "episode_len_mean": 732.0, "timestamp": 1557390992, "training_iteration": 50, "experiment_id": "58dd2f5595014063b753971755894587", "time_since_restore": 3429.7444524765015, "timesteps_total": 6742830, "pid": 25334, "episodes_this_iter": 65, "date": "2019-05-09_08-36-32", "info": {"sample_time_ms": 39548.361, "grad_time_ms": 29264.737, "num_steps_sampled": 6742830, "update_time_ms": 8.13, "default": {"vf_explained_var": 0.9475523829460144, "cur_kl_coeff": 0.33750006556510925, "vf_loss": 8.775945663452148, "policy_loss": -0.016114749014377594, "cur_lr": 0.0005000000237487257, "kl": 0.01759849674999714, "total_loss": 8.76577091217041, "entropy": 1.3725037574768066}, "load_time_ms": 57.265, "num_steps_trained": 6742830}, "timesteps_since_restore": 6742830, "iterations_since_restore": 50, "config": {"local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "compress_observations": false, "clip_rewards": null, "sample_async": false, "custom_resources_per_worker": {}, "use_gae": true, "vf_share_layers": false, "vf_loss_coeff": 1.0, "optimizer": {}, "simple_optimizer": false, "num_envs_per_worker": 1, "vf_clip_param": 1000000.0, "synchronize_filters": true, "num_cpus_per_worker": 1, "multiagent": {"policy_graphs": {}, "policies_to_train": null, "policy_mapping_fn": null}, "kl_target": 0.01, "clip_actions": false, "input": "sampler", "input_evaluation": null, "entropy_coeff": 0.0, "lr_schedule": null, "sgd_minibatch_size": 128, "callbacks": {"on_sample_end": null, "on_train_result": null, "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7f49896bf588>", "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7f49896bfd68>", "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7f49896bfb38>"}, "num_cpus_for_driver": 1, "log_level": "INFO", "tf_session_args": {"log_device_placement": false, "gpu_options": {"allow_growth": true}, "intra_op_parallelism_threads": 2, "inter_op_parallelism_threads": 2, "allow_soft_placement": true, "device_count": {"CPU": 1}}, "model": {"dim": 84, "free_log_std": false, "fcnet_hiddens": [128, 64, 32], "custom_model": null, "fcnet_activation": "tanh", "lstm_use_prev_action_reward": false, "grayscale": false, "channel_major": false, "squash_to_range": false, "framestack": true, "use_lstm": false, "conv_activation": "relu", "conv_filters": null, "custom_preprocessor": null, "lstm_cell_size": 256, "zero_mean": true, "custom_options": {}, "max_seq_len": 20}, "lambda": 0.97, "num_gpus_per_worker": 0, "kl_coeff": 0.2, "horizon": 1500, "preprocessor_pref": "deepmind", "env_config": {"run": "PPO", "flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.1,\n            \"eta3\": 0.1,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 7.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 0\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 700,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}"}, "clip_param": 0.3, "observation_filter": "MeanStdFilter", "env": "MultiWaveAttenuationMergePOEnvBufferedObs-v0density_[eta1, eta2, eta3]:[1.0, 0.1, 0.0]_t_min:7.0", "gamma": 0.99, "lr": 0.0005, "monitor": false, "output_compress_columns": ["obs", "new_obs"], "batch_mode": "truncate_episodes", "num_gpus": 0, "num_workers": 30, "output": null, "collect_metrics_timeout": 180, "num_sgd_iter": 10, "sample_batch_size": 750, "output_max_file_size": 67108864, "straggler_mitigation": false, "train_batch_size": 90000}, "num_metric_batches_dropped": 0, "hostname": "flow-main", "episodes_total": 3004, "episode_reward_min": 196.5006207246157, "time_total_s": 3429.7444524765015, "policy_reward_mean": {}, "timesteps_this_iter": 130011, "custom_metrics": {"cost1_mean": 342.54116124134043, "system_level_velocity_mean": 12.258638716968434, "cost2_max": -53.9323244188664, "outflow_rate_max": 1104.030575096998, "outflow_rate_mean": 991.658401151923, "cost1_max": 391.2868535436834, "outflow_rate_min": 417.7320061168969, "system_level_velocity_max": 13.699359420014641, "system_level_velocity_min": 11.001140322195285, "cost2_min": -123.73919615290542, "cost1_min": 108.07665030900606, "cost2_mean": -104.92322954056384}, "episode_reward_max": 900.9120515731163}
{"node_ip": "10.138.0.2", "episode_reward_mean": 762.787556296522, "time_this_iter_s": 70.50901389122009, "done": false, "episode_len_mean": 736.27, "timestamp": 1557391063, "training_iteration": 51, "experiment_id": "58dd2f5595014063b753971755894587", "time_since_restore": 3500.2534663677216, "timesteps_total": 6871221, "pid": 25334, "episodes_this_iter": 63, "date": "2019-05-09_08-37-43", "info": {"sample_time_ms": 39658.522, "grad_time_ms": 29232.174, "num_steps_sampled": 6871221, "update_time_ms": 8.014, "default": {"vf_explained_var": 0.9522669911384583, "cur_kl_coeff": 0.33750003576278687, "vf_loss": 8.496066093444824, "policy_loss": -0.016697032377123833, "cur_lr": 0.0005000000237487257, "kl": 0.016946785151958466, "total_loss": 8.485089302062988, "entropy": 1.3861855268478394}, "load_time_ms": 56.22, "num_steps_trained": 6871221}, "timesteps_since_restore": 6871221, "iterations_since_restore": 51, "config": {"local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "compress_observations": false, "clip_rewards": null, "sample_async": false, "custom_resources_per_worker": {}, "use_gae": true, "vf_share_layers": false, "vf_loss_coeff": 1.0, "optimizer": {}, "simple_optimizer": false, "num_envs_per_worker": 1, "vf_clip_param": 1000000.0, "synchronize_filters": true, "num_cpus_per_worker": 1, "multiagent": {"policy_graphs": {}, "policies_to_train": null, "policy_mapping_fn": null}, "kl_target": 0.01, "clip_actions": false, "input": "sampler", "input_evaluation": null, "entropy_coeff": 0.0, "lr_schedule": null, "sgd_minibatch_size": 128, "callbacks": {"on_sample_end": null, "on_train_result": null, "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7f498a9305c0>", "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7f498a930ba8>", "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7f49896a7f60>"}, "num_cpus_for_driver": 1, "log_level": "INFO", "tf_session_args": {"log_device_placement": false, "gpu_options": {"allow_growth": true}, "intra_op_parallelism_threads": 2, "inter_op_parallelism_threads": 2, "allow_soft_placement": true, "device_count": {"CPU": 1}}, "model": {"dim": 84, "free_log_std": false, "fcnet_hiddens": [128, 64, 32], "custom_model": null, "fcnet_activation": "tanh", "lstm_use_prev_action_reward": false, "grayscale": false, "channel_major": false, "squash_to_range": false, "framestack": true, "use_lstm": false, "conv_activation": "relu", "conv_filters": null, "custom_preprocessor": null, "lstm_cell_size": 256, "zero_mean": true, "custom_options": {}, "max_seq_len": 20}, "lambda": 0.97, "num_gpus_per_worker": 0, "kl_coeff": 0.2, "horizon": 1500, "preprocessor_pref": "deepmind", "env_config": {"run": "PPO", "flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.1,\n            \"eta3\": 0.1,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 7.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 0\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 700,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}"}, "clip_param": 0.3, "observation_filter": "MeanStdFilter", "env": "MultiWaveAttenuationMergePOEnvBufferedObs-v0density_[eta1, eta2, eta3]:[1.0, 0.1, 0.0]_t_min:7.0", "gamma": 0.99, "lr": 0.0005, "monitor": false, "output_compress_columns": ["obs", "new_obs"], "batch_mode": "truncate_episodes", "num_gpus": 0, "num_workers": 30, "output": null, "collect_metrics_timeout": 180, "num_sgd_iter": 10, "sample_batch_size": 750, "output_max_file_size": 67108864, "straggler_mitigation": false, "train_batch_size": 90000}, "num_metric_batches_dropped": 0, "hostname": "flow-main", "episodes_total": 3067, "episode_reward_min": 197.15018846986484, "time_total_s": 3500.2534663677216, "policy_reward_mean": {}, "timesteps_this_iter": 128391, "custom_metrics": {"cost1_mean": 346.2204681738668, "system_level_velocity_mean": 12.313297511730932, "cost2_max": -57.62426251859217, "outflow_rate_max": 1100.1900137928262, "outflow_rate_mean": 1000.4393520862142, "cost1_max": 390.4722679176415, "outflow_rate_min": 416.51513150951865, "system_level_velocity_max": 13.699359420014641, "system_level_velocity_min": 11.065712226396304, "cost2_min": -123.73919615290542, "cost1_min": 108.3851714912683, "cost2_mean": -105.5659948354299}, "episode_reward_max": 900.9120515731163}
{"node_ip": "10.138.0.2", "episode_reward_mean": 763.5590533443607, "time_this_iter_s": 70.17878317832947, "done": false, "episode_len_mean": 745.67, "timestamp": 1557391133, "training_iteration": 52, "experiment_id": "58dd2f5595014063b753971755894587", "time_since_restore": 3570.432249546051, "timesteps_total": 7000919, "pid": 25334, "episodes_this_iter": 63, "date": "2019-05-09_08-38-53", "info": {"sample_time_ms": 39696.783, "grad_time_ms": 29516.801, "num_steps_sampled": 7000919, "update_time_ms": 8.072, "default": {"vf_explained_var": 0.9425858855247498, "cur_kl_coeff": 0.33750006556510925, "vf_loss": 9.682918548583984, "policy_loss": -0.015854815021157265, "cur_lr": 0.0005000000237487257, "kl": 0.017343176528811455, "total_loss": 9.672916412353516, "entropy": 1.371970295906067}, "load_time_ms": 54.363, "num_steps_trained": 7000919}, "timesteps_since_restore": 7000919, "iterations_since_restore": 52, "config": {"local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "compress_observations": false, "clip_rewards": null, "sample_async": false, "custom_resources_per_worker": {}, "use_gae": true, "vf_share_layers": false, "vf_loss_coeff": 1.0, "optimizer": {}, "simple_optimizer": false, "num_envs_per_worker": 1, "vf_clip_param": 1000000.0, "synchronize_filters": true, "num_cpus_per_worker": 1, "multiagent": {"policy_graphs": {}, "policies_to_train": null, "policy_mapping_fn": null}, "kl_target": 0.01, "clip_actions": false, "input": "sampler", "input_evaluation": null, "entropy_coeff": 0.0, "lr_schedule": null, "sgd_minibatch_size": 128, "callbacks": {"on_sample_end": null, "on_train_result": null, "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7f49896bf240>", "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7f49896bf630>", "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7f49896bff98>"}, "num_cpus_for_driver": 1, "log_level": "INFO", "tf_session_args": {"log_device_placement": false, "gpu_options": {"allow_growth": true}, "intra_op_parallelism_threads": 2, "inter_op_parallelism_threads": 2, "allow_soft_placement": true, "device_count": {"CPU": 1}}, "model": {"dim": 84, "free_log_std": false, "fcnet_hiddens": [128, 64, 32], "custom_model": null, "fcnet_activation": "tanh", "lstm_use_prev_action_reward": false, "grayscale": false, "channel_major": false, "squash_to_range": false, "framestack": true, "use_lstm": false, "conv_activation": "relu", "conv_filters": null, "custom_preprocessor": null, "lstm_cell_size": 256, "zero_mean": true, "custom_options": {}, "max_seq_len": 20}, "lambda": 0.97, "num_gpus_per_worker": 0, "kl_coeff": 0.2, "horizon": 1500, "preprocessor_pref": "deepmind", "env_config": {"run": "PPO", "flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.1,\n            \"eta3\": 0.1,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 7.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 0\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 700,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}"}, "clip_param": 0.3, "observation_filter": "MeanStdFilter", "env": "MultiWaveAttenuationMergePOEnvBufferedObs-v0density_[eta1, eta2, eta3]:[1.0, 0.1, 0.0]_t_min:7.0", "gamma": 0.99, "lr": 0.0005, "monitor": false, "output_compress_columns": ["obs", "new_obs"], "batch_mode": "truncate_episodes", "num_gpus": 0, "num_workers": 30, "output": null, "collect_metrics_timeout": 180, "num_sgd_iter": 10, "sample_batch_size": 750, "output_max_file_size": 67108864, "straggler_mitigation": false, "train_batch_size": 90000}, "num_metric_batches_dropped": 0, "hostname": "flow-main", "episodes_total": 3130, "episode_reward_min": 197.15018846986484, "time_total_s": 3570.432249546051, "policy_reward_mean": {}, "timesteps_this_iter": 129698, "custom_metrics": {"cost1_mean": 346.8998195096049, "system_level_velocity_mean": 12.196754616941694, "cost2_max": -57.873731513916965, "outflow_rate_max": 1118.7294289635695, "outflow_rate_mean": 1000.6004811589769, "cost1_max": 400.3276357741532, "outflow_rate_min": 416.51513150951865, "system_level_velocity_max": 13.916013358446362, "system_level_velocity_min": 11.039158687092545, "cost2_min": -123.01639564689253, "cost1_min": 108.3851714912683, "cost2_mean": -104.01522988031951}, "episode_reward_max": 910.8628220995979}
{"node_ip": "10.138.0.2", "episode_reward_mean": 773.5238112079007, "time_this_iter_s": 71.6686954498291, "done": false, "episode_len_mean": 740.57, "timestamp": 1557391205, "training_iteration": 53, "experiment_id": "58dd2f5595014063b753971755894587", "time_since_restore": 3642.10094499588, "timesteps_total": 7130642, "pid": 25334, "episodes_this_iter": 66, "date": "2019-05-09_08-40-05", "info": {"sample_time_ms": 39747.069, "grad_time_ms": 29819.121, "num_steps_sampled": 7130642, "update_time_ms": 8.153, "default": {"vf_explained_var": 0.9404544234275818, "cur_kl_coeff": 0.33750006556510925, "vf_loss": 10.046552658081055, "policy_loss": -0.016615331172943115, "cur_lr": 0.0005000000237487257, "kl": 0.0179411880671978, "total_loss": 10.035992622375488, "entropy": 1.3435245752334595}, "load_time_ms": 52.222, "num_steps_trained": 7130642}, "timesteps_since_restore": 7130642, "iterations_since_restore": 53, "config": {"local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "compress_observations": false, "clip_rewards": null, "sample_async": false, "custom_resources_per_worker": {}, "use_gae": true, "vf_share_layers": false, "vf_loss_coeff": 1.0, "optimizer": {}, "simple_optimizer": false, "num_envs_per_worker": 1, "vf_clip_param": 1000000.0, "synchronize_filters": true, "num_cpus_per_worker": 1, "multiagent": {"policy_graphs": {}, "policies_to_train": null, "policy_mapping_fn": null}, "kl_target": 0.01, "clip_actions": false, "input": "sampler", "input_evaluation": null, "entropy_coeff": 0.0, "lr_schedule": null, "sgd_minibatch_size": 128, "callbacks": {"on_sample_end": null, "on_train_result": null, "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7f49896bbda0>", "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7f49896bb390>", "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7f49896bbe10>"}, "num_cpus_for_driver": 1, "log_level": "INFO", "tf_session_args": {"log_device_placement": false, "gpu_options": {"allow_growth": true}, "intra_op_parallelism_threads": 2, "inter_op_parallelism_threads": 2, "allow_soft_placement": true, "device_count": {"CPU": 1}}, "model": {"dim": 84, "free_log_std": false, "fcnet_hiddens": [128, 64, 32], "custom_model": null, "fcnet_activation": "tanh", "lstm_use_prev_action_reward": false, "grayscale": false, "channel_major": false, "squash_to_range": false, "framestack": true, "use_lstm": false, "conv_activation": "relu", "conv_filters": null, "custom_preprocessor": null, "lstm_cell_size": 256, "zero_mean": true, "custom_options": {}, "max_seq_len": 20}, "lambda": 0.97, "num_gpus_per_worker": 0, "kl_coeff": 0.2, "horizon": 1500, "preprocessor_pref": "deepmind", "env_config": {"run": "PPO", "flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.1,\n            \"eta3\": 0.1,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 7.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 0\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 700,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}"}, "clip_param": 0.3, "observation_filter": "MeanStdFilter", "env": "MultiWaveAttenuationMergePOEnvBufferedObs-v0density_[eta1, eta2, eta3]:[1.0, 0.1, 0.0]_t_min:7.0", "gamma": 0.99, "lr": 0.0005, "monitor": false, "output_compress_columns": ["obs", "new_obs"], "batch_mode": "truncate_episodes", "num_gpus": 0, "num_workers": 30, "output": null, "collect_metrics_timeout": 180, "num_sgd_iter": 10, "sample_batch_size": 750, "output_max_file_size": 67108864, "straggler_mitigation": false, "train_batch_size": 90000}, "num_metric_batches_dropped": 0, "hostname": "flow-main", "episodes_total": 3196, "episode_reward_min": 206.16970133832953, "time_total_s": 3642.10094499588, "policy_reward_mean": {}, "timesteps_this_iter": 129723, "custom_metrics": {"cost1_mean": 348.126755246521, "system_level_velocity_mean": 12.313264698684867, "cost2_max": -56.51039456554184, "outflow_rate_max": 1118.7294289635695, "outflow_rate_mean": 1001.8414246796125, "cost1_max": 400.3276357741532, "outflow_rate_min": 424.223169068359, "system_level_velocity_max": 13.916013358446362, "system_level_velocity_min": 10.22162521956242, "cost2_min": -125.92906762194184, "cost1_min": 112.50331190717404, "cost2_mean": -104.62794366422287}, "episode_reward_max": 917.575415699946}
{"node_ip": "10.138.0.2", "episode_reward_mean": 784.220706022979, "time_this_iter_s": 68.7742829322815, "done": false, "episode_len_mean": 751.0, "timestamp": 1557391274, "training_iteration": 54, "experiment_id": "58dd2f5595014063b753971755894587", "time_since_restore": 3710.8752279281616, "timesteps_total": 7260043, "pid": 25334, "episodes_this_iter": 63, "date": "2019-05-09_08-41-14", "info": {"sample_time_ms": 39811.329, "grad_time_ms": 29629.596, "num_steps_sampled": 7260043, "update_time_ms": 8.111, "default": {"vf_explained_var": 0.9436958432197571, "cur_kl_coeff": 0.33750006556510925, "vf_loss": 9.678560256958008, "policy_loss": -0.01584545522928238, "cur_lr": 0.0005000000237487257, "kl": 0.017119409516453743, "total_loss": 9.668493270874023, "entropy": 1.3688465356826782}, "load_time_ms": 49.671, "num_steps_trained": 7260043}, "timesteps_since_restore": 7260043, "iterations_since_restore": 54, "config": {"local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "compress_observations": false, "clip_rewards": null, "sample_async": false, "custom_resources_per_worker": {}, "use_gae": true, "vf_share_layers": false, "vf_loss_coeff": 1.0, "optimizer": {}, "simple_optimizer": false, "num_envs_per_worker": 1, "vf_clip_param": 1000000.0, "synchronize_filters": true, "num_cpus_per_worker": 1, "multiagent": {"policy_graphs": {}, "policies_to_train": null, "policy_mapping_fn": null}, "kl_target": 0.01, "clip_actions": false, "input": "sampler", "input_evaluation": null, "entropy_coeff": 0.0, "lr_schedule": null, "sgd_minibatch_size": 128, "callbacks": {"on_sample_end": null, "on_train_result": null, "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7f49896a7d30>", "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7f49896a7f28>", "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7f49896a7e10>"}, "num_cpus_for_driver": 1, "log_level": "INFO", "tf_session_args": {"log_device_placement": false, "gpu_options": {"allow_growth": true}, "intra_op_parallelism_threads": 2, "inter_op_parallelism_threads": 2, "allow_soft_placement": true, "device_count": {"CPU": 1}}, "model": {"dim": 84, "free_log_std": false, "fcnet_hiddens": [128, 64, 32], "custom_model": null, "fcnet_activation": "tanh", "lstm_use_prev_action_reward": false, "grayscale": false, "channel_major": false, "squash_to_range": false, "framestack": true, "use_lstm": false, "conv_activation": "relu", "conv_filters": null, "custom_preprocessor": null, "lstm_cell_size": 256, "zero_mean": true, "custom_options": {}, "max_seq_len": 20}, "lambda": 0.97, "num_gpus_per_worker": 0, "kl_coeff": 0.2, "horizon": 1500, "preprocessor_pref": "deepmind", "env_config": {"run": "PPO", "flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.1,\n            \"eta3\": 0.1,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 7.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 0\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 700,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}"}, "clip_param": 0.3, "observation_filter": "MeanStdFilter", "env": "MultiWaveAttenuationMergePOEnvBufferedObs-v0density_[eta1, eta2, eta3]:[1.0, 0.1, 0.0]_t_min:7.0", "gamma": 0.99, "lr": 0.0005, "monitor": false, "output_compress_columns": ["obs", "new_obs"], "batch_mode": "truncate_episodes", "num_gpus": 0, "num_workers": 30, "output": null, "collect_metrics_timeout": 180, "num_sgd_iter": 10, "sample_batch_size": 750, "output_max_file_size": 67108864, "straggler_mitigation": false, "train_batch_size": 90000}, "num_metric_batches_dropped": 0, "hostname": "flow-main", "episodes_total": 3259, "episode_reward_min": 676.3331748639289, "time_total_s": 3710.8752279281616, "policy_reward_mean": {}, "timesteps_this_iter": 129401, "custom_metrics": {"cost1_mean": 352.1168566563974, "system_level_velocity_mean": 12.259825119176487, "cost2_max": -83.30010174958075, "outflow_rate_max": 1098.5291237883039, "outflow_rate_mean": 1010.1946799345404, "cost1_max": 391.4941109360273, "outflow_rate_min": 902.124241033469, "system_level_velocity_max": 13.599685321982998, "system_level_velocity_min": 10.988467043063139, "cost2_min": -126.91269111617147, "cost1_min": 312.6297279521605, "cost2_mean": -104.8140587206519}, "episode_reward_max": 914.8581080760968}
{"node_ip": "10.138.0.2", "episode_reward_mean": 779.8454216288071, "time_this_iter_s": 70.831369638443, "done": false, "episode_len_mean": 745.82, "timestamp": 1557391345, "training_iteration": 55, "experiment_id": "58dd2f5595014063b753971755894587", "time_since_restore": 3781.7065975666046, "timesteps_total": 7389894, "pid": 25334, "episodes_this_iter": 64, "date": "2019-05-09_08-42-25", "info": {"sample_time_ms": 39878.373, "grad_time_ms": 29860.196, "num_steps_sampled": 7389894, "update_time_ms": 8.305, "default": {"vf_explained_var": 0.9469272494316101, "cur_kl_coeff": 0.33750006556510925, "vf_loss": 9.398737907409668, "policy_loss": -0.017027435824275017, "cur_lr": 0.0005000000237487257, "kl": 0.018013479188084602, "total_loss": 9.387789726257324, "entropy": 1.3799899816513062}, "load_time_ms": 49.346, "num_steps_trained": 7389894}, "timesteps_since_restore": 7389894, "iterations_since_restore": 55, "config": {"local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "compress_observations": false, "clip_rewards": null, "sample_async": false, "custom_resources_per_worker": {}, "use_gae": true, "vf_share_layers": false, "vf_loss_coeff": 1.0, "optimizer": {}, "simple_optimizer": false, "num_envs_per_worker": 1, "vf_clip_param": 1000000.0, "synchronize_filters": true, "num_cpus_per_worker": 1, "multiagent": {"policy_graphs": {}, "policies_to_train": null, "policy_mapping_fn": null}, "kl_target": 0.01, "clip_actions": false, "input": "sampler", "input_evaluation": null, "entropy_coeff": 0.0, "lr_schedule": null, "sgd_minibatch_size": 128, "callbacks": {"on_sample_end": null, "on_train_result": null, "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7f49896bf160>", "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7f49896bfa20>", "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7f49896bfcc0>"}, "num_cpus_for_driver": 1, "log_level": "INFO", "tf_session_args": {"log_device_placement": false, "gpu_options": {"allow_growth": true}, "intra_op_parallelism_threads": 2, "inter_op_parallelism_threads": 2, "allow_soft_placement": true, "device_count": {"CPU": 1}}, "model": {"dim": 84, "free_log_std": false, "fcnet_hiddens": [128, 64, 32], "custom_model": null, "fcnet_activation": "tanh", "lstm_use_prev_action_reward": false, "grayscale": false, "channel_major": false, "squash_to_range": false, "framestack": true, "use_lstm": false, "conv_activation": "relu", "conv_filters": null, "custom_preprocessor": null, "lstm_cell_size": 256, "zero_mean": true, "custom_options": {}, "max_seq_len": 20}, "lambda": 0.97, "num_gpus_per_worker": 0, "kl_coeff": 0.2, "horizon": 1500, "preprocessor_pref": "deepmind", "env_config": {"run": "PPO", "flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.1,\n            \"eta3\": 0.1,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 7.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 0\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 700,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}"}, "clip_param": 0.3, "observation_filter": "MeanStdFilter", "env": "MultiWaveAttenuationMergePOEnvBufferedObs-v0density_[eta1, eta2, eta3]:[1.0, 0.1, 0.0]_t_min:7.0", "gamma": 0.99, "lr": 0.0005, "monitor": false, "output_compress_columns": ["obs", "new_obs"], "batch_mode": "truncate_episodes", "num_gpus": 0, "num_workers": 30, "output": null, "collect_metrics_timeout": 180, "num_sgd_iter": 10, "sample_batch_size": 750, "output_max_file_size": 67108864, "straggler_mitigation": false, "train_batch_size": 90000}, "num_metric_batches_dropped": 0, "hostname": "flow-main", "episodes_total": 3323, "episode_reward_min": 214.04842480005257, "time_total_s": 3781.7065975666046, "policy_reward_mean": {}, "timesteps_this_iter": 129851, "custom_metrics": {"cost1_mean": 350.7581977471579, "system_level_velocity_mean": 12.294184833305916, "cost2_max": -56.93631808214674, "outflow_rate_max": 1098.5291237883039, "outflow_rate_mean": 1009.1477435767877, "cost1_max": 390.8915182909359, "outflow_rate_min": 437.19411221627496, "system_level_velocity_max": 13.569000201186018, "system_level_velocity_min": 9.357663425514872, "cost2_min": -124.4634892618167, "cost1_min": 115.92907671857917, "cost2_mean": -105.95604323600783}, "episode_reward_max": 900.7342161907861}
{"node_ip": "10.138.0.2", "episode_reward_mean": 782.9814506795656, "time_this_iter_s": 69.01967430114746, "done": false, "episode_len_mean": 743.23, "timestamp": 1557391414, "training_iteration": 56, "experiment_id": "58dd2f5595014063b753971755894587", "time_since_restore": 3850.726271867752, "timesteps_total": 7520316, "pid": 25334, "episodes_this_iter": 63, "date": "2019-05-09_08-43-34", "info": {"sample_time_ms": 39987.52, "grad_time_ms": 29534.783, "num_steps_sampled": 7520316, "update_time_ms": 8.448, "default": {"vf_explained_var": 0.951971709728241, "cur_kl_coeff": 0.33750006556510925, "vf_loss": 8.783172607421875, "policy_loss": -0.01611114852130413, "cur_lr": 0.0005000000237487257, "kl": 0.01840054988861084, "total_loss": 8.773270606994629, "entropy": 1.3769476413726807}, "load_time_ms": 50.596, "num_steps_trained": 7520316}, "timesteps_since_restore": 7520316, "iterations_since_restore": 56, "config": {"local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "compress_observations": false, "clip_rewards": null, "sample_async": false, "custom_resources_per_worker": {}, "use_gae": true, "vf_share_layers": false, "vf_loss_coeff": 1.0, "optimizer": {}, "simple_optimizer": false, "num_envs_per_worker": 1, "vf_clip_param": 1000000.0, "synchronize_filters": true, "num_cpus_per_worker": 1, "multiagent": {"policy_graphs": {}, "policies_to_train": null, "policy_mapping_fn": null}, "kl_target": 0.01, "clip_actions": false, "input": "sampler", "input_evaluation": null, "entropy_coeff": 0.0, "lr_schedule": null, "sgd_minibatch_size": 128, "callbacks": {"on_sample_end": null, "on_train_result": null, "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7f49896bb2e8>", "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7f49896bbe10>", "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7f49896bbe48>"}, "num_cpus_for_driver": 1, "log_level": "INFO", "tf_session_args": {"log_device_placement": false, "gpu_options": {"allow_growth": true}, "intra_op_parallelism_threads": 2, "inter_op_parallelism_threads": 2, "allow_soft_placement": true, "device_count": {"CPU": 1}}, "model": {"dim": 84, "free_log_std": false, "fcnet_hiddens": [128, 64, 32], "custom_model": null, "fcnet_activation": "tanh", "lstm_use_prev_action_reward": false, "grayscale": false, "channel_major": false, "squash_to_range": false, "framestack": true, "use_lstm": false, "conv_activation": "relu", "conv_filters": null, "custom_preprocessor": null, "lstm_cell_size": 256, "zero_mean": true, "custom_options": {}, "max_seq_len": 20}, "lambda": 0.97, "num_gpus_per_worker": 0, "kl_coeff": 0.2, "horizon": 1500, "preprocessor_pref": "deepmind", "env_config": {"run": "PPO", "flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.1,\n            \"eta3\": 0.1,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 7.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 0\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 700,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}"}, "clip_param": 0.3, "observation_filter": "MeanStdFilter", "env": "MultiWaveAttenuationMergePOEnvBufferedObs-v0density_[eta1, eta2, eta3]:[1.0, 0.1, 0.0]_t_min:7.0", "gamma": 0.99, "lr": 0.0005, "monitor": false, "output_compress_columns": ["obs", "new_obs"], "batch_mode": "truncate_episodes", "num_gpus": 0, "num_workers": 30, "output": null, "collect_metrics_timeout": 180, "num_sgd_iter": 10, "sample_batch_size": 750, "output_max_file_size": 67108864, "straggler_mitigation": false, "train_batch_size": 90000}, "num_metric_batches_dropped": 0, "hostname": "flow-main", "episodes_total": 3386, "episode_reward_min": 214.04842480005257, "time_total_s": 3850.726271867752, "policy_reward_mean": {}, "timesteps_this_iter": 130422, "custom_metrics": {"cost1_mean": 351.0358403981848, "system_level_velocity_mean": 12.343223151473355, "cost2_max": -56.93631808214674, "outflow_rate_max": 1096.8024743423553, "outflow_rate_mean": 1009.4120839802532, "cost1_max": 388.74558244354705, "outflow_rate_min": 437.19411221627496, "system_level_velocity_max": 13.71027632987546, "system_level_velocity_min": 11.202118887503836, "cost2_min": -130.45603162440813, "cost1_min": 115.92907671857917, "cost2_mean": -108.51600035471219}, "episode_reward_max": 888.9301068145592}
{"node_ip": "10.138.0.2", "episode_reward_mean": 788.7319878504961, "time_this_iter_s": 69.86609244346619, "done": false, "episode_len_mean": 747.66, "timestamp": 1557391483, "training_iteration": 57, "experiment_id": "58dd2f5595014063b753971755894587", "time_since_restore": 3920.5923643112183, "timesteps_total": 7650207, "pid": 25334, "episodes_this_iter": 63, "date": "2019-05-09_08-44-43", "info": {"sample_time_ms": 39925.008, "grad_time_ms": 29753.97, "num_steps_sampled": 7650207, "update_time_ms": 8.331, "default": {"vf_explained_var": 0.9505316019058228, "cur_kl_coeff": 0.33750006556510925, "vf_loss": 8.903360366821289, "policy_loss": -0.016751697286963463, "cur_lr": 0.0005000000237487257, "kl": 0.018625127151608467, "total_loss": 8.89289379119873, "entropy": 1.3761522769927979}, "load_time_ms": 49.047, "num_steps_trained": 7650207}, "timesteps_since_restore": 7650207, "iterations_since_restore": 57, "config": {"local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "compress_observations": false, "clip_rewards": null, "sample_async": false, "custom_resources_per_worker": {}, "use_gae": true, "vf_share_layers": false, "vf_loss_coeff": 1.0, "optimizer": {}, "simple_optimizer": false, "num_envs_per_worker": 1, "vf_clip_param": 1000000.0, "synchronize_filters": true, "num_cpus_per_worker": 1, "multiagent": {"policy_graphs": {}, "policies_to_train": null, "policy_mapping_fn": null}, "kl_target": 0.01, "clip_actions": false, "input": "sampler", "input_evaluation": null, "entropy_coeff": 0.0, "lr_schedule": null, "sgd_minibatch_size": 128, "callbacks": {"on_sample_end": null, "on_train_result": null, "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7f49896a7e48>", "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7f49896a7dd8>", "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7f49896a7978>"}, "num_cpus_for_driver": 1, "log_level": "INFO", "tf_session_args": {"log_device_placement": false, "gpu_options": {"allow_growth": true}, "intra_op_parallelism_threads": 2, "inter_op_parallelism_threads": 2, "allow_soft_placement": true, "device_count": {"CPU": 1}}, "model": {"dim": 84, "free_log_std": false, "fcnet_hiddens": [128, 64, 32], "custom_model": null, "fcnet_activation": "tanh", "lstm_use_prev_action_reward": false, "grayscale": false, "channel_major": false, "squash_to_range": false, "framestack": true, "use_lstm": false, "conv_activation": "relu", "conv_filters": null, "custom_preprocessor": null, "lstm_cell_size": 256, "zero_mean": true, "custom_options": {}, "max_seq_len": 20}, "lambda": 0.97, "num_gpus_per_worker": 0, "kl_coeff": 0.2, "horizon": 1500, "preprocessor_pref": "deepmind", "env_config": {"run": "PPO", "flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.1,\n            \"eta3\": 0.1,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 7.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 0\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 700,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}"}, "clip_param": 0.3, "observation_filter": "MeanStdFilter", "env": "MultiWaveAttenuationMergePOEnvBufferedObs-v0density_[eta1, eta2, eta3]:[1.0, 0.1, 0.0]_t_min:7.0", "gamma": 0.99, "lr": 0.0005, "monitor": false, "output_compress_columns": ["obs", "new_obs"], "batch_mode": "truncate_episodes", "num_gpus": 0, "num_workers": 30, "output": null, "collect_metrics_timeout": 180, "num_sgd_iter": 10, "sample_batch_size": 750, "output_max_file_size": 67108864, "straggler_mitigation": false, "train_batch_size": 90000}, "num_metric_batches_dropped": 0, "hostname": "flow-main", "episodes_total": 3449, "episode_reward_min": 571.2477124203707, "time_total_s": 3920.5923643112183, "policy_reward_mean": {}, "timesteps_this_iter": 129891, "custom_metrics": {"cost1_mean": 352.9287180271512, "system_level_velocity_mean": 12.31051155169027, "cost2_max": -87.17746938075251, "outflow_rate_max": 1101.9559928220392, "outflow_rate_mean": 1013.436852088582, "cost1_max": 391.3562993272359, "outflow_rate_min": 724.134301788364, "system_level_velocity_max": 13.71027632987546, "system_level_velocity_min": 10.888843189634468, "cost2_min": -130.45603162440813, "cost1_min": 257.73128850663915, "cost2_mean": -108.81270908085577}, "episode_reward_max": 923.0209890525998}
{"node_ip": "10.138.0.2", "episode_reward_mean": 783.7983042930351, "time_this_iter_s": 70.04654788970947, "done": false, "episode_len_mean": 742.57, "timestamp": 1557391554, "training_iteration": 58, "experiment_id": "58dd2f5595014063b753971755894587", "time_since_restore": 3990.6389122009277, "timesteps_total": 7779911, "pid": 25334, "episodes_this_iter": 65, "date": "2019-05-09_08-45-54", "info": {"sample_time_ms": 39988.526, "grad_time_ms": 29858.656, "num_steps_sampled": 7779911, "update_time_ms": 8.524, "default": {"vf_explained_var": 0.9512777328491211, "cur_kl_coeff": 0.33750006556510925, "vf_loss": 9.23814868927002, "policy_loss": -0.017702355980873108, "cur_lr": 0.0005000000237487257, "kl": 0.01885574497282505, "total_loss": 9.22680950164795, "entropy": 1.3815815448760986}, "load_time_ms": 52.729, "num_steps_trained": 7779911}, "timesteps_since_restore": 7779911, "iterations_since_restore": 58, "config": {"local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "compress_observations": false, "clip_rewards": null, "sample_async": false, "custom_resources_per_worker": {}, "use_gae": true, "vf_share_layers": false, "vf_loss_coeff": 1.0, "optimizer": {}, "simple_optimizer": false, "num_envs_per_worker": 1, "vf_clip_param": 1000000.0, "synchronize_filters": true, "num_cpus_per_worker": 1, "multiagent": {"policy_graphs": {}, "policies_to_train": null, "policy_mapping_fn": null}, "kl_target": 0.01, "clip_actions": false, "input": "sampler", "input_evaluation": null, "entropy_coeff": 0.0, "lr_schedule": null, "sgd_minibatch_size": 128, "callbacks": {"on_sample_end": null, "on_train_result": null, "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7f49896bfe10>", "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7f49896bfa90>", "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7f49896bf518>"}, "num_cpus_for_driver": 1, "log_level": "INFO", "tf_session_args": {"log_device_placement": false, "gpu_options": {"allow_growth": true}, "intra_op_parallelism_threads": 2, "inter_op_parallelism_threads": 2, "allow_soft_placement": true, "device_count": {"CPU": 1}}, "model": {"dim": 84, "free_log_std": false, "fcnet_hiddens": [128, 64, 32], "custom_model": null, "fcnet_activation": "tanh", "lstm_use_prev_action_reward": false, "grayscale": false, "channel_major": false, "squash_to_range": false, "framestack": true, "use_lstm": false, "conv_activation": "relu", "conv_filters": null, "custom_preprocessor": null, "lstm_cell_size": 256, "zero_mean": true, "custom_options": {}, "max_seq_len": 20}, "lambda": 0.97, "num_gpus_per_worker": 0, "kl_coeff": 0.2, "horizon": 1500, "preprocessor_pref": "deepmind", "env_config": {"run": "PPO", "flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.1,\n            \"eta3\": 0.1,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 7.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 0\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 700,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}"}, "clip_param": 0.3, "observation_filter": "MeanStdFilter", "env": "MultiWaveAttenuationMergePOEnvBufferedObs-v0density_[eta1, eta2, eta3]:[1.0, 0.1, 0.0]_t_min:7.0", "gamma": 0.99, "lr": 0.0005, "monitor": false, "output_compress_columns": ["obs", "new_obs"], "batch_mode": "truncate_episodes", "num_gpus": 0, "num_workers": 30, "output": null, "collect_metrics_timeout": 180, "num_sgd_iter": 10, "sample_batch_size": 750, "output_max_file_size": 67108864, "straggler_mitigation": false, "train_batch_size": 90000}, "num_metric_batches_dropped": 0, "hostname": "flow-main", "episodes_total": 3514, "episode_reward_min": 209.37031005323666, "time_total_s": 3990.6389122009277, "policy_reward_mean": {}, "timesteps_this_iter": 129704, "custom_metrics": {"cost1_mean": 349.25685002135396, "system_level_velocity_mean": 12.272903533241193, "cost2_max": -59.25398247755159, "outflow_rate_max": 1092.1355844368513, "outflow_rate_mean": 1004.4215083050805, "cost1_max": 391.3562993272359, "outflow_rate_min": 429.7612290870947, "system_level_velocity_max": 13.683146821655594, "system_level_velocity_min": 10.429425541348628, "cost2_min": -126.57721297017764, "cost1_min": 114.47685148791032, "cost2_mean": -107.33506484194382}, "episode_reward_max": 923.0209890525998}
{"node_ip": "10.138.0.2", "episode_reward_mean": 779.8786321438473, "time_this_iter_s": 70.50226473808289, "done": false, "episode_len_mean": 743.32, "timestamp": 1557391624, "training_iteration": 59, "experiment_id": "58dd2f5595014063b753971755894587", "time_since_restore": 4061.1411769390106, "timesteps_total": 7908987, "pid": 25334, "episodes_this_iter": 62, "date": "2019-05-09_08-47-04", "info": {"sample_time_ms": 39947.515, "grad_time_ms": 29829.388, "num_steps_sampled": 7908987, "update_time_ms": 8.496, "default": {"vf_explained_var": 0.9543417692184448, "cur_kl_coeff": 0.33750006556510925, "vf_loss": 8.6686372756958, "policy_loss": -0.016674332320690155, "cur_lr": 0.0005000000237487257, "kl": 0.018056975677609444, "total_loss": 8.658058166503906, "entropy": 1.4106954336166382}, "load_time_ms": 52.833, "num_steps_trained": 7908987}, "timesteps_since_restore": 7908987, "iterations_since_restore": 59, "config": {"local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "compress_observations": false, "clip_rewards": null, "sample_async": false, "custom_resources_per_worker": {}, "use_gae": true, "vf_share_layers": false, "vf_loss_coeff": 1.0, "optimizer": {}, "simple_optimizer": false, "num_envs_per_worker": 1, "vf_clip_param": 1000000.0, "synchronize_filters": true, "num_cpus_per_worker": 1, "multiagent": {"policy_graphs": {}, "policies_to_train": null, "policy_mapping_fn": null}, "kl_target": 0.01, "clip_actions": false, "input": "sampler", "input_evaluation": null, "entropy_coeff": 0.0, "lr_schedule": null, "sgd_minibatch_size": 128, "callbacks": {"on_sample_end": null, "on_train_result": null, "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7f49896bb6a0>", "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7f49896bbb00>", "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7f49896bbd30>"}, "num_cpus_for_driver": 1, "log_level": "INFO", "tf_session_args": {"log_device_placement": false, "gpu_options": {"allow_growth": true}, "intra_op_parallelism_threads": 2, "inter_op_parallelism_threads": 2, "allow_soft_placement": true, "device_count": {"CPU": 1}}, "model": {"dim": 84, "free_log_std": false, "fcnet_hiddens": [128, 64, 32], "custom_model": null, "fcnet_activation": "tanh", "lstm_use_prev_action_reward": false, "grayscale": false, "channel_major": false, "squash_to_range": false, "framestack": true, "use_lstm": false, "conv_activation": "relu", "conv_filters": null, "custom_preprocessor": null, "lstm_cell_size": 256, "zero_mean": true, "custom_options": {}, "max_seq_len": 20}, "lambda": 0.97, "num_gpus_per_worker": 0, "kl_coeff": 0.2, "horizon": 1500, "preprocessor_pref": "deepmind", "env_config": {"run": "PPO", "flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.1,\n            \"eta3\": 0.1,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 7.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 0\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 700,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}"}, "clip_param": 0.3, "observation_filter": "MeanStdFilter", "env": "MultiWaveAttenuationMergePOEnvBufferedObs-v0density_[eta1, eta2, eta3]:[1.0, 0.1, 0.0]_t_min:7.0", "gamma": 0.99, "lr": 0.0005, "monitor": false, "output_compress_columns": ["obs", "new_obs"], "batch_mode": "truncate_episodes", "num_gpus": 0, "num_workers": 30, "output": null, "collect_metrics_timeout": 180, "num_sgd_iter": 10, "sample_batch_size": 750, "output_max_file_size": 67108864, "straggler_mitigation": false, "train_batch_size": 90000}, "num_metric_batches_dropped": 0, "hostname": "flow-main", "episodes_total": 3576, "episode_reward_min": 209.37031005323666, "time_total_s": 4061.1411769390106, "policy_reward_mean": {}, "timesteps_this_iter": 129076, "custom_metrics": {"cost1_mean": 348.70673919027087, "system_level_velocity_mean": 12.260779323718312, "cost2_max": -59.25398247755159, "outflow_rate_max": 1114.0402938601094, "outflow_rate_mean": 1003.811857928237, "cost1_max": 398.39938609661306, "outflow_rate_min": 429.7612290870947, "system_level_velocity_max": 13.89201861127391, "system_level_velocity_min": 9.497456652135401, "cost2_min": -126.57721297017764, "cost1_min": 114.47685148791032, "cost2_mean": -107.49715307988787}, "episode_reward_max": 892.7698681351808}
{"node_ip": "10.138.0.2", "episode_reward_mean": 787.0299256483622, "time_this_iter_s": 71.19978857040405, "done": false, "episode_len_mean": 751.0, "timestamp": 1557391695, "training_iteration": 60, "experiment_id": "58dd2f5595014063b753971755894587", "time_since_restore": 4132.340965509415, "timesteps_total": 8039359, "pid": 25334, "episodes_this_iter": 63, "date": "2019-05-09_08-48-15", "info": {"sample_time_ms": 40018.601, "grad_time_ms": 29939.515, "num_steps_sampled": 8039359, "update_time_ms": 8.641, "default": {"vf_explained_var": 0.9398168325424194, "cur_kl_coeff": 0.33750006556510925, "vf_loss": 11.198875427246094, "policy_loss": -0.017533963546156883, "cur_lr": 0.0005000000237487257, "kl": 0.01842423714697361, "total_loss": 11.187559127807617, "entropy": 1.4095001220703125}, "load_time_ms": 55.407, "num_steps_trained": 8039359}, "timesteps_since_restore": 8039359, "iterations_since_restore": 60, "config": {"local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "compress_observations": false, "clip_rewards": null, "sample_async": false, "custom_resources_per_worker": {}, "use_gae": true, "vf_share_layers": false, "vf_loss_coeff": 1.0, "optimizer": {}, "simple_optimizer": false, "num_envs_per_worker": 1, "vf_clip_param": 1000000.0, "synchronize_filters": true, "num_cpus_per_worker": 1, "multiagent": {"policy_graphs": {}, "policies_to_train": null, "policy_mapping_fn": null}, "kl_target": 0.01, "clip_actions": false, "input": "sampler", "input_evaluation": null, "entropy_coeff": 0.0, "lr_schedule": null, "sgd_minibatch_size": 128, "callbacks": {"on_sample_end": null, "on_train_result": null, "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7f49896bf978>", "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7f49896bff60>", "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7f49896bf860>"}, "num_cpus_for_driver": 1, "log_level": "INFO", "tf_session_args": {"log_device_placement": false, "gpu_options": {"allow_growth": true}, "intra_op_parallelism_threads": 2, "inter_op_parallelism_threads": 2, "allow_soft_placement": true, "device_count": {"CPU": 1}}, "model": {"dim": 84, "free_log_std": false, "fcnet_hiddens": [128, 64, 32], "custom_model": null, "fcnet_activation": "tanh", "lstm_use_prev_action_reward": false, "grayscale": false, "channel_major": false, "squash_to_range": false, "framestack": true, "use_lstm": false, "conv_activation": "relu", "conv_filters": null, "custom_preprocessor": null, "lstm_cell_size": 256, "zero_mean": true, "custom_options": {}, "max_seq_len": 20}, "lambda": 0.97, "num_gpus_per_worker": 0, "kl_coeff": 0.2, "horizon": 1500, "preprocessor_pref": "deepmind", "env_config": {"run": "PPO", "flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.1,\n            \"eta3\": 0.1,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 7.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 0\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 700,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}"}, "clip_param": 0.3, "observation_filter": "MeanStdFilter", "env": "MultiWaveAttenuationMergePOEnvBufferedObs-v0density_[eta1, eta2, eta3]:[1.0, 0.1, 0.0]_t_min:7.0", "gamma": 0.99, "lr": 0.0005, "monitor": false, "output_compress_columns": ["obs", "new_obs"], "batch_mode": "truncate_episodes", "num_gpus": 0, "num_workers": 30, "output": null, "collect_metrics_timeout": 180, "num_sgd_iter": 10, "sample_batch_size": 750, "output_max_file_size": 67108864, "straggler_mitigation": false, "train_batch_size": 90000}, "num_metric_batches_dropped": 0, "hostname": "flow-main", "episodes_total": 3639, "episode_reward_min": 691.2482505458572, "time_total_s": 4132.340965509415, "policy_reward_mean": {}, "timesteps_this_iter": 130372, "custom_metrics": {"cost1_mean": 352.2005038193074, "system_level_velocity_mean": 12.255608190237028, "cost2_max": -89.6130119000762, "outflow_rate_max": 1123.9335002184994, "outflow_rate_mean": 1011.6046927646329, "cost1_max": 401.968625034164, "outflow_rate_min": 912.5417252222591, "system_level_velocity_max": 13.959744964739704, "system_level_velocity_min": 11.05441729115197, "cost2_min": -133.36221761841682, "cost1_min": 315.5502636888889, "cost2_mean": -110.33491512414393}, "episode_reward_max": 923.9153145234451}
{"node_ip": "10.138.0.2", "episode_reward_mean": 777.8556212384248, "time_this_iter_s": 71.6490912437439, "done": false, "episode_len_mean": 742.34, "timestamp": 1557391767, "training_iteration": 61, "experiment_id": "58dd2f5595014063b753971755894587", "time_since_restore": 4203.990056753159, "timesteps_total": 8169594, "pid": 25334, "episodes_this_iter": 64, "date": "2019-05-09_08-49-27", "info": {"sample_time_ms": 39964.194, "grad_time_ms": 30107.383, "num_steps_sampled": 8169594, "update_time_ms": 8.577, "default": {"vf_explained_var": 0.951379656791687, "cur_kl_coeff": 0.33750006556510925, "vf_loss": 9.543848991394043, "policy_loss": -0.01613857038319111, "cur_lr": 0.0005000000237487257, "kl": 0.017898360267281532, "total_loss": 9.533751487731934, "entropy": 1.3963559865951538}, "load_time_ms": 55.867, "num_steps_trained": 8169594}, "timesteps_since_restore": 8169594, "iterations_since_restore": 61, "config": {"local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "compress_observations": false, "clip_rewards": null, "sample_async": false, "custom_resources_per_worker": {}, "use_gae": true, "vf_share_layers": false, "vf_loss_coeff": 1.0, "optimizer": {}, "simple_optimizer": false, "num_envs_per_worker": 1, "vf_clip_param": 1000000.0, "synchronize_filters": true, "num_cpus_per_worker": 1, "multiagent": {"policy_graphs": {}, "policies_to_train": null, "policy_mapping_fn": null}, "kl_target": 0.01, "clip_actions": false, "input": "sampler", "input_evaluation": null, "entropy_coeff": 0.0, "lr_schedule": null, "sgd_minibatch_size": 128, "callbacks": {"on_sample_end": null, "on_train_result": null, "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7f49896bf400>", "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7f49896bfcf8>", "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7f49896bf240>"}, "num_cpus_for_driver": 1, "log_level": "INFO", "tf_session_args": {"log_device_placement": false, "gpu_options": {"allow_growth": true}, "intra_op_parallelism_threads": 2, "inter_op_parallelism_threads": 2, "allow_soft_placement": true, "device_count": {"CPU": 1}}, "model": {"dim": 84, "free_log_std": false, "fcnet_hiddens": [128, 64, 32], "custom_model": null, "fcnet_activation": "tanh", "lstm_use_prev_action_reward": false, "grayscale": false, "channel_major": false, "squash_to_range": false, "framestack": true, "use_lstm": false, "conv_activation": "relu", "conv_filters": null, "custom_preprocessor": null, "lstm_cell_size": 256, "zero_mean": true, "custom_options": {}, "max_seq_len": 20}, "lambda": 0.97, "num_gpus_per_worker": 0, "kl_coeff": 0.2, "horizon": 1500, "preprocessor_pref": "deepmind", "env_config": {"run": "PPO", "flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.1,\n            \"eta3\": 0.1,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 7.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 0\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 700,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}"}, "clip_param": 0.3, "observation_filter": "MeanStdFilter", "env": "MultiWaveAttenuationMergePOEnvBufferedObs-v0density_[eta1, eta2, eta3]:[1.0, 0.1, 0.0]_t_min:7.0", "gamma": 0.99, "lr": 0.0005, "monitor": false, "output_compress_columns": ["obs", "new_obs"], "batch_mode": "truncate_episodes", "num_gpus": 0, "num_workers": 30, "output": null, "collect_metrics_timeout": 180, "num_sgd_iter": 10, "sample_batch_size": 750, "output_max_file_size": 67108864, "straggler_mitigation": false, "train_batch_size": 90000}, "num_metric_batches_dropped": 0, "hostname": "flow-main", "episodes_total": 3703, "episode_reward_min": 225.82130156789415, "time_total_s": 4203.990056753159, "policy_reward_mean": {}, "timesteps_this_iter": 130235, "custom_metrics": {"cost1_mean": 348.9943707777574, "system_level_velocity_mean": 12.291884898243813, "cost2_max": -62.58301898680252, "outflow_rate_max": 1123.9335002184994, "outflow_rate_mean": 1004.291420944021, "cost1_max": 401.968625034164, "outflow_rate_min": 426.72410767539674, "system_level_velocity_max": 13.959744964739704, "system_level_velocity_min": 10.1355848657452, "cost2_min": -127.83132908210432, "cost1_min": 117.14976782205045, "cost2_mean": -110.46399107518585}, "episode_reward_max": 923.9153145234451}
{"node_ip": "10.138.0.2", "episode_reward_mean": 784.7302233838553, "time_this_iter_s": 70.10204195976257, "done": false, "episode_len_mean": 745.74, "timestamp": 1557391837, "training_iteration": 62, "experiment_id": "58dd2f5595014063b753971755894587", "time_since_restore": 4274.092098712921, "timesteps_total": 8298385, "pid": 25334, "episodes_this_iter": 63, "date": "2019-05-09_08-50-37", "info": {"sample_time_ms": 40069.683, "grad_time_ms": 29989.367, "num_steps_sampled": 8298385, "update_time_ms": 8.521, "default": {"vf_explained_var": 0.9497712254524231, "cur_kl_coeff": 0.33750006556510925, "vf_loss": 9.867140769958496, "policy_loss": -0.015596062876284122, "cur_lr": 0.0005000000237487257, "kl": 0.018725212663412094, "total_loss": 9.857864379882812, "entropy": 1.4032220840454102}, "load_time_ms": 58.471, "num_steps_trained": 8298385}, "timesteps_since_restore": 8298385, "iterations_since_restore": 62, "config": {"local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "compress_observations": false, "clip_rewards": null, "sample_async": false, "custom_resources_per_worker": {}, "use_gae": true, "vf_share_layers": false, "vf_loss_coeff": 1.0, "optimizer": {}, "simple_optimizer": false, "num_envs_per_worker": 1, "vf_clip_param": 1000000.0, "synchronize_filters": true, "num_cpus_per_worker": 1, "multiagent": {"policy_graphs": {}, "policies_to_train": null, "policy_mapping_fn": null}, "kl_target": 0.01, "clip_actions": false, "input": "sampler", "input_evaluation": null, "entropy_coeff": 0.0, "lr_schedule": null, "sgd_minibatch_size": 128, "callbacks": {"on_sample_end": null, "on_train_result": null, "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7f49896bbe48>", "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7f49896bbc50>", "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7f49896bb198>"}, "num_cpus_for_driver": 1, "log_level": "INFO", "tf_session_args": {"log_device_placement": false, "gpu_options": {"allow_growth": true}, "intra_op_parallelism_threads": 2, "inter_op_parallelism_threads": 2, "allow_soft_placement": true, "device_count": {"CPU": 1}}, "model": {"dim": 84, "free_log_std": false, "fcnet_hiddens": [128, 64, 32], "custom_model": null, "fcnet_activation": "tanh", "lstm_use_prev_action_reward": false, "grayscale": false, "channel_major": false, "squash_to_range": false, "framestack": true, "use_lstm": false, "conv_activation": "relu", "conv_filters": null, "custom_preprocessor": null, "lstm_cell_size": 256, "zero_mean": true, "custom_options": {}, "max_seq_len": 20}, "lambda": 0.97, "num_gpus_per_worker": 0, "kl_coeff": 0.2, "horizon": 1500, "preprocessor_pref": "deepmind", "env_config": {"run": "PPO", "flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.1,\n            \"eta3\": 0.1,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 7.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 0\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 700,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}"}, "clip_param": 0.3, "observation_filter": "MeanStdFilter", "env": "MultiWaveAttenuationMergePOEnvBufferedObs-v0density_[eta1, eta2, eta3]:[1.0, 0.1, 0.0]_t_min:7.0", "gamma": 0.99, "lr": 0.0005, "monitor": false, "output_compress_columns": ["obs", "new_obs"], "batch_mode": "truncate_episodes", "num_gpus": 0, "num_workers": 30, "output": null, "collect_metrics_timeout": 180, "num_sgd_iter": 10, "sample_batch_size": 750, "output_max_file_size": 67108864, "straggler_mitigation": false, "train_batch_size": 90000}, "num_metric_batches_dropped": 0, "hostname": "flow-main", "episodes_total": 3766, "episode_reward_min": 433.7193482261769, "time_total_s": 4274.092098712921, "policy_reward_mean": {}, "timesteps_this_iter": 128791, "custom_metrics": {"cost1_mean": 350.726477643945, "system_level_velocity_mean": 12.289920843849284, "cost2_max": -86.27499173245937, "outflow_rate_max": 1098.574054871611, "outflow_rate_mean": 1009.455628159903, "cost1_max": 390.9899767058273, "outflow_rate_min": 620.4197712040055, "system_level_velocity_max": 13.546200896097618, "system_level_velocity_min": 10.1355848657452, "cost2_min": -130.26762588670815, "cost1_min": 199.99281344353034, "cost2_mean": -111.44073711337329}, "episode_reward_max": 894.643251103268}
{"node_ip": "10.138.0.2", "episode_reward_mean": 783.5117932674925, "time_this_iter_s": 72.55099654197693, "done": false, "episode_len_mean": 749.27, "timestamp": 1557391910, "training_iteration": 63, "experiment_id": "58dd2f5595014063b753971755894587", "time_since_restore": 4346.643095254898, "timesteps_total": 8427782, "pid": 25334, "episodes_this_iter": 62, "date": "2019-05-09_08-51-50", "info": {"sample_time_ms": 40149.363, "grad_time_ms": 29991.991, "num_steps_sampled": 8427782, "update_time_ms": 8.437, "default": {"vf_explained_var": 0.9448538422584534, "cur_kl_coeff": 0.33750006556510925, "vf_loss": 10.396167755126953, "policy_loss": -0.01712089404463768, "cur_lr": 0.0005000000237487257, "kl": 0.01853601075708866, "total_loss": 10.385303497314453, "entropy": 1.412503957748413}, "load_time_ms": 60.383, "num_steps_trained": 8427782}, "timesteps_since_restore": 8427782, "iterations_since_restore": 63, "config": {"local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "compress_observations": false, "clip_rewards": null, "sample_async": false, "custom_resources_per_worker": {}, "use_gae": true, "vf_share_layers": false, "vf_loss_coeff": 1.0, "optimizer": {}, "simple_optimizer": false, "num_envs_per_worker": 1, "vf_clip_param": 1000000.0, "synchronize_filters": true, "num_cpus_per_worker": 1, "multiagent": {"policy_graphs": {}, "policies_to_train": null, "policy_mapping_fn": null}, "kl_target": 0.01, "clip_actions": false, "input": "sampler", "input_evaluation": null, "entropy_coeff": 0.0, "lr_schedule": null, "sgd_minibatch_size": 128, "callbacks": {"on_sample_end": null, "on_train_result": null, "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7f49896a7f98>", "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7f49896a7dd8>", "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7f49896a7d30>"}, "num_cpus_for_driver": 1, "log_level": "INFO", "tf_session_args": {"log_device_placement": false, "gpu_options": {"allow_growth": true}, "intra_op_parallelism_threads": 2, "inter_op_parallelism_threads": 2, "allow_soft_placement": true, "device_count": {"CPU": 1}}, "model": {"dim": 84, "free_log_std": false, "fcnet_hiddens": [128, 64, 32], "custom_model": null, "fcnet_activation": "tanh", "lstm_use_prev_action_reward": false, "grayscale": false, "channel_major": false, "squash_to_range": false, "framestack": true, "use_lstm": false, "conv_activation": "relu", "conv_filters": null, "custom_preprocessor": null, "lstm_cell_size": 256, "zero_mean": true, "custom_options": {}, "max_seq_len": 20}, "lambda": 0.97, "num_gpus_per_worker": 0, "kl_coeff": 0.2, "horizon": 1500, "preprocessor_pref": "deepmind", "env_config": {"run": "PPO", "flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.1,\n            \"eta3\": 0.1,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 7.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 0\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 700,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}"}, "clip_param": 0.3, "observation_filter": "MeanStdFilter", "env": "MultiWaveAttenuationMergePOEnvBufferedObs-v0density_[eta1, eta2, eta3]:[1.0, 0.1, 0.0]_t_min:7.0", "gamma": 0.99, "lr": 0.0005, "monitor": false, "output_compress_columns": ["obs", "new_obs"], "batch_mode": "truncate_episodes", "num_gpus": 0, "num_workers": 30, "output": null, "collect_metrics_timeout": 180, "num_sgd_iter": 10, "sample_batch_size": 750, "output_max_file_size": 67108864, "straggler_mitigation": false, "train_batch_size": 90000}, "num_metric_batches_dropped": 0, "hostname": "flow-main", "episodes_total": 3828, "episode_reward_min": 585.746495075167, "time_total_s": 4346.643095254898, "policy_reward_mean": {}, "timesteps_this_iter": 129397, "custom_metrics": {"cost1_mean": 351.4550581002611, "system_level_velocity_mean": 12.26294184363349, "cost2_max": -87.50221692870761, "outflow_rate_max": 1128.6215931719732, "outflow_rate_mean": 1011.6946021704302, "cost1_max": 402.9418660084292, "outflow_rate_min": 830.6237347616294, "system_level_velocity_max": 13.973104532345408, "system_level_velocity_min": 9.747427850649517, "cost2_min": -136.794824565109, "cost1_min": 269.598880372977, "cost2_mean": -112.75404160756614}, "episode_reward_max": 910.038600602114}
{"node_ip": "10.138.0.2", "episode_reward_mean": 780.5576587778826, "time_this_iter_s": 69.42096090316772, "done": false, "episode_len_mean": 751.0, "timestamp": 1557391979, "training_iteration": 64, "experiment_id": "58dd2f5595014063b753971755894587", "time_since_restore": 4416.064056158066, "timesteps_total": 8557289, "pid": 25334, "episodes_this_iter": 62, "date": "2019-05-09_08-52-59", "info": {"sample_time_ms": 40225.916, "grad_time_ms": 29977.037, "num_steps_sampled": 8557289, "update_time_ms": 8.471, "default": {"vf_explained_var": 0.9423328042030334, "cur_kl_coeff": 0.33750006556510925, "vf_loss": 10.928692817687988, "policy_loss": -0.01719994656741619, "cur_lr": 0.0005000000237487257, "kl": 0.019009673967957497, "total_loss": 10.91790771484375, "entropy": 1.4194048643112183}, "load_time_ms": 63.025, "num_steps_trained": 8557289}, "timesteps_since_restore": 8557289, "iterations_since_restore": 64, "config": {"local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "compress_observations": false, "clip_rewards": null, "sample_async": false, "custom_resources_per_worker": {}, "use_gae": true, "vf_share_layers": false, "vf_loss_coeff": 1.0, "optimizer": {}, "simple_optimizer": false, "num_envs_per_worker": 1, "vf_clip_param": 1000000.0, "synchronize_filters": true, "num_cpus_per_worker": 1, "multiagent": {"policy_graphs": {}, "policies_to_train": null, "policy_mapping_fn": null}, "kl_target": 0.01, "clip_actions": false, "input": "sampler", "input_evaluation": null, "entropy_coeff": 0.0, "lr_schedule": null, "sgd_minibatch_size": 128, "callbacks": {"on_sample_end": null, "on_train_result": null, "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7f49896c5b38>", "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7f49896c5080>", "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7f49896b12e8>"}, "num_cpus_for_driver": 1, "log_level": "INFO", "tf_session_args": {"log_device_placement": false, "gpu_options": {"allow_growth": true}, "intra_op_parallelism_threads": 2, "inter_op_parallelism_threads": 2, "allow_soft_placement": true, "device_count": {"CPU": 1}}, "model": {"dim": 84, "free_log_std": false, "fcnet_hiddens": [128, 64, 32], "custom_model": null, "fcnet_activation": "tanh", "lstm_use_prev_action_reward": false, "grayscale": false, "channel_major": false, "squash_to_range": false, "framestack": true, "use_lstm": false, "conv_activation": "relu", "conv_filters": null, "custom_preprocessor": null, "lstm_cell_size": 256, "zero_mean": true, "custom_options": {}, "max_seq_len": 20}, "lambda": 0.97, "num_gpus_per_worker": 0, "kl_coeff": 0.2, "horizon": 1500, "preprocessor_pref": "deepmind", "env_config": {"run": "PPO", "flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.1,\n            \"eta3\": 0.1,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 7.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 0\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 700,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}"}, "clip_param": 0.3, "observation_filter": "MeanStdFilter", "env": "MultiWaveAttenuationMergePOEnvBufferedObs-v0density_[eta1, eta2, eta3]:[1.0, 0.1, 0.0]_t_min:7.0", "gamma": 0.99, "lr": 0.0005, "monitor": false, "output_compress_columns": ["obs", "new_obs"], "batch_mode": "truncate_episodes", "num_gpus": 0, "num_workers": 30, "output": null, "collect_metrics_timeout": 180, "num_sgd_iter": 10, "sample_batch_size": 750, "output_max_file_size": 67108864, "straggler_mitigation": false, "train_batch_size": 90000}, "num_metric_batches_dropped": 0, "hostname": "flow-main", "episodes_total": 3890, "episode_reward_min": 631.3942739095143, "time_total_s": 4416.064056158066, "policy_reward_mean": {}, "timesteps_this_iter": 129507, "custom_metrics": {"cost1_mean": 350.47288599529776, "system_level_velocity_mean": 12.203209754649745, "cost2_max": -94.85233479375103, "outflow_rate_max": 1128.6215931719732, "outflow_rate_mean": 1009.4127836640645, "cost1_max": 402.9418660084292, "outflow_rate_min": 888.1305235136626, "system_level_velocity_max": 13.973104532345408, "system_level_velocity_min": 10.215540502969038, "cost2_min": -136.794824565109, "cost1_min": 292.81809284962367, "cost2_mean": -112.97635991178157}, "episode_reward_max": 910.038600602114}
{"node_ip": "10.138.0.2", "episode_reward_mean": 777.7267592046154, "time_this_iter_s": 71.20247030258179, "done": false, "episode_len_mean": 751.0, "timestamp": 1557392051, "training_iteration": 65, "experiment_id": "58dd2f5595014063b753971755894587", "time_since_restore": 4487.266526460648, "timesteps_total": 8686445, "pid": 25334, "episodes_this_iter": 62, "date": "2019-05-09_08-54-11", "info": {"sample_time_ms": 40247.118, "grad_time_ms": 29987.457, "num_steps_sampled": 8686445, "update_time_ms": 8.304, "default": {"vf_explained_var": 0.9423237442970276, "cur_kl_coeff": 0.33750006556510925, "vf_loss": 10.675056457519531, "policy_loss": -0.017567431554198265, "cur_lr": 0.0005000000237487257, "kl": 0.01877075992524624, "total_loss": 10.663824081420898, "entropy": 1.426419973373413}, "load_time_ms": 64.529, "num_steps_trained": 8686445}, "timesteps_since_restore": 8686445, "iterations_since_restore": 65, "config": {"local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "compress_observations": false, "clip_rewards": null, "sample_async": false, "custom_resources_per_worker": {}, "use_gae": true, "vf_share_layers": false, "vf_loss_coeff": 1.0, "optimizer": {}, "simple_optimizer": false, "num_envs_per_worker": 1, "vf_clip_param": 1000000.0, "synchronize_filters": true, "num_cpus_per_worker": 1, "multiagent": {"policy_graphs": {}, "policies_to_train": null, "policy_mapping_fn": null}, "kl_target": 0.01, "clip_actions": false, "input": "sampler", "input_evaluation": null, "entropy_coeff": 0.0, "lr_schedule": null, "sgd_minibatch_size": 128, "callbacks": {"on_sample_end": null, "on_train_result": null, "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7f498a922c50>", "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7f498a9229b0>", "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7f498a922d68>"}, "num_cpus_for_driver": 1, "log_level": "INFO", "tf_session_args": {"log_device_placement": false, "gpu_options": {"allow_growth": true}, "intra_op_parallelism_threads": 2, "inter_op_parallelism_threads": 2, "allow_soft_placement": true, "device_count": {"CPU": 1}}, "model": {"dim": 84, "free_log_std": false, "fcnet_hiddens": [128, 64, 32], "custom_model": null, "fcnet_activation": "tanh", "lstm_use_prev_action_reward": false, "grayscale": false, "channel_major": false, "squash_to_range": false, "framestack": true, "use_lstm": false, "conv_activation": "relu", "conv_filters": null, "custom_preprocessor": null, "lstm_cell_size": 256, "zero_mean": true, "custom_options": {}, "max_seq_len": 20}, "lambda": 0.97, "num_gpus_per_worker": 0, "kl_coeff": 0.2, "horizon": 1500, "preprocessor_pref": "deepmind", "env_config": {"run": "PPO", "flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.1,\n            \"eta3\": 0.1,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 7.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 0\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 700,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}"}, "clip_param": 0.3, "observation_filter": "MeanStdFilter", "env": "MultiWaveAttenuationMergePOEnvBufferedObs-v0density_[eta1, eta2, eta3]:[1.0, 0.1, 0.0]_t_min:7.0", "gamma": 0.99, "lr": 0.0005, "monitor": false, "output_compress_columns": ["obs", "new_obs"], "batch_mode": "truncate_episodes", "num_gpus": 0, "num_workers": 30, "output": null, "collect_metrics_timeout": 180, "num_sgd_iter": 10, "sample_batch_size": 750, "output_max_file_size": 67108864, "straggler_mitigation": false, "train_batch_size": 90000}, "num_metric_batches_dropped": 0, "hostname": "flow-main", "episodes_total": 3952, "episode_reward_min": 631.3942739095143, "time_total_s": 4487.266526460648, "policy_reward_mean": {}, "timesteps_this_iter": 129156, "custom_metrics": {"cost1_mean": 351.6471551289694, "system_level_velocity_mean": 12.248445571889308, "cost2_max": -91.31421118659135, "outflow_rate_max": 1117.2611573330262, "outflow_rate_mean": 1011.7305839044317, "cost1_max": 400.1028585015249, "outflow_rate_min": 888.1305235136626, "system_level_velocity_max": 13.84406864659523, "system_level_velocity_min": 10.451502045459296, "cost2_min": -129.7383261457563, "cost1_min": 299.1778427804574, "cost2_mean": -113.0297381093378}, "episode_reward_max": 905.396032417971}
{"node_ip": "10.138.0.2", "episode_reward_mean": 774.2737582401975, "time_this_iter_s": 72.5104124546051, "done": false, "episode_len_mean": 751.0, "timestamp": 1557392123, "training_iteration": 66, "experiment_id": "58dd2f5595014063b753971755894587", "time_since_restore": 4559.776938915253, "timesteps_total": 8815982, "pid": 25334, "episodes_this_iter": 62, "date": "2019-05-09_08-55-23", "info": {"sample_time_ms": 40223.739, "grad_time_ms": 30362.183, "num_steps_sampled": 8815982, "update_time_ms": 8.155, "default": {"vf_explained_var": 0.9381653070449829, "cur_kl_coeff": 0.33750003576278687, "vf_loss": 11.53406810760498, "policy_loss": -0.017306989058852196, "cur_lr": 0.0005000000237487257, "kl": 0.018798047676682472, "total_loss": 11.523104667663574, "entropy": 1.43014657497406}, "load_time_ms": 63.527, "num_steps_trained": 8815982}, "timesteps_since_restore": 8815982, "iterations_since_restore": 66, "config": {"local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "compress_observations": false, "clip_rewards": null, "sample_async": false, "custom_resources_per_worker": {}, "use_gae": true, "vf_share_layers": false, "vf_loss_coeff": 1.0, "optimizer": {}, "simple_optimizer": false, "num_envs_per_worker": 1, "vf_clip_param": 1000000.0, "synchronize_filters": true, "num_cpus_per_worker": 1, "multiagent": {"policy_graphs": {}, "policies_to_train": null, "policy_mapping_fn": null}, "kl_target": 0.01, "clip_actions": false, "input": "sampler", "input_evaluation": null, "entropy_coeff": 0.0, "lr_schedule": null, "sgd_minibatch_size": 128, "callbacks": {"on_sample_end": null, "on_train_result": null, "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7f49896bfb00>", "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7f49896bffd0>", "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7f49896bf898>"}, "num_cpus_for_driver": 1, "log_level": "INFO", "tf_session_args": {"log_device_placement": false, "gpu_options": {"allow_growth": true}, "intra_op_parallelism_threads": 2, "inter_op_parallelism_threads": 2, "allow_soft_placement": true, "device_count": {"CPU": 1}}, "model": {"dim": 84, "free_log_std": false, "fcnet_hiddens": [128, 64, 32], "custom_model": null, "fcnet_activation": "tanh", "lstm_use_prev_action_reward": false, "grayscale": false, "channel_major": false, "squash_to_range": false, "framestack": true, "use_lstm": false, "conv_activation": "relu", "conv_filters": null, "custom_preprocessor": null, "lstm_cell_size": 256, "zero_mean": true, "custom_options": {}, "max_seq_len": 20}, "lambda": 0.97, "num_gpus_per_worker": 0, "kl_coeff": 0.2, "horizon": 1500, "preprocessor_pref": "deepmind", "env_config": {"run": "PPO", "flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.1,\n            \"eta3\": 0.1,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 7.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 0\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 700,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}"}, "clip_param": 0.3, "observation_filter": "MeanStdFilter", "env": "MultiWaveAttenuationMergePOEnvBufferedObs-v0density_[eta1, eta2, eta3]:[1.0, 0.1, 0.0]_t_min:7.0", "gamma": 0.99, "lr": 0.0005, "monitor": false, "output_compress_columns": ["obs", "new_obs"], "batch_mode": "truncate_episodes", "num_gpus": 0, "num_workers": 30, "output": null, "collect_metrics_timeout": 180, "num_sgd_iter": 10, "sample_batch_size": 750, "output_max_file_size": 67108864, "straggler_mitigation": false, "train_batch_size": 90000}, "num_metric_batches_dropped": 0, "hostname": "flow-main", "episodes_total": 4014, "episode_reward_min": 676.1948429042706, "time_total_s": 4559.776938915253, "policy_reward_mean": {}, "timesteps_this_iter": 129537, "custom_metrics": {"cost1_mean": 350.1839768388441, "system_level_velocity_mean": 12.19436569016916, "cost2_max": -91.31421118659135, "outflow_rate_max": 1123.5656945957103, "outflow_rate_mean": 1008.39123678909, "cost1_max": 402.99783405135213, "outflow_rate_min": 931.4323176200129, "system_level_velocity_max": 14.03412167058471, "system_level_velocity_min": 11.251550253148258, "cost2_min": -154.9075235744951, "cost1_min": 322.5169378038292, "cost2_mean": -114.41434367315149}, "episode_reward_max": 894.8416473938371}
{"node_ip": "10.138.0.2", "episode_reward_mean": 777.2226553612725, "time_this_iter_s": 70.13648247718811, "done": false, "episode_len_mean": 750.34, "timestamp": 1557392193, "training_iteration": 67, "experiment_id": "58dd2f5595014063b753971755894587", "time_since_restore": 4629.913421392441, "timesteps_total": 8945958, "pid": 25334, "episodes_this_iter": 62, "date": "2019-05-09_08-56-33", "info": {"sample_time_ms": 40340.08, "grad_time_ms": 30274.495, "num_steps_sampled": 8945958, "update_time_ms": 8.34, "default": {"vf_explained_var": 0.9362800121307373, "cur_kl_coeff": 0.33750006556510925, "vf_loss": 11.149742126464844, "policy_loss": -0.01764216274023056, "cur_lr": 0.0005000000237487257, "kl": 0.018701212480664253, "total_loss": 11.138412475585938, "entropy": 1.445643663406372}, "load_time_ms": 63.355, "num_steps_trained": 8945958}, "timesteps_since_restore": 8945958, "iterations_since_restore": 67, "config": {"local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "compress_observations": false, "clip_rewards": null, "sample_async": false, "custom_resources_per_worker": {}, "use_gae": true, "vf_share_layers": false, "vf_loss_coeff": 1.0, "optimizer": {}, "simple_optimizer": false, "num_envs_per_worker": 1, "vf_clip_param": 1000000.0, "synchronize_filters": true, "num_cpus_per_worker": 1, "multiagent": {"policy_graphs": {}, "policies_to_train": null, "policy_mapping_fn": null}, "kl_target": 0.01, "clip_actions": false, "input": "sampler", "input_evaluation": null, "entropy_coeff": 0.0, "lr_schedule": null, "sgd_minibatch_size": 128, "callbacks": {"on_sample_end": null, "on_train_result": null, "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7f49896c5080>", "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7f49896c5710>", "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7f49896c5b38>"}, "num_cpus_for_driver": 1, "log_level": "INFO", "tf_session_args": {"log_device_placement": false, "gpu_options": {"allow_growth": true}, "intra_op_parallelism_threads": 2, "inter_op_parallelism_threads": 2, "allow_soft_placement": true, "device_count": {"CPU": 1}}, "model": {"dim": 84, "free_log_std": false, "fcnet_hiddens": [128, 64, 32], "custom_model": null, "fcnet_activation": "tanh", "lstm_use_prev_action_reward": false, "grayscale": false, "channel_major": false, "squash_to_range": false, "framestack": true, "use_lstm": false, "conv_activation": "relu", "conv_filters": null, "custom_preprocessor": null, "lstm_cell_size": 256, "zero_mean": true, "custom_options": {}, "max_seq_len": 20}, "lambda": 0.97, "num_gpus_per_worker": 0, "kl_coeff": 0.2, "horizon": 1500, "preprocessor_pref": "deepmind", "env_config": {"run": "PPO", "flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.1,\n            \"eta3\": 0.1,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 7.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 0\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 700,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}"}, "clip_param": 0.3, "observation_filter": "MeanStdFilter", "env": "MultiWaveAttenuationMergePOEnvBufferedObs-v0density_[eta1, eta2, eta3]:[1.0, 0.1, 0.0]_t_min:7.0", "gamma": 0.99, "lr": 0.0005, "monitor": false, "output_compress_columns": ["obs", "new_obs"], "batch_mode": "truncate_episodes", "num_gpus": 0, "num_workers": 30, "output": null, "collect_metrics_timeout": 180, "num_sgd_iter": 10, "sample_batch_size": 750, "output_max_file_size": 67108864, "straggler_mitigation": false, "train_batch_size": 90000}, "num_metric_batches_dropped": 0, "hostname": "flow-main", "episodes_total": 4076, "episode_reward_min": 684.9112285510456, "time_total_s": 4629.913421392441, "policy_reward_mean": {}, "timesteps_this_iter": 129976, "custom_metrics": {"cost1_mean": 350.37855760487395, "system_level_velocity_mean": 12.207088299761724, "cost2_max": -98.26106281943767, "outflow_rate_max": 1123.5656945957103, "outflow_rate_mean": 1008.5736862958198, "cost1_max": 402.99783405135213, "outflow_rate_min": 917.4484812082451, "system_level_velocity_max": 14.03412167058471, "system_level_velocity_min": 11.131141663901913, "cost2_min": -154.9075235744951, "cost1_min": 318.03018785385336, "cost2_mean": -115.54508879177483}, "episode_reward_max": 912.726986840888}
{"node_ip": "10.138.0.2", "episode_reward_mean": 767.0493803310413, "time_this_iter_s": 71.26027584075928, "done": false, "episode_len_mean": 745.77, "timestamp": 1557392265, "training_iteration": 68, "experiment_id": "58dd2f5595014063b753971755894587", "time_since_restore": 4701.1736972332, "timesteps_total": 9076101, "pid": 25334, "episodes_this_iter": 63, "date": "2019-05-09_08-57-45", "info": {"sample_time_ms": 40425.248, "grad_time_ms": 30316.124, "num_steps_sampled": 9076101, "update_time_ms": 8.533, "default": {"vf_explained_var": 0.9333840608596802, "cur_kl_coeff": 0.33750009536743164, "vf_loss": 11.285194396972656, "policy_loss": -0.017834724858403206, "cur_lr": 0.0005000000237487257, "kl": 0.019234618172049522, "total_loss": 11.27385139465332, "entropy": 1.4610605239868164}, "load_time_ms": 59.469, "num_steps_trained": 9076101}, "timesteps_since_restore": 9076101, "iterations_since_restore": 68, "config": {"local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "compress_observations": false, "clip_rewards": null, "sample_async": false, "custom_resources_per_worker": {}, "use_gae": true, "vf_share_layers": false, "vf_loss_coeff": 1.0, "optimizer": {}, "simple_optimizer": false, "num_envs_per_worker": 1, "vf_clip_param": 1000000.0, "synchronize_filters": true, "num_cpus_per_worker": 1, "multiagent": {"policy_graphs": {}, "policies_to_train": null, "policy_mapping_fn": null}, "kl_target": 0.01, "clip_actions": false, "input": "sampler", "input_evaluation": null, "entropy_coeff": 0.0, "lr_schedule": null, "sgd_minibatch_size": 128, "callbacks": {"on_sample_end": null, "on_train_result": null, "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7f49896c5fd0>", "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7f498a922710>", "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7f498a9226a0>"}, "num_cpus_for_driver": 1, "log_level": "INFO", "tf_session_args": {"log_device_placement": false, "gpu_options": {"allow_growth": true}, "intra_op_parallelism_threads": 2, "inter_op_parallelism_threads": 2, "allow_soft_placement": true, "device_count": {"CPU": 1}}, "model": {"dim": 84, "free_log_std": false, "fcnet_hiddens": [128, 64, 32], "custom_model": null, "fcnet_activation": "tanh", "lstm_use_prev_action_reward": false, "grayscale": false, "channel_major": false, "squash_to_range": false, "framestack": true, "use_lstm": false, "conv_activation": "relu", "conv_filters": null, "custom_preprocessor": null, "lstm_cell_size": 256, "zero_mean": true, "custom_options": {}, "max_seq_len": 20}, "lambda": 0.97, "num_gpus_per_worker": 0, "kl_coeff": 0.2, "horizon": 1500, "preprocessor_pref": "deepmind", "env_config": {"run": "PPO", "flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.1,\n            \"eta3\": 0.1,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 7.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 0\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 700,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}"}, "clip_param": 0.3, "observation_filter": "MeanStdFilter", "env": "MultiWaveAttenuationMergePOEnvBufferedObs-v0density_[eta1, eta2, eta3]:[1.0, 0.1, 0.0]_t_min:7.0", "gamma": 0.99, "lr": 0.0005, "monitor": false, "output_compress_columns": ["obs", "new_obs"], "batch_mode": "truncate_episodes", "num_gpus": 0, "num_workers": 30, "output": null, "collect_metrics_timeout": 180, "num_sgd_iter": 10, "sample_batch_size": 750, "output_max_file_size": 67108864, "straggler_mitigation": false, "train_batch_size": 90000}, "num_metric_batches_dropped": 0, "hostname": "flow-main", "episodes_total": 4139, "episode_reward_min": 209.52813304555121, "time_total_s": 4701.1736972332, "policy_reward_mean": {}, "timesteps_this_iter": 130143, "custom_metrics": {"cost1_mean": 345.1689675202984, "system_level_velocity_mean": 12.112998819425705, "cost2_max": -60.32105640718733, "outflow_rate_max": 1135.958159893455, "outflow_rate_mean": 994.9985291643794, "cost1_max": 407.2133679020126, "outflow_rate_min": 427.8271969569525, "system_level_velocity_max": 14.160745292826475, "system_level_velocity_min": 10.556612371047002, "cost2_min": -142.4420293956423, "cost1_min": 114.46285426364119, "cost2_mean": -114.49302642210283}, "episode_reward_max": 905.0645451513701}
{"node_ip": "10.138.0.2", "episode_reward_mean": 753.9734807490225, "time_this_iter_s": 71.79005312919617, "done": false, "episode_len_mean": 732.68, "timestamp": 1557392336, "training_iteration": 69, "experiment_id": "58dd2f5595014063b753971755894587", "time_since_restore": 4772.963750362396, "timesteps_total": 9206785, "pid": 25334, "episodes_this_iter": 63, "date": "2019-05-09_08-58-56", "info": {"sample_time_ms": 40597.508, "grad_time_ms": 30276.372, "num_steps_sampled": 9206785, "update_time_ms": 8.501, "default": {"vf_explained_var": 0.9268971681594849, "cur_kl_coeff": 0.33750006556510925, "vf_loss": 12.787805557250977, "policy_loss": -0.01732059195637703, "cur_lr": 0.0005000000237487257, "kl": 0.0189072173088789, "total_loss": 12.776865005493164, "entropy": 1.4566607475280762}, "load_time_ms": 56.558, "num_steps_trained": 9206785}, "timesteps_since_restore": 9206785, "iterations_since_restore": 69, "config": {"local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "compress_observations": false, "clip_rewards": null, "sample_async": false, "custom_resources_per_worker": {}, "use_gae": true, "vf_share_layers": false, "vf_loss_coeff": 1.0, "optimizer": {}, "simple_optimizer": false, "num_envs_per_worker": 1, "vf_clip_param": 1000000.0, "synchronize_filters": true, "num_cpus_per_worker": 1, "multiagent": {"policy_graphs": {}, "policies_to_train": null, "policy_mapping_fn": null}, "kl_target": 0.01, "clip_actions": false, "input": "sampler", "input_evaluation": null, "entropy_coeff": 0.0, "lr_schedule": null, "sgd_minibatch_size": 128, "callbacks": {"on_sample_end": null, "on_train_result": null, "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7f49896bf0f0>", "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7f49896bfa58>", "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7f49896bfb70>"}, "num_cpus_for_driver": 1, "log_level": "INFO", "tf_session_args": {"log_device_placement": false, "gpu_options": {"allow_growth": true}, "intra_op_parallelism_threads": 2, "inter_op_parallelism_threads": 2, "allow_soft_placement": true, "device_count": {"CPU": 1}}, "model": {"dim": 84, "free_log_std": false, "fcnet_hiddens": [128, 64, 32], "custom_model": null, "fcnet_activation": "tanh", "lstm_use_prev_action_reward": false, "grayscale": false, "channel_major": false, "squash_to_range": false, "framestack": true, "use_lstm": false, "conv_activation": "relu", "conv_filters": null, "custom_preprocessor": null, "lstm_cell_size": 256, "zero_mean": true, "custom_options": {}, "max_seq_len": 20}, "lambda": 0.97, "num_gpus_per_worker": 0, "kl_coeff": 0.2, "horizon": 1500, "preprocessor_pref": "deepmind", "env_config": {"run": "PPO", "flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.1,\n            \"eta3\": 0.1,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 7.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 0\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 700,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}"}, "clip_param": 0.3, "observation_filter": "MeanStdFilter", "env": "MultiWaveAttenuationMergePOEnvBufferedObs-v0density_[eta1, eta2, eta3]:[1.0, 0.1, 0.0]_t_min:7.0", "gamma": 0.99, "lr": 0.0005, "monitor": false, "output_compress_columns": ["obs", "new_obs"], "batch_mode": "truncate_episodes", "num_gpus": 0, "num_workers": 30, "output": null, "collect_metrics_timeout": 180, "num_sgd_iter": 10, "sample_batch_size": 750, "output_max_file_size": 67108864, "straggler_mitigation": false, "train_batch_size": 90000}, "num_metric_batches_dropped": 0, "hostname": "flow-main", "episodes_total": 4202, "episode_reward_min": 203.32483056082876, "time_total_s": 4772.963750362396, "policy_reward_mean": {}, "timesteps_this_iter": 130684, "custom_metrics": {"cost1_mean": 339.9994846517438, "system_level_velocity_mean": 12.178707854359722, "cost2_max": -58.86767977835825, "outflow_rate_max": 1135.958159893455, "outflow_rate_mean": 981.9317509139785, "cost1_max": 407.2133679020126, "outflow_rate_min": 425.17911184809515, "system_level_velocity_max": 14.160745292826475, "system_level_velocity_min": 11.041988096551762, "cost2_min": -139.99404828609605, "cost1_min": 111.52295929927404, "cost2_mean": -112.73884553432461}, "episode_reward_max": 914.436138305872}
{"node_ip": "10.138.0.2", "episode_reward_mean": 761.2081598456888, "time_this_iter_s": 71.85320091247559, "done": false, "episode_len_mean": 738.81, "timestamp": 1557392408, "training_iteration": 70, "experiment_id": "58dd2f5595014063b753971755894587", "time_since_restore": 4844.816951274872, "timesteps_total": 9338008, "pid": 25334, "episodes_this_iter": 63, "date": "2019-05-09_09-00-08", "info": {"sample_time_ms": 40688.275, "grad_time_ms": 30252.609, "num_steps_sampled": 9338008, "update_time_ms": 8.405, "default": {"vf_explained_var": 0.9337484240531921, "cur_kl_coeff": 0.33750006556510925, "vf_loss": 11.322364807128906, "policy_loss": -0.017832661047577858, "cur_lr": 0.0005000000237487257, "kl": 0.01907982863485813, "total_loss": 11.310972213745117, "entropy": 1.460559368133545}, "load_time_ms": 56.473, "num_steps_trained": 9338008}, "timesteps_since_restore": 9338008, "iterations_since_restore": 70, "config": {"local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "compress_observations": false, "clip_rewards": null, "sample_async": false, "custom_resources_per_worker": {}, "use_gae": true, "vf_share_layers": false, "vf_loss_coeff": 1.0, "optimizer": {}, "simple_optimizer": false, "num_envs_per_worker": 1, "vf_clip_param": 1000000.0, "synchronize_filters": true, "num_cpus_per_worker": 1, "multiagent": {"policy_graphs": {}, "policies_to_train": null, "policy_mapping_fn": null}, "kl_target": 0.01, "clip_actions": false, "input": "sampler", "input_evaluation": null, "entropy_coeff": 0.0, "lr_schedule": null, "sgd_minibatch_size": 128, "callbacks": {"on_sample_end": null, "on_train_result": null, "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7f49896bfc18>", "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7f49896bfeb8>", "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7f49896bf0b8>"}, "num_cpus_for_driver": 1, "log_level": "INFO", "tf_session_args": {"log_device_placement": false, "gpu_options": {"allow_growth": true}, "intra_op_parallelism_threads": 2, "inter_op_parallelism_threads": 2, "allow_soft_placement": true, "device_count": {"CPU": 1}}, "model": {"dim": 84, "free_log_std": false, "fcnet_hiddens": [128, 64, 32], "custom_model": null, "fcnet_activation": "tanh", "lstm_use_prev_action_reward": false, "grayscale": false, "channel_major": false, "squash_to_range": false, "framestack": true, "use_lstm": false, "conv_activation": "relu", "conv_filters": null, "custom_preprocessor": null, "lstm_cell_size": 256, "zero_mean": true, "custom_options": {}, "max_seq_len": 20}, "lambda": 0.97, "num_gpus_per_worker": 0, "kl_coeff": 0.2, "horizon": 1500, "preprocessor_pref": "deepmind", "env_config": {"run": "PPO", "flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.1,\n            \"eta3\": 0.1,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 7.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 0\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 700,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}"}, "clip_param": 0.3, "observation_filter": "MeanStdFilter", "env": "MultiWaveAttenuationMergePOEnvBufferedObs-v0density_[eta1, eta2, eta3]:[1.0, 0.1, 0.0]_t_min:7.0", "gamma": 0.99, "lr": 0.0005, "monitor": false, "output_compress_columns": ["obs", "new_obs"], "batch_mode": "truncate_episodes", "num_gpus": 0, "num_workers": 30, "output": null, "collect_metrics_timeout": 180, "num_sgd_iter": 10, "sample_batch_size": 750, "output_max_file_size": 67108864, "straggler_mitigation": false, "train_batch_size": 90000}, "num_metric_batches_dropped": 0, "hostname": "flow-main", "episodes_total": 4265, "episode_reward_min": 203.32483056082876, "time_total_s": 4844.816951274872, "policy_reward_mean": {}, "timesteps_this_iter": 131223, "custom_metrics": {"cost1_mean": 345.55333469748007, "system_level_velocity_mean": 12.262380799279718, "cost2_max": -58.86767977835825, "outflow_rate_max": 1120.2720021579087, "outflow_rate_mean": 996.4480164526988, "cost1_max": 402.09047688863285, "outflow_rate_min": 425.17911184809515, "system_level_velocity_max": 13.917446900926633, "system_level_velocity_min": 11.118806218525448, "cost2_min": -136.34433074160154, "cost1_min": 111.52295929927404, "cost2_mean": -111.79670311445052}, "episode_reward_max": 922.6970522017465}
{"node_ip": "10.138.0.2", "episode_reward_mean": 779.7148939420066, "time_this_iter_s": 69.78853273391724, "done": false, "episode_len_mean": 749.35, "timestamp": 1557392478, "training_iteration": 71, "experiment_id": "58dd2f5595014063b753971755894587", "time_since_restore": 4914.605484008789, "timesteps_total": 9466471, "pid": 25334, "episodes_this_iter": 62, "date": "2019-05-09_09-01-18", "info": {"sample_time_ms": 40781.399, "grad_time_ms": 29977.409, "num_steps_sampled": 9466471, "update_time_ms": 8.382, "default": {"vf_explained_var": 0.938285231590271, "cur_kl_coeff": 0.33750003576278687, "vf_loss": 10.797104835510254, "policy_loss": -0.017119280993938446, "cur_lr": 0.0005000000237487257, "kl": 0.01940598338842392, "total_loss": 10.786535263061523, "entropy": 1.4478040933609009}, "load_time_ms": 53.145, "num_steps_trained": 9466471}, "timesteps_since_restore": 9466471, "iterations_since_restore": 71, "config": {"local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "compress_observations": false, "clip_rewards": null, "sample_async": false, "custom_resources_per_worker": {}, "use_gae": true, "vf_share_layers": false, "vf_loss_coeff": 1.0, "optimizer": {}, "simple_optimizer": false, "num_envs_per_worker": 1, "vf_clip_param": 1000000.0, "synchronize_filters": true, "num_cpus_per_worker": 1, "multiagent": {"policy_graphs": {}, "policies_to_train": null, "policy_mapping_fn": null}, "kl_target": 0.01, "clip_actions": false, "input": "sampler", "input_evaluation": null, "entropy_coeff": 0.0, "lr_schedule": null, "sgd_minibatch_size": 128, "callbacks": {"on_sample_end": null, "on_train_result": null, "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7f49896c5b00>", "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7f49896c5fd0>", "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7f49896c55c0>"}, "num_cpus_for_driver": 1, "log_level": "INFO", "tf_session_args": {"log_device_placement": false, "gpu_options": {"allow_growth": true}, "intra_op_parallelism_threads": 2, "inter_op_parallelism_threads": 2, "allow_soft_placement": true, "device_count": {"CPU": 1}}, "model": {"dim": 84, "free_log_std": false, "fcnet_hiddens": [128, 64, 32], "custom_model": null, "fcnet_activation": "tanh", "lstm_use_prev_action_reward": false, "grayscale": false, "channel_major": false, "squash_to_range": false, "framestack": true, "use_lstm": false, "conv_activation": "relu", "conv_filters": null, "custom_preprocessor": null, "lstm_cell_size": 256, "zero_mean": true, "custom_options": {}, "max_seq_len": 20}, "lambda": 0.97, "num_gpus_per_worker": 0, "kl_coeff": 0.2, "horizon": 1500, "preprocessor_pref": "deepmind", "env_config": {"run": "PPO", "flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.1,\n            \"eta3\": 0.1,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 7.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 0\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 700,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}"}, "clip_param": 0.3, "observation_filter": "MeanStdFilter", "env": "MultiWaveAttenuationMergePOEnvBufferedObs-v0density_[eta1, eta2, eta3]:[1.0, 0.1, 0.0]_t_min:7.0", "gamma": 0.99, "lr": 0.0005, "monitor": false, "output_compress_columns": ["obs", "new_obs"], "batch_mode": "truncate_episodes", "num_gpus": 0, "num_workers": 30, "output": null, "collect_metrics_timeout": 180, "num_sgd_iter": 10, "sample_batch_size": 750, "output_max_file_size": 67108864, "straggler_mitigation": false, "train_batch_size": 90000}, "num_metric_batches_dropped": 0, "hostname": "flow-main", "episodes_total": 4327, "episode_reward_min": 583.7711868442847, "time_total_s": 4914.605484008789, "policy_reward_mean": {}, "timesteps_this_iter": 128463, "custom_metrics": {"cost1_mean": 352.2689018077253, "system_level_velocity_mean": 12.279411963493558, "cost2_max": -92.68379786227088, "outflow_rate_max": 1141.0091023818018, "outflow_rate_mean": 1012.3573790599423, "cost1_max": 412.72636683169287, "outflow_rate_min": 822.5421902408524, "system_level_velocity_max": 14.352392416208088, "system_level_velocity_min": 11.118806218525448, "cost2_min": -136.34433074160154, "cost1_min": 265.811369107564, "cost2_mean": -115.24486985831085}, "episode_reward_max": 942.8521962546897}
{"node_ip": "10.138.0.2", "episode_reward_mean": 763.3882982545958, "time_this_iter_s": 70.52121353149414, "done": false, "episode_len_mean": 737.82, "timestamp": 1557392549, "training_iteration": 72, "experiment_id": "58dd2f5595014063b753971755894587", "time_since_restore": 4985.126697540283, "timesteps_total": 9596070, "pid": 25334, "episodes_this_iter": 66, "date": "2019-05-09_09-02-29", "info": {"sample_time_ms": 40787.705, "grad_time_ms": 30017.509, "num_steps_sampled": 9596070, "update_time_ms": 8.422, "default": {"vf_explained_var": 0.9320878982543945, "cur_kl_coeff": 0.33750003576278687, "vf_loss": 12.096471786499023, "policy_loss": -0.01604439504444599, "cur_lr": 0.0005000000237487257, "kl": 0.021427519619464874, "total_loss": 12.087658882141113, "entropy": 1.4672045707702637}, "load_time_ms": 49.729, "num_steps_trained": 9596070}, "timesteps_since_restore": 9596070, "iterations_since_restore": 72, "config": {"local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "compress_observations": false, "clip_rewards": null, "sample_async": false, "custom_resources_per_worker": {}, "use_gae": true, "vf_share_layers": false, "vf_loss_coeff": 1.0, "optimizer": {}, "simple_optimizer": false, "num_envs_per_worker": 1, "vf_clip_param": 1000000.0, "synchronize_filters": true, "num_cpus_per_worker": 1, "multiagent": {"policy_graphs": {}, "policies_to_train": null, "policy_mapping_fn": null}, "kl_target": 0.01, "clip_actions": false, "input": "sampler", "input_evaluation": null, "entropy_coeff": 0.0, "lr_schedule": null, "sgd_minibatch_size": 128, "callbacks": {"on_sample_end": null, "on_train_result": null, "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7f49896c5518>", "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7f49896c5668>", "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7f49896c5860>"}, "num_cpus_for_driver": 1, "log_level": "INFO", "tf_session_args": {"log_device_placement": false, "gpu_options": {"allow_growth": true}, "intra_op_parallelism_threads": 2, "inter_op_parallelism_threads": 2, "allow_soft_placement": true, "device_count": {"CPU": 1}}, "model": {"dim": 84, "free_log_std": false, "fcnet_hiddens": [128, 64, 32], "custom_model": null, "fcnet_activation": "tanh", "lstm_use_prev_action_reward": false, "grayscale": false, "channel_major": false, "squash_to_range": false, "framestack": true, "use_lstm": false, "conv_activation": "relu", "conv_filters": null, "custom_preprocessor": null, "lstm_cell_size": 256, "zero_mean": true, "custom_options": {}, "max_seq_len": 20}, "lambda": 0.97, "num_gpus_per_worker": 0, "kl_coeff": 0.2, "horizon": 1500, "preprocessor_pref": "deepmind", "env_config": {"run": "PPO", "flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.1,\n            \"eta3\": 0.1,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 7.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 0\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 700,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}"}, "clip_param": 0.3, "observation_filter": "MeanStdFilter", "env": "MultiWaveAttenuationMergePOEnvBufferedObs-v0density_[eta1, eta2, eta3]:[1.0, 0.1, 0.0]_t_min:7.0", "gamma": 0.99, "lr": 0.0005, "monitor": false, "output_compress_columns": ["obs", "new_obs"], "batch_mode": "truncate_episodes", "num_gpus": 0, "num_workers": 30, "output": null, "collect_metrics_timeout": 180, "num_sgd_iter": 10, "sample_batch_size": 750, "output_max_file_size": 67108864, "straggler_mitigation": false, "train_batch_size": 90000}, "num_metric_batches_dropped": 0, "hostname": "flow-main", "episodes_total": 4393, "episode_reward_min": 67.28662532586588, "time_total_s": 4985.126697540283, "policy_reward_mean": {}, "timesteps_this_iter": 129599, "custom_metrics": {"cost1_mean": 348.3562399736079, "system_level_velocity_mean": 12.355184470473187, "cost2_max": -46.1241790801309, "outflow_rate_max": 1144.2453449370269, "outflow_rate_mean": 1001.1082959899329, "cost1_max": 413.8138017063022, "outflow_rate_min": 252.80341528926027, "system_level_velocity_max": 14.407339077050445, "system_level_velocity_min": 10.001513981096268, "cost2_min": -131.97678338749978, "cost1_min": 50.42811888287438, "cost2_mean": -114.94878235164936}, "episode_reward_max": 942.8521962546897}
{"node_ip": "10.138.0.2", "episode_reward_mean": 748.845712683651, "time_this_iter_s": 71.2078115940094, "done": false, "episode_len_mean": 740.41, "timestamp": 1557392620, "training_iteration": 73, "experiment_id": "58dd2f5595014063b753971755894587", "time_since_restore": 5056.334509134293, "timesteps_total": 9725821, "pid": 25334, "episodes_this_iter": 64, "date": "2019-05-09_09-03-40", "info": {"sample_time_ms": 40859.446, "grad_time_ms": 29818.108, "num_steps_sampled": 9725821, "update_time_ms": 8.488, "default": {"vf_explained_var": 0.9353331923484802, "cur_kl_coeff": 0.5062499046325684, "vf_loss": 11.216748237609863, "policy_loss": -0.016447877511382103, "cur_lr": 0.0005000000237487257, "kl": 0.014840849675238132, "total_loss": 11.20781421661377, "entropy": 1.4652647972106934}, "load_time_ms": 49.448, "num_steps_trained": 9725821}, "timesteps_since_restore": 9725821, "iterations_since_restore": 73, "config": {"local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "compress_observations": false, "clip_rewards": null, "sample_async": false, "custom_resources_per_worker": {}, "use_gae": true, "vf_share_layers": false, "vf_loss_coeff": 1.0, "optimizer": {}, "simple_optimizer": false, "num_envs_per_worker": 1, "vf_clip_param": 1000000.0, "synchronize_filters": true, "num_cpus_per_worker": 1, "multiagent": {"policy_graphs": {}, "policies_to_train": null, "policy_mapping_fn": null}, "kl_target": 0.01, "clip_actions": false, "input": "sampler", "input_evaluation": null, "entropy_coeff": 0.0, "lr_schedule": null, "sgd_minibatch_size": 128, "callbacks": {"on_sample_end": null, "on_train_result": null, "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7f49896bfba8>", "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7f49896bfa90>", "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7f49896bfc18>"}, "num_cpus_for_driver": 1, "log_level": "INFO", "tf_session_args": {"log_device_placement": false, "gpu_options": {"allow_growth": true}, "intra_op_parallelism_threads": 2, "inter_op_parallelism_threads": 2, "allow_soft_placement": true, "device_count": {"CPU": 1}}, "model": {"dim": 84, "free_log_std": false, "fcnet_hiddens": [128, 64, 32], "custom_model": null, "fcnet_activation": "tanh", "lstm_use_prev_action_reward": false, "grayscale": false, "channel_major": false, "squash_to_range": false, "framestack": true, "use_lstm": false, "conv_activation": "relu", "conv_filters": null, "custom_preprocessor": null, "lstm_cell_size": 256, "zero_mean": true, "custom_options": {}, "max_seq_len": 20}, "lambda": 0.97, "num_gpus_per_worker": 0, "kl_coeff": 0.2, "horizon": 1500, "preprocessor_pref": "deepmind", "env_config": {"run": "PPO", "flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.1,\n            \"eta3\": 0.1,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 7.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 0\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 700,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}"}, "clip_param": 0.3, "observation_filter": "MeanStdFilter", "env": "MultiWaveAttenuationMergePOEnvBufferedObs-v0density_[eta1, eta2, eta3]:[1.0, 0.1, 0.0]_t_min:7.0", "gamma": 0.99, "lr": 0.0005, "monitor": false, "output_compress_columns": ["obs", "new_obs"], "batch_mode": "truncate_episodes", "num_gpus": 0, "num_workers": 30, "output": null, "collect_metrics_timeout": 180, "num_sgd_iter": 10, "sample_batch_size": 750, "output_max_file_size": 67108864, "straggler_mitigation": false, "train_batch_size": 90000}, "num_metric_batches_dropped": 0, "hostname": "flow-main", "episodes_total": 4457, "episode_reward_min": 67.28662532586588, "time_total_s": 5056.334509134293, "policy_reward_mean": {}, "timesteps_this_iter": 129751, "custom_metrics": {"cost1_mean": 346.11334894160973, "system_level_velocity_mean": 12.243577397500633, "cost2_max": -46.1241790801309, "outflow_rate_max": 1148.1031910804893, "outflow_rate_mean": 996.4662129521253, "cost1_max": 418.666377014117, "outflow_rate_min": 252.80341528926027, "system_level_velocity_max": 14.529278423796143, "system_level_velocity_min": 10.612844617084217, "cost2_min": -139.3707226154384, "cost1_min": 50.42811888287438, "cost2_mean": -115.42498579444604}, "episode_reward_max": 940.3983814529857}
{"node_ip": "10.138.0.2", "episode_reward_mean": 762.6165174305431, "time_this_iter_s": 69.0562789440155, "done": false, "episode_len_mean": 751.0, "timestamp": 1557392689, "training_iteration": 74, "experiment_id": "58dd2f5595014063b753971755894587", "time_since_restore": 5125.390788078308, "timesteps_total": 9854421, "pid": 25334, "episodes_this_iter": 62, "date": "2019-05-09_09-04-49", "info": {"sample_time_ms": 40863.323, "grad_time_ms": 29782.787, "num_steps_sampled": 9854421, "update_time_ms": 8.294, "default": {"vf_explained_var": 0.9369979500770569, "cur_kl_coeff": 0.5062499642372131, "vf_loss": 10.90450668334961, "policy_loss": -0.018003759905695915, "cur_lr": 0.0005000000237487257, "kl": 0.016459859907627106, "total_loss": 10.894835472106934, "entropy": 1.4707802534103394}, "load_time_ms": 48.923, "num_steps_trained": 9854421}, "timesteps_since_restore": 9854421, "iterations_since_restore": 74, "config": {"local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "compress_observations": false, "clip_rewards": null, "sample_async": false, "custom_resources_per_worker": {}, "use_gae": true, "vf_share_layers": false, "vf_loss_coeff": 1.0, "optimizer": {}, "simple_optimizer": false, "num_envs_per_worker": 1, "vf_clip_param": 1000000.0, "synchronize_filters": true, "num_cpus_per_worker": 1, "multiagent": {"policy_graphs": {}, "policies_to_train": null, "policy_mapping_fn": null}, "kl_target": 0.01, "clip_actions": false, "input": "sampler", "input_evaluation": null, "entropy_coeff": 0.0, "lr_schedule": null, "sgd_minibatch_size": 128, "callbacks": {"on_sample_end": null, "on_train_result": null, "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7f49896c5fd0>", "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7f49896c52e8>", "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7f49896c59e8>"}, "num_cpus_for_driver": 1, "log_level": "INFO", "tf_session_args": {"log_device_placement": false, "gpu_options": {"allow_growth": true}, "intra_op_parallelism_threads": 2, "inter_op_parallelism_threads": 2, "allow_soft_placement": true, "device_count": {"CPU": 1}}, "model": {"dim": 84, "free_log_std": false, "fcnet_hiddens": [128, 64, 32], "custom_model": null, "fcnet_activation": "tanh", "lstm_use_prev_action_reward": false, "grayscale": false, "channel_major": false, "squash_to_range": false, "framestack": true, "use_lstm": false, "conv_activation": "relu", "conv_filters": null, "custom_preprocessor": null, "lstm_cell_size": 256, "zero_mean": true, "custom_options": {}, "max_seq_len": 20}, "lambda": 0.97, "num_gpus_per_worker": 0, "kl_coeff": 0.2, "horizon": 1500, "preprocessor_pref": "deepmind", "env_config": {"run": "PPO", "flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.1,\n            \"eta3\": 0.1,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 7.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 0\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 700,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}"}, "clip_param": 0.3, "observation_filter": "MeanStdFilter", "env": "MultiWaveAttenuationMergePOEnvBufferedObs-v0density_[eta1, eta2, eta3]:[1.0, 0.1, 0.0]_t_min:7.0", "gamma": 0.99, "lr": 0.0005, "monitor": false, "output_compress_columns": ["obs", "new_obs"], "batch_mode": "truncate_episodes", "num_gpus": 0, "num_workers": 30, "output": null, "collect_metrics_timeout": 180, "num_sgd_iter": 10, "sample_batch_size": 750, "output_max_file_size": 67108864, "straggler_mitigation": false, "train_batch_size": 90000}, "num_metric_batches_dropped": 0, "hostname": "flow-main", "episodes_total": 4519, "episode_reward_min": 670.1913366218237, "time_total_s": 5125.390788078308, "policy_reward_mean": {}, "timesteps_this_iter": 128600, "custom_metrics": {"cost1_mean": 353.6239577114203, "system_level_velocity_mean": 12.339998024208299, "cost2_max": -96.36490350549458, "outflow_rate_max": 1148.1031910804893, "outflow_rate_mean": 1016.1808185166713, "cost1_max": 418.666377014117, "outflow_rate_min": 936.9994324275385, "system_level_velocity_max": 14.529278423796143, "system_level_velocity_min": 11.145937219867626, "cost2_min": -135.85633695360573, "cost1_min": 316.8396920189581, "cost2_mean": -117.5464954778411}, "episode_reward_max": 940.3983814529857}
{"node_ip": "10.138.0.2", "episode_reward_mean": 759.5354903253047, "time_this_iter_s": 72.15822052955627, "done": false, "episode_len_mean": 745.67, "timestamp": 1557392761, "training_iteration": 75, "experiment_id": "58dd2f5595014063b753971755894587", "time_since_restore": 5197.549008607864, "timesteps_total": 9984807, "pid": 25334, "episodes_this_iter": 64, "date": "2019-05-09_09-06-01", "info": {"sample_time_ms": 40906.769, "grad_time_ms": 29843.168, "num_steps_sampled": 9984807, "update_time_ms": 8.402, "default": {"vf_explained_var": 0.9341326355934143, "cur_kl_coeff": 0.5062499046325684, "vf_loss": 11.444171905517578, "policy_loss": -0.017280664294958115, "cur_lr": 0.0005000000237487257, "kl": 0.01582610048353672, "total_loss": 11.434904098510742, "entropy": 1.4710568189620972}, "load_time_ms": 44.983, "num_steps_trained": 9984807}, "timesteps_since_restore": 9984807, "iterations_since_restore": 75, "config": {"local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "compress_observations": false, "clip_rewards": null, "sample_async": false, "custom_resources_per_worker": {}, "use_gae": true, "vf_share_layers": false, "vf_loss_coeff": 1.0, "optimizer": {}, "simple_optimizer": false, "num_envs_per_worker": 1, "vf_clip_param": 1000000.0, "synchronize_filters": true, "num_cpus_per_worker": 1, "multiagent": {"policy_graphs": {}, "policies_to_train": null, "policy_mapping_fn": null}, "kl_target": 0.01, "clip_actions": false, "input": "sampler", "input_evaluation": null, "entropy_coeff": 0.0, "lr_schedule": null, "sgd_minibatch_size": 128, "callbacks": {"on_sample_end": null, "on_train_result": null, "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7f49896c5668>", "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7f49896c54e0>", "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7f49896c5f98>"}, "num_cpus_for_driver": 1, "log_level": "INFO", "tf_session_args": {"log_device_placement": false, "gpu_options": {"allow_growth": true}, "intra_op_parallelism_threads": 2, "inter_op_parallelism_threads": 2, "allow_soft_placement": true, "device_count": {"CPU": 1}}, "model": {"dim": 84, "free_log_std": false, "fcnet_hiddens": [128, 64, 32], "custom_model": null, "fcnet_activation": "tanh", "lstm_use_prev_action_reward": false, "grayscale": false, "channel_major": false, "squash_to_range": false, "framestack": true, "use_lstm": false, "conv_activation": "relu", "conv_filters": null, "custom_preprocessor": null, "lstm_cell_size": 256, "zero_mean": true, "custom_options": {}, "max_seq_len": 20}, "lambda": 0.97, "num_gpus_per_worker": 0, "kl_coeff": 0.2, "horizon": 1500, "preprocessor_pref": "deepmind", "env_config": {"run": "PPO", "flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.1,\n            \"eta3\": 0.1,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 7.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 0\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 700,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}"}, "clip_param": 0.3, "observation_filter": "MeanStdFilter", "env": "MultiWaveAttenuationMergePOEnvBufferedObs-v0density_[eta1, eta2, eta3]:[1.0, 0.1, 0.0]_t_min:7.0", "gamma": 0.99, "lr": 0.0005, "monitor": false, "output_compress_columns": ["obs", "new_obs"], "batch_mode": "truncate_episodes", "num_gpus": 0, "num_workers": 30, "output": null, "collect_metrics_timeout": 180, "num_sgd_iter": 10, "sample_batch_size": 750, "output_max_file_size": 67108864, "straggler_mitigation": false, "train_batch_size": 90000}, "num_metric_batches_dropped": 0, "hostname": "flow-main", "episodes_total": 4583, "episode_reward_min": 198.82683980474417, "time_total_s": 5197.549008607864, "policy_reward_mean": {}, "timesteps_this_iter": 130386, "custom_metrics": {"cost1_mean": 352.04452295772734, "system_level_velocity_mean": 12.390919719729172, "cost2_max": -62.31160654347361, "outflow_rate_max": 1155.341801793617, "outflow_rate_mean": 1011.923459182361, "cost1_max": 417.6699272037457, "outflow_rate_min": 419.6316185741505, "system_level_velocity_max": 14.536022688582399, "system_level_velocity_min": 10.267490690292458, "cost2_min": -138.69627570148717, "cost1_min": 110.56729035959376, "cost2_mean": -118.27588535699384}, "episode_reward_max": 943.2320365653284}
{"node_ip": "10.138.0.2", "episode_reward_mean": 762.274994758791, "time_this_iter_s": 74.22546815872192, "done": false, "episode_len_mean": 741.39, "timestamp": 1557392836, "training_iteration": 76, "experiment_id": "58dd2f5595014063b753971755894587", "time_since_restore": 5271.774476766586, "timesteps_total": 10115406, "pid": 25334, "episodes_this_iter": 64, "date": "2019-05-09_09-07-16", "info": {"sample_time_ms": 41057.508, "grad_time_ms": 29864.954, "num_steps_sampled": 10115406, "update_time_ms": 8.422, "default": {"vf_explained_var": 0.939309298992157, "cur_kl_coeff": 0.5062499642372131, "vf_loss": 10.811287879943848, "policy_loss": -0.017013272270560265, "cur_lr": 0.0005000000237487257, "kl": 0.015331997536122799, "total_loss": 10.802037239074707, "entropy": 1.4814467430114746}, "load_time_ms": 43.655, "num_steps_trained": 10115406}, "timesteps_since_restore": 10115406, "iterations_since_restore": 76, "config": {"local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "compress_observations": false, "clip_rewards": null, "sample_async": false, "custom_resources_per_worker": {}, "use_gae": true, "vf_share_layers": false, "vf_loss_coeff": 1.0, "optimizer": {}, "simple_optimizer": false, "num_envs_per_worker": 1, "vf_clip_param": 1000000.0, "synchronize_filters": true, "num_cpus_per_worker": 1, "multiagent": {"policy_graphs": {}, "policies_to_train": null, "policy_mapping_fn": null}, "kl_target": 0.01, "clip_actions": false, "input": "sampler", "input_evaluation": null, "entropy_coeff": 0.0, "lr_schedule": null, "sgd_minibatch_size": 128, "callbacks": {"on_sample_end": null, "on_train_result": null, "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7f49896c5908>", "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7f49896c5400>", "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7f49896c5ba8>"}, "num_cpus_for_driver": 1, "log_level": "INFO", "tf_session_args": {"log_device_placement": false, "gpu_options": {"allow_growth": true}, "intra_op_parallelism_threads": 2, "inter_op_parallelism_threads": 2, "allow_soft_placement": true, "device_count": {"CPU": 1}}, "model": {"dim": 84, "free_log_std": false, "fcnet_hiddens": [128, 64, 32], "custom_model": null, "fcnet_activation": "tanh", "lstm_use_prev_action_reward": false, "grayscale": false, "channel_major": false, "squash_to_range": false, "framestack": true, "use_lstm": false, "conv_activation": "relu", "conv_filters": null, "custom_preprocessor": null, "lstm_cell_size": 256, "zero_mean": true, "custom_options": {}, "max_seq_len": 20}, "lambda": 0.97, "num_gpus_per_worker": 0, "kl_coeff": 0.2, "horizon": 1500, "preprocessor_pref": "deepmind", "env_config": {"run": "PPO", "flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.1,\n            \"eta3\": 0.1,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 7.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 0\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 700,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}"}, "clip_param": 0.3, "observation_filter": "MeanStdFilter", "env": "MultiWaveAttenuationMergePOEnvBufferedObs-v0density_[eta1, eta2, eta3]:[1.0, 0.1, 0.0]_t_min:7.0", "gamma": 0.99, "lr": 0.0005, "monitor": false, "output_compress_columns": ["obs", "new_obs"], "batch_mode": "truncate_episodes", "num_gpus": 0, "num_workers": 30, "output": null, "collect_metrics_timeout": 180, "num_sgd_iter": 10, "sample_batch_size": 750, "output_max_file_size": 67108864, "straggler_mitigation": false, "train_batch_size": 90000}, "num_metric_batches_dropped": 0, "hostname": "flow-main", "episodes_total": 4647, "episode_reward_min": 198.82683980474417, "time_total_s": 5271.774476766586, "policy_reward_mean": {}, "timesteps_this_iter": 130599, "custom_metrics": {"cost1_mean": 352.4566526966323, "system_level_velocity_mean": 12.469239955561857, "cost2_max": -62.31160654347361, "outflow_rate_max": 1155.341801793617, "outflow_rate_mean": 1013.229782969588, "cost1_max": 416.18008853247613, "outflow_rate_min": 419.6316185741505, "system_level_velocity_max": 14.508550461042256, "system_level_velocity_min": 10.20308152619348, "cost2_min": -142.07471095966287, "cost1_min": 110.56729035959376, "cost2_mean": -119.66986973204155}, "episode_reward_max": 928.010427747978}
{"node_ip": "10.138.0.2", "episode_reward_mean": 751.1512954244077, "time_this_iter_s": 72.89637851715088, "done": false, "episode_len_mean": 742.24, "timestamp": 1557392908, "training_iteration": 77, "experiment_id": "58dd2f5595014063b753971755894587", "time_since_restore": 5344.670855283737, "timesteps_total": 10245832, "pid": 25334, "episodes_this_iter": 64, "date": "2019-05-09_09-08-28", "info": {"sample_time_ms": 41115.196, "grad_time_ms": 30082.414, "num_steps_sampled": 10245832, "update_time_ms": 8.5, "default": {"vf_explained_var": 0.9368158578872681, "cur_kl_coeff": 0.5062499046325684, "vf_loss": 11.515316009521484, "policy_loss": -0.01582413725554943, "cur_lr": 0.0005000000237487257, "kl": 0.015169493854045868, "total_loss": 11.507171630859375, "entropy": 1.4886116981506348}, "load_time_ms": 43.433, "num_steps_trained": 10245832}, "timesteps_since_restore": 10245832, "iterations_since_restore": 77, "config": {"local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "compress_observations": false, "clip_rewards": null, "sample_async": false, "custom_resources_per_worker": {}, "use_gae": true, "vf_share_layers": false, "vf_loss_coeff": 1.0, "optimizer": {}, "simple_optimizer": false, "num_envs_per_worker": 1, "vf_clip_param": 1000000.0, "synchronize_filters": true, "num_cpus_per_worker": 1, "multiagent": {"policy_graphs": {}, "policies_to_train": null, "policy_mapping_fn": null}, "kl_target": 0.01, "clip_actions": false, "input": "sampler", "input_evaluation": null, "entropy_coeff": 0.0, "lr_schedule": null, "sgd_minibatch_size": 128, "callbacks": {"on_sample_end": null, "on_train_result": null, "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7f49896bbb00>", "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7f49896bbe48>", "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7f49896bbda0>"}, "num_cpus_for_driver": 1, "log_level": "INFO", "tf_session_args": {"log_device_placement": false, "gpu_options": {"allow_growth": true}, "intra_op_parallelism_threads": 2, "inter_op_parallelism_threads": 2, "allow_soft_placement": true, "device_count": {"CPU": 1}}, "model": {"dim": 84, "free_log_std": false, "fcnet_hiddens": [128, 64, 32], "custom_model": null, "fcnet_activation": "tanh", "lstm_use_prev_action_reward": false, "grayscale": false, "channel_major": false, "squash_to_range": false, "framestack": true, "use_lstm": false, "conv_activation": "relu", "conv_filters": null, "custom_preprocessor": null, "lstm_cell_size": 256, "zero_mean": true, "custom_options": {}, "max_seq_len": 20}, "lambda": 0.97, "num_gpus_per_worker": 0, "kl_coeff": 0.2, "horizon": 1500, "preprocessor_pref": "deepmind", "env_config": {"run": "PPO", "flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.1,\n            \"eta3\": 0.1,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 7.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 0\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 700,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}"}, "clip_param": 0.3, "observation_filter": "MeanStdFilter", "env": "MultiWaveAttenuationMergePOEnvBufferedObs-v0density_[eta1, eta2, eta3]:[1.0, 0.1, 0.0]_t_min:7.0", "gamma": 0.99, "lr": 0.0005, "monitor": false, "output_compress_columns": ["obs", "new_obs"], "batch_mode": "truncate_episodes", "num_gpus": 0, "num_workers": 30, "output": null, "collect_metrics_timeout": 180, "num_sgd_iter": 10, "sample_batch_size": 750, "output_max_file_size": 67108864, "straggler_mitigation": false, "train_batch_size": 90000}, "num_metric_batches_dropped": 0, "hostname": "flow-main", "episodes_total": 4711, "episode_reward_min": 208.68529032668602, "time_total_s": 5344.670855283737, "policy_reward_mean": {}, "timesteps_this_iter": 130426, "custom_metrics": {"cost1_mean": 348.4018842582898, "system_level_velocity_mean": 12.327561723127001, "cost2_max": -64.9433398200505, "outflow_rate_max": 1147.2654136500796, "outflow_rate_mean": 1003.07038587476, "cost1_max": 417.9367052053289, "outflow_rate_min": 433.80037709090067, "system_level_velocity_max": 14.57154302956959, "system_level_velocity_min": 10.20308152619348, "cost2_min": -142.07471095966287, "cost1_min": 116.36836387585414, "cost2_mean": -119.67278749727562}, "episode_reward_max": 915.5154599253432}
{"node_ip": "10.138.0.2", "episode_reward_mean": 748.9246480875461, "time_this_iter_s": 70.75836157798767, "done": false, "episode_len_mean": 742.24, "timestamp": 1557392979, "training_iteration": 78, "experiment_id": "58dd2f5595014063b753971755894587", "time_since_restore": 5415.429216861725, "timesteps_total": 10377079, "pid": 25334, "episodes_this_iter": 63, "date": "2019-05-09_09-09-39", "info": {"sample_time_ms": 40987.537, "grad_time_ms": 30159.233, "num_steps_sampled": 10377079, "update_time_ms": 8.222, "default": {"vf_explained_var": 0.9492728114128113, "cur_kl_coeff": 0.5062500238418579, "vf_loss": 9.005061149597168, "policy_loss": -0.017040058970451355, "cur_lr": 0.0005000000237487257, "kl": 0.015370923094451427, "total_loss": 8.995802879333496, "entropy": 1.4983335733413696}, "load_time_ms": 43.64, "num_steps_trained": 10377079}, "timesteps_since_restore": 10377079, "iterations_since_restore": 78, "config": {"local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "compress_observations": false, "clip_rewards": null, "sample_async": false, "custom_resources_per_worker": {}, "use_gae": true, "vf_share_layers": false, "vf_loss_coeff": 1.0, "optimizer": {}, "simple_optimizer": false, "num_envs_per_worker": 1, "vf_clip_param": 1000000.0, "synchronize_filters": true, "num_cpus_per_worker": 1, "multiagent": {"policy_graphs": {}, "policies_to_train": null, "policy_mapping_fn": null}, "kl_target": 0.01, "clip_actions": false, "input": "sampler", "input_evaluation": null, "entropy_coeff": 0.0, "lr_schedule": null, "sgd_minibatch_size": 128, "callbacks": {"on_sample_end": null, "on_train_result": null, "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7f49896bf898>", "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7f49896bf940>", "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7f49896bfe10>"}, "num_cpus_for_driver": 1, "log_level": "INFO", "tf_session_args": {"log_device_placement": false, "gpu_options": {"allow_growth": true}, "intra_op_parallelism_threads": 2, "inter_op_parallelism_threads": 2, "allow_soft_placement": true, "device_count": {"CPU": 1}}, "model": {"dim": 84, "free_log_std": false, "fcnet_hiddens": [128, 64, 32], "custom_model": null, "fcnet_activation": "tanh", "lstm_use_prev_action_reward": false, "grayscale": false, "channel_major": false, "squash_to_range": false, "framestack": true, "use_lstm": false, "conv_activation": "relu", "conv_filters": null, "custom_preprocessor": null, "lstm_cell_size": 256, "zero_mean": true, "custom_options": {}, "max_seq_len": 20}, "lambda": 0.97, "num_gpus_per_worker": 0, "kl_coeff": 0.2, "horizon": 1500, "preprocessor_pref": "deepmind", "env_config": {"run": "PPO", "flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.1,\n            \"eta3\": 0.1,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 7.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 0\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 700,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}"}, "clip_param": 0.3, "observation_filter": "MeanStdFilter", "env": "MultiWaveAttenuationMergePOEnvBufferedObs-v0density_[eta1, eta2, eta3]:[1.0, 0.1, 0.0]_t_min:7.0", "gamma": 0.99, "lr": 0.0005, "monitor": false, "output_compress_columns": ["obs", "new_obs"], "batch_mode": "truncate_episodes", "num_gpus": 0, "num_workers": 30, "output": null, "collect_metrics_timeout": 180, "num_sgd_iter": 10, "sample_batch_size": 750, "output_max_file_size": 67108864, "straggler_mitigation": false, "train_batch_size": 90000}, "num_metric_batches_dropped": 0, "hostname": "flow-main", "episodes_total": 4774, "episode_reward_min": 208.68529032668602, "time_total_s": 5415.429216861725, "policy_reward_mean": {}, "timesteps_this_iter": 131247, "custom_metrics": {"cost1_mean": 349.31996044492524, "system_level_velocity_mean": 12.366092103914502, "cost2_max": -64.9433398200505, "outflow_rate_max": 1144.3478106841785, "outflow_rate_mean": 1005.5343899743966, "cost1_max": 417.9367052053289, "outflow_rate_min": 433.80037709090067, "system_level_velocity_max": 14.57154302956959, "system_level_velocity_min": 10.770333119771712, "cost2_min": -141.00889681004196, "cost1_min": 116.36836387585414, "cost2_mean": -119.09088738430528}, "episode_reward_max": 927.3056941978263}
{"node_ip": "10.138.0.2", "episode_reward_mean": 763.1887642017982, "time_this_iter_s": 73.76693177223206, "done": false, "episode_len_mean": 751.0, "timestamp": 1557393053, "training_iteration": 79, "experiment_id": "58dd2f5595014063b753971755894587", "time_since_restore": 5489.196148633957, "timesteps_total": 10506818, "pid": 25334, "episodes_this_iter": 62, "date": "2019-05-09_09-10-53", "info": {"sample_time_ms": 40902.83, "grad_time_ms": 30435.811, "num_steps_sampled": 10506818, "update_time_ms": 8.26, "default": {"vf_explained_var": 0.9443849921226501, "cur_kl_coeff": 0.5062499046325684, "vf_loss": 10.028829574584961, "policy_loss": -0.01706710085272789, "cur_lr": 0.0005000000237487257, "kl": 0.015038901008665562, "total_loss": 10.01937484741211, "entropy": 1.4996122121810913}, "load_time_ms": 46.0, "num_steps_trained": 10506818}, "timesteps_since_restore": 10506818, "iterations_since_restore": 79, "config": {"local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "compress_observations": false, "clip_rewards": null, "sample_async": false, "custom_resources_per_worker": {}, "use_gae": true, "vf_share_layers": false, "vf_loss_coeff": 1.0, "optimizer": {}, "simple_optimizer": false, "num_envs_per_worker": 1, "vf_clip_param": 1000000.0, "synchronize_filters": true, "num_cpus_per_worker": 1, "multiagent": {"policy_graphs": {}, "policies_to_train": null, "policy_mapping_fn": null}, "kl_target": 0.01, "clip_actions": false, "input": "sampler", "input_evaluation": null, "entropy_coeff": 0.0, "lr_schedule": null, "sgd_minibatch_size": 128, "callbacks": {"on_sample_end": null, "on_train_result": null, "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7f49896c5ba8>", "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7f49896c5400>", "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7f49896c5198>"}, "num_cpus_for_driver": 1, "log_level": "INFO", "tf_session_args": {"log_device_placement": false, "gpu_options": {"allow_growth": true}, "intra_op_parallelism_threads": 2, "inter_op_parallelism_threads": 2, "allow_soft_placement": true, "device_count": {"CPU": 1}}, "model": {"dim": 84, "free_log_std": false, "fcnet_hiddens": [128, 64, 32], "custom_model": null, "fcnet_activation": "tanh", "lstm_use_prev_action_reward": false, "grayscale": false, "channel_major": false, "squash_to_range": false, "framestack": true, "use_lstm": false, "conv_activation": "relu", "conv_filters": null, "custom_preprocessor": null, "lstm_cell_size": 256, "zero_mean": true, "custom_options": {}, "max_seq_len": 20}, "lambda": 0.97, "num_gpus_per_worker": 0, "kl_coeff": 0.2, "horizon": 1500, "preprocessor_pref": "deepmind", "env_config": {"run": "PPO", "flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.1,\n            \"eta3\": 0.1,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 7.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 0\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 700,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}"}, "clip_param": 0.3, "observation_filter": "MeanStdFilter", "env": "MultiWaveAttenuationMergePOEnvBufferedObs-v0density_[eta1, eta2, eta3]:[1.0, 0.1, 0.0]_t_min:7.0", "gamma": 0.99, "lr": 0.0005, "monitor": false, "output_compress_columns": ["obs", "new_obs"], "batch_mode": "truncate_episodes", "num_gpus": 0, "num_workers": 30, "output": null, "collect_metrics_timeout": 180, "num_sgd_iter": 10, "sample_batch_size": 750, "output_max_file_size": 67108864, "straggler_mitigation": false, "train_batch_size": 90000}, "num_metric_batches_dropped": 0, "hostname": "flow-main", "episodes_total": 4836, "episode_reward_min": 655.1030019134228, "time_total_s": 5489.196148633957, "policy_reward_mean": {}, "timesteps_this_iter": 129739, "custom_metrics": {"cost1_mean": 354.6482025521842, "system_level_velocity_mean": 12.377009897748856, "cost2_max": -102.1523908764191, "outflow_rate_max": 1154.6261018989082, "outflow_rate_mean": 1019.5480305111722, "cost1_max": 418.07857489568255, "outflow_rate_min": 941.4267470776631, "system_level_velocity_max": 14.557384828094253, "system_level_velocity_min": 10.770333119771712, "cost2_min": -141.00889681004196, "cost1_min": 312.6177147428527, "cost2_mean": -119.19915504260989}, "episode_reward_max": 932.0159006483958}
{"node_ip": "10.138.0.2", "episode_reward_mean": 744.9926488689214, "time_this_iter_s": 71.40261054039001, "done": false, "episode_len_mean": 736.07, "timestamp": 1557393125, "training_iteration": 80, "experiment_id": "58dd2f5595014063b753971755894587", "time_since_restore": 5560.598759174347, "timesteps_total": 10636107, "pid": 25334, "episodes_this_iter": 64, "date": "2019-05-09_09-12-05", "info": {"sample_time_ms": 40736.914, "grad_time_ms": 30555.938, "num_steps_sampled": 10636107, "update_time_ms": 8.557, "default": {"vf_explained_var": 0.943916916847229, "cur_kl_coeff": 0.5062499642372131, "vf_loss": 10.179266929626465, "policy_loss": -0.01723051443696022, "cur_lr": 0.0005000000237487257, "kl": 0.014910152181982994, "total_loss": 10.169584274291992, "entropy": 1.5047849416732788}, "load_time_ms": 43.025, "num_steps_trained": 10636107}, "timesteps_since_restore": 10636107, "iterations_since_restore": 80, "config": {"local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "compress_observations": false, "clip_rewards": null, "sample_async": false, "custom_resources_per_worker": {}, "use_gae": true, "vf_share_layers": false, "vf_loss_coeff": 1.0, "optimizer": {}, "simple_optimizer": false, "num_envs_per_worker": 1, "vf_clip_param": 1000000.0, "synchronize_filters": true, "num_cpus_per_worker": 1, "multiagent": {"policy_graphs": {}, "policies_to_train": null, "policy_mapping_fn": null}, "kl_target": 0.01, "clip_actions": false, "input": "sampler", "input_evaluation": null, "entropy_coeff": 0.0, "lr_schedule": null, "sgd_minibatch_size": 128, "callbacks": {"on_sample_end": null, "on_train_result": null, "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7f49896bb438>", "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7f49896bb390>", "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7f49896bbda0>"}, "num_cpus_for_driver": 1, "log_level": "INFO", "tf_session_args": {"log_device_placement": false, "gpu_options": {"allow_growth": true}, "intra_op_parallelism_threads": 2, "inter_op_parallelism_threads": 2, "allow_soft_placement": true, "device_count": {"CPU": 1}}, "model": {"dim": 84, "free_log_std": false, "fcnet_hiddens": [128, 64, 32], "custom_model": null, "fcnet_activation": "tanh", "lstm_use_prev_action_reward": false, "grayscale": false, "channel_major": false, "squash_to_range": false, "framestack": true, "use_lstm": false, "conv_activation": "relu", "conv_filters": null, "custom_preprocessor": null, "lstm_cell_size": 256, "zero_mean": true, "custom_options": {}, "max_seq_len": 20}, "lambda": 0.97, "num_gpus_per_worker": 0, "kl_coeff": 0.2, "horizon": 1500, "preprocessor_pref": "deepmind", "env_config": {"run": "PPO", "flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.1,\n            \"eta3\": 0.1,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 7.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 0\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 700,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}"}, "clip_param": 0.3, "observation_filter": "MeanStdFilter", "env": "MultiWaveAttenuationMergePOEnvBufferedObs-v0density_[eta1, eta2, eta3]:[1.0, 0.1, 0.0]_t_min:7.0", "gamma": 0.99, "lr": 0.0005, "monitor": false, "output_compress_columns": ["obs", "new_obs"], "batch_mode": "truncate_episodes", "num_gpus": 0, "num_workers": 30, "output": null, "collect_metrics_timeout": 180, "num_sgd_iter": 10, "sample_batch_size": 750, "output_max_file_size": 67108864, "straggler_mitigation": false, "train_batch_size": 90000}, "num_metric_batches_dropped": 0, "hostname": "flow-main", "episodes_total": 4900, "episode_reward_min": 206.7094690803621, "time_total_s": 5560.598759174347, "policy_reward_mean": {}, "timesteps_this_iter": 129289, "custom_metrics": {"cost1_mean": 344.4362980587682, "system_level_velocity_mean": 12.298694748517393, "cost2_max": -57.406980675416065, "outflow_rate_max": 1154.6261018989082, "outflow_rate_mean": 994.4873837461045, "cost1_max": 418.07857489568255, "outflow_rate_min": 422.14201406485824, "system_level_velocity_max": 14.557384828094253, "system_level_velocity_min": 11.275424010894676, "cost2_min": -140.72142604268436, "cost1_min": 112.78580530184455, "cost2_mean": -117.87829641944792}, "episode_reward_max": 932.0159006483958}
{"node_ip": "10.138.0.2", "episode_reward_mean": 738.811175241966, "time_this_iter_s": 72.35032486915588, "done": false, "episode_len_mean": 735.33, "timestamp": 1557393197, "training_iteration": 81, "experiment_id": "58dd2f5595014063b753971755894587", "time_since_restore": 5632.949084043503, "timesteps_total": 10766442, "pid": 25334, "episodes_this_iter": 63, "date": "2019-05-09_09-13-17", "info": {"sample_time_ms": 40507.025, "grad_time_ms": 31036.317, "num_steps_sampled": 10766442, "update_time_ms": 8.726, "default": {"vf_explained_var": 0.9394762516021729, "cur_kl_coeff": 0.5062499046325684, "vf_loss": 11.214704513549805, "policy_loss": -0.0167106781154871, "cur_lr": 0.0005000000237487257, "kl": 0.01508998591452837, "total_loss": 11.205632209777832, "entropy": 1.5164058208465576}, "load_time_ms": 42.988, "num_steps_trained": 10766442}, "timesteps_since_restore": 10766442, "iterations_since_restore": 81, "config": {"local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "compress_observations": false, "clip_rewards": null, "sample_async": false, "custom_resources_per_worker": {}, "use_gae": true, "vf_share_layers": false, "vf_loss_coeff": 1.0, "optimizer": {}, "simple_optimizer": false, "num_envs_per_worker": 1, "vf_clip_param": 1000000.0, "synchronize_filters": true, "num_cpus_per_worker": 1, "multiagent": {"policy_graphs": {}, "policies_to_train": null, "policy_mapping_fn": null}, "kl_target": 0.01, "clip_actions": false, "input": "sampler", "input_evaluation": null, "entropy_coeff": 0.0, "lr_schedule": null, "sgd_minibatch_size": 128, "callbacks": {"on_sample_end": null, "on_train_result": null, "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7f49896bf940>", "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7f49896bf7b8>", "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7f49896bff60>"}, "num_cpus_for_driver": 1, "log_level": "INFO", "tf_session_args": {"log_device_placement": false, "gpu_options": {"allow_growth": true}, "intra_op_parallelism_threads": 2, "inter_op_parallelism_threads": 2, "allow_soft_placement": true, "device_count": {"CPU": 1}}, "model": {"dim": 84, "free_log_std": false, "fcnet_hiddens": [128, 64, 32], "custom_model": null, "fcnet_activation": "tanh", "lstm_use_prev_action_reward": false, "grayscale": false, "channel_major": false, "squash_to_range": false, "framestack": true, "use_lstm": false, "conv_activation": "relu", "conv_filters": null, "custom_preprocessor": null, "lstm_cell_size": 256, "zero_mean": true, "custom_options": {}, "max_seq_len": 20}, "lambda": 0.97, "num_gpus_per_worker": 0, "kl_coeff": 0.2, "horizon": 1500, "preprocessor_pref": "deepmind", "env_config": {"run": "PPO", "flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.1,\n            \"eta3\": 0.1,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 7.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 0\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 700,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}"}, "clip_param": 0.3, "observation_filter": "MeanStdFilter", "env": "MultiWaveAttenuationMergePOEnvBufferedObs-v0density_[eta1, eta2, eta3]:[1.0, 0.1, 0.0]_t_min:7.0", "gamma": 0.99, "lr": 0.0005, "monitor": false, "output_compress_columns": ["obs", "new_obs"], "batch_mode": "truncate_episodes", "num_gpus": 0, "num_workers": 30, "output": null, "collect_metrics_timeout": 180, "num_sgd_iter": 10, "sample_batch_size": 750, "output_max_file_size": 67108864, "straggler_mitigation": false, "train_batch_size": 90000}, "num_metric_batches_dropped": 0, "hostname": "flow-main", "episodes_total": 4963, "episode_reward_min": 206.7094690803621, "time_total_s": 5632.949084043503, "policy_reward_mean": {}, "timesteps_this_iter": 130335, "custom_metrics": {"cost1_mean": 342.36632740487823, "system_level_velocity_mean": 12.225719483333911, "cost2_max": -50.70631920257541, "outflow_rate_max": 1121.6456673352845, "outflow_rate_mean": 991.767750705387, "cost1_max": 402.4029433528761, "outflow_rate_min": 422.14201406485824, "system_level_velocity_max": 13.974354245962054, "system_level_velocity_min": 11.318254295192085, "cost2_min": -140.72142604268436, "cost1_min": 112.78580530184455, "cost2_mean": -118.03382570586909}, "episode_reward_max": 887.7357061362632}
{"node_ip": "10.138.0.2", "episode_reward_mean": 739.2957031010949, "time_this_iter_s": 72.9557728767395, "done": false, "episode_len_mean": 745.83, "timestamp": 1557393270, "training_iteration": 82, "experiment_id": "58dd2f5595014063b753971755894587", "time_since_restore": 5705.904856920242, "timesteps_total": 10898013, "pid": 25334, "episodes_this_iter": 62, "date": "2019-05-09_09-14-30", "info": {"sample_time_ms": 40344.037, "grad_time_ms": 31439.377, "num_steps_sampled": 10898013, "update_time_ms": 8.91, "default": {"vf_explained_var": 0.9473942518234253, "cur_kl_coeff": 0.5062499642372131, "vf_loss": 9.905226707458496, "policy_loss": -0.01715906895697117, "cur_lr": 0.0005000000237487257, "kl": 0.015283758752048016, "total_loss": 9.895803451538086, "entropy": 1.5291730165481567}, "load_time_ms": 45.684, "num_steps_trained": 10898013}, "timesteps_since_restore": 10898013, "iterations_since_restore": 82, "config": {"local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "compress_observations": false, "clip_rewards": null, "sample_async": false, "custom_resources_per_worker": {}, "use_gae": true, "vf_share_layers": false, "vf_loss_coeff": 1.0, "optimizer": {}, "simple_optimizer": false, "num_envs_per_worker": 1, "vf_clip_param": 1000000.0, "synchronize_filters": true, "num_cpus_per_worker": 1, "multiagent": {"policy_graphs": {}, "policies_to_train": null, "policy_mapping_fn": null}, "kl_target": 0.01, "clip_actions": false, "input": "sampler", "input_evaluation": null, "entropy_coeff": 0.0, "lr_schedule": null, "sgd_minibatch_size": 128, "callbacks": {"on_sample_end": null, "on_train_result": null, "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7f49896c5eb8>", "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7f49896c58d0>", "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7f49896c5400>"}, "num_cpus_for_driver": 1, "log_level": "INFO", "tf_session_args": {"log_device_placement": false, "gpu_options": {"allow_growth": true}, "intra_op_parallelism_threads": 2, "inter_op_parallelism_threads": 2, "allow_soft_placement": true, "device_count": {"CPU": 1}}, "model": {"dim": 84, "free_log_std": false, "fcnet_hiddens": [128, 64, 32], "custom_model": null, "fcnet_activation": "tanh", "lstm_use_prev_action_reward": false, "grayscale": false, "channel_major": false, "squash_to_range": false, "framestack": true, "use_lstm": false, "conv_activation": "relu", "conv_filters": null, "custom_preprocessor": null, "lstm_cell_size": 256, "zero_mean": true, "custom_options": {}, "max_seq_len": 20}, "lambda": 0.97, "num_gpus_per_worker": 0, "kl_coeff": 0.2, "horizon": 1500, "preprocessor_pref": "deepmind", "env_config": {"run": "PPO", "flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.1,\n            \"eta3\": 0.1,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 7.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 0\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 700,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}"}, "clip_param": 0.3, "observation_filter": "MeanStdFilter", "env": "MultiWaveAttenuationMergePOEnvBufferedObs-v0density_[eta1, eta2, eta3]:[1.0, 0.1, 0.0]_t_min:7.0", "gamma": 0.99, "lr": 0.0005, "monitor": false, "output_compress_columns": ["obs", "new_obs"], "batch_mode": "truncate_episodes", "num_gpus": 0, "num_workers": 30, "output": null, "collect_metrics_timeout": 180, "num_sgd_iter": 10, "sample_batch_size": 750, "output_max_file_size": 67108864, "straggler_mitigation": false, "train_batch_size": 90000}, "num_metric_batches_dropped": 0, "hostname": "flow-main", "episodes_total": 5025, "episode_reward_min": 206.88163217103835, "time_total_s": 5705.904856920242, "policy_reward_mean": {}, "timesteps_this_iter": 131571, "custom_metrics": {"cost1_mean": 344.98466977535253, "system_level_velocity_mean": 12.133680298442952, "cost2_max": -50.70631920257541, "outflow_rate_max": 1114.361480632239, "outflow_rate_mean": 999.2407588723775, "cost1_max": 397.9554028853428, "outflow_rate_min": 445.0584121107861, "system_level_velocity_max": 13.794406565105447, "system_level_velocity_min": 11.211989119326965, "cost2_min": -142.0377543429397, "cost1_min": 115.10479925282894, "cost2_mean": -119.94663372744034}, "episode_reward_max": 887.7357061362632}
{"node_ip": "10.138.0.2", "episode_reward_mean": 746.687004779204, "time_this_iter_s": 70.96187734603882, "done": false, "episode_len_mean": 745.77, "timestamp": 1557393341, "training_iteration": 83, "experiment_id": "58dd2f5595014063b753971755894587", "time_since_restore": 5776.866734266281, "timesteps_total": 11027474, "pid": 25334, "episodes_this_iter": 63, "date": "2019-05-09_09-15-41", "info": {"sample_time_ms": 39955.622, "grad_time_ms": 31798.328, "num_steps_sampled": 11027474, "update_time_ms": 9.182, "default": {"vf_explained_var": 0.9463161826133728, "cur_kl_coeff": 0.5062499642372131, "vf_loss": 10.367925643920898, "policy_loss": -0.01690678484737873, "cur_lr": 0.0005000000237487257, "kl": 0.015017937868833542, "total_loss": 10.358621597290039, "entropy": 1.516947865486145}, "load_time_ms": 45.244, "num_steps_trained": 11027474}, "timesteps_since_restore": 11027474, "iterations_since_restore": 83, "config": {"local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "compress_observations": false, "clip_rewards": null, "sample_async": false, "custom_resources_per_worker": {}, "use_gae": true, "vf_share_layers": false, "vf_loss_coeff": 1.0, "optimizer": {}, "simple_optimizer": false, "num_envs_per_worker": 1, "vf_clip_param": 1000000.0, "synchronize_filters": true, "num_cpus_per_worker": 1, "multiagent": {"policy_graphs": {}, "policies_to_train": null, "policy_mapping_fn": null}, "kl_target": 0.01, "clip_actions": false, "input": "sampler", "input_evaluation": null, "entropy_coeff": 0.0, "lr_schedule": null, "sgd_minibatch_size": 128, "callbacks": {"on_sample_end": null, "on_train_result": null, "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7f49896bf0b8>", "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7f49896bba58>", "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7f49896bb048>"}, "num_cpus_for_driver": 1, "log_level": "INFO", "tf_session_args": {"log_device_placement": false, "gpu_options": {"allow_growth": true}, "intra_op_parallelism_threads": 2, "inter_op_parallelism_threads": 2, "allow_soft_placement": true, "device_count": {"CPU": 1}}, "model": {"dim": 84, "free_log_std": false, "fcnet_hiddens": [128, 64, 32], "custom_model": null, "fcnet_activation": "tanh", "lstm_use_prev_action_reward": false, "grayscale": false, "channel_major": false, "squash_to_range": false, "framestack": true, "use_lstm": false, "conv_activation": "relu", "conv_filters": null, "custom_preprocessor": null, "lstm_cell_size": 256, "zero_mean": true, "custom_options": {}, "max_seq_len": 20}, "lambda": 0.97, "num_gpus_per_worker": 0, "kl_coeff": 0.2, "horizon": 1500, "preprocessor_pref": "deepmind", "env_config": {"run": "PPO", "flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.1,\n            \"eta3\": 0.1,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 7.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 0\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 700,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}"}, "clip_param": 0.3, "observation_filter": "MeanStdFilter", "env": "MultiWaveAttenuationMergePOEnvBufferedObs-v0density_[eta1, eta2, eta3]:[1.0, 0.1, 0.0]_t_min:7.0", "gamma": 0.99, "lr": 0.0005, "monitor": false, "output_compress_columns": ["obs", "new_obs"], "batch_mode": "truncate_episodes", "num_gpus": 0, "num_workers": 30, "output": null, "collect_metrics_timeout": 180, "num_sgd_iter": 10, "sample_batch_size": 750, "output_max_file_size": 67108864, "straggler_mitigation": false, "train_batch_size": 90000}, "num_metric_batches_dropped": 0, "hostname": "flow-main", "episodes_total": 5088, "episode_reward_min": 210.43742782593065, "time_total_s": 5776.866734266281, "policy_reward_mean": {}, "timesteps_this_iter": 129461, "custom_metrics": {"cost1_mean": 351.0831818968587, "system_level_velocity_mean": 12.355008159299707, "cost2_max": -62.355248930807406, "outflow_rate_max": 1120.305416417732, "outflow_rate_mean": 1014.6361082204327, "cost1_max": 398.6924647646299, "outflow_rate_min": 422.5455431996033, "system_level_velocity_max": 13.794486246325896, "system_level_velocity_min": 11.431446276823076, "cost2_min": -147.7826222982676, "cost1_min": 114.88293351451253, "cost2_mean": -121.81454049130612}, "episode_reward_max": 873.3243732477314}
{"node_ip": "10.138.0.2", "episode_reward_mean": 753.7134648527433, "time_this_iter_s": 71.28443336486816, "done": false, "episode_len_mean": 751.0, "timestamp": 1557393412, "training_iteration": 84, "experiment_id": "58dd2f5595014063b753971755894587", "time_since_restore": 5848.151167631149, "timesteps_total": 11157544, "pid": 25334, "episodes_this_iter": 62, "date": "2019-05-09_09-16-52", "info": {"sample_time_ms": 39610.492, "grad_time_ms": 32361.74, "num_steps_sampled": 11157544, "update_time_ms": 9.461, "default": {"vf_explained_var": 0.9445340633392334, "cur_kl_coeff": 0.5062499642372131, "vf_loss": 10.376124382019043, "policy_loss": -0.01677161082625389, "cur_lr": 0.0005000000237487257, "kl": 0.015082716010510921, "total_loss": 10.366989135742188, "entropy": 1.5273791551589966}, "load_time_ms": 45.962, "num_steps_trained": 11157544}, "timesteps_since_restore": 11157544, "iterations_since_restore": 84, "config": {"local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "compress_observations": false, "clip_rewards": null, "sample_async": false, "custom_resources_per_worker": {}, "use_gae": true, "vf_share_layers": false, "vf_loss_coeff": 1.0, "optimizer": {}, "simple_optimizer": false, "num_envs_per_worker": 1, "vf_clip_param": 1000000.0, "synchronize_filters": true, "num_cpus_per_worker": 1, "multiagent": {"policy_graphs": {}, "policies_to_train": null, "policy_mapping_fn": null}, "kl_target": 0.01, "clip_actions": false, "input": "sampler", "input_evaluation": null, "entropy_coeff": 0.0, "lr_schedule": null, "sgd_minibatch_size": 128, "callbacks": {"on_sample_end": null, "on_train_result": null, "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7f49896c5a20>", "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7f49896c5160>", "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7f49896bf7f0>"}, "num_cpus_for_driver": 1, "log_level": "INFO", "tf_session_args": {"log_device_placement": false, "gpu_options": {"allow_growth": true}, "intra_op_parallelism_threads": 2, "inter_op_parallelism_threads": 2, "allow_soft_placement": true, "device_count": {"CPU": 1}}, "model": {"dim": 84, "free_log_std": false, "fcnet_hiddens": [128, 64, 32], "custom_model": null, "fcnet_activation": "tanh", "lstm_use_prev_action_reward": false, "grayscale": false, "channel_major": false, "squash_to_range": false, "framestack": true, "use_lstm": false, "conv_activation": "relu", "conv_filters": null, "custom_preprocessor": null, "lstm_cell_size": 256, "zero_mean": true, "custom_options": {}, "max_seq_len": 20}, "lambda": 0.97, "num_gpus_per_worker": 0, "kl_coeff": 0.2, "horizon": 1500, "preprocessor_pref": "deepmind", "env_config": {"run": "PPO", "flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.1,\n            \"eta3\": 0.1,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 7.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 0\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 700,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}"}, "clip_param": 0.3, "observation_filter": "MeanStdFilter", "env": "MultiWaveAttenuationMergePOEnvBufferedObs-v0density_[eta1, eta2, eta3]:[1.0, 0.1, 0.0]_t_min:7.0", "gamma": 0.99, "lr": 0.0005, "monitor": false, "output_compress_columns": ["obs", "new_obs"], "batch_mode": "truncate_episodes", "num_gpus": 0, "num_workers": 30, "output": null, "collect_metrics_timeout": 180, "num_sgd_iter": 10, "sample_batch_size": 750, "output_max_file_size": 67108864, "straggler_mitigation": false, "train_batch_size": 90000}, "num_metric_batches_dropped": 0, "hostname": "flow-main", "episodes_total": 5150, "episode_reward_min": 673.8114823673197, "time_total_s": 5848.151167631149, "policy_reward_mean": {}, "timesteps_this_iter": 130070, "custom_metrics": {"cost1_mean": 351.4374485720084, "system_level_velocity_mean": 12.266400188542907, "cost2_max": -105.14603949167139, "outflow_rate_max": 1142.6214020739462, "outflow_rate_mean": 1014.3452832800066, "cost1_max": 417.2771517002593, "outflow_rate_min": 951.7602028766887, "system_level_velocity_max": 14.450754939978253, "system_level_velocity_min": 11.222665303620026, "cost2_min": -147.7826222982676, "cost1_min": 320.32685754954593, "cost2_mean": -124.02471842841162}, "episode_reward_max": 937.7072939831346}
{"node_ip": "10.138.0.2", "episode_reward_mean": 751.9313395158185, "time_this_iter_s": 69.8481113910675, "done": false, "episode_len_mean": 745.77, "timestamp": 1557393482, "training_iteration": 85, "experiment_id": "58dd2f5595014063b753971755894587", "time_since_restore": 5917.999279022217, "timesteps_total": 11287374, "pid": 25334, "episodes_this_iter": 63, "date": "2019-05-09_09-18-02", "info": {"sample_time_ms": 39054.963, "grad_time_ms": 32676.958, "num_steps_sampled": 11287374, "update_time_ms": 9.649, "default": {"vf_explained_var": 0.9397157430648804, "cur_kl_coeff": 0.5062499642372131, "vf_loss": 11.312780380249023, "policy_loss": -0.016775496304035187, "cur_lr": 0.0005000000237487257, "kl": 0.0146477734670043, "total_loss": 11.303420066833496, "entropy": 1.532284140586853}, "load_time_ms": 48.322, "num_steps_trained": 11287374}, "timesteps_since_restore": 11287374, "iterations_since_restore": 85, "config": {"local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "compress_observations": false, "clip_rewards": null, "sample_async": false, "custom_resources_per_worker": {}, "use_gae": true, "vf_share_layers": false, "vf_loss_coeff": 1.0, "optimizer": {}, "simple_optimizer": false, "num_envs_per_worker": 1, "vf_clip_param": 1000000.0, "synchronize_filters": true, "num_cpus_per_worker": 1, "multiagent": {"policy_graphs": {}, "policies_to_train": null, "policy_mapping_fn": null}, "kl_target": 0.01, "clip_actions": false, "input": "sampler", "input_evaluation": null, "entropy_coeff": 0.0, "lr_schedule": null, "sgd_minibatch_size": 128, "callbacks": {"on_sample_end": null, "on_train_result": null, "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7f49896c5208>", "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7f49896c5fd0>", "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7f49896c50b8>"}, "num_cpus_for_driver": 1, "log_level": "INFO", "tf_session_args": {"log_device_placement": false, "gpu_options": {"allow_growth": true}, "intra_op_parallelism_threads": 2, "inter_op_parallelism_threads": 2, "allow_soft_placement": true, "device_count": {"CPU": 1}}, "model": {"dim": 84, "free_log_std": false, "fcnet_hiddens": [128, 64, 32], "custom_model": null, "fcnet_activation": "tanh", "lstm_use_prev_action_reward": false, "grayscale": false, "channel_major": false, "squash_to_range": false, "framestack": true, "use_lstm": false, "conv_activation": "relu", "conv_filters": null, "custom_preprocessor": null, "lstm_cell_size": 256, "zero_mean": true, "custom_options": {}, "max_seq_len": 20}, "lambda": 0.97, "num_gpus_per_worker": 0, "kl_coeff": 0.2, "horizon": 1500, "preprocessor_pref": "deepmind", "env_config": {"run": "PPO", "flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.1,\n            \"eta3\": 0.1,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 7.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 0\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 700,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}"}, "clip_param": 0.3, "observation_filter": "MeanStdFilter", "env": "MultiWaveAttenuationMergePOEnvBufferedObs-v0density_[eta1, eta2, eta3]:[1.0, 0.1, 0.0]_t_min:7.0", "gamma": 0.99, "lr": 0.0005, "monitor": false, "output_compress_columns": ["obs", "new_obs"], "batch_mode": "truncate_episodes", "num_gpus": 0, "num_workers": 30, "output": null, "collect_metrics_timeout": 180, "num_sgd_iter": 10, "sample_batch_size": 750, "output_max_file_size": 67108864, "straggler_mitigation": false, "train_batch_size": 90000}, "num_metric_batches_dropped": 0, "hostname": "flow-main", "episodes_total": 5213, "episode_reward_min": 211.06659320944507, "time_total_s": 5917.999279022217, "policy_reward_mean": {}, "timesteps_this_iter": 129830, "custom_metrics": {"cost1_mean": 348.96366082915915, "system_level_velocity_mean": 12.266811467111228, "cost2_max": -66.08410869974745, "outflow_rate_max": 1172.7043681614325, "outflow_rate_mean": 1006.9609187333097, "cost1_max": 426.9996450927507, "outflow_rate_min": 418.93469404960905, "system_level_velocity_max": 14.819885047345073, "system_level_velocity_min": 9.613633737194107, "cost2_min": -147.36187198917358, "cost1_min": 114.69927603563147, "cost2_mean": -122.90078553973575}, "episode_reward_max": 959.5128875572581}
{"node_ip": "10.138.0.2", "episode_reward_mean": 750.5414741804684, "time_this_iter_s": 70.55344033241272, "done": false, "episode_len_mean": 745.77, "timestamp": 1557393553, "training_iteration": 86, "experiment_id": "58dd2f5595014063b753971755894587", "time_since_restore": 5988.5527193546295, "timesteps_total": 11418741, "pid": 25334, "episodes_this_iter": 62, "date": "2019-05-09_09-19-13", "info": {"sample_time_ms": 38449.4, "grad_time_ms": 32913.429, "num_steps_sampled": 11418741, "update_time_ms": 9.946, "default": {"vf_explained_var": 0.947328507900238, "cur_kl_coeff": 0.5062499642372131, "vf_loss": 9.673416137695312, "policy_loss": -0.01716141402721405, "cur_lr": 0.0005000000237487257, "kl": 0.014592555351555347, "total_loss": 9.663641929626465, "entropy": 1.5481040477752686}, "load_time_ms": 49.4, "num_steps_trained": 11418741}, "timesteps_since_restore": 11418741, "iterations_since_restore": 86, "config": {"local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "compress_observations": false, "clip_rewards": null, "sample_async": false, "custom_resources_per_worker": {}, "use_gae": true, "vf_share_layers": false, "vf_loss_coeff": 1.0, "optimizer": {}, "simple_optimizer": false, "num_envs_per_worker": 1, "vf_clip_param": 1000000.0, "synchronize_filters": true, "num_cpus_per_worker": 1, "multiagent": {"policy_graphs": {}, "policies_to_train": null, "policy_mapping_fn": null}, "kl_target": 0.01, "clip_actions": false, "input": "sampler", "input_evaluation": null, "entropy_coeff": 0.0, "lr_schedule": null, "sgd_minibatch_size": 128, "callbacks": {"on_sample_end": null, "on_train_result": null, "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7f49896c56a0>", "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7f49896bbcc0>", "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7f49896bbe48>"}, "num_cpus_for_driver": 1, "log_level": "INFO", "tf_session_args": {"log_device_placement": false, "gpu_options": {"allow_growth": true}, "intra_op_parallelism_threads": 2, "inter_op_parallelism_threads": 2, "allow_soft_placement": true, "device_count": {"CPU": 1}}, "model": {"dim": 84, "free_log_std": false, "fcnet_hiddens": [128, 64, 32], "custom_model": null, "fcnet_activation": "tanh", "lstm_use_prev_action_reward": false, "grayscale": false, "channel_major": false, "squash_to_range": false, "framestack": true, "use_lstm": false, "conv_activation": "relu", "conv_filters": null, "custom_preprocessor": null, "lstm_cell_size": 256, "zero_mean": true, "custom_options": {}, "max_seq_len": 20}, "lambda": 0.97, "num_gpus_per_worker": 0, "kl_coeff": 0.2, "horizon": 1500, "preprocessor_pref": "deepmind", "env_config": {"run": "PPO", "flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.1,\n            \"eta3\": 0.1,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 7.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 0\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 700,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}"}, "clip_param": 0.3, "observation_filter": "MeanStdFilter", "env": "MultiWaveAttenuationMergePOEnvBufferedObs-v0density_[eta1, eta2, eta3]:[1.0, 0.1, 0.0]_t_min:7.0", "gamma": 0.99, "lr": 0.0005, "monitor": false, "output_compress_columns": ["obs", "new_obs"], "batch_mode": "truncate_episodes", "num_gpus": 0, "num_workers": 30, "output": null, "collect_metrics_timeout": 180, "num_sgd_iter": 10, "sample_batch_size": 750, "output_max_file_size": 67108864, "straggler_mitigation": false, "train_batch_size": 90000}, "num_metric_batches_dropped": 0, "hostname": "flow-main", "episodes_total": 5275, "episode_reward_min": 211.06659320944507, "time_total_s": 5988.5527193546295, "policy_reward_mean": {}, "timesteps_this_iter": 131367, "custom_metrics": {"cost1_mean": 348.9967620048873, "system_level_velocity_mean": 12.26119372778498, "cost2_max": -66.08410869974745, "outflow_rate_max": 1137.9116674481347, "outflow_rate_mean": 1008.206256820282, "cost1_max": 415.8573180613805, "outflow_rate_min": 418.93469404960905, "system_level_velocity_max": 14.498086444149713, "system_level_velocity_min": 9.613633737194107, "cost2_min": -151.20645099447, "cost1_min": 114.69927603563147, "cost2_mean": -122.45794594007752}, "episode_reward_max": 916.2001464863887}
{"node_ip": "10.138.0.2", "episode_reward_mean": 751.7094791284937, "time_this_iter_s": 69.20111894607544, "done": false, "episode_len_mean": 751.0, "timestamp": 1557393622, "training_iteration": 87, "experiment_id": "58dd2f5595014063b753971755894587", "time_since_restore": 6057.753838300705, "timesteps_total": 11549895, "pid": 25334, "episodes_this_iter": 62, "date": "2019-05-09_09-20-22", "info": {"sample_time_ms": 37921.091, "grad_time_ms": 33075.766, "num_steps_sampled": 11549895, "update_time_ms": 9.752, "default": {"vf_explained_var": 0.9420240521430969, "cur_kl_coeff": 0.5062499642372131, "vf_loss": 10.772448539733887, "policy_loss": -0.016389425843954086, "cur_lr": 0.0005000000237487257, "kl": 0.01451479084789753, "total_loss": 10.763407707214355, "entropy": 1.553612470626831}, "load_time_ms": 47.144, "num_steps_trained": 11549895}, "timesteps_since_restore": 11549895, "iterations_since_restore": 87, "config": {"local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "compress_observations": false, "clip_rewards": null, "sample_async": false, "custom_resources_per_worker": {}, "use_gae": true, "vf_share_layers": false, "vf_loss_coeff": 1.0, "optimizer": {}, "simple_optimizer": false, "num_envs_per_worker": 1, "vf_clip_param": 1000000.0, "synchronize_filters": true, "num_cpus_per_worker": 1, "multiagent": {"policy_graphs": {}, "policies_to_train": null, "policy_mapping_fn": null}, "kl_target": 0.01, "clip_actions": false, "input": "sampler", "input_evaluation": null, "entropy_coeff": 0.0, "lr_schedule": null, "sgd_minibatch_size": 128, "callbacks": {"on_sample_end": null, "on_train_result": null, "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7f498a9229b0>", "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7f498a9226a0>", "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7f498a922710>"}, "num_cpus_for_driver": 1, "log_level": "INFO", "tf_session_args": {"log_device_placement": false, "gpu_options": {"allow_growth": true}, "intra_op_parallelism_threads": 2, "inter_op_parallelism_threads": 2, "allow_soft_placement": true, "device_count": {"CPU": 1}}, "model": {"dim": 84, "free_log_std": false, "fcnet_hiddens": [128, 64, 32], "custom_model": null, "fcnet_activation": "tanh", "lstm_use_prev_action_reward": false, "grayscale": false, "channel_major": false, "squash_to_range": false, "framestack": true, "use_lstm": false, "conv_activation": "relu", "conv_filters": null, "custom_preprocessor": null, "lstm_cell_size": 256, "zero_mean": true, "custom_options": {}, "max_seq_len": 20}, "lambda": 0.97, "num_gpus_per_worker": 0, "kl_coeff": 0.2, "horizon": 1500, "preprocessor_pref": "deepmind", "env_config": {"run": "PPO", "flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.1,\n            \"eta3\": 0.1,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 7.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 0\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 700,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}"}, "clip_param": 0.3, "observation_filter": "MeanStdFilter", "env": "MultiWaveAttenuationMergePOEnvBufferedObs-v0density_[eta1, eta2, eta3]:[1.0, 0.1, 0.0]_t_min:7.0", "gamma": 0.99, "lr": 0.0005, "monitor": false, "output_compress_columns": ["obs", "new_obs"], "batch_mode": "truncate_episodes", "num_gpus": 0, "num_workers": 30, "output": null, "collect_metrics_timeout": 180, "num_sgd_iter": 10, "sample_batch_size": 750, "output_max_file_size": 67108864, "straggler_mitigation": false, "train_batch_size": 90000}, "num_metric_batches_dropped": 0, "hostname": "flow-main", "episodes_total": 5337, "episode_reward_min": 691.9738419995642, "time_total_s": 6057.753838300705, "policy_reward_mean": {}, "timesteps_this_iter": 131154, "custom_metrics": {"cost1_mean": 349.38590154741956, "system_level_velocity_mean": 12.180380235780799, "cost2_max": -105.69803847371674, "outflow_rate_max": 1151.059898283115, "outflow_rate_mean": 1009.9090597818918, "cost1_max": 416.9890662732035, "outflow_rate_min": 909.5204131705807, "system_level_velocity_max": 14.445758243056432, "system_level_velocity_min": 10.381724872422376, "cost2_min": -144.04278698588448, "cost1_min": 297.36292796641294, "cost2_mean": -121.81308470225487}, "episode_reward_max": 936.6641642238001}
{"node_ip": "10.138.0.2", "episode_reward_mean": 751.5625792619779, "time_this_iter_s": 70.18086433410645, "done": false, "episode_len_mean": 751.0, "timestamp": 1557393692, "training_iteration": 88, "experiment_id": "58dd2f5595014063b753971755894587", "time_since_restore": 6127.934702634811, "timesteps_total": 11680061, "pid": 25334, "episodes_this_iter": 62, "date": "2019-05-09_09-21-32", "info": {"sample_time_ms": 37598.621, "grad_time_ms": 33340.111, "num_steps_sampled": 11680061, "update_time_ms": 9.67, "default": {"vf_explained_var": 0.9420517086982727, "cur_kl_coeff": 0.5062499642372131, "vf_loss": 10.909707069396973, "policy_loss": -0.01634128764271736, "cur_lr": 0.0005000000237487257, "kl": 0.014605920761823654, "total_loss": 10.900760650634766, "entropy": 1.5523909330368042}, "load_time_ms": 49.802, "num_steps_trained": 11680061}, "timesteps_since_restore": 11680061, "iterations_since_restore": 88, "config": {"local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "compress_observations": false, "clip_rewards": null, "sample_async": false, "custom_resources_per_worker": {}, "use_gae": true, "vf_share_layers": false, "vf_loss_coeff": 1.0, "optimizer": {}, "simple_optimizer": false, "num_envs_per_worker": 1, "vf_clip_param": 1000000.0, "synchronize_filters": true, "num_cpus_per_worker": 1, "multiagent": {"policy_graphs": {}, "policies_to_train": null, "policy_mapping_fn": null}, "kl_target": 0.01, "clip_actions": false, "input": "sampler", "input_evaluation": null, "entropy_coeff": 0.0, "lr_schedule": null, "sgd_minibatch_size": 128, "callbacks": {"on_sample_end": null, "on_train_result": null, "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7f49896c58d0>", "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7f49896c50b8>", "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7f49896c55f8>"}, "num_cpus_for_driver": 1, "log_level": "INFO", "tf_session_args": {"log_device_placement": false, "gpu_options": {"allow_growth": true}, "intra_op_parallelism_threads": 2, "inter_op_parallelism_threads": 2, "allow_soft_placement": true, "device_count": {"CPU": 1}}, "model": {"dim": 84, "free_log_std": false, "fcnet_hiddens": [128, 64, 32], "custom_model": null, "fcnet_activation": "tanh", "lstm_use_prev_action_reward": false, "grayscale": false, "channel_major": false, "squash_to_range": false, "framestack": true, "use_lstm": false, "conv_activation": "relu", "conv_filters": null, "custom_preprocessor": null, "lstm_cell_size": 256, "zero_mean": true, "custom_options": {}, "max_seq_len": 20}, "lambda": 0.97, "num_gpus_per_worker": 0, "kl_coeff": 0.2, "horizon": 1500, "preprocessor_pref": "deepmind", "env_config": {"run": "PPO", "flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.1,\n            \"eta3\": 0.1,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 7.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 0\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 700,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}"}, "clip_param": 0.3, "observation_filter": "MeanStdFilter", "env": "MultiWaveAttenuationMergePOEnvBufferedObs-v0density_[eta1, eta2, eta3]:[1.0, 0.1, 0.0]_t_min:7.0", "gamma": 0.99, "lr": 0.0005, "monitor": false, "output_compress_columns": ["obs", "new_obs"], "batch_mode": "truncate_episodes", "num_gpus": 0, "num_workers": 30, "output": null, "collect_metrics_timeout": 180, "num_sgd_iter": 10, "sample_batch_size": 750, "output_max_file_size": 67108864, "straggler_mitigation": false, "train_batch_size": 90000}, "num_metric_batches_dropped": 0, "hostname": "flow-main", "episodes_total": 5399, "episode_reward_min": 675.2013031044759, "time_total_s": 6127.934702634811, "policy_reward_mean": {}, "timesteps_this_iter": 130166, "custom_metrics": {"cost1_mean": 348.1608461994864, "system_level_velocity_mean": 12.131062713413762, "cost2_max": -101.63468019081884, "outflow_rate_max": 1151.882232177584, "outflow_rate_mean": 1006.179326221248, "cost1_max": 417.91158851789237, "outflow_rate_min": 909.5204131705807, "system_level_velocity_max": 14.468837525914147, "system_level_velocity_min": 10.381724872422376, "cost2_min": -164.36780892532542, "cost1_min": 297.36292796641294, "cost2_mean": -120.03777031107336}, "episode_reward_max": 955.9017406599356}
{"node_ip": "10.138.0.2", "episode_reward_mean": 754.0235555421164, "time_this_iter_s": 69.6308536529541, "done": false, "episode_len_mean": 751.0, "timestamp": 1557393762, "training_iteration": 89, "experiment_id": "58dd2f5595014063b753971755894587", "time_since_restore": 6197.5655562877655, "timesteps_total": 11811227, "pid": 25334, "episodes_this_iter": 62, "date": "2019-05-09_09-22-42", "info": {"sample_time_ms": 37267.911, "grad_time_ms": 33259.018, "num_steps_sampled": 11811227, "update_time_ms": 9.533, "default": {"vf_explained_var": 0.9559001922607422, "cur_kl_coeff": 0.5062499642372131, "vf_loss": 8.25, "policy_loss": -0.016887672245502472, "cur_lr": 0.0005000000237487257, "kl": 0.014455116353929043, "total_loss": 8.240428924560547, "entropy": 1.5655317306518555}, "load_time_ms": 49.908, "num_steps_trained": 11811227}, "timesteps_since_restore": 11811227, "iterations_since_restore": 89, "config": {"local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "compress_observations": false, "clip_rewards": null, "sample_async": false, "custom_resources_per_worker": {}, "use_gae": true, "vf_share_layers": false, "vf_loss_coeff": 1.0, "optimizer": {}, "simple_optimizer": false, "num_envs_per_worker": 1, "vf_clip_param": 1000000.0, "synchronize_filters": true, "num_cpus_per_worker": 1, "multiagent": {"policy_graphs": {}, "policies_to_train": null, "policy_mapping_fn": null}, "kl_target": 0.01, "clip_actions": false, "input": "sampler", "input_evaluation": null, "entropy_coeff": 0.0, "lr_schedule": null, "sgd_minibatch_size": 128, "callbacks": {"on_sample_end": null, "on_train_result": null, "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7f49896c56a0>", "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7f49896c5b00>", "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7f49896c59e8>"}, "num_cpus_for_driver": 1, "log_level": "INFO", "tf_session_args": {"log_device_placement": false, "gpu_options": {"allow_growth": true}, "intra_op_parallelism_threads": 2, "inter_op_parallelism_threads": 2, "allow_soft_placement": true, "device_count": {"CPU": 1}}, "model": {"dim": 84, "free_log_std": false, "fcnet_hiddens": [128, 64, 32], "custom_model": null, "fcnet_activation": "tanh", "lstm_use_prev_action_reward": false, "grayscale": false, "channel_major": false, "squash_to_range": false, "framestack": true, "use_lstm": false, "conv_activation": "relu", "conv_filters": null, "custom_preprocessor": null, "lstm_cell_size": 256, "zero_mean": true, "custom_options": {}, "max_seq_len": 20}, "lambda": 0.97, "num_gpus_per_worker": 0, "kl_coeff": 0.2, "horizon": 1500, "preprocessor_pref": "deepmind", "env_config": {"run": "PPO", "flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.1,\n            \"eta3\": 0.1,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 7.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 0\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 700,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}"}, "clip_param": 0.3, "observation_filter": "MeanStdFilter", "env": "MultiWaveAttenuationMergePOEnvBufferedObs-v0density_[eta1, eta2, eta3]:[1.0, 0.1, 0.0]_t_min:7.0", "gamma": 0.99, "lr": 0.0005, "monitor": false, "output_compress_columns": ["obs", "new_obs"], "batch_mode": "truncate_episodes", "num_gpus": 0, "num_workers": 30, "output": null, "collect_metrics_timeout": 180, "num_sgd_iter": 10, "sample_batch_size": 750, "output_max_file_size": 67108864, "straggler_mitigation": false, "train_batch_size": 90000}, "num_metric_batches_dropped": 0, "hostname": "flow-main", "episodes_total": 5461, "episode_reward_min": 675.2013031044759, "time_total_s": 6197.5655562877655, "policy_reward_mean": {}, "timesteps_this_iter": 131166, "custom_metrics": {"cost1_mean": 351.28403231562953, "system_level_velocity_mean": 12.250619676567771, "cost2_max": -101.63468019081884, "outflow_rate_max": 1148.7715272735948, "outflow_rate_mean": 1014.2427188217645, "cost1_max": 414.93531417553277, "outflow_rate_min": 935.3946190437464, "system_level_velocity_max": 14.400177561678767, "system_level_velocity_min": 11.13058400193525, "cost2_min": -136.35854324875544, "cost1_min": 318.59552110914854, "cost2_mean": -119.47092283247537}, "episode_reward_max": 944.6003681624364}
{"node_ip": "10.138.0.2", "episode_reward_mean": 744.214947789078, "time_this_iter_s": 69.60049772262573, "done": false, "episode_len_mean": 740.54, "timestamp": 1557393832, "training_iteration": 90, "experiment_id": "58dd2f5595014063b753971755894587", "time_since_restore": 6267.166054010391, "timesteps_total": 11942616, "pid": 25334, "episodes_this_iter": 64, "date": "2019-05-09_09-23-52", "info": {"sample_time_ms": 37001.051, "grad_time_ms": 33341.821, "num_steps_sampled": 11942616, "update_time_ms": 9.315, "default": {"vf_explained_var": 0.941753089427948, "cur_kl_coeff": 0.5062499642372131, "vf_loss": 11.085559844970703, "policy_loss": -0.016244802623987198, "cur_lr": 0.0005000000237487257, "kl": 0.01453123614192009, "total_loss": 11.07667064666748, "entropy": 1.5498261451721191}, "load_time_ms": 53.148, "num_steps_trained": 11942616}, "timesteps_since_restore": 11942616, "iterations_since_restore": 90, "config": {"local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "compress_observations": false, "clip_rewards": null, "sample_async": false, "custom_resources_per_worker": {}, "use_gae": true, "vf_share_layers": false, "vf_loss_coeff": 1.0, "optimizer": {}, "simple_optimizer": false, "num_envs_per_worker": 1, "vf_clip_param": 1000000.0, "synchronize_filters": true, "num_cpus_per_worker": 1, "multiagent": {"policy_graphs": {}, "policies_to_train": null, "policy_mapping_fn": null}, "kl_target": 0.01, "clip_actions": false, "input": "sampler", "input_evaluation": null, "entropy_coeff": 0.0, "lr_schedule": null, "sgd_minibatch_size": 128, "callbacks": {"on_sample_end": null, "on_train_result": null, "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7f498a9225c0>", "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7f498a922710>", "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7f498a9226a0>"}, "num_cpus_for_driver": 1, "log_level": "INFO", "tf_session_args": {"log_device_placement": false, "gpu_options": {"allow_growth": true}, "intra_op_parallelism_threads": 2, "inter_op_parallelism_threads": 2, "allow_soft_placement": true, "device_count": {"CPU": 1}}, "model": {"dim": 84, "free_log_std": false, "fcnet_hiddens": [128, 64, 32], "custom_model": null, "fcnet_activation": "tanh", "lstm_use_prev_action_reward": false, "grayscale": false, "channel_major": false, "squash_to_range": false, "framestack": true, "use_lstm": false, "conv_activation": "relu", "conv_filters": null, "custom_preprocessor": null, "lstm_cell_size": 256, "zero_mean": true, "custom_options": {}, "max_seq_len": 20}, "lambda": 0.97, "num_gpus_per_worker": 0, "kl_coeff": 0.2, "horizon": 1500, "preprocessor_pref": "deepmind", "env_config": {"run": "PPO", "flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.1,\n            \"eta3\": 0.1,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 7.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 0\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 700,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}"}, "clip_param": 0.3, "observation_filter": "MeanStdFilter", "env": "MultiWaveAttenuationMergePOEnvBufferedObs-v0density_[eta1, eta2, eta3]:[1.0, 0.1, 0.0]_t_min:7.0", "gamma": 0.99, "lr": 0.0005, "monitor": false, "output_compress_columns": ["obs", "new_obs"], "batch_mode": "truncate_episodes", "num_gpus": 0, "num_workers": 30, "output": null, "collect_metrics_timeout": 180, "num_sgd_iter": 10, "sample_batch_size": 750, "output_max_file_size": 67108864, "straggler_mitigation": false, "train_batch_size": 90000}, "num_metric_batches_dropped": 0, "hostname": "flow-main", "episodes_total": 5525, "episode_reward_min": 207.6780557645101, "time_total_s": 6267.166054010391, "policy_reward_mean": {}, "timesteps_this_iter": 131389, "custom_metrics": {"cost1_mean": 347.6597352321689, "system_level_velocity_mean": 12.315678553689814, "cost2_max": -65.02282086109241, "outflow_rate_max": 1148.7715272735948, "outflow_rate_mean": 1007.431582903266, "cost1_max": 414.93531417553277, "outflow_rate_min": 432.8952594359117, "system_level_velocity_max": 14.400177561678767, "system_level_velocity_min": 11.049662546773332, "cost2_min": -147.88709088644202, "cost1_min": 116.1191275079476, "cost2_mean": -120.9257919926112}, "episode_reward_max": 921.5511389134855}
{"node_ip": "10.138.0.2", "episode_reward_mean": 733.2597457216779, "time_this_iter_s": 68.4763731956482, "done": false, "episode_len_mean": 735.31, "timestamp": 1557393900, "training_iteration": 91, "experiment_id": "58dd2f5595014063b753971755894587", "time_since_restore": 6335.642427206039, "timesteps_total": 12071599, "pid": 25334, "episodes_this_iter": 63, "date": "2019-05-09_09-25-00", "info": {"sample_time_ms": 36824.586, "grad_time_ms": 33131.429, "num_steps_sampled": 12071599, "update_time_ms": 9.197, "default": {"vf_explained_var": 0.9375554323196411, "cur_kl_coeff": 0.5062499642372131, "vf_loss": 11.597933769226074, "policy_loss": -0.016967985779047012, "cur_lr": 0.0005000000237487257, "kl": 0.015196862630546093, "total_loss": 11.588658332824707, "entropy": 1.5596245527267456}, "load_time_ms": 56.646, "num_steps_trained": 12071599}, "timesteps_since_restore": 12071599, "iterations_since_restore": 91, "config": {"local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "compress_observations": false, "clip_rewards": null, "sample_async": false, "custom_resources_per_worker": {}, "use_gae": true, "vf_share_layers": false, "vf_loss_coeff": 1.0, "optimizer": {}, "simple_optimizer": false, "num_envs_per_worker": 1, "vf_clip_param": 1000000.0, "synchronize_filters": true, "num_cpus_per_worker": 1, "multiagent": {"policy_graphs": {}, "policies_to_train": null, "policy_mapping_fn": null}, "kl_target": 0.01, "clip_actions": false, "input": "sampler", "input_evaluation": null, "entropy_coeff": 0.0, "lr_schedule": null, "sgd_minibatch_size": 128, "callbacks": {"on_sample_end": null, "on_train_result": null, "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7f49896c5be0>", "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7f49896c5898>", "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7f49896c53c8>"}, "num_cpus_for_driver": 1, "log_level": "INFO", "tf_session_args": {"log_device_placement": false, "gpu_options": {"allow_growth": true}, "intra_op_parallelism_threads": 2, "inter_op_parallelism_threads": 2, "allow_soft_placement": true, "device_count": {"CPU": 1}}, "model": {"dim": 84, "free_log_std": false, "fcnet_hiddens": [128, 64, 32], "custom_model": null, "fcnet_activation": "tanh", "lstm_use_prev_action_reward": false, "grayscale": false, "channel_major": false, "squash_to_range": false, "framestack": true, "use_lstm": false, "conv_activation": "relu", "conv_filters": null, "custom_preprocessor": null, "lstm_cell_size": 256, "zero_mean": true, "custom_options": {}, "max_seq_len": 20}, "lambda": 0.97, "num_gpus_per_worker": 0, "kl_coeff": 0.2, "horizon": 1500, "preprocessor_pref": "deepmind", "env_config": {"run": "PPO", "flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.1,\n            \"eta3\": 0.1,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 7.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 0\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 700,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}"}, "clip_param": 0.3, "observation_filter": "MeanStdFilter", "env": "MultiWaveAttenuationMergePOEnvBufferedObs-v0density_[eta1, eta2, eta3]:[1.0, 0.1, 0.0]_t_min:7.0", "gamma": 0.99, "lr": 0.0005, "monitor": false, "output_compress_columns": ["obs", "new_obs"], "batch_mode": "truncate_episodes", "num_gpus": 0, "num_workers": 30, "output": null, "collect_metrics_timeout": 180, "num_sgd_iter": 10, "sample_batch_size": 750, "output_max_file_size": 67108864, "straggler_mitigation": false, "train_batch_size": 90000}, "num_metric_batches_dropped": 0, "hostname": "flow-main", "episodes_total": 5588, "episode_reward_min": 205.52595377246925, "time_total_s": 6335.642427206039, "policy_reward_mean": {}, "timesteps_this_iter": 128983, "custom_metrics": {"cost1_mean": 342.4142802676418, "system_level_velocity_mean": 12.243237991849071, "cost2_max": -65.02282086109241, "outflow_rate_max": 1151.8602752265017, "outflow_rate_mean": 992.6378642153396, "cost1_max": 409.9610658871185, "outflow_rate_min": 432.4753837132573, "system_level_velocity_max": 14.187438828834168, "system_level_velocity_min": 10.611606112857704, "cost2_min": -152.65690329498025, "cost1_min": 115.29806715076606, "cost2_mean": -120.63171758150624}, "episode_reward_max": 869.0500257485716}
{"node_ip": "10.138.0.2", "episode_reward_mean": 744.2314971174034, "time_this_iter_s": 69.24389338493347, "done": false, "episode_len_mean": 740.58, "timestamp": 1557393969, "training_iteration": 92, "experiment_id": "58dd2f5595014063b753971755894587", "time_since_restore": 6404.886320590973, "timesteps_total": 12201424, "pid": 25334, "episodes_this_iter": 63, "date": "2019-05-09_09-26-09", "info": {"sample_time_ms": 36682.728, "grad_time_ms": 32903.573, "num_steps_sampled": 12201424, "update_time_ms": 9.127, "default": {"vf_explained_var": 0.9379105567932129, "cur_kl_coeff": 0.5062499642372131, "vf_loss": 11.778996467590332, "policy_loss": -0.01618492603302002, "cur_lr": 0.0005000000237487257, "kl": 0.014192481525242329, "total_loss": 11.769996643066406, "entropy": 1.5480012893676758}, "load_time_ms": 57.006, "num_steps_trained": 12201424}, "timesteps_since_restore": 12201424, "iterations_since_restore": 92, "config": {"local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "compress_observations": false, "clip_rewards": null, "sample_async": false, "custom_resources_per_worker": {}, "use_gae": true, "vf_share_layers": false, "vf_loss_coeff": 1.0, "optimizer": {}, "simple_optimizer": false, "num_envs_per_worker": 1, "vf_clip_param": 1000000.0, "synchronize_filters": true, "num_cpus_per_worker": 1, "multiagent": {"policy_graphs": {}, "policies_to_train": null, "policy_mapping_fn": null}, "kl_target": 0.01, "clip_actions": false, "input": "sampler", "input_evaluation": null, "entropy_coeff": 0.0, "lr_schedule": null, "sgd_minibatch_size": 128, "callbacks": {"on_sample_end": null, "on_train_result": null, "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7f49896c5470>", "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7f49896c56a0>", "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7f49896c5780>"}, "num_cpus_for_driver": 1, "log_level": "INFO", "tf_session_args": {"log_device_placement": false, "gpu_options": {"allow_growth": true}, "intra_op_parallelism_threads": 2, "inter_op_parallelism_threads": 2, "allow_soft_placement": true, "device_count": {"CPU": 1}}, "model": {"dim": 84, "free_log_std": false, "fcnet_hiddens": [128, 64, 32], "custom_model": null, "fcnet_activation": "tanh", "lstm_use_prev_action_reward": false, "grayscale": false, "channel_major": false, "squash_to_range": false, "framestack": true, "use_lstm": false, "conv_activation": "relu", "conv_filters": null, "custom_preprocessor": null, "lstm_cell_size": 256, "zero_mean": true, "custom_options": {}, "max_seq_len": 20}, "lambda": 0.97, "num_gpus_per_worker": 0, "kl_coeff": 0.2, "horizon": 1500, "preprocessor_pref": "deepmind", "env_config": {"run": "PPO", "flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.1,\n            \"eta3\": 0.1,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 7.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 0\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 700,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}"}, "clip_param": 0.3, "observation_filter": "MeanStdFilter", "env": "MultiWaveAttenuationMergePOEnvBufferedObs-v0density_[eta1, eta2, eta3]:[1.0, 0.1, 0.0]_t_min:7.0", "gamma": 0.99, "lr": 0.0005, "monitor": false, "output_compress_columns": ["obs", "new_obs"], "batch_mode": "truncate_episodes", "num_gpus": 0, "num_workers": 30, "output": null, "collect_metrics_timeout": 180, "num_sgd_iter": 10, "sample_batch_size": 750, "output_max_file_size": 67108864, "straggler_mitigation": false, "train_batch_size": 90000}, "num_metric_batches_dropped": 0, "hostname": "flow-main", "episodes_total": 5651, "episode_reward_min": 205.52595377246925, "time_total_s": 6404.886320590973, "policy_reward_mean": {}, "timesteps_this_iter": 129825, "custom_metrics": {"cost1_mean": 347.2994331279502, "system_level_velocity_mean": 12.316614815790103, "cost2_max": -65.84792245904642, "outflow_rate_max": 1164.4433233804427, "outflow_rate_mean": 1004.3843399030699, "cost1_max": 422.8075887616209, "outflow_rate_min": 432.4753837132573, "system_level_velocity_max": 14.668956538889724, "system_level_velocity_min": 11.220550412199998, "cost2_min": -152.65690329498025, "cost1_min": 115.29806715076606, "cost2_mean": -118.29902376085869}, "episode_reward_max": 956.959082737266}
{"node_ip": "10.138.0.2", "episode_reward_mean": 743.3753563845443, "time_this_iter_s": 71.1252863407135, "done": false, "episode_len_mean": 745.83, "timestamp": 1557394041, "training_iteration": 93, "experiment_id": "58dd2f5595014063b753971755894587", "time_since_restore": 6476.011606931686, "timesteps_total": 12331765, "pid": 25334, "episodes_this_iter": 63, "date": "2019-05-09_09-27-21", "info": {"sample_time_ms": 36862.259, "grad_time_ms": 32744.03, "num_steps_sampled": 12331765, "update_time_ms": 8.831, "default": {"vf_explained_var": 0.9392769932746887, "cur_kl_coeff": 0.5062499046325684, "vf_loss": 11.330012321472168, "policy_loss": -0.017183411866426468, "cur_lr": 0.0005000000237487257, "kl": 0.015146086923778057, "total_loss": 11.32049560546875, "entropy": 1.5615134239196777}, "load_time_ms": 58.787, "num_steps_trained": 12331765}, "timesteps_since_restore": 12331765, "iterations_since_restore": 93, "config": {"local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "compress_observations": false, "clip_rewards": null, "sample_async": false, "custom_resources_per_worker": {}, "use_gae": true, "vf_share_layers": false, "vf_loss_coeff": 1.0, "optimizer": {}, "simple_optimizer": false, "num_envs_per_worker": 1, "vf_clip_param": 1000000.0, "synchronize_filters": true, "num_cpus_per_worker": 1, "multiagent": {"policy_graphs": {}, "policies_to_train": null, "policy_mapping_fn": null}, "kl_target": 0.01, "clip_actions": false, "input": "sampler", "input_evaluation": null, "entropy_coeff": 0.0, "lr_schedule": null, "sgd_minibatch_size": 128, "callbacks": {"on_sample_end": null, "on_train_result": null, "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7f49896a7e10>", "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7f49896a72e8>", "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7f49896a77f0>"}, "num_cpus_for_driver": 1, "log_level": "INFO", "tf_session_args": {"log_device_placement": false, "gpu_options": {"allow_growth": true}, "intra_op_parallelism_threads": 2, "inter_op_parallelism_threads": 2, "allow_soft_placement": true, "device_count": {"CPU": 1}}, "model": {"dim": 84, "free_log_std": false, "fcnet_hiddens": [128, 64, 32], "custom_model": null, "fcnet_activation": "tanh", "lstm_use_prev_action_reward": false, "grayscale": false, "channel_major": false, "squash_to_range": false, "framestack": true, "use_lstm": false, "conv_activation": "relu", "conv_filters": null, "custom_preprocessor": null, "lstm_cell_size": 256, "zero_mean": true, "custom_options": {}, "max_seq_len": 20}, "lambda": 0.97, "num_gpus_per_worker": 0, "kl_coeff": 0.2, "horizon": 1500, "preprocessor_pref": "deepmind", "env_config": {"run": "PPO", "flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.1,\n            \"eta3\": 0.1,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 7.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 0\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 700,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}"}, "clip_param": 0.3, "observation_filter": "MeanStdFilter", "env": "MultiWaveAttenuationMergePOEnvBufferedObs-v0density_[eta1, eta2, eta3]:[1.0, 0.1, 0.0]_t_min:7.0", "gamma": 0.99, "lr": 0.0005, "monitor": false, "output_compress_columns": ["obs", "new_obs"], "batch_mode": "truncate_episodes", "num_gpus": 0, "num_workers": 30, "output": null, "collect_metrics_timeout": 180, "num_sgd_iter": 10, "sample_batch_size": 750, "output_max_file_size": 67108864, "straggler_mitigation": false, "train_batch_size": 90000}, "num_metric_batches_dropped": 0, "hostname": "flow-main", "episodes_total": 5714, "episode_reward_min": 215.0085563551869, "time_total_s": 6476.011606931686, "policy_reward_mean": {}, "timesteps_this_iter": 130341, "custom_metrics": {"cost1_mean": 348.661798644812, "system_level_velocity_mean": 12.270909984379639, "cost2_max": -65.84792245904642, "outflow_rate_max": 1151.0885643326458, "outflow_rate_mean": 1007.4721979244279, "cost1_max": 415.42886947666875, "outflow_rate_min": 445.51358568242836, "system_level_velocity_max": 14.450136291961428, "system_level_velocity_min": 9.474450736201089, "cost2_min": -138.62891785472226, "cost1_min": 118.96260906946411, "cost2_mean": -116.69296171892202}, "episode_reward_max": 940.0985176284921}
{"node_ip": "10.138.0.2", "episode_reward_mean": 740.2871380570592, "time_this_iter_s": 70.15244579315186, "done": false, "episode_len_mean": 746.57, "timestamp": 1557394111, "training_iteration": 94, "experiment_id": "58dd2f5595014063b753971755894587", "time_since_restore": 6546.164052724838, "timesteps_total": 12462280, "pid": 25334, "episodes_this_iter": 64, "date": "2019-05-09_09-28-31", "info": {"sample_time_ms": 37042.716, "grad_time_ms": 32450.747, "num_steps_sampled": 12462280, "update_time_ms": 8.572, "default": {"vf_explained_var": 0.943318784236908, "cur_kl_coeff": 0.5062499642372131, "vf_loss": 10.545697212219238, "policy_loss": -0.018292833119630814, "cur_lr": 0.0005000000237487257, "kl": 0.015178716741502285, "total_loss": 10.535088539123535, "entropy": 1.5758476257324219}, "load_time_ms": 58.256, "num_steps_trained": 12462280}, "timesteps_since_restore": 12462280, "iterations_since_restore": 94, "config": {"local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "compress_observations": false, "clip_rewards": null, "sample_async": false, "custom_resources_per_worker": {}, "use_gae": true, "vf_share_layers": false, "vf_loss_coeff": 1.0, "optimizer": {}, "simple_optimizer": false, "num_envs_per_worker": 1, "vf_clip_param": 1000000.0, "synchronize_filters": true, "num_cpus_per_worker": 1, "multiagent": {"policy_graphs": {}, "policies_to_train": null, "policy_mapping_fn": null}, "kl_target": 0.01, "clip_actions": false, "input": "sampler", "input_evaluation": null, "entropy_coeff": 0.0, "lr_schedule": null, "sgd_minibatch_size": 128, "callbacks": {"on_sample_end": null, "on_train_result": null, "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7f49896c5908>", "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7f49896c5278>", "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7f49896c5eb8>"}, "num_cpus_for_driver": 1, "log_level": "INFO", "tf_session_args": {"log_device_placement": false, "gpu_options": {"allow_growth": true}, "intra_op_parallelism_threads": 2, "inter_op_parallelism_threads": 2, "allow_soft_placement": true, "device_count": {"CPU": 1}}, "model": {"dim": 84, "free_log_std": false, "fcnet_hiddens": [128, 64, 32], "custom_model": null, "fcnet_activation": "tanh", "lstm_use_prev_action_reward": false, "grayscale": false, "channel_major": false, "squash_to_range": false, "framestack": true, "use_lstm": false, "conv_activation": "relu", "conv_filters": null, "custom_preprocessor": null, "lstm_cell_size": 256, "zero_mean": true, "custom_options": {}, "max_seq_len": 20}, "lambda": 0.97, "num_gpus_per_worker": 0, "kl_coeff": 0.2, "horizon": 1500, "preprocessor_pref": "deepmind", "env_config": {"run": "PPO", "flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.1,\n            \"eta3\": 0.1,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 7.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 0\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 700,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}"}, "clip_param": 0.3, "observation_filter": "MeanStdFilter", "env": "MultiWaveAttenuationMergePOEnvBufferedObs-v0density_[eta1, eta2, eta3]:[1.0, 0.1, 0.0]_t_min:7.0", "gamma": 0.99, "lr": 0.0005, "monitor": false, "output_compress_columns": ["obs", "new_obs"], "batch_mode": "truncate_episodes", "num_gpus": 0, "num_workers": 30, "output": null, "collect_metrics_timeout": 180, "num_sgd_iter": 10, "sample_batch_size": 750, "output_max_file_size": 67108864, "straggler_mitigation": false, "train_batch_size": 90000}, "num_metric_batches_dropped": 0, "hostname": "flow-main", "episodes_total": 5778, "episode_reward_min": 332.5762067603158, "time_total_s": 6546.164052724838, "policy_reward_mean": {}, "timesteps_this_iter": 130515, "custom_metrics": {"cost1_mean": 346.6226007056675, "system_level_velocity_mean": 12.18730346668783, "cost2_max": -87.24884860196516, "outflow_rate_max": 1159.1710316135664, "outflow_rate_mean": 1002.8650464690825, "cost1_max": 422.6660203686298, "outflow_rate_min": 548.721433516695, "system_level_velocity_max": 14.64812417029529, "system_level_velocity_min": 9.474450736201089, "cost2_min": -133.73136051583842, "cost1_min": 164.42962202683003, "cost2_mean": -116.61661945003601}, "episode_reward_max": 959.1373423799848}
{"node_ip": "10.138.0.2", "episode_reward_mean": 727.7951103477485, "time_this_iter_s": 68.31279754638672, "done": false, "episode_len_mean": 737.22, "timestamp": 1557394179, "training_iteration": 95, "experiment_id": "58dd2f5595014063b753971755894587", "time_since_restore": 6614.476850271225, "timesteps_total": 12592839, "pid": 25334, "episodes_this_iter": 62, "date": "2019-05-09_09-29-39", "info": {"sample_time_ms": 37414.952, "grad_time_ms": 31936.253, "num_steps_sampled": 12592839, "update_time_ms": 8.341, "default": {"vf_explained_var": 0.9522198438644409, "cur_kl_coeff": 0.5062499642372131, "vf_loss": 8.841683387756348, "policy_loss": -0.017322305589914322, "cur_lr": 0.0005000000237487257, "kl": 0.014728093519806862, "total_loss": 8.831818580627441, "entropy": 1.596158504486084}, "load_time_ms": 54.02, "num_steps_trained": 12592839}, "timesteps_since_restore": 12592839, "iterations_since_restore": 95, "config": {"local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "compress_observations": false, "clip_rewards": null, "sample_async": false, "custom_resources_per_worker": {}, "use_gae": true, "vf_share_layers": false, "vf_loss_coeff": 1.0, "optimizer": {}, "simple_optimizer": false, "num_envs_per_worker": 1, "vf_clip_param": 1000000.0, "synchronize_filters": true, "num_cpus_per_worker": 1, "multiagent": {"policy_graphs": {}, "policies_to_train": null, "policy_mapping_fn": null}, "kl_target": 0.01, "clip_actions": false, "input": "sampler", "input_evaluation": null, "entropy_coeff": 0.0, "lr_schedule": null, "sgd_minibatch_size": 128, "callbacks": {"on_sample_end": null, "on_train_result": null, "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7f49896c5b00>", "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7f49896c5198>", "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7f49896c56a0>"}, "num_cpus_for_driver": 1, "log_level": "INFO", "tf_session_args": {"log_device_placement": false, "gpu_options": {"allow_growth": true}, "intra_op_parallelism_threads": 2, "inter_op_parallelism_threads": 2, "allow_soft_placement": true, "device_count": {"CPU": 1}}, "model": {"dim": 84, "free_log_std": false, "fcnet_hiddens": [128, 64, 32], "custom_model": null, "fcnet_activation": "tanh", "lstm_use_prev_action_reward": false, "grayscale": false, "channel_major": false, "squash_to_range": false, "framestack": true, "use_lstm": false, "conv_activation": "relu", "conv_filters": null, "custom_preprocessor": null, "lstm_cell_size": 256, "zero_mean": true, "custom_options": {}, "max_seq_len": 20}, "lambda": 0.97, "num_gpus_per_worker": 0, "kl_coeff": 0.2, "horizon": 1500, "preprocessor_pref": "deepmind", "env_config": {"run": "PPO", "flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.1,\n            \"eta3\": 0.1,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 7.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 0\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 700,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}"}, "clip_param": 0.3, "observation_filter": "MeanStdFilter", "env": "MultiWaveAttenuationMergePOEnvBufferedObs-v0density_[eta1, eta2, eta3]:[1.0, 0.1, 0.0]_t_min:7.0", "gamma": 0.99, "lr": 0.0005, "monitor": false, "output_compress_columns": ["obs", "new_obs"], "batch_mode": "truncate_episodes", "num_gpus": 0, "num_workers": 30, "output": null, "collect_metrics_timeout": 180, "num_sgd_iter": 10, "sample_batch_size": 750, "output_max_file_size": 67108864, "straggler_mitigation": false, "train_batch_size": 90000}, "num_metric_batches_dropped": 0, "hostname": "flow-main", "episodes_total": 5840, "episode_reward_min": 214.19358292615175, "time_total_s": 6614.476850271225, "policy_reward_mean": {}, "timesteps_this_iter": 130559, "custom_metrics": {"cost1_mean": 342.55061734037554, "system_level_velocity_mean": 12.204747670132974, "cost2_max": -64.92633863402054, "outflow_rate_max": 1158.5148894599063, "outflow_rate_mean": 994.9366949511626, "cost1_max": 423.3781443314434, "outflow_rate_min": 423.4979024233856, "system_level_velocity_max": 14.699914079388371, "system_level_velocity_min": 10.523086533208707, "cost2_min": -138.1090076430891, "cost1_min": 116.19658651198374, "cost2_mean": -117.16081087876292}, "episode_reward_max": 957.2755866628038}
{"node_ip": "10.138.0.2", "episode_reward_mean": 737.0824367940033, "time_this_iter_s": 69.58580613136292, "done": false, "episode_len_mean": 746.86, "timestamp": 1557394249, "training_iteration": 96, "experiment_id": "58dd2f5595014063b753971755894587", "time_since_restore": 6684.062656402588, "timesteps_total": 12723081, "pid": 25334, "episodes_this_iter": 62, "date": "2019-05-09_09-30-49", "info": {"sample_time_ms": 37851.219, "grad_time_ms": 31405.648, "num_steps_sampled": 12723081, "update_time_ms": 7.948, "default": {"vf_explained_var": 0.9416401982307434, "cur_kl_coeff": 0.5062499642372131, "vf_loss": 10.766429901123047, "policy_loss": -0.01745862327516079, "cur_lr": 0.0005000000237487257, "kl": 0.014172626659274101, "total_loss": 10.756145477294922, "entropy": 1.6067487001419067}, "load_time_ms": 51.096, "num_steps_trained": 12723081}, "timesteps_since_restore": 12723081, "iterations_since_restore": 96, "config": {"local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "compress_observations": false, "clip_rewards": null, "sample_async": false, "custom_resources_per_worker": {}, "use_gae": true, "vf_share_layers": false, "vf_loss_coeff": 1.0, "optimizer": {}, "simple_optimizer": false, "num_envs_per_worker": 1, "vf_clip_param": 1000000.0, "synchronize_filters": true, "num_cpus_per_worker": 1, "multiagent": {"policy_graphs": {}, "policies_to_train": null, "policy_mapping_fn": null}, "kl_target": 0.01, "clip_actions": false, "input": "sampler", "input_evaluation": null, "entropy_coeff": 0.0, "lr_schedule": null, "sgd_minibatch_size": 128, "callbacks": {"on_sample_end": null, "on_train_result": null, "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7f49896c5630>", "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7f49896c5588>", "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7f49896c5400>"}, "num_cpus_for_driver": 1, "log_level": "INFO", "tf_session_args": {"log_device_placement": false, "gpu_options": {"allow_growth": true}, "intra_op_parallelism_threads": 2, "inter_op_parallelism_threads": 2, "allow_soft_placement": true, "device_count": {"CPU": 1}}, "model": {"dim": 84, "free_log_std": false, "fcnet_hiddens": [128, 64, 32], "custom_model": null, "fcnet_activation": "tanh", "lstm_use_prev_action_reward": false, "grayscale": false, "channel_major": false, "squash_to_range": false, "framestack": true, "use_lstm": false, "conv_activation": "relu", "conv_filters": null, "custom_preprocessor": null, "lstm_cell_size": 256, "zero_mean": true, "custom_options": {}, "max_seq_len": 20}, "lambda": 0.97, "num_gpus_per_worker": 0, "kl_coeff": 0.2, "horizon": 1500, "preprocessor_pref": "deepmind", "env_config": {"run": "PPO", "flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.1,\n            \"eta3\": 0.1,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 7.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 0\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 700,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}"}, "clip_param": 0.3, "observation_filter": "MeanStdFilter", "env": "MultiWaveAttenuationMergePOEnvBufferedObs-v0density_[eta1, eta2, eta3]:[1.0, 0.1, 0.0]_t_min:7.0", "gamma": 0.99, "lr": 0.0005, "monitor": false, "output_compress_columns": ["obs", "new_obs"], "batch_mode": "truncate_episodes", "num_gpus": 0, "num_workers": 30, "output": null, "collect_metrics_timeout": 180, "num_sgd_iter": 10, "sample_batch_size": 750, "output_max_file_size": 67108864, "straggler_mitigation": false, "train_batch_size": 90000}, "num_metric_batches_dropped": 0, "hostname": "flow-main", "episodes_total": 5902, "episode_reward_min": 481.9423310003095, "time_total_s": 6684.062656402588, "policy_reward_mean": {}, "timesteps_this_iter": 130242, "custom_metrics": {"cost1_mean": 346.6212423178603, "system_level_velocity_mean": 12.166113608171093, "cost2_max": -94.7719920643626, "outflow_rate_max": 1138.587090653541, "outflow_rate_mean": 1004.7841062764413, "cost1_max": 398.12191419203384, "outflow_rate_min": 676.781146207878, "system_level_velocity_max": 14.296300471478586, "system_level_velocity_min": 9.74800052411755, "cost2_min": -146.34538660004205, "cost1_min": 225.3563087684841, "cost2_mean": -118.43188055658428}, "episode_reward_max": 857.2069272277039}
{"node_ip": "10.138.0.2", "episode_reward_mean": 746.4217467614847, "time_this_iter_s": 72.66990780830383, "done": false, "episode_len_mean": 750.27, "timestamp": 1557394322, "training_iteration": 97, "experiment_id": "58dd2f5595014063b753971755894587", "time_since_restore": 6756.732564210892, "timesteps_total": 12853139, "pid": 25334, "episodes_this_iter": 62, "date": "2019-05-09_09-32-02", "info": {"sample_time_ms": 38385.551, "grad_time_ms": 31210.025, "num_steps_sampled": 12853139, "update_time_ms": 8.155, "default": {"vf_explained_var": 0.9473527073860168, "cur_kl_coeff": 0.5062499642372131, "vf_loss": 9.645417213439941, "policy_loss": -0.018225548788905144, "cur_lr": 0.0005000000237487257, "kl": 0.014736611396074295, "total_loss": 9.634652137756348, "entropy": 1.6117591857910156}, "load_time_ms": 55.136, "num_steps_trained": 12853139}, "timesteps_since_restore": 12853139, "iterations_since_restore": 97, "config": {"local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "compress_observations": false, "clip_rewards": null, "sample_async": false, "custom_resources_per_worker": {}, "use_gae": true, "vf_share_layers": false, "vf_loss_coeff": 1.0, "optimizer": {}, "simple_optimizer": false, "num_envs_per_worker": 1, "vf_clip_param": 1000000.0, "synchronize_filters": true, "num_cpus_per_worker": 1, "multiagent": {"policy_graphs": {}, "policies_to_train": null, "policy_mapping_fn": null}, "kl_target": 0.01, "clip_actions": false, "input": "sampler", "input_evaluation": null, "entropy_coeff": 0.0, "lr_schedule": null, "sgd_minibatch_size": 128, "callbacks": {"on_sample_end": null, "on_train_result": null, "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7f49896c5cf8>", "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7f49896c5898>", "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7f49896c5c18>"}, "num_cpus_for_driver": 1, "log_level": "INFO", "tf_session_args": {"log_device_placement": false, "gpu_options": {"allow_growth": true}, "intra_op_parallelism_threads": 2, "inter_op_parallelism_threads": 2, "allow_soft_placement": true, "device_count": {"CPU": 1}}, "model": {"dim": 84, "free_log_std": false, "fcnet_hiddens": [128, 64, 32], "custom_model": null, "fcnet_activation": "tanh", "lstm_use_prev_action_reward": false, "grayscale": false, "channel_major": false, "squash_to_range": false, "framestack": true, "use_lstm": false, "conv_activation": "relu", "conv_filters": null, "custom_preprocessor": null, "lstm_cell_size": 256, "zero_mean": true, "custom_options": {}, "max_seq_len": 20}, "lambda": 0.97, "num_gpus_per_worker": 0, "kl_coeff": 0.2, "horizon": 1500, "preprocessor_pref": "deepmind", "env_config": {"run": "PPO", "flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.1,\n            \"eta3\": 0.1,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 7.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 0\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 700,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}"}, "clip_param": 0.3, "observation_filter": "MeanStdFilter", "env": "MultiWaveAttenuationMergePOEnvBufferedObs-v0density_[eta1, eta2, eta3]:[1.0, 0.1, 0.0]_t_min:7.0", "gamma": 0.99, "lr": 0.0005, "monitor": false, "output_compress_columns": ["obs", "new_obs"], "batch_mode": "truncate_episodes", "num_gpus": 0, "num_workers": 30, "output": null, "collect_metrics_timeout": 180, "num_sgd_iter": 10, "sample_batch_size": 750, "output_max_file_size": 67108864, "straggler_mitigation": false, "train_batch_size": 90000}, "num_metric_batches_dropped": 0, "hostname": "flow-main", "episodes_total": 5964, "episode_reward_min": 649.2937863866044, "time_total_s": 6756.732564210892, "policy_reward_mean": {}, "timesteps_this_iter": 130058, "custom_metrics": {"cost1_mean": 349.43335546597126, "system_level_velocity_mean": 12.197256719266298, "cost2_max": -93.20696143493537, "outflow_rate_max": 1160.9313771430338, "outflow_rate_mean": 1011.0464382782753, "cost1_max": 421.23888244783126, "outflow_rate_min": 821.7144096541358, "system_level_velocity_max": 14.576800515058123, "system_level_velocity_min": 9.74800052411755, "cost2_min": -148.80047695106714, "cost1_min": 280.4595591388114, "cost2_mean": -119.38659245726356}, "episode_reward_max": 966.8026927565579}
{"node_ip": "10.138.0.2", "episode_reward_mean": 738.3944278442635, "time_this_iter_s": 70.72006464004517, "done": false, "episode_len_mean": 739.98, "timestamp": 1557394392, "training_iteration": 98, "experiment_id": "58dd2f5595014063b753971755894587", "time_since_restore": 6827.452628850937, "timesteps_total": 12982765, "pid": 25334, "episodes_this_iter": 64, "date": "2019-05-09_09-33-12", "info": {"sample_time_ms": 38847.17, "grad_time_ms": 30801.298, "num_steps_sampled": 12982765, "update_time_ms": 8.198, "default": {"vf_explained_var": 0.9353004693984985, "cur_kl_coeff": 0.5062499642372131, "vf_loss": 11.719512939453125, "policy_loss": -0.0171394944190979, "cur_lr": 0.0005000000237487257, "kl": 0.015184109099209309, "total_loss": 11.710060119628906, "entropy": 1.6113319396972656}, "load_time_ms": 55.188, "num_steps_trained": 12982765}, "timesteps_since_restore": 12982765, "iterations_since_restore": 98, "config": {"local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "compress_observations": false, "clip_rewards": null, "sample_async": false, "custom_resources_per_worker": {}, "use_gae": true, "vf_share_layers": false, "vf_loss_coeff": 1.0, "optimizer": {}, "simple_optimizer": false, "num_envs_per_worker": 1, "vf_clip_param": 1000000.0, "synchronize_filters": true, "num_cpus_per_worker": 1, "multiagent": {"policy_graphs": {}, "policies_to_train": null, "policy_mapping_fn": null}, "kl_target": 0.01, "clip_actions": false, "input": "sampler", "input_evaluation": null, "entropy_coeff": 0.0, "lr_schedule": null, "sgd_minibatch_size": 128, "callbacks": {"on_sample_end": null, "on_train_result": null, "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7f49896ca198>", "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7f498a922940>", "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7f498a9224a8>"}, "num_cpus_for_driver": 1, "log_level": "INFO", "tf_session_args": {"log_device_placement": false, "gpu_options": {"allow_growth": true}, "intra_op_parallelism_threads": 2, "inter_op_parallelism_threads": 2, "allow_soft_placement": true, "device_count": {"CPU": 1}}, "model": {"dim": 84, "free_log_std": false, "fcnet_hiddens": [128, 64, 32], "custom_model": null, "fcnet_activation": "tanh", "lstm_use_prev_action_reward": false, "grayscale": false, "channel_major": false, "squash_to_range": false, "framestack": true, "use_lstm": false, "conv_activation": "relu", "conv_filters": null, "custom_preprocessor": null, "lstm_cell_size": 256, "zero_mean": true, "custom_options": {}, "max_seq_len": 20}, "lambda": 0.97, "num_gpus_per_worker": 0, "kl_coeff": 0.2, "horizon": 1500, "preprocessor_pref": "deepmind", "env_config": {"run": "PPO", "flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.1,\n            \"eta3\": 0.1,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 7.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 0\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 700,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}"}, "clip_param": 0.3, "observation_filter": "MeanStdFilter", "env": "MultiWaveAttenuationMergePOEnvBufferedObs-v0density_[eta1, eta2, eta3]:[1.0, 0.1, 0.0]_t_min:7.0", "gamma": 0.99, "lr": 0.0005, "monitor": false, "output_compress_columns": ["obs", "new_obs"], "batch_mode": "truncate_episodes", "num_gpus": 0, "num_workers": 30, "output": null, "collect_metrics_timeout": 180, "num_sgd_iter": 10, "sample_batch_size": 750, "output_max_file_size": 67108864, "straggler_mitigation": false, "train_batch_size": 90000}, "num_metric_batches_dropped": 0, "hostname": "flow-main", "episodes_total": 6028, "episode_reward_min": 214.13748202521882, "time_total_s": 6827.452628850937, "policy_reward_mean": {}, "timesteps_this_iter": 129626, "custom_metrics": {"cost1_mean": 343.3587549856389, "system_level_velocity_mean": 12.175951366345943, "cost2_max": -64.83131935833384, "outflow_rate_max": 1164.3507984667956, "outflow_rate_mean": 998.1830559045728, "cost1_max": 421.25174853566205, "outflow_rate_min": 429.5448373839704, "system_level_velocity_max": 14.589208286277199, "system_level_velocity_min": 9.294079673945332, "cost2_min": -145.63259143285046, "cost1_min": 116.26463747393115, "cost2_mean": -117.64886086105115}, "episode_reward_max": 966.8026927565579}
{"node_ip": "10.138.0.2", "episode_reward_mean": 744.7302250448832, "time_this_iter_s": 72.65717816352844, "done": false, "episode_len_mean": 750.31, "timestamp": 1557394465, "training_iteration": 99, "experiment_id": "58dd2f5595014063b753971755894587", "time_since_restore": 6900.109807014465, "timesteps_total": 13113976, "pid": 25334, "episodes_this_iter": 62, "date": "2019-05-09_09-34-25", "info": {"sample_time_ms": 39271.363, "grad_time_ms": 30680.95, "num_steps_sampled": 13113976, "update_time_ms": 8.523, "default": {"vf_explained_var": 0.947451651096344, "cur_kl_coeff": 0.5062500238418579, "vf_loss": 9.720017433166504, "policy_loss": -0.018415192142128944, "cur_lr": 0.0005000000237487257, "kl": 0.014702266082167625, "total_loss": 9.70904541015625, "entropy": 1.6277976036071777}, "load_time_ms": 54.749, "num_steps_trained": 13113976}, "timesteps_since_restore": 13113976, "iterations_since_restore": 99, "config": {"local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "compress_observations": false, "clip_rewards": null, "sample_async": false, "custom_resources_per_worker": {}, "use_gae": true, "vf_share_layers": false, "vf_loss_coeff": 1.0, "optimizer": {}, "simple_optimizer": false, "num_envs_per_worker": 1, "vf_clip_param": 1000000.0, "synchronize_filters": true, "num_cpus_per_worker": 1, "multiagent": {"policy_graphs": {}, "policies_to_train": null, "policy_mapping_fn": null}, "kl_target": 0.01, "clip_actions": false, "input": "sampler", "input_evaluation": null, "entropy_coeff": 0.0, "lr_schedule": null, "sgd_minibatch_size": 128, "callbacks": {"on_sample_end": null, "on_train_result": null, "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7f49896a72b0>", "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7f49896a7470>", "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7f49896a7e10>"}, "num_cpus_for_driver": 1, "log_level": "INFO", "tf_session_args": {"log_device_placement": false, "gpu_options": {"allow_growth": true}, "intra_op_parallelism_threads": 2, "inter_op_parallelism_threads": 2, "allow_soft_placement": true, "device_count": {"CPU": 1}}, "model": {"dim": 84, "free_log_std": false, "fcnet_hiddens": [128, 64, 32], "custom_model": null, "fcnet_activation": "tanh", "lstm_use_prev_action_reward": false, "grayscale": false, "channel_major": false, "squash_to_range": false, "framestack": true, "use_lstm": false, "conv_activation": "relu", "conv_filters": null, "custom_preprocessor": null, "lstm_cell_size": 256, "zero_mean": true, "custom_options": {}, "max_seq_len": 20}, "lambda": 0.97, "num_gpus_per_worker": 0, "kl_coeff": 0.2, "horizon": 1500, "preprocessor_pref": "deepmind", "env_config": {"run": "PPO", "flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.1,\n            \"eta3\": 0.1,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 7.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 0\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 700,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}"}, "clip_param": 0.3, "observation_filter": "MeanStdFilter", "env": "MultiWaveAttenuationMergePOEnvBufferedObs-v0density_[eta1, eta2, eta3]:[1.0, 0.1, 0.0]_t_min:7.0", "gamma": 0.99, "lr": 0.0005, "monitor": false, "output_compress_columns": ["obs", "new_obs"], "batch_mode": "truncate_episodes", "num_gpus": 0, "num_workers": 30, "output": null, "collect_metrics_timeout": 180, "num_sgd_iter": 10, "sample_batch_size": 750, "output_max_file_size": 67108864, "straggler_mitigation": false, "train_batch_size": 90000}, "num_metric_batches_dropped": 0, "hostname": "flow-main", "episodes_total": 6090, "episode_reward_min": 637.310529574922, "time_total_s": 6900.109807014465, "policy_reward_mean": {}, "timesteps_this_iter": 131211, "custom_metrics": {"cost1_mean": 347.8543362915885, "system_level_velocity_mean": 12.138628393316308, "cost2_max": -104.47406722148256, "outflow_rate_max": 1168.9681905052382, "outflow_rate_mean": 1008.8019868815651, "cost1_max": 423.9606361107242, "outflow_rate_min": 804.2792125770496, "system_level_velocity_max": 14.699460925804372, "system_level_velocity_min": 9.294079673945332, "cost2_min": -144.1842442010389, "cost1_min": 266.7526574856203, "cost2_mean": -119.94818438999937}, "episode_reward_max": 956.8597535482494}
{"node_ip": "10.138.0.2", "episode_reward_mean": 748.7849628696017, "time_this_iter_s": 71.5969512462616, "done": false, "episode_len_mean": 751.0, "timestamp": 1557394537, "training_iteration": 100, "experiment_id": "58dd2f5595014063b753971755894587", "time_since_restore": 6971.706758260727, "timesteps_total": 13244818, "pid": 25334, "episodes_this_iter": 62, "date": "2019-05-09_09-35-37", "info": {"sample_time_ms": 39683.999, "grad_time_ms": 30470.346, "num_steps_sampled": 13244818, "update_time_ms": 8.479, "default": {"vf_explained_var": 0.9483435750007629, "cur_kl_coeff": 0.5062499642372131, "vf_loss": 9.58798599243164, "policy_loss": -0.017750823870301247, "cur_lr": 0.0005000000237487257, "kl": 0.014537460170686245, "total_loss": 9.577594757080078, "entropy": 1.6235014200210571}, "load_time_ms": 55.022, "num_steps_trained": 13244818}, "timesteps_since_restore": 13244818, "iterations_since_restore": 100, "config": {"local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "compress_observations": false, "clip_rewards": null, "sample_async": false, "custom_resources_per_worker": {}, "use_gae": true, "vf_share_layers": false, "vf_loss_coeff": 1.0, "optimizer": {}, "simple_optimizer": false, "num_envs_per_worker": 1, "vf_clip_param": 1000000.0, "synchronize_filters": true, "num_cpus_per_worker": 1, "multiagent": {"policy_graphs": {}, "policies_to_train": null, "policy_mapping_fn": null}, "kl_target": 0.01, "clip_actions": false, "input": "sampler", "input_evaluation": null, "entropy_coeff": 0.0, "lr_schedule": null, "sgd_minibatch_size": 128, "callbacks": {"on_sample_end": null, "on_train_result": null, "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7f49896bbeb8>", "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7f49896bb710>", "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7f49896bb7b8>"}, "num_cpus_for_driver": 1, "log_level": "INFO", "tf_session_args": {"log_device_placement": false, "gpu_options": {"allow_growth": true}, "intra_op_parallelism_threads": 2, "inter_op_parallelism_threads": 2, "allow_soft_placement": true, "device_count": {"CPU": 1}}, "model": {"dim": 84, "free_log_std": false, "fcnet_hiddens": [128, 64, 32], "custom_model": null, "fcnet_activation": "tanh", "lstm_use_prev_action_reward": false, "grayscale": false, "channel_major": false, "squash_to_range": false, "framestack": true, "use_lstm": false, "conv_activation": "relu", "conv_filters": null, "custom_preprocessor": null, "lstm_cell_size": 256, "zero_mean": true, "custom_options": {}, "max_seq_len": 20}, "lambda": 0.97, "num_gpus_per_worker": 0, "kl_coeff": 0.2, "horizon": 1500, "preprocessor_pref": "deepmind", "env_config": {"run": "PPO", "flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.1,\n            \"eta3\": 0.1,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 7.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 0\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 700,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}"}, "clip_param": 0.3, "observation_filter": "MeanStdFilter", "env": "MultiWaveAttenuationMergePOEnvBufferedObs-v0density_[eta1, eta2, eta3]:[1.0, 0.1, 0.0]_t_min:7.0", "gamma": 0.99, "lr": 0.0005, "monitor": false, "output_compress_columns": ["obs", "new_obs"], "batch_mode": "truncate_episodes", "num_gpus": 0, "num_workers": 30, "output": null, "collect_metrics_timeout": 180, "num_sgd_iter": 10, "sample_batch_size": 750, "output_max_file_size": 67108864, "straggler_mitigation": false, "train_batch_size": 90000}, "num_metric_batches_dropped": 0, "hostname": "flow-main", "episodes_total": 6152, "episode_reward_min": 668.8794018147757, "time_total_s": 6971.706758260727, "policy_reward_mean": {}, "timesteps_this_iter": 130842, "custom_metrics": {"cost1_mean": 352.52241397181854, "system_level_velocity_mean": 12.292942268253148, "cost2_max": -105.86964537757694, "outflow_rate_max": 1168.9681905052382, "outflow_rate_mean": 1017.6336264712945, "cost1_max": 423.9606361107242, "outflow_rate_min": 827.9909646449678, "system_level_velocity_max": 14.699460925804372, "system_level_velocity_min": 9.765586234000297, "cost2_min": -144.1842442010389, "cost1_min": 276.90420147237995, "cost2_mean": -122.08002076594616}, "episode_reward_max": 954.228285375715}
{"node_ip": "10.138.0.2", "episode_reward_mean": 736.7437957206529, "time_this_iter_s": 73.55139446258545, "done": false, "episode_len_mean": 741.34, "timestamp": 1557394610, "training_iteration": 101, "experiment_id": "58dd2f5595014063b753971755894587", "time_since_restore": 7045.258152723312, "timesteps_total": 13376519, "pid": 25334, "episodes_this_iter": 63, "date": "2019-05-09_09-36-50", "info": {"sample_time_ms": 40094.643, "grad_time_ms": 30565.257, "num_steps_sampled": 13376519, "update_time_ms": 8.547, "default": {"vf_explained_var": 0.9474321007728577, "cur_kl_coeff": 0.5062499046325684, "vf_loss": 9.653755187988281, "policy_loss": -0.017459167167544365, "cur_lr": 0.0005000000237487257, "kl": 0.014386839233338833, "total_loss": 9.643579483032227, "entropy": 1.6411787271499634}, "load_time_ms": 54.033, "num_steps_trained": 13376519}, "timesteps_since_restore": 13376519, "iterations_since_restore": 101, "config": {"local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "compress_observations": false, "clip_rewards": null, "sample_async": false, "custom_resources_per_worker": {}, "use_gae": true, "vf_share_layers": false, "vf_loss_coeff": 1.0, "optimizer": {}, "simple_optimizer": false, "num_envs_per_worker": 1, "vf_clip_param": 1000000.0, "synchronize_filters": true, "num_cpus_per_worker": 1, "multiagent": {"policy_graphs": {}, "policies_to_train": null, "policy_mapping_fn": null}, "kl_target": 0.01, "clip_actions": false, "input": "sampler", "input_evaluation": null, "entropy_coeff": 0.0, "lr_schedule": null, "sgd_minibatch_size": 128, "callbacks": {"on_sample_end": null, "on_train_result": null, "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7f49896ca208>", "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7f49896ca1d0>", "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7f49896ca278>"}, "num_cpus_for_driver": 1, "log_level": "INFO", "tf_session_args": {"log_device_placement": false, "gpu_options": {"allow_growth": true}, "intra_op_parallelism_threads": 2, "inter_op_parallelism_threads": 2, "allow_soft_placement": true, "device_count": {"CPU": 1}}, "model": {"dim": 84, "free_log_std": false, "fcnet_hiddens": [128, 64, 32], "custom_model": null, "fcnet_activation": "tanh", "lstm_use_prev_action_reward": false, "grayscale": false, "channel_major": false, "squash_to_range": false, "framestack": true, "use_lstm": false, "conv_activation": "relu", "conv_filters": null, "custom_preprocessor": null, "lstm_cell_size": 256, "zero_mean": true, "custom_options": {}, "max_seq_len": 20}, "lambda": 0.97, "num_gpus_per_worker": 0, "kl_coeff": 0.2, "horizon": 1500, "preprocessor_pref": "deepmind", "env_config": {"run": "PPO", "flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.1,\n            \"eta3\": 0.1,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 7.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 0\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 700,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}"}, "clip_param": 0.3, "observation_filter": "MeanStdFilter", "env": "MultiWaveAttenuationMergePOEnvBufferedObs-v0density_[eta1, eta2, eta3]:[1.0, 0.1, 0.0]_t_min:7.0", "gamma": 0.99, "lr": 0.0005, "monitor": false, "output_compress_columns": ["obs", "new_obs"], "batch_mode": "truncate_episodes", "num_gpus": 0, "num_workers": 30, "output": null, "collect_metrics_timeout": 180, "num_sgd_iter": 10, "sample_batch_size": 750, "output_max_file_size": 67108864, "straggler_mitigation": false, "train_batch_size": 90000}, "num_metric_batches_dropped": 0, "hostname": "flow-main", "episodes_total": 6215, "episode_reward_min": 208.4463699428476, "time_total_s": 7045.258152723312, "policy_reward_mean": {}, "timesteps_this_iter": 131701, "custom_metrics": {"cost1_mean": 347.7048060018834, "system_level_velocity_mean": 12.312591321793217, "cost2_max": -63.94272034069353, "outflow_rate_max": 1153.281760949971, "outflow_rate_mean": 1006.1631160609927, "cost1_max": 419.0185445913618, "outflow_rate_min": 424.8448370165377, "system_level_velocity_max": 14.566685604104512, "system_level_velocity_min": 11.28011918541593, "cost2_min": -141.78840393230882, "cost1_min": 115.12205704867345, "cost2_mean": -121.50674047862336}, "episode_reward_max": 930.1290836682782}
{"node_ip": "10.138.0.2", "episode_reward_mean": 739.3411468622371, "time_this_iter_s": 73.5894877910614, "done": false, "episode_len_mean": 742.46, "timestamp": 1557394684, "training_iteration": 102, "experiment_id": "58dd2f5595014063b753971755894587", "time_since_restore": 7118.847640514374, "timesteps_total": 13506695, "pid": 25334, "episodes_this_iter": 63, "date": "2019-05-09_09-38-04", "info": {"sample_time_ms": 40470.553, "grad_time_ms": 30622.967, "num_steps_sampled": 13506695, "update_time_ms": 8.688, "default": {"vf_explained_var": 0.9472401142120361, "cur_kl_coeff": 0.5062499642372131, "vf_loss": 9.924309730529785, "policy_loss": -0.017862576991319656, "cur_lr": 0.0005000000237487257, "kl": 0.015077448450028896, "total_loss": 9.914079666137695, "entropy": 1.627049207687378}, "load_time_ms": 52.716, "num_steps_trained": 13506695}, "timesteps_since_restore": 13506695, "iterations_since_restore": 102, "config": {"local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "compress_observations": false, "clip_rewards": null, "sample_async": false, "custom_resources_per_worker": {}, "use_gae": true, "vf_share_layers": false, "vf_loss_coeff": 1.0, "optimizer": {}, "simple_optimizer": false, "num_envs_per_worker": 1, "vf_clip_param": 1000000.0, "synchronize_filters": true, "num_cpus_per_worker": 1, "multiagent": {"policy_graphs": {}, "policies_to_train": null, "policy_mapping_fn": null}, "kl_target": 0.01, "clip_actions": false, "input": "sampler", "input_evaluation": null, "entropy_coeff": 0.0, "lr_schedule": null, "sgd_minibatch_size": 128, "callbacks": {"on_sample_end": null, "on_train_result": null, "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7f49896c5b38>", "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7f49896c5f60>", "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7f49896c52b0>"}, "num_cpus_for_driver": 1, "log_level": "INFO", "tf_session_args": {"log_device_placement": false, "gpu_options": {"allow_growth": true}, "intra_op_parallelism_threads": 2, "inter_op_parallelism_threads": 2, "allow_soft_placement": true, "device_count": {"CPU": 1}}, "model": {"dim": 84, "free_log_std": false, "fcnet_hiddens": [128, 64, 32], "custom_model": null, "fcnet_activation": "tanh", "lstm_use_prev_action_reward": false, "grayscale": false, "channel_major": false, "squash_to_range": false, "framestack": true, "use_lstm": false, "conv_activation": "relu", "conv_filters": null, "custom_preprocessor": null, "lstm_cell_size": 256, "zero_mean": true, "custom_options": {}, "max_seq_len": 20}, "lambda": 0.97, "num_gpus_per_worker": 0, "kl_coeff": 0.2, "horizon": 1500, "preprocessor_pref": "deepmind", "env_config": {"run": "PPO", "flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.1,\n            \"eta3\": 0.1,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 7.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 0\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 700,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}"}, "clip_param": 0.3, "observation_filter": "MeanStdFilter", "env": "MultiWaveAttenuationMergePOEnvBufferedObs-v0density_[eta1, eta2, eta3]:[1.0, 0.1, 0.0]_t_min:7.0", "gamma": 0.99, "lr": 0.0005, "monitor": false, "output_compress_columns": ["obs", "new_obs"], "batch_mode": "truncate_episodes", "num_gpus": 0, "num_workers": 30, "output": null, "collect_metrics_timeout": 180, "num_sgd_iter": 10, "sample_batch_size": 750, "output_max_file_size": 67108864, "straggler_mitigation": false, "train_batch_size": 90000}, "num_metric_batches_dropped": 0, "hostname": "flow-main", "episodes_total": 6278, "episode_reward_min": 216.94897648226691, "time_total_s": 7118.847640514374, "policy_reward_mean": {}, "timesteps_this_iter": 130176, "custom_metrics": {"cost1_mean": 348.86762569086676, "system_level_velocity_mean": 12.340562244407357, "cost2_max": -69.06523233951762, "outflow_rate_max": 1172.12086500164, "outflow_rate_mean": 1009.4571746465667, "cost1_max": 419.8889786938786, "outflow_rate_min": 417.810748735755, "system_level_velocity_max": 14.968518395430095, "system_level_velocity_min": 11.293008806520472, "cost2_min": -150.70418757714233, "cost1_min": 115.83253684606723, "cost2_mean": -120.94972496704335}, "episode_reward_max": 930.4901168534468}
{"node_ip": "10.138.0.2", "episode_reward_mean": 741.2476934963383, "time_this_iter_s": 73.25541043281555, "done": false, "episode_len_mean": 742.46, "timestamp": 1557394757, "training_iteration": 103, "experiment_id": "58dd2f5595014063b753971755894587", "time_since_restore": 7192.103050947189, "timesteps_total": 13637855, "pid": 25334, "episodes_this_iter": 62, "date": "2019-05-09_09-39-17", "info": {"sample_time_ms": 40533.51, "grad_time_ms": 30774.418, "num_steps_sampled": 13637855, "update_time_ms": 8.812, "default": {"vf_explained_var": 0.9437166452407837, "cur_kl_coeff": 0.5062499642372131, "vf_loss": 10.478848457336426, "policy_loss": -0.017606694251298904, "cur_lr": 0.0005000000237487257, "kl": 0.014632855542004108, "total_loss": 10.468649864196777, "entropy": 1.641958475112915}, "load_time_ms": 49.961, "num_steps_trained": 13637855}, "timesteps_since_restore": 13637855, "iterations_since_restore": 103, "config": {"local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "compress_observations": false, "clip_rewards": null, "sample_async": false, "custom_resources_per_worker": {}, "use_gae": true, "vf_share_layers": false, "vf_loss_coeff": 1.0, "optimizer": {}, "simple_optimizer": false, "num_envs_per_worker": 1, "vf_clip_param": 1000000.0, "synchronize_filters": true, "num_cpus_per_worker": 1, "multiagent": {"policy_graphs": {}, "policies_to_train": null, "policy_mapping_fn": null}, "kl_target": 0.01, "clip_actions": false, "input": "sampler", "input_evaluation": null, "entropy_coeff": 0.0, "lr_schedule": null, "sgd_minibatch_size": 128, "callbacks": {"on_sample_end": null, "on_train_result": null, "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7f49896c5cf8>", "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7f49896c5c18>", "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7f49896c5d30>"}, "num_cpus_for_driver": 1, "log_level": "INFO", "tf_session_args": {"log_device_placement": false, "gpu_options": {"allow_growth": true}, "intra_op_parallelism_threads": 2, "inter_op_parallelism_threads": 2, "allow_soft_placement": true, "device_count": {"CPU": 1}}, "model": {"dim": 84, "free_log_std": false, "fcnet_hiddens": [128, 64, 32], "custom_model": null, "fcnet_activation": "tanh", "lstm_use_prev_action_reward": false, "grayscale": false, "channel_major": false, "squash_to_range": false, "framestack": true, "use_lstm": false, "conv_activation": "relu", "conv_filters": null, "custom_preprocessor": null, "lstm_cell_size": 256, "zero_mean": true, "custom_options": {}, "max_seq_len": 20}, "lambda": 0.97, "num_gpus_per_worker": 0, "kl_coeff": 0.2, "horizon": 1500, "preprocessor_pref": "deepmind", "env_config": {"run": "PPO", "flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.1,\n            \"eta3\": 0.1,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 7.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 0\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 700,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}"}, "clip_param": 0.3, "observation_filter": "MeanStdFilter", "env": "MultiWaveAttenuationMergePOEnvBufferedObs-v0density_[eta1, eta2, eta3]:[1.0, 0.1, 0.0]_t_min:7.0", "gamma": 0.99, "lr": 0.0005, "monitor": false, "output_compress_columns": ["obs", "new_obs"], "batch_mode": "truncate_episodes", "num_gpus": 0, "num_workers": 30, "output": null, "collect_metrics_timeout": 180, "num_sgd_iter": 10, "sample_batch_size": 750, "output_max_file_size": 67108864, "straggler_mitigation": false, "train_batch_size": 90000}, "num_metric_batches_dropped": 0, "hostname": "flow-main", "episodes_total": 6340, "episode_reward_min": 216.94897648226691, "time_total_s": 7192.103050947189, "policy_reward_mean": {}, "timesteps_this_iter": 131160, "custom_metrics": {"cost1_mean": 348.56535392906136, "system_level_velocity_mean": 12.318289262501983, "cost2_max": -69.06523233951762, "outflow_rate_max": 1152.189250072918, "outflow_rate_mean": 1009.488999247827, "cost1_max": 414.44377771964423, "outflow_rate_min": 417.810748735755, "system_level_velocity_max": 14.968518395430095, "system_level_velocity_min": 10.165945403401999, "cost2_min": -145.97269809997098, "cost1_min": 115.83253684606723, "cost2_mean": -119.7287894670739}, "episode_reward_max": 930.4901168534468}
{"node_ip": "10.138.0.2", "episode_reward_mean": 734.5938412276726, "time_this_iter_s": 71.72673845291138, "done": false, "episode_len_mean": 740.54, "timestamp": 1557394829, "training_iteration": 104, "experiment_id": "58dd2f5595014063b753971755894587", "time_since_restore": 7263.829789400101, "timesteps_total": 13768181, "pid": 25334, "episodes_this_iter": 63, "date": "2019-05-09_09-40-29", "info": {"sample_time_ms": 40479.653, "grad_time_ms": 30986.479, "num_steps_sampled": 13768181, "update_time_ms": 8.945, "default": {"vf_explained_var": 0.9413837194442749, "cur_kl_coeff": 0.5062499046325684, "vf_loss": 10.943169593811035, "policy_loss": -0.01685490645468235, "cur_lr": 0.0005000000237487257, "kl": 0.014934771694242954, "total_loss": 10.933876037597656, "entropy": 1.6375365257263184}, "load_time_ms": 49.028, "num_steps_trained": 13768181}, "timesteps_since_restore": 13768181, "iterations_since_restore": 104, "config": {"local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "compress_observations": false, "clip_rewards": null, "sample_async": false, "custom_resources_per_worker": {}, "use_gae": true, "vf_share_layers": false, "vf_loss_coeff": 1.0, "optimizer": {}, "simple_optimizer": false, "num_envs_per_worker": 1, "vf_clip_param": 1000000.0, "synchronize_filters": true, "num_cpus_per_worker": 1, "multiagent": {"policy_graphs": {}, "policies_to_train": null, "policy_mapping_fn": null}, "kl_target": 0.01, "clip_actions": false, "input": "sampler", "input_evaluation": null, "entropy_coeff": 0.0, "lr_schedule": null, "sgd_minibatch_size": 128, "callbacks": {"on_sample_end": null, "on_train_result": null, "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7f49896c5898>", "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7f49896c55c0>", "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7f49896c5320>"}, "num_cpus_for_driver": 1, "log_level": "INFO", "tf_session_args": {"log_device_placement": false, "gpu_options": {"allow_growth": true}, "intra_op_parallelism_threads": 2, "inter_op_parallelism_threads": 2, "allow_soft_placement": true, "device_count": {"CPU": 1}}, "model": {"dim": 84, "free_log_std": false, "fcnet_hiddens": [128, 64, 32], "custom_model": null, "fcnet_activation": "tanh", "lstm_use_prev_action_reward": false, "grayscale": false, "channel_major": false, "squash_to_range": false, "framestack": true, "use_lstm": false, "conv_activation": "relu", "conv_filters": null, "custom_preprocessor": null, "lstm_cell_size": 256, "zero_mean": true, "custom_options": {}, "max_seq_len": 20}, "lambda": 0.97, "num_gpus_per_worker": 0, "kl_coeff": 0.2, "horizon": 1500, "preprocessor_pref": "deepmind", "env_config": {"run": "PPO", "flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.1,\n            \"eta3\": 0.1,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 7.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 0\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 700,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}"}, "clip_param": 0.3, "observation_filter": "MeanStdFilter", "env": "MultiWaveAttenuationMergePOEnvBufferedObs-v0density_[eta1, eta2, eta3]:[1.0, 0.1, 0.0]_t_min:7.0", "gamma": 0.99, "lr": 0.0005, "monitor": false, "output_compress_columns": ["obs", "new_obs"], "batch_mode": "truncate_episodes", "num_gpus": 0, "num_workers": 30, "output": null, "collect_metrics_timeout": 180, "num_sgd_iter": 10, "sample_batch_size": 750, "output_max_file_size": 67108864, "straggler_mitigation": false, "train_batch_size": 90000}, "num_metric_batches_dropped": 0, "hostname": "flow-main", "episodes_total": 6403, "episode_reward_min": 208.8185586617535, "time_total_s": 7263.829789400101, "policy_reward_mean": {}, "timesteps_this_iter": 130326, "custom_metrics": {"cost1_mean": 345.24741776236726, "system_level_velocity_mean": 12.244265511667571, "cost2_max": -64.92157194884416, "outflow_rate_max": 1111.8060980893324, "outflow_rate_mean": 1001.5884971944653, "cost1_max": 388.877919396075, "outflow_rate_min": 426.924577984433, "system_level_velocity_max": 13.7396232566829, "system_level_velocity_min": 9.74738930758067, "cost2_min": -139.435551708376, "cost1_min": 116.01335400521106, "cost2_mean": -118.06977570706847}, "episode_reward_max": 878.0038625599328}
{"node_ip": "10.138.0.2", "episode_reward_mean": 740.4752913224476, "time_this_iter_s": 72.78244400024414, "done": false, "episode_len_mean": 745.79, "timestamp": 1557394902, "training_iteration": 105, "experiment_id": "58dd2f5595014063b753971755894587", "time_since_restore": 7336.612233400345, "timesteps_total": 13899139, "pid": 25334, "episodes_this_iter": 62, "date": "2019-05-09_09-41-42", "info": {"sample_time_ms": 40452.192, "grad_time_ms": 31452.93, "num_steps_sampled": 13899139, "update_time_ms": 9.165, "default": {"vf_explained_var": 0.9413601160049438, "cur_kl_coeff": 0.5062499046325684, "vf_loss": 10.661954879760742, "policy_loss": -0.017763936892151833, "cur_lr": 0.0005000000237487257, "kl": 0.014235683716833591, "total_loss": 10.651397705078125, "entropy": 1.6519440412521362}, "load_time_ms": 53.048, "num_steps_trained": 13899139}, "timesteps_since_restore": 13899139, "iterations_since_restore": 105, "config": {"local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "compress_observations": false, "clip_rewards": null, "sample_async": false, "custom_resources_per_worker": {}, "use_gae": true, "vf_share_layers": false, "vf_loss_coeff": 1.0, "optimizer": {}, "simple_optimizer": false, "num_envs_per_worker": 1, "vf_clip_param": 1000000.0, "synchronize_filters": true, "num_cpus_per_worker": 1, "multiagent": {"policy_graphs": {}, "policies_to_train": null, "policy_mapping_fn": null}, "kl_target": 0.01, "clip_actions": false, "input": "sampler", "input_evaluation": null, "entropy_coeff": 0.0, "lr_schedule": null, "sgd_minibatch_size": 128, "callbacks": {"on_sample_end": null, "on_train_result": null, "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7f49896c5d68>", "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7f49896c5c88>", "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7f49896c5f28>"}, "num_cpus_for_driver": 1, "log_level": "INFO", "tf_session_args": {"log_device_placement": false, "gpu_options": {"allow_growth": true}, "intra_op_parallelism_threads": 2, "inter_op_parallelism_threads": 2, "allow_soft_placement": true, "device_count": {"CPU": 1}}, "model": {"dim": 84, "free_log_std": false, "fcnet_hiddens": [128, 64, 32], "custom_model": null, "fcnet_activation": "tanh", "lstm_use_prev_action_reward": false, "grayscale": false, "channel_major": false, "squash_to_range": false, "framestack": true, "use_lstm": false, "conv_activation": "relu", "conv_filters": null, "custom_preprocessor": null, "lstm_cell_size": 256, "zero_mean": true, "custom_options": {}, "max_seq_len": 20}, "lambda": 0.97, "num_gpus_per_worker": 0, "kl_coeff": 0.2, "horizon": 1500, "preprocessor_pref": "deepmind", "env_config": {"run": "PPO", "flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.1,\n            \"eta3\": 0.1,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 7.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 0\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 700,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}"}, "clip_param": 0.3, "observation_filter": "MeanStdFilter", "env": "MultiWaveAttenuationMergePOEnvBufferedObs-v0density_[eta1, eta2, eta3]:[1.0, 0.1, 0.0]_t_min:7.0", "gamma": 0.99, "lr": 0.0005, "monitor": false, "output_compress_columns": ["obs", "new_obs"], "batch_mode": "truncate_episodes", "num_gpus": 0, "num_workers": 30, "output": null, "collect_metrics_timeout": 180, "num_sgd_iter": 10, "sample_batch_size": 750, "output_max_file_size": 67108864, "straggler_mitigation": false, "train_batch_size": 90000}, "num_metric_batches_dropped": 0, "hostname": "flow-main", "episodes_total": 6465, "episode_reward_min": 216.21151648049147, "time_total_s": 7336.612233400345, "policy_reward_mean": {}, "timesteps_this_iter": 130958, "custom_metrics": {"cost1_mean": 347.80608186818097, "system_level_velocity_mean": 12.220242071507926, "cost2_max": -72.12533446862949, "outflow_rate_max": 1114.8471167456669, "outflow_rate_mean": 1008.3412911277258, "cost1_max": 388.877919396075, "outflow_rate_min": 426.924577984433, "system_level_velocity_max": 13.618583927655848, "system_level_velocity_min": 9.434030485231924, "cost2_min": -139.35846825365488, "cost1_min": 118.26210397205134, "cost2_mean": -119.0849152857002}, "episode_reward_max": 862.4576297469953}
{"node_ip": "10.138.0.2", "episode_reward_mean": 747.0187521650702, "time_this_iter_s": 71.03083324432373, "done": false, "episode_len_mean": 745.75, "timestamp": 1557394973, "training_iteration": 106, "experiment_id": "58dd2f5595014063b753971755894587", "time_since_restore": 7407.643066644669, "timesteps_total": 14029189, "pid": 25334, "episodes_this_iter": 63, "date": "2019-05-09_09-42-53", "info": {"sample_time_ms": 40190.093, "grad_time_ms": 31859.631, "num_steps_sampled": 14029189, "update_time_ms": 9.554, "default": {"vf_explained_var": 0.9447325468063354, "cur_kl_coeff": 0.5062499642372131, "vf_loss": 10.38270092010498, "policy_loss": -0.01698869839310646, "cur_lr": 0.0005000000237487257, "kl": 0.014236089773476124, "total_loss": 10.372919082641602, "entropy": 1.6452420949935913}, "load_time_ms": 52.876, "num_steps_trained": 14029189}, "timesteps_since_restore": 14029189, "iterations_since_restore": 106, "config": {"local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "compress_observations": false, "clip_rewards": null, "sample_async": false, "custom_resources_per_worker": {}, "use_gae": true, "vf_share_layers": false, "vf_loss_coeff": 1.0, "optimizer": {}, "simple_optimizer": false, "num_envs_per_worker": 1, "vf_clip_param": 1000000.0, "synchronize_filters": true, "num_cpus_per_worker": 1, "multiagent": {"policy_graphs": {}, "policies_to_train": null, "policy_mapping_fn": null}, "kl_target": 0.01, "clip_actions": false, "input": "sampler", "input_evaluation": null, "entropy_coeff": 0.0, "lr_schedule": null, "sgd_minibatch_size": 128, "callbacks": {"on_sample_end": null, "on_train_result": null, "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7f49896c5d30>", "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7f49896c56a0>", "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7f49896c5c18>"}, "num_cpus_for_driver": 1, "log_level": "INFO", "tf_session_args": {"log_device_placement": false, "gpu_options": {"allow_growth": true}, "intra_op_parallelism_threads": 2, "inter_op_parallelism_threads": 2, "allow_soft_placement": true, "device_count": {"CPU": 1}}, "model": {"dim": 84, "free_log_std": false, "fcnet_hiddens": [128, 64, 32], "custom_model": null, "fcnet_activation": "tanh", "lstm_use_prev_action_reward": false, "grayscale": false, "channel_major": false, "squash_to_range": false, "framestack": true, "use_lstm": false, "conv_activation": "relu", "conv_filters": null, "custom_preprocessor": null, "lstm_cell_size": 256, "zero_mean": true, "custom_options": {}, "max_seq_len": 20}, "lambda": 0.97, "num_gpus_per_worker": 0, "kl_coeff": 0.2, "horizon": 1500, "preprocessor_pref": "deepmind", "env_config": {"run": "PPO", "flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.1,\n            \"eta3\": 0.1,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 7.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 0\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 700,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}"}, "clip_param": 0.3, "observation_filter": "MeanStdFilter", "env": "MultiWaveAttenuationMergePOEnvBufferedObs-v0density_[eta1, eta2, eta3]:[1.0, 0.1, 0.0]_t_min:7.0", "gamma": 0.99, "lr": 0.0005, "monitor": false, "output_compress_columns": ["obs", "new_obs"], "batch_mode": "truncate_episodes", "num_gpus": 0, "num_workers": 30, "output": null, "collect_metrics_timeout": 180, "num_sgd_iter": 10, "sample_batch_size": 750, "output_max_file_size": 67108864, "straggler_mitigation": false, "train_batch_size": 90000}, "num_metric_batches_dropped": 0, "hostname": "flow-main", "episodes_total": 6528, "episode_reward_min": 209.0595014713569, "time_total_s": 7407.643066644669, "policy_reward_mean": {}, "timesteps_this_iter": 130050, "custom_metrics": {"cost1_mean": 351.6175144704134, "system_level_velocity_mean": 12.346272923079285, "cost2_max": -70.31469904876255, "outflow_rate_max": 1150.5235000150403, "outflow_rate_mean": 1017.5378845386218, "cost1_max": 418.0684982965786, "outflow_rate_min": 429.8527689516307, "system_level_velocity_max": 14.467944355751522, "system_level_velocity_min": 10.987703157946342, "cost2_min": -141.95658279695272, "cost1_min": 116.73350213969722, "cost2_mean": -118.2781262836148}, "episode_reward_max": 952.6955681763515}
{"node_ip": "10.138.0.2", "episode_reward_mean": 744.7855723628035, "time_this_iter_s": 70.8377902507782, "done": false, "episode_len_mean": 745.79, "timestamp": 1557395044, "training_iteration": 107, "experiment_id": "58dd2f5595014063b753971755894587", "time_since_restore": 7478.480856895447, "timesteps_total": 14159527, "pid": 25334, "episodes_this_iter": 63, "date": "2019-05-09_09-44-04", "info": {"sample_time_ms": 39792.612, "grad_time_ms": 32079.233, "num_steps_sampled": 14159527, "update_time_ms": 9.404, "default": {"vf_explained_var": 0.9426432251930237, "cur_kl_coeff": 0.5062499046325684, "vf_loss": 10.483985900878906, "policy_loss": -0.015813276171684265, "cur_lr": 0.0005000000237487257, "kl": 0.014796041883528233, "total_loss": 10.475662231445312, "entropy": 1.6544033288955688}, "load_time_ms": 48.779, "num_steps_trained": 14159527}, "timesteps_since_restore": 14159527, "iterations_since_restore": 107, "config": {"local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "compress_observations": false, "clip_rewards": null, "sample_async": false, "custom_resources_per_worker": {}, "use_gae": true, "vf_share_layers": false, "vf_loss_coeff": 1.0, "optimizer": {}, "simple_optimizer": false, "num_envs_per_worker": 1, "vf_clip_param": 1000000.0, "synchronize_filters": true, "num_cpus_per_worker": 1, "multiagent": {"policy_graphs": {}, "policies_to_train": null, "policy_mapping_fn": null}, "kl_target": 0.01, "clip_actions": false, "input": "sampler", "input_evaluation": null, "entropy_coeff": 0.0, "lr_schedule": null, "sgd_minibatch_size": 128, "callbacks": {"on_sample_end": null, "on_train_result": null, "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7f49896ca3c8>", "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7f49896ca630>", "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7f49896ca828>"}, "num_cpus_for_driver": 1, "log_level": "INFO", "tf_session_args": {"log_device_placement": false, "gpu_options": {"allow_growth": true}, "intra_op_parallelism_threads": 2, "inter_op_parallelism_threads": 2, "allow_soft_placement": true, "device_count": {"CPU": 1}}, "model": {"dim": 84, "free_log_std": false, "fcnet_hiddens": [128, 64, 32], "custom_model": null, "fcnet_activation": "tanh", "lstm_use_prev_action_reward": false, "grayscale": false, "channel_major": false, "squash_to_range": false, "framestack": true, "use_lstm": false, "conv_activation": "relu", "conv_filters": null, "custom_preprocessor": null, "lstm_cell_size": 256, "zero_mean": true, "custom_options": {}, "max_seq_len": 20}, "lambda": 0.97, "num_gpus_per_worker": 0, "kl_coeff": 0.2, "horizon": 1500, "preprocessor_pref": "deepmind", "env_config": {"run": "PPO", "flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.1,\n            \"eta3\": 0.1,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 7.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 0\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 700,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}"}, "clip_param": 0.3, "observation_filter": "MeanStdFilter", "env": "MultiWaveAttenuationMergePOEnvBufferedObs-v0density_[eta1, eta2, eta3]:[1.0, 0.1, 0.0]_t_min:7.0", "gamma": 0.99, "lr": 0.0005, "monitor": false, "output_compress_columns": ["obs", "new_obs"], "batch_mode": "truncate_episodes", "num_gpus": 0, "num_workers": 30, "output": null, "collect_metrics_timeout": 180, "num_sgd_iter": 10, "sample_batch_size": 750, "output_max_file_size": 67108864, "straggler_mitigation": false, "train_batch_size": 90000}, "num_metric_batches_dropped": 0, "hostname": "flow-main", "episodes_total": 6591, "episode_reward_min": 214.29599636957388, "time_total_s": 7478.480856895447, "policy_reward_mean": {}, "timesteps_this_iter": 130338, "custom_metrics": {"cost1_mean": 349.04852502711356, "system_level_velocity_mean": 12.270305222411373, "cost2_max": -64.86217035695242, "outflow_rate_max": 1150.5235000150403, "outflow_rate_mean": 1010.1219374676579, "cost1_max": 418.0684982965786, "outflow_rate_min": 432.1294823524579, "system_level_velocity_max": 14.467944355751522, "system_level_velocity_min": 10.987703157946342, "cost2_min": -141.95658279695272, "cost1_min": 117.11370854238629, "cost2_mean": -117.83421048944203}, "episode_reward_max": 952.6955681763515}
{"node_ip": "10.138.0.2", "episode_reward_mean": 721.9199759810072, "time_this_iter_s": 69.13619303703308, "done": false, "episode_len_mean": 729.14, "timestamp": 1557395113, "training_iteration": 108, "experiment_id": "58dd2f5595014063b753971755894587", "time_since_restore": 7547.61704993248, "timesteps_total": 14290219, "pid": 25334, "episodes_this_iter": 64, "date": "2019-05-09_09-45-13", "info": {"sample_time_ms": 39254.775, "grad_time_ms": 32459.756, "num_steps_sampled": 14290219, "update_time_ms": 9.337, "default": {"vf_explained_var": 0.9400540590286255, "cur_kl_coeff": 0.5062499046325684, "vf_loss": 10.636524200439453, "policy_loss": -0.017844384536147118, "cur_lr": 0.0005000000237487257, "kl": 0.015217096544802189, "total_loss": 10.626382827758789, "entropy": 1.6686056852340698}, "load_time_ms": 48.76, "num_steps_trained": 14290219}, "timesteps_since_restore": 14290219, "iterations_since_restore": 108, "config": {"local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "compress_observations": false, "clip_rewards": null, "sample_async": false, "custom_resources_per_worker": {}, "use_gae": true, "vf_share_layers": false, "vf_loss_coeff": 1.0, "optimizer": {}, "simple_optimizer": false, "num_envs_per_worker": 1, "vf_clip_param": 1000000.0, "synchronize_filters": true, "num_cpus_per_worker": 1, "multiagent": {"policy_graphs": {}, "policies_to_train": null, "policy_mapping_fn": null}, "kl_target": 0.01, "clip_actions": false, "input": "sampler", "input_evaluation": null, "entropy_coeff": 0.0, "lr_schedule": null, "sgd_minibatch_size": 128, "callbacks": {"on_sample_end": null, "on_train_result": null, "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7f49896c5da0>", "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7f49896c5048>", "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7f49896c53c8>"}, "num_cpus_for_driver": 1, "log_level": "INFO", "tf_session_args": {"log_device_placement": false, "gpu_options": {"allow_growth": true}, "intra_op_parallelism_threads": 2, "inter_op_parallelism_threads": 2, "allow_soft_placement": true, "device_count": {"CPU": 1}}, "model": {"dim": 84, "free_log_std": false, "fcnet_hiddens": [128, 64, 32], "custom_model": null, "fcnet_activation": "tanh", "lstm_use_prev_action_reward": false, "grayscale": false, "channel_major": false, "squash_to_range": false, "framestack": true, "use_lstm": false, "conv_activation": "relu", "conv_filters": null, "custom_preprocessor": null, "lstm_cell_size": 256, "zero_mean": true, "custom_options": {}, "max_seq_len": 20}, "lambda": 0.97, "num_gpus_per_worker": 0, "kl_coeff": 0.2, "horizon": 1500, "preprocessor_pref": "deepmind", "env_config": {"run": "PPO", "flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.1,\n            \"eta3\": 0.1,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 7.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 0\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 700,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}"}, "clip_param": 0.3, "observation_filter": "MeanStdFilter", "env": "MultiWaveAttenuationMergePOEnvBufferedObs-v0density_[eta1, eta2, eta3]:[1.0, 0.1, 0.0]_t_min:7.0", "gamma": 0.99, "lr": 0.0005, "monitor": false, "output_compress_columns": ["obs", "new_obs"], "batch_mode": "truncate_episodes", "num_gpus": 0, "num_workers": 30, "output": null, "collect_metrics_timeout": 180, "num_sgd_iter": 10, "sample_batch_size": 750, "output_max_file_size": 67108864, "straggler_mitigation": false, "train_batch_size": 90000}, "num_metric_batches_dropped": 0, "hostname": "flow-main", "episodes_total": 6655, "episode_reward_min": 67.50866752926267, "time_total_s": 7547.61704993248, "policy_reward_mean": {}, "timesteps_this_iter": 130692, "custom_metrics": {"cost1_mean": 338.639177129486, "system_level_velocity_mean": 12.185976033283252, "cost2_max": -49.46499362191056, "outflow_rate_max": 1116.0556869358065, "outflow_rate_mean": 983.6068962298596, "cost1_max": 396.60475931919717, "outflow_rate_min": 252.80341528926027, "system_level_velocity_max": 13.667041795708137, "system_level_velocity_min": 10.722524992338059, "cost2_min": -140.7078418360054, "cost1_min": 50.934956818572154, "cost2_mean": -115.17409208919051}, "episode_reward_max": 910.1670625954475}
{"node_ip": "10.138.0.2", "episode_reward_mean": 719.7319642098507, "time_this_iter_s": 69.20485377311707, "done": false, "episode_len_mean": 734.35, "timestamp": 1557395182, "training_iteration": 109, "experiment_id": "58dd2f5595014063b753971755894587", "time_since_restore": 7616.821903705597, "timesteps_total": 14420922, "pid": 25334, "episodes_this_iter": 62, "date": "2019-05-09_09-46-22", "info": {"sample_time_ms": 38735.83, "grad_time_ms": 32637.031, "num_steps_sampled": 14420922, "update_time_ms": 9.121, "default": {"vf_explained_var": 0.943120002746582, "cur_kl_coeff": 0.5062499046325684, "vf_loss": 10.205212593078613, "policy_loss": -0.017009682953357697, "cur_lr": 0.0005000000237487257, "kl": 0.014956271275877953, "total_loss": 10.19577407836914, "entropy": 1.680682897567749}, "load_time_ms": 44.499, "num_steps_trained": 14420922}, "timesteps_since_restore": 14420922, "iterations_since_restore": 109, "config": {"local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "compress_observations": false, "clip_rewards": null, "sample_async": false, "custom_resources_per_worker": {}, "use_gae": true, "vf_share_layers": false, "vf_loss_coeff": 1.0, "optimizer": {}, "simple_optimizer": false, "num_envs_per_worker": 1, "vf_clip_param": 1000000.0, "synchronize_filters": true, "num_cpus_per_worker": 1, "multiagent": {"policy_graphs": {}, "policies_to_train": null, "policy_mapping_fn": null}, "kl_target": 0.01, "clip_actions": false, "input": "sampler", "input_evaluation": null, "entropy_coeff": 0.0, "lr_schedule": null, "sgd_minibatch_size": 128, "callbacks": {"on_sample_end": null, "on_train_result": null, "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7f49896b1e80>", "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7f49896ca438>", "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7f49896ca470>"}, "num_cpus_for_driver": 1, "log_level": "INFO", "tf_session_args": {"log_device_placement": false, "gpu_options": {"allow_growth": true}, "intra_op_parallelism_threads": 2, "inter_op_parallelism_threads": 2, "allow_soft_placement": true, "device_count": {"CPU": 1}}, "model": {"dim": 84, "free_log_std": false, "fcnet_hiddens": [128, 64, 32], "custom_model": null, "fcnet_activation": "tanh", "lstm_use_prev_action_reward": false, "grayscale": false, "channel_major": false, "squash_to_range": false, "framestack": true, "use_lstm": false, "conv_activation": "relu", "conv_filters": null, "custom_preprocessor": null, "lstm_cell_size": 256, "zero_mean": true, "custom_options": {}, "max_seq_len": 20}, "lambda": 0.97, "num_gpus_per_worker": 0, "kl_coeff": 0.2, "horizon": 1500, "preprocessor_pref": "deepmind", "env_config": {"run": "PPO", "flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.1,\n            \"eta3\": 0.1,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 7.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 0\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 700,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}"}, "clip_param": 0.3, "observation_filter": "MeanStdFilter", "env": "MultiWaveAttenuationMergePOEnvBufferedObs-v0density_[eta1, eta2, eta3]:[1.0, 0.1, 0.0]_t_min:7.0", "gamma": 0.99, "lr": 0.0005, "monitor": false, "output_compress_columns": ["obs", "new_obs"], "batch_mode": "truncate_episodes", "num_gpus": 0, "num_workers": 30, "output": null, "collect_metrics_timeout": 180, "num_sgd_iter": 10, "sample_batch_size": 750, "output_max_file_size": 67108864, "straggler_mitigation": false, "train_batch_size": 90000}, "num_metric_batches_dropped": 0, "hostname": "flow-main", "episodes_total": 6717, "episode_reward_min": 67.50866752926267, "time_total_s": 7616.821903705597, "policy_reward_mean": {}, "timesteps_this_iter": 130703, "custom_metrics": {"cost1_mean": 338.8071724239261, "system_level_velocity_mean": 12.09254028726962, "cost2_max": -49.46499362191056, "outflow_rate_max": 1116.0556869358065, "outflow_rate_mean": 986.4178050389731, "cost1_max": 391.8503128853831, "outflow_rate_min": 252.80341528926027, "system_level_velocity_max": 13.667041795708137, "system_level_velocity_min": 10.28979204531216, "cost2_min": -145.77508988659324, "cost1_min": 50.934956818572154, "cost2_mean": -113.51615533765249}, "episode_reward_max": 861.0614040486196}
{"node_ip": "10.138.0.2", "episode_reward_mean": 722.4328116235529, "time_this_iter_s": 68.26993608474731, "done": false, "episode_len_mean": 736.29, "timestamp": 1557395251, "training_iteration": 110, "experiment_id": "58dd2f5595014063b753971755894587", "time_since_restore": 7685.091839790344, "timesteps_total": 14549789, "pid": 25334, "episodes_this_iter": 64, "date": "2019-05-09_09-47-31", "info": {"sample_time_ms": 38284.566, "grad_time_ms": 32752.685, "num_steps_sampled": 14549789, "update_time_ms": 9.21, "default": {"vf_explained_var": 0.9416254162788391, "cur_kl_coeff": 0.5062499642372131, "vf_loss": 10.833423614501953, "policy_loss": -0.018467465415596962, "cur_lr": 0.0005000000237487257, "kl": 0.015144124627113342, "total_loss": 10.822623252868652, "entropy": 1.6656676530838013}, "load_time_ms": 44.67, "num_steps_trained": 14549789}, "timesteps_since_restore": 14549789, "iterations_since_restore": 110, "config": {"local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "compress_observations": false, "clip_rewards": null, "sample_async": false, "custom_resources_per_worker": {}, "use_gae": true, "vf_share_layers": false, "vf_loss_coeff": 1.0, "optimizer": {}, "simple_optimizer": false, "num_envs_per_worker": 1, "vf_clip_param": 1000000.0, "synchronize_filters": true, "num_cpus_per_worker": 1, "multiagent": {"policy_graphs": {}, "policies_to_train": null, "policy_mapping_fn": null}, "kl_target": 0.01, "clip_actions": false, "input": "sampler", "input_evaluation": null, "entropy_coeff": 0.0, "lr_schedule": null, "sgd_minibatch_size": 128, "callbacks": {"on_sample_end": null, "on_train_result": null, "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7f49896caa90>", "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7f49896cac88>", "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7f49896cab70>"}, "num_cpus_for_driver": 1, "log_level": "INFO", "tf_session_args": {"log_device_placement": false, "gpu_options": {"allow_growth": true}, "intra_op_parallelism_threads": 2, "inter_op_parallelism_threads": 2, "allow_soft_placement": true, "device_count": {"CPU": 1}}, "model": {"dim": 84, "free_log_std": false, "fcnet_hiddens": [128, 64, 32], "custom_model": null, "fcnet_activation": "tanh", "lstm_use_prev_action_reward": false, "grayscale": false, "channel_major": false, "squash_to_range": false, "framestack": true, "use_lstm": false, "conv_activation": "relu", "conv_filters": null, "custom_preprocessor": null, "lstm_cell_size": 256, "zero_mean": true, "custom_options": {}, "max_seq_len": 20}, "lambda": 0.97, "num_gpus_per_worker": 0, "kl_coeff": 0.2, "horizon": 1500, "preprocessor_pref": "deepmind", "env_config": {"run": "PPO", "flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.1,\n            \"eta3\": 0.1,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 7.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 0\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 700,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}"}, "clip_param": 0.3, "observation_filter": "MeanStdFilter", "env": "MultiWaveAttenuationMergePOEnvBufferedObs-v0density_[eta1, eta2, eta3]:[1.0, 0.1, 0.0]_t_min:7.0", "gamma": 0.99, "lr": 0.0005, "monitor": false, "output_compress_columns": ["obs", "new_obs"], "batch_mode": "truncate_episodes", "num_gpus": 0, "num_workers": 30, "output": null, "collect_metrics_timeout": 180, "num_sgd_iter": 10, "sample_batch_size": 750, "output_max_file_size": 67108864, "straggler_mitigation": false, "train_batch_size": 90000}, "num_metric_batches_dropped": 0, "hostname": "flow-main", "episodes_total": 6781, "episode_reward_min": 216.6370549079744, "time_total_s": 7685.091839790344, "policy_reward_mean": {}, "timesteps_this_iter": 128867, "custom_metrics": {"cost1_mean": 340.22166752475636, "system_level_velocity_mean": 12.135578303904369, "cost2_max": -63.271903319901654, "outflow_rate_max": 1120.7856432728736, "outflow_rate_mean": 988.9229244184884, "cost1_max": 395.91542926569764, "outflow_rate_min": 417.97595551028843, "system_level_velocity_max": 13.818332961820179, "system_level_velocity_min": 10.28979204531216, "cost2_min": -145.77508988659324, "cost1_min": 115.0071498694677, "cost2_mean": -113.34646185331032}, "episode_reward_max": 866.1182623130503}
{"node_ip": "10.138.0.2", "episode_reward_mean": 739.2570298363154, "time_this_iter_s": 68.16502261161804, "done": false, "episode_len_mean": 740.5, "timestamp": 1557395319, "training_iteration": 111, "experiment_id": "58dd2f5595014063b753971755894587", "time_since_restore": 7753.256862401962, "timesteps_total": 14679251, "pid": 25334, "episodes_this_iter": 63, "date": "2019-05-09_09-48-39", "info": {"sample_time_ms": 37840.27, "grad_time_ms": 32659.903, "num_steps_sampled": 14679251, "update_time_ms": 9.183, "default": {"vf_explained_var": 0.9411417245864868, "cur_kl_coeff": 0.5062499642372131, "vf_loss": 10.5160493850708, "policy_loss": -0.017426690086722374, "cur_lr": 0.0005000000237487257, "kl": 0.015413045883178711, "total_loss": 10.506425857543945, "entropy": 1.669404149055481}, "load_time_ms": 45.249, "num_steps_trained": 14679251}, "timesteps_since_restore": 14679251, "iterations_since_restore": 111, "config": {"local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "compress_observations": false, "clip_rewards": null, "sample_async": false, "custom_resources_per_worker": {}, "use_gae": true, "vf_share_layers": false, "vf_loss_coeff": 1.0, "optimizer": {}, "simple_optimizer": false, "num_envs_per_worker": 1, "vf_clip_param": 1000000.0, "synchronize_filters": true, "num_cpus_per_worker": 1, "multiagent": {"policy_graphs": {}, "policies_to_train": null, "policy_mapping_fn": null}, "kl_target": 0.01, "clip_actions": false, "input": "sampler", "input_evaluation": null, "entropy_coeff": 0.0, "lr_schedule": null, "sgd_minibatch_size": 128, "callbacks": {"on_sample_end": null, "on_train_result": null, "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7f498a922d68>", "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7f498a9225c0>", "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7f49896ca6d8>"}, "num_cpus_for_driver": 1, "log_level": "INFO", "tf_session_args": {"log_device_placement": false, "gpu_options": {"allow_growth": true}, "intra_op_parallelism_threads": 2, "inter_op_parallelism_threads": 2, "allow_soft_placement": true, "device_count": {"CPU": 1}}, "model": {"dim": 84, "free_log_std": false, "fcnet_hiddens": [128, 64, 32], "custom_model": null, "fcnet_activation": "tanh", "lstm_use_prev_action_reward": false, "grayscale": false, "channel_major": false, "squash_to_range": false, "framestack": true, "use_lstm": false, "conv_activation": "relu", "conv_filters": null, "custom_preprocessor": null, "lstm_cell_size": 256, "zero_mean": true, "custom_options": {}, "max_seq_len": 20}, "lambda": 0.97, "num_gpus_per_worker": 0, "kl_coeff": 0.2, "horizon": 1500, "preprocessor_pref": "deepmind", "env_config": {"run": "PPO", "flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.1,\n            \"eta3\": 0.1,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 7.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 0\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 700,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}"}, "clip_param": 0.3, "observation_filter": "MeanStdFilter", "env": "MultiWaveAttenuationMergePOEnvBufferedObs-v0density_[eta1, eta2, eta3]:[1.0, 0.1, 0.0]_t_min:7.0", "gamma": 0.99, "lr": 0.0005, "monitor": false, "output_compress_columns": ["obs", "new_obs"], "batch_mode": "truncate_episodes", "num_gpus": 0, "num_workers": 30, "output": null, "collect_metrics_timeout": 180, "num_sgd_iter": 10, "sample_batch_size": 750, "output_max_file_size": 67108864, "straggler_mitigation": false, "train_batch_size": 90000}, "num_metric_batches_dropped": 0, "hostname": "flow-main", "episodes_total": 6844, "episode_reward_min": 204.20481302829432, "time_total_s": 7753.256862401962, "policy_reward_mean": {}, "timesteps_this_iter": 129462, "custom_metrics": {"cost1_mean": 345.99575447525575, "system_level_velocity_mean": 12.244103226133744, "cost2_max": -57.21037739333835, "outflow_rate_max": 1148.1156192186413, "outflow_rate_mean": 1001.9836943922487, "cost1_max": 412.16900060134924, "outflow_rate_min": 417.97595551028843, "system_level_velocity_max": 14.274397704065448, "system_level_velocity_min": 11.23058343337174, "cost2_min": -138.75163760217657, "cost1_min": 111.09849346786893, "cost2_mean": -113.3849615152385}, "episode_reward_max": 936.8770875094501}
{"node_ip": "10.138.0.2", "episode_reward_mean": 740.2502850485791, "time_this_iter_s": 67.52166938781738, "done": false, "episode_len_mean": 744.98, "timestamp": 1557395386, "training_iteration": 112, "experiment_id": "58dd2f5595014063b753971755894587", "time_since_restore": 7820.77853178978, "timesteps_total": 14808715, "pid": 25334, "episodes_this_iter": 62, "date": "2019-05-09_09-49-46", "info": {"sample_time_ms": 37400.555, "grad_time_ms": 32493.431, "num_steps_sampled": 14808715, "update_time_ms": 8.981, "default": {"vf_explained_var": 0.9381389617919922, "cur_kl_coeff": 0.5062499642372131, "vf_loss": 11.416115760803223, "policy_loss": -0.017488323152065277, "cur_lr": 0.0005000000237487257, "kl": 0.015033210627734661, "total_loss": 11.406238555908203, "entropy": 1.661773681640625}, "load_time_ms": 44.478, "num_steps_trained": 14808715}, "timesteps_since_restore": 14808715, "iterations_since_restore": 112, "config": {"local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "compress_observations": false, "clip_rewards": null, "sample_async": false, "custom_resources_per_worker": {}, "use_gae": true, "vf_share_layers": false, "vf_loss_coeff": 1.0, "optimizer": {}, "simple_optimizer": false, "num_envs_per_worker": 1, "vf_clip_param": 1000000.0, "synchronize_filters": true, "num_cpus_per_worker": 1, "multiagent": {"policy_graphs": {}, "policies_to_train": null, "policy_mapping_fn": null}, "kl_target": 0.01, "clip_actions": false, "input": "sampler", "input_evaluation": null, "entropy_coeff": 0.0, "lr_schedule": null, "sgd_minibatch_size": 128, "callbacks": {"on_sample_end": null, "on_train_result": null, "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7f49896b1e80>", "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7f49896ca320>", "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7f49896ca1d0>"}, "num_cpus_for_driver": 1, "log_level": "INFO", "tf_session_args": {"log_device_placement": false, "gpu_options": {"allow_growth": true}, "intra_op_parallelism_threads": 2, "inter_op_parallelism_threads": 2, "allow_soft_placement": true, "device_count": {"CPU": 1}}, "model": {"dim": 84, "free_log_std": false, "fcnet_hiddens": [128, 64, 32], "custom_model": null, "fcnet_activation": "tanh", "lstm_use_prev_action_reward": false, "grayscale": false, "channel_major": false, "squash_to_range": false, "framestack": true, "use_lstm": false, "conv_activation": "relu", "conv_filters": null, "custom_preprocessor": null, "lstm_cell_size": 256, "zero_mean": true, "custom_options": {}, "max_seq_len": 20}, "lambda": 0.97, "num_gpus_per_worker": 0, "kl_coeff": 0.2, "horizon": 1500, "preprocessor_pref": "deepmind", "env_config": {"run": "PPO", "flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.1,\n            \"eta3\": 0.1,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 7.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 0\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 700,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}"}, "clip_param": 0.3, "observation_filter": "MeanStdFilter", "env": "MultiWaveAttenuationMergePOEnvBufferedObs-v0density_[eta1, eta2, eta3]:[1.0, 0.1, 0.0]_t_min:7.0", "gamma": 0.99, "lr": 0.0005, "monitor": false, "output_compress_columns": ["obs", "new_obs"], "batch_mode": "truncate_episodes", "num_gpus": 0, "num_workers": 30, "output": null, "collect_metrics_timeout": 180, "num_sgd_iter": 10, "sample_batch_size": 750, "output_max_file_size": 67108864, "straggler_mitigation": false, "train_batch_size": 90000}, "num_metric_batches_dropped": 0, "hostname": "flow-main", "episodes_total": 6906, "episode_reward_min": 204.20481302829432, "time_total_s": 7820.77853178978, "policy_reward_mean": {}, "timesteps_this_iter": 129464, "custom_metrics": {"cost1_mean": 345.566398430064, "system_level_velocity_mean": 12.148528924990647, "cost2_max": -57.21037739333835, "outflow_rate_max": 1151.5316071736847, "outflow_rate_mean": 1002.9840857517032, "cost1_max": 413.22364469699335, "outflow_rate_min": 420.5186530296555, "system_level_velocity_max": 14.278257219297693, "system_level_velocity_min": 11.195654430821978, "cost2_min": -140.01908415850622, "cost1_min": 111.09849346786893, "cost2_mean": -114.87401436308659}, "episode_reward_max": 950.0815137748165}
{"node_ip": "10.138.0.2", "episode_reward_mean": 746.4280937480446, "time_this_iter_s": 68.81949973106384, "done": false, "episode_len_mean": 750.27, "timestamp": 1557395455, "training_iteration": 113, "experiment_id": "58dd2f5595014063b753971755894587", "time_since_restore": 7889.5980315208435, "timesteps_total": 14940191, "pid": 25334, "episodes_this_iter": 62, "date": "2019-05-09_09-50-55", "info": {"sample_time_ms": 37263.756, "grad_time_ms": 32182.833, "num_steps_sampled": 14940191, "update_time_ms": 8.953, "default": {"vf_explained_var": 0.9405559301376343, "cur_kl_coeff": 0.5062499642372131, "vf_loss": 10.630956649780273, "policy_loss": -0.0179803017526865, "cur_lr": 0.0005000000237487257, "kl": 0.014818903058767319, "total_loss": 10.620477676391602, "entropy": 1.685961365699768}, "load_time_ms": 46.487, "num_steps_trained": 14940191}, "timesteps_since_restore": 14940191, "iterations_since_restore": 113, "config": {"local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "compress_observations": false, "clip_rewards": null, "sample_async": false, "custom_resources_per_worker": {}, "use_gae": true, "vf_share_layers": false, "vf_loss_coeff": 1.0, "optimizer": {}, "simple_optimizer": false, "num_envs_per_worker": 1, "vf_clip_param": 1000000.0, "synchronize_filters": true, "num_cpus_per_worker": 1, "multiagent": {"policy_graphs": {}, "policies_to_train": null, "policy_mapping_fn": null}, "kl_target": 0.01, "clip_actions": false, "input": "sampler", "input_evaluation": null, "entropy_coeff": 0.0, "lr_schedule": null, "sgd_minibatch_size": 128, "callbacks": {"on_sample_end": null, "on_train_result": null, "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7f49896ca8d0>", "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7f49896ca9b0>", "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7f49896ca630>"}, "num_cpus_for_driver": 1, "log_level": "INFO", "tf_session_args": {"log_device_placement": false, "gpu_options": {"allow_growth": true}, "intra_op_parallelism_threads": 2, "inter_op_parallelism_threads": 2, "allow_soft_placement": true, "device_count": {"CPU": 1}}, "model": {"dim": 84, "free_log_std": false, "fcnet_hiddens": [128, 64, 32], "custom_model": null, "fcnet_activation": "tanh", "lstm_use_prev_action_reward": false, "grayscale": false, "channel_major": false, "squash_to_range": false, "framestack": true, "use_lstm": false, "conv_activation": "relu", "conv_filters": null, "custom_preprocessor": null, "lstm_cell_size": 256, "zero_mean": true, "custom_options": {}, "max_seq_len": 20}, "lambda": 0.97, "num_gpus_per_worker": 0, "kl_coeff": 0.2, "horizon": 1500, "preprocessor_pref": "deepmind", "env_config": {"run": "PPO", "flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.1,\n            \"eta3\": 0.1,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 7.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 0\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 700,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}"}, "clip_param": 0.3, "observation_filter": "MeanStdFilter", "env": "MultiWaveAttenuationMergePOEnvBufferedObs-v0density_[eta1, eta2, eta3]:[1.0, 0.1, 0.0]_t_min:7.0", "gamma": 0.99, "lr": 0.0005, "monitor": false, "output_compress_columns": ["obs", "new_obs"], "batch_mode": "truncate_episodes", "num_gpus": 0, "num_workers": 30, "output": null, "collect_metrics_timeout": 180, "num_sgd_iter": 10, "sample_batch_size": 750, "output_max_file_size": 67108864, "straggler_mitigation": false, "train_batch_size": 90000}, "num_metric_batches_dropped": 0, "hostname": "flow-main", "episodes_total": 6968, "episode_reward_min": 662.989622937621, "time_total_s": 7889.5980315208435, "policy_reward_mean": {}, "timesteps_this_iter": 131476, "custom_metrics": {"cost1_mean": 347.1437187038391, "system_level_velocity_mean": 12.103899440906682, "cost2_max": -99.5749857183297, "outflow_rate_max": 1151.5316071736847, "outflow_rate_mean": 1007.426961906097, "cost1_max": 413.22364469699335, "outflow_rate_min": 925.3084716618799, "system_level_velocity_max": 14.278257219297693, "system_level_velocity_min": 11.195654430821978, "cost2_min": -140.01908415850622, "cost1_min": 313.5065692137275, "cost2_mean": -116.32672825635458}, "episode_reward_max": 950.0815137748165}
{"node_ip": "10.138.0.2", "episode_reward_mean": 742.1072938558689, "time_this_iter_s": 70.0610978603363, "done": false, "episode_len_mean": 751.0, "timestamp": 1557395525, "training_iteration": 114, "experiment_id": "58dd2f5595014063b753971755894587", "time_since_restore": 7959.65912938118, "timesteps_total": 15070185, "pid": 25334, "episodes_this_iter": 62, "date": "2019-05-09_09-52-05", "info": {"sample_time_ms": 37374.762, "grad_time_ms": 31905.794, "num_steps_sampled": 15070185, "update_time_ms": 8.897, "default": {"vf_explained_var": 0.9393500089645386, "cur_kl_coeff": 0.5062499642372131, "vf_loss": 10.806584358215332, "policy_loss": -0.01803523860871792, "cur_lr": 0.0005000000237487257, "kl": 0.015107872895896435, "total_loss": 10.796197891235352, "entropy": 1.671749234199524}, "load_time_ms": 48.262, "num_steps_trained": 15070185}, "timesteps_since_restore": 15070185, "iterations_since_restore": 114, "config": {"local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "compress_observations": false, "clip_rewards": null, "sample_async": false, "custom_resources_per_worker": {}, "use_gae": true, "vf_share_layers": false, "vf_loss_coeff": 1.0, "optimizer": {}, "simple_optimizer": false, "num_envs_per_worker": 1, "vf_clip_param": 1000000.0, "synchronize_filters": true, "num_cpus_per_worker": 1, "multiagent": {"policy_graphs": {}, "policies_to_train": null, "policy_mapping_fn": null}, "kl_target": 0.01, "clip_actions": false, "input": "sampler", "input_evaluation": null, "entropy_coeff": 0.0, "lr_schedule": null, "sgd_minibatch_size": 128, "callbacks": {"on_sample_end": null, "on_train_result": null, "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7f49896c56d8>", "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7f49896c5710>", "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7f49896c5f98>"}, "num_cpus_for_driver": 1, "log_level": "INFO", "tf_session_args": {"log_device_placement": false, "gpu_options": {"allow_growth": true}, "intra_op_parallelism_threads": 2, "inter_op_parallelism_threads": 2, "allow_soft_placement": true, "device_count": {"CPU": 1}}, "model": {"dim": 84, "free_log_std": false, "fcnet_hiddens": [128, 64, 32], "custom_model": null, "fcnet_activation": "tanh", "lstm_use_prev_action_reward": false, "grayscale": false, "channel_major": false, "squash_to_range": false, "framestack": true, "use_lstm": false, "conv_activation": "relu", "conv_filters": null, "custom_preprocessor": null, "lstm_cell_size": 256, "zero_mean": true, "custom_options": {}, "max_seq_len": 20}, "lambda": 0.97, "num_gpus_per_worker": 0, "kl_coeff": 0.2, "horizon": 1500, "preprocessor_pref": "deepmind", "env_config": {"run": "PPO", "flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.1,\n            \"eta3\": 0.1,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 7.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 0\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 700,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}"}, "clip_param": 0.3, "observation_filter": "MeanStdFilter", "env": "MultiWaveAttenuationMergePOEnvBufferedObs-v0density_[eta1, eta2, eta3]:[1.0, 0.1, 0.0]_t_min:7.0", "gamma": 0.99, "lr": 0.0005, "monitor": false, "output_compress_columns": ["obs", "new_obs"], "batch_mode": "truncate_episodes", "num_gpus": 0, "num_workers": 30, "output": null, "collect_metrics_timeout": 180, "num_sgd_iter": 10, "sample_batch_size": 750, "output_max_file_size": 67108864, "straggler_mitigation": false, "train_batch_size": 90000}, "num_metric_batches_dropped": 0, "hostname": "flow-main", "episodes_total": 7030, "episode_reward_min": 662.5991195134363, "time_total_s": 7959.65912938118, "policy_reward_mean": {}, "timesteps_this_iter": 129994, "custom_metrics": {"cost1_mean": 347.3924328098687, "system_level_velocity_mean": 12.112328026511259, "cost2_max": -97.76059303092093, "outflow_rate_max": 1143.6019013776872, "outflow_rate_mean": 1008.5020188759751, "cost1_max": 402.51542278989217, "outflow_rate_min": 925.3084716618799, "system_level_velocity_max": 13.961434513549449, "system_level_velocity_min": 11.075503878540644, "cost2_min": -140.992083119423, "cost1_min": 314.8505717794287, "cost2_mean": -116.29899899756556}, "episode_reward_max": 873.1958749035132}
{"node_ip": "10.138.0.2", "episode_reward_mean": 745.1695087872997, "time_this_iter_s": 69.59949398040771, "done": false, "episode_len_mean": 751.0, "timestamp": 1557395595, "training_iteration": 115, "experiment_id": "58dd2f5595014063b753971755894587", "time_since_restore": 8029.2586233615875, "timesteps_total": 15198869, "pid": 25334, "episodes_this_iter": 62, "date": "2019-05-09_09-53-15", "info": {"sample_time_ms": 37624.922, "grad_time_ms": 31338.859, "num_steps_sampled": 15198869, "update_time_ms": 8.694, "default": {"vf_explained_var": 0.9317461848258972, "cur_kl_coeff": 0.5062499642372131, "vf_loss": 12.106072425842285, "policy_loss": -0.017366183921694756, "cur_lr": 0.0005000000237487257, "kl": 0.015071620233356953, "total_loss": 12.096336364746094, "entropy": 1.6693333387374878}, "load_time_ms": 46.13, "num_steps_trained": 15198869}, "timesteps_since_restore": 15198869, "iterations_since_restore": 115, "config": {"local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "compress_observations": false, "clip_rewards": null, "sample_async": false, "custom_resources_per_worker": {}, "use_gae": true, "vf_share_layers": false, "vf_loss_coeff": 1.0, "optimizer": {}, "simple_optimizer": false, "num_envs_per_worker": 1, "vf_clip_param": 1000000.0, "synchronize_filters": true, "num_cpus_per_worker": 1, "multiagent": {"policy_graphs": {}, "policies_to_train": null, "policy_mapping_fn": null}, "kl_target": 0.01, "clip_actions": false, "input": "sampler", "input_evaluation": null, "entropy_coeff": 0.0, "lr_schedule": null, "sgd_minibatch_size": 128, "callbacks": {"on_sample_end": null, "on_train_result": null, "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7f49896c5630>", "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7f49896c5048>", "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7f49896c54e0>"}, "num_cpus_for_driver": 1, "log_level": "INFO", "tf_session_args": {"log_device_placement": false, "gpu_options": {"allow_growth": true}, "intra_op_parallelism_threads": 2, "inter_op_parallelism_threads": 2, "allow_soft_placement": true, "device_count": {"CPU": 1}}, "model": {"dim": 84, "free_log_std": false, "fcnet_hiddens": [128, 64, 32], "custom_model": null, "fcnet_activation": "tanh", "lstm_use_prev_action_reward": false, "grayscale": false, "channel_major": false, "squash_to_range": false, "framestack": true, "use_lstm": false, "conv_activation": "relu", "conv_filters": null, "custom_preprocessor": null, "lstm_cell_size": 256, "zero_mean": true, "custom_options": {}, "max_seq_len": 20}, "lambda": 0.97, "num_gpus_per_worker": 0, "kl_coeff": 0.2, "horizon": 1500, "preprocessor_pref": "deepmind", "env_config": {"run": "PPO", "flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.1,\n            \"eta3\": 0.1,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 7.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 0\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 700,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}"}, "clip_param": 0.3, "observation_filter": "MeanStdFilter", "env": "MultiWaveAttenuationMergePOEnvBufferedObs-v0density_[eta1, eta2, eta3]:[1.0, 0.1, 0.0]_t_min:7.0", "gamma": 0.99, "lr": 0.0005, "monitor": false, "output_compress_columns": ["obs", "new_obs"], "batch_mode": "truncate_episodes", "num_gpus": 0, "num_workers": 30, "output": null, "collect_metrics_timeout": 180, "num_sgd_iter": 10, "sample_batch_size": 750, "output_max_file_size": 67108864, "straggler_mitigation": false, "train_batch_size": 90000}, "num_metric_batches_dropped": 0, "hostname": "flow-main", "episodes_total": 7092, "episode_reward_min": 662.5991195134363, "time_total_s": 8029.2586233615875, "policy_reward_mean": {}, "timesteps_this_iter": 128684, "custom_metrics": {"cost1_mean": 347.2594219021756, "system_level_velocity_mean": 12.112808638707612, "cost2_max": -97.76059303092093, "outflow_rate_max": 1132.025248210651, "outflow_rate_mean": 1005.3983749384126, "cost1_max": 405.06173654050497, "outflow_rate_min": 926.7799213985692, "system_level_velocity_max": 14.06551173243699, "system_level_velocity_min": 11.075503878540644, "cost2_min": -131.67313294076195, "cost1_min": 314.8505717794287, "cost2_mean": -115.88411674487344}, "episode_reward_max": 901.4316647279308}
{"node_ip": "10.138.0.2", "episode_reward_mean": 750.3044642292756, "time_this_iter_s": 71.25483202934265, "done": false, "episode_len_mean": 743.45, "timestamp": 1557395666, "training_iteration": 116, "experiment_id": "58dd2f5595014063b753971755894587", "time_since_restore": 8100.51345539093, "timesteps_total": 15327873, "pid": 25334, "episodes_this_iter": 63, "date": "2019-05-09_09-54-26", "info": {"sample_time_ms": 37926.575, "grad_time_ms": 31057.937, "num_steps_sampled": 15327873, "update_time_ms": 8.383, "default": {"vf_explained_var": 0.926869809627533, "cur_kl_coeff": 0.5062499642372131, "vf_loss": 12.466397285461426, "policy_loss": -0.017654024064540863, "cur_lr": 0.0005000000237487257, "kl": 0.015744801610708237, "total_loss": 12.456714630126953, "entropy": 1.6864221096038818}, "load_time_ms": 46.45, "num_steps_trained": 15327873}, "timesteps_since_restore": 15327873, "iterations_since_restore": 116, "config": {"local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "compress_observations": false, "clip_rewards": null, "sample_async": false, "custom_resources_per_worker": {}, "use_gae": true, "vf_share_layers": false, "vf_loss_coeff": 1.0, "optimizer": {}, "simple_optimizer": false, "num_envs_per_worker": 1, "vf_clip_param": 1000000.0, "synchronize_filters": true, "num_cpus_per_worker": 1, "multiagent": {"policy_graphs": {}, "policies_to_train": null, "policy_mapping_fn": null}, "kl_target": 0.01, "clip_actions": false, "input": "sampler", "input_evaluation": null, "entropy_coeff": 0.0, "lr_schedule": null, "sgd_minibatch_size": 128, "callbacks": {"on_sample_end": null, "on_train_result": null, "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7f49896b14a8>", "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7f49896caba8>", "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7f49896ca630>"}, "num_cpus_for_driver": 1, "log_level": "INFO", "tf_session_args": {"log_device_placement": false, "gpu_options": {"allow_growth": true}, "intra_op_parallelism_threads": 2, "inter_op_parallelism_threads": 2, "allow_soft_placement": true, "device_count": {"CPU": 1}}, "model": {"dim": 84, "free_log_std": false, "fcnet_hiddens": [128, 64, 32], "custom_model": null, "fcnet_activation": "tanh", "lstm_use_prev_action_reward": false, "grayscale": false, "channel_major": false, "squash_to_range": false, "framestack": true, "use_lstm": false, "conv_activation": "relu", "conv_filters": null, "custom_preprocessor": null, "lstm_cell_size": 256, "zero_mean": true, "custom_options": {}, "max_seq_len": 20}, "lambda": 0.97, "num_gpus_per_worker": 0, "kl_coeff": 0.2, "horizon": 1500, "preprocessor_pref": "deepmind", "env_config": {"run": "PPO", "flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.1,\n            \"eta3\": 0.1,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 7.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 0\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 700,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}"}, "clip_param": 0.3, "observation_filter": "MeanStdFilter", "env": "MultiWaveAttenuationMergePOEnvBufferedObs-v0density_[eta1, eta2, eta3]:[1.0, 0.1, 0.0]_t_min:7.0", "gamma": 0.99, "lr": 0.0005, "monitor": false, "output_compress_columns": ["obs", "new_obs"], "batch_mode": "truncate_episodes", "num_gpus": 0, "num_workers": 30, "output": null, "collect_metrics_timeout": 180, "num_sgd_iter": 10, "sample_batch_size": 750, "output_max_file_size": 67108864, "straggler_mitigation": false, "train_batch_size": 90000}, "num_metric_batches_dropped": 0, "hostname": "flow-main", "episodes_total": 7155, "episode_reward_min": 210.49287400206939, "time_total_s": 8100.51345539093, "policy_reward_mean": {}, "timesteps_this_iter": 129004, "custom_metrics": {"cost1_mean": 347.22032064015593, "system_level_velocity_mean": 12.220045763713673, "cost2_max": -57.905232404842224, "outflow_rate_max": 1132.025248210651, "outflow_rate_mean": 1006.1957160605409, "cost1_max": 405.06173654050497, "outflow_rate_min": 418.9577252135336, "system_level_velocity_max": 14.06551173243699, "system_level_velocity_min": 10.44297445153282, "cost2_min": -131.8890161861185, "cost1_min": 112.75946272961126, "cost2_mean": -114.79618703846174}, "episode_reward_max": 901.4316647279308}
{"node_ip": "10.138.0.2", "episode_reward_mean": 752.407025051732, "time_this_iter_s": 71.42271375656128, "done": false, "episode_len_mean": 743.35, "timestamp": 1557395738, "training_iteration": 117, "experiment_id": "58dd2f5595014063b753971755894587", "time_since_restore": 8171.9361691474915, "timesteps_total": 15458116, "pid": 25334, "episodes_this_iter": 64, "date": "2019-05-09_09-55-38", "info": {"sample_time_ms": 38299.776, "grad_time_ms": 30744.201, "num_steps_sampled": 15458116, "update_time_ms": 8.449, "default": {"vf_explained_var": 0.9170467257499695, "cur_kl_coeff": 0.5062499642372131, "vf_loss": 14.205938339233398, "policy_loss": -0.017587533220648766, "cur_lr": 0.0005000000237487257, "kl": 0.01576114073395729, "total_loss": 14.196329116821289, "entropy": 1.6851333379745483}, "load_time_ms": 48.877, "num_steps_trained": 15458116}, "timesteps_since_restore": 15458116, "iterations_since_restore": 117, "config": {"local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "compress_observations": false, "clip_rewards": null, "sample_async": false, "custom_resources_per_worker": {}, "use_gae": true, "vf_share_layers": false, "vf_loss_coeff": 1.0, "optimizer": {}, "simple_optimizer": false, "num_envs_per_worker": 1, "vf_clip_param": 1000000.0, "synchronize_filters": true, "num_cpus_per_worker": 1, "multiagent": {"policy_graphs": {}, "policies_to_train": null, "policy_mapping_fn": null}, "kl_target": 0.01, "clip_actions": false, "input": "sampler", "input_evaluation": null, "entropy_coeff": 0.0, "lr_schedule": null, "sgd_minibatch_size": 128, "callbacks": {"on_sample_end": null, "on_train_result": null, "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7f49896c58d0>", "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7f49896c5f60>", "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7f49896c5f98>"}, "num_cpus_for_driver": 1, "log_level": "INFO", "tf_session_args": {"log_device_placement": false, "gpu_options": {"allow_growth": true}, "intra_op_parallelism_threads": 2, "inter_op_parallelism_threads": 2, "allow_soft_placement": true, "device_count": {"CPU": 1}}, "model": {"dim": 84, "free_log_std": false, "fcnet_hiddens": [128, 64, 32], "custom_model": null, "fcnet_activation": "tanh", "lstm_use_prev_action_reward": false, "grayscale": false, "channel_major": false, "squash_to_range": false, "framestack": true, "use_lstm": false, "conv_activation": "relu", "conv_filters": null, "custom_preprocessor": null, "lstm_cell_size": 256, "zero_mean": true, "custom_options": {}, "max_seq_len": 20}, "lambda": 0.97, "num_gpus_per_worker": 0, "kl_coeff": 0.2, "horizon": 1500, "preprocessor_pref": "deepmind", "env_config": {"run": "PPO", "flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.1,\n            \"eta3\": 0.1,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 7.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 0\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 700,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}"}, "clip_param": 0.3, "observation_filter": "MeanStdFilter", "env": "MultiWaveAttenuationMergePOEnvBufferedObs-v0density_[eta1, eta2, eta3]:[1.0, 0.1, 0.0]_t_min:7.0", "gamma": 0.99, "lr": 0.0005, "monitor": false, "output_compress_columns": ["obs", "new_obs"], "batch_mode": "truncate_episodes", "num_gpus": 0, "num_workers": 30, "output": null, "collect_metrics_timeout": 180, "num_sgd_iter": 10, "sample_batch_size": 750, "output_max_file_size": 67108864, "straggler_mitigation": false, "train_batch_size": 90000}, "num_metric_batches_dropped": 0, "hostname": "flow-main", "episodes_total": 7219, "episode_reward_min": 201.2013102370026, "time_total_s": 8171.9361691474915, "policy_reward_mean": {}, "timesteps_this_iter": 130243, "custom_metrics": {"cost1_mean": 345.45411233731033, "system_level_velocity_mean": 12.151373327905619, "cost2_max": -60.23172151102971, "outflow_rate_max": 1117.9948695836742, "outflow_rate_mean": 1001.0562953588743, "cost1_max": 398.089510022878, "outflow_rate_min": 409.5466638158353, "system_level_velocity_max": 13.715847744047048, "system_level_velocity_min": 10.44297445153282, "cost2_min": -131.8890161861185, "cost1_min": 109.11593756132866, "cost2_mean": -111.86151459387314}, "episode_reward_max": 908.4982507209958}
{"node_ip": "10.138.0.2", "episode_reward_mean": 749.1923190402955, "time_this_iter_s": 72.61880207061768, "done": false, "episode_len_mean": 745.67, "timestamp": 1557395810, "training_iteration": 118, "experiment_id": "58dd2f5595014063b753971755894587", "time_since_restore": 8244.55497121811, "timesteps_total": 15587614, "pid": 25334, "episodes_this_iter": 62, "date": "2019-05-09_09-56-50", "info": {"sample_time_ms": 38796.509, "grad_time_ms": 30594.888, "num_steps_sampled": 15587614, "update_time_ms": 8.366, "default": {"vf_explained_var": 0.9317036867141724, "cur_kl_coeff": 0.5062499642372131, "vf_loss": 11.065520286560059, "policy_loss": -0.01765352115035057, "cur_lr": 0.0005000000237487257, "kl": 0.015923667699098587, "total_loss": 11.055928230285645, "entropy": 1.6865371465682983}, "load_time_ms": 49.196, "num_steps_trained": 15587614}, "timesteps_since_restore": 15587614, "iterations_since_restore": 118, "config": {"local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "compress_observations": false, "clip_rewards": null, "sample_async": false, "custom_resources_per_worker": {}, "use_gae": true, "vf_share_layers": false, "vf_loss_coeff": 1.0, "optimizer": {}, "simple_optimizer": false, "num_envs_per_worker": 1, "vf_clip_param": 1000000.0, "synchronize_filters": true, "num_cpus_per_worker": 1, "multiagent": {"policy_graphs": {}, "policies_to_train": null, "policy_mapping_fn": null}, "kl_target": 0.01, "clip_actions": false, "input": "sampler", "input_evaluation": null, "entropy_coeff": 0.0, "lr_schedule": null, "sgd_minibatch_size": 128, "callbacks": {"on_sample_end": null, "on_train_result": null, "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7f49896c5b38>", "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7f49896c54e0>", "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7f49896c5400>"}, "num_cpus_for_driver": 1, "log_level": "INFO", "tf_session_args": {"log_device_placement": false, "gpu_options": {"allow_growth": true}, "intra_op_parallelism_threads": 2, "inter_op_parallelism_threads": 2, "allow_soft_placement": true, "device_count": {"CPU": 1}}, "model": {"dim": 84, "free_log_std": false, "fcnet_hiddens": [128, 64, 32], "custom_model": null, "fcnet_activation": "tanh", "lstm_use_prev_action_reward": false, "grayscale": false, "channel_major": false, "squash_to_range": false, "framestack": true, "use_lstm": false, "conv_activation": "relu", "conv_filters": null, "custom_preprocessor": null, "lstm_cell_size": 256, "zero_mean": true, "custom_options": {}, "max_seq_len": 20}, "lambda": 0.97, "num_gpus_per_worker": 0, "kl_coeff": 0.2, "horizon": 1500, "preprocessor_pref": "deepmind", "env_config": {"run": "PPO", "flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.1,\n            \"eta3\": 0.1,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 7.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 0\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 700,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}"}, "clip_param": 0.3, "observation_filter": "MeanStdFilter", "env": "MultiWaveAttenuationMergePOEnvBufferedObs-v0density_[eta1, eta2, eta3]:[1.0, 0.1, 0.0]_t_min:7.0", "gamma": 0.99, "lr": 0.0005, "monitor": false, "output_compress_columns": ["obs", "new_obs"], "batch_mode": "truncate_episodes", "num_gpus": 0, "num_workers": 30, "output": null, "collect_metrics_timeout": 180, "num_sgd_iter": 10, "sample_batch_size": 750, "output_max_file_size": 67108864, "straggler_mitigation": false, "train_batch_size": 90000}, "num_metric_batches_dropped": 0, "hostname": "flow-main", "episodes_total": 7281, "episode_reward_min": 201.2013102370026, "time_total_s": 8244.55497121811, "policy_reward_mean": {}, "timesteps_this_iter": 129498, "custom_metrics": {"cost1_mean": 342.15545537285175, "system_level_velocity_mean": 11.989981612849354, "cost2_max": -60.23172151102971, "outflow_rate_max": 1121.4795808005113, "outflow_rate_mean": 991.5917579349252, "cost1_max": 393.43843119895035, "outflow_rate_min": 409.5466638158353, "system_level_velocity_max": 13.589223931614898, "system_level_velocity_min": 10.355699758896261, "cost2_min": -129.4634758379171, "cost1_min": 109.11593756132866, "cost2_mean": -111.05331869062918}, "episode_reward_max": 876.2167513000195}
{"node_ip": "10.138.0.2", "episode_reward_mean": 736.7807992439915, "time_this_iter_s": 72.41695261001587, "done": false, "episode_len_mean": 735.36, "timestamp": 1557395883, "training_iteration": 119, "experiment_id": "58dd2f5595014063b753971755894587", "time_since_restore": 8316.971923828125, "timesteps_total": 15717545, "pid": 25334, "episodes_this_iter": 65, "date": "2019-05-09_09-58-03", "info": {"sample_time_ms": 39277.795, "grad_time_ms": 30432.778, "num_steps_sampled": 15717545, "update_time_ms": 8.312, "default": {"vf_explained_var": 0.9207422733306885, "cur_kl_coeff": 0.5062499642372131, "vf_loss": 12.282910346984863, "policy_loss": -0.019201645627617836, "cur_lr": 0.0005000000237487257, "kl": 0.01604430191218853, "total_loss": 12.271830558776855, "entropy": 1.6961692571640015}, "load_time_ms": 53.31, "num_steps_trained": 15717545}, "timesteps_since_restore": 15717545, "iterations_since_restore": 119, "config": {"local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "compress_observations": false, "clip_rewards": null, "sample_async": false, "custom_resources_per_worker": {}, "use_gae": true, "vf_share_layers": false, "vf_loss_coeff": 1.0, "optimizer": {}, "simple_optimizer": false, "num_envs_per_worker": 1, "vf_clip_param": 1000000.0, "synchronize_filters": true, "num_cpus_per_worker": 1, "multiagent": {"policy_graphs": {}, "policies_to_train": null, "policy_mapping_fn": null}, "kl_target": 0.01, "clip_actions": false, "input": "sampler", "input_evaluation": null, "entropy_coeff": 0.0, "lr_schedule": null, "sgd_minibatch_size": 128, "callbacks": {"on_sample_end": null, "on_train_result": null, "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7f49896ca9e8>", "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7f49896ca4a8>", "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7f49896ca1d0>"}, "num_cpus_for_driver": 1, "log_level": "INFO", "tf_session_args": {"log_device_placement": false, "gpu_options": {"allow_growth": true}, "intra_op_parallelism_threads": 2, "inter_op_parallelism_threads": 2, "allow_soft_placement": true, "device_count": {"CPU": 1}}, "model": {"dim": 84, "free_log_std": false, "fcnet_hiddens": [128, 64, 32], "custom_model": null, "fcnet_activation": "tanh", "lstm_use_prev_action_reward": false, "grayscale": false, "channel_major": false, "squash_to_range": false, "framestack": true, "use_lstm": false, "conv_activation": "relu", "conv_filters": null, "custom_preprocessor": null, "lstm_cell_size": 256, "zero_mean": true, "custom_options": {}, "max_seq_len": 20}, "lambda": 0.97, "num_gpus_per_worker": 0, "kl_coeff": 0.2, "horizon": 1500, "preprocessor_pref": "deepmind", "env_config": {"run": "PPO", "flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.1,\n            \"eta3\": 0.1,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 7.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 0\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 700,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}"}, "clip_param": 0.3, "observation_filter": "MeanStdFilter", "env": "MultiWaveAttenuationMergePOEnvBufferedObs-v0density_[eta1, eta2, eta3]:[1.0, 0.1, 0.0]_t_min:7.0", "gamma": 0.99, "lr": 0.0005, "monitor": false, "output_compress_columns": ["obs", "new_obs"], "batch_mode": "truncate_episodes", "num_gpus": 0, "num_workers": 30, "output": null, "collect_metrics_timeout": 180, "num_sgd_iter": 10, "sample_batch_size": 750, "output_max_file_size": 67108864, "straggler_mitigation": false, "train_batch_size": 90000}, "num_metric_batches_dropped": 0, "hostname": "flow-main", "episodes_total": 7346, "episode_reward_min": 211.63405471624733, "time_total_s": 8316.971923828125, "policy_reward_mean": {}, "timesteps_this_iter": 129931, "custom_metrics": {"cost1_mean": 334.266870612269, "system_level_velocity_mean": 11.895361499080582, "cost2_max": -57.05424757209774, "outflow_rate_max": 1109.7850517548632, "outflow_rate_mean": 970.3261260582148, "cost1_max": 390.94069981840164, "outflow_rate_min": 417.15798703829233, "system_level_velocity_max": 13.548804808953172, "system_level_velocity_min": 10.382297192428025, "cost2_min": -133.37584066128238, "cost1_min": 112.54933547800877, "cost2_mean": -107.26093522420041}, "episode_reward_max": 893.3033699246104}
{"node_ip": "10.138.0.2", "episode_reward_mean": 737.8483952197794, "time_this_iter_s": 72.05309581756592, "done": false, "episode_len_mean": 735.32, "timestamp": 1557395955, "training_iteration": 120, "experiment_id": "58dd2f5595014063b753971755894587", "time_since_restore": 8389.025019645691, "timesteps_total": 15846749, "pid": 25334, "episodes_this_iter": 63, "date": "2019-05-09_09-59-15", "info": {"sample_time_ms": 39727.329, "grad_time_ms": 30364.543, "num_steps_sampled": 15846749, "update_time_ms": 8.627, "default": {"vf_explained_var": 0.9152955412864685, "cur_kl_coeff": 0.5062499642372131, "vf_loss": 13.034013748168945, "policy_loss": -0.01666436716914177, "cur_lr": 0.0005000000237487257, "kl": 0.01525071356445551, "total_loss": 13.025071144104004, "entropy": 1.7049033641815186}, "load_time_ms": 51.083, "num_steps_trained": 15846749}, "timesteps_since_restore": 15846749, "iterations_since_restore": 120, "config": {"local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "compress_observations": false, "clip_rewards": null, "sample_async": false, "custom_resources_per_worker": {}, "use_gae": true, "vf_share_layers": false, "vf_loss_coeff": 1.0, "optimizer": {}, "simple_optimizer": false, "num_envs_per_worker": 1, "vf_clip_param": 1000000.0, "synchronize_filters": true, "num_cpus_per_worker": 1, "multiagent": {"policy_graphs": {}, "policies_to_train": null, "policy_mapping_fn": null}, "kl_target": 0.01, "clip_actions": false, "input": "sampler", "input_evaluation": null, "entropy_coeff": 0.0, "lr_schedule": null, "sgd_minibatch_size": 128, "callbacks": {"on_sample_end": null, "on_train_result": null, "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7f49896ca278>", "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7f49896ca630>", "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7f49896ca908>"}, "num_cpus_for_driver": 1, "log_level": "INFO", "tf_session_args": {"log_device_placement": false, "gpu_options": {"allow_growth": true}, "intra_op_parallelism_threads": 2, "inter_op_parallelism_threads": 2, "allow_soft_placement": true, "device_count": {"CPU": 1}}, "model": {"dim": 84, "free_log_std": false, "fcnet_hiddens": [128, 64, 32], "custom_model": null, "fcnet_activation": "tanh", "lstm_use_prev_action_reward": false, "grayscale": false, "channel_major": false, "squash_to_range": false, "framestack": true, "use_lstm": false, "conv_activation": "relu", "conv_filters": null, "custom_preprocessor": null, "lstm_cell_size": 256, "zero_mean": true, "custom_options": {}, "max_seq_len": 20}, "lambda": 0.97, "num_gpus_per_worker": 0, "kl_coeff": 0.2, "horizon": 1500, "preprocessor_pref": "deepmind", "env_config": {"run": "PPO", "flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.1,\n            \"eta3\": 0.1,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 7.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 0\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 700,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}"}, "clip_param": 0.3, "observation_filter": "MeanStdFilter", "env": "MultiWaveAttenuationMergePOEnvBufferedObs-v0density_[eta1, eta2, eta3]:[1.0, 0.1, 0.0]_t_min:7.0", "gamma": 0.99, "lr": 0.0005, "monitor": false, "output_compress_columns": ["obs", "new_obs"], "batch_mode": "truncate_episodes", "num_gpus": 0, "num_workers": 30, "output": null, "collect_metrics_timeout": 180, "num_sgd_iter": 10, "sample_batch_size": 750, "output_max_file_size": 67108864, "straggler_mitigation": false, "train_batch_size": 90000}, "num_metric_batches_dropped": 0, "hostname": "flow-main", "episodes_total": 7409, "episode_reward_min": 210.84948694224298, "time_total_s": 8389.025019645691, "policy_reward_mean": {}, "timesteps_this_iter": 129204, "custom_metrics": {"cost1_mean": 334.58719594223004, "system_level_velocity_mean": 11.898452159630917, "cost2_max": -57.05424757209774, "outflow_rate_max": 1129.0068139216573, "outflow_rate_mean": 971.2398948587131, "cost1_max": 400.6931127429834, "outflow_rate_min": 417.15798703829233, "system_level_velocity_max": 13.790087195266825, "system_level_velocity_min": 10.483873239993706, "cost2_min": -136.326350879182, "cost1_min": 112.54933547800877, "cost2_mean": -108.67353462161738}, "episode_reward_max": 932.3789423048519}
{"node_ip": "10.138.0.2", "episode_reward_mean": 751.3033390609105, "time_this_iter_s": 70.15713405609131, "done": false, "episode_len_mean": 739.73, "timestamp": 1557396025, "training_iteration": 121, "experiment_id": "58dd2f5595014063b753971755894587", "time_since_restore": 8459.182153701782, "timesteps_total": 15975046, "pid": 25334, "episodes_this_iter": 63, "date": "2019-05-09_10-00-25", "info": {"sample_time_ms": 39993.705, "grad_time_ms": 30301.772, "num_steps_sampled": 15975046, "update_time_ms": 8.815, "default": {"vf_explained_var": 0.9191024899482727, "cur_kl_coeff": 0.5062499642372131, "vf_loss": 12.41714859008789, "policy_loss": -0.01674843579530716, "cur_lr": 0.0005000000237487257, "kl": 0.015581924468278885, "total_loss": 12.40828800201416, "entropy": 1.695327639579773}, "load_time_ms": 47.502, "num_steps_trained": 15975046}, "timesteps_since_restore": 15975046, "iterations_since_restore": 121, "config": {"local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "compress_observations": false, "clip_rewards": null, "sample_async": false, "custom_resources_per_worker": {}, "use_gae": true, "vf_share_layers": false, "vf_loss_coeff": 1.0, "optimizer": {}, "simple_optimizer": false, "num_envs_per_worker": 1, "vf_clip_param": 1000000.0, "synchronize_filters": true, "num_cpus_per_worker": 1, "multiagent": {"policy_graphs": {}, "policies_to_train": null, "policy_mapping_fn": null}, "kl_target": 0.01, "clip_actions": false, "input": "sampler", "input_evaluation": null, "entropy_coeff": 0.0, "lr_schedule": null, "sgd_minibatch_size": 128, "callbacks": {"on_sample_end": null, "on_train_result": null, "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7f49896c5630>", "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7f49896c5be0>", "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7f49896c56a0>"}, "num_cpus_for_driver": 1, "log_level": "INFO", "tf_session_args": {"log_device_placement": false, "gpu_options": {"allow_growth": true}, "intra_op_parallelism_threads": 2, "inter_op_parallelism_threads": 2, "allow_soft_placement": true, "device_count": {"CPU": 1}}, "model": {"dim": 84, "free_log_std": false, "fcnet_hiddens": [128, 64, 32], "custom_model": null, "fcnet_activation": "tanh", "lstm_use_prev_action_reward": false, "grayscale": false, "channel_major": false, "squash_to_range": false, "framestack": true, "use_lstm": false, "conv_activation": "relu", "conv_filters": null, "custom_preprocessor": null, "lstm_cell_size": 256, "zero_mean": true, "custom_options": {}, "max_seq_len": 20}, "lambda": 0.97, "num_gpus_per_worker": 0, "kl_coeff": 0.2, "horizon": 1500, "preprocessor_pref": "deepmind", "env_config": {"run": "PPO", "flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.1,\n            \"eta3\": 0.1,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 7.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 0\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 700,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}"}, "clip_param": 0.3, "observation_filter": "MeanStdFilter", "env": "MultiWaveAttenuationMergePOEnvBufferedObs-v0density_[eta1, eta2, eta3]:[1.0, 0.1, 0.0]_t_min:7.0", "gamma": 0.99, "lr": 0.0005, "monitor": false, "output_compress_columns": ["obs", "new_obs"], "batch_mode": "truncate_episodes", "num_gpus": 0, "num_workers": 30, "output": null, "collect_metrics_timeout": 180, "num_sgd_iter": 10, "sample_batch_size": 750, "output_max_file_size": 67108864, "straggler_mitigation": false, "train_batch_size": 90000}, "num_metric_batches_dropped": 0, "hostname": "flow-main", "episodes_total": 7472, "episode_reward_min": 210.84948694224298, "time_total_s": 8459.182153701782, "policy_reward_mean": {}, "timesteps_this_iter": 128297, "custom_metrics": {"cost1_mean": 339.3813806155369, "system_level_velocity_mean": 11.977433506956395, "cost2_max": -58.22141970572583, "outflow_rate_max": 1130.4882559168645, "outflow_rate_mean": 984.8861737923997, "cost1_max": 402.7902587555883, "outflow_rate_min": 419.97148074798156, "system_level_velocity_max": 13.931903763203167, "system_level_velocity_min": 10.766231014026003, "cost2_min": -136.326350879182, "cost1_min": 112.85659732341026, "cost2_mean": -110.27770106432699}, "episode_reward_max": 932.3789423048519}
{"node_ip": "10.138.0.2", "episode_reward_mean": 747.638262796556, "time_this_iter_s": 71.55984950065613, "done": false, "episode_len_mean": 749.4, "timestamp": 1557396097, "training_iteration": 122, "experiment_id": "58dd2f5595014063b753971755894587", "time_since_restore": 8530.742003202438, "timesteps_total": 16105724, "pid": 25334, "episodes_this_iter": 64, "date": "2019-05-09_10-01-37", "info": {"sample_time_ms": 40182.762, "grad_time_ms": 30517.588, "num_steps_sampled": 16105724, "update_time_ms": 8.866, "default": {"vf_explained_var": 0.916431188583374, "cur_kl_coeff": 0.5062499642372131, "vf_loss": 12.260250091552734, "policy_loss": -0.017013687640428543, "cur_lr": 0.0005000000237487257, "kl": 0.015632955357432365, "total_loss": 12.251151084899902, "entropy": 1.7061643600463867}, "load_time_ms": 47.711, "num_steps_trained": 16105724}, "timesteps_since_restore": 16105724, "iterations_since_restore": 122, "config": {"local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "compress_observations": false, "clip_rewards": null, "sample_async": false, "custom_resources_per_worker": {}, "use_gae": true, "vf_share_layers": false, "vf_loss_coeff": 1.0, "optimizer": {}, "simple_optimizer": false, "num_envs_per_worker": 1, "vf_clip_param": 1000000.0, "synchronize_filters": true, "num_cpus_per_worker": 1, "multiagent": {"policy_graphs": {}, "policies_to_train": null, "policy_mapping_fn": null}, "kl_target": 0.01, "clip_actions": false, "input": "sampler", "input_evaluation": null, "entropy_coeff": 0.0, "lr_schedule": null, "sgd_minibatch_size": 128, "callbacks": {"on_sample_end": null, "on_train_result": null, "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7f49896ca4e0>", "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7f49896cad30>", "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7f49896ca4a8>"}, "num_cpus_for_driver": 1, "log_level": "INFO", "tf_session_args": {"log_device_placement": false, "gpu_options": {"allow_growth": true}, "intra_op_parallelism_threads": 2, "inter_op_parallelism_threads": 2, "allow_soft_placement": true, "device_count": {"CPU": 1}}, "model": {"dim": 84, "free_log_std": false, "fcnet_hiddens": [128, 64, 32], "custom_model": null, "fcnet_activation": "tanh", "lstm_use_prev_action_reward": false, "grayscale": false, "channel_major": false, "squash_to_range": false, "framestack": true, "use_lstm": false, "conv_activation": "relu", "conv_filters": null, "custom_preprocessor": null, "lstm_cell_size": 256, "zero_mean": true, "custom_options": {}, "max_seq_len": 20}, "lambda": 0.97, "num_gpus_per_worker": 0, "kl_coeff": 0.2, "horizon": 1500, "preprocessor_pref": "deepmind", "env_config": {"run": "PPO", "flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.1,\n            \"eta3\": 0.1,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 7.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 0\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 700,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}"}, "clip_param": 0.3, "observation_filter": "MeanStdFilter", "env": "MultiWaveAttenuationMergePOEnvBufferedObs-v0density_[eta1, eta2, eta3]:[1.0, 0.1, 0.0]_t_min:7.0", "gamma": 0.99, "lr": 0.0005, "monitor": false, "output_compress_columns": ["obs", "new_obs"], "batch_mode": "truncate_episodes", "num_gpus": 0, "num_workers": 30, "output": null, "collect_metrics_timeout": 180, "num_sgd_iter": 10, "sample_batch_size": 750, "output_max_file_size": 67108864, "straggler_mitigation": false, "train_batch_size": 90000}, "num_metric_batches_dropped": 0, "hostname": "flow-main", "episodes_total": 7536, "episode_reward_min": 549.3573521285608, "time_total_s": 8530.742003202438, "policy_reward_mean": {}, "timesteps_this_iter": 130678, "custom_metrics": {"cost1_mean": 338.42262297272714, "system_level_velocity_mean": 11.774786942532181, "cost2_max": -94.31201088895429, "outflow_rate_max": 1119.1157329959963, "outflow_rate_mean": 982.5273261492446, "cost1_max": 394.1404975985404, "outflow_rate_min": 810.295057539576, "system_level_velocity_max": 13.719867186556268, "system_level_velocity_min": 9.756084004852179, "cost2_min": -126.05686068725304, "cost1_min": 258.5330395364342, "cost2_mean": -109.85170787717547}, "episode_reward_max": 905.3010403643125}
{"node_ip": "10.138.0.2", "episode_reward_mean": 741.9636606152011, "time_this_iter_s": 72.12343239784241, "done": false, "episode_len_mean": 743.36, "timestamp": 1557396169, "training_iteration": 123, "experiment_id": "58dd2f5595014063b753971755894587", "time_since_restore": 8602.86543560028, "timesteps_total": 16234998, "pid": 25334, "episodes_this_iter": 63, "date": "2019-05-09_10-02-49", "info": {"sample_time_ms": 40123.958, "grad_time_ms": 30912.741, "num_steps_sampled": 16234998, "update_time_ms": 9.152, "default": {"vf_explained_var": 0.9191926121711731, "cur_kl_coeff": 0.5062499642372131, "vf_loss": 12.123102188110352, "policy_loss": -0.01786147803068161, "cur_lr": 0.0005000000237487257, "kl": 0.01624412275850773, "total_loss": 12.11346435546875, "entropy": 1.7182135581970215}, "load_time_ms": 45.778, "num_steps_trained": 16234998}, "timesteps_since_restore": 16234998, "iterations_since_restore": 123, "config": {"local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "compress_observations": false, "clip_rewards": null, "sample_async": false, "custom_resources_per_worker": {}, "use_gae": true, "vf_share_layers": false, "vf_loss_coeff": 1.0, "optimizer": {}, "simple_optimizer": false, "num_envs_per_worker": 1, "vf_clip_param": 1000000.0, "synchronize_filters": true, "num_cpus_per_worker": 1, "multiagent": {"policy_graphs": {}, "policies_to_train": null, "policy_mapping_fn": null}, "kl_target": 0.01, "clip_actions": false, "input": "sampler", "input_evaluation": null, "entropy_coeff": 0.0, "lr_schedule": null, "sgd_minibatch_size": 128, "callbacks": {"on_sample_end": null, "on_train_result": null, "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7f49896ca198>", "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7f49896ca2e8>", "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7f49896ca160>"}, "num_cpus_for_driver": 1, "log_level": "INFO", "tf_session_args": {"log_device_placement": false, "gpu_options": {"allow_growth": true}, "intra_op_parallelism_threads": 2, "inter_op_parallelism_threads": 2, "allow_soft_placement": true, "device_count": {"CPU": 1}}, "model": {"dim": 84, "free_log_std": false, "fcnet_hiddens": [128, 64, 32], "custom_model": null, "fcnet_activation": "tanh", "lstm_use_prev_action_reward": false, "grayscale": false, "channel_major": false, "squash_to_range": false, "framestack": true, "use_lstm": false, "conv_activation": "relu", "conv_filters": null, "custom_preprocessor": null, "lstm_cell_size": 256, "zero_mean": true, "custom_options": {}, "max_seq_len": 20}, "lambda": 0.97, "num_gpus_per_worker": 0, "kl_coeff": 0.2, "horizon": 1500, "preprocessor_pref": "deepmind", "env_config": {"run": "PPO", "flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.1,\n            \"eta3\": 0.1,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 7.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 0\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 700,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}"}, "clip_param": 0.3, "observation_filter": "MeanStdFilter", "env": "MultiWaveAttenuationMergePOEnvBufferedObs-v0density_[eta1, eta2, eta3]:[1.0, 0.1, 0.0]_t_min:7.0", "gamma": 0.99, "lr": 0.0005, "monitor": false, "output_compress_columns": ["obs", "new_obs"], "batch_mode": "truncate_episodes", "num_gpus": 0, "num_workers": 30, "output": null, "collect_metrics_timeout": 180, "num_sgd_iter": 10, "sample_batch_size": 750, "output_max_file_size": 67108864, "straggler_mitigation": false, "train_batch_size": 90000}, "num_metric_batches_dropped": 0, "hostname": "flow-main", "episodes_total": 7599, "episode_reward_min": 215.92508183236686, "time_total_s": 8602.86543560028, "policy_reward_mean": {}, "timesteps_this_iter": 129274, "custom_metrics": {"cost1_mean": 336.65095788536854, "system_level_velocity_mean": 11.822549425334591, "cost2_max": -59.05959837148316, "outflow_rate_max": 1141.1047861748889, "outflow_rate_mean": 979.0744402599478, "cost1_max": 407.63645438717936, "outflow_rate_min": 424.1252285513163, "system_level_velocity_max": 14.114353587524922, "system_level_velocity_min": 10.033007474430867, "cost2_min": -128.55321170735357, "cost1_min": 114.60578658494116, "cost2_mean": -110.50886138239211}, "episode_reward_max": 909.8607423625539}
{"node_ip": "10.138.0.2", "episode_reward_mean": 742.2756605473187, "time_this_iter_s": 70.6788980960846, "done": false, "episode_len_mean": 739.71, "timestamp": 1557396240, "training_iteration": 124, "experiment_id": "58dd2f5595014063b753971755894587", "time_since_restore": 8673.544333696365, "timesteps_total": 16365695, "pid": 25334, "episodes_this_iter": 63, "date": "2019-05-09_10-04-00", "info": {"sample_time_ms": 39896.109, "grad_time_ms": 31205.824, "num_steps_sampled": 16365695, "update_time_ms": 9.352, "default": {"vf_explained_var": 0.9185085892677307, "cur_kl_coeff": 0.5062499046325684, "vf_loss": 11.970813751220703, "policy_loss": -0.018043579533696175, "cur_lr": 0.0005000000237487257, "kl": 0.01565033383667469, "total_loss": 11.960692405700684, "entropy": 1.717360496520996}, "load_time_ms": 41.922, "num_steps_trained": 16365695}, "timesteps_since_restore": 16365695, "iterations_since_restore": 124, "config": {"local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "compress_observations": false, "clip_rewards": null, "sample_async": false, "custom_resources_per_worker": {}, "use_gae": true, "vf_share_layers": false, "vf_loss_coeff": 1.0, "optimizer": {}, "simple_optimizer": false, "num_envs_per_worker": 1, "vf_clip_param": 1000000.0, "synchronize_filters": true, "num_cpus_per_worker": 1, "multiagent": {"policy_graphs": {}, "policies_to_train": null, "policy_mapping_fn": null}, "kl_target": 0.01, "clip_actions": false, "input": "sampler", "input_evaluation": null, "entropy_coeff": 0.0, "lr_schedule": null, "sgd_minibatch_size": 128, "callbacks": {"on_sample_end": null, "on_train_result": null, "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7f49896caba8>", "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7f49896cab70>", "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7f49896caac8>"}, "num_cpus_for_driver": 1, "log_level": "INFO", "tf_session_args": {"log_device_placement": false, "gpu_options": {"allow_growth": true}, "intra_op_parallelism_threads": 2, "inter_op_parallelism_threads": 2, "allow_soft_placement": true, "device_count": {"CPU": 1}}, "model": {"dim": 84, "free_log_std": false, "fcnet_hiddens": [128, 64, 32], "custom_model": null, "fcnet_activation": "tanh", "lstm_use_prev_action_reward": false, "grayscale": false, "channel_major": false, "squash_to_range": false, "framestack": true, "use_lstm": false, "conv_activation": "relu", "conv_filters": null, "custom_preprocessor": null, "lstm_cell_size": 256, "zero_mean": true, "custom_options": {}, "max_seq_len": 20}, "lambda": 0.97, "num_gpus_per_worker": 0, "kl_coeff": 0.2, "horizon": 1500, "preprocessor_pref": "deepmind", "env_config": {"run": "PPO", "flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.1,\n            \"eta3\": 0.1,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 7.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 0\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 700,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}"}, "clip_param": 0.3, "observation_filter": "MeanStdFilter", "env": "MultiWaveAttenuationMergePOEnvBufferedObs-v0density_[eta1, eta2, eta3]:[1.0, 0.1, 0.0]_t_min:7.0", "gamma": 0.99, "lr": 0.0005, "monitor": false, "output_compress_columns": ["obs", "new_obs"], "batch_mode": "truncate_episodes", "num_gpus": 0, "num_workers": 30, "output": null, "collect_metrics_timeout": 180, "num_sgd_iter": 10, "sample_batch_size": 750, "output_max_file_size": 67108864, "straggler_mitigation": false, "train_batch_size": 90000}, "num_metric_batches_dropped": 0, "hostname": "flow-main", "episodes_total": 7662, "episode_reward_min": 210.12201275943198, "time_total_s": 8673.544333696365, "policy_reward_mean": {}, "timesteps_this_iter": 130697, "custom_metrics": {"cost1_mean": 335.9171870116073, "system_level_velocity_mean": 11.872355613516197, "cost2_max": -59.05959837148316, "outflow_rate_max": 1141.1047861748889, "outflow_rate_mean": 975.6404397352374, "cost1_max": 407.63645438717936, "outflow_rate_min": 424.1252285513163, "system_level_velocity_max": 14.114353587524922, "system_level_velocity_min": 10.033007474430867, "cost2_min": -135.33806673988875, "cost1_min": 114.60578658494116, "cost2_mean": -110.27542490882706}, "episode_reward_max": 909.8607423625539}
{"node_ip": "10.138.0.2", "episode_reward_mean": 746.499969714425, "time_this_iter_s": 68.07013273239136, "done": false, "episode_len_mean": 751.0, "timestamp": 1557396308, "training_iteration": 125, "experiment_id": "58dd2f5595014063b753971755894587", "time_since_restore": 8741.614466428757, "timesteps_total": 16494219, "pid": 25334, "episodes_this_iter": 62, "date": "2019-05-09_10-05-08", "info": {"sample_time_ms": 39272.604, "grad_time_ms": 31680.744, "num_steps_sampled": 16494219, "update_time_ms": 9.369, "default": {"vf_explained_var": 0.9280626773834229, "cur_kl_coeff": 0.5062499642372131, "vf_loss": 10.800335884094238, "policy_loss": -0.017438553273677826, "cur_lr": 0.0005000000237487257, "kl": 0.015773296356201172, "total_loss": 10.79088306427002, "entropy": 1.71585214138031}, "load_time_ms": 40.998, "num_steps_trained": 16494219}, "timesteps_since_restore": 16494219, "iterations_since_restore": 125, "config": {"local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "compress_observations": false, "clip_rewards": null, "sample_async": false, "custom_resources_per_worker": {}, "use_gae": true, "vf_share_layers": false, "vf_loss_coeff": 1.0, "optimizer": {}, "simple_optimizer": false, "num_envs_per_worker": 1, "vf_clip_param": 1000000.0, "synchronize_filters": true, "num_cpus_per_worker": 1, "multiagent": {"policy_graphs": {}, "policies_to_train": null, "policy_mapping_fn": null}, "kl_target": 0.01, "clip_actions": false, "input": "sampler", "input_evaluation": null, "entropy_coeff": 0.0, "lr_schedule": null, "sgd_minibatch_size": 128, "callbacks": {"on_sample_end": null, "on_train_result": null, "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7f49896b1e80>", "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7f49896b19b0>", "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7f49896b14a8>"}, "num_cpus_for_driver": 1, "log_level": "INFO", "tf_session_args": {"log_device_placement": false, "gpu_options": {"allow_growth": true}, "intra_op_parallelism_threads": 2, "inter_op_parallelism_threads": 2, "allow_soft_placement": true, "device_count": {"CPU": 1}}, "model": {"dim": 84, "free_log_std": false, "fcnet_hiddens": [128, 64, 32], "custom_model": null, "fcnet_activation": "tanh", "lstm_use_prev_action_reward": false, "grayscale": false, "channel_major": false, "squash_to_range": false, "framestack": true, "use_lstm": false, "conv_activation": "relu", "conv_filters": null, "custom_preprocessor": null, "lstm_cell_size": 256, "zero_mean": true, "custom_options": {}, "max_seq_len": 20}, "lambda": 0.97, "num_gpus_per_worker": 0, "kl_coeff": 0.2, "horizon": 1500, "preprocessor_pref": "deepmind", "env_config": {"run": "PPO", "flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.1,\n            \"eta3\": 0.1,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 7.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 0\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 700,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}"}, "clip_param": 0.3, "observation_filter": "MeanStdFilter", "env": "MultiWaveAttenuationMergePOEnvBufferedObs-v0density_[eta1, eta2, eta3]:[1.0, 0.1, 0.0]_t_min:7.0", "gamma": 0.99, "lr": 0.0005, "monitor": false, "output_compress_columns": ["obs", "new_obs"], "batch_mode": "truncate_episodes", "num_gpus": 0, "num_workers": 30, "output": null, "collect_metrics_timeout": 180, "num_sgd_iter": 10, "sample_batch_size": 750, "output_max_file_size": 67108864, "straggler_mitigation": false, "train_batch_size": 90000}, "num_metric_batches_dropped": 0, "hostname": "flow-main", "episodes_total": 7724, "episode_reward_min": 664.3715384825789, "time_total_s": 8741.614466428757, "policy_reward_mean": {}, "timesteps_this_iter": 128524, "custom_metrics": {"cost1_mean": 340.9704374640982, "system_level_velocity_mean": 11.853554640726081, "cost2_max": -95.51990866380487, "outflow_rate_max": 1135.878074110035, "outflow_rate_mean": 988.6809914721597, "cost1_max": 408.70898403300885, "outflow_rate_min": 854.7843941965182, "system_level_velocity_max": 14.077192646296945, "system_level_velocity_min": 10.267310879777964, "cost2_min": -135.33806673988875, "cost1_min": 294.06675732635387, "cost2_mean": -109.85018502296654}, "episode_reward_max": 930.5474171336117}
{"node_ip": "10.138.0.2", "episode_reward_mean": 738.7525514164422, "time_this_iter_s": 66.8443717956543, "done": false, "episode_len_mean": 749.38, "timestamp": 1557396375, "training_iteration": 126, "experiment_id": "58dd2f5595014063b753971755894587", "time_since_restore": 8808.458838224411, "timesteps_total": 16623177, "pid": 25334, "episodes_this_iter": 62, "date": "2019-05-09_10-06-15", "info": {"sample_time_ms": 38744.509, "grad_time_ms": 31769.195, "num_steps_sampled": 16623177, "update_time_ms": 9.379, "default": {"vf_explained_var": 0.9191096425056458, "cur_kl_coeff": 0.5062499642372131, "vf_loss": 11.262606620788574, "policy_loss": -0.017387639731168747, "cur_lr": 0.0005000000237487257, "kl": 0.01639639213681221, "total_loss": 11.253520011901855, "entropy": 1.735147476196289}, "load_time_ms": 42.41, "num_steps_trained": 16623177}, "timesteps_since_restore": 16623177, "iterations_since_restore": 126, "config": {"local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "compress_observations": false, "clip_rewards": null, "sample_async": false, "custom_resources_per_worker": {}, "use_gae": true, "vf_share_layers": false, "vf_loss_coeff": 1.0, "optimizer": {}, "simple_optimizer": false, "num_envs_per_worker": 1, "vf_clip_param": 1000000.0, "synchronize_filters": true, "num_cpus_per_worker": 1, "multiagent": {"policy_graphs": {}, "policies_to_train": null, "policy_mapping_fn": null}, "kl_target": 0.01, "clip_actions": false, "input": "sampler", "input_evaluation": null, "entropy_coeff": 0.0, "lr_schedule": null, "sgd_minibatch_size": 128, "callbacks": {"on_sample_end": null, "on_train_result": null, "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7f49896bf7f0>", "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7f49896bff28>", "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7f49896bf2b0>"}, "num_cpus_for_driver": 1, "log_level": "INFO", "tf_session_args": {"log_device_placement": false, "gpu_options": {"allow_growth": true}, "intra_op_parallelism_threads": 2, "inter_op_parallelism_threads": 2, "allow_soft_placement": true, "device_count": {"CPU": 1}}, "model": {"dim": 84, "free_log_std": false, "fcnet_hiddens": [128, 64, 32], "custom_model": null, "fcnet_activation": "tanh", "lstm_use_prev_action_reward": false, "grayscale": false, "channel_major": false, "squash_to_range": false, "framestack": true, "use_lstm": false, "conv_activation": "relu", "conv_filters": null, "custom_preprocessor": null, "lstm_cell_size": 256, "zero_mean": true, "custom_options": {}, "max_seq_len": 20}, "lambda": 0.97, "num_gpus_per_worker": 0, "kl_coeff": 0.2, "horizon": 1500, "preprocessor_pref": "deepmind", "env_config": {"run": "PPO", "flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.1,\n            \"eta3\": 0.1,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 7.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 0\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 700,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}"}, "clip_param": 0.3, "observation_filter": "MeanStdFilter", "env": "MultiWaveAttenuationMergePOEnvBufferedObs-v0density_[eta1, eta2, eta3]:[1.0, 0.1, 0.0]_t_min:7.0", "gamma": 0.99, "lr": 0.0005, "monitor": false, "output_compress_columns": ["obs", "new_obs"], "batch_mode": "truncate_episodes", "num_gpus": 0, "num_workers": 30, "output": null, "collect_metrics_timeout": 180, "num_sgd_iter": 10, "sample_batch_size": 750, "output_max_file_size": 67108864, "straggler_mitigation": false, "train_batch_size": 90000}, "num_metric_batches_dropped": 0, "hostname": "flow-main", "episodes_total": 7786, "episode_reward_min": 576.3689991586041, "time_total_s": 8808.458838224411, "policy_reward_mean": {}, "timesteps_this_iter": 128958, "custom_metrics": {"cost1_mean": 335.9458694155804, "system_level_velocity_mean": 11.708130275063882, "cost2_max": -91.36953552164798, "outflow_rate_max": 1135.878074110035, "outflow_rate_mean": 974.0219304792436, "cost1_max": 408.70898403300885, "outflow_rate_min": 816.2532901621599, "system_level_velocity_max": 14.077192646296945, "system_level_velocity_min": 9.309606925804106, "cost2_min": -133.0759651635795, "cost1_min": 266.37916504457274, "cost2_mean": -107.52592824227182}, "episode_reward_max": 930.5474171336117}
{"node_ip": "10.138.0.2", "episode_reward_mean": 738.8042771036017, "time_this_iter_s": 68.40694189071655, "done": false, "episode_len_mean": 748.55, "timestamp": 1557396443, "training_iteration": 127, "experiment_id": "58dd2f5595014063b753971755894587", "time_since_restore": 8876.865780115128, "timesteps_total": 16752821, "pid": 25334, "episodes_this_iter": 62, "date": "2019-05-09_10-07-23", "info": {"sample_time_ms": 38270.549, "grad_time_ms": 31941.29, "num_steps_sampled": 16752821, "update_time_ms": 9.248, "default": {"vf_explained_var": 0.9157407283782959, "cur_kl_coeff": 0.5062499642372131, "vf_loss": 11.411065101623535, "policy_loss": -0.01821161061525345, "cur_lr": 0.0005000000237487257, "kl": 0.01604403741657734, "total_loss": 11.400976181030273, "entropy": 1.7415285110473633}, "load_time_ms": 40.376, "num_steps_trained": 16752821}, "timesteps_since_restore": 16752821, "iterations_since_restore": 127, "config": {"local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "compress_observations": false, "clip_rewards": null, "sample_async": false, "custom_resources_per_worker": {}, "use_gae": true, "vf_share_layers": false, "vf_loss_coeff": 1.0, "optimizer": {}, "simple_optimizer": false, "num_envs_per_worker": 1, "vf_clip_param": 1000000.0, "synchronize_filters": true, "num_cpus_per_worker": 1, "multiagent": {"policy_graphs": {}, "policies_to_train": null, "policy_mapping_fn": null}, "kl_target": 0.01, "clip_actions": false, "input": "sampler", "input_evaluation": null, "entropy_coeff": 0.0, "lr_schedule": null, "sgd_minibatch_size": 128, "callbacks": {"on_sample_end": null, "on_train_result": null, "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7f498a9225c0>", "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7f49896b1c88>", "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7f49896b1c18>"}, "num_cpus_for_driver": 1, "log_level": "INFO", "tf_session_args": {"log_device_placement": false, "gpu_options": {"allow_growth": true}, "intra_op_parallelism_threads": 2, "inter_op_parallelism_threads": 2, "allow_soft_placement": true, "device_count": {"CPU": 1}}, "model": {"dim": 84, "free_log_std": false, "fcnet_hiddens": [128, 64, 32], "custom_model": null, "fcnet_activation": "tanh", "lstm_use_prev_action_reward": false, "grayscale": false, "channel_major": false, "squash_to_range": false, "framestack": true, "use_lstm": false, "conv_activation": "relu", "conv_filters": null, "custom_preprocessor": null, "lstm_cell_size": 256, "zero_mean": true, "custom_options": {}, "max_seq_len": 20}, "lambda": 0.97, "num_gpus_per_worker": 0, "kl_coeff": 0.2, "horizon": 1500, "preprocessor_pref": "deepmind", "env_config": {"run": "PPO", "flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.1,\n            \"eta3\": 0.1,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 7.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 0\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 700,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}"}, "clip_param": 0.3, "observation_filter": "MeanStdFilter", "env": "MultiWaveAttenuationMergePOEnvBufferedObs-v0density_[eta1, eta2, eta3]:[1.0, 0.1, 0.0]_t_min:7.0", "gamma": 0.99, "lr": 0.0005, "monitor": false, "output_compress_columns": ["obs", "new_obs"], "batch_mode": "truncate_episodes", "num_gpus": 0, "num_workers": 30, "output": null, "collect_metrics_timeout": 180, "num_sgd_iter": 10, "sample_batch_size": 750, "output_max_file_size": 67108864, "straggler_mitigation": false, "train_batch_size": 90000}, "num_metric_batches_dropped": 0, "hostname": "flow-main", "episodes_total": 7848, "episode_reward_min": 576.3689991586041, "time_total_s": 8876.865780115128, "policy_reward_mean": {}, "timesteps_this_iter": 129644, "custom_metrics": {"cost1_mean": 332.76828269187735, "system_level_velocity_mean": 11.604430956401707, "cost2_max": -87.8344149713113, "outflow_rate_max": 1124.303661499914, "outflow_rate_mean": 967.2079793225254, "cost1_max": 400.91057168238456, "outflow_rate_min": 801.8966509727948, "system_level_velocity_max": 13.854488670922303, "system_level_velocity_min": 9.099859357510336, "cost2_min": -133.29426503032153, "cost1_min": 260.2304265028447, "cost2_mean": -107.59026639073845}, "episode_reward_max": 923.8091498982224}
{"node_ip": "10.138.0.2", "episode_reward_mean": 741.8057291601948, "time_this_iter_s": 69.23841619491577, "done": false, "episode_len_mean": 748.49, "timestamp": 1557396512, "training_iteration": 128, "experiment_id": "58dd2f5595014063b753971755894587", "time_since_restore": 8946.104196310043, "timesteps_total": 16881302, "pid": 25334, "episodes_this_iter": 63, "date": "2019-05-09_10-08-32", "info": {"sample_time_ms": 38031.199, "grad_time_ms": 31841.855, "num_steps_sampled": 16881302, "update_time_ms": 9.41, "default": {"vf_explained_var": 0.9126685857772827, "cur_kl_coeff": 0.5062499642372131, "vf_loss": 12.062918663024902, "policy_loss": -0.017961133271455765, "cur_lr": 0.0005000000237487257, "kl": 0.015652641654014587, "total_loss": 12.052882194519043, "entropy": 1.7349604368209839}, "load_time_ms": 40.227, "num_steps_trained": 16881302}, "timesteps_since_restore": 16881302, "iterations_since_restore": 128, "config": {"local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "compress_observations": false, "clip_rewards": null, "sample_async": false, "custom_resources_per_worker": {}, "use_gae": true, "vf_share_layers": false, "vf_loss_coeff": 1.0, "optimizer": {}, "simple_optimizer": false, "num_envs_per_worker": 1, "vf_clip_param": 1000000.0, "synchronize_filters": true, "num_cpus_per_worker": 1, "multiagent": {"policy_graphs": {}, "policies_to_train": null, "policy_mapping_fn": null}, "kl_target": 0.01, "clip_actions": false, "input": "sampler", "input_evaluation": null, "entropy_coeff": 0.0, "lr_schedule": null, "sgd_minibatch_size": 128, "callbacks": {"on_sample_end": null, "on_train_result": null, "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7f49896c9860>", "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7f49896c97f0>", "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7f49896c9780>"}, "num_cpus_for_driver": 1, "log_level": "INFO", "tf_session_args": {"log_device_placement": false, "gpu_options": {"allow_growth": true}, "intra_op_parallelism_threads": 2, "inter_op_parallelism_threads": 2, "allow_soft_placement": true, "device_count": {"CPU": 1}}, "model": {"dim": 84, "free_log_std": false, "fcnet_hiddens": [128, 64, 32], "custom_model": null, "fcnet_activation": "tanh", "lstm_use_prev_action_reward": false, "grayscale": false, "channel_major": false, "squash_to_range": false, "framestack": true, "use_lstm": false, "conv_activation": "relu", "conv_filters": null, "custom_preprocessor": null, "lstm_cell_size": 256, "zero_mean": true, "custom_options": {}, "max_seq_len": 20}, "lambda": 0.97, "num_gpus_per_worker": 0, "kl_coeff": 0.2, "horizon": 1500, "preprocessor_pref": "deepmind", "env_config": {"run": "PPO", "flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.1,\n            \"eta3\": 0.1,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 7.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 0\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 700,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}"}, "clip_param": 0.3, "observation_filter": "MeanStdFilter", "env": "MultiWaveAttenuationMergePOEnvBufferedObs-v0density_[eta1, eta2, eta3]:[1.0, 0.1, 0.0]_t_min:7.0", "gamma": 0.99, "lr": 0.0005, "monitor": false, "output_compress_columns": ["obs", "new_obs"], "batch_mode": "truncate_episodes", "num_gpus": 0, "num_workers": 30, "output": null, "collect_metrics_timeout": 180, "num_sgd_iter": 10, "sample_batch_size": 750, "output_max_file_size": 67108864, "straggler_mitigation": false, "train_batch_size": 90000}, "num_metric_batches_dropped": 0, "hostname": "flow-main", "episodes_total": 7911, "episode_reward_min": 513.5691250574947, "time_total_s": 8946.104196310043, "policy_reward_mean": {}, "timesteps_this_iter": 128481, "custom_metrics": {"cost1_mean": 333.2863507558517, "system_level_velocity_mean": 11.622777375189742, "cost2_max": -85.929035983449, "outflow_rate_max": 1120.4414453330548, "outflow_rate_mean": 967.5842769521481, "cost1_max": 392.0012084677901, "outflow_rate_min": 676.0151297533995, "system_level_velocity_max": 13.488188148965499, "system_level_velocity_min": 9.099859357510336, "cost2_min": -133.29426503032153, "cost1_min": 233.80608478777134, "cost2_mean": -106.25993144116012}, "episode_reward_max": 877.3097399655959}
{"node_ip": "10.138.0.2", "episode_reward_mean": 732.6855452870503, "time_this_iter_s": 69.39896631240845, "done": false, "episode_len_mean": 737.95, "timestamp": 1557396582, "training_iteration": 129, "experiment_id": "58dd2f5595014063b753971755894587", "time_since_restore": 9015.503162622452, "timesteps_total": 17011070, "pid": 25334, "episodes_this_iter": 64, "date": "2019-05-09_10-09-42", "info": {"sample_time_ms": 37834.118, "grad_time_ms": 31733.9, "num_steps_sampled": 17011070, "update_time_ms": 9.451, "default": {"vf_explained_var": 0.9135524034500122, "cur_kl_coeff": 0.5062499046325684, "vf_loss": 11.721206665039062, "policy_loss": -0.017276130616664886, "cur_lr": 0.0005000000237487257, "kl": 0.01664549671113491, "total_loss": 11.712357521057129, "entropy": 1.74068284034729}, "load_time_ms": 41.189, "num_steps_trained": 17011070}, "timesteps_since_restore": 17011070, "iterations_since_restore": 129, "config": {"local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "compress_observations": false, "clip_rewards": null, "sample_async": false, "custom_resources_per_worker": {}, "use_gae": true, "vf_share_layers": false, "vf_loss_coeff": 1.0, "optimizer": {}, "simple_optimizer": false, "num_envs_per_worker": 1, "vf_clip_param": 1000000.0, "synchronize_filters": true, "num_cpus_per_worker": 1, "multiagent": {"policy_graphs": {}, "policies_to_train": null, "policy_mapping_fn": null}, "kl_target": 0.01, "clip_actions": false, "input": "sampler", "input_evaluation": null, "entropy_coeff": 0.0, "lr_schedule": null, "sgd_minibatch_size": 128, "callbacks": {"on_sample_end": null, "on_train_result": null, "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7f49896bfac8>", "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7f49896bffd0>", "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7f49896bf9b0>"}, "num_cpus_for_driver": 1, "log_level": "INFO", "tf_session_args": {"log_device_placement": false, "gpu_options": {"allow_growth": true}, "intra_op_parallelism_threads": 2, "inter_op_parallelism_threads": 2, "allow_soft_placement": true, "device_count": {"CPU": 1}}, "model": {"dim": 84, "free_log_std": false, "fcnet_hiddens": [128, 64, 32], "custom_model": null, "fcnet_activation": "tanh", "lstm_use_prev_action_reward": false, "grayscale": false, "channel_major": false, "squash_to_range": false, "framestack": true, "use_lstm": false, "conv_activation": "relu", "conv_filters": null, "custom_preprocessor": null, "lstm_cell_size": 256, "zero_mean": true, "custom_options": {}, "max_seq_len": 20}, "lambda": 0.97, "num_gpus_per_worker": 0, "kl_coeff": 0.2, "horizon": 1500, "preprocessor_pref": "deepmind", "env_config": {"run": "PPO", "flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.1,\n            \"eta3\": 0.1,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 7.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 0\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 700,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}"}, "clip_param": 0.3, "observation_filter": "MeanStdFilter", "env": "MultiWaveAttenuationMergePOEnvBufferedObs-v0density_[eta1, eta2, eta3]:[1.0, 0.1, 0.0]_t_min:7.0", "gamma": 0.99, "lr": 0.0005, "monitor": false, "output_compress_columns": ["obs", "new_obs"], "batch_mode": "truncate_episodes", "num_gpus": 0, "num_workers": 30, "output": null, "collect_metrics_timeout": 180, "num_sgd_iter": 10, "sample_batch_size": 750, "output_max_file_size": 67108864, "straggler_mitigation": false, "train_batch_size": 90000}, "num_metric_batches_dropped": 0, "hostname": "flow-main", "episodes_total": 7975, "episode_reward_min": 205.8738972475418, "time_total_s": 9015.503162622452, "policy_reward_mean": {}, "timesteps_this_iter": 129768, "custom_metrics": {"cost1_mean": 331.08201753210153, "system_level_velocity_mean": 11.732896257006594, "cost2_max": -54.07199242214202, "outflow_rate_max": 1108.2066584798904, "outflow_rate_mean": 961.550800107367, "cost1_max": 391.21348594104876, "outflow_rate_min": 401.8626403958234, "system_level_velocity_max": 13.477517776311918, "system_level_velocity_min": 10.673120731344008, "cost2_min": -122.21014818360666, "cost1_min": 107.5749140902886, "cost2_mean": -103.23141844325541}, "episode_reward_max": 904.1369835148924}
{"node_ip": "10.138.0.2", "episode_reward_mean": 733.1947324720036, "time_this_iter_s": 69.5741958618164, "done": false, "episode_len_mean": 740.46, "timestamp": 1557396651, "training_iteration": 130, "experiment_id": "58dd2f5595014063b753971755894587", "time_since_restore": 9085.077358484268, "timesteps_total": 17141932, "pid": 25334, "episodes_this_iter": 63, "date": "2019-05-09_10-10-51", "info": {"sample_time_ms": 37672.35, "grad_time_ms": 31647.936, "num_steps_sampled": 17141932, "update_time_ms": 9.135, "default": {"vf_explained_var": 0.9122958183288574, "cur_kl_coeff": 0.5062499642372131, "vf_loss": 11.65737533569336, "policy_loss": -0.0172744058072567, "cur_lr": 0.0005000000237487257, "kl": 0.016738271340727806, "total_loss": 11.648574829101562, "entropy": 1.7483062744140625}, "load_time_ms": 42.489, "num_steps_trained": 17141932}, "timesteps_since_restore": 17141932, "iterations_since_restore": 130, "config": {"local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "compress_observations": false, "clip_rewards": null, "sample_async": false, "custom_resources_per_worker": {}, "use_gae": true, "vf_share_layers": false, "vf_loss_coeff": 1.0, "optimizer": {}, "simple_optimizer": false, "num_envs_per_worker": 1, "vf_clip_param": 1000000.0, "synchronize_filters": true, "num_cpus_per_worker": 1, "multiagent": {"policy_graphs": {}, "policies_to_train": null, "policy_mapping_fn": null}, "kl_target": 0.01, "clip_actions": false, "input": "sampler", "input_evaluation": null, "entropy_coeff": 0.0, "lr_schedule": null, "sgd_minibatch_size": 128, "callbacks": {"on_sample_end": null, "on_train_result": null, "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7f49896c9e10>", "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7f49896c9c88>", "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7f49896c9fd0>"}, "num_cpus_for_driver": 1, "log_level": "INFO", "tf_session_args": {"log_device_placement": false, "gpu_options": {"allow_growth": true}, "intra_op_parallelism_threads": 2, "inter_op_parallelism_threads": 2, "allow_soft_placement": true, "device_count": {"CPU": 1}}, "model": {"dim": 84, "free_log_std": false, "fcnet_hiddens": [128, 64, 32], "custom_model": null, "fcnet_activation": "tanh", "lstm_use_prev_action_reward": false, "grayscale": false, "channel_major": false, "squash_to_range": false, "framestack": true, "use_lstm": false, "conv_activation": "relu", "conv_filters": null, "custom_preprocessor": null, "lstm_cell_size": 256, "zero_mean": true, "custom_options": {}, "max_seq_len": 20}, "lambda": 0.97, "num_gpus_per_worker": 0, "kl_coeff": 0.2, "horizon": 1500, "preprocessor_pref": "deepmind", "env_config": {"run": "PPO", "flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.1,\n            \"eta3\": 0.1,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 7.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 0\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 700,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}"}, "clip_param": 0.3, "observation_filter": "MeanStdFilter", "env": "MultiWaveAttenuationMergePOEnvBufferedObs-v0density_[eta1, eta2, eta3]:[1.0, 0.1, 0.0]_t_min:7.0", "gamma": 0.99, "lr": 0.0005, "monitor": false, "output_compress_columns": ["obs", "new_obs"], "batch_mode": "truncate_episodes", "num_gpus": 0, "num_workers": 30, "output": null, "collect_metrics_timeout": 180, "num_sgd_iter": 10, "sample_batch_size": 750, "output_max_file_size": 67108864, "straggler_mitigation": false, "train_batch_size": 90000}, "num_metric_batches_dropped": 0, "hostname": "flow-main", "episodes_total": 8038, "episode_reward_min": 205.8738972475418, "time_total_s": 9085.077358484268, "policy_reward_mean": {}, "timesteps_this_iter": 130862, "custom_metrics": {"cost1_mean": 333.21030105409886, "system_level_velocity_mean": 11.766236834337546, "cost2_max": -54.07199242214202, "outflow_rate_max": 1102.360516175809, "outflow_rate_mean": 969.269937696637, "cost1_max": 387.68539508522883, "outflow_rate_min": 401.8626403958234, "system_level_velocity_max": 13.383728693355202, "system_level_velocity_min": 10.49202405009978, "cost2_min": -133.03355676884848, "cost1_min": 107.5749140902886, "cost2_mean": -104.63273446802857}, "episode_reward_max": 882.1295390615988}
{"node_ip": "10.138.0.2", "episode_reward_mean": 750.1245348794407, "time_this_iter_s": 72.3719596862793, "done": false, "episode_len_mean": 751.0, "timestamp": 1557396724, "training_iteration": 131, "experiment_id": "58dd2f5595014063b753971755894587", "time_since_restore": 9157.449318170547, "timesteps_total": 17272989, "pid": 25334, "episodes_this_iter": 63, "date": "2019-05-09_10-12-04", "info": {"sample_time_ms": 37826.545, "grad_time_ms": 31709.919, "num_steps_sampled": 17272989, "update_time_ms": 9.02, "default": {"vf_explained_var": 0.9125096201896667, "cur_kl_coeff": 0.5062499046325684, "vf_loss": 11.296137809753418, "policy_loss": -0.017483951523900032, "cur_lr": 0.0005000000237487257, "kl": 0.015900015830993652, "total_loss": 11.286704063415527, "entropy": 1.7420010566711426}, "load_time_ms": 44.965, "num_steps_trained": 17272989}, "timesteps_since_restore": 17272989, "iterations_since_restore": 131, "config": {"local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "compress_observations": false, "clip_rewards": null, "sample_async": false, "custom_resources_per_worker": {}, "use_gae": true, "vf_share_layers": false, "vf_loss_coeff": 1.0, "optimizer": {}, "simple_optimizer": false, "num_envs_per_worker": 1, "vf_clip_param": 1000000.0, "synchronize_filters": true, "num_cpus_per_worker": 1, "multiagent": {"policy_graphs": {}, "policies_to_train": null, "policy_mapping_fn": null}, "kl_target": 0.01, "clip_actions": false, "input": "sampler", "input_evaluation": null, "entropy_coeff": 0.0, "lr_schedule": null, "sgd_minibatch_size": 128, "callbacks": {"on_sample_end": null, "on_train_result": null, "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7f49896c9908>", "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7f49896c9438>", "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7f49896c98d0>"}, "num_cpus_for_driver": 1, "log_level": "INFO", "tf_session_args": {"log_device_placement": false, "gpu_options": {"allow_growth": true}, "intra_op_parallelism_threads": 2, "inter_op_parallelism_threads": 2, "allow_soft_placement": true, "device_count": {"CPU": 1}}, "model": {"dim": 84, "free_log_std": false, "fcnet_hiddens": [128, 64, 32], "custom_model": null, "fcnet_activation": "tanh", "lstm_use_prev_action_reward": false, "grayscale": false, "channel_major": false, "squash_to_range": false, "framestack": true, "use_lstm": false, "conv_activation": "relu", "conv_filters": null, "custom_preprocessor": null, "lstm_cell_size": 256, "zero_mean": true, "custom_options": {}, "max_seq_len": 20}, "lambda": 0.97, "num_gpus_per_worker": 0, "kl_coeff": 0.2, "horizon": 1500, "preprocessor_pref": "deepmind", "env_config": {"run": "PPO", "flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.1,\n            \"eta3\": 0.1,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 7.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 0\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 700,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}"}, "clip_param": 0.3, "observation_filter": "MeanStdFilter", "env": "MultiWaveAttenuationMergePOEnvBufferedObs-v0density_[eta1, eta2, eta3]:[1.0, 0.1, 0.0]_t_min:7.0", "gamma": 0.99, "lr": 0.0005, "monitor": false, "output_compress_columns": ["obs", "new_obs"], "batch_mode": "truncate_episodes", "num_gpus": 0, "num_workers": 30, "output": null, "collect_metrics_timeout": 180, "num_sgd_iter": 10, "sample_batch_size": 750, "output_max_file_size": 67108864, "straggler_mitigation": false, "train_batch_size": 90000}, "num_metric_batches_dropped": 0, "hostname": "flow-main", "episodes_total": 8101, "episode_reward_min": 644.7042662946228, "time_total_s": 9157.449318170547, "policy_reward_mean": {}, "timesteps_this_iter": 131057, "custom_metrics": {"cost1_mean": 337.1185330726012, "system_level_velocity_mean": 11.70442015434122, "cost2_max": -88.95531458323089, "outflow_rate_max": 1103.8896965071215, "outflow_rate_mean": 977.3596353397776, "cost1_max": 394.1398162263056, "outflow_rate_min": 833.3397433454371, "system_level_velocity_max": 13.628453689270755, "system_level_velocity_min": 9.659270648043433, "cost2_min": -133.03355676884848, "cost1_min": 278.73532331357, "cost2_mean": -107.4414203435015}, "episode_reward_max": 918.1301245060081}
{"node_ip": "10.138.0.2", "episode_reward_mean": 749.7117495719009, "time_this_iter_s": 72.92529082298279, "done": false, "episode_len_mean": 751.0, "timestamp": 1557396797, "training_iteration": 132, "experiment_id": "58dd2f5595014063b753971755894587", "time_since_restore": 9230.37460899353, "timesteps_total": 17403705, "pid": 25334, "episodes_this_iter": 62, "date": "2019-05-09_10-13-17", "info": {"sample_time_ms": 38005.176, "grad_time_ms": 31668.686, "num_steps_sampled": 17403705, "update_time_ms": 8.937, "default": {"vf_explained_var": 0.9215438365936279, "cur_kl_coeff": 0.5062499046325684, "vf_loss": 10.5844087600708, "policy_loss": -0.018137134611606598, "cur_lr": 0.0005000000237487257, "kl": 0.016168834641575813, "total_loss": 10.574458122253418, "entropy": 1.755779504776001}, "load_time_ms": 43.582, "num_steps_trained": 17403705}, "timesteps_since_restore": 17403705, "iterations_since_restore": 132, "config": {"local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "compress_observations": false, "clip_rewards": null, "sample_async": false, "custom_resources_per_worker": {}, "use_gae": true, "vf_share_layers": false, "vf_loss_coeff": 1.0, "optimizer": {}, "simple_optimizer": false, "num_envs_per_worker": 1, "vf_clip_param": 1000000.0, "synchronize_filters": true, "num_cpus_per_worker": 1, "multiagent": {"policy_graphs": {}, "policies_to_train": null, "policy_mapping_fn": null}, "kl_target": 0.01, "clip_actions": false, "input": "sampler", "input_evaluation": null, "entropy_coeff": 0.0, "lr_schedule": null, "sgd_minibatch_size": 128, "callbacks": {"on_sample_end": null, "on_train_result": null, "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7f49896bbbe0>", "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7f49896bbe10>", "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7f49896c5a90>"}, "num_cpus_for_driver": 1, "log_level": "INFO", "tf_session_args": {"log_device_placement": false, "gpu_options": {"allow_growth": true}, "intra_op_parallelism_threads": 2, "inter_op_parallelism_threads": 2, "allow_soft_placement": true, "device_count": {"CPU": 1}}, "model": {"dim": 84, "free_log_std": false, "fcnet_hiddens": [128, 64, 32], "custom_model": null, "fcnet_activation": "tanh", "lstm_use_prev_action_reward": false, "grayscale": false, "channel_major": false, "squash_to_range": false, "framestack": true, "use_lstm": false, "conv_activation": "relu", "conv_filters": null, "custom_preprocessor": null, "lstm_cell_size": 256, "zero_mean": true, "custom_options": {}, "max_seq_len": 20}, "lambda": 0.97, "num_gpus_per_worker": 0, "kl_coeff": 0.2, "horizon": 1500, "preprocessor_pref": "deepmind", "env_config": {"run": "PPO", "flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.1,\n            \"eta3\": 0.1,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 7.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 0\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 700,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}"}, "clip_param": 0.3, "observation_filter": "MeanStdFilter", "env": "MultiWaveAttenuationMergePOEnvBufferedObs-v0density_[eta1, eta2, eta3]:[1.0, 0.1, 0.0]_t_min:7.0", "gamma": 0.99, "lr": 0.0005, "monitor": false, "output_compress_columns": ["obs", "new_obs"], "batch_mode": "truncate_episodes", "num_gpus": 0, "num_workers": 30, "output": null, "collect_metrics_timeout": 180, "num_sgd_iter": 10, "sample_batch_size": 750, "output_max_file_size": 67108864, "straggler_mitigation": false, "train_batch_size": 90000}, "num_metric_batches_dropped": 0, "hostname": "flow-main", "episodes_total": 8163, "episode_reward_min": 644.7042662946228, "time_total_s": 9230.37460899353, "policy_reward_mean": {}, "timesteps_this_iter": 130716, "custom_metrics": {"cost1_mean": 335.95711963963606, "system_level_velocity_mean": 11.651723534680038, "cost2_max": -85.91009893141651, "outflow_rate_max": 1103.8896965071215, "outflow_rate_mean": 976.8822938132627, "cost1_max": 394.1398162263056, "outflow_rate_min": 839.0336705028768, "system_level_velocity_max": 13.628453689270755, "system_level_velocity_min": 9.659270648043433, "cost2_min": -128.14567491673466, "cost1_min": 278.73532331357, "cost2_mean": -109.69813358258968}, "episode_reward_max": 918.1301245060081}
{"node_ip": "10.138.0.2", "episode_reward_mean": 746.6208809241434, "time_this_iter_s": 73.39071607589722, "done": false, "episode_len_mean": 747.54, "timestamp": 1557396870, "training_iteration": 133, "experiment_id": "58dd2f5595014063b753971755894587", "time_since_restore": 9303.765325069427, "timesteps_total": 17534454, "pid": 25334, "episodes_this_iter": 63, "date": "2019-05-09_10-14-30", "info": {"sample_time_ms": 38343.956, "grad_time_ms": 31456.702, "num_steps_sampled": 17534454, "update_time_ms": 8.618, "default": {"vf_explained_var": 0.9115379452705383, "cur_kl_coeff": 0.5062499046325684, "vf_loss": 12.27391529083252, "policy_loss": -0.017108775675296783, "cur_lr": 0.0005000000237487257, "kl": 0.016908828169107437, "total_loss": 12.26536750793457, "entropy": 1.738765835762024}, "load_time_ms": 41.875, "num_steps_trained": 17534454}, "timesteps_since_restore": 17534454, "iterations_since_restore": 133, "config": {"local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "compress_observations": false, "clip_rewards": null, "sample_async": false, "custom_resources_per_worker": {}, "use_gae": true, "vf_share_layers": false, "vf_loss_coeff": 1.0, "optimizer": {}, "simple_optimizer": false, "num_envs_per_worker": 1, "vf_clip_param": 1000000.0, "synchronize_filters": true, "num_cpus_per_worker": 1, "multiagent": {"policy_graphs": {}, "policies_to_train": null, "policy_mapping_fn": null}, "kl_target": 0.01, "clip_actions": false, "input": "sampler", "input_evaluation": null, "entropy_coeff": 0.0, "lr_schedule": null, "sgd_minibatch_size": 128, "callbacks": {"on_sample_end": null, "on_train_result": null, "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7f49896c9160>", "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7f49896c9470>", "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7f49896c9dd8>"}, "num_cpus_for_driver": 1, "log_level": "INFO", "tf_session_args": {"log_device_placement": false, "gpu_options": {"allow_growth": true}, "intra_op_parallelism_threads": 2, "inter_op_parallelism_threads": 2, "allow_soft_placement": true, "device_count": {"CPU": 1}}, "model": {"dim": 84, "free_log_std": false, "fcnet_hiddens": [128, 64, 32], "custom_model": null, "fcnet_activation": "tanh", "lstm_use_prev_action_reward": false, "grayscale": false, "channel_major": false, "squash_to_range": false, "framestack": true, "use_lstm": false, "conv_activation": "relu", "conv_filters": null, "custom_preprocessor": null, "lstm_cell_size": 256, "zero_mean": true, "custom_options": {}, "max_seq_len": 20}, "lambda": 0.97, "num_gpus_per_worker": 0, "kl_coeff": 0.2, "horizon": 1500, "preprocessor_pref": "deepmind", "env_config": {"run": "PPO", "flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.1,\n            \"eta3\": 0.1,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 7.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 0\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 700,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}"}, "clip_param": 0.3, "observation_filter": "MeanStdFilter", "env": "MultiWaveAttenuationMergePOEnvBufferedObs-v0density_[eta1, eta2, eta3]:[1.0, 0.1, 0.0]_t_min:7.0", "gamma": 0.99, "lr": 0.0005, "monitor": false, "output_compress_columns": ["obs", "new_obs"], "batch_mode": "truncate_episodes", "num_gpus": 0, "num_workers": 30, "output": null, "collect_metrics_timeout": 180, "num_sgd_iter": 10, "sample_batch_size": 750, "output_max_file_size": 67108864, "straggler_mitigation": false, "train_batch_size": 90000}, "num_metric_batches_dropped": 0, "hostname": "flow-main", "episodes_total": 8226, "episode_reward_min": 544.3562724174348, "time_total_s": 9303.765325069427, "policy_reward_mean": {}, "timesteps_this_iter": 130749, "custom_metrics": {"cost1_mean": 334.40237491191425, "system_level_velocity_mean": 11.664953328444037, "cost2_max": -85.91009893141651, "outflow_rate_max": 1137.6785113399042, "outflow_rate_mean": 973.031364438547, "cost1_max": 405.4363392138091, "outflow_rate_min": 804.8726807745871, "system_level_velocity_max": 13.974015789536521, "system_level_velocity_min": 10.126304166394386, "cost2_min": -128.45981971482246, "cost1_min": 258.90565370327545, "cost2_mean": -108.94334711230333}, "episode_reward_max": 925.6828733017308}
{"node_ip": "10.138.0.2", "episode_reward_mean": 744.9002620236018, "time_this_iter_s": 73.28555870056152, "done": false, "episode_len_mean": 738.97, "timestamp": 1557396944, "training_iteration": 134, "experiment_id": "58dd2f5595014063b753971755894587", "time_since_restore": 9377.050883769989, "timesteps_total": 17664319, "pid": 25334, "episodes_this_iter": 64, "date": "2019-05-09_10-15-44", "info": {"sample_time_ms": 38632.908, "grad_time_ms": 31426.598, "num_steps_sampled": 17664319, "update_time_ms": 8.492, "default": {"vf_explained_var": 0.9103695154190063, "cur_kl_coeff": 0.5062499642372131, "vf_loss": 12.197105407714844, "policy_loss": -0.016413062810897827, "cur_lr": 0.0005000000237487257, "kl": 0.017895959317684174, "total_loss": 12.189752578735352, "entropy": 1.7403690814971924}, "load_time_ms": 42.533, "num_steps_trained": 17664319}, "timesteps_since_restore": 17664319, "iterations_since_restore": 134, "config": {"local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "compress_observations": false, "clip_rewards": null, "sample_async": false, "custom_resources_per_worker": {}, "use_gae": true, "vf_share_layers": false, "vf_loss_coeff": 1.0, "optimizer": {}, "simple_optimizer": false, "num_envs_per_worker": 1, "vf_clip_param": 1000000.0, "synchronize_filters": true, "num_cpus_per_worker": 1, "multiagent": {"policy_graphs": {}, "policies_to_train": null, "policy_mapping_fn": null}, "kl_target": 0.01, "clip_actions": false, "input": "sampler", "input_evaluation": null, "entropy_coeff": 0.0, "lr_schedule": null, "sgd_minibatch_size": 128, "callbacks": {"on_sample_end": null, "on_train_result": null, "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7f49896c97b8>", "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7f49896c94e0>", "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7f49896c9e10>"}, "num_cpus_for_driver": 1, "log_level": "INFO", "tf_session_args": {"log_device_placement": false, "gpu_options": {"allow_growth": true}, "intra_op_parallelism_threads": 2, "inter_op_parallelism_threads": 2, "allow_soft_placement": true, "device_count": {"CPU": 1}}, "model": {"dim": 84, "free_log_std": false, "fcnet_hiddens": [128, 64, 32], "custom_model": null, "fcnet_activation": "tanh", "lstm_use_prev_action_reward": false, "grayscale": false, "channel_major": false, "squash_to_range": false, "framestack": true, "use_lstm": false, "conv_activation": "relu", "conv_filters": null, "custom_preprocessor": null, "lstm_cell_size": 256, "zero_mean": true, "custom_options": {}, "max_seq_len": 20}, "lambda": 0.97, "num_gpus_per_worker": 0, "kl_coeff": 0.2, "horizon": 1500, "preprocessor_pref": "deepmind", "env_config": {"run": "PPO", "flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.1,\n            \"eta3\": 0.1,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 7.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 0\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 700,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}"}, "clip_param": 0.3, "observation_filter": "MeanStdFilter", "env": "MultiWaveAttenuationMergePOEnvBufferedObs-v0density_[eta1, eta2, eta3]:[1.0, 0.1, 0.0]_t_min:7.0", "gamma": 0.99, "lr": 0.0005, "monitor": false, "output_compress_columns": ["obs", "new_obs"], "batch_mode": "truncate_episodes", "num_gpus": 0, "num_workers": 30, "output": null, "collect_metrics_timeout": 180, "num_sgd_iter": 10, "sample_batch_size": 750, "output_max_file_size": 67108864, "straggler_mitigation": false, "train_batch_size": 90000}, "num_metric_batches_dropped": 0, "hostname": "flow-main", "episodes_total": 8290, "episode_reward_min": 219.78615856141204, "time_total_s": 9377.050883769989, "policy_reward_mean": {}, "timesteps_this_iter": 129865, "custom_metrics": {"cost1_mean": 333.1523486573322, "system_level_velocity_mean": 11.76967387240466, "cost2_max": -63.32756783182072, "outflow_rate_max": 1103.8678995000685, "outflow_rate_mean": 968.1530837711854, "cost1_max": 388.27304899455726, "outflow_rate_min": 434.89649632902547, "system_level_velocity_max": 13.443204011363342, "system_level_velocity_min": 10.126304166394386, "cost2_min": -135.51202524349682, "cost1_min": 118.11480187563183, "cost2_mean": -106.53575493595378}, "episode_reward_max": 867.063379854108}
{"node_ip": "10.138.0.2", "episode_reward_mean": 737.7811197102633, "time_this_iter_s": 72.08742213249207, "done": false, "episode_len_mean": 740.62, "timestamp": 1557397016, "training_iteration": 135, "experiment_id": "58dd2f5595014063b753971755894587", "time_since_restore": 9449.138305902481, "timesteps_total": 17794410, "pid": 25334, "episodes_this_iter": 63, "date": "2019-05-09_10-16-56", "info": {"sample_time_ms": 39051.347, "grad_time_ms": 31398.98, "num_steps_sampled": 17794410, "update_time_ms": 8.785, "default": {"vf_explained_var": 0.9143837690353394, "cur_kl_coeff": 0.5062499642372131, "vf_loss": 12.181647300720215, "policy_loss": -0.01741817034780979, "cur_lr": 0.0005000000237487257, "kl": 0.01649819314479828, "total_loss": 12.172582626342773, "entropy": 1.7620946168899536}, "load_time_ms": 45.454, "num_steps_trained": 17794410}, "timesteps_since_restore": 17794410, "iterations_since_restore": 135, "config": {"local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "compress_observations": false, "clip_rewards": null, "sample_async": false, "custom_resources_per_worker": {}, "use_gae": true, "vf_share_layers": false, "vf_loss_coeff": 1.0, "optimizer": {}, "simple_optimizer": false, "num_envs_per_worker": 1, "vf_clip_param": 1000000.0, "synchronize_filters": true, "num_cpus_per_worker": 1, "multiagent": {"policy_graphs": {}, "policies_to_train": null, "policy_mapping_fn": null}, "kl_target": 0.01, "clip_actions": false, "input": "sampler", "input_evaluation": null, "entropy_coeff": 0.0, "lr_schedule": null, "sgd_minibatch_size": 128, "callbacks": {"on_sample_end": null, "on_train_result": null, "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7f49896b1978>", "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7f49896b1898>", "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7f49896b10b8>"}, "num_cpus_for_driver": 1, "log_level": "INFO", "tf_session_args": {"log_device_placement": false, "gpu_options": {"allow_growth": true}, "intra_op_parallelism_threads": 2, "inter_op_parallelism_threads": 2, "allow_soft_placement": true, "device_count": {"CPU": 1}}, "model": {"dim": 84, "free_log_std": false, "fcnet_hiddens": [128, 64, 32], "custom_model": null, "fcnet_activation": "tanh", "lstm_use_prev_action_reward": false, "grayscale": false, "channel_major": false, "squash_to_range": false, "framestack": true, "use_lstm": false, "conv_activation": "relu", "conv_filters": null, "custom_preprocessor": null, "lstm_cell_size": 256, "zero_mean": true, "custom_options": {}, "max_seq_len": 20}, "lambda": 0.97, "num_gpus_per_worker": 0, "kl_coeff": 0.2, "horizon": 1500, "preprocessor_pref": "deepmind", "env_config": {"run": "PPO", "flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.1,\n            \"eta3\": 0.1,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 7.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 0\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 700,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}"}, "clip_param": 0.3, "observation_filter": "MeanStdFilter", "env": "MultiWaveAttenuationMergePOEnvBufferedObs-v0density_[eta1, eta2, eta3]:[1.0, 0.1, 0.0]_t_min:7.0", "gamma": 0.99, "lr": 0.0005, "monitor": false, "output_compress_columns": ["obs", "new_obs"], "batch_mode": "truncate_episodes", "num_gpus": 0, "num_workers": 30, "output": null, "collect_metrics_timeout": 180, "num_sgd_iter": 10, "sample_batch_size": 750, "output_max_file_size": 67108864, "straggler_mitigation": false, "train_batch_size": 90000}, "num_metric_batches_dropped": 0, "hostname": "flow-main", "episodes_total": 8353, "episode_reward_min": 216.1007695665324, "time_total_s": 9449.138305902481, "policy_reward_mean": {}, "timesteps_this_iter": 130091, "custom_metrics": {"cost1_mean": 332.4420037645825, "system_level_velocity_mean": 11.725041429370822, "cost2_max": -59.66729849684065, "outflow_rate_max": 1117.5121295375243, "outflow_rate_mean": 966.6728880052033, "cost1_max": 398.25194781719324, "outflow_rate_min": 427.00316112230473, "system_level_velocity_max": 13.801413193538414, "system_level_velocity_min": 10.488707057801939, "cost2_min": -135.51202524349682, "cost1_min": 115.80367495366914, "cost2_mean": -107.44562859034164}, "episode_reward_max": 903.7233251732757}
{"node_ip": "10.138.0.2", "episode_reward_mean": 732.3573558516284, "time_this_iter_s": 73.3295087814331, "done": false, "episode_len_mean": 740.58, "timestamp": 1557397089, "training_iteration": 136, "experiment_id": "58dd2f5595014063b753971755894587", "time_since_restore": 9522.467814683914, "timesteps_total": 17924484, "pid": 25334, "episodes_this_iter": 63, "date": "2019-05-09_10-18-09", "info": {"sample_time_ms": 39370.473, "grad_time_ms": 31728.761, "num_steps_sampled": 17924484, "update_time_ms": 8.926, "default": {"vf_explained_var": 0.9207907915115356, "cur_kl_coeff": 0.5062499642372131, "vf_loss": 11.259617805480957, "policy_loss": -0.018373245373368263, "cur_lr": 0.0005000000237487257, "kl": 0.016877226531505585, "total_loss": 11.249788284301758, "entropy": 1.7405000925064087}, "load_time_ms": 43.8, "num_steps_trained": 17924484}, "timesteps_since_restore": 17924484, "iterations_since_restore": 136, "config": {"local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "compress_observations": false, "clip_rewards": null, "sample_async": false, "custom_resources_per_worker": {}, "use_gae": true, "vf_share_layers": false, "vf_loss_coeff": 1.0, "optimizer": {}, "simple_optimizer": false, "num_envs_per_worker": 1, "vf_clip_param": 1000000.0, "synchronize_filters": true, "num_cpus_per_worker": 1, "multiagent": {"policy_graphs": {}, "policies_to_train": null, "policy_mapping_fn": null}, "kl_target": 0.01, "clip_actions": false, "input": "sampler", "input_evaluation": null, "entropy_coeff": 0.0, "lr_schedule": null, "sgd_minibatch_size": 128, "callbacks": {"on_sample_end": null, "on_train_result": null, "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7f49896c99e8>", "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7f49896c96d8>", "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7f49896c9630>"}, "num_cpus_for_driver": 1, "log_level": "INFO", "tf_session_args": {"log_device_placement": false, "gpu_options": {"allow_growth": true}, "intra_op_parallelism_threads": 2, "inter_op_parallelism_threads": 2, "allow_soft_placement": true, "device_count": {"CPU": 1}}, "model": {"dim": 84, "free_log_std": false, "fcnet_hiddens": [128, 64, 32], "custom_model": null, "fcnet_activation": "tanh", "lstm_use_prev_action_reward": false, "grayscale": false, "channel_major": false, "squash_to_range": false, "framestack": true, "use_lstm": false, "conv_activation": "relu", "conv_filters": null, "custom_preprocessor": null, "lstm_cell_size": 256, "zero_mean": true, "custom_options": {}, "max_seq_len": 20}, "lambda": 0.97, "num_gpus_per_worker": 0, "kl_coeff": 0.2, "horizon": 1500, "preprocessor_pref": "deepmind", "env_config": {"run": "PPO", "flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.1,\n            \"eta3\": 0.1,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 7.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 0\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 700,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}"}, "clip_param": 0.3, "observation_filter": "MeanStdFilter", "env": "MultiWaveAttenuationMergePOEnvBufferedObs-v0density_[eta1, eta2, eta3]:[1.0, 0.1, 0.0]_t_min:7.0", "gamma": 0.99, "lr": 0.0005, "monitor": false, "output_compress_columns": ["obs", "new_obs"], "batch_mode": "truncate_episodes", "num_gpus": 0, "num_workers": 30, "output": null, "collect_metrics_timeout": 180, "num_sgd_iter": 10, "sample_batch_size": 750, "output_max_file_size": 67108864, "straggler_mitigation": false, "train_batch_size": 90000}, "num_metric_batches_dropped": 0, "hostname": "flow-main", "episodes_total": 8416, "episode_reward_min": 211.41073051975806, "time_total_s": 9522.467814683914, "policy_reward_mean": {}, "timesteps_this_iter": 130074, "custom_metrics": {"cost1_mean": 332.7535121392231, "system_level_velocity_mean": 11.75004850828152, "cost2_max": -53.059228702304466, "outflow_rate_max": 1139.3065017196336, "outflow_rate_mean": 968.7047448125737, "cost1_max": 405.19342857213053, "outflow_rate_min": 427.00316112230473, "system_level_velocity_max": 13.992213090466954, "system_level_velocity_min": 10.488707057801939, "cost2_min": -122.86049244146812, "cost1_min": 113.01763344835116, "cost2_mean": -106.61211859622703}, "episode_reward_max": 902.9981569106136}
{"node_ip": "10.138.0.2", "episode_reward_mean": 750.019416872811, "time_this_iter_s": 71.45895862579346, "done": false, "episode_len_mean": 745.79, "timestamp": 1557397161, "training_iteration": 137, "experiment_id": "58dd2f5595014063b753971755894587", "time_since_restore": 9593.926773309708, "timesteps_total": 18054079, "pid": 25334, "episodes_this_iter": 62, "date": "2019-05-09_10-19-21", "info": {"sample_time_ms": 39424.432, "grad_time_ms": 31973.432, "num_steps_sampled": 18054079, "update_time_ms": 9.291, "default": {"vf_explained_var": 0.9143604636192322, "cur_kl_coeff": 0.5062499642372131, "vf_loss": 12.158308982849121, "policy_loss": -0.018226634711027145, "cur_lr": 0.0005000000237487257, "kl": 0.01628049463033676, "total_loss": 12.14832592010498, "entropy": 1.7465060949325562}, "load_time_ms": 44.84, "num_steps_trained": 18054079}, "timesteps_since_restore": 18054079, "iterations_since_restore": 137, "config": {"local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "compress_observations": false, "clip_rewards": null, "sample_async": false, "custom_resources_per_worker": {}, "use_gae": true, "vf_share_layers": false, "vf_loss_coeff": 1.0, "optimizer": {}, "simple_optimizer": false, "num_envs_per_worker": 1, "vf_clip_param": 1000000.0, "synchronize_filters": true, "num_cpus_per_worker": 1, "multiagent": {"policy_graphs": {}, "policies_to_train": null, "policy_mapping_fn": null}, "kl_target": 0.01, "clip_actions": false, "input": "sampler", "input_evaluation": null, "entropy_coeff": 0.0, "lr_schedule": null, "sgd_minibatch_size": 128, "callbacks": {"on_sample_end": null, "on_train_result": null, "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7f49896c9828>", "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7f49896c9fd0>", "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7f49896c9e10>"}, "num_cpus_for_driver": 1, "log_level": "INFO", "tf_session_args": {"log_device_placement": false, "gpu_options": {"allow_growth": true}, "intra_op_parallelism_threads": 2, "inter_op_parallelism_threads": 2, "allow_soft_placement": true, "device_count": {"CPU": 1}}, "model": {"dim": 84, "free_log_std": false, "fcnet_hiddens": [128, 64, 32], "custom_model": null, "fcnet_activation": "tanh", "lstm_use_prev_action_reward": false, "grayscale": false, "channel_major": false, "squash_to_range": false, "framestack": true, "use_lstm": false, "conv_activation": "relu", "conv_filters": null, "custom_preprocessor": null, "lstm_cell_size": 256, "zero_mean": true, "custom_options": {}, "max_seq_len": 20}, "lambda": 0.97, "num_gpus_per_worker": 0, "kl_coeff": 0.2, "horizon": 1500, "preprocessor_pref": "deepmind", "env_config": {"run": "PPO", "flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.1,\n            \"eta3\": 0.1,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 7.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 0\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 700,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}"}, "clip_param": 0.3, "observation_filter": "MeanStdFilter", "env": "MultiWaveAttenuationMergePOEnvBufferedObs-v0density_[eta1, eta2, eta3]:[1.0, 0.1, 0.0]_t_min:7.0", "gamma": 0.99, "lr": 0.0005, "monitor": false, "output_compress_columns": ["obs", "new_obs"], "batch_mode": "truncate_episodes", "num_gpus": 0, "num_workers": 30, "output": null, "collect_metrics_timeout": 180, "num_sgd_iter": 10, "sample_batch_size": 750, "output_max_file_size": 67108864, "straggler_mitigation": false, "train_batch_size": 90000}, "num_metric_batches_dropped": 0, "hostname": "flow-main", "episodes_total": 8478, "episode_reward_min": 211.41073051975806, "time_total_s": 9593.926773309708, "policy_reward_mean": {}, "timesteps_this_iter": 129595, "custom_metrics": {"cost1_mean": 338.5720442107277, "system_level_velocity_mean": 11.855467773252139, "cost2_max": -53.059228702304466, "outflow_rate_max": 1126.1392562569279, "outflow_rate_mean": 983.276259454949, "cost1_max": 403.370116644616, "outflow_rate_min": 427.1068317567635, "system_level_velocity_max": 13.998685008981123, "system_level_velocity_min": 10.81644469543384, "cost2_min": -129.64685053358247, "cost1_min": 113.01763344835116, "cost2_mean": -108.84501841556825}, "episode_reward_max": 930.716401638409}
{"node_ip": "10.138.0.2", "episode_reward_mean": 750.9865640148813, "time_this_iter_s": 69.9929928779602, "done": false, "episode_len_mean": 744.22, "timestamp": 1557397231, "training_iteration": 138, "experiment_id": "58dd2f5595014063b753971755894587", "time_since_restore": 9663.919766187668, "timesteps_total": 18185220, "pid": 25334, "episodes_this_iter": 64, "date": "2019-05-09_10-20-31", "info": {"sample_time_ms": 39238.515, "grad_time_ms": 32233.035, "num_steps_sampled": 18185220, "update_time_ms": 9.253, "default": {"vf_explained_var": 0.9183902144432068, "cur_kl_coeff": 0.5062499642372131, "vf_loss": 11.793167114257812, "policy_loss": -0.018325256183743477, "cur_lr": 0.0005000000237487257, "kl": 0.01619773730635643, "total_loss": 11.783041954040527, "entropy": 1.758354902267456}, "load_time_ms": 43.515, "num_steps_trained": 18185220}, "timesteps_since_restore": 18185220, "iterations_since_restore": 138, "config": {"local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "compress_observations": false, "clip_rewards": null, "sample_async": false, "custom_resources_per_worker": {}, "use_gae": true, "vf_share_layers": false, "vf_loss_coeff": 1.0, "optimizer": {}, "simple_optimizer": false, "num_envs_per_worker": 1, "vf_clip_param": 1000000.0, "synchronize_filters": true, "num_cpus_per_worker": 1, "multiagent": {"policy_graphs": {}, "policies_to_train": null, "policy_mapping_fn": null}, "kl_target": 0.01, "clip_actions": false, "input": "sampler", "input_evaluation": null, "entropy_coeff": 0.0, "lr_schedule": null, "sgd_minibatch_size": 128, "callbacks": {"on_sample_end": null, "on_train_result": null, "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7f49896ca438>", "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7f49896ca828>", "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7f49896c5a90>"}, "num_cpus_for_driver": 1, "log_level": "INFO", "tf_session_args": {"log_device_placement": false, "gpu_options": {"allow_growth": true}, "intra_op_parallelism_threads": 2, "inter_op_parallelism_threads": 2, "allow_soft_placement": true, "device_count": {"CPU": 1}}, "model": {"dim": 84, "free_log_std": false, "fcnet_hiddens": [128, 64, 32], "custom_model": null, "fcnet_activation": "tanh", "lstm_use_prev_action_reward": false, "grayscale": false, "channel_major": false, "squash_to_range": false, "framestack": true, "use_lstm": false, "conv_activation": "relu", "conv_filters": null, "custom_preprocessor": null, "lstm_cell_size": 256, "zero_mean": true, "custom_options": {}, "max_seq_len": 20}, "lambda": 0.97, "num_gpus_per_worker": 0, "kl_coeff": 0.2, "horizon": 1500, "preprocessor_pref": "deepmind", "env_config": {"run": "PPO", "flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.1,\n            \"eta3\": 0.1,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 7.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 0\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 700,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}"}, "clip_param": 0.3, "observation_filter": "MeanStdFilter", "env": "MultiWaveAttenuationMergePOEnvBufferedObs-v0density_[eta1, eta2, eta3]:[1.0, 0.1, 0.0]_t_min:7.0", "gamma": 0.99, "lr": 0.0005, "monitor": false, "output_compress_columns": ["obs", "new_obs"], "batch_mode": "truncate_episodes", "num_gpus": 0, "num_workers": 30, "output": null, "collect_metrics_timeout": 180, "num_sgd_iter": 10, "sample_batch_size": 750, "output_max_file_size": 67108864, "straggler_mitigation": false, "train_batch_size": 90000}, "num_metric_batches_dropped": 0, "hostname": "flow-main", "episodes_total": 8542, "episode_reward_min": 350.08225500592033, "time_total_s": 9663.919766187668, "policy_reward_mean": {}, "timesteps_this_iter": 131141, "custom_metrics": {"cost1_mean": 338.55607480741133, "system_level_velocity_mean": 11.872474806953273, "cost2_max": -78.43854470558037, "outflow_rate_max": 1126.1392562569279, "outflow_rate_mean": 983.6733353954425, "cost1_max": 403.370116644616, "outflow_rate_min": 554.5269650497178, "system_level_velocity_max": 13.998685008981123, "system_level_velocity_min": 9.761544085776674, "cost2_min": -137.18810394021085, "cost1_min": 167.2763187016837, "cost2_mean": -110.7313432644793}, "episode_reward_max": 930.716401638409}
{"node_ip": "10.138.0.2", "episode_reward_mean": 748.7886618706111, "time_this_iter_s": 69.24320530891418, "done": false, "episode_len_mean": 743.47, "timestamp": 1557397300, "training_iteration": 139, "experiment_id": "58dd2f5595014063b753971755894587", "time_since_restore": 9733.162971496582, "timesteps_total": 18315535, "pid": 25334, "episodes_this_iter": 63, "date": "2019-05-09_10-21-40", "info": {"sample_time_ms": 38973.116, "grad_time_ms": 32485.327, "num_steps_sampled": 18315535, "update_time_ms": 9.304, "default": {"vf_explained_var": 0.9153742790222168, "cur_kl_coeff": 0.5062499046325684, "vf_loss": 11.799503326416016, "policy_loss": -0.017530594021081924, "cur_lr": 0.0005000000237487257, "kl": 0.016604775562882423, "total_loss": 11.79037857055664, "entropy": 1.762727975845337}, "load_time_ms": 42.101, "num_steps_trained": 18315535}, "timesteps_since_restore": 18315535, "iterations_since_restore": 139, "config": {"local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "compress_observations": false, "clip_rewards": null, "sample_async": false, "custom_resources_per_worker": {}, "use_gae": true, "vf_share_layers": false, "vf_loss_coeff": 1.0, "optimizer": {}, "simple_optimizer": false, "num_envs_per_worker": 1, "vf_clip_param": 1000000.0, "synchronize_filters": true, "num_cpus_per_worker": 1, "multiagent": {"policy_graphs": {}, "policies_to_train": null, "policy_mapping_fn": null}, "kl_target": 0.01, "clip_actions": false, "input": "sampler", "input_evaluation": null, "entropy_coeff": 0.0, "lr_schedule": null, "sgd_minibatch_size": 128, "callbacks": {"on_sample_end": null, "on_train_result": null, "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7f49896c9908>", "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7f49896c96a0>", "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7f49896c9da0>"}, "num_cpus_for_driver": 1, "log_level": "INFO", "tf_session_args": {"log_device_placement": false, "gpu_options": {"allow_growth": true}, "intra_op_parallelism_threads": 2, "inter_op_parallelism_threads": 2, "allow_soft_placement": true, "device_count": {"CPU": 1}}, "model": {"dim": 84, "free_log_std": false, "fcnet_hiddens": [128, 64, 32], "custom_model": null, "fcnet_activation": "tanh", "lstm_use_prev_action_reward": false, "grayscale": false, "channel_major": false, "squash_to_range": false, "framestack": true, "use_lstm": false, "conv_activation": "relu", "conv_filters": null, "custom_preprocessor": null, "lstm_cell_size": 256, "zero_mean": true, "custom_options": {}, "max_seq_len": 20}, "lambda": 0.97, "num_gpus_per_worker": 0, "kl_coeff": 0.2, "horizon": 1500, "preprocessor_pref": "deepmind", "env_config": {"run": "PPO", "flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.1,\n            \"eta3\": 0.1,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 7.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 0\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 700,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}"}, "clip_param": 0.3, "observation_filter": "MeanStdFilter", "env": "MultiWaveAttenuationMergePOEnvBufferedObs-v0density_[eta1, eta2, eta3]:[1.0, 0.1, 0.0]_t_min:7.0", "gamma": 0.99, "lr": 0.0005, "monitor": false, "output_compress_columns": ["obs", "new_obs"], "batch_mode": "truncate_episodes", "num_gpus": 0, "num_workers": 30, "output": null, "collect_metrics_timeout": 180, "num_sgd_iter": 10, "sample_batch_size": 750, "output_max_file_size": 67108864, "straggler_mitigation": false, "train_batch_size": 90000}, "num_metric_batches_dropped": 0, "hostname": "flow-main", "episodes_total": 8605, "episode_reward_min": 350.08225500592033, "time_total_s": 9733.162971496582, "policy_reward_mean": {}, "timesteps_this_iter": 130315, "custom_metrics": {"cost1_mean": 337.78017347264176, "system_level_velocity_mean": 11.855095975224891, "cost2_max": -78.43854470558037, "outflow_rate_max": 1114.4458154279935, "outflow_rate_mean": 980.6643163129246, "cost1_max": 390.8664382118385, "outflow_rate_min": 554.5269650497178, "system_level_velocity_max": 13.606879482666734, "system_level_velocity_min": 10.2812121670766, "cost2_min": -128.815614856544, "cost1_min": 167.2763187016837, "cost2_mean": -108.60190482497204}, "episode_reward_max": 881.2801903422502}
{"node_ip": "10.138.0.2", "episode_reward_mean": 744.7699981837812, "time_this_iter_s": 67.3241822719574, "done": false, "episode_len_mean": 745.08, "timestamp": 1557397367, "training_iteration": 140, "experiment_id": "58dd2f5595014063b753971755894587", "time_since_restore": 9800.48715376854, "timesteps_total": 18445389, "pid": 25334, "episodes_this_iter": 62, "date": "2019-05-09_10-22-47", "info": {"sample_time_ms": 38606.683, "grad_time_ms": 32621.136, "num_steps_sampled": 18445389, "update_time_ms": 9.265, "default": {"vf_explained_var": 0.9191094636917114, "cur_kl_coeff": 0.5062499642372131, "vf_loss": 11.553600311279297, "policy_loss": -0.01675899140536785, "cur_lr": 0.0005000000237487257, "kl": 0.01586945168673992, "total_loss": 11.544875144958496, "entropy": 1.7632789611816406}, "load_time_ms": 42.305, "num_steps_trained": 18445389}, "timesteps_since_restore": 18445389, "iterations_since_restore": 140, "config": {"local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "compress_observations": false, "clip_rewards": null, "sample_async": false, "custom_resources_per_worker": {}, "use_gae": true, "vf_share_layers": false, "vf_loss_coeff": 1.0, "optimizer": {}, "simple_optimizer": false, "num_envs_per_worker": 1, "vf_clip_param": 1000000.0, "synchronize_filters": true, "num_cpus_per_worker": 1, "multiagent": {"policy_graphs": {}, "policies_to_train": null, "policy_mapping_fn": null}, "kl_target": 0.01, "clip_actions": false, "input": "sampler", "input_evaluation": null, "entropy_coeff": 0.0, "lr_schedule": null, "sgd_minibatch_size": 128, "callbacks": {"on_sample_end": null, "on_train_result": null, "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7f49896bb940>", "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7f49896bb4e0>", "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7f49896bbf28>"}, "num_cpus_for_driver": 1, "log_level": "INFO", "tf_session_args": {"log_device_placement": false, "gpu_options": {"allow_growth": true}, "intra_op_parallelism_threads": 2, "inter_op_parallelism_threads": 2, "allow_soft_placement": true, "device_count": {"CPU": 1}}, "model": {"dim": 84, "free_log_std": false, "fcnet_hiddens": [128, 64, 32], "custom_model": null, "fcnet_activation": "tanh", "lstm_use_prev_action_reward": false, "grayscale": false, "channel_major": false, "squash_to_range": false, "framestack": true, "use_lstm": false, "conv_activation": "relu", "conv_filters": null, "custom_preprocessor": null, "lstm_cell_size": 256, "zero_mean": true, "custom_options": {}, "max_seq_len": 20}, "lambda": 0.97, "num_gpus_per_worker": 0, "kl_coeff": 0.2, "horizon": 1500, "preprocessor_pref": "deepmind", "env_config": {"run": "PPO", "flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.1,\n            \"eta3\": 0.1,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 7.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 0\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 700,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}"}, "clip_param": 0.3, "observation_filter": "MeanStdFilter", "env": "MultiWaveAttenuationMergePOEnvBufferedObs-v0density_[eta1, eta2, eta3]:[1.0, 0.1, 0.0]_t_min:7.0", "gamma": 0.99, "lr": 0.0005, "monitor": false, "output_compress_columns": ["obs", "new_obs"], "batch_mode": "truncate_episodes", "num_gpus": 0, "num_workers": 30, "output": null, "collect_metrics_timeout": 180, "num_sgd_iter": 10, "sample_batch_size": 750, "output_max_file_size": 67108864, "straggler_mitigation": false, "train_batch_size": 90000}, "num_metric_batches_dropped": 0, "hostname": "flow-main", "episodes_total": 8667, "episode_reward_min": 222.56154463002372, "time_total_s": 9800.48715376854, "policy_reward_mean": {}, "timesteps_this_iter": 129854, "custom_metrics": {"cost1_mean": 334.8201021515987, "system_level_velocity_mean": 11.731074811971055, "cost2_max": -64.60888313477, "outflow_rate_max": 1115.359669061783, "outflow_rate_mean": 975.7918428310694, "cost1_max": 388.9789567950397, "outflow_rate_min": 420.98646911242133, "system_level_velocity_max": 13.455733452188117, "system_level_velocity_min": 10.2812121670766, "cost2_min": -128.815614856544, "cost1_min": 116.5127171806339, "cost2_mean": -108.36364179479575}, "episode_reward_max": 875.3413157272954}
{"node_ip": "10.138.0.2", "episode_reward_mean": 741.6897245753863, "time_this_iter_s": 69.42811560630798, "done": false, "episode_len_mean": 745.87, "timestamp": 1557397437, "training_iteration": 141, "experiment_id": "58dd2f5595014063b753971755894587", "time_since_restore": 9869.915269374847, "timesteps_total": 18575804, "pid": 25334, "episodes_this_iter": 62, "date": "2019-05-09_10-23-57", "info": {"sample_time_ms": 38284.608, "grad_time_ms": 32651.534, "num_steps_sampled": 18575804, "update_time_ms": 9.22, "default": {"vf_explained_var": 0.9307677149772644, "cur_kl_coeff": 0.5062499046325684, "vf_loss": 9.94107437133789, "policy_loss": -0.018477512523531914, "cur_lr": 0.0005000000237487257, "kl": 0.016515571624040604, "total_loss": 9.930957794189453, "entropy": 1.7819792032241821}, "load_time_ms": 40.648, "num_steps_trained": 18575804}, "timesteps_since_restore": 18575804, "iterations_since_restore": 141, "config": {"local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "compress_observations": false, "clip_rewards": null, "sample_async": false, "custom_resources_per_worker": {}, "use_gae": true, "vf_share_layers": false, "vf_loss_coeff": 1.0, "optimizer": {}, "simple_optimizer": false, "num_envs_per_worker": 1, "vf_clip_param": 1000000.0, "synchronize_filters": true, "num_cpus_per_worker": 1, "multiagent": {"policy_graphs": {}, "policies_to_train": null, "policy_mapping_fn": null}, "kl_target": 0.01, "clip_actions": false, "input": "sampler", "input_evaluation": null, "entropy_coeff": 0.0, "lr_schedule": null, "sgd_minibatch_size": 128, "callbacks": {"on_sample_end": null, "on_train_result": null, "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7f49896ca828>", "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7f49896ca898>", "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7f49896ca438>"}, "num_cpus_for_driver": 1, "log_level": "INFO", "tf_session_args": {"log_device_placement": false, "gpu_options": {"allow_growth": true}, "intra_op_parallelism_threads": 2, "inter_op_parallelism_threads": 2, "allow_soft_placement": true, "device_count": {"CPU": 1}}, "model": {"dim": 84, "free_log_std": false, "fcnet_hiddens": [128, 64, 32], "custom_model": null, "fcnet_activation": "tanh", "lstm_use_prev_action_reward": false, "grayscale": false, "channel_major": false, "squash_to_range": false, "framestack": true, "use_lstm": false, "conv_activation": "relu", "conv_filters": null, "custom_preprocessor": null, "lstm_cell_size": 256, "zero_mean": true, "custom_options": {}, "max_seq_len": 20}, "lambda": 0.97, "num_gpus_per_worker": 0, "kl_coeff": 0.2, "horizon": 1500, "preprocessor_pref": "deepmind", "env_config": {"run": "PPO", "flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.1,\n            \"eta3\": 0.1,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 7.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 0\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 700,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}"}, "clip_param": 0.3, "observation_filter": "MeanStdFilter", "env": "MultiWaveAttenuationMergePOEnvBufferedObs-v0density_[eta1, eta2, eta3]:[1.0, 0.1, 0.0]_t_min:7.0", "gamma": 0.99, "lr": 0.0005, "monitor": false, "output_compress_columns": ["obs", "new_obs"], "batch_mode": "truncate_episodes", "num_gpus": 0, "num_workers": 30, "output": null, "collect_metrics_timeout": 180, "num_sgd_iter": 10, "sample_batch_size": 750, "output_max_file_size": 67108864, "straggler_mitigation": false, "train_batch_size": 90000}, "num_metric_batches_dropped": 0, "hostname": "flow-main", "episodes_total": 8729, "episode_reward_min": 226.95469499954686, "time_total_s": 9869.915269374847, "policy_reward_mean": {}, "timesteps_this_iter": 130415, "custom_metrics": {"cost1_mean": 333.9711082275712, "system_level_velocity_mean": 11.685569127753332, "cost2_max": -58.56278933862875, "outflow_rate_max": 1117.5182080755415, "outflow_rate_mean": 975.5633891071265, "cost1_max": 385.7649906276946, "outflow_rate_min": 428.7269135071104, "system_level_velocity_max": 13.242789246959012, "system_level_velocity_min": 10.575281657537438, "cost2_min": -132.04777876755048, "cost1_min": 117.17637147325865, "cost2_mean": -107.88004959672888}, "episode_reward_max": 875.3413157272954}
{"node_ip": "10.138.0.2", "episode_reward_mean": 740.2159647069739, "time_this_iter_s": 69.30442261695862, "done": false, "episode_len_mean": 740.7, "timestamp": 1557397506, "training_iteration": 142, "experiment_id": "58dd2f5595014063b753971755894587", "time_since_restore": 9939.219691991806, "timesteps_total": 18707417, "pid": 25334, "episodes_this_iter": 62, "date": "2019-05-09_10-25-06", "info": {"sample_time_ms": 38049.921, "grad_time_ms": 32520.288, "num_steps_sampled": 18707417, "update_time_ms": 9.221, "default": {"vf_explained_var": 0.9266459345817566, "cur_kl_coeff": 0.5062499046325684, "vf_loss": 10.47365665435791, "policy_loss": -0.01822749152779579, "cur_lr": 0.0005000000237487257, "kl": 0.015831124037504196, "total_loss": 10.463443756103516, "entropy": 1.7899675369262695}, "load_time_ms": 42.851, "num_steps_trained": 18707417}, "timesteps_since_restore": 18707417, "iterations_since_restore": 142, "config": {"local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "compress_observations": false, "clip_rewards": null, "sample_async": false, "custom_resources_per_worker": {}, "use_gae": true, "vf_share_layers": false, "vf_loss_coeff": 1.0, "optimizer": {}, "simple_optimizer": false, "num_envs_per_worker": 1, "vf_clip_param": 1000000.0, "synchronize_filters": true, "num_cpus_per_worker": 1, "multiagent": {"policy_graphs": {}, "policies_to_train": null, "policy_mapping_fn": null}, "kl_target": 0.01, "clip_actions": false, "input": "sampler", "input_evaluation": null, "entropy_coeff": 0.0, "lr_schedule": null, "sgd_minibatch_size": 128, "callbacks": {"on_sample_end": null, "on_train_result": null, "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7f49896c9c88>", "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7f49896c9da0>", "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7f49896c94e0>"}, "num_cpus_for_driver": 1, "log_level": "INFO", "tf_session_args": {"log_device_placement": false, "gpu_options": {"allow_growth": true}, "intra_op_parallelism_threads": 2, "inter_op_parallelism_threads": 2, "allow_soft_placement": true, "device_count": {"CPU": 1}}, "model": {"dim": 84, "free_log_std": false, "fcnet_hiddens": [128, 64, 32], "custom_model": null, "fcnet_activation": "tanh", "lstm_use_prev_action_reward": false, "grayscale": false, "channel_major": false, "squash_to_range": false, "framestack": true, "use_lstm": false, "conv_activation": "relu", "conv_filters": null, "custom_preprocessor": null, "lstm_cell_size": 256, "zero_mean": true, "custom_options": {}, "max_seq_len": 20}, "lambda": 0.97, "num_gpus_per_worker": 0, "kl_coeff": 0.2, "horizon": 1500, "preprocessor_pref": "deepmind", "env_config": {"run": "PPO", "flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.1,\n            \"eta3\": 0.1,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 7.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 0\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 700,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}"}, "clip_param": 0.3, "observation_filter": "MeanStdFilter", "env": "MultiWaveAttenuationMergePOEnvBufferedObs-v0density_[eta1, eta2, eta3]:[1.0, 0.1, 0.0]_t_min:7.0", "gamma": 0.99, "lr": 0.0005, "monitor": false, "output_compress_columns": ["obs", "new_obs"], "batch_mode": "truncate_episodes", "num_gpus": 0, "num_workers": 30, "output": null, "collect_metrics_timeout": 180, "num_sgd_iter": 10, "sample_batch_size": 750, "output_max_file_size": 67108864, "straggler_mitigation": false, "train_batch_size": 90000}, "num_metric_batches_dropped": 0, "hostname": "flow-main", "episodes_total": 8791, "episode_reward_min": 218.8701925473485, "time_total_s": 9939.219691991806, "policy_reward_mean": {}, "timesteps_this_iter": 131613, "custom_metrics": {"cost1_mean": 331.8949535922311, "system_level_velocity_mean": 11.695207881524682, "cost2_max": -58.291926892422964, "outflow_rate_max": 1135.9549189195902, "outflow_rate_mean": 968.6399939748804, "cost1_max": 403.85401027958414, "outflow_rate_min": 428.7269135071104, "system_level_velocity_max": 13.915205977923263, "system_level_velocity_min": 10.473162958856907, "cost2_min": -148.6333696160601, "cost1_min": 117.17637147325865, "cost2_mean": -110.54282486004524}, "episode_reward_max": 913.0901205793516}
{"node_ip": "10.138.0.2", "episode_reward_mean": 739.2879002785767, "time_this_iter_s": 69.75936388969421, "done": false, "episode_len_mean": 735.45, "timestamp": 1557397576, "training_iteration": 143, "experiment_id": "58dd2f5595014063b753971755894587", "time_since_restore": 10008.9790558815, "timesteps_total": 18838239, "pid": 25334, "episodes_this_iter": 63, "date": "2019-05-09_10-26-16", "info": {"sample_time_ms": 37819.881, "grad_time_ms": 32385.144, "num_steps_sampled": 18838239, "update_time_ms": 9.218, "default": {"vf_explained_var": 0.9109055995941162, "cur_kl_coeff": 0.5062499642372131, "vf_loss": 12.560539245605469, "policy_loss": -0.01856619119644165, "cur_lr": 0.0005000000237487257, "kl": 0.015910623595118523, "total_loss": 12.550027847290039, "entropy": 1.7859574556350708}, "load_time_ms": 46.008, "num_steps_trained": 18838239}, "timesteps_since_restore": 18838239, "iterations_since_restore": 143, "config": {"local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "compress_observations": false, "clip_rewards": null, "sample_async": false, "custom_resources_per_worker": {}, "use_gae": true, "vf_share_layers": false, "vf_loss_coeff": 1.0, "optimizer": {}, "simple_optimizer": false, "num_envs_per_worker": 1, "vf_clip_param": 1000000.0, "synchronize_filters": true, "num_cpus_per_worker": 1, "multiagent": {"policy_graphs": {}, "policies_to_train": null, "policy_mapping_fn": null}, "kl_target": 0.01, "clip_actions": false, "input": "sampler", "input_evaluation": null, "entropy_coeff": 0.0, "lr_schedule": null, "sgd_minibatch_size": 128, "callbacks": {"on_sample_end": null, "on_train_result": null, "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7f49896c92b0>", "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7f49896c9240>", "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7f49896c9e10>"}, "num_cpus_for_driver": 1, "log_level": "INFO", "tf_session_args": {"log_device_placement": false, "gpu_options": {"allow_growth": true}, "intra_op_parallelism_threads": 2, "inter_op_parallelism_threads": 2, "allow_soft_placement": true, "device_count": {"CPU": 1}}, "model": {"dim": 84, "free_log_std": false, "fcnet_hiddens": [128, 64, 32], "custom_model": null, "fcnet_activation": "tanh", "lstm_use_prev_action_reward": false, "grayscale": false, "channel_major": false, "squash_to_range": false, "framestack": true, "use_lstm": false, "conv_activation": "relu", "conv_filters": null, "custom_preprocessor": null, "lstm_cell_size": 256, "zero_mean": true, "custom_options": {}, "max_seq_len": 20}, "lambda": 0.97, "num_gpus_per_worker": 0, "kl_coeff": 0.2, "horizon": 1500, "preprocessor_pref": "deepmind", "env_config": {"run": "PPO", "flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.1,\n            \"eta3\": 0.1,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 7.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 0\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 700,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}"}, "clip_param": 0.3, "observation_filter": "MeanStdFilter", "env": "MultiWaveAttenuationMergePOEnvBufferedObs-v0density_[eta1, eta2, eta3]:[1.0, 0.1, 0.0]_t_min:7.0", "gamma": 0.99, "lr": 0.0005, "monitor": false, "output_compress_columns": ["obs", "new_obs"], "batch_mode": "truncate_episodes", "num_gpus": 0, "num_workers": 30, "output": null, "collect_metrics_timeout": 180, "num_sgd_iter": 10, "sample_batch_size": 750, "output_max_file_size": 67108864, "straggler_mitigation": false, "train_batch_size": 90000}, "num_metric_batches_dropped": 0, "hostname": "flow-main", "episodes_total": 8854, "episode_reward_min": 214.99499431465685, "time_total_s": 10008.9790558815, "policy_reward_mean": {}, "timesteps_this_iter": 130822, "custom_metrics": {"cost1_mean": 329.347288796763, "system_level_velocity_mean": 11.697532451200843, "cost2_max": -58.291926892422964, "outflow_rate_max": 1109.7866477774899, "outflow_rate_mean": 958.5303327199736, "cost1_max": 395.08454067212796, "outflow_rate_min": 422.29920590899155, "system_level_velocity_max": 13.601143187708633, "system_level_velocity_min": 9.977326838730148, "cost2_min": -148.6333696160601, "cost1_min": 115.40132761581476, "cost2_mean": -109.21177963985265}, "episode_reward_max": 909.929632167509}
{"node_ip": "10.138.0.2", "episode_reward_mean": 751.3717080553323, "time_this_iter_s": 70.99098038673401, "done": false, "episode_len_mean": 745.83, "timestamp": 1557397647, "training_iteration": 144, "experiment_id": "58dd2f5595014063b753971755894587", "time_since_restore": 10079.970036268234, "timesteps_total": 18969546, "pid": 25334, "episodes_this_iter": 62, "date": "2019-05-09_10-27-27", "info": {"sample_time_ms": 37836.491, "grad_time_ms": 32139.691, "num_steps_sampled": 18969546, "update_time_ms": 9.107, "default": {"vf_explained_var": 0.9232186079025269, "cur_kl_coeff": 0.5062500238418579, "vf_loss": 11.376590728759766, "policy_loss": -0.01810024306178093, "cur_lr": 0.0005000000237487257, "kl": 0.015582839027047157, "total_loss": 11.366379737854004, "entropy": 1.7960259914398193}, "load_time_ms": 47.478, "num_steps_trained": 18969546}, "timesteps_since_restore": 18969546, "iterations_since_restore": 144, "config": {"local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "compress_observations": false, "clip_rewards": null, "sample_async": false, "custom_resources_per_worker": {}, "use_gae": true, "vf_share_layers": false, "vf_loss_coeff": 1.0, "optimizer": {}, "simple_optimizer": false, "num_envs_per_worker": 1, "vf_clip_param": 1000000.0, "synchronize_filters": true, "num_cpus_per_worker": 1, "multiagent": {"policy_graphs": {}, "policies_to_train": null, "policy_mapping_fn": null}, "kl_target": 0.01, "clip_actions": false, "input": "sampler", "input_evaluation": null, "entropy_coeff": 0.0, "lr_schedule": null, "sgd_minibatch_size": 128, "callbacks": {"on_sample_end": null, "on_train_result": null, "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7f49896ca438>", "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7f49896ca898>", "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7f49896ca1d0>"}, "num_cpus_for_driver": 1, "log_level": "INFO", "tf_session_args": {"log_device_placement": false, "gpu_options": {"allow_growth": true}, "intra_op_parallelism_threads": 2, "inter_op_parallelism_threads": 2, "allow_soft_placement": true, "device_count": {"CPU": 1}}, "model": {"dim": 84, "free_log_std": false, "fcnet_hiddens": [128, 64, 32], "custom_model": null, "fcnet_activation": "tanh", "lstm_use_prev_action_reward": false, "grayscale": false, "channel_major": false, "squash_to_range": false, "framestack": true, "use_lstm": false, "conv_activation": "relu", "conv_filters": null, "custom_preprocessor": null, "lstm_cell_size": 256, "zero_mean": true, "custom_options": {}, "max_seq_len": 20}, "lambda": 0.97, "num_gpus_per_worker": 0, "kl_coeff": 0.2, "horizon": 1500, "preprocessor_pref": "deepmind", "env_config": {"run": "PPO", "flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.1,\n            \"eta3\": 0.1,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 7.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 0\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 700,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}"}, "clip_param": 0.3, "observation_filter": "MeanStdFilter", "env": "MultiWaveAttenuationMergePOEnvBufferedObs-v0density_[eta1, eta2, eta3]:[1.0, 0.1, 0.0]_t_min:7.0", "gamma": 0.99, "lr": 0.0005, "monitor": false, "output_compress_columns": ["obs", "new_obs"], "batch_mode": "truncate_episodes", "num_gpus": 0, "num_workers": 30, "output": null, "collect_metrics_timeout": 180, "num_sgd_iter": 10, "sample_batch_size": 750, "output_max_file_size": 67108864, "straggler_mitigation": false, "train_batch_size": 90000}, "num_metric_batches_dropped": 0, "hostname": "flow-main", "episodes_total": 8916, "episode_reward_min": 220.78932725634942, "time_total_s": 10079.970036268234, "policy_reward_mean": {}, "timesteps_this_iter": 131307, "custom_metrics": {"cost1_mean": 336.3150445187538, "system_level_velocity_mean": 11.76625664940948, "cost2_max": -63.964727392089344, "outflow_rate_max": 1117.858589328318, "outflow_rate_mean": 978.6548121716021, "cost1_max": 397.58700602401814, "outflow_rate_min": 431.31159855405855, "system_level_velocity_max": 13.806747770301577, "system_level_velocity_min": 10.148436392213286, "cost2_min": -130.3010476672889, "cost1_min": 118.1362511079688, "cost2_mean": -109.39776248921797}, "episode_reward_max": 892.9439088288751}
{"node_ip": "10.138.0.2", "episode_reward_mean": 742.664467069524, "time_this_iter_s": 72.1106026172638, "done": false, "episode_len_mean": 745.79, "timestamp": 1557397719, "training_iteration": 145, "experiment_id": "58dd2f5595014063b753971755894587", "time_since_restore": 10152.080638885498, "timesteps_total": 19099959, "pid": 25334, "episodes_this_iter": 63, "date": "2019-05-09_10-28-39", "info": {"sample_time_ms": 37959.945, "grad_time_ms": 32027.596, "num_steps_sampled": 19099959, "update_time_ms": 8.848, "default": {"vf_explained_var": 0.9220196008682251, "cur_kl_coeff": 0.5062499046325684, "vf_loss": 11.88302993774414, "policy_loss": -0.018002353608608246, "cur_lr": 0.0005000000237487257, "kl": 0.016207970678806305, "total_loss": 11.8732328414917, "entropy": 1.7954838275909424}, "load_time_ms": 47.501, "num_steps_trained": 19099959}, "timesteps_since_restore": 19099959, "iterations_since_restore": 145, "config": {"local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "compress_observations": false, "clip_rewards": null, "sample_async": false, "custom_resources_per_worker": {}, "use_gae": true, "vf_share_layers": false, "vf_loss_coeff": 1.0, "optimizer": {}, "simple_optimizer": false, "num_envs_per_worker": 1, "vf_clip_param": 1000000.0, "synchronize_filters": true, "num_cpus_per_worker": 1, "multiagent": {"policy_graphs": {}, "policies_to_train": null, "policy_mapping_fn": null}, "kl_target": 0.01, "clip_actions": false, "input": "sampler", "input_evaluation": null, "entropy_coeff": 0.0, "lr_schedule": null, "sgd_minibatch_size": 128, "callbacks": {"on_sample_end": null, "on_train_result": null, "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7f49896c9f98>", "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7f49896c96a0>", "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7f49896c9358>"}, "num_cpus_for_driver": 1, "log_level": "INFO", "tf_session_args": {"log_device_placement": false, "gpu_options": {"allow_growth": true}, "intra_op_parallelism_threads": 2, "inter_op_parallelism_threads": 2, "allow_soft_placement": true, "device_count": {"CPU": 1}}, "model": {"dim": 84, "free_log_std": false, "fcnet_hiddens": [128, 64, 32], "custom_model": null, "fcnet_activation": "tanh", "lstm_use_prev_action_reward": false, "grayscale": false, "channel_major": false, "squash_to_range": false, "framestack": true, "use_lstm": false, "conv_activation": "relu", "conv_filters": null, "custom_preprocessor": null, "lstm_cell_size": 256, "zero_mean": true, "custom_options": {}, "max_seq_len": 20}, "lambda": 0.97, "num_gpus_per_worker": 0, "kl_coeff": 0.2, "horizon": 1500, "preprocessor_pref": "deepmind", "env_config": {"run": "PPO", "flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.1,\n            \"eta3\": 0.1,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 7.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 0\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 700,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}"}, "clip_param": 0.3, "observation_filter": "MeanStdFilter", "env": "MultiWaveAttenuationMergePOEnvBufferedObs-v0density_[eta1, eta2, eta3]:[1.0, 0.1, 0.0]_t_min:7.0", "gamma": 0.99, "lr": 0.0005, "monitor": false, "output_compress_columns": ["obs", "new_obs"], "batch_mode": "truncate_episodes", "num_gpus": 0, "num_workers": 30, "output": null, "collect_metrics_timeout": 180, "num_sgd_iter": 10, "sample_batch_size": 750, "output_max_file_size": 67108864, "straggler_mitigation": false, "train_batch_size": 90000}, "num_metric_batches_dropped": 0, "hostname": "flow-main", "episodes_total": 8979, "episode_reward_min": 213.65965737608246, "time_total_s": 10152.080638885498, "policy_reward_mean": {}, "timesteps_this_iter": 130413, "custom_metrics": {"cost1_mean": 335.0002908842268, "system_level_velocity_mean": 11.725860303645185, "cost2_max": -62.11070303047779, "outflow_rate_max": 1103.7933087136014, "outflow_rate_mean": 977.4017021886544, "cost1_max": 390.1239380607384, "outflow_rate_min": 425.28225072379144, "system_level_velocity_max": 13.582644866846762, "system_level_velocity_min": 9.424144779495148, "cost2_min": -129.30713388084752, "cost1_min": 115.49962844375672, "cost2_mean": -108.73874680002207}, "episode_reward_max": 892.9439088288751}
{"node_ip": "10.138.0.2", "episode_reward_mean": 735.8226509658649, "time_this_iter_s": 72.823481798172, "done": false, "episode_len_mean": 739.99, "timestamp": 1557397792, "training_iteration": 146, "experiment_id": "58dd2f5595014063b753971755894587", "time_since_restore": 10224.90412068367, "timesteps_total": 19230482, "pid": 25334, "episodes_this_iter": 62, "date": "2019-05-09_10-29-52", "info": {"sample_time_ms": 38277.736, "grad_time_ms": 31645.871, "num_steps_sampled": 19230482, "update_time_ms": 8.671, "default": {"vf_explained_var": 0.9243398904800415, "cur_kl_coeff": 0.5062499642372131, "vf_loss": 11.511632919311523, "policy_loss": -0.01859484426677227, "cur_lr": 0.0005000000237487257, "kl": 0.016192808747291565, "total_loss": 11.501235008239746, "entropy": 1.8041985034942627}, "load_time_ms": 50.518, "num_steps_trained": 19230482}, "timesteps_since_restore": 19230482, "iterations_since_restore": 146, "config": {"local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "compress_observations": false, "clip_rewards": null, "sample_async": false, "custom_resources_per_worker": {}, "use_gae": true, "vf_share_layers": false, "vf_loss_coeff": 1.0, "optimizer": {}, "simple_optimizer": false, "num_envs_per_worker": 1, "vf_clip_param": 1000000.0, "synchronize_filters": true, "num_cpus_per_worker": 1, "multiagent": {"policy_graphs": {}, "policies_to_train": null, "policy_mapping_fn": null}, "kl_target": 0.01, "clip_actions": false, "input": "sampler", "input_evaluation": null, "entropy_coeff": 0.0, "lr_schedule": null, "sgd_minibatch_size": 128, "callbacks": {"on_sample_end": null, "on_train_result": null, "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7f49896c5588>", "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7f49896c5518>", "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7f49896c5cf8>"}, "num_cpus_for_driver": 1, "log_level": "INFO", "tf_session_args": {"log_device_placement": false, "gpu_options": {"allow_growth": true}, "intra_op_parallelism_threads": 2, "inter_op_parallelism_threads": 2, "allow_soft_placement": true, "device_count": {"CPU": 1}}, "model": {"dim": 84, "free_log_std": false, "fcnet_hiddens": [128, 64, 32], "custom_model": null, "fcnet_activation": "tanh", "lstm_use_prev_action_reward": false, "grayscale": false, "channel_major": false, "squash_to_range": false, "framestack": true, "use_lstm": false, "conv_activation": "relu", "conv_filters": null, "custom_preprocessor": null, "lstm_cell_size": 256, "zero_mean": true, "custom_options": {}, "max_seq_len": 20}, "lambda": 0.97, "num_gpus_per_worker": 0, "kl_coeff": 0.2, "horizon": 1500, "preprocessor_pref": "deepmind", "env_config": {"run": "PPO", "flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.1,\n            \"eta3\": 0.1,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 7.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 0\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 700,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}"}, "clip_param": 0.3, "observation_filter": "MeanStdFilter", "env": "MultiWaveAttenuationMergePOEnvBufferedObs-v0density_[eta1, eta2, eta3]:[1.0, 0.1, 0.0]_t_min:7.0", "gamma": 0.99, "lr": 0.0005, "monitor": false, "output_compress_columns": ["obs", "new_obs"], "batch_mode": "truncate_episodes", "num_gpus": 0, "num_workers": 30, "output": null, "collect_metrics_timeout": 180, "num_sgd_iter": 10, "sample_batch_size": 750, "output_max_file_size": 67108864, "straggler_mitigation": false, "train_batch_size": 90000}, "num_metric_batches_dropped": 0, "hostname": "flow-main", "episodes_total": 9041, "episode_reward_min": 212.75369851169475, "time_total_s": 10224.90412068367, "policy_reward_mean": {}, "timesteps_this_iter": 130523, "custom_metrics": {"cost1_mean": 332.74712718292255, "system_level_velocity_mean": 11.744515755472866, "cost2_max": -54.5766782623727, "outflow_rate_max": 1106.0039438460965, "outflow_rate_mean": 972.5428052242028, "cost1_max": 390.1239380607384, "outflow_rate_min": 425.8868095020058, "system_level_velocity_max": 13.582644866846762, "system_level_velocity_min": 9.424144779495148, "cost2_min": -125.22827662385565, "cost1_min": 114.19750549255805, "cost2_mean": -107.40917248794567}, "episode_reward_max": 891.0285570454421}
{"node_ip": "10.138.0.2", "episode_reward_mean": 741.053090729874, "time_this_iter_s": 70.77841758728027, "done": false, "episode_len_mean": 740.49, "timestamp": 1557397863, "training_iteration": 147, "experiment_id": "58dd2f5595014063b753971755894587", "time_since_restore": 10295.68253827095, "timesteps_total": 19359885, "pid": 25334, "episodes_this_iter": 62, "date": "2019-05-09_10-31-03", "info": {"sample_time_ms": 38564.492, "grad_time_ms": 31296.313, "num_steps_sampled": 19359885, "update_time_ms": 8.564, "default": {"vf_explained_var": 0.9320307374000549, "cur_kl_coeff": 0.5062499642372131, "vf_loss": 11.198301315307617, "policy_loss": -0.01795775815844536, "cur_lr": 0.0005000000237487257, "kl": 0.016940535977482796, "total_loss": 11.188919067382812, "entropy": 1.7872905731201172}, "load_time_ms": 51.279, "num_steps_trained": 19359885}, "timesteps_since_restore": 19359885, "iterations_since_restore": 147, "config": {"local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "compress_observations": false, "clip_rewards": null, "sample_async": false, "custom_resources_per_worker": {}, "use_gae": true, "vf_share_layers": false, "vf_loss_coeff": 1.0, "optimizer": {}, "simple_optimizer": false, "num_envs_per_worker": 1, "vf_clip_param": 1000000.0, "synchronize_filters": true, "num_cpus_per_worker": 1, "multiagent": {"policy_graphs": {}, "policies_to_train": null, "policy_mapping_fn": null}, "kl_target": 0.01, "clip_actions": false, "input": "sampler", "input_evaluation": null, "entropy_coeff": 0.0, "lr_schedule": null, "sgd_minibatch_size": 128, "callbacks": {"on_sample_end": null, "on_train_result": null, "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7f49896ca128>", "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7f49896ca8d0>", "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7f49896ca080>"}, "num_cpus_for_driver": 1, "log_level": "INFO", "tf_session_args": {"log_device_placement": false, "gpu_options": {"allow_growth": true}, "intra_op_parallelism_threads": 2, "inter_op_parallelism_threads": 2, "allow_soft_placement": true, "device_count": {"CPU": 1}}, "model": {"dim": 84, "free_log_std": false, "fcnet_hiddens": [128, 64, 32], "custom_model": null, "fcnet_activation": "tanh", "lstm_use_prev_action_reward": false, "grayscale": false, "channel_major": false, "squash_to_range": false, "framestack": true, "use_lstm": false, "conv_activation": "relu", "conv_filters": null, "custom_preprocessor": null, "lstm_cell_size": 256, "zero_mean": true, "custom_options": {}, "max_seq_len": 20}, "lambda": 0.97, "num_gpus_per_worker": 0, "kl_coeff": 0.2, "horizon": 1500, "preprocessor_pref": "deepmind", "env_config": {"run": "PPO", "flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.1,\n            \"eta3\": 0.1,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 7.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 0\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 700,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}"}, "clip_param": 0.3, "observation_filter": "MeanStdFilter", "env": "MultiWaveAttenuationMergePOEnvBufferedObs-v0density_[eta1, eta2, eta3]:[1.0, 0.1, 0.0]_t_min:7.0", "gamma": 0.99, "lr": 0.0005, "monitor": false, "output_compress_columns": ["obs", "new_obs"], "batch_mode": "truncate_episodes", "num_gpus": 0, "num_workers": 30, "output": null, "collect_metrics_timeout": 180, "num_sgd_iter": 10, "sample_batch_size": 750, "output_max_file_size": 67108864, "straggler_mitigation": false, "train_batch_size": 90000}, "num_metric_batches_dropped": 0, "hostname": "flow-main", "episodes_total": 9103, "episode_reward_min": 199.75806446987545, "time_total_s": 10295.68253827095, "policy_reward_mean": {}, "timesteps_this_iter": 129403, "custom_metrics": {"cost1_mean": 335.77346656881787, "system_level_velocity_mean": 11.848808601451822, "cost2_max": -54.5766782623727, "outflow_rate_max": 1110.511290782576, "outflow_rate_mean": 980.8755905703624, "cost1_max": 390.38132820690345, "outflow_rate_min": 399.2189348431984, "system_level_velocity_max": 13.533304278348554, "system_level_velocity_min": 10.747863235602198, "cost2_min": -125.22827662385565, "cost1_min": 106.89880130592095, "cost2_mean": -107.85225158631289}, "episode_reward_max": 883.7399606919705}
{"node_ip": "10.138.0.2", "episode_reward_mean": 747.4334645388335, "time_this_iter_s": 71.61199474334717, "done": false, "episode_len_mean": 740.49, "timestamp": 1557397935, "training_iteration": 148, "experiment_id": "58dd2f5595014063b753971755894587", "time_since_restore": 10367.294533014297, "timesteps_total": 19491271, "pid": 25334, "episodes_this_iter": 63, "date": "2019-05-09_10-32-15", "info": {"sample_time_ms": 38861.176, "grad_time_ms": 31162.641, "num_steps_sampled": 19491271, "update_time_ms": 8.876, "default": {"vf_explained_var": 0.9248753786087036, "cur_kl_coeff": 0.5062499642372131, "vf_loss": 12.59463882446289, "policy_loss": -0.017731893807649612, "cur_lr": 0.0005000000237487257, "kl": 0.01630372740328312, "total_loss": 12.585161209106445, "entropy": 1.801778793334961}, "load_time_ms": 51.48, "num_steps_trained": 19491271}, "timesteps_since_restore": 19491271, "iterations_since_restore": 148, "config": {"local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "compress_observations": false, "clip_rewards": null, "sample_async": false, "custom_resources_per_worker": {}, "use_gae": true, "vf_share_layers": false, "vf_loss_coeff": 1.0, "optimizer": {}, "simple_optimizer": false, "num_envs_per_worker": 1, "vf_clip_param": 1000000.0, "synchronize_filters": true, "num_cpus_per_worker": 1, "multiagent": {"policy_graphs": {}, "policies_to_train": null, "policy_mapping_fn": null}, "kl_target": 0.01, "clip_actions": false, "input": "sampler", "input_evaluation": null, "entropy_coeff": 0.0, "lr_schedule": null, "sgd_minibatch_size": 128, "callbacks": {"on_sample_end": null, "on_train_result": null, "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7f49896c5198>", "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7f49896c5400>", "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7f49896c5ac8>"}, "num_cpus_for_driver": 1, "log_level": "INFO", "tf_session_args": {"log_device_placement": false, "gpu_options": {"allow_growth": true}, "intra_op_parallelism_threads": 2, "inter_op_parallelism_threads": 2, "allow_soft_placement": true, "device_count": {"CPU": 1}}, "model": {"dim": 84, "free_log_std": false, "fcnet_hiddens": [128, 64, 32], "custom_model": null, "fcnet_activation": "tanh", "lstm_use_prev_action_reward": false, "grayscale": false, "channel_major": false, "squash_to_range": false, "framestack": true, "use_lstm": false, "conv_activation": "relu", "conv_filters": null, "custom_preprocessor": null, "lstm_cell_size": 256, "zero_mean": true, "custom_options": {}, "max_seq_len": 20}, "lambda": 0.97, "num_gpus_per_worker": 0, "kl_coeff": 0.2, "horizon": 1500, "preprocessor_pref": "deepmind", "env_config": {"run": "PPO", "flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.1,\n            \"eta3\": 0.1,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 7.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 0\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 700,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}"}, "clip_param": 0.3, "observation_filter": "MeanStdFilter", "env": "MultiWaveAttenuationMergePOEnvBufferedObs-v0density_[eta1, eta2, eta3]:[1.0, 0.1, 0.0]_t_min:7.0", "gamma": 0.99, "lr": 0.0005, "monitor": false, "output_compress_columns": ["obs", "new_obs"], "batch_mode": "truncate_episodes", "num_gpus": 0, "num_workers": 30, "output": null, "collect_metrics_timeout": 180, "num_sgd_iter": 10, "sample_batch_size": 750, "output_max_file_size": 67108864, "straggler_mitigation": false, "train_batch_size": 90000}, "num_metric_batches_dropped": 0, "hostname": "flow-main", "episodes_total": 9166, "episode_reward_min": 199.75806446987545, "time_total_s": 10367.294533014297, "policy_reward_mean": {}, "timesteps_this_iter": 131386, "custom_metrics": {"cost1_mean": 336.7055286011736, "system_level_velocity_mean": 11.878041347942771, "cost2_max": -59.293538335559845, "outflow_rate_max": 1126.3230873449497, "outflow_rate_mean": 981.9906918794096, "cost1_max": 397.18582995368786, "outflow_rate_min": 399.2189348431984, "system_level_velocity_max": 13.700233534544878, "system_level_velocity_min": 9.700409332217786, "cost2_min": -135.13334840956162, "cost1_min": 106.89880130592095, "cost2_mean": -108.27513434085867}, "episode_reward_max": 911.5694981435131}
{"node_ip": "10.138.0.2", "episode_reward_mean": 757.8646903297528, "time_this_iter_s": 71.39133930206299, "done": false, "episode_len_mean": 745.79, "timestamp": 1557398006, "training_iteration": 149, "experiment_id": "58dd2f5595014063b753971755894587", "time_since_restore": 10438.68587231636, "timesteps_total": 19622903, "pid": 25334, "episodes_this_iter": 62, "date": "2019-05-09_10-33-26", "info": {"sample_time_ms": 38986.746, "grad_time_ms": 31252.224, "num_steps_sampled": 19622903, "update_time_ms": 8.918, "default": {"vf_explained_var": 0.9306793212890625, "cur_kl_coeff": 0.5062499046325684, "vf_loss": 11.270498275756836, "policy_loss": -0.01872885227203369, "cur_lr": 0.0005000000237487257, "kl": 0.01633859984576702, "total_loss": 11.260041236877441, "entropy": 1.8076047897338867}, "load_time_ms": 51.063, "num_steps_trained": 19622903}, "timesteps_since_restore": 19622903, "iterations_since_restore": 149, "config": {"local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "compress_observations": false, "clip_rewards": null, "sample_async": false, "custom_resources_per_worker": {}, "use_gae": true, "vf_share_layers": false, "vf_loss_coeff": 1.0, "optimizer": {}, "simple_optimizer": false, "num_envs_per_worker": 1, "vf_clip_param": 1000000.0, "synchronize_filters": true, "num_cpus_per_worker": 1, "multiagent": {"policy_graphs": {}, "policies_to_train": null, "policy_mapping_fn": null}, "kl_target": 0.01, "clip_actions": false, "input": "sampler", "input_evaluation": null, "entropy_coeff": 0.0, "lr_schedule": null, "sgd_minibatch_size": 128, "callbacks": {"on_sample_end": null, "on_train_result": null, "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7f49896c97f0>", "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7f49896c9b70>", "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7f49896c9828>"}, "num_cpus_for_driver": 1, "log_level": "INFO", "tf_session_args": {"log_device_placement": false, "gpu_options": {"allow_growth": true}, "intra_op_parallelism_threads": 2, "inter_op_parallelism_threads": 2, "allow_soft_placement": true, "device_count": {"CPU": 1}}, "model": {"dim": 84, "free_log_std": false, "fcnet_hiddens": [128, 64, 32], "custom_model": null, "fcnet_activation": "tanh", "lstm_use_prev_action_reward": false, "grayscale": false, "channel_major": false, "squash_to_range": false, "framestack": true, "use_lstm": false, "conv_activation": "relu", "conv_filters": null, "custom_preprocessor": null, "lstm_cell_size": 256, "zero_mean": true, "custom_options": {}, "max_seq_len": 20}, "lambda": 0.97, "num_gpus_per_worker": 0, "kl_coeff": 0.2, "horizon": 1500, "preprocessor_pref": "deepmind", "env_config": {"run": "PPO", "flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.1,\n            \"eta3\": 0.1,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 7.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 0\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 700,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}"}, "clip_param": 0.3, "observation_filter": "MeanStdFilter", "env": "MultiWaveAttenuationMergePOEnvBufferedObs-v0density_[eta1, eta2, eta3]:[1.0, 0.1, 0.0]_t_min:7.0", "gamma": 0.99, "lr": 0.0005, "monitor": false, "output_compress_columns": ["obs", "new_obs"], "batch_mode": "truncate_episodes", "num_gpus": 0, "num_workers": 30, "output": null, "collect_metrics_timeout": 180, "num_sgd_iter": 10, "sample_batch_size": 750, "output_max_file_size": 67108864, "straggler_mitigation": false, "train_batch_size": 90000}, "num_metric_batches_dropped": 0, "hostname": "flow-main", "episodes_total": 9228, "episode_reward_min": 215.89281960591276, "time_total_s": 10438.68587231636, "policy_reward_mean": {}, "timesteps_this_iter": 131632, "custom_metrics": {"cost1_mean": 338.35854835670756, "system_level_velocity_mean": 11.821934547554417, "cost2_max": -63.31359993080911, "outflow_rate_max": 1130.5039379451293, "outflow_rate_mean": 987.152043448283, "cost1_max": 403.5283424696429, "outflow_rate_min": 423.1318415825732, "system_level_velocity_max": 13.852380982533305, "system_level_velocity_min": 9.69968765099113, "cost2_min": -139.20380819696436, "cost1_min": 115.99365952811793, "cost2_mean": -111.47928237893296}, "episode_reward_max": 940.0936352738307}
{"node_ip": "10.138.0.2", "episode_reward_mean": 755.3139335195791, "time_this_iter_s": 69.7926459312439, "done": false, "episode_len_mean": 751.0, "timestamp": 1557398076, "training_iteration": 150, "experiment_id": "58dd2f5595014063b753971755894587", "time_since_restore": 10508.478518247604, "timesteps_total": 19754350, "pid": 25334, "episodes_this_iter": 62, "date": "2019-05-09_10-34-36", "info": {"sample_time_ms": 39068.303, "grad_time_ms": 31421.554, "num_steps_sampled": 19754350, "update_time_ms": 9.031, "default": {"vf_explained_var": 0.929450273513794, "cur_kl_coeff": 0.5062499642372131, "vf_loss": 11.574779510498047, "policy_loss": -0.01818789169192314, "cur_lr": 0.0005000000237487257, "kl": 0.01658431440591812, "total_loss": 11.564987182617188, "entropy": 1.8182458877563477}, "load_time_ms": 50.925, "num_steps_trained": 19754350}, "timesteps_since_restore": 19754350, "iterations_since_restore": 150, "config": {"local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "compress_observations": false, "clip_rewards": null, "sample_async": false, "custom_resources_per_worker": {}, "use_gae": true, "vf_share_layers": false, "vf_loss_coeff": 1.0, "optimizer": {}, "simple_optimizer": false, "num_envs_per_worker": 1, "vf_clip_param": 1000000.0, "synchronize_filters": true, "num_cpus_per_worker": 1, "multiagent": {"policy_graphs": {}, "policies_to_train": null, "policy_mapping_fn": null}, "kl_target": 0.01, "clip_actions": false, "input": "sampler", "input_evaluation": null, "entropy_coeff": 0.0, "lr_schedule": null, "sgd_minibatch_size": 128, "callbacks": {"on_sample_end": null, "on_train_result": null, "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7f49896cae80>", "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7f49896ca908>", "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7f49896ca400>"}, "num_cpus_for_driver": 1, "log_level": "INFO", "tf_session_args": {"log_device_placement": false, "gpu_options": {"allow_growth": true}, "intra_op_parallelism_threads": 2, "inter_op_parallelism_threads": 2, "allow_soft_placement": true, "device_count": {"CPU": 1}}, "model": {"dim": 84, "free_log_std": false, "fcnet_hiddens": [128, 64, 32], "custom_model": null, "fcnet_activation": "tanh", "lstm_use_prev_action_reward": false, "grayscale": false, "channel_major": false, "squash_to_range": false, "framestack": true, "use_lstm": false, "conv_activation": "relu", "conv_filters": null, "custom_preprocessor": null, "lstm_cell_size": 256, "zero_mean": true, "custom_options": {}, "max_seq_len": 20}, "lambda": 0.97, "num_gpus_per_worker": 0, "kl_coeff": 0.2, "horizon": 1500, "preprocessor_pref": "deepmind", "env_config": {"run": "PPO", "flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.1,\n            \"eta3\": 0.1,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 7.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 0\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 700,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}"}, "clip_param": 0.3, "observation_filter": "MeanStdFilter", "env": "MultiWaveAttenuationMergePOEnvBufferedObs-v0density_[eta1, eta2, eta3]:[1.0, 0.1, 0.0]_t_min:7.0", "gamma": 0.99, "lr": 0.0005, "monitor": false, "output_compress_columns": ["obs", "new_obs"], "batch_mode": "truncate_episodes", "num_gpus": 0, "num_workers": 30, "output": null, "collect_metrics_timeout": 180, "num_sgd_iter": 10, "sample_batch_size": 750, "output_max_file_size": 67108864, "straggler_mitigation": false, "train_batch_size": 90000}, "num_metric_batches_dropped": 0, "hostname": "flow-main", "episodes_total": 9290, "episode_reward_min": 675.5487759965699, "time_total_s": 10508.478518247604, "policy_reward_mean": {}, "timesteps_this_iter": 131447, "custom_metrics": {"cost1_mean": 338.35977317085286, "system_level_velocity_mean": 11.737886074214307, "cost2_max": -87.46031447809852, "outflow_rate_max": 1130.5039379451293, "outflow_rate_mean": 986.4483482085986, "cost1_max": 403.5283424696429, "outflow_rate_min": 852.283448908466, "system_level_velocity_max": 13.852380982533305, "system_level_velocity_min": 10.04373566449562, "cost2_min": -139.20380819696436, "cost1_min": 289.8051482539597, "cost2_mean": -110.00797971687767}, "episode_reward_max": 940.0936352738307}
{"node_ip": "10.138.0.2", "episode_reward_mean": 737.3444911931584, "time_this_iter_s": 68.00331997871399, "done": false, "episode_len_mean": 741.24, "timestamp": 1557398144, "training_iteration": 151, "experiment_id": "58dd2f5595014063b753971755894587", "time_since_restore": 10576.481838226318, "timesteps_total": 19884886, "pid": 25334, "episodes_this_iter": 63, "date": "2019-05-09_10-35-44", "info": {"sample_time_ms": 38880.04, "grad_time_ms": 31467.8, "num_steps_sampled": 19884886, "update_time_ms": 9.004, "default": {"vf_explained_var": 0.9283791184425354, "cur_kl_coeff": 0.5062499642372131, "vf_loss": 12.056918144226074, "policy_loss": -0.01770898513495922, "cur_lr": 0.0005000000237487257, "kl": 0.016792690381407738, "total_loss": 12.047710418701172, "entropy": 1.8266193866729736}, "load_time_ms": 52.584, "num_steps_trained": 19884886}, "timesteps_since_restore": 19884886, "iterations_since_restore": 151, "config": {"local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "compress_observations": false, "clip_rewards": null, "sample_async": false, "custom_resources_per_worker": {}, "use_gae": true, "vf_share_layers": false, "vf_loss_coeff": 1.0, "optimizer": {}, "simple_optimizer": false, "num_envs_per_worker": 1, "vf_clip_param": 1000000.0, "synchronize_filters": true, "num_cpus_per_worker": 1, "multiagent": {"policy_graphs": {}, "policies_to_train": null, "policy_mapping_fn": null}, "kl_target": 0.01, "clip_actions": false, "input": "sampler", "input_evaluation": null, "entropy_coeff": 0.0, "lr_schedule": null, "sgd_minibatch_size": 128, "callbacks": {"on_sample_end": null, "on_train_result": null, "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7f49896b14a8>", "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7f49896b1a58>", "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7f49896b10b8>"}, "num_cpus_for_driver": 1, "log_level": "INFO", "tf_session_args": {"log_device_placement": false, "gpu_options": {"allow_growth": true}, "intra_op_parallelism_threads": 2, "inter_op_parallelism_threads": 2, "allow_soft_placement": true, "device_count": {"CPU": 1}}, "model": {"dim": 84, "free_log_std": false, "fcnet_hiddens": [128, 64, 32], "custom_model": null, "fcnet_activation": "tanh", "lstm_use_prev_action_reward": false, "grayscale": false, "channel_major": false, "squash_to_range": false, "framestack": true, "use_lstm": false, "conv_activation": "relu", "conv_filters": null, "custom_preprocessor": null, "lstm_cell_size": 256, "zero_mean": true, "custom_options": {}, "max_seq_len": 20}, "lambda": 0.97, "num_gpus_per_worker": 0, "kl_coeff": 0.2, "horizon": 1500, "preprocessor_pref": "deepmind", "env_config": {"run": "PPO", "flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.1,\n            \"eta3\": 0.1,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 7.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 0\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 700,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}"}, "clip_param": 0.3, "observation_filter": "MeanStdFilter", "env": "MultiWaveAttenuationMergePOEnvBufferedObs-v0density_[eta1, eta2, eta3]:[1.0, 0.1, 0.0]_t_min:7.0", "gamma": 0.99, "lr": 0.0005, "monitor": false, "output_compress_columns": ["obs", "new_obs"], "batch_mode": "truncate_episodes", "num_gpus": 0, "num_workers": 30, "output": null, "collect_metrics_timeout": 180, "num_sgd_iter": 10, "sample_batch_size": 750, "output_max_file_size": 67108864, "straggler_mitigation": false, "train_batch_size": 90000}, "num_metric_batches_dropped": 0, "hostname": "flow-main", "episodes_total": 9353, "episode_reward_min": 200.4348738789073, "time_total_s": 10576.481838226318, "policy_reward_mean": {}, "timesteps_this_iter": 130536, "custom_metrics": {"cost1_mean": 330.98244072424313, "system_level_velocity_mean": 11.674292542182348, "cost2_max": -50.642349196707684, "outflow_rate_max": 1116.875842706081, "outflow_rate_mean": 968.7009122903011, "cost1_max": 395.1879649152164, "outflow_rate_min": 398.6705761234097, "system_level_velocity_max": 13.781862475742459, "system_level_velocity_min": 10.04373566449562, "cost2_min": -130.6523721306581, "cost1_min": 104.81213032638695, "cost2_mean": -107.70283221301959}, "episode_reward_max": 907.6537157313402}
{"node_ip": "10.138.0.2", "episode_reward_mean": 745.131749522682, "time_this_iter_s": 67.1930239200592, "done": false, "episode_len_mean": 746.57, "timestamp": 1557398211, "training_iteration": 152, "experiment_id": "58dd2f5595014063b753971755894587", "time_since_restore": 10643.674862146378, "timesteps_total": 20015278, "pid": 25334, "episodes_this_iter": 62, "date": "2019-05-09_10-36-51", "info": {"sample_time_ms": 38695.872, "grad_time_ms": 31444.624, "num_steps_sampled": 20015278, "update_time_ms": 8.969, "default": {"vf_explained_var": 0.925852358341217, "cur_kl_coeff": 0.5062499046325684, "vf_loss": 12.170031547546387, "policy_loss": -0.01855202578008175, "cur_lr": 0.0005000000237487257, "kl": 0.017348194494843483, "total_loss": 12.160262107849121, "entropy": 1.818711757659912}, "load_time_ms": 51.99, "num_steps_trained": 20015278}, "timesteps_since_restore": 20015278, "iterations_since_restore": 152, "config": {"local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "compress_observations": false, "clip_rewards": null, "sample_async": false, "custom_resources_per_worker": {}, "use_gae": true, "vf_share_layers": false, "vf_loss_coeff": 1.0, "optimizer": {}, "simple_optimizer": false, "num_envs_per_worker": 1, "vf_clip_param": 1000000.0, "synchronize_filters": true, "num_cpus_per_worker": 1, "multiagent": {"policy_graphs": {}, "policies_to_train": null, "policy_mapping_fn": null}, "kl_target": 0.01, "clip_actions": false, "input": "sampler", "input_evaluation": null, "entropy_coeff": 0.0, "lr_schedule": null, "sgd_minibatch_size": 128, "callbacks": {"on_sample_end": null, "on_train_result": null, "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7f49896c9b38>", "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7f49896c9198>", "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7f49896c94a8>"}, "num_cpus_for_driver": 1, "log_level": "INFO", "tf_session_args": {"log_device_placement": false, "gpu_options": {"allow_growth": true}, "intra_op_parallelism_threads": 2, "inter_op_parallelism_threads": 2, "allow_soft_placement": true, "device_count": {"CPU": 1}}, "model": {"dim": 84, "free_log_std": false, "fcnet_hiddens": [128, 64, 32], "custom_model": null, "fcnet_activation": "tanh", "lstm_use_prev_action_reward": false, "grayscale": false, "channel_major": false, "squash_to_range": false, "framestack": true, "use_lstm": false, "conv_activation": "relu", "conv_filters": null, "custom_preprocessor": null, "lstm_cell_size": 256, "zero_mean": true, "custom_options": {}, "max_seq_len": 20}, "lambda": 0.97, "num_gpus_per_worker": 0, "kl_coeff": 0.2, "horizon": 1500, "preprocessor_pref": "deepmind", "env_config": {"run": "PPO", "flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.1,\n            \"eta3\": 0.1,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 7.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 0\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 700,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}"}, "clip_param": 0.3, "observation_filter": "MeanStdFilter", "env": "MultiWaveAttenuationMergePOEnvBufferedObs-v0density_[eta1, eta2, eta3]:[1.0, 0.1, 0.0]_t_min:7.0", "gamma": 0.99, "lr": 0.0005, "monitor": false, "output_compress_columns": ["obs", "new_obs"], "batch_mode": "truncate_episodes", "num_gpus": 0, "num_workers": 30, "output": null, "collect_metrics_timeout": 180, "num_sgd_iter": 10, "sample_batch_size": 750, "output_max_file_size": 67108864, "straggler_mitigation": false, "train_batch_size": 90000}, "num_metric_batches_dropped": 0, "hostname": "flow-main", "episodes_total": 9415, "episode_reward_min": 337.988178419152, "time_total_s": 10643.674862146378, "policy_reward_mean": {}, "timesteps_this_iter": 130392, "custom_metrics": {"cost1_mean": 335.0090158260677, "system_level_velocity_mean": 11.72609312259317, "cost2_max": -77.6945351522693, "outflow_rate_max": 1117.9253939569498, "outflow_rate_mean": 978.7634593485251, "cost1_max": 396.7596685592563, "outflow_rate_min": 544.003205799917, "system_level_velocity_max": 13.781862475742459, "system_level_velocity_min": 10.052087019846683, "cost2_min": -129.75739602525414, "cost1_min": 162.79309956283464, "cost2_mean": -108.39771230446428}, "episode_reward_max": 904.2806886488186}
{"node_ip": "10.138.0.2", "episode_reward_mean": 726.6528089182233, "time_this_iter_s": 68.68521189689636, "done": false, "episode_len_mean": 733.98, "timestamp": 1557398280, "training_iteration": 153, "experiment_id": "58dd2f5595014063b753971755894587", "time_since_restore": 10712.360074043274, "timesteps_total": 20145550, "pid": 25334, "episodes_this_iter": 64, "date": "2019-05-09_10-38-00", "info": {"sample_time_ms": 38510.599, "grad_time_ms": 31523.217, "num_steps_sampled": 20145550, "update_time_ms": 8.854, "default": {"vf_explained_var": 0.9276409149169922, "cur_kl_coeff": 0.5062499642372131, "vf_loss": 12.340975761413574, "policy_loss": -0.018208656460046768, "cur_lr": 0.0005000000237487257, "kl": 0.016677819192409515, "total_loss": 12.33121109008789, "entropy": 1.8303992748260498}, "load_time_ms": 51.344, "num_steps_trained": 20145550}, "timesteps_since_restore": 20145550, "iterations_since_restore": 153, "config": {"local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "compress_observations": false, "clip_rewards": null, "sample_async": false, "custom_resources_per_worker": {}, "use_gae": true, "vf_share_layers": false, "vf_loss_coeff": 1.0, "optimizer": {}, "simple_optimizer": false, "num_envs_per_worker": 1, "vf_clip_param": 1000000.0, "synchronize_filters": true, "num_cpus_per_worker": 1, "multiagent": {"policy_graphs": {}, "policies_to_train": null, "policy_mapping_fn": null}, "kl_target": 0.01, "clip_actions": false, "input": "sampler", "input_evaluation": null, "entropy_coeff": 0.0, "lr_schedule": null, "sgd_minibatch_size": 128, "callbacks": {"on_sample_end": null, "on_train_result": null, "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7f49896c5b70>", "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7f49896c5080>", "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7f49896c5438>"}, "num_cpus_for_driver": 1, "log_level": "INFO", "tf_session_args": {"log_device_placement": false, "gpu_options": {"allow_growth": true}, "intra_op_parallelism_threads": 2, "inter_op_parallelism_threads": 2, "allow_soft_placement": true, "device_count": {"CPU": 1}}, "model": {"dim": 84, "free_log_std": false, "fcnet_hiddens": [128, 64, 32], "custom_model": null, "fcnet_activation": "tanh", "lstm_use_prev_action_reward": false, "grayscale": false, "channel_major": false, "squash_to_range": false, "framestack": true, "use_lstm": false, "conv_activation": "relu", "conv_filters": null, "custom_preprocessor": null, "lstm_cell_size": 256, "zero_mean": true, "custom_options": {}, "max_seq_len": 20}, "lambda": 0.97, "num_gpus_per_worker": 0, "kl_coeff": 0.2, "horizon": 1500, "preprocessor_pref": "deepmind", "env_config": {"run": "PPO", "flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.1,\n            \"eta3\": 0.1,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 7.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 0\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 700,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}"}, "clip_param": 0.3, "observation_filter": "MeanStdFilter", "env": "MultiWaveAttenuationMergePOEnvBufferedObs-v0density_[eta1, eta2, eta3]:[1.0, 0.1, 0.0]_t_min:7.0", "gamma": 0.99, "lr": 0.0005, "monitor": false, "output_compress_columns": ["obs", "new_obs"], "batch_mode": "truncate_episodes", "num_gpus": 0, "num_workers": 30, "output": null, "collect_metrics_timeout": 180, "num_sgd_iter": 10, "sample_batch_size": 750, "output_max_file_size": 67108864, "straggler_mitigation": false, "train_batch_size": 90000}, "num_metric_batches_dropped": 0, "hostname": "flow-main", "episodes_total": 9479, "episode_reward_min": 215.52763293977512, "time_total_s": 10712.360074043274, "policy_reward_mean": {}, "timesteps_this_iter": 130272, "custom_metrics": {"cost1_mean": 327.74603547997884, "system_level_velocity_mean": 11.688045937205123, "cost2_max": -59.857176972664945, "outflow_rate_max": 1117.9253939569498, "outflow_rate_mean": 960.8064542051148, "cost1_max": 396.7596685592563, "outflow_rate_min": 422.7613445601431, "system_level_velocity_max": 13.708284848545613, "system_level_velocity_min": 9.847382913248106, "cost2_min": -131.08336558927223, "cost1_min": 114.46482482260153, "cost2_mean": -108.59684308113584}, "episode_reward_max": 897.6916103998088}
{"node_ip": "10.138.0.2", "episode_reward_mean": 737.6754671636871, "time_this_iter_s": 70.94742321968079, "done": false, "episode_len_mean": 745.79, "timestamp": 1557398351, "training_iteration": 154, "experiment_id": "58dd2f5595014063b753971755894587", "time_since_restore": 10783.307497262955, "timesteps_total": 20276307, "pid": 25334, "episodes_this_iter": 63, "date": "2019-05-09_10-39-11", "info": {"sample_time_ms": 38355.319, "grad_time_ms": 31668.41, "num_steps_sampled": 20276307, "update_time_ms": 8.858, "default": {"vf_explained_var": 0.9271317720413208, "cur_kl_coeff": 0.5062499046325684, "vf_loss": 11.974379539489746, "policy_loss": -0.017607353627681732, "cur_lr": 0.0005000000237487257, "kl": 0.016775593161582947, "total_loss": 11.965265274047852, "entropy": 1.8153374195098877}, "load_time_ms": 52.32, "num_steps_trained": 20276307}, "timesteps_since_restore": 20276307, "iterations_since_restore": 154, "config": {"local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "compress_observations": false, "clip_rewards": null, "sample_async": false, "custom_resources_per_worker": {}, "use_gae": true, "vf_share_layers": false, "vf_loss_coeff": 1.0, "optimizer": {}, "simple_optimizer": false, "num_envs_per_worker": 1, "vf_clip_param": 1000000.0, "synchronize_filters": true, "num_cpus_per_worker": 1, "multiagent": {"policy_graphs": {}, "policies_to_train": null, "policy_mapping_fn": null}, "kl_target": 0.01, "clip_actions": false, "input": "sampler", "input_evaluation": null, "entropy_coeff": 0.0, "lr_schedule": null, "sgd_minibatch_size": 128, "callbacks": {"on_sample_end": null, "on_train_result": null, "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7f49896c9f98>", "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7f49896c9630>", "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7f49896c9160>"}, "num_cpus_for_driver": 1, "log_level": "INFO", "tf_session_args": {"log_device_placement": false, "gpu_options": {"allow_growth": true}, "intra_op_parallelism_threads": 2, "inter_op_parallelism_threads": 2, "allow_soft_placement": true, "device_count": {"CPU": 1}}, "model": {"dim": 84, "free_log_std": false, "fcnet_hiddens": [128, 64, 32], "custom_model": null, "fcnet_activation": "tanh", "lstm_use_prev_action_reward": false, "grayscale": false, "channel_major": false, "squash_to_range": false, "framestack": true, "use_lstm": false, "conv_activation": "relu", "conv_filters": null, "custom_preprocessor": null, "lstm_cell_size": 256, "zero_mean": true, "custom_options": {}, "max_seq_len": 20}, "lambda": 0.97, "num_gpus_per_worker": 0, "kl_coeff": 0.2, "horizon": 1500, "preprocessor_pref": "deepmind", "env_config": {"run": "PPO", "flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.1,\n            \"eta3\": 0.1,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 7.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 0\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 700,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}"}, "clip_param": 0.3, "observation_filter": "MeanStdFilter", "env": "MultiWaveAttenuationMergePOEnvBufferedObs-v0density_[eta1, eta2, eta3]:[1.0, 0.1, 0.0]_t_min:7.0", "gamma": 0.99, "lr": 0.0005, "monitor": false, "output_compress_columns": ["obs", "new_obs"], "batch_mode": "truncate_episodes", "num_gpus": 0, "num_workers": 30, "output": null, "collect_metrics_timeout": 180, "num_sgd_iter": 10, "sample_batch_size": 750, "output_max_file_size": 67108864, "straggler_mitigation": false, "train_batch_size": 90000}, "num_metric_batches_dropped": 0, "hostname": "flow-main", "episodes_total": 9542, "episode_reward_min": 215.81395457230587, "time_total_s": 10783.307497262955, "policy_reward_mean": {}, "timesteps_this_iter": 130757, "custom_metrics": {"cost1_mean": 331.6943773090056, "system_level_velocity_mean": 11.627355600871383, "cost2_max": -57.42155830165028, "outflow_rate_max": 1110.887450487168, "outflow_rate_mean": 970.8942592093625, "cost1_max": 391.85311587868387, "outflow_rate_min": 432.2928970516982, "system_level_velocity_max": 13.535209562252769, "system_level_velocity_min": 9.847382913248106, "cost2_min": -131.08336558927223, "cost1_min": 115.88764676513766, "cost2_mean": -110.55057481535557}, "episode_reward_max": 897.6916103998088}
{"node_ip": "10.138.0.2", "episode_reward_mean": 744.0475750831305, "time_this_iter_s": 70.32856059074402, "done": false, "episode_len_mean": 745.79, "timestamp": 1557398421, "training_iteration": 155, "experiment_id": "58dd2f5595014063b753971755894587", "time_since_restore": 10853.636057853699, "timesteps_total": 20407946, "pid": 25334, "episodes_this_iter": 62, "date": "2019-05-09_10-40-21", "info": {"sample_time_ms": 38386.637, "grad_time_ms": 31458.327, "num_steps_sampled": 20407946, "update_time_ms": 8.977, "default": {"vf_explained_var": 0.9329695105552673, "cur_kl_coeff": 0.5062499046325684, "vf_loss": 11.139302253723145, "policy_loss": -0.018148677423596382, "cur_lr": 0.0005000000237487257, "kl": 0.01665525510907173, "total_loss": 11.129585266113281, "entropy": 1.8267849683761597}, "load_time_ms": 51.95, "num_steps_trained": 20407946}, "timesteps_since_restore": 20407946, "iterations_since_restore": 155, "config": {"local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "compress_observations": false, "clip_rewards": null, "sample_async": false, "custom_resources_per_worker": {}, "use_gae": true, "vf_share_layers": false, "vf_loss_coeff": 1.0, "optimizer": {}, "simple_optimizer": false, "num_envs_per_worker": 1, "vf_clip_param": 1000000.0, "synchronize_filters": true, "num_cpus_per_worker": 1, "multiagent": {"policy_graphs": {}, "policies_to_train": null, "policy_mapping_fn": null}, "kl_target": 0.01, "clip_actions": false, "input": "sampler", "input_evaluation": null, "entropy_coeff": 0.0, "lr_schedule": null, "sgd_minibatch_size": 128, "callbacks": {"on_sample_end": null, "on_train_result": null, "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7f49896ca160>", "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7f49896ca668>", "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7f49896cad30>"}, "num_cpus_for_driver": 1, "log_level": "INFO", "tf_session_args": {"log_device_placement": false, "gpu_options": {"allow_growth": true}, "intra_op_parallelism_threads": 2, "inter_op_parallelism_threads": 2, "allow_soft_placement": true, "device_count": {"CPU": 1}}, "model": {"dim": 84, "free_log_std": false, "fcnet_hiddens": [128, 64, 32], "custom_model": null, "fcnet_activation": "tanh", "lstm_use_prev_action_reward": false, "grayscale": false, "channel_major": false, "squash_to_range": false, "framestack": true, "use_lstm": false, "conv_activation": "relu", "conv_filters": null, "custom_preprocessor": null, "lstm_cell_size": 256, "zero_mean": true, "custom_options": {}, "max_seq_len": 20}, "lambda": 0.97, "num_gpus_per_worker": 0, "kl_coeff": 0.2, "horizon": 1500, "preprocessor_pref": "deepmind", "env_config": {"run": "PPO", "flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.1,\n            \"eta3\": 0.1,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 7.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 0\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 700,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}"}, "clip_param": 0.3, "observation_filter": "MeanStdFilter", "env": "MultiWaveAttenuationMergePOEnvBufferedObs-v0density_[eta1, eta2, eta3]:[1.0, 0.1, 0.0]_t_min:7.0", "gamma": 0.99, "lr": 0.0005, "monitor": false, "output_compress_columns": ["obs", "new_obs"], "batch_mode": "truncate_episodes", "num_gpus": 0, "num_workers": 30, "output": null, "collect_metrics_timeout": 180, "num_sgd_iter": 10, "sample_batch_size": 750, "output_max_file_size": 67108864, "straggler_mitigation": false, "train_batch_size": 90000}, "num_metric_batches_dropped": 0, "hostname": "flow-main", "episodes_total": 9604, "episode_reward_min": 215.81395457230587, "time_total_s": 10853.636057853699, "policy_reward_mean": {}, "timesteps_this_iter": 131639, "custom_metrics": {"cost1_mean": 336.12504380373815, "system_level_velocity_mean": 11.772718371766148, "cost2_max": -57.42155830165028, "outflow_rate_max": 1114.6023245081576, "outflow_rate_mean": 984.5478786226266, "cost1_max": 393.3858382337567, "outflow_rate_min": 432.2928970516982, "system_level_velocity_max": 13.501925587913004, "system_level_velocity_min": 10.781599806859663, "cost2_min": -131.78542235463806, "cost1_min": 115.88764676513766, "cost2_mean": -112.53016642738335}, "episode_reward_max": 901.0587741676045}
{"node_ip": "10.138.0.2", "episode_reward_mean": 745.6596587076793, "time_this_iter_s": 71.57021641731262, "done": false, "episode_len_mean": 744.88, "timestamp": 1557398493, "training_iteration": 156, "experiment_id": "58dd2f5595014063b753971755894587", "time_since_restore": 10925.206274271011, "timesteps_total": 20539686, "pid": 25334, "episodes_this_iter": 63, "date": "2019-05-09_10-41-33", "info": {"sample_time_ms": 38339.882, "grad_time_ms": 31395.207, "num_steps_sampled": 20539686, "update_time_ms": 9.065, "default": {"vf_explained_var": 0.9307219386100769, "cur_kl_coeff": 0.5062499046325684, "vf_loss": 11.641196250915527, "policy_loss": -0.018961939960718155, "cur_lr": 0.0005000000237487257, "kl": 0.017245354130864143, "total_loss": 11.630963325500488, "entropy": 1.8235114812850952}, "load_time_ms": 48.365, "num_steps_trained": 20539686}, "timesteps_since_restore": 20539686, "iterations_since_restore": 156, "config": {"local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "compress_observations": false, "clip_rewards": null, "sample_async": false, "custom_resources_per_worker": {}, "use_gae": true, "vf_share_layers": false, "vf_loss_coeff": 1.0, "optimizer": {}, "simple_optimizer": false, "num_envs_per_worker": 1, "vf_clip_param": 1000000.0, "synchronize_filters": true, "num_cpus_per_worker": 1, "multiagent": {"policy_graphs": {}, "policies_to_train": null, "policy_mapping_fn": null}, "kl_target": 0.01, "clip_actions": false, "input": "sampler", "input_evaluation": null, "entropy_coeff": 0.0, "lr_schedule": null, "sgd_minibatch_size": 128, "callbacks": {"on_sample_end": null, "on_train_result": null, "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7f49896c5048>", "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7f49896c5550>", "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7f49896c5c18>"}, "num_cpus_for_driver": 1, "log_level": "INFO", "tf_session_args": {"log_device_placement": false, "gpu_options": {"allow_growth": true}, "intra_op_parallelism_threads": 2, "inter_op_parallelism_threads": 2, "allow_soft_placement": true, "device_count": {"CPU": 1}}, "model": {"dim": 84, "free_log_std": false, "fcnet_hiddens": [128, 64, 32], "custom_model": null, "fcnet_activation": "tanh", "lstm_use_prev_action_reward": false, "grayscale": false, "channel_major": false, "squash_to_range": false, "framestack": true, "use_lstm": false, "conv_activation": "relu", "conv_filters": null, "custom_preprocessor": null, "lstm_cell_size": 256, "zero_mean": true, "custom_options": {}, "max_seq_len": 20}, "lambda": 0.97, "num_gpus_per_worker": 0, "kl_coeff": 0.2, "horizon": 1500, "preprocessor_pref": "deepmind", "env_config": {"run": "PPO", "flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.1,\n            \"eta3\": 0.1,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 7.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 0\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 700,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}"}, "clip_param": 0.3, "observation_filter": "MeanStdFilter", "env": "MultiWaveAttenuationMergePOEnvBufferedObs-v0density_[eta1, eta2, eta3]:[1.0, 0.1, 0.0]_t_min:7.0", "gamma": 0.99, "lr": 0.0005, "monitor": false, "output_compress_columns": ["obs", "new_obs"], "batch_mode": "truncate_episodes", "num_gpus": 0, "num_workers": 30, "output": null, "collect_metrics_timeout": 180, "num_sgd_iter": 10, "sample_batch_size": 750, "output_max_file_size": 67108864, "straggler_mitigation": false, "train_batch_size": 90000}, "num_metric_batches_dropped": 0, "hostname": "flow-main", "episodes_total": 9667, "episode_reward_min": 339.9919859433959, "time_total_s": 10925.206274271011, "policy_reward_mean": {}, "timesteps_this_iter": 131740, "custom_metrics": {"cost1_mean": 337.6668621645968, "system_level_velocity_mean": 11.838453035157857, "cost2_max": -80.88735007156754, "outflow_rate_max": 1120.7578235864546, "outflow_rate_mean": 988.1849582963316, "cost1_max": 393.6516089249417, "outflow_rate_min": 549.1955117928619, "system_level_velocity_max": 13.832995532500858, "system_level_velocity_min": 10.330051653538705, "cost2_min": -135.899814034251, "cost1_min": 164.85469306018086, "cost2_mean": -114.27616547615104}, "episode_reward_max": 895.8387413910386}
{"node_ip": "10.138.0.2", "episode_reward_mean": 745.3229387467821, "time_this_iter_s": 72.87291669845581, "done": false, "episode_len_mean": 744.09, "timestamp": 1557398566, "training_iteration": 157, "experiment_id": "58dd2f5595014063b753971755894587", "time_since_restore": 10998.079190969467, "timesteps_total": 20671748, "pid": 25334, "episodes_this_iter": 63, "date": "2019-05-09_10-42-46", "info": {"sample_time_ms": 38477.348, "grad_time_ms": 31466.943, "num_steps_sampled": 20671748, "update_time_ms": 8.82, "default": {"vf_explained_var": 0.9204428195953369, "cur_kl_coeff": 0.5062499642372131, "vf_loss": 13.154669761657715, "policy_loss": -0.019237136468291283, "cur_lr": 0.0005000000237487257, "kl": 0.017354782670736313, "total_loss": 13.144218444824219, "entropy": 1.835374355316162}, "load_time_ms": 47.851, "num_steps_trained": 20671748}, "timesteps_since_restore": 20671748, "iterations_since_restore": 157, "config": {"local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "compress_observations": false, "clip_rewards": null, "sample_async": false, "custom_resources_per_worker": {}, "use_gae": true, "vf_share_layers": false, "vf_loss_coeff": 1.0, "optimizer": {}, "simple_optimizer": false, "num_envs_per_worker": 1, "vf_clip_param": 1000000.0, "synchronize_filters": true, "num_cpus_per_worker": 1, "multiagent": {"policy_graphs": {}, "policies_to_train": null, "policy_mapping_fn": null}, "kl_target": 0.01, "clip_actions": false, "input": "sampler", "input_evaluation": null, "entropy_coeff": 0.0, "lr_schedule": null, "sgd_minibatch_size": 128, "callbacks": {"on_sample_end": null, "on_train_result": null, "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7f49896c9358>", "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7f49896c9b00>", "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7f49896c9828>"}, "num_cpus_for_driver": 1, "log_level": "INFO", "tf_session_args": {"log_device_placement": false, "gpu_options": {"allow_growth": true}, "intra_op_parallelism_threads": 2, "inter_op_parallelism_threads": 2, "allow_soft_placement": true, "device_count": {"CPU": 1}}, "model": {"dim": 84, "free_log_std": false, "fcnet_hiddens": [128, 64, 32], "custom_model": null, "fcnet_activation": "tanh", "lstm_use_prev_action_reward": false, "grayscale": false, "channel_major": false, "squash_to_range": false, "framestack": true, "use_lstm": false, "conv_activation": "relu", "conv_filters": null, "custom_preprocessor": null, "lstm_cell_size": 256, "zero_mean": true, "custom_options": {}, "max_seq_len": 20}, "lambda": 0.97, "num_gpus_per_worker": 0, "kl_coeff": 0.2, "horizon": 1500, "preprocessor_pref": "deepmind", "env_config": {"run": "PPO", "flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.1,\n            \"eta3\": 0.1,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 7.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 0\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 700,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}"}, "clip_param": 0.3, "observation_filter": "MeanStdFilter", "env": "MultiWaveAttenuationMergePOEnvBufferedObs-v0density_[eta1, eta2, eta3]:[1.0, 0.1, 0.0]_t_min:7.0", "gamma": 0.99, "lr": 0.0005, "monitor": false, "output_compress_columns": ["obs", "new_obs"], "batch_mode": "truncate_episodes", "num_gpus": 0, "num_workers": 30, "output": null, "collect_metrics_timeout": 180, "num_sgd_iter": 10, "sample_batch_size": 750, "output_max_file_size": 67108864, "straggler_mitigation": false, "train_batch_size": 90000}, "num_metric_batches_dropped": 0, "hostname": "flow-main", "episodes_total": 9730, "episode_reward_min": 218.13621896319682, "time_total_s": 10998.079190969467, "policy_reward_mean": {}, "timesteps_this_iter": 132062, "custom_metrics": {"cost1_mean": 335.4007901752785, "system_level_velocity_mean": 11.7727231529459, "cost2_max": -65.5205073579856, "outflow_rate_max": 1135.0165919729034, "outflow_rate_mean": 981.100468678518, "cost1_max": 402.8391299691716, "outflow_rate_min": 429.0645997357046, "system_level_velocity_max": 13.910447834176995, "system_level_velocity_min": 10.142492461647594, "cost2_min": -135.899814034251, "cost1_min": 117.30888246197037, "cost2_mean": -115.00735463260162}, "episode_reward_max": 912.5041273102398}
{"node_ip": "10.138.0.2", "episode_reward_mean": 745.5253750763359, "time_this_iter_s": 74.2077989578247, "done": false, "episode_len_mean": 745.82, "timestamp": 1557398640, "training_iteration": 158, "experiment_id": "58dd2f5595014063b753971755894587", "time_since_restore": 11072.286989927292, "timesteps_total": 20804086, "pid": 25334, "episodes_this_iter": 62, "date": "2019-05-09_10-44-00", "info": {"sample_time_ms": 38583.288, "grad_time_ms": 31623.725, "num_steps_sampled": 20804086, "update_time_ms": 8.546, "default": {"vf_explained_var": 0.9194402098655701, "cur_kl_coeff": 0.5062499046325684, "vf_loss": 13.227598190307617, "policy_loss": -0.017706992104649544, "cur_lr": 0.0005000000237487257, "kl": 0.016797251999378204, "total_loss": 13.21839427947998, "entropy": 1.8390140533447266}, "load_time_ms": 45.651, "num_steps_trained": 20804086}, "timesteps_since_restore": 20804086, "iterations_since_restore": 158, "config": {"local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "compress_observations": false, "clip_rewards": null, "sample_async": false, "custom_resources_per_worker": {}, "use_gae": true, "vf_share_layers": false, "vf_loss_coeff": 1.0, "optimizer": {}, "simple_optimizer": false, "num_envs_per_worker": 1, "vf_clip_param": 1000000.0, "synchronize_filters": true, "num_cpus_per_worker": 1, "multiagent": {"policy_graphs": {}, "policies_to_train": null, "policy_mapping_fn": null}, "kl_target": 0.01, "clip_actions": false, "input": "sampler", "input_evaluation": null, "entropy_coeff": 0.0, "lr_schedule": null, "sgd_minibatch_size": 128, "callbacks": {"on_sample_end": null, "on_train_result": null, "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7f49896c9630>", "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7f49896c9f28>", "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7f49896c93c8>"}, "num_cpus_for_driver": 1, "log_level": "INFO", "tf_session_args": {"log_device_placement": false, "gpu_options": {"allow_growth": true}, "intra_op_parallelism_threads": 2, "inter_op_parallelism_threads": 2, "allow_soft_placement": true, "device_count": {"CPU": 1}}, "model": {"dim": 84, "free_log_std": false, "fcnet_hiddens": [128, 64, 32], "custom_model": null, "fcnet_activation": "tanh", "lstm_use_prev_action_reward": false, "grayscale": false, "channel_major": false, "squash_to_range": false, "framestack": true, "use_lstm": false, "conv_activation": "relu", "conv_filters": null, "custom_preprocessor": null, "lstm_cell_size": 256, "zero_mean": true, "custom_options": {}, "max_seq_len": 20}, "lambda": 0.97, "num_gpus_per_worker": 0, "kl_coeff": 0.2, "horizon": 1500, "preprocessor_pref": "deepmind", "env_config": {"run": "PPO", "flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.1,\n            \"eta3\": 0.1,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 7.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 0\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 700,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}"}, "clip_param": 0.3, "observation_filter": "MeanStdFilter", "env": "MultiWaveAttenuationMergePOEnvBufferedObs-v0density_[eta1, eta2, eta3]:[1.0, 0.1, 0.0]_t_min:7.0", "gamma": 0.99, "lr": 0.0005, "monitor": false, "output_compress_columns": ["obs", "new_obs"], "batch_mode": "truncate_episodes", "num_gpus": 0, "num_workers": 30, "output": null, "collect_metrics_timeout": 180, "num_sgd_iter": 10, "sample_batch_size": 750, "output_max_file_size": 67108864, "straggler_mitigation": false, "train_batch_size": 90000}, "num_metric_batches_dropped": 0, "hostname": "flow-main", "episodes_total": 9792, "episode_reward_min": 218.13621896319682, "time_total_s": 11072.286989927292, "policy_reward_mean": {}, "timesteps_this_iter": 132338, "custom_metrics": {"cost1_mean": 334.33943414039294, "system_level_velocity_mean": 11.702809748099158, "cost2_max": -65.5205073579856, "outflow_rate_max": 1116.9953424298585, "outflow_rate_mean": 978.6738401746213, "cost1_max": 394.07679435217995, "outflow_rate_min": 429.0645997357046, "system_level_velocity_max": 13.57171253535353, "system_level_velocity_min": 9.80650269175376, "cost2_min": -141.50835392339195, "cost1_min": 117.30888246197037, "cost2_mean": -115.3370237079174}, "episode_reward_max": 898.5876666466351}
{"node_ip": "10.138.0.2", "episode_reward_mean": 746.7785343718303, "time_this_iter_s": 72.15119290351868, "done": false, "episode_len_mean": 745.79, "timestamp": 1557398712, "training_iteration": 159, "experiment_id": "58dd2f5595014063b753971755894587", "time_since_restore": 11144.43818283081, "timesteps_total": 20935116, "pid": 25334, "episodes_this_iter": 63, "date": "2019-05-09_10-45-12", "info": {"sample_time_ms": 38703.875, "grad_time_ms": 31578.807, "num_steps_sampled": 20935116, "update_time_ms": 8.612, "default": {"vf_explained_var": 0.9225338101387024, "cur_kl_coeff": 0.5062499046325684, "vf_loss": 13.089129447937012, "policy_loss": -0.01913980208337307, "cur_lr": 0.0005000000237487257, "kl": 0.017157504335045815, "total_loss": 13.078675270080566, "entropy": 1.835872769355774}, "load_time_ms": 46.264, "num_steps_trained": 20935116}, "timesteps_since_restore": 20935116, "iterations_since_restore": 159, "config": {"local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "compress_observations": false, "clip_rewards": null, "sample_async": false, "custom_resources_per_worker": {}, "use_gae": true, "vf_share_layers": false, "vf_loss_coeff": 1.0, "optimizer": {}, "simple_optimizer": false, "num_envs_per_worker": 1, "vf_clip_param": 1000000.0, "synchronize_filters": true, "num_cpus_per_worker": 1, "multiagent": {"policy_graphs": {}, "policies_to_train": null, "policy_mapping_fn": null}, "kl_target": 0.01, "clip_actions": false, "input": "sampler", "input_evaluation": null, "entropy_coeff": 0.0, "lr_schedule": null, "sgd_minibatch_size": 128, "callbacks": {"on_sample_end": null, "on_train_result": null, "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7f49896c50b8>", "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7f49896c5438>", "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7f49896c5ef0>"}, "num_cpus_for_driver": 1, "log_level": "INFO", "tf_session_args": {"log_device_placement": false, "gpu_options": {"allow_growth": true}, "intra_op_parallelism_threads": 2, "inter_op_parallelism_threads": 2, "allow_soft_placement": true, "device_count": {"CPU": 1}}, "model": {"dim": 84, "free_log_std": false, "fcnet_hiddens": [128, 64, 32], "custom_model": null, "fcnet_activation": "tanh", "lstm_use_prev_action_reward": false, "grayscale": false, "channel_major": false, "squash_to_range": false, "framestack": true, "use_lstm": false, "conv_activation": "relu", "conv_filters": null, "custom_preprocessor": null, "lstm_cell_size": 256, "zero_mean": true, "custom_options": {}, "max_seq_len": 20}, "lambda": 0.97, "num_gpus_per_worker": 0, "kl_coeff": 0.2, "horizon": 1500, "preprocessor_pref": "deepmind", "env_config": {"run": "PPO", "flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.1,\n            \"eta3\": 0.1,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 7.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 0\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 700,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}"}, "clip_param": 0.3, "observation_filter": "MeanStdFilter", "env": "MultiWaveAttenuationMergePOEnvBufferedObs-v0density_[eta1, eta2, eta3]:[1.0, 0.1, 0.0]_t_min:7.0", "gamma": 0.99, "lr": 0.0005, "monitor": false, "output_compress_columns": ["obs", "new_obs"], "batch_mode": "truncate_episodes", "num_gpus": 0, "num_workers": 30, "output": null, "collect_metrics_timeout": 180, "num_sgd_iter": 10, "sample_batch_size": 750, "output_max_file_size": 67108864, "straggler_mitigation": false, "train_batch_size": 90000}, "num_metric_batches_dropped": 0, "hostname": "flow-main", "episodes_total": 9855, "episode_reward_min": 215.14684262029593, "time_total_s": 11144.43818283081, "policy_reward_mean": {}, "timesteps_this_iter": 131030, "custom_metrics": {"cost1_mean": 336.9793610723563, "system_level_velocity_mean": 11.789269815644882, "cost2_max": -57.94780273407537, "outflow_rate_max": 1149.197777062985, "outflow_rate_mean": 984.304418095029, "cost1_max": 407.4906228198789, "outflow_rate_min": 419.78143224792314, "system_level_velocity_max": 13.994885286730051, "system_level_velocity_min": 9.80650269175376, "cost2_min": -140.62871260310874, "cost1_min": 113.87517150337628, "cost2_mean": -113.43982137545063}, "episode_reward_max": 903.2611119975904}
{"node_ip": "10.138.0.2", "episode_reward_mean": 743.753249492066, "time_this_iter_s": 69.61195516586304, "done": false, "episode_len_mean": 740.58, "timestamp": 1557398782, "training_iteration": 160, "experiment_id": "58dd2f5595014063b753971755894587", "time_since_restore": 11214.050137996674, "timesteps_total": 21066103, "pid": 25334, "episodes_this_iter": 63, "date": "2019-05-09_10-46-22", "info": {"sample_time_ms": 38710.865, "grad_time_ms": 31559.752, "num_steps_sampled": 21066103, "update_time_ms": 8.472, "default": {"vf_explained_var": 0.9156917333602905, "cur_kl_coeff": 0.5062499046325684, "vf_loss": 13.683612823486328, "policy_loss": -0.018102917820215225, "cur_lr": 0.0005000000237487257, "kl": 0.016222352162003517, "total_loss": 13.673722267150879, "entropy": 1.8469724655151367}, "load_time_ms": 43.67, "num_steps_trained": 21066103}, "timesteps_since_restore": 21066103, "iterations_since_restore": 160, "config": {"local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "compress_observations": false, "clip_rewards": null, "sample_async": false, "custom_resources_per_worker": {}, "use_gae": true, "vf_share_layers": false, "vf_loss_coeff": 1.0, "optimizer": {}, "simple_optimizer": false, "num_envs_per_worker": 1, "vf_clip_param": 1000000.0, "synchronize_filters": true, "num_cpus_per_worker": 1, "multiagent": {"policy_graphs": {}, "policies_to_train": null, "policy_mapping_fn": null}, "kl_target": 0.01, "clip_actions": false, "input": "sampler", "input_evaluation": null, "entropy_coeff": 0.0, "lr_schedule": null, "sgd_minibatch_size": 128, "callbacks": {"on_sample_end": null, "on_train_result": null, "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7f49896cae48>", "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7f49896c9080>", "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7f49896c9320>"}, "num_cpus_for_driver": 1, "log_level": "INFO", "tf_session_args": {"log_device_placement": false, "gpu_options": {"allow_growth": true}, "intra_op_parallelism_threads": 2, "inter_op_parallelism_threads": 2, "allow_soft_placement": true, "device_count": {"CPU": 1}}, "model": {"dim": 84, "free_log_std": false, "fcnet_hiddens": [128, 64, 32], "custom_model": null, "fcnet_activation": "tanh", "lstm_use_prev_action_reward": false, "grayscale": false, "channel_major": false, "squash_to_range": false, "framestack": true, "use_lstm": false, "conv_activation": "relu", "conv_filters": null, "custom_preprocessor": null, "lstm_cell_size": 256, "zero_mean": true, "custom_options": {}, "max_seq_len": 20}, "lambda": 0.97, "num_gpus_per_worker": 0, "kl_coeff": 0.2, "horizon": 1500, "preprocessor_pref": "deepmind", "env_config": {"run": "PPO", "flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.1,\n            \"eta3\": 0.1,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 7.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 0\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 700,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}"}, "clip_param": 0.3, "observation_filter": "MeanStdFilter", "env": "MultiWaveAttenuationMergePOEnvBufferedObs-v0density_[eta1, eta2, eta3]:[1.0, 0.1, 0.0]_t_min:7.0", "gamma": 0.99, "lr": 0.0005, "monitor": false, "output_compress_columns": ["obs", "new_obs"], "batch_mode": "truncate_episodes", "num_gpus": 0, "num_workers": 30, "output": null, "collect_metrics_timeout": 180, "num_sgd_iter": 10, "sample_batch_size": 750, "output_max_file_size": 67108864, "straggler_mitigation": false, "train_batch_size": 90000}, "num_metric_batches_dropped": 0, "hostname": "flow-main", "episodes_total": 9918, "episode_reward_min": 215.03887200198545, "time_total_s": 11214.050137996674, "policy_reward_mean": {}, "timesteps_this_iter": 130987, "custom_metrics": {"cost1_mean": 334.1510390215862, "system_level_velocity_mean": 11.789604280511979, "cost2_max": -57.94780273407537, "outflow_rate_max": 1149.197777062985, "outflow_rate_mean": 976.158455584208, "cost1_max": 407.4906228198789, "outflow_rate_min": 413.3119362876732, "system_level_velocity_max": 13.994885286730051, "system_level_velocity_min": 10.109794954737563, "cost2_min": -140.62871260310874, "cost1_min": 113.65549139743598, "cost2_mean": -112.82800153389475}, "episode_reward_max": 909.0461548162577}
{"node_ip": "10.138.0.2", "episode_reward_mean": 754.967376269457, "time_this_iter_s": 68.79776430130005, "done": false, "episode_len_mean": 751.0, "timestamp": 1557398851, "training_iteration": 161, "experiment_id": "58dd2f5595014063b753971755894587", "time_since_restore": 11282.847902297974, "timesteps_total": 21197991, "pid": 25334, "episodes_this_iter": 62, "date": "2019-05-09_10-47-31", "info": {"sample_time_ms": 38716.347, "grad_time_ms": 31633.471, "num_steps_sampled": 21197991, "update_time_ms": 8.546, "default": {"vf_explained_var": 0.9269441366195679, "cur_kl_coeff": 0.5062500238418579, "vf_loss": 11.566722869873047, "policy_loss": -0.018859585747122765, "cur_lr": 0.0005000000237487257, "kl": 0.01679578237235546, "total_loss": 11.556365966796875, "entropy": 1.8608955144882202}, "load_time_ms": 44.094, "num_steps_trained": 21197991}, "timesteps_since_restore": 21197991, "iterations_since_restore": 161, "config": {"local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "compress_observations": false, "clip_rewards": null, "sample_async": false, "custom_resources_per_worker": {}, "use_gae": true, "vf_share_layers": false, "vf_loss_coeff": 1.0, "optimizer": {}, "simple_optimizer": false, "num_envs_per_worker": 1, "vf_clip_param": 1000000.0, "synchronize_filters": true, "num_cpus_per_worker": 1, "multiagent": {"policy_graphs": {}, "policies_to_train": null, "policy_mapping_fn": null}, "kl_target": 0.01, "clip_actions": false, "input": "sampler", "input_evaluation": null, "entropy_coeff": 0.0, "lr_schedule": null, "sgd_minibatch_size": 128, "callbacks": {"on_sample_end": null, "on_train_result": null, "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7f49896caba8>", "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7f49896ca6d8>", "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7f49896ca208>"}, "num_cpus_for_driver": 1, "log_level": "INFO", "tf_session_args": {"log_device_placement": false, "gpu_options": {"allow_growth": true}, "intra_op_parallelism_threads": 2, "inter_op_parallelism_threads": 2, "allow_soft_placement": true, "device_count": {"CPU": 1}}, "model": {"dim": 84, "free_log_std": false, "fcnet_hiddens": [128, 64, 32], "custom_model": null, "fcnet_activation": "tanh", "lstm_use_prev_action_reward": false, "grayscale": false, "channel_major": false, "squash_to_range": false, "framestack": true, "use_lstm": false, "conv_activation": "relu", "conv_filters": null, "custom_preprocessor": null, "lstm_cell_size": 256, "zero_mean": true, "custom_options": {}, "max_seq_len": 20}, "lambda": 0.97, "num_gpus_per_worker": 0, "kl_coeff": 0.2, "horizon": 1500, "preprocessor_pref": "deepmind", "env_config": {"run": "PPO", "flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.1,\n            \"eta3\": 0.1,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 7.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 0\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 700,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}"}, "clip_param": 0.3, "observation_filter": "MeanStdFilter", "env": "MultiWaveAttenuationMergePOEnvBufferedObs-v0density_[eta1, eta2, eta3]:[1.0, 0.1, 0.0]_t_min:7.0", "gamma": 0.99, "lr": 0.0005, "monitor": false, "output_compress_columns": ["obs", "new_obs"], "batch_mode": "truncate_episodes", "num_gpus": 0, "num_workers": 30, "output": null, "collect_metrics_timeout": 180, "num_sgd_iter": 10, "sample_batch_size": 750, "output_max_file_size": 67108864, "straggler_mitigation": false, "train_batch_size": 90000}, "num_metric_batches_dropped": 0, "hostname": "flow-main", "episodes_total": 9980, "episode_reward_min": 666.1280517138812, "time_total_s": 11282.847902297974, "policy_reward_mean": {}, "timesteps_this_iter": 131888, "custom_metrics": {"cost1_mean": 336.68406574130495, "system_level_velocity_mean": 11.694018136743047, "cost2_max": -88.85297246269334, "outflow_rate_max": 1118.999859707977, "outflow_rate_mean": 982.2557553085022, "cost1_max": 393.01613439511095, "outflow_rate_min": 828.3565461867156, "system_level_velocity_max": 13.566118407114622, "system_level_velocity_min": 9.891404727514246, "cost2_min": -132.539620464006, "cost1_min": 283.3459961776397, "cost2_mean": -111.5428302993497}, "episode_reward_max": 909.0461548162577}
{"node_ip": "10.138.0.2", "episode_reward_mean": 741.9424208160069, "time_this_iter_s": 66.81002879142761, "done": false, "episode_len_mean": 745.87, "timestamp": 1557398918, "training_iteration": 162, "experiment_id": "58dd2f5595014063b753971755894587", "time_since_restore": 11349.657931089401, "timesteps_total": 21326877, "pid": 25334, "episodes_this_iter": 63, "date": "2019-05-09_10-48-38", "info": {"sample_time_ms": 38557.705, "grad_time_ms": 31748.212, "num_steps_sampled": 21326877, "update_time_ms": 8.568, "default": {"vf_explained_var": 0.9037432074546814, "cur_kl_coeff": 0.5062499642372131, "vf_loss": 14.214275360107422, "policy_loss": -0.018046734854578972, "cur_lr": 0.0005000000237487257, "kl": 0.01672934740781784, "total_loss": 14.204696655273438, "entropy": 1.8484209775924683}, "load_time_ms": 44.633, "num_steps_trained": 21326877}, "timesteps_since_restore": 21326877, "iterations_since_restore": 162, "config": {"local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "compress_observations": false, "clip_rewards": null, "sample_async": false, "custom_resources_per_worker": {}, "use_gae": true, "vf_share_layers": false, "vf_loss_coeff": 1.0, "optimizer": {}, "simple_optimizer": false, "num_envs_per_worker": 1, "vf_clip_param": 1000000.0, "synchronize_filters": true, "num_cpus_per_worker": 1, "multiagent": {"policy_graphs": {}, "policies_to_train": null, "policy_mapping_fn": null}, "kl_target": 0.01, "clip_actions": false, "input": "sampler", "input_evaluation": null, "entropy_coeff": 0.0, "lr_schedule": null, "sgd_minibatch_size": 128, "callbacks": {"on_sample_end": null, "on_train_result": null, "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7f49896c5550>", "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7f49896c5ac8>", "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7f49896c5cf8>"}, "num_cpus_for_driver": 1, "log_level": "INFO", "tf_session_args": {"log_device_placement": false, "gpu_options": {"allow_growth": true}, "intra_op_parallelism_threads": 2, "inter_op_parallelism_threads": 2, "allow_soft_placement": true, "device_count": {"CPU": 1}}, "model": {"dim": 84, "free_log_std": false, "fcnet_hiddens": [128, 64, 32], "custom_model": null, "fcnet_activation": "tanh", "lstm_use_prev_action_reward": false, "grayscale": false, "channel_major": false, "squash_to_range": false, "framestack": true, "use_lstm": false, "conv_activation": "relu", "conv_filters": null, "custom_preprocessor": null, "lstm_cell_size": 256, "zero_mean": true, "custom_options": {}, "max_seq_len": 20}, "lambda": 0.97, "num_gpus_per_worker": 0, "kl_coeff": 0.2, "horizon": 1500, "preprocessor_pref": "deepmind", "env_config": {"run": "PPO", "flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.1,\n            \"eta3\": 0.1,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 7.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 0\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 700,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}"}, "clip_param": 0.3, "observation_filter": "MeanStdFilter", "env": "MultiWaveAttenuationMergePOEnvBufferedObs-v0density_[eta1, eta2, eta3]:[1.0, 0.1, 0.0]_t_min:7.0", "gamma": 0.99, "lr": 0.0005, "monitor": false, "output_compress_columns": ["obs", "new_obs"], "batch_mode": "truncate_episodes", "num_gpus": 0, "num_workers": 30, "output": null, "collect_metrics_timeout": 180, "num_sgd_iter": 10, "sample_batch_size": 750, "output_max_file_size": 67108864, "straggler_mitigation": false, "train_batch_size": 90000}, "num_metric_batches_dropped": 0, "hostname": "flow-main", "episodes_total": 10043, "episode_reward_min": 227.7824420229993, "time_total_s": 11349.657931089401, "policy_reward_mean": {}, "timesteps_this_iter": 128886, "custom_metrics": {"cost1_mean": 330.99452643307814, "system_level_velocity_mean": 11.593159380670038, "cost2_max": -61.13335524338097, "outflow_rate_max": 1074.7317464960972, "outflow_rate_mean": 966.9293830976069, "cost1_max": 374.0902112337729, "outflow_rate_min": 436.8184450779232, "system_level_velocity_max": 13.245666380056855, "system_level_velocity_min": 10.035260740196112, "cost2_min": -128.88218818729342, "cost1_min": 119.26436635633037, "cost2_mean": -108.23871935690569}, "episode_reward_max": 848.966217711352}
{"node_ip": "10.138.0.2", "episode_reward_mean": 736.9391893404961, "time_this_iter_s": 70.83911061286926, "done": false, "episode_len_mean": 740.69, "timestamp": 1557398989, "training_iteration": 163, "experiment_id": "58dd2f5595014063b753971755894587", "time_since_restore": 11420.49704170227, "timesteps_total": 21457124, "pid": 25334, "episodes_this_iter": 62, "date": "2019-05-09_10-49-49", "info": {"sample_time_ms": 38632.196, "grad_time_ms": 31887.975, "num_steps_sampled": 21457124, "update_time_ms": 8.726, "default": {"vf_explained_var": 0.908658504486084, "cur_kl_coeff": 0.5062499642372131, "vf_loss": 13.543133735656738, "policy_loss": -0.018464259803295135, "cur_lr": 0.0005000000237487257, "kl": 0.01648009568452835, "total_loss": 13.533012390136719, "entropy": 1.8640822172164917}, "load_time_ms": 45.493, "num_steps_trained": 21457124}, "timesteps_since_restore": 21457124, "iterations_since_restore": 163, "config": {"local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "compress_observations": false, "clip_rewards": null, "sample_async": false, "custom_resources_per_worker": {}, "use_gae": true, "vf_share_layers": false, "vf_loss_coeff": 1.0, "optimizer": {}, "simple_optimizer": false, "num_envs_per_worker": 1, "vf_clip_param": 1000000.0, "synchronize_filters": true, "num_cpus_per_worker": 1, "multiagent": {"policy_graphs": {}, "policies_to_train": null, "policy_mapping_fn": null}, "kl_target": 0.01, "clip_actions": false, "input": "sampler", "input_evaluation": null, "entropy_coeff": 0.0, "lr_schedule": null, "sgd_minibatch_size": 128, "callbacks": {"on_sample_end": null, "on_train_result": null, "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7f49896c9550>", "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7f49896c9ac8>", "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7f49896c9198>"}, "num_cpus_for_driver": 1, "log_level": "INFO", "tf_session_args": {"log_device_placement": false, "gpu_options": {"allow_growth": true}, "intra_op_parallelism_threads": 2, "inter_op_parallelism_threads": 2, "allow_soft_placement": true, "device_count": {"CPU": 1}}, "model": {"dim": 84, "free_log_std": false, "fcnet_hiddens": [128, 64, 32], "custom_model": null, "fcnet_activation": "tanh", "lstm_use_prev_action_reward": false, "grayscale": false, "channel_major": false, "squash_to_range": false, "framestack": true, "use_lstm": false, "conv_activation": "relu", "conv_filters": null, "custom_preprocessor": null, "lstm_cell_size": 256, "zero_mean": true, "custom_options": {}, "max_seq_len": 20}, "lambda": 0.97, "num_gpus_per_worker": 0, "kl_coeff": 0.2, "horizon": 1500, "preprocessor_pref": "deepmind", "env_config": {"run": "PPO", "flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.1,\n            \"eta3\": 0.1,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 7.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 0\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 700,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}"}, "clip_param": 0.3, "observation_filter": "MeanStdFilter", "env": "MultiWaveAttenuationMergePOEnvBufferedObs-v0density_[eta1, eta2, eta3]:[1.0, 0.1, 0.0]_t_min:7.0", "gamma": 0.99, "lr": 0.0005, "monitor": false, "output_compress_columns": ["obs", "new_obs"], "batch_mode": "truncate_episodes", "num_gpus": 0, "num_workers": 30, "output": null, "collect_metrics_timeout": 180, "num_sgd_iter": 10, "sample_batch_size": 750, "output_max_file_size": 67108864, "straggler_mitigation": false, "train_batch_size": 90000}, "num_metric_batches_dropped": 0, "hostname": "flow-main", "episodes_total": 10105, "episode_reward_min": 220.4651689153396, "time_total_s": 11420.49704170227, "policy_reward_mean": {}, "timesteps_this_iter": 130247, "custom_metrics": {"cost1_mean": 328.65938477074275, "system_level_velocity_mean": 11.605644833192125, "cost2_max": -57.362197943903965, "outflow_rate_max": 1109.8743571819498, "outflow_rate_mean": 961.5839372783888, "cost1_max": 393.5888182803353, "outflow_rate_min": 418.2525714572277, "system_level_velocity_max": 13.640012263517622, "system_level_velocity_min": 10.035260740196112, "cost2_min": -127.56911134178601, "cost1_min": 113.9015529766537, "cost2_mean": -107.23391128917571}, "episode_reward_max": 898.0971763777732}
{"node_ip": "10.138.0.2", "episode_reward_mean": 740.931176988591, "time_this_iter_s": 70.06734681129456, "done": false, "episode_len_mean": 736.26, "timestamp": 1557399059, "training_iteration": 164, "experiment_id": "58dd2f5595014063b753971755894587", "time_since_restore": 11490.564388513565, "timesteps_total": 21587677, "pid": 25334, "episodes_this_iter": 65, "date": "2019-05-09_10-50-59", "info": {"sample_time_ms": 38624.238, "grad_time_ms": 31814.107, "num_steps_sampled": 21587677, "update_time_ms": 8.998, "default": {"vf_explained_var": 0.9000651240348816, "cur_kl_coeff": 0.5062499642372131, "vf_loss": 14.4256010055542, "policy_loss": -0.01755138300359249, "cur_lr": 0.0005000000237487257, "kl": 0.01716429553925991, "total_loss": 14.416738510131836, "entropy": 1.8550423383712769}, "load_time_ms": 42.501, "num_steps_trained": 21587677}, "timesteps_since_restore": 21587677, "iterations_since_restore": 164, "config": {"local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "compress_observations": false, "clip_rewards": null, "sample_async": false, "custom_resources_per_worker": {}, "use_gae": true, "vf_share_layers": false, "vf_loss_coeff": 1.0, "optimizer": {}, "simple_optimizer": false, "num_envs_per_worker": 1, "vf_clip_param": 1000000.0, "synchronize_filters": true, "num_cpus_per_worker": 1, "multiagent": {"policy_graphs": {}, "policies_to_train": null, "policy_mapping_fn": null}, "kl_target": 0.01, "clip_actions": false, "input": "sampler", "input_evaluation": null, "entropy_coeff": 0.0, "lr_schedule": null, "sgd_minibatch_size": 128, "callbacks": {"on_sample_end": null, "on_train_result": null, "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7f49896ca208>", "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7f49896ca6d8>", "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7f49896caba8>"}, "num_cpus_for_driver": 1, "log_level": "INFO", "tf_session_args": {"log_device_placement": false, "gpu_options": {"allow_growth": true}, "intra_op_parallelism_threads": 2, "inter_op_parallelism_threads": 2, "allow_soft_placement": true, "device_count": {"CPU": 1}}, "model": {"dim": 84, "free_log_std": false, "fcnet_hiddens": [128, 64, 32], "custom_model": null, "fcnet_activation": "tanh", "lstm_use_prev_action_reward": false, "grayscale": false, "channel_major": false, "squash_to_range": false, "framestack": true, "use_lstm": false, "conv_activation": "relu", "conv_filters": null, "custom_preprocessor": null, "lstm_cell_size": 256, "zero_mean": true, "custom_options": {}, "max_seq_len": 20}, "lambda": 0.97, "num_gpus_per_worker": 0, "kl_coeff": 0.2, "horizon": 1500, "preprocessor_pref": "deepmind", "env_config": {"run": "PPO", "flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.1,\n            \"eta3\": 0.1,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 7.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 0\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 700,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}"}, "clip_param": 0.3, "observation_filter": "MeanStdFilter", "env": "MultiWaveAttenuationMergePOEnvBufferedObs-v0density_[eta1, eta2, eta3]:[1.0, 0.1, 0.0]_t_min:7.0", "gamma": 0.99, "lr": 0.0005, "monitor": false, "output_compress_columns": ["obs", "new_obs"], "batch_mode": "truncate_episodes", "num_gpus": 0, "num_workers": 30, "output": null, "collect_metrics_timeout": 180, "num_sgd_iter": 10, "sample_batch_size": 750, "output_max_file_size": 67108864, "straggler_mitigation": false, "train_batch_size": 90000}, "num_metric_batches_dropped": 0, "hostname": "flow-main", "episodes_total": 10170, "episode_reward_min": 203.53205308163623, "time_total_s": 11490.564388513565, "policy_reward_mean": {}, "timesteps_this_iter": 130553, "custom_metrics": {"cost1_mean": 330.55365509383074, "system_level_velocity_mean": 11.731239705569479, "cost2_max": -57.362197943903965, "outflow_rate_max": 1111.7506619066646, "outflow_rate_mean": 966.1624140632338, "cost1_max": 387.3686016696689, "outflow_rate_min": 397.96687260493246, "system_level_velocity_max": 13.715744437296422, "system_level_velocity_min": 10.579536713788825, "cost2_min": -126.71725687249295, "cost1_min": 106.83635078053167, "cost2_mean": -107.23020160396938}, "episode_reward_max": 890.5080704197212}
{"node_ip": "10.138.0.2", "episode_reward_mean": 750.444154851708, "time_this_iter_s": 70.91277861595154, "done": false, "episode_len_mean": 746.77, "timestamp": 1557399130, "training_iteration": 165, "experiment_id": "58dd2f5595014063b753971755894587", "time_since_restore": 11561.477167129517, "timesteps_total": 21718563, "pid": 25334, "episodes_this_iter": 63, "date": "2019-05-09_10-52-10", "info": {"sample_time_ms": 38581.918, "grad_time_ms": 31912.831, "num_steps_sampled": 21718563, "update_time_ms": 8.816, "default": {"vf_explained_var": 0.910309374332428, "cur_kl_coeff": 0.5062499642372131, "vf_loss": 13.071718215942383, "policy_loss": -0.018326904624700546, "cur_lr": 0.0005000000237487257, "kl": 0.016727346926927567, "total_loss": 13.061860084533691, "entropy": 1.8725173473358154}, "load_time_ms": 43.259, "num_steps_trained": 21718563}, "timesteps_since_restore": 21718563, "iterations_since_restore": 165, "config": {"local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "compress_observations": false, "clip_rewards": null, "sample_async": false, "custom_resources_per_worker": {}, "use_gae": true, "vf_share_layers": false, "vf_loss_coeff": 1.0, "optimizer": {}, "simple_optimizer": false, "num_envs_per_worker": 1, "vf_clip_param": 1000000.0, "synchronize_filters": true, "num_cpus_per_worker": 1, "multiagent": {"policy_graphs": {}, "policies_to_train": null, "policy_mapping_fn": null}, "kl_target": 0.01, "clip_actions": false, "input": "sampler", "input_evaluation": null, "entropy_coeff": 0.0, "lr_schedule": null, "sgd_minibatch_size": 128, "callbacks": {"on_sample_end": null, "on_train_result": null, "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7f49896c5a90>", "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7f49896c5320>", "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7f49896c5400>"}, "num_cpus_for_driver": 1, "log_level": "INFO", "tf_session_args": {"log_device_placement": false, "gpu_options": {"allow_growth": true}, "intra_op_parallelism_threads": 2, "inter_op_parallelism_threads": 2, "allow_soft_placement": true, "device_count": {"CPU": 1}}, "model": {"dim": 84, "free_log_std": false, "fcnet_hiddens": [128, 64, 32], "custom_model": null, "fcnet_activation": "tanh", "lstm_use_prev_action_reward": false, "grayscale": false, "channel_major": false, "squash_to_range": false, "framestack": true, "use_lstm": false, "conv_activation": "relu", "conv_filters": null, "custom_preprocessor": null, "lstm_cell_size": 256, "zero_mean": true, "custom_options": {}, "max_seq_len": 20}, "lambda": 0.97, "num_gpus_per_worker": 0, "kl_coeff": 0.2, "horizon": 1500, "preprocessor_pref": "deepmind", "env_config": {"run": "PPO", "flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.1,\n            \"eta3\": 0.1,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 7.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 0\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 700,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}"}, "clip_param": 0.3, "observation_filter": "MeanStdFilter", "env": "MultiWaveAttenuationMergePOEnvBufferedObs-v0density_[eta1, eta2, eta3]:[1.0, 0.1, 0.0]_t_min:7.0", "gamma": 0.99, "lr": 0.0005, "monitor": false, "output_compress_columns": ["obs", "new_obs"], "batch_mode": "truncate_episodes", "num_gpus": 0, "num_workers": 30, "output": null, "collect_metrics_timeout": 180, "num_sgd_iter": 10, "sample_batch_size": 750, "output_max_file_size": 67108864, "straggler_mitigation": false, "train_batch_size": 90000}, "num_metric_batches_dropped": 0, "hostname": "flow-main", "episodes_total": 10233, "episode_reward_min": 364.73791589171464, "time_total_s": 11561.477167129517, "policy_reward_mean": {}, "timesteps_this_iter": 130886, "custom_metrics": {"cost1_mean": 335.12416994129467, "system_level_velocity_mean": 11.700519963703062, "cost2_max": -83.5202862437961, "outflow_rate_max": 1110.4996963421463, "outflow_rate_mean": 975.4789200543155, "cost1_max": 390.1960364952073, "outflow_rate_min": 563.9740688810517, "system_level_velocity_max": 13.715744437296422, "system_level_velocity_min": 9.661224301855167, "cost2_min": -126.88133187890445, "cost1_min": 172.75418372480144, "cost2_mean": -106.59383814183792}, "episode_reward_max": 876.5299853824373}
{"node_ip": "10.138.0.2", "episode_reward_mean": 747.373604808666, "time_this_iter_s": 71.69061374664307, "done": false, "episode_len_mean": 738.94, "timestamp": 1557399201, "training_iteration": 166, "experiment_id": "58dd2f5595014063b753971755894587", "time_since_restore": 11633.16778087616, "timesteps_total": 21849126, "pid": 25334, "episodes_this_iter": 64, "date": "2019-05-09_10-53-21", "info": {"sample_time_ms": 38558.852, "grad_time_ms": 31945.494, "num_steps_sampled": 21849126, "update_time_ms": 8.785, "default": {"vf_explained_var": 0.890764057636261, "cur_kl_coeff": 0.5062499642372131, "vf_loss": 15.575481414794922, "policy_loss": -0.018635479733347893, "cur_lr": 0.0005000000237487257, "kl": 0.016853749752044678, "total_loss": 15.565378189086914, "entropy": 1.8637511730194092}, "load_time_ms": 45.93, "num_steps_trained": 21849126}, "timesteps_since_restore": 21849126, "iterations_since_restore": 166, "config": {"local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "compress_observations": false, "clip_rewards": null, "sample_async": false, "custom_resources_per_worker": {}, "use_gae": true, "vf_share_layers": false, "vf_loss_coeff": 1.0, "optimizer": {}, "simple_optimizer": false, "num_envs_per_worker": 1, "vf_clip_param": 1000000.0, "synchronize_filters": true, "num_cpus_per_worker": 1, "multiagent": {"policy_graphs": {}, "policies_to_train": null, "policy_mapping_fn": null}, "kl_target": 0.01, "clip_actions": false, "input": "sampler", "input_evaluation": null, "entropy_coeff": 0.0, "lr_schedule": null, "sgd_minibatch_size": 128, "callbacks": {"on_sample_end": null, "on_train_result": null, "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7f49896ca668>", "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7f49896cae48>", "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7f49896b14a8>"}, "num_cpus_for_driver": 1, "log_level": "INFO", "tf_session_args": {"log_device_placement": false, "gpu_options": {"allow_growth": true}, "intra_op_parallelism_threads": 2, "inter_op_parallelism_threads": 2, "allow_soft_placement": true, "device_count": {"CPU": 1}}, "model": {"dim": 84, "free_log_std": false, "fcnet_hiddens": [128, 64, 32], "custom_model": null, "fcnet_activation": "tanh", "lstm_use_prev_action_reward": false, "grayscale": false, "channel_major": false, "squash_to_range": false, "framestack": true, "use_lstm": false, "conv_activation": "relu", "conv_filters": null, "custom_preprocessor": null, "lstm_cell_size": 256, "zero_mean": true, "custom_options": {}, "max_seq_len": 20}, "lambda": 0.97, "num_gpus_per_worker": 0, "kl_coeff": 0.2, "horizon": 1500, "preprocessor_pref": "deepmind", "env_config": {"run": "PPO", "flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.1,\n            \"eta3\": 0.1,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 7.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 0\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 700,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}"}, "clip_param": 0.3, "observation_filter": "MeanStdFilter", "env": "MultiWaveAttenuationMergePOEnvBufferedObs-v0density_[eta1, eta2, eta3]:[1.0, 0.1, 0.0]_t_min:7.0", "gamma": 0.99, "lr": 0.0005, "monitor": false, "output_compress_columns": ["obs", "new_obs"], "batch_mode": "truncate_episodes", "num_gpus": 0, "num_workers": 30, "output": null, "collect_metrics_timeout": 180, "num_sgd_iter": 10, "sample_batch_size": 750, "output_max_file_size": 67108864, "straggler_mitigation": false, "train_batch_size": 90000}, "num_metric_batches_dropped": 0, "hostname": "flow-main", "episodes_total": 10297, "episode_reward_min": 209.80453560393016, "time_total_s": 11633.16778087616, "policy_reward_mean": {}, "timesteps_this_iter": 130563, "custom_metrics": {"cost1_mean": 333.246063755255, "system_level_velocity_mean": 11.764507991762375, "cost2_max": -59.267067796443875, "outflow_rate_max": 1096.2454340053218, "outflow_rate_mean": 969.3920744153094, "cost1_max": 386.24824677300603, "outflow_rate_min": 414.18034577394775, "system_level_velocity_max": 13.308375262416419, "system_level_velocity_min": 9.661224301855167, "cost2_min": -134.43474696929658, "cost1_min": 113.2609024168489, "cost2_mean": -106.31094875505345}, "episode_reward_max": 878.9234722086575}
{"node_ip": "10.138.0.2", "episode_reward_mean": 754.114667954374, "time_this_iter_s": 73.0412085056305, "done": false, "episode_len_mean": 740.66, "timestamp": 1557399274, "training_iteration": 167, "experiment_id": "58dd2f5595014063b753971755894587", "time_since_restore": 11706.20898938179, "timesteps_total": 21978740, "pid": 25334, "episodes_this_iter": 63, "date": "2019-05-09_10-54-34", "info": {"sample_time_ms": 38563.853, "grad_time_ms": 31954.485, "num_steps_sampled": 21978740, "update_time_ms": 8.782, "default": {"vf_explained_var": 0.8927631974220276, "cur_kl_coeff": 0.5062499642372131, "vf_loss": 14.53628158569336, "policy_loss": -0.019527871161699295, "cur_lr": 0.0005000000237487257, "kl": 0.01684737764298916, "total_loss": 14.525283813476562, "entropy": 1.884239912033081}, "load_time_ms": 47.212, "num_steps_trained": 21978740}, "timesteps_since_restore": 21978740, "iterations_since_restore": 167, "config": {"local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "compress_observations": false, "clip_rewards": null, "sample_async": false, "custom_resources_per_worker": {}, "use_gae": true, "vf_share_layers": false, "vf_loss_coeff": 1.0, "optimizer": {}, "simple_optimizer": false, "num_envs_per_worker": 1, "vf_clip_param": 1000000.0, "synchronize_filters": true, "num_cpus_per_worker": 1, "multiagent": {"policy_graphs": {}, "policies_to_train": null, "policy_mapping_fn": null}, "kl_target": 0.01, "clip_actions": false, "input": "sampler", "input_evaluation": null, "entropy_coeff": 0.0, "lr_schedule": null, "sgd_minibatch_size": 128, "callbacks": {"on_sample_end": null, "on_train_result": null, "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7f49896c55c0>", "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7f49896c54e0>", "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7f49896c50b8>"}, "num_cpus_for_driver": 1, "log_level": "INFO", "tf_session_args": {"log_device_placement": false, "gpu_options": {"allow_growth": true}, "intra_op_parallelism_threads": 2, "inter_op_parallelism_threads": 2, "allow_soft_placement": true, "device_count": {"CPU": 1}}, "model": {"dim": 84, "free_log_std": false, "fcnet_hiddens": [128, 64, 32], "custom_model": null, "fcnet_activation": "tanh", "lstm_use_prev_action_reward": false, "grayscale": false, "channel_major": false, "squash_to_range": false, "framestack": true, "use_lstm": false, "conv_activation": "relu", "conv_filters": null, "custom_preprocessor": null, "lstm_cell_size": 256, "zero_mean": true, "custom_options": {}, "max_seq_len": 20}, "lambda": 0.97, "num_gpus_per_worker": 0, "kl_coeff": 0.2, "horizon": 1500, "preprocessor_pref": "deepmind", "env_config": {"run": "PPO", "flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.1,\n            \"eta3\": 0.1,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 7.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 0\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 700,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}"}, "clip_param": 0.3, "observation_filter": "MeanStdFilter", "env": "MultiWaveAttenuationMergePOEnvBufferedObs-v0density_[eta1, eta2, eta3]:[1.0, 0.1, 0.0]_t_min:7.0", "gamma": 0.99, "lr": 0.0005, "monitor": false, "output_compress_columns": ["obs", "new_obs"], "batch_mode": "truncate_episodes", "num_gpus": 0, "num_workers": 30, "output": null, "collect_metrics_timeout": 180, "num_sgd_iter": 10, "sample_batch_size": 750, "output_max_file_size": 67108864, "straggler_mitigation": false, "train_batch_size": 90000}, "num_metric_batches_dropped": 0, "hostname": "flow-main", "episodes_total": 10360, "episode_reward_min": 216.70055271520582, "time_total_s": 11706.20898938179, "policy_reward_mean": {}, "timesteps_this_iter": 129614, "custom_metrics": {"cost1_mean": 335.56473984553173, "system_level_velocity_mean": 11.805023146309825, "cost2_max": -59.267067796443875, "outflow_rate_max": 1096.2454340053218, "outflow_rate_mean": 975.824485840516, "cost1_max": 387.7704978578497, "outflow_rate_min": 420.2791086141224, "system_level_velocity_max": 13.399219869290706, "system_level_velocity_min": 10.238578022040006, "cost2_min": -134.43474696929658, "cost1_min": 114.75266915111575, "cost2_mean": -106.61769562768264}, "episode_reward_max": 915.3915305847754}
{"node_ip": "10.138.0.2", "episode_reward_mean": 755.2581261025362, "time_this_iter_s": 70.52838444709778, "done": false, "episode_len_mean": 745.87, "timestamp": 1557399345, "training_iteration": 168, "experiment_id": "58dd2f5595014063b753971755894587", "time_since_restore": 11776.737373828888, "timesteps_total": 22108302, "pid": 25334, "episodes_this_iter": 63, "date": "2019-05-09_10-55-45", "info": {"sample_time_ms": 38422.949, "grad_time_ms": 31727.011, "num_steps_sampled": 22108302, "update_time_ms": 9.031, "default": {"vf_explained_var": 0.8936605453491211, "cur_kl_coeff": 0.5062499642372131, "vf_loss": 13.900032043457031, "policy_loss": -0.01774289831519127, "cur_lr": 0.0005000000237487257, "kl": 0.016561215743422508, "total_loss": 13.890673637390137, "entropy": 1.8887170553207397}, "load_time_ms": 47.987, "num_steps_trained": 22108302}, "timesteps_since_restore": 22108302, "iterations_since_restore": 168, "config": {"local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "compress_observations": false, "clip_rewards": null, "sample_async": false, "custom_resources_per_worker": {}, "use_gae": true, "vf_share_layers": false, "vf_loss_coeff": 1.0, "optimizer": {}, "simple_optimizer": false, "num_envs_per_worker": 1, "vf_clip_param": 1000000.0, "synchronize_filters": true, "num_cpus_per_worker": 1, "multiagent": {"policy_graphs": {}, "policies_to_train": null, "policy_mapping_fn": null}, "kl_target": 0.01, "clip_actions": false, "input": "sampler", "input_evaluation": null, "entropy_coeff": 0.0, "lr_schedule": null, "sgd_minibatch_size": 128, "callbacks": {"on_sample_end": null, "on_train_result": null, "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7f49896d6da0>", "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7f49896d61d0>", "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7f49896d6198>"}, "num_cpus_for_driver": 1, "log_level": "INFO", "tf_session_args": {"log_device_placement": false, "gpu_options": {"allow_growth": true}, "intra_op_parallelism_threads": 2, "inter_op_parallelism_threads": 2, "allow_soft_placement": true, "device_count": {"CPU": 1}}, "model": {"dim": 84, "free_log_std": false, "fcnet_hiddens": [128, 64, 32], "custom_model": null, "fcnet_activation": "tanh", "lstm_use_prev_action_reward": false, "grayscale": false, "channel_major": false, "squash_to_range": false, "framestack": true, "use_lstm": false, "conv_activation": "relu", "conv_filters": null, "custom_preprocessor": null, "lstm_cell_size": 256, "zero_mean": true, "custom_options": {}, "max_seq_len": 20}, "lambda": 0.97, "num_gpus_per_worker": 0, "kl_coeff": 0.2, "horizon": 1500, "preprocessor_pref": "deepmind", "env_config": {"run": "PPO", "flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.1,\n            \"eta3\": 0.1,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 7.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 0\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 700,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}"}, "clip_param": 0.3, "observation_filter": "MeanStdFilter", "env": "MultiWaveAttenuationMergePOEnvBufferedObs-v0density_[eta1, eta2, eta3]:[1.0, 0.1, 0.0]_t_min:7.0", "gamma": 0.99, "lr": 0.0005, "monitor": false, "output_compress_columns": ["obs", "new_obs"], "batch_mode": "truncate_episodes", "num_gpus": 0, "num_workers": 30, "output": null, "collect_metrics_timeout": 180, "num_sgd_iter": 10, "sample_batch_size": 750, "output_max_file_size": 67108864, "straggler_mitigation": false, "train_batch_size": 90000}, "num_metric_batches_dropped": 0, "hostname": "flow-main", "episodes_total": 10423, "episode_reward_min": 228.93860555316024, "time_total_s": 11776.737373828888, "policy_reward_mean": {}, "timesteps_this_iter": 129562, "custom_metrics": {"cost1_mean": 336.52825549355816, "system_level_velocity_mean": 11.751923224999855, "cost2_max": -59.927859821709866, "outflow_rate_max": 1077.0551728713517, "outflow_rate_mean": 975.5426345206932, "cost1_max": 387.7704978578497, "outflow_rate_min": 433.82206385550023, "system_level_velocity_max": 13.399219869290706, "system_level_velocity_min": 10.238578022040006, "cost2_min": -122.68974779253374, "cost1_min": 118.74397748859367, "cost2_mean": -104.74240327496868}, "episode_reward_max": 915.3915305847754}
{"node_ip": "10.138.0.2", "episode_reward_mean": 740.9285606540716, "time_this_iter_s": 71.07992029190063, "done": false, "episode_len_mean": 745.78, "timestamp": 1557399416, "training_iteration": 169, "experiment_id": "58dd2f5595014063b753971755894587", "time_since_restore": 11847.817294120789, "timesteps_total": 22238712, "pid": 25334, "episodes_this_iter": 62, "date": "2019-05-09_10-56-56", "info": {"sample_time_ms": 38375.872, "grad_time_ms": 31666.521, "num_steps_sampled": 22238712, "update_time_ms": 9.193, "default": {"vf_explained_var": 0.9135042428970337, "cur_kl_coeff": 0.5062499046325684, "vf_loss": 11.873459815979004, "policy_loss": -0.018722714856266975, "cur_lr": 0.0005000000237487257, "kl": 0.016499899327754974, "total_loss": 11.863091468811035, "entropy": 1.9107367992401123}, "load_time_ms": 47.481, "num_steps_trained": 22238712}, "timesteps_since_restore": 22238712, "iterations_since_restore": 169, "config": {"local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "compress_observations": false, "clip_rewards": null, "sample_async": false, "custom_resources_per_worker": {}, "use_gae": true, "vf_share_layers": false, "vf_loss_coeff": 1.0, "optimizer": {}, "simple_optimizer": false, "num_envs_per_worker": 1, "vf_clip_param": 1000000.0, "synchronize_filters": true, "num_cpus_per_worker": 1, "multiagent": {"policy_graphs": {}, "policies_to_train": null, "policy_mapping_fn": null}, "kl_target": 0.01, "clip_actions": false, "input": "sampler", "input_evaluation": null, "entropy_coeff": 0.0, "lr_schedule": null, "sgd_minibatch_size": 128, "callbacks": {"on_sample_end": null, "on_train_result": null, "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7f49896c9748>", "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7f49896c9a58>", "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7f49896c9128>"}, "num_cpus_for_driver": 1, "log_level": "INFO", "tf_session_args": {"log_device_placement": false, "gpu_options": {"allow_growth": true}, "intra_op_parallelism_threads": 2, "inter_op_parallelism_threads": 2, "allow_soft_placement": true, "device_count": {"CPU": 1}}, "model": {"dim": 84, "free_log_std": false, "fcnet_hiddens": [128, 64, 32], "custom_model": null, "fcnet_activation": "tanh", "lstm_use_prev_action_reward": false, "grayscale": false, "channel_major": false, "squash_to_range": false, "framestack": true, "use_lstm": false, "conv_activation": "relu", "conv_filters": null, "custom_preprocessor": null, "lstm_cell_size": 256, "zero_mean": true, "custom_options": {}, "max_seq_len": 20}, "lambda": 0.97, "num_gpus_per_worker": 0, "kl_coeff": 0.2, "horizon": 1500, "preprocessor_pref": "deepmind", "env_config": {"run": "PPO", "flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.1,\n            \"eta3\": 0.1,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 7.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 0\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 700,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}"}, "clip_param": 0.3, "observation_filter": "MeanStdFilter", "env": "MultiWaveAttenuationMergePOEnvBufferedObs-v0density_[eta1, eta2, eta3]:[1.0, 0.1, 0.0]_t_min:7.0", "gamma": 0.99, "lr": 0.0005, "monitor": false, "output_compress_columns": ["obs", "new_obs"], "batch_mode": "truncate_episodes", "num_gpus": 0, "num_workers": 30, "output": null, "collect_metrics_timeout": 180, "num_sgd_iter": 10, "sample_batch_size": 750, "output_max_file_size": 67108864, "straggler_mitigation": false, "train_batch_size": 90000}, "num_metric_batches_dropped": 0, "hostname": "flow-main", "episodes_total": 10485, "episode_reward_min": 212.55404084241857, "time_total_s": 11847.817294120789, "policy_reward_mean": {}, "timesteps_this_iter": 130410, "custom_metrics": {"cost1_mean": 331.9375415875557, "system_level_velocity_mean": 11.594529016040754, "cost2_max": -53.353295919133224, "outflow_rate_max": 1090.7835413373882, "outflow_rate_mean": 965.3592200658948, "cost1_max": 383.50276188431025, "outflow_rate_min": 393.587916229002, "system_level_velocity_max": 13.225353773305581, "system_level_velocity_min": 9.971074130735508, "cost2_min": -122.90631982850493, "cost1_min": 107.79128442108268, "cost2_mean": -102.90488961331593}, "episode_reward_max": 861.2675487401925}
{"node_ip": "10.138.0.2", "episode_reward_mean": 743.9636963730051, "time_this_iter_s": 69.87487363815308, "done": false, "episode_len_mean": 751.0, "timestamp": 1557399486, "training_iteration": 170, "experiment_id": "58dd2f5595014063b753971755894587", "time_since_restore": 11917.692167758942, "timesteps_total": 22368868, "pid": 25334, "episodes_this_iter": 62, "date": "2019-05-09_10-58-06", "info": {"sample_time_ms": 38394.491, "grad_time_ms": 31673.799, "num_steps_sampled": 22368868, "update_time_ms": 9.248, "default": {"vf_explained_var": 0.9056124687194824, "cur_kl_coeff": 0.5062499642372131, "vf_loss": 13.100485801696777, "policy_loss": -0.017567887902259827, "cur_lr": 0.0005000000237487257, "kl": 0.01776020973920822, "total_loss": 13.091909408569336, "entropy": 1.8965681791305542}, "load_time_ms": 46.844, "num_steps_trained": 22368868}, "timesteps_since_restore": 22368868, "iterations_since_restore": 170, "config": {"local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "compress_observations": false, "clip_rewards": null, "sample_async": false, "custom_resources_per_worker": {}, "use_gae": true, "vf_share_layers": false, "vf_loss_coeff": 1.0, "optimizer": {}, "simple_optimizer": false, "num_envs_per_worker": 1, "vf_clip_param": 1000000.0, "synchronize_filters": true, "num_cpus_per_worker": 1, "multiagent": {"policy_graphs": {}, "policies_to_train": null, "policy_mapping_fn": null}, "kl_target": 0.01, "clip_actions": false, "input": "sampler", "input_evaluation": null, "entropy_coeff": 0.0, "lr_schedule": null, "sgd_minibatch_size": 128, "callbacks": {"on_sample_end": null, "on_train_result": null, "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7f49896c9b70>", "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7f49896c9208>", "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7f49896c9c50>"}, "num_cpus_for_driver": 1, "log_level": "INFO", "tf_session_args": {"log_device_placement": false, "gpu_options": {"allow_growth": true}, "intra_op_parallelism_threads": 2, "inter_op_parallelism_threads": 2, "allow_soft_placement": true, "device_count": {"CPU": 1}}, "model": {"dim": 84, "free_log_std": false, "fcnet_hiddens": [128, 64, 32], "custom_model": null, "fcnet_activation": "tanh", "lstm_use_prev_action_reward": false, "grayscale": false, "channel_major": false, "squash_to_range": false, "framestack": true, "use_lstm": false, "conv_activation": "relu", "conv_filters": null, "custom_preprocessor": null, "lstm_cell_size": 256, "zero_mean": true, "custom_options": {}, "max_seq_len": 20}, "lambda": 0.97, "num_gpus_per_worker": 0, "kl_coeff": 0.2, "horizon": 1500, "preprocessor_pref": "deepmind", "env_config": {"run": "PPO", "flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.1,\n            \"eta3\": 0.1,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 7.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 0\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 700,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}"}, "clip_param": 0.3, "observation_filter": "MeanStdFilter", "env": "MultiWaveAttenuationMergePOEnvBufferedObs-v0density_[eta1, eta2, eta3]:[1.0, 0.1, 0.0]_t_min:7.0", "gamma": 0.99, "lr": 0.0005, "monitor": false, "output_compress_columns": ["obs", "new_obs"], "batch_mode": "truncate_episodes", "num_gpus": 0, "num_workers": 30, "output": null, "collect_metrics_timeout": 180, "num_sgd_iter": 10, "sample_batch_size": 750, "output_max_file_size": 67108864, "straggler_mitigation": false, "train_batch_size": 90000}, "num_metric_batches_dropped": 0, "hostname": "flow-main", "episodes_total": 10547, "episode_reward_min": 606.8776462982419, "time_total_s": 11917.692167758942, "policy_reward_mean": {}, "timesteps_this_iter": 130156, "custom_metrics": {"cost1_mean": 333.42892227234785, "system_level_velocity_mean": 11.566832284465905, "cost2_max": -84.98865688334402, "outflow_rate_max": 1090.7835413373882, "outflow_rate_mean": 969.3211335696931, "cost1_max": 383.50276188431025, "outflow_rate_min": 819.170561657594, "system_level_velocity_max": 13.225353773305581, "system_level_velocity_min": 9.614434392981625, "cost2_min": -122.90631982850493, "cost1_min": 277.4622499419657, "cost2_mean": -103.8817280888887}, "episode_reward_max": 875.3408560672357}
{"node_ip": "10.138.0.2", "episode_reward_mean": 747.7537627867915, "time_this_iter_s": 67.40300583839417, "done": false, "episode_len_mean": 751.0, "timestamp": 1557399554, "training_iteration": 171, "experiment_id": "58dd2f5595014063b753971755894587", "time_since_restore": 11985.095173597336, "timesteps_total": 22500088, "pid": 25334, "episodes_this_iter": 63, "date": "2019-05-09_10-59-14", "info": {"sample_time_ms": 38426.192, "grad_time_ms": 31499.775, "num_steps_sampled": 22500088, "update_time_ms": 9.131, "default": {"vf_explained_var": 0.907986044883728, "cur_kl_coeff": 0.5062500238418579, "vf_loss": 12.822853088378906, "policy_loss": -0.018480611965060234, "cur_lr": 0.0005000000237487257, "kl": 0.016460314393043518, "total_loss": 12.812705993652344, "entropy": 1.9107428789138794}, "load_time_ms": 48.349, "num_steps_trained": 22500088}, "timesteps_since_restore": 22500088, "iterations_since_restore": 171, "config": {"local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "compress_observations": false, "clip_rewards": null, "sample_async": false, "custom_resources_per_worker": {}, "use_gae": true, "vf_share_layers": false, "vf_loss_coeff": 1.0, "optimizer": {}, "simple_optimizer": false, "num_envs_per_worker": 1, "vf_clip_param": 1000000.0, "synchronize_filters": true, "num_cpus_per_worker": 1, "multiagent": {"policy_graphs": {}, "policies_to_train": null, "policy_mapping_fn": null}, "kl_target": 0.01, "clip_actions": false, "input": "sampler", "input_evaluation": null, "entropy_coeff": 0.0, "lr_schedule": null, "sgd_minibatch_size": 128, "callbacks": {"on_sample_end": null, "on_train_result": null, "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7f49896caac8>", "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7f49896ca208>", "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7f49896ca6d8>"}, "num_cpus_for_driver": 1, "log_level": "INFO", "tf_session_args": {"log_device_placement": false, "gpu_options": {"allow_growth": true}, "intra_op_parallelism_threads": 2, "inter_op_parallelism_threads": 2, "allow_soft_placement": true, "device_count": {"CPU": 1}}, "model": {"dim": 84, "free_log_std": false, "fcnet_hiddens": [128, 64, 32], "custom_model": null, "fcnet_activation": "tanh", "lstm_use_prev_action_reward": false, "grayscale": false, "channel_major": false, "squash_to_range": false, "framestack": true, "use_lstm": false, "conv_activation": "relu", "conv_filters": null, "custom_preprocessor": null, "lstm_cell_size": 256, "zero_mean": true, "custom_options": {}, "max_seq_len": 20}, "lambda": 0.97, "num_gpus_per_worker": 0, "kl_coeff": 0.2, "horizon": 1500, "preprocessor_pref": "deepmind", "env_config": {"run": "PPO", "flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.1,\n            \"eta3\": 0.1,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 7.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 0\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 700,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}"}, "clip_param": 0.3, "observation_filter": "MeanStdFilter", "env": "MultiWaveAttenuationMergePOEnvBufferedObs-v0density_[eta1, eta2, eta3]:[1.0, 0.1, 0.0]_t_min:7.0", "gamma": 0.99, "lr": 0.0005, "monitor": false, "output_compress_columns": ["obs", "new_obs"], "batch_mode": "truncate_episodes", "num_gpus": 0, "num_workers": 30, "output": null, "collect_metrics_timeout": 180, "num_sgd_iter": 10, "sample_batch_size": 750, "output_max_file_size": 67108864, "straggler_mitigation": false, "train_batch_size": 90000}, "num_metric_batches_dropped": 0, "hostname": "flow-main", "episodes_total": 10610, "episode_reward_min": 606.8776462982419, "time_total_s": 11985.095173597336, "policy_reward_mean": {}, "timesteps_this_iter": 131220, "custom_metrics": {"cost1_mean": 333.9156669722914, "system_level_velocity_mean": 11.581223571381363, "cost2_max": -86.02931532629941, "outflow_rate_max": 1119.2163085142172, "outflow_rate_mean": 971.91312532918, "cost1_max": 396.3041103077775, "outflow_rate_min": 819.170561657594, "system_level_velocity_max": 13.663363499982609, "system_level_velocity_min": 9.614434392981625, "cost2_min": -125.60368983598484, "cost1_min": 277.4622499419657, "cost2_mean": -104.21542846401181}, "episode_reward_max": 908.2422641111747}
{"node_ip": "10.138.0.2", "episode_reward_mean": 761.606720556876, "time_this_iter_s": 67.79093217849731, "done": false, "episode_len_mean": 751.0, "timestamp": 1557399621, "training_iteration": 172, "experiment_id": "58dd2f5595014063b753971755894587", "time_since_restore": 12052.886105775833, "timesteps_total": 22629940, "pid": 25334, "episodes_this_iter": 63, "date": "2019-05-09_11-00-21", "info": {"sample_time_ms": 38660.958, "grad_time_ms": 31367.74, "num_steps_sampled": 22629940, "update_time_ms": 9.186, "default": {"vf_explained_var": 0.9068731665611267, "cur_kl_coeff": 0.5062499642372131, "vf_loss": 12.939005851745605, "policy_loss": -0.018225092440843582, "cur_lr": 0.0005000000237487257, "kl": 0.017710072919726372, "total_loss": 12.929747581481934, "entropy": 1.8760396242141724}, "load_time_ms": 46.271, "num_steps_trained": 22629940}, "timesteps_since_restore": 22629940, "iterations_since_restore": 172, "config": {"local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "compress_observations": false, "clip_rewards": null, "sample_async": false, "custom_resources_per_worker": {}, "use_gae": true, "vf_share_layers": false, "vf_loss_coeff": 1.0, "optimizer": {}, "simple_optimizer": false, "num_envs_per_worker": 1, "vf_clip_param": 1000000.0, "synchronize_filters": true, "num_cpus_per_worker": 1, "multiagent": {"policy_graphs": {}, "policies_to_train": null, "policy_mapping_fn": null}, "kl_target": 0.01, "clip_actions": false, "input": "sampler", "input_evaluation": null, "entropy_coeff": 0.0, "lr_schedule": null, "sgd_minibatch_size": 128, "callbacks": {"on_sample_end": null, "on_train_result": null, "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7f49896c9d68>", "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7f49896c9b00>", "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7f49896c9278>"}, "num_cpus_for_driver": 1, "log_level": "INFO", "tf_session_args": {"log_device_placement": false, "gpu_options": {"allow_growth": true}, "intra_op_parallelism_threads": 2, "inter_op_parallelism_threads": 2, "allow_soft_placement": true, "device_count": {"CPU": 1}}, "model": {"dim": 84, "free_log_std": false, "fcnet_hiddens": [128, 64, 32], "custom_model": null, "fcnet_activation": "tanh", "lstm_use_prev_action_reward": false, "grayscale": false, "channel_major": false, "squash_to_range": false, "framestack": true, "use_lstm": false, "conv_activation": "relu", "conv_filters": null, "custom_preprocessor": null, "lstm_cell_size": 256, "zero_mean": true, "custom_options": {}, "max_seq_len": 20}, "lambda": 0.97, "num_gpus_per_worker": 0, "kl_coeff": 0.2, "horizon": 1500, "preprocessor_pref": "deepmind", "env_config": {"run": "PPO", "flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.1,\n            \"eta3\": 0.1,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 7.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 0\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 700,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}"}, "clip_param": 0.3, "observation_filter": "MeanStdFilter", "env": "MultiWaveAttenuationMergePOEnvBufferedObs-v0density_[eta1, eta2, eta3]:[1.0, 0.1, 0.0]_t_min:7.0", "gamma": 0.99, "lr": 0.0005, "monitor": false, "output_compress_columns": ["obs", "new_obs"], "batch_mode": "truncate_episodes", "num_gpus": 0, "num_workers": 30, "output": null, "collect_metrics_timeout": 180, "num_sgd_iter": 10, "sample_batch_size": 750, "output_max_file_size": 67108864, "straggler_mitigation": false, "train_batch_size": 90000}, "num_metric_batches_dropped": 0, "hostname": "flow-main", "episodes_total": 10673, "episode_reward_min": 666.9207249907562, "time_total_s": 12052.886105775833, "policy_reward_mean": {}, "timesteps_this_iter": 129852, "custom_metrics": {"cost1_mean": 340.10630681716793, "system_level_velocity_mean": 11.792118440373764, "cost2_max": -79.98206024310966, "outflow_rate_max": 1127.0990606951827, "outflow_rate_mean": 985.2732740219907, "cost1_max": 404.3460235436299, "outflow_rate_min": 878.7613825658356, "system_level_velocity_max": 13.979838753476665, "system_level_velocity_min": 10.743856324236562, "cost2_min": -125.60368983598484, "cost1_min": 307.7289013334908, "cost2_mean": -105.04024308413777}, "episode_reward_max": 925.3825042832457}
{"node_ip": "10.138.0.2", "episode_reward_mean": 753.576729710879, "time_this_iter_s": 70.11299705505371, "done": false, "episode_len_mean": 745.82, "timestamp": 1557399692, "training_iteration": 173, "experiment_id": "58dd2f5595014063b753971755894587", "time_since_restore": 12122.999102830887, "timesteps_total": 22760375, "pid": 25334, "episodes_this_iter": 64, "date": "2019-05-09_11-01-32", "info": {"sample_time_ms": 38715.904, "grad_time_ms": 31240.815, "num_steps_sampled": 22760375, "update_time_ms": 9.108, "default": {"vf_explained_var": 0.8999351859092712, "cur_kl_coeff": 0.5062499642372131, "vf_loss": 14.040701866149902, "policy_loss": -0.01808873750269413, "cur_lr": 0.0005000000237487257, "kl": 0.017101259902119637, "total_loss": 14.031270980834961, "entropy": 1.896996259689331}, "load_time_ms": 44.664, "num_steps_trained": 22760375}, "timesteps_since_restore": 22760375, "iterations_since_restore": 173, "config": {"local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "compress_observations": false, "clip_rewards": null, "sample_async": false, "custom_resources_per_worker": {}, "use_gae": true, "vf_share_layers": false, "vf_loss_coeff": 1.0, "optimizer": {}, "simple_optimizer": false, "num_envs_per_worker": 1, "vf_clip_param": 1000000.0, "synchronize_filters": true, "num_cpus_per_worker": 1, "multiagent": {"policy_graphs": {}, "policies_to_train": null, "policy_mapping_fn": null}, "kl_target": 0.01, "clip_actions": false, "input": "sampler", "input_evaluation": null, "entropy_coeff": 0.0, "lr_schedule": null, "sgd_minibatch_size": 128, "callbacks": {"on_sample_end": null, "on_train_result": null, "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7f49896d6748>", "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7f49896d66d8>", "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7f49896d65f8>"}, "num_cpus_for_driver": 1, "log_level": "INFO", "tf_session_args": {"log_device_placement": false, "gpu_options": {"allow_growth": true}, "intra_op_parallelism_threads": 2, "inter_op_parallelism_threads": 2, "allow_soft_placement": true, "device_count": {"CPU": 1}}, "model": {"dim": 84, "free_log_std": false, "fcnet_hiddens": [128, 64, 32], "custom_model": null, "fcnet_activation": "tanh", "lstm_use_prev_action_reward": false, "grayscale": false, "channel_major": false, "squash_to_range": false, "framestack": true, "use_lstm": false, "conv_activation": "relu", "conv_filters": null, "custom_preprocessor": null, "lstm_cell_size": 256, "zero_mean": true, "custom_options": {}, "max_seq_len": 20}, "lambda": 0.97, "num_gpus_per_worker": 0, "kl_coeff": 0.2, "horizon": 1500, "preprocessor_pref": "deepmind", "env_config": {"run": "PPO", "flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.1,\n            \"eta3\": 0.1,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 7.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 0\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 700,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}"}, "clip_param": 0.3, "observation_filter": "MeanStdFilter", "env": "MultiWaveAttenuationMergePOEnvBufferedObs-v0density_[eta1, eta2, eta3]:[1.0, 0.1, 0.0]_t_min:7.0", "gamma": 0.99, "lr": 0.0005, "monitor": false, "output_compress_columns": ["obs", "new_obs"], "batch_mode": "truncate_episodes", "num_gpus": 0, "num_workers": 30, "output": null, "collect_metrics_timeout": 180, "num_sgd_iter": 10, "sample_batch_size": 750, "output_max_file_size": 67108864, "straggler_mitigation": false, "train_batch_size": 90000}, "num_metric_batches_dropped": 0, "hostname": "flow-main", "episodes_total": 10737, "episode_reward_min": 221.70023052893757, "time_total_s": 12122.999102830887, "policy_reward_mean": {}, "timesteps_this_iter": 130435, "custom_metrics": {"cost1_mean": 336.80642924566945, "system_level_velocity_mean": 11.774555912746044, "cost2_max": -58.33734013790926, "outflow_rate_max": 1112.3951830003903, "outflow_rate_mean": 975.747519839116, "cost1_max": 389.76527871182975, "outflow_rate_min": 427.50301060338586, "system_level_velocity_max": 13.400871683262258, "system_level_velocity_min": 10.244595960877406, "cost2_min": -123.2413959738663, "cost1_min": 115.93696964396196, "cost2_mean": -104.49546848346392}, "episode_reward_max": 896.6978829279888}
{"node_ip": "10.138.0.2", "episode_reward_mean": 740.6186251074342, "time_this_iter_s": 70.30387806892395, "done": false, "episode_len_mean": 740.61, "timestamp": 1557399762, "training_iteration": 174, "experiment_id": "58dd2f5595014063b753971755894587", "time_since_restore": 12193.30298089981, "timesteps_total": 22891477, "pid": 25334, "episodes_this_iter": 63, "date": "2019-05-09_11-02-42", "info": {"sample_time_ms": 38925.948, "grad_time_ms": 31053.206, "num_steps_sampled": 22891477, "update_time_ms": 8.8, "default": {"vf_explained_var": 0.907117486000061, "cur_kl_coeff": 0.5062499642372131, "vf_loss": 12.729028701782227, "policy_loss": -0.017901457846164703, "cur_lr": 0.0005000000237487257, "kl": 0.01687544398009777, "total_loss": 12.719670295715332, "entropy": 1.903615951538086}, "load_time_ms": 46.671, "num_steps_trained": 22891477}, "timesteps_since_restore": 22891477, "iterations_since_restore": 174, "config": {"local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "compress_observations": false, "clip_rewards": null, "sample_async": false, "custom_resources_per_worker": {}, "use_gae": true, "vf_share_layers": false, "vf_loss_coeff": 1.0, "optimizer": {}, "simple_optimizer": false, "num_envs_per_worker": 1, "vf_clip_param": 1000000.0, "synchronize_filters": true, "num_cpus_per_worker": 1, "multiagent": {"policy_graphs": {}, "policies_to_train": null, "policy_mapping_fn": null}, "kl_target": 0.01, "clip_actions": false, "input": "sampler", "input_evaluation": null, "entropy_coeff": 0.0, "lr_schedule": null, "sgd_minibatch_size": 128, "callbacks": {"on_sample_end": null, "on_train_result": null, "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7f49896ca588>", "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7f49896cac88>", "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7f49896ca0b8>"}, "num_cpus_for_driver": 1, "log_level": "INFO", "tf_session_args": {"log_device_placement": false, "gpu_options": {"allow_growth": true}, "intra_op_parallelism_threads": 2, "inter_op_parallelism_threads": 2, "allow_soft_placement": true, "device_count": {"CPU": 1}}, "model": {"dim": 84, "free_log_std": false, "fcnet_hiddens": [128, 64, 32], "custom_model": null, "fcnet_activation": "tanh", "lstm_use_prev_action_reward": false, "grayscale": false, "channel_major": false, "squash_to_range": false, "framestack": true, "use_lstm": false, "conv_activation": "relu", "conv_filters": null, "custom_preprocessor": null, "lstm_cell_size": 256, "zero_mean": true, "custom_options": {}, "max_seq_len": 20}, "lambda": 0.97, "num_gpus_per_worker": 0, "kl_coeff": 0.2, "horizon": 1500, "preprocessor_pref": "deepmind", "env_config": {"run": "PPO", "flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.1,\n            \"eta3\": 0.1,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 7.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 0\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 700,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}"}, "clip_param": 0.3, "observation_filter": "MeanStdFilter", "env": "MultiWaveAttenuationMergePOEnvBufferedObs-v0density_[eta1, eta2, eta3]:[1.0, 0.1, 0.0]_t_min:7.0", "gamma": 0.99, "lr": 0.0005, "monitor": false, "output_compress_columns": ["obs", "new_obs"], "batch_mode": "truncate_episodes", "num_gpus": 0, "num_workers": 30, "output": null, "collect_metrics_timeout": 180, "num_sgd_iter": 10, "sample_batch_size": 750, "output_max_file_size": 67108864, "straggler_mitigation": false, "train_batch_size": 90000}, "num_metric_batches_dropped": 0, "hostname": "flow-main", "episodes_total": 10800, "episode_reward_min": 213.51833473179812, "time_total_s": 12193.30298089981, "policy_reward_mean": {}, "timesteps_this_iter": 131102, "custom_metrics": {"cost1_mean": 332.3724032528721, "system_level_velocity_mean": 11.70264186392685, "cost2_max": -58.33734013790926, "outflow_rate_max": 1099.7499044665583, "outflow_rate_mean": 967.8210130331557, "cost1_max": 387.0771223448421, "outflow_rate_min": 409.4300282362063, "system_level_velocity_max": 13.358611297844504, "system_level_velocity_min": 9.563083573616847, "cost2_min": -125.04652548877205, "cost1_min": 112.66943820743612, "cost2_mean": -105.38107028505823}, "episode_reward_max": 871.9875294102442}
{"node_ip": "10.138.0.2", "episode_reward_mean": 733.5650573751732, "time_this_iter_s": 71.87806963920593, "done": false, "episode_len_mean": 739.86, "timestamp": 1557399834, "training_iteration": 175, "experiment_id": "58dd2f5595014063b753971755894587", "time_since_restore": 12265.181050539017, "timesteps_total": 23021676, "pid": 25334, "episodes_this_iter": 64, "date": "2019-05-09_11-03-54", "info": {"sample_time_ms": 38987.075, "grad_time_ms": 31085.599, "num_steps_sampled": 23021676, "update_time_ms": 8.752, "default": {"vf_explained_var": 0.9018471837043762, "cur_kl_coeff": 0.5062499642372131, "vf_loss": 13.024429321289062, "policy_loss": -0.019012559205293655, "cur_lr": 0.0005000000237487257, "kl": 0.017735475674271584, "total_loss": 13.014395713806152, "entropy": 1.926060676574707}, "load_time_ms": 46.641, "num_steps_trained": 23021676}, "timesteps_since_restore": 23021676, "iterations_since_restore": 175, "config": {"local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "compress_observations": false, "clip_rewards": null, "sample_async": false, "custom_resources_per_worker": {}, "use_gae": true, "vf_share_layers": false, "vf_loss_coeff": 1.0, "optimizer": {}, "simple_optimizer": false, "num_envs_per_worker": 1, "vf_clip_param": 1000000.0, "synchronize_filters": true, "num_cpus_per_worker": 1, "multiagent": {"policy_graphs": {}, "policies_to_train": null, "policy_mapping_fn": null}, "kl_target": 0.01, "clip_actions": false, "input": "sampler", "input_evaluation": null, "entropy_coeff": 0.0, "lr_schedule": null, "sgd_minibatch_size": 128, "callbacks": {"on_sample_end": null, "on_train_result": null, "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7f49896d66d8>", "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7f49896d6400>", "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7f49896d60b8>"}, "num_cpus_for_driver": 1, "log_level": "INFO", "tf_session_args": {"log_device_placement": false, "gpu_options": {"allow_growth": true}, "intra_op_parallelism_threads": 2, "inter_op_parallelism_threads": 2, "allow_soft_placement": true, "device_count": {"CPU": 1}}, "model": {"dim": 84, "free_log_std": false, "fcnet_hiddens": [128, 64, 32], "custom_model": null, "fcnet_activation": "tanh", "lstm_use_prev_action_reward": false, "grayscale": false, "channel_major": false, "squash_to_range": false, "framestack": true, "use_lstm": false, "conv_activation": "relu", "conv_filters": null, "custom_preprocessor": null, "lstm_cell_size": 256, "zero_mean": true, "custom_options": {}, "max_seq_len": 20}, "lambda": 0.97, "num_gpus_per_worker": 0, "kl_coeff": 0.2, "horizon": 1500, "preprocessor_pref": "deepmind", "env_config": {"run": "PPO", "flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.1,\n            \"eta3\": 0.1,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 7.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 0\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 700,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}"}, "clip_param": 0.3, "observation_filter": "MeanStdFilter", "env": "MultiWaveAttenuationMergePOEnvBufferedObs-v0density_[eta1, eta2, eta3]:[1.0, 0.1, 0.0]_t_min:7.0", "gamma": 0.99, "lr": 0.0005, "monitor": false, "output_compress_columns": ["obs", "new_obs"], "batch_mode": "truncate_episodes", "num_gpus": 0, "num_workers": 30, "output": null, "collect_metrics_timeout": 180, "num_sgd_iter": 10, "sample_batch_size": 750, "output_max_file_size": 67108864, "straggler_mitigation": false, "train_batch_size": 90000}, "num_metric_batches_dropped": 0, "hostname": "flow-main", "episodes_total": 10864, "episode_reward_min": 213.51833473179812, "time_total_s": 12265.181050539017, "policy_reward_mean": {}, "timesteps_this_iter": 130199, "custom_metrics": {"cost1_mean": 329.00330537246623, "system_level_velocity_mean": 11.603030222566472, "cost2_max": -62.234657372072476, "outflow_rate_max": 1054.9397235831937, "outflow_rate_mean": 958.989506438072, "cost1_max": 370.55022914171235, "outflow_rate_min": 409.4300282362063, "system_level_velocity_max": 13.168200860176189, "system_level_velocity_min": 10.192659131047993, "cost2_min": -125.04652548877205, "cost1_min": 112.66943820743612, "cost2_mean": -103.68585192395854}, "episode_reward_max": 837.004671605448}
{"node_ip": "10.138.0.2", "episode_reward_mean": 751.2631803258732, "time_this_iter_s": 73.64784574508667, "done": false, "episode_len_mean": 750.25, "timestamp": 1557399908, "training_iteration": 176, "experiment_id": "58dd2f5595014063b753971755894587", "time_since_restore": 12338.828896284103, "timesteps_total": 23151302, "pid": 25334, "episodes_this_iter": 63, "date": "2019-05-09_11-05-08", "info": {"sample_time_ms": 38946.123, "grad_time_ms": 31320.501, "num_steps_sampled": 23151302, "update_time_ms": 9.015, "default": {"vf_explained_var": 0.9009442925453186, "cur_kl_coeff": 0.5062499642372131, "vf_loss": 12.608583450317383, "policy_loss": -0.018375860527157784, "cur_lr": 0.0005000000237487257, "kl": 0.017209094017744064, "total_loss": 12.598920822143555, "entropy": 1.9088704586029053}, "load_time_ms": 46.048, "num_steps_trained": 23151302}, "timesteps_since_restore": 23151302, "iterations_since_restore": 176, "config": {"local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "compress_observations": false, "clip_rewards": null, "sample_async": false, "custom_resources_per_worker": {}, "use_gae": true, "vf_share_layers": false, "vf_loss_coeff": 1.0, "optimizer": {}, "simple_optimizer": false, "num_envs_per_worker": 1, "vf_clip_param": 1000000.0, "synchronize_filters": true, "num_cpus_per_worker": 1, "multiagent": {"policy_graphs": {}, "policies_to_train": null, "policy_mapping_fn": null}, "kl_target": 0.01, "clip_actions": false, "input": "sampler", "input_evaluation": null, "entropy_coeff": 0.0, "lr_schedule": null, "sgd_minibatch_size": 128, "callbacks": {"on_sample_end": null, "on_train_result": null, "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7f49896c9710>", "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7f49896c94a8>", "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7f49896c9d30>"}, "num_cpus_for_driver": 1, "log_level": "INFO", "tf_session_args": {"log_device_placement": false, "gpu_options": {"allow_growth": true}, "intra_op_parallelism_threads": 2, "inter_op_parallelism_threads": 2, "allow_soft_placement": true, "device_count": {"CPU": 1}}, "model": {"dim": 84, "free_log_std": false, "fcnet_hiddens": [128, 64, 32], "custom_model": null, "fcnet_activation": "tanh", "lstm_use_prev_action_reward": false, "grayscale": false, "channel_major": false, "squash_to_range": false, "framestack": true, "use_lstm": false, "conv_activation": "relu", "conv_filters": null, "custom_preprocessor": null, "lstm_cell_size": 256, "zero_mean": true, "custom_options": {}, "max_seq_len": 20}, "lambda": 0.97, "num_gpus_per_worker": 0, "kl_coeff": 0.2, "horizon": 1500, "preprocessor_pref": "deepmind", "env_config": {"run": "PPO", "flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.1,\n            \"eta3\": 0.1,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 7.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 0\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 700,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}"}, "clip_param": 0.3, "observation_filter": "MeanStdFilter", "env": "MultiWaveAttenuationMergePOEnvBufferedObs-v0density_[eta1, eta2, eta3]:[1.0, 0.1, 0.0]_t_min:7.0", "gamma": 0.99, "lr": 0.0005, "monitor": false, "output_compress_columns": ["obs", "new_obs"], "batch_mode": "truncate_episodes", "num_gpus": 0, "num_workers": 30, "output": null, "collect_metrics_timeout": 180, "num_sgd_iter": 10, "sample_batch_size": 750, "output_max_file_size": 67108864, "straggler_mitigation": false, "train_batch_size": 90000}, "num_metric_batches_dropped": 0, "hostname": "flow-main", "episodes_total": 10927, "episode_reward_min": 660.250104698554, "time_total_s": 12338.828896284103, "policy_reward_mean": {}, "timesteps_this_iter": 129626, "custom_metrics": {"cost1_mean": 334.8471808147249, "system_level_velocity_mean": 11.621529344673542, "cost2_max": -81.61707302435565, "outflow_rate_max": 1056.078982928554, "outflow_rate_mean": 971.1819421311136, "cost1_max": 373.34523317084637, "outflow_rate_min": 863.127091422013, "system_level_velocity_max": 12.933801612523299, "system_level_velocity_min": 10.192659131047993, "cost2_min": -121.13379075244615, "cost1_min": 296.5719325221136, "cost2_mean": -102.29728870308354}, "episode_reward_max": 864.3128411814714}
{"node_ip": "10.138.0.2", "episode_reward_mean": 749.1750136675423, "time_this_iter_s": 69.94806790351868, "done": false, "episode_len_mean": 744.06, "timestamp": 1557399978, "training_iteration": 177, "experiment_id": "58dd2f5595014063b753971755894587", "time_since_restore": 12408.776964187622, "timesteps_total": 23280139, "pid": 25334, "episodes_this_iter": 63, "date": "2019-05-09_11-06-18", "info": {"sample_time_ms": 38635.843, "grad_time_ms": 31323.511, "num_steps_sampled": 23280139, "update_time_ms": 9.463, "default": {"vf_explained_var": 0.891001284122467, "cur_kl_coeff": 0.5062499642372131, "vf_loss": 13.861988067626953, "policy_loss": -0.01853843964636326, "cur_lr": 0.0005000000237487257, "kl": 0.017846837639808655, "total_loss": 13.852485656738281, "entropy": 1.9049228429794312}, "load_time_ms": 45.392, "num_steps_trained": 23280139}, "timesteps_since_restore": 23280139, "iterations_since_restore": 177, "config": {"local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "compress_observations": false, "clip_rewards": null, "sample_async": false, "custom_resources_per_worker": {}, "use_gae": true, "vf_share_layers": false, "vf_loss_coeff": 1.0, "optimizer": {}, "simple_optimizer": false, "num_envs_per_worker": 1, "vf_clip_param": 1000000.0, "synchronize_filters": true, "num_cpus_per_worker": 1, "multiagent": {"policy_graphs": {}, "policies_to_train": null, "policy_mapping_fn": null}, "kl_target": 0.01, "clip_actions": false, "input": "sampler", "input_evaluation": null, "entropy_coeff": 0.0, "lr_schedule": null, "sgd_minibatch_size": 128, "callbacks": {"on_sample_end": null, "on_train_result": null, "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7f49896caf28>", "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7f49896ca898>", "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7f49896ca400>"}, "num_cpus_for_driver": 1, "log_level": "INFO", "tf_session_args": {"log_device_placement": false, "gpu_options": {"allow_growth": true}, "intra_op_parallelism_threads": 2, "inter_op_parallelism_threads": 2, "allow_soft_placement": true, "device_count": {"CPU": 1}}, "model": {"dim": 84, "free_log_std": false, "fcnet_hiddens": [128, 64, 32], "custom_model": null, "fcnet_activation": "tanh", "lstm_use_prev_action_reward": false, "grayscale": false, "channel_major": false, "squash_to_range": false, "framestack": true, "use_lstm": false, "conv_activation": "relu", "conv_filters": null, "custom_preprocessor": null, "lstm_cell_size": 256, "zero_mean": true, "custom_options": {}, "max_seq_len": 20}, "lambda": 0.97, "num_gpus_per_worker": 0, "kl_coeff": 0.2, "horizon": 1500, "preprocessor_pref": "deepmind", "env_config": {"run": "PPO", "flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.1,\n            \"eta3\": 0.1,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 7.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 0\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 700,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}"}, "clip_param": 0.3, "observation_filter": "MeanStdFilter", "env": "MultiWaveAttenuationMergePOEnvBufferedObs-v0density_[eta1, eta2, eta3]:[1.0, 0.1, 0.0]_t_min:7.0", "gamma": 0.99, "lr": 0.0005, "monitor": false, "output_compress_columns": ["obs", "new_obs"], "batch_mode": "truncate_episodes", "num_gpus": 0, "num_workers": 30, "output": null, "collect_metrics_timeout": 180, "num_sgd_iter": 10, "sample_batch_size": 750, "output_max_file_size": 67108864, "straggler_mitigation": false, "train_batch_size": 90000}, "num_metric_batches_dropped": 0, "hostname": "flow-main", "episodes_total": 10990, "episode_reward_min": 206.11239231933817, "time_total_s": 12408.776964187622, "policy_reward_mean": {}, "timesteps_this_iter": 128837, "custom_metrics": {"cost1_mean": 332.1203138113973, "system_level_velocity_mean": 11.638398210992523, "cost2_max": -53.33405813335025, "outflow_rate_max": 1079.7434224865576, "outflow_rate_mean": 962.4978720860397, "cost1_max": 382.89305982720595, "outflow_rate_min": 409.6912958928745, "system_level_velocity_max": 13.224562873835405, "system_level_velocity_min": 9.94669681057485, "cost2_min": -129.88844702090677, "cost1_min": 109.21973544635064, "cost2_mean": -102.23541605408771}, "episode_reward_max": 883.7689087796637}
{"node_ip": "10.138.0.2", "episode_reward_mean": 739.2084441316537, "time_this_iter_s": 70.21091818809509, "done": false, "episode_len_mean": 740.54, "timestamp": 1557400048, "training_iteration": 178, "experiment_id": "58dd2f5595014063b753971755894587", "time_since_restore": 12478.987882375717, "timesteps_total": 23409089, "pid": 25334, "episodes_this_iter": 64, "date": "2019-05-09_11-07-28", "info": {"sample_time_ms": 38413.73, "grad_time_ms": 31504.421, "num_steps_sampled": 23409089, "update_time_ms": 9.498, "default": {"vf_explained_var": 0.9016925096511841, "cur_kl_coeff": 0.5062499642372131, "vf_loss": 12.352071762084961, "policy_loss": -0.01801406405866146, "cur_lr": 0.0005000000237487257, "kl": 0.016981149092316628, "total_loss": 12.34265422821045, "entropy": 1.9250837564468384}, "load_time_ms": 47.322, "num_steps_trained": 23409089}, "timesteps_since_restore": 23409089, "iterations_since_restore": 178, "config": {"local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "compress_observations": false, "clip_rewards": null, "sample_async": false, "custom_resources_per_worker": {}, "use_gae": true, "vf_share_layers": false, "vf_loss_coeff": 1.0, "optimizer": {}, "simple_optimizer": false, "num_envs_per_worker": 1, "vf_clip_param": 1000000.0, "synchronize_filters": true, "num_cpus_per_worker": 1, "multiagent": {"policy_graphs": {}, "policies_to_train": null, "policy_mapping_fn": null}, "kl_target": 0.01, "clip_actions": false, "input": "sampler", "input_evaluation": null, "entropy_coeff": 0.0, "lr_schedule": null, "sgd_minibatch_size": 128, "callbacks": {"on_sample_end": null, "on_train_result": null, "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7f49896bfc18>", "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7f49896bf2b0>", "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7f49896bfb38>"}, "num_cpus_for_driver": 1, "log_level": "INFO", "tf_session_args": {"log_device_placement": false, "gpu_options": {"allow_growth": true}, "intra_op_parallelism_threads": 2, "inter_op_parallelism_threads": 2, "allow_soft_placement": true, "device_count": {"CPU": 1}}, "model": {"dim": 84, "free_log_std": false, "fcnet_hiddens": [128, 64, 32], "custom_model": null, "fcnet_activation": "tanh", "lstm_use_prev_action_reward": false, "grayscale": false, "channel_major": false, "squash_to_range": false, "framestack": true, "use_lstm": false, "conv_activation": "relu", "conv_filters": null, "custom_preprocessor": null, "lstm_cell_size": 256, "zero_mean": true, "custom_options": {}, "max_seq_len": 20}, "lambda": 0.97, "num_gpus_per_worker": 0, "kl_coeff": 0.2, "horizon": 1500, "preprocessor_pref": "deepmind", "env_config": {"run": "PPO", "flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.1,\n            \"eta3\": 0.1,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 7.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 0\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 700,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}"}, "clip_param": 0.3, "observation_filter": "MeanStdFilter", "env": "MultiWaveAttenuationMergePOEnvBufferedObs-v0density_[eta1, eta2, eta3]:[1.0, 0.1, 0.0]_t_min:7.0", "gamma": 0.99, "lr": 0.0005, "monitor": false, "output_compress_columns": ["obs", "new_obs"], "batch_mode": "truncate_episodes", "num_gpus": 0, "num_workers": 30, "output": null, "collect_metrics_timeout": 180, "num_sgd_iter": 10, "sample_batch_size": 750, "output_max_file_size": 67108864, "straggler_mitigation": false, "train_batch_size": 90000}, "num_metric_batches_dropped": 0, "hostname": "flow-main", "episodes_total": 11054, "episode_reward_min": 202.46951945143243, "time_total_s": 12478.987882375717, "policy_reward_mean": {}, "timesteps_this_iter": 128950, "custom_metrics": {"cost1_mean": 327.8303714113301, "system_level_velocity_mean": 11.5411459221853, "cost2_max": -53.15926205362885, "outflow_rate_max": 1084.246815624737, "outflow_rate_mean": 951.7998606293745, "cost1_max": 380.22462107524973, "outflow_rate_min": 403.2342316959243, "system_level_velocity_max": 13.224519059432962, "system_level_velocity_min": 9.94669681057485, "cost2_min": -124.04644904486528, "cost1_min": 106.96128913034056, "cost2_mean": -102.28922135418094}, "episode_reward_max": 879.6729668950579}
{"node_ip": "10.138.0.2", "episode_reward_mean": 743.2555363718761, "time_this_iter_s": 69.05157041549683, "done": false, "episode_len_mean": 751.0, "timestamp": 1557400117, "training_iteration": 179, "experiment_id": "58dd2f5595014063b753971755894587", "time_since_restore": 12548.039452791214, "timesteps_total": 23539609, "pid": 25334, "episodes_this_iter": 62, "date": "2019-05-09_11-08-37", "info": {"sample_time_ms": 38179.16, "grad_time_ms": 31537.107, "num_steps_sampled": 23539609, "update_time_ms": 9.248, "default": {"vf_explained_var": 0.9145780801773071, "cur_kl_coeff": 0.5062499642372131, "vf_loss": 11.013836860656738, "policy_loss": -0.0176209956407547, "cur_lr": 0.0005000000237487257, "kl": 0.017153674736618996, "total_loss": 11.004900932312012, "entropy": 1.9451721906661987}, "load_time_ms": 47.273, "num_steps_trained": 23539609}, "timesteps_since_restore": 23539609, "iterations_since_restore": 179, "config": {"local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "compress_observations": false, "clip_rewards": null, "sample_async": false, "custom_resources_per_worker": {}, "use_gae": true, "vf_share_layers": false, "vf_loss_coeff": 1.0, "optimizer": {}, "simple_optimizer": false, "num_envs_per_worker": 1, "vf_clip_param": 1000000.0, "synchronize_filters": true, "num_cpus_per_worker": 1, "multiagent": {"policy_graphs": {}, "policies_to_train": null, "policy_mapping_fn": null}, "kl_target": 0.01, "clip_actions": false, "input": "sampler", "input_evaluation": null, "entropy_coeff": 0.0, "lr_schedule": null, "sgd_minibatch_size": 128, "callbacks": {"on_sample_end": null, "on_train_result": null, "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7f49896c9048>", "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7f49896c92b0>", "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7f49896c9278>"}, "num_cpus_for_driver": 1, "log_level": "INFO", "tf_session_args": {"log_device_placement": false, "gpu_options": {"allow_growth": true}, "intra_op_parallelism_threads": 2, "inter_op_parallelism_threads": 2, "allow_soft_placement": true, "device_count": {"CPU": 1}}, "model": {"dim": 84, "free_log_std": false, "fcnet_hiddens": [128, 64, 32], "custom_model": null, "fcnet_activation": "tanh", "lstm_use_prev_action_reward": false, "grayscale": false, "channel_major": false, "squash_to_range": false, "framestack": true, "use_lstm": false, "conv_activation": "relu", "conv_filters": null, "custom_preprocessor": null, "lstm_cell_size": 256, "zero_mean": true, "custom_options": {}, "max_seq_len": 20}, "lambda": 0.97, "num_gpus_per_worker": 0, "kl_coeff": 0.2, "horizon": 1500, "preprocessor_pref": "deepmind", "env_config": {"run": "PPO", "flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.1,\n            \"eta3\": 0.1,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 7.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 0\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 700,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}"}, "clip_param": 0.3, "observation_filter": "MeanStdFilter", "env": "MultiWaveAttenuationMergePOEnvBufferedObs-v0density_[eta1, eta2, eta3]:[1.0, 0.1, 0.0]_t_min:7.0", "gamma": 0.99, "lr": 0.0005, "monitor": false, "output_compress_columns": ["obs", "new_obs"], "batch_mode": "truncate_episodes", "num_gpus": 0, "num_workers": 30, "output": null, "collect_metrics_timeout": 180, "num_sgd_iter": 10, "sample_batch_size": 750, "output_max_file_size": 67108864, "straggler_mitigation": false, "train_batch_size": 90000}, "num_metric_batches_dropped": 0, "hostname": "flow-main", "episodes_total": 11116, "episode_reward_min": 632.2426267783688, "time_total_s": 12548.039452791214, "policy_reward_mean": {}, "timesteps_this_iter": 130520, "custom_metrics": {"cost1_mean": 330.92695744222493, "system_level_velocity_mean": 11.463617887097746, "cost2_max": -85.24203540061859, "outflow_rate_max": 1100.4935565177668, "outflow_rate_mean": 961.2745610253352, "cost1_max": 381.33695873086424, "outflow_rate_min": 811.7188666064749, "system_level_velocity_max": 13.13615405638598, "system_level_velocity_min": 9.81741314355111, "cost2_min": -124.04644904486528, "cost1_min": 281.82899819068155, "cost2_mean": -102.80424769630984}, "episode_reward_max": 876.5151548482282}
{"node_ip": "10.138.0.2", "episode_reward_mean": 741.8588524366598, "time_this_iter_s": 68.2265396118164, "done": false, "episode_len_mean": 745.83, "timestamp": 1557400185, "training_iteration": 180, "experiment_id": "58dd2f5595014063b753971755894587", "time_since_restore": 12616.26599240303, "timesteps_total": 23668377, "pid": 25334, "episodes_this_iter": 63, "date": "2019-05-09_11-09-45", "info": {"sample_time_ms": 38161.165, "grad_time_ms": 31384.541, "num_steps_sampled": 23668377, "update_time_ms": 9.139, "default": {"vf_explained_var": 0.9032880067825317, "cur_kl_coeff": 0.5062499642372131, "vf_loss": 12.439957618713379, "policy_loss": -0.018198294565081596, "cur_lr": 0.0005000000237487257, "kl": 0.0173796396702528, "total_loss": 12.430558204650879, "entropy": 1.9302964210510254}, "load_time_ms": 50.57, "num_steps_trained": 23668377}, "timesteps_since_restore": 23668377, "iterations_since_restore": 180, "config": {"local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "compress_observations": false, "clip_rewards": null, "sample_async": false, "custom_resources_per_worker": {}, "use_gae": true, "vf_share_layers": false, "vf_loss_coeff": 1.0, "optimizer": {}, "simple_optimizer": false, "num_envs_per_worker": 1, "vf_clip_param": 1000000.0, "synchronize_filters": true, "num_cpus_per_worker": 1, "multiagent": {"policy_graphs": {}, "policies_to_train": null, "policy_mapping_fn": null}, "kl_target": 0.01, "clip_actions": false, "input": "sampler", "input_evaluation": null, "entropy_coeff": 0.0, "lr_schedule": null, "sgd_minibatch_size": 128, "callbacks": {"on_sample_end": null, "on_train_result": null, "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7f49896cafd0>", "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7f49896ca128>", "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7f49896ca8d0>"}, "num_cpus_for_driver": 1, "log_level": "INFO", "tf_session_args": {"log_device_placement": false, "gpu_options": {"allow_growth": true}, "intra_op_parallelism_threads": 2, "inter_op_parallelism_threads": 2, "allow_soft_placement": true, "device_count": {"CPU": 1}}, "model": {"dim": 84, "free_log_std": false, "fcnet_hiddens": [128, 64, 32], "custom_model": null, "fcnet_activation": "tanh", "lstm_use_prev_action_reward": false, "grayscale": false, "channel_major": false, "squash_to_range": false, "framestack": true, "use_lstm": false, "conv_activation": "relu", "conv_filters": null, "custom_preprocessor": null, "lstm_cell_size": 256, "zero_mean": true, "custom_options": {}, "max_seq_len": 20}, "lambda": 0.97, "num_gpus_per_worker": 0, "kl_coeff": 0.2, "horizon": 1500, "preprocessor_pref": "deepmind", "env_config": {"run": "PPO", "flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.1,\n            \"eta3\": 0.1,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 7.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 0\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 700,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}"}, "clip_param": 0.3, "observation_filter": "MeanStdFilter", "env": "MultiWaveAttenuationMergePOEnvBufferedObs-v0density_[eta1, eta2, eta3]:[1.0, 0.1, 0.0]_t_min:7.0", "gamma": 0.99, "lr": 0.0005, "monitor": false, "output_compress_columns": ["obs", "new_obs"], "batch_mode": "truncate_episodes", "num_gpus": 0, "num_workers": 30, "output": null, "collect_metrics_timeout": 180, "num_sgd_iter": 10, "sample_batch_size": 750, "output_max_file_size": 67108864, "straggler_mitigation": false, "train_batch_size": 90000}, "num_metric_batches_dropped": 0, "hostname": "flow-main", "episodes_total": 11179, "episode_reward_min": 219.60828595405445, "time_total_s": 12616.26599240303, "policy_reward_mean": {}, "timesteps_this_iter": 128768, "custom_metrics": {"cost1_mean": 330.30118751361215, "system_level_velocity_mean": 11.535319659938262, "cost2_max": -58.03684751779727, "outflow_rate_max": 1054.218590153839, "outflow_rate_mean": 960.5506401783449, "cost1_max": 363.6424636122307, "outflow_rate_min": 424.70769977231987, "system_level_velocity_max": 13.054081573996907, "system_level_velocity_min": 9.81741314355111, "cost2_min": -122.06925037546353, "cost1_min": 115.7841938256697, "cost2_mean": -103.56833008803964}, "episode_reward_max": 828.778115675925}
{"node_ip": "10.138.0.2", "episode_reward_mean": 734.6986492440066, "time_this_iter_s": 68.31639242172241, "done": false, "episode_len_mean": 735.41, "timestamp": 1557400254, "training_iteration": 181, "experiment_id": "58dd2f5595014063b753971755894587", "time_since_restore": 12684.582384824753, "timesteps_total": 23798284, "pid": 25334, "episodes_this_iter": 63, "date": "2019-05-09_11-10-54", "info": {"sample_time_ms": 38366.662, "grad_time_ms": 31267.613, "num_steps_sampled": 23798284, "update_time_ms": 9.261, "default": {"vf_explained_var": 0.905353844165802, "cur_kl_coeff": 0.5062499642372131, "vf_loss": 12.080888748168945, "policy_loss": -0.018664825707674026, "cur_lr": 0.0005000000237487257, "kl": 0.017257623374462128, "total_loss": 12.070961952209473, "entropy": 1.9395451545715332}, "load_time_ms": 48.946, "num_steps_trained": 23798284}, "timesteps_since_restore": 23798284, "iterations_since_restore": 181, "config": {"local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "compress_observations": false, "clip_rewards": null, "sample_async": false, "custom_resources_per_worker": {}, "use_gae": true, "vf_share_layers": false, "vf_loss_coeff": 1.0, "optimizer": {}, "simple_optimizer": false, "num_envs_per_worker": 1, "vf_clip_param": 1000000.0, "synchronize_filters": true, "num_cpus_per_worker": 1, "multiagent": {"policy_graphs": {}, "policies_to_train": null, "policy_mapping_fn": null}, "kl_target": 0.01, "clip_actions": false, "input": "sampler", "input_evaluation": null, "entropy_coeff": 0.0, "lr_schedule": null, "sgd_minibatch_size": 128, "callbacks": {"on_sample_end": null, "on_train_result": null, "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7f49896c9358>", "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7f49896c9be0>", "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7f49896c9630>"}, "num_cpus_for_driver": 1, "log_level": "INFO", "tf_session_args": {"log_device_placement": false, "gpu_options": {"allow_growth": true}, "intra_op_parallelism_threads": 2, "inter_op_parallelism_threads": 2, "allow_soft_placement": true, "device_count": {"CPU": 1}}, "model": {"dim": 84, "free_log_std": false, "fcnet_hiddens": [128, 64, 32], "custom_model": null, "fcnet_activation": "tanh", "lstm_use_prev_action_reward": false, "grayscale": false, "channel_major": false, "squash_to_range": false, "framestack": true, "use_lstm": false, "conv_activation": "relu", "conv_filters": null, "custom_preprocessor": null, "lstm_cell_size": 256, "zero_mean": true, "custom_options": {}, "max_seq_len": 20}, "lambda": 0.97, "num_gpus_per_worker": 0, "kl_coeff": 0.2, "horizon": 1500, "preprocessor_pref": "deepmind", "env_config": {"run": "PPO", "flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.1,\n            \"eta3\": 0.1,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 7.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 0\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 700,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}"}, "clip_param": 0.3, "observation_filter": "MeanStdFilter", "env": "MultiWaveAttenuationMergePOEnvBufferedObs-v0density_[eta1, eta2, eta3]:[1.0, 0.1, 0.0]_t_min:7.0", "gamma": 0.99, "lr": 0.0005, "monitor": false, "output_compress_columns": ["obs", "new_obs"], "batch_mode": "truncate_episodes", "num_gpus": 0, "num_workers": 30, "output": null, "collect_metrics_timeout": 180, "num_sgd_iter": 10, "sample_batch_size": 750, "output_max_file_size": 67108864, "straggler_mitigation": false, "train_batch_size": 90000}, "num_metric_batches_dropped": 0, "hostname": "flow-main", "episodes_total": 11242, "episode_reward_min": 214.30886787837005, "time_total_s": 12684.582384824753, "policy_reward_mean": {}, "timesteps_this_iter": 129907, "custom_metrics": {"cost1_mean": 325.8667765821126, "system_level_velocity_mean": 11.56402093042079, "cost2_max": -57.814623122176016, "outflow_rate_max": 1054.8751532245913, "outflow_rate_mean": 948.4192573580156, "cost1_max": 365.7076425479844, "outflow_rate_min": 424.70769977231987, "system_level_velocity_max": 13.342909468618156, "system_level_velocity_min": 10.374915240682585, "cost2_min": -123.62636966154716, "cost1_min": 115.11679761258844, "cost2_mean": -103.08706921501343}, "episode_reward_max": 843.4735747950197}
{"node_ip": "10.138.0.2", "episode_reward_mean": 747.0786996640245, "time_this_iter_s": 68.7512469291687, "done": false, "episode_len_mean": 740.56, "timestamp": 1557400322, "training_iteration": 182, "experiment_id": "58dd2f5595014063b753971755894587", "time_since_restore": 12753.333631753922, "timesteps_total": 23928005, "pid": 25334, "episodes_this_iter": 63, "date": "2019-05-09_11-12-02", "info": {"sample_time_ms": 38496.052, "grad_time_ms": 31235.87, "num_steps_sampled": 23928005, "update_time_ms": 9.28, "default": {"vf_explained_var": 0.9027146697044373, "cur_kl_coeff": 0.5062499046325684, "vf_loss": 12.102121353149414, "policy_loss": -0.018537074327468872, "cur_lr": 0.0005000000237487257, "kl": 0.017092136666178703, "total_loss": 12.09223747253418, "entropy": 1.924306035041809}, "load_time_ms": 48.939, "num_steps_trained": 23928005}, "timesteps_since_restore": 23928005, "iterations_since_restore": 182, "config": {"local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "compress_observations": false, "clip_rewards": null, "sample_async": false, "custom_resources_per_worker": {}, "use_gae": true, "vf_share_layers": false, "vf_loss_coeff": 1.0, "optimizer": {}, "simple_optimizer": false, "num_envs_per_worker": 1, "vf_clip_param": 1000000.0, "synchronize_filters": true, "num_cpus_per_worker": 1, "multiagent": {"policy_graphs": {}, "policies_to_train": null, "policy_mapping_fn": null}, "kl_target": 0.01, "clip_actions": false, "input": "sampler", "input_evaluation": null, "entropy_coeff": 0.0, "lr_schedule": null, "sgd_minibatch_size": 128, "callbacks": {"on_sample_end": null, "on_train_result": null, "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7f49896c9a58>", "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7f49896c9d68>", "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7f49896c9128>"}, "num_cpus_for_driver": 1, "log_level": "INFO", "tf_session_args": {"log_device_placement": false, "gpu_options": {"allow_growth": true}, "intra_op_parallelism_threads": 2, "inter_op_parallelism_threads": 2, "allow_soft_placement": true, "device_count": {"CPU": 1}}, "model": {"dim": 84, "free_log_std": false, "fcnet_hiddens": [128, 64, 32], "custom_model": null, "fcnet_activation": "tanh", "lstm_use_prev_action_reward": false, "grayscale": false, "channel_major": false, "squash_to_range": false, "framestack": true, "use_lstm": false, "conv_activation": "relu", "conv_filters": null, "custom_preprocessor": null, "lstm_cell_size": 256, "zero_mean": true, "custom_options": {}, "max_seq_len": 20}, "lambda": 0.97, "num_gpus_per_worker": 0, "kl_coeff": 0.2, "horizon": 1500, "preprocessor_pref": "deepmind", "env_config": {"run": "PPO", "flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.1,\n            \"eta3\": 0.1,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 7.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 0\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 700,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}"}, "clip_param": 0.3, "observation_filter": "MeanStdFilter", "env": "MultiWaveAttenuationMergePOEnvBufferedObs-v0density_[eta1, eta2, eta3]:[1.0, 0.1, 0.0]_t_min:7.0", "gamma": 0.99, "lr": 0.0005, "monitor": false, "output_compress_columns": ["obs", "new_obs"], "batch_mode": "truncate_episodes", "num_gpus": 0, "num_workers": 30, "output": null, "collect_metrics_timeout": 180, "num_sgd_iter": 10, "sample_batch_size": 750, "output_max_file_size": 67108864, "straggler_mitigation": false, "train_batch_size": 90000}, "num_metric_batches_dropped": 0, "hostname": "flow-main", "episodes_total": 11305, "episode_reward_min": 212.1060559643773, "time_total_s": 12753.333631753922, "policy_reward_mean": {}, "timesteps_this_iter": 129721, "custom_metrics": {"cost1_mean": 332.00811493546246, "system_level_velocity_mean": 11.688353526617812, "cost2_max": -57.814623122176016, "outflow_rate_max": 1102.0877938399374, "outflow_rate_mean": 963.3357018963358, "cost1_max": 383.2977152050181, "outflow_rate_min": 424.3145744693436, "system_level_velocity_max": 13.31565197783687, "system_level_velocity_min": 10.374915240682585, "cost2_min": -123.62636966154716, "cost1_min": 114.36945761189489, "cost2_mean": -103.09873321217746}, "episode_reward_max": 865.5015444204867}
{"node_ip": "10.138.0.2", "episode_reward_mean": 754.7614389362196, "time_this_iter_s": 69.16355347633362, "done": false, "episode_len_mean": 745.77, "timestamp": 1557400392, "training_iteration": 183, "experiment_id": "58dd2f5595014063b753971755894587", "time_since_restore": 12822.497185230255, "timesteps_total": 24058943, "pid": 25334, "episodes_this_iter": 63, "date": "2019-05-09_11-13-12", "info": {"sample_time_ms": 38658.037, "grad_time_ms": 30977.922, "num_steps_sampled": 24058943, "update_time_ms": 9.497, "default": {"vf_explained_var": 0.896706759929657, "cur_kl_coeff": 0.5062499642372131, "vf_loss": 13.026058197021484, "policy_loss": -0.01811509020626545, "cur_lr": 0.0005000000237487257, "kl": 0.017318466678261757, "total_loss": 13.016711235046387, "entropy": 1.951966643333435}, "load_time_ms": 49.801, "num_steps_trained": 24058943}, "timesteps_since_restore": 24058943, "iterations_since_restore": 183, "config": {"local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "compress_observations": false, "clip_rewards": null, "sample_async": false, "custom_resources_per_worker": {}, "use_gae": true, "vf_share_layers": false, "vf_loss_coeff": 1.0, "optimizer": {}, "simple_optimizer": false, "num_envs_per_worker": 1, "vf_clip_param": 1000000.0, "synchronize_filters": true, "num_cpus_per_worker": 1, "multiagent": {"policy_graphs": {}, "policies_to_train": null, "policy_mapping_fn": null}, "kl_target": 0.01, "clip_actions": false, "input": "sampler", "input_evaluation": null, "entropy_coeff": 0.0, "lr_schedule": null, "sgd_minibatch_size": 128, "callbacks": {"on_sample_end": null, "on_train_result": null, "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7f49896ca7b8>", "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7f49896ca2b0>", "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7f49896ca940>"}, "num_cpus_for_driver": 1, "log_level": "INFO", "tf_session_args": {"log_device_placement": false, "gpu_options": {"allow_growth": true}, "intra_op_parallelism_threads": 2, "inter_op_parallelism_threads": 2, "allow_soft_placement": true, "device_count": {"CPU": 1}}, "model": {"dim": 84, "free_log_std": false, "fcnet_hiddens": [128, 64, 32], "custom_model": null, "fcnet_activation": "tanh", "lstm_use_prev_action_reward": false, "grayscale": false, "channel_major": false, "squash_to_range": false, "framestack": true, "use_lstm": false, "conv_activation": "relu", "conv_filters": null, "custom_preprocessor": null, "lstm_cell_size": 256, "zero_mean": true, "custom_options": {}, "max_seq_len": 20}, "lambda": 0.97, "num_gpus_per_worker": 0, "kl_coeff": 0.2, "horizon": 1500, "preprocessor_pref": "deepmind", "env_config": {"run": "PPO", "flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.1,\n            \"eta3\": 0.1,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 7.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 0\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 700,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}"}, "clip_param": 0.3, "observation_filter": "MeanStdFilter", "env": "MultiWaveAttenuationMergePOEnvBufferedObs-v0density_[eta1, eta2, eta3]:[1.0, 0.1, 0.0]_t_min:7.0", "gamma": 0.99, "lr": 0.0005, "monitor": false, "output_compress_columns": ["obs", "new_obs"], "batch_mode": "truncate_episodes", "num_gpus": 0, "num_workers": 30, "output": null, "collect_metrics_timeout": 180, "num_sgd_iter": 10, "sample_batch_size": 750, "output_max_file_size": 67108864, "straggler_mitigation": false, "train_batch_size": 90000}, "num_metric_batches_dropped": 0, "hostname": "flow-main", "episodes_total": 11368, "episode_reward_min": 212.1060559643773, "time_total_s": 12822.497185230255, "policy_reward_mean": {}, "timesteps_this_iter": 130938, "custom_metrics": {"cost1_mean": 335.36275015230075, "system_level_velocity_mean": 11.703461800488519, "cost2_max": -58.64138414345304, "outflow_rate_max": 1102.0877938399374, "outflow_rate_mean": 971.7241021656699, "cost1_max": 383.2977152050181, "outflow_rate_min": 424.3145744693436, "system_level_velocity_max": 13.304750526349451, "system_level_velocity_min": 10.887250018531839, "cost2_min": -120.1878429064513, "cost1_min": 114.36945761189489, "cost2_mean": -102.88655482556}, "episode_reward_max": 869.7599379166641}
{"node_ip": "10.138.0.2", "episode_reward_mean": 746.9313213321619, "time_this_iter_s": 71.89723992347717, "done": false, "episode_len_mean": 751.0, "timestamp": 1557400463, "training_iteration": 184, "experiment_id": "58dd2f5595014063b753971755894587", "time_since_restore": 12894.394425153732, "timesteps_total": 24189136, "pid": 25334, "episodes_this_iter": 62, "date": "2019-05-09_11-14-23", "info": {"sample_time_ms": 38666.212, "grad_time_ms": 31126.588, "num_steps_sampled": 24189136, "update_time_ms": 9.466, "default": {"vf_explained_var": 0.9002299904823303, "cur_kl_coeff": 0.5062499642372131, "vf_loss": 12.735482215881348, "policy_loss": -0.018607553094625473, "cur_lr": 0.0005000000237487257, "kl": 0.017275454476475716, "total_loss": 12.725621223449707, "entropy": 1.9722529649734497}, "load_time_ms": 49.955, "num_steps_trained": 24189136}, "timesteps_since_restore": 24189136, "iterations_since_restore": 184, "config": {"local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "compress_observations": false, "clip_rewards": null, "sample_async": false, "custom_resources_per_worker": {}, "use_gae": true, "vf_share_layers": false, "vf_loss_coeff": 1.0, "optimizer": {}, "simple_optimizer": false, "num_envs_per_worker": 1, "vf_clip_param": 1000000.0, "synchronize_filters": true, "num_cpus_per_worker": 1, "multiagent": {"policy_graphs": {}, "policies_to_train": null, "policy_mapping_fn": null}, "kl_target": 0.01, "clip_actions": false, "input": "sampler", "input_evaluation": null, "entropy_coeff": 0.0, "lr_schedule": null, "sgd_minibatch_size": 128, "callbacks": {"on_sample_end": null, "on_train_result": null, "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7f49896d6a20>", "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7f49896d6080>", "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7f49896d6ba8>"}, "num_cpus_for_driver": 1, "log_level": "INFO", "tf_session_args": {"log_device_placement": false, "gpu_options": {"allow_growth": true}, "intra_op_parallelism_threads": 2, "inter_op_parallelism_threads": 2, "allow_soft_placement": true, "device_count": {"CPU": 1}}, "model": {"dim": 84, "free_log_std": false, "fcnet_hiddens": [128, 64, 32], "custom_model": null, "fcnet_activation": "tanh", "lstm_use_prev_action_reward": false, "grayscale": false, "channel_major": false, "squash_to_range": false, "framestack": true, "use_lstm": false, "conv_activation": "relu", "conv_filters": null, "custom_preprocessor": null, "lstm_cell_size": 256, "zero_mean": true, "custom_options": {}, "max_seq_len": 20}, "lambda": 0.97, "num_gpus_per_worker": 0, "kl_coeff": 0.2, "horizon": 1500, "preprocessor_pref": "deepmind", "env_config": {"run": "PPO", "flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.1,\n            \"eta3\": 0.1,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 7.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 0\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 700,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}"}, "clip_param": 0.3, "observation_filter": "MeanStdFilter", "env": "MultiWaveAttenuationMergePOEnvBufferedObs-v0density_[eta1, eta2, eta3]:[1.0, 0.1, 0.0]_t_min:7.0", "gamma": 0.99, "lr": 0.0005, "monitor": false, "output_compress_columns": ["obs", "new_obs"], "batch_mode": "truncate_episodes", "num_gpus": 0, "num_workers": 30, "output": null, "collect_metrics_timeout": 180, "num_sgd_iter": 10, "sample_batch_size": 750, "output_max_file_size": 67108864, "straggler_mitigation": false, "train_batch_size": 90000}, "num_metric_batches_dropped": 0, "hostname": "flow-main", "episodes_total": 11430, "episode_reward_min": 659.9562013193153, "time_total_s": 12894.394425153732, "policy_reward_mean": {}, "timesteps_this_iter": 130193, "custom_metrics": {"cost1_mean": 331.8774521608347, "system_level_velocity_mean": 11.483746823591284, "cost2_max": -85.96750564482983, "outflow_rate_max": 1053.4111568074836, "outflow_rate_mean": 963.8875399000468, "cost1_max": 369.8364217779716, "outflow_rate_min": 827.872428195006, "system_level_velocity_max": 12.797039041590663, "system_level_velocity_min": 10.098536675369347, "cost2_min": -118.13023276917193, "cost1_min": 291.38435995155623, "cost2_mean": -102.70105349330436}, "episode_reward_max": 859.1311699159374}
{"node_ip": "10.138.0.2", "episode_reward_mean": 747.8394757581406, "time_this_iter_s": 72.3091299533844, "done": false, "episode_len_mean": 745.82, "timestamp": 1557400536, "training_iteration": 185, "experiment_id": "58dd2f5595014063b753971755894587", "time_since_restore": 12966.703555107117, "timesteps_total": 24318678, "pid": 25334, "episodes_this_iter": 63, "date": "2019-05-09_11-15-36", "info": {"sample_time_ms": 38629.143, "grad_time_ms": 31208.068, "num_steps_sampled": 24318678, "update_time_ms": 9.849, "default": {"vf_explained_var": 0.8899484276771545, "cur_kl_coeff": 0.5062499642372131, "vf_loss": 13.916123390197754, "policy_loss": -0.017815615981817245, "cur_lr": 0.0005000000237487257, "kl": 0.017571784555912018, "total_loss": 13.907203674316406, "entropy": 1.9745440483093262}, "load_time_ms": 49.035, "num_steps_trained": 24318678}, "timesteps_since_restore": 24318678, "iterations_since_restore": 185, "config": {"local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "compress_observations": false, "clip_rewards": null, "sample_async": false, "custom_resources_per_worker": {}, "use_gae": true, "vf_share_layers": false, "vf_loss_coeff": 1.0, "optimizer": {}, "simple_optimizer": false, "num_envs_per_worker": 1, "vf_clip_param": 1000000.0, "synchronize_filters": true, "num_cpus_per_worker": 1, "multiagent": {"policy_graphs": {}, "policies_to_train": null, "policy_mapping_fn": null}, "kl_target": 0.01, "clip_actions": false, "input": "sampler", "input_evaluation": null, "entropy_coeff": 0.0, "lr_schedule": null, "sgd_minibatch_size": 128, "callbacks": {"on_sample_end": null, "on_train_result": null, "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7f49896c9ba8>", "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7f49896c9198>", "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7f49896c9be0>"}, "num_cpus_for_driver": 1, "log_level": "INFO", "tf_session_args": {"log_device_placement": false, "gpu_options": {"allow_growth": true}, "intra_op_parallelism_threads": 2, "inter_op_parallelism_threads": 2, "allow_soft_placement": true, "device_count": {"CPU": 1}}, "model": {"dim": 84, "free_log_std": false, "fcnet_hiddens": [128, 64, 32], "custom_model": null, "fcnet_activation": "tanh", "lstm_use_prev_action_reward": false, "grayscale": false, "channel_major": false, "squash_to_range": false, "framestack": true, "use_lstm": false, "conv_activation": "relu", "conv_filters": null, "custom_preprocessor": null, "lstm_cell_size": 256, "zero_mean": true, "custom_options": {}, "max_seq_len": 20}, "lambda": 0.97, "num_gpus_per_worker": 0, "kl_coeff": 0.2, "horizon": 1500, "preprocessor_pref": "deepmind", "env_config": {"run": "PPO", "flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.1,\n            \"eta3\": 0.1,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 7.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 0\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 700,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}"}, "clip_param": 0.3, "observation_filter": "MeanStdFilter", "env": "MultiWaveAttenuationMergePOEnvBufferedObs-v0density_[eta1, eta2, eta3]:[1.0, 0.1, 0.0]_t_min:7.0", "gamma": 0.99, "lr": 0.0005, "monitor": false, "output_compress_columns": ["obs", "new_obs"], "batch_mode": "truncate_episodes", "num_gpus": 0, "num_workers": 30, "output": null, "collect_metrics_timeout": 180, "num_sgd_iter": 10, "sample_batch_size": 750, "output_max_file_size": 67108864, "straggler_mitigation": false, "train_batch_size": 90000}, "num_metric_batches_dropped": 0, "hostname": "flow-main", "episodes_total": 11493, "episode_reward_min": 220.99938072433045, "time_total_s": 12966.703555107117, "policy_reward_mean": {}, "timesteps_this_iter": 129542, "custom_metrics": {"cost1_mean": 328.7596453236685, "system_level_velocity_mean": 11.460419085984453, "cost2_max": -58.35182428516565, "outflow_rate_max": 1053.559103929129, "outflow_rate_mean": 955.3044922532328, "cost1_max": 369.8364217779716, "outflow_rate_min": 426.62081843729754, "system_level_velocity_max": 13.106408155088044, "system_level_velocity_min": 10.07968976827523, "cost2_min": -118.13023276917193, "cost1_min": 115.41188137472565, "cost2_mean": -101.54936128668103}, "episode_reward_max": 859.1311699159374}
{"node_ip": "10.138.0.2", "episode_reward_mean": 743.329527694063, "time_this_iter_s": 70.84773325920105, "done": false, "episode_len_mean": 745.82, "timestamp": 1557400607, "training_iteration": 186, "experiment_id": "58dd2f5595014063b753971755894587", "time_since_restore": 13037.551288366318, "timesteps_total": 24448404, "pid": 25334, "episodes_this_iter": 62, "date": "2019-05-09_11-16-47", "info": {"sample_time_ms": 38388.96, "grad_time_ms": 31165.694, "num_steps_sampled": 24448404, "update_time_ms": 9.969, "default": {"vf_explained_var": 0.8992365598678589, "cur_kl_coeff": 0.5062499046325684, "vf_loss": 12.731581687927246, "policy_loss": -0.01885288581252098, "cur_lr": 0.0005000000237487257, "kl": 0.017310569062829018, "total_loss": 12.721490859985352, "entropy": 1.9948947429656982}, "load_time_ms": 49.944, "num_steps_trained": 24448404}, "timesteps_since_restore": 24448404, "iterations_since_restore": 186, "config": {"local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "compress_observations": false, "clip_rewards": null, "sample_async": false, "custom_resources_per_worker": {}, "use_gae": true, "vf_share_layers": false, "vf_loss_coeff": 1.0, "optimizer": {}, "simple_optimizer": false, "num_envs_per_worker": 1, "vf_clip_param": 1000000.0, "synchronize_filters": true, "num_cpus_per_worker": 1, "multiagent": {"policy_graphs": {}, "policies_to_train": null, "policy_mapping_fn": null}, "kl_target": 0.01, "clip_actions": false, "input": "sampler", "input_evaluation": null, "entropy_coeff": 0.0, "lr_schedule": null, "sgd_minibatch_size": 128, "callbacks": {"on_sample_end": null, "on_train_result": null, "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7f49896bb6d8>", "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7f49896bb278>", "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7f49896bbef0>"}, "num_cpus_for_driver": 1, "log_level": "INFO", "tf_session_args": {"log_device_placement": false, "gpu_options": {"allow_growth": true}, "intra_op_parallelism_threads": 2, "inter_op_parallelism_threads": 2, "allow_soft_placement": true, "device_count": {"CPU": 1}}, "model": {"dim": 84, "free_log_std": false, "fcnet_hiddens": [128, 64, 32], "custom_model": null, "fcnet_activation": "tanh", "lstm_use_prev_action_reward": false, "grayscale": false, "channel_major": false, "squash_to_range": false, "framestack": true, "use_lstm": false, "conv_activation": "relu", "conv_filters": null, "custom_preprocessor": null, "lstm_cell_size": 256, "zero_mean": true, "custom_options": {}, "max_seq_len": 20}, "lambda": 0.97, "num_gpus_per_worker": 0, "kl_coeff": 0.2, "horizon": 1500, "preprocessor_pref": "deepmind", "env_config": {"run": "PPO", "flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.1,\n            \"eta3\": 0.1,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 7.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 0\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 700,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}"}, "clip_param": 0.3, "observation_filter": "MeanStdFilter", "env": "MultiWaveAttenuationMergePOEnvBufferedObs-v0density_[eta1, eta2, eta3]:[1.0, 0.1, 0.0]_t_min:7.0", "gamma": 0.99, "lr": 0.0005, "monitor": false, "output_compress_columns": ["obs", "new_obs"], "batch_mode": "truncate_episodes", "num_gpus": 0, "num_workers": 30, "output": null, "collect_metrics_timeout": 180, "num_sgd_iter": 10, "sample_batch_size": 750, "output_max_file_size": 67108864, "straggler_mitigation": false, "train_batch_size": 90000}, "num_metric_batches_dropped": 0, "hostname": "flow-main", "episodes_total": 11555, "episode_reward_min": 220.99938072433045, "time_total_s": 13037.551288366318, "policy_reward_mean": {}, "timesteps_this_iter": 129726, "custom_metrics": {"cost1_mean": 325.7472573121811, "system_level_velocity_mean": 11.370531077172757, "cost2_max": -58.35182428516565, "outflow_rate_max": 1056.4160729662722, "outflow_rate_mean": 945.4481674308244, "cost1_max": 370.8016917433867, "outflow_rate_min": 426.62081843729754, "system_level_velocity_max": 13.106408155088044, "system_level_velocity_min": 9.282047306952741, "cost2_min": -117.91564323108484, "cost1_min": 115.41188137472565, "cost2_mean": -99.63713081599782}, "episode_reward_max": 855.751423863755}
{"node_ip": "10.138.0.2", "episode_reward_mean": 740.6557576590396, "time_this_iter_s": 67.77546906471252, "done": false, "episode_len_mean": 745.76, "timestamp": 1557400675, "training_iteration": 187, "experiment_id": "58dd2f5595014063b753971755894587", "time_since_restore": 13105.32675743103, "timesteps_total": 24577727, "pid": 25334, "episodes_this_iter": 62, "date": "2019-05-09_11-17-55", "info": {"sample_time_ms": 38169.667, "grad_time_ms": 31164.896, "num_steps_sampled": 24577727, "update_time_ms": 10.014, "default": {"vf_explained_var": 0.8925448656082153, "cur_kl_coeff": 0.5062499642372131, "vf_loss": 13.444351196289062, "policy_loss": -0.018524453043937683, "cur_lr": 0.0005000000237487257, "kl": 0.017241232097148895, "total_loss": 13.434555053710938, "entropy": 1.9914363622665405}, "load_time_ms": 49.835, "num_steps_trained": 24577727}, "timesteps_since_restore": 24577727, "iterations_since_restore": 187, "config": {"local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "compress_observations": false, "clip_rewards": null, "sample_async": false, "custom_resources_per_worker": {}, "use_gae": true, "vf_share_layers": false, "vf_loss_coeff": 1.0, "optimizer": {}, "simple_optimizer": false, "num_envs_per_worker": 1, "vf_clip_param": 1000000.0, "synchronize_filters": true, "num_cpus_per_worker": 1, "multiagent": {"policy_graphs": {}, "policies_to_train": null, "policy_mapping_fn": null}, "kl_target": 0.01, "clip_actions": false, "input": "sampler", "input_evaluation": null, "entropy_coeff": 0.0, "lr_schedule": null, "sgd_minibatch_size": 128, "callbacks": {"on_sample_end": null, "on_train_result": null, "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7f49896d6080>", "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7f49896d6518>", "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7f49896d6ba8>"}, "num_cpus_for_driver": 1, "log_level": "INFO", "tf_session_args": {"log_device_placement": false, "gpu_options": {"allow_growth": true}, "intra_op_parallelism_threads": 2, "inter_op_parallelism_threads": 2, "allow_soft_placement": true, "device_count": {"CPU": 1}}, "model": {"dim": 84, "free_log_std": false, "fcnet_hiddens": [128, 64, 32], "custom_model": null, "fcnet_activation": "tanh", "lstm_use_prev_action_reward": false, "grayscale": false, "channel_major": false, "squash_to_range": false, "framestack": true, "use_lstm": false, "conv_activation": "relu", "conv_filters": null, "custom_preprocessor": null, "lstm_cell_size": 256, "zero_mean": true, "custom_options": {}, "max_seq_len": 20}, "lambda": 0.97, "num_gpus_per_worker": 0, "kl_coeff": 0.2, "horizon": 1500, "preprocessor_pref": "deepmind", "env_config": {"run": "PPO", "flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.1,\n            \"eta3\": 0.1,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 7.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 0\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 700,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}"}, "clip_param": 0.3, "observation_filter": "MeanStdFilter", "env": "MultiWaveAttenuationMergePOEnvBufferedObs-v0density_[eta1, eta2, eta3]:[1.0, 0.1, 0.0]_t_min:7.0", "gamma": 0.99, "lr": 0.0005, "monitor": false, "output_compress_columns": ["obs", "new_obs"], "batch_mode": "truncate_episodes", "num_gpus": 0, "num_workers": 30, "output": null, "collect_metrics_timeout": 180, "num_sgd_iter": 10, "sample_batch_size": 750, "output_max_file_size": 67108864, "straggler_mitigation": false, "train_batch_size": 90000}, "num_metric_batches_dropped": 0, "hostname": "flow-main", "episodes_total": 11617, "episode_reward_min": 213.20282457328108, "time_total_s": 13105.32675743103, "policy_reward_mean": {}, "timesteps_this_iter": 129323, "custom_metrics": {"cost1_mean": 325.0762920148112, "system_level_velocity_mean": 11.351428707836062, "cost2_max": -55.16017068824613, "outflow_rate_max": 1049.6503031369355, "outflow_rate_mean": 942.381449830687, "cost1_max": 368.8052987954823, "outflow_rate_min": 402.5488082691981, "system_level_velocity_max": 12.708821110649469, "system_level_velocity_min": 9.928932632356581, "cost2_min": -117.34435700678085, "cost1_min": 109.77884332051944, "cost2_mean": -98.39020353919436}, "episode_reward_max": 852.5216812420691}
{"node_ip": "10.138.0.2", "episode_reward_mean": 741.6591154867149, "time_this_iter_s": 66.27141833305359, "done": false, "episode_len_mean": 745.76, "timestamp": 1557400741, "training_iteration": 188, "experiment_id": "58dd2f5595014063b753971755894587", "time_since_restore": 13171.598175764084, "timesteps_total": 24707580, "pid": 25334, "episodes_this_iter": 62, "date": "2019-05-09_11-19-01", "info": {"sample_time_ms": 38024.946, "grad_time_ms": 30924.814, "num_steps_sampled": 24707580, "update_time_ms": 9.693, "default": {"vf_explained_var": 0.9002829790115356, "cur_kl_coeff": 0.5062499642372131, "vf_loss": 12.162795066833496, "policy_loss": -0.01847347430884838, "cur_lr": 0.0005000000237487257, "kl": 0.01726340688765049, "total_loss": 12.153061866760254, "entropy": 2.0083296298980713}, "load_time_ms": 50.094, "num_steps_trained": 24707580}, "timesteps_since_restore": 24707580, "iterations_since_restore": 188, "config": {"local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "compress_observations": false, "clip_rewards": null, "sample_async": false, "custom_resources_per_worker": {}, "use_gae": true, "vf_share_layers": false, "vf_loss_coeff": 1.0, "optimizer": {}, "simple_optimizer": false, "num_envs_per_worker": 1, "vf_clip_param": 1000000.0, "synchronize_filters": true, "num_cpus_per_worker": 1, "multiagent": {"policy_graphs": {}, "policies_to_train": null, "policy_mapping_fn": null}, "kl_target": 0.01, "clip_actions": false, "input": "sampler", "input_evaluation": null, "entropy_coeff": 0.0, "lr_schedule": null, "sgd_minibatch_size": 128, "callbacks": {"on_sample_end": null, "on_train_result": null, "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7f49896c9be0>", "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7f49896c9d68>", "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7f49896c9198>"}, "num_cpus_for_driver": 1, "log_level": "INFO", "tf_session_args": {"log_device_placement": false, "gpu_options": {"allow_growth": true}, "intra_op_parallelism_threads": 2, "inter_op_parallelism_threads": 2, "allow_soft_placement": true, "device_count": {"CPU": 1}}, "model": {"dim": 84, "free_log_std": false, "fcnet_hiddens": [128, 64, 32], "custom_model": null, "fcnet_activation": "tanh", "lstm_use_prev_action_reward": false, "grayscale": false, "channel_major": false, "squash_to_range": false, "framestack": true, "use_lstm": false, "conv_activation": "relu", "conv_filters": null, "custom_preprocessor": null, "lstm_cell_size": 256, "zero_mean": true, "custom_options": {}, "max_seq_len": 20}, "lambda": 0.97, "num_gpus_per_worker": 0, "kl_coeff": 0.2, "horizon": 1500, "preprocessor_pref": "deepmind", "env_config": {"run": "PPO", "flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.1,\n            \"eta3\": 0.1,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 7.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 0\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 700,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}"}, "clip_param": 0.3, "observation_filter": "MeanStdFilter", "env": "MultiWaveAttenuationMergePOEnvBufferedObs-v0density_[eta1, eta2, eta3]:[1.0, 0.1, 0.0]_t_min:7.0", "gamma": 0.99, "lr": 0.0005, "monitor": false, "output_compress_columns": ["obs", "new_obs"], "batch_mode": "truncate_episodes", "num_gpus": 0, "num_workers": 30, "output": null, "collect_metrics_timeout": 180, "num_sgd_iter": 10, "sample_batch_size": 750, "output_max_file_size": 67108864, "straggler_mitigation": false, "train_batch_size": 90000}, "num_metric_batches_dropped": 0, "hostname": "flow-main", "episodes_total": 11679, "episode_reward_min": 213.20282457328108, "time_total_s": 13171.598175764084, "policy_reward_mean": {}, "timesteps_this_iter": 129853, "custom_metrics": {"cost1_mean": 325.8233529827648, "system_level_velocity_mean": 11.368434947221674, "cost2_max": -55.16017068824613, "outflow_rate_max": 1047.125861707858, "outflow_rate_mean": 944.1112826459787, "cost1_max": 367.6122007770859, "outflow_rate_min": 402.5488082691981, "system_level_velocity_max": 12.708821110649469, "system_level_velocity_min": 9.767397470471131, "cost2_min": -113.78115143281042, "cost1_min": 109.77884332051944, "cost2_mean": -97.70498411970183}, "episode_reward_max": 851.310806698436}
{"node_ip": "10.138.0.2", "episode_reward_mean": 742.970639389552, "time_this_iter_s": 69.20685315132141, "done": false, "episode_len_mean": 751.0, "timestamp": 1557400810, "training_iteration": 189, "experiment_id": "58dd2f5595014063b753971755894587", "time_since_restore": 13240.805028915405, "timesteps_total": 24839405, "pid": 25334, "episodes_this_iter": 63, "date": "2019-05-09_11-20-10", "info": {"sample_time_ms": 38142.68, "grad_time_ms": 30820.99, "num_steps_sampled": 24839405, "update_time_ms": 9.596, "default": {"vf_explained_var": 0.8812519907951355, "cur_kl_coeff": 0.5062499046325684, "vf_loss": 14.450535774230957, "policy_loss": -0.017597556114196777, "cur_lr": 0.0005000000237487257, "kl": 0.016821881756186485, "total_loss": 14.441454887390137, "entropy": 2.0114216804504395}, "load_time_ms": 50.304, "num_steps_trained": 24839405}, "timesteps_since_restore": 24839405, "iterations_since_restore": 189, "config": {"local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "compress_observations": false, "clip_rewards": null, "sample_async": false, "custom_resources_per_worker": {}, "use_gae": true, "vf_share_layers": false, "vf_loss_coeff": 1.0, "optimizer": {}, "simple_optimizer": false, "num_envs_per_worker": 1, "vf_clip_param": 1000000.0, "synchronize_filters": true, "num_cpus_per_worker": 1, "multiagent": {"policy_graphs": {}, "policies_to_train": null, "policy_mapping_fn": null}, "kl_target": 0.01, "clip_actions": false, "input": "sampler", "input_evaluation": null, "entropy_coeff": 0.0, "lr_schedule": null, "sgd_minibatch_size": 128, "callbacks": {"on_sample_end": null, "on_train_result": null, "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7f49896ca438>", "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7f49896ca668>", "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7f49896caef0>"}, "num_cpus_for_driver": 1, "log_level": "INFO", "tf_session_args": {"log_device_placement": false, "gpu_options": {"allow_growth": true}, "intra_op_parallelism_threads": 2, "inter_op_parallelism_threads": 2, "allow_soft_placement": true, "device_count": {"CPU": 1}}, "model": {"dim": 84, "free_log_std": false, "fcnet_hiddens": [128, 64, 32], "custom_model": null, "fcnet_activation": "tanh", "lstm_use_prev_action_reward": false, "grayscale": false, "channel_major": false, "squash_to_range": false, "framestack": true, "use_lstm": false, "conv_activation": "relu", "conv_filters": null, "custom_preprocessor": null, "lstm_cell_size": 256, "zero_mean": true, "custom_options": {}, "max_seq_len": 20}, "lambda": 0.97, "num_gpus_per_worker": 0, "kl_coeff": 0.2, "horizon": 1500, "preprocessor_pref": "deepmind", "env_config": {"run": "PPO", "flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.1,\n            \"eta3\": 0.1,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 7.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 0\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 700,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}"}, "clip_param": 0.3, "observation_filter": "MeanStdFilter", "env": "MultiWaveAttenuationMergePOEnvBufferedObs-v0density_[eta1, eta2, eta3]:[1.0, 0.1, 0.0]_t_min:7.0", "gamma": 0.99, "lr": 0.0005, "monitor": false, "output_compress_columns": ["obs", "new_obs"], "batch_mode": "truncate_episodes", "num_gpus": 0, "num_workers": 30, "output": null, "collect_metrics_timeout": 180, "num_sgd_iter": 10, "sample_batch_size": 750, "output_max_file_size": 67108864, "straggler_mitigation": false, "train_batch_size": 90000}, "num_metric_batches_dropped": 0, "hostname": "flow-main", "episodes_total": 11742, "episode_reward_min": 642.7155731201069, "time_total_s": 13240.805028915405, "policy_reward_mean": {}, "timesteps_this_iter": 131825, "custom_metrics": {"cost1_mean": 324.8125722346154, "system_level_velocity_mean": 11.243061734649528, "cost2_max": -69.58898453330487, "outflow_rate_max": 1050.5439336765717, "outflow_rate_mean": 940.1628132804213, "cost1_max": 367.6122007770859, "outflow_rate_min": 816.5381103795976, "system_level_velocity_max": 12.681434427432928, "system_level_velocity_min": 9.767397470471131, "cost2_min": -115.09804908582977, "cost1_min": 281.36393186218316, "cost2_mean": -97.18614167110121}, "episode_reward_max": 855.8227843552844}
{"node_ip": "10.138.0.2", "episode_reward_mean": 745.8073369054347, "time_this_iter_s": 67.94950413703918, "done": false, "episode_len_mean": 751.0, "timestamp": 1557400878, "training_iteration": 190, "experiment_id": "58dd2f5595014063b753971755894587", "time_since_restore": 13308.754533052444, "timesteps_total": 24967794, "pid": 25334, "episodes_this_iter": 62, "date": "2019-05-09_11-21-18", "info": {"sample_time_ms": 38326.728, "grad_time_ms": 30612.598, "num_steps_sampled": 24967794, "update_time_ms": 9.747, "default": {"vf_explained_var": 0.8862579464912415, "cur_kl_coeff": 0.5062499642372131, "vf_loss": 13.267396926879883, "policy_loss": -0.019160648807883263, "cur_lr": 0.0005000000237487257, "kl": 0.01795765571296215, "total_loss": 13.257328033447266, "entropy": 2.0088651180267334}, "load_time_ms": 49.359, "num_steps_trained": 24967794}, "timesteps_since_restore": 24967794, "iterations_since_restore": 190, "config": {"local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "compress_observations": false, "clip_rewards": null, "sample_async": false, "custom_resources_per_worker": {}, "use_gae": true, "vf_share_layers": false, "vf_loss_coeff": 1.0, "optimizer": {}, "simple_optimizer": false, "num_envs_per_worker": 1, "vf_clip_param": 1000000.0, "synchronize_filters": true, "num_cpus_per_worker": 1, "multiagent": {"policy_graphs": {}, "policies_to_train": null, "policy_mapping_fn": null}, "kl_target": 0.01, "clip_actions": false, "input": "sampler", "input_evaluation": null, "entropy_coeff": 0.0, "lr_schedule": null, "sgd_minibatch_size": 128, "callbacks": {"on_sample_end": null, "on_train_result": null, "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7f49896b14a8>", "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7f49896d6828>", "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7f49896d6ba8>"}, "num_cpus_for_driver": 1, "log_level": "INFO", "tf_session_args": {"log_device_placement": false, "gpu_options": {"allow_growth": true}, "intra_op_parallelism_threads": 2, "inter_op_parallelism_threads": 2, "allow_soft_placement": true, "device_count": {"CPU": 1}}, "model": {"dim": 84, "free_log_std": false, "fcnet_hiddens": [128, 64, 32], "custom_model": null, "fcnet_activation": "tanh", "lstm_use_prev_action_reward": false, "grayscale": false, "channel_major": false, "squash_to_range": false, "framestack": true, "use_lstm": false, "conv_activation": "relu", "conv_filters": null, "custom_preprocessor": null, "lstm_cell_size": 256, "zero_mean": true, "custom_options": {}, "max_seq_len": 20}, "lambda": 0.97, "num_gpus_per_worker": 0, "kl_coeff": 0.2, "horizon": 1500, "preprocessor_pref": "deepmind", "env_config": {"run": "PPO", "flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.1,\n            \"eta3\": 0.1,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 7.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 0\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 700,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}"}, "clip_param": 0.3, "observation_filter": "MeanStdFilter", "env": "MultiWaveAttenuationMergePOEnvBufferedObs-v0density_[eta1, eta2, eta3]:[1.0, 0.1, 0.0]_t_min:7.0", "gamma": 0.99, "lr": 0.0005, "monitor": false, "output_compress_columns": ["obs", "new_obs"], "batch_mode": "truncate_episodes", "num_gpus": 0, "num_workers": 30, "output": null, "collect_metrics_timeout": 180, "num_sgd_iter": 10, "sample_batch_size": 750, "output_max_file_size": 67108864, "straggler_mitigation": false, "train_batch_size": 90000}, "num_metric_batches_dropped": 0, "hostname": "flow-main", "episodes_total": 11804, "episode_reward_min": 636.4941608616297, "time_total_s": 13308.754533052444, "policy_reward_mean": {}, "timesteps_this_iter": 128389, "custom_metrics": {"cost1_mean": 325.47511461969333, "system_level_velocity_mean": 11.273381296038037, "cost2_max": -69.58898453330487, "outflow_rate_max": 1067.9606159759614, "outflow_rate_mean": 942.3779156136966, "cost1_max": 375.4843805008981, "outflow_rate_min": 826.3296128095666, "system_level_velocity_max": 13.017536422346534, "system_level_velocity_min": 9.797157005498327, "cost2_min": -124.13764500202963, "cost1_min": 280.87257902887103, "cost2_mean": -95.92884688439628}, "episode_reward_max": 856.4362704544955}
{"node_ip": "10.138.0.2", "episode_reward_mean": 730.8954111680852, "time_this_iter_s": 69.7194402217865, "done": false, "episode_len_mean": 734.35, "timestamp": 1557400948, "training_iteration": 191, "experiment_id": "58dd2f5595014063b753971755894587", "time_since_restore": 13378.473973274231, "timesteps_total": 25098890, "pid": 25334, "episodes_this_iter": 65, "date": "2019-05-09_11-22-28", "info": {"sample_time_ms": 38599.21, "grad_time_ms": 30486.264, "num_steps_sampled": 25098890, "update_time_ms": 9.586, "default": {"vf_explained_var": 0.8858696818351746, "cur_kl_coeff": 0.5062499642372131, "vf_loss": 13.804353713989258, "policy_loss": -0.017084432765841484, "cur_lr": 0.0005000000237487257, "kl": 0.016844257712364197, "total_loss": 13.795796394348145, "entropy": 2.0208983421325684}, "load_time_ms": 49.324, "num_steps_trained": 25098890}, "timesteps_since_restore": 25098890, "iterations_since_restore": 191, "config": {"local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "compress_observations": false, "clip_rewards": null, "sample_async": false, "custom_resources_per_worker": {}, "use_gae": true, "vf_share_layers": false, "vf_loss_coeff": 1.0, "optimizer": {}, "simple_optimizer": false, "num_envs_per_worker": 1, "vf_clip_param": 1000000.0, "synchronize_filters": true, "num_cpus_per_worker": 1, "multiagent": {"policy_graphs": {}, "policies_to_train": null, "policy_mapping_fn": null}, "kl_target": 0.01, "clip_actions": false, "input": "sampler", "input_evaluation": null, "entropy_coeff": 0.0, "lr_schedule": null, "sgd_minibatch_size": 128, "callbacks": {"on_sample_end": null, "on_train_result": null, "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7f49896caf98>", "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7f49896caba8>", "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7f49896ca3c8>"}, "num_cpus_for_driver": 1, "log_level": "INFO", "tf_session_args": {"log_device_placement": false, "gpu_options": {"allow_growth": true}, "intra_op_parallelism_threads": 2, "inter_op_parallelism_threads": 2, "allow_soft_placement": true, "device_count": {"CPU": 1}}, "model": {"dim": 84, "free_log_std": false, "fcnet_hiddens": [128, 64, 32], "custom_model": null, "fcnet_activation": "tanh", "lstm_use_prev_action_reward": false, "grayscale": false, "channel_major": false, "squash_to_range": false, "framestack": true, "use_lstm": false, "conv_activation": "relu", "conv_filters": null, "custom_preprocessor": null, "lstm_cell_size": 256, "zero_mean": true, "custom_options": {}, "max_seq_len": 20}, "lambda": 0.97, "num_gpus_per_worker": 0, "kl_coeff": 0.2, "horizon": 1500, "preprocessor_pref": "deepmind", "env_config": {"run": "PPO", "flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.1,\n            \"eta3\": 0.1,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 7.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 0\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 700,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}"}, "clip_param": 0.3, "observation_filter": "MeanStdFilter", "env": "MultiWaveAttenuationMergePOEnvBufferedObs-v0density_[eta1, eta2, eta3]:[1.0, 0.1, 0.0]_t_min:7.0", "gamma": 0.99, "lr": 0.0005, "monitor": false, "output_compress_columns": ["obs", "new_obs"], "batch_mode": "truncate_episodes", "num_gpus": 0, "num_workers": 30, "output": null, "collect_metrics_timeout": 180, "num_sgd_iter": 10, "sample_batch_size": 750, "output_max_file_size": 67108864, "straggler_mitigation": false, "train_batch_size": 90000}, "num_metric_batches_dropped": 0, "hostname": "flow-main", "episodes_total": 11869, "episode_reward_min": 65.25440529924369, "time_total_s": 13378.473973274231, "policy_reward_mean": {}, "timesteps_this_iter": 131096, "custom_metrics": {"cost1_mean": 317.79501623179726, "system_level_velocity_mean": 11.268223228632998, "cost2_max": -31.132049108727088, "outflow_rate_max": 1043.0485424337805, "outflow_rate_mean": 923.1311646868737, "cost1_max": 366.7431374099874, "outflow_rate_min": 254.23111705178346, "system_level_velocity_max": 13.091572739427628, "system_level_velocity_min": 9.807296537983216, "cost2_min": -114.40280767899685, "cost1_min": 47.83541087707912, "cost2_mean": -94.41742403967042}, "episode_reward_max": 856.4362704544955}
{"node_ip": "10.138.0.2", "episode_reward_mean": 730.8169073927083, "time_this_iter_s": 94.63048458099365, "done": false, "episode_len_mean": 740.66, "timestamp": 1557401043, "training_iteration": 192, "experiment_id": "58dd2f5595014063b753971755894587", "time_since_restore": 13473.104457855225, "timesteps_total": 25227919, "pid": 25334, "episodes_this_iter": 62, "date": "2019-05-09_11-24-03", "info": {"sample_time_ms": 40789.88, "grad_time_ms": 30844.078, "num_steps_sampled": 25227919, "update_time_ms": 9.544, "default": {"vf_explained_var": 0.8835648894309998, "cur_kl_coeff": 0.5062499642372131, "vf_loss": 13.583972930908203, "policy_loss": -0.018235409632325172, "cur_lr": 0.0005000000237487257, "kl": 0.017558319494128227, "total_loss": 13.574626922607422, "entropy": 2.033330202102661}, "load_time_ms": 67.003, "num_steps_trained": 25227919}, "timesteps_since_restore": 25227919, "iterations_since_restore": 192, "config": {"local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "compress_observations": false, "clip_rewards": null, "sample_async": false, "custom_resources_per_worker": {}, "use_gae": true, "vf_share_layers": false, "vf_loss_coeff": 1.0, "optimizer": {}, "simple_optimizer": false, "num_envs_per_worker": 1, "vf_clip_param": 1000000.0, "synchronize_filters": true, "num_cpus_per_worker": 1, "multiagent": {"policy_graphs": {}, "policies_to_train": null, "policy_mapping_fn": null}, "kl_target": 0.01, "clip_actions": false, "input": "sampler", "input_evaluation": null, "entropy_coeff": 0.0, "lr_schedule": null, "sgd_minibatch_size": 128, "callbacks": {"on_sample_end": null, "on_train_result": null, "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7f498a9026a0>", "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7f498a9026d8>", "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7f498a9020f0>"}, "num_cpus_for_driver": 1, "log_level": "INFO", "tf_session_args": {"log_device_placement": false, "gpu_options": {"allow_growth": true}, "intra_op_parallelism_threads": 2, "inter_op_parallelism_threads": 2, "allow_soft_placement": true, "device_count": {"CPU": 1}}, "model": {"dim": 84, "free_log_std": false, "fcnet_hiddens": [128, 64, 32], "custom_model": null, "fcnet_activation": "tanh", "lstm_use_prev_action_reward": false, "grayscale": false, "channel_major": false, "squash_to_range": false, "framestack": true, "use_lstm": false, "conv_activation": "relu", "conv_filters": null, "custom_preprocessor": null, "lstm_cell_size": 256, "zero_mean": true, "custom_options": {}, "max_seq_len": 20}, "lambda": 0.97, "num_gpus_per_worker": 0, "kl_coeff": 0.2, "horizon": 1500, "preprocessor_pref": "deepmind", "env_config": {"run": "PPO", "flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.1,\n            \"eta3\": 0.1,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 7.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 0\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 700,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}"}, "clip_param": 0.3, "observation_filter": "MeanStdFilter", "env": "MultiWaveAttenuationMergePOEnvBufferedObs-v0density_[eta1, eta2, eta3]:[1.0, 0.1, 0.0]_t_min:7.0", "gamma": 0.99, "lr": 0.0005, "monitor": false, "output_compress_columns": ["obs", "new_obs"], "batch_mode": "truncate_episodes", "num_gpus": 0, "num_workers": 30, "output": null, "collect_metrics_timeout": 180, "num_sgd_iter": 10, "sample_batch_size": 750, "output_max_file_size": 67108864, "straggler_mitigation": false, "train_batch_size": 90000}, "num_metric_batches_dropped": 0, "hostname": "flow-main", "episodes_total": 11931, "episode_reward_min": 212.88079953537954, "time_total_s": 13473.104457855225, "policy_reward_mean": {}, "timesteps_this_iter": 129029, "custom_metrics": {"cost1_mean": 317.73946693245296, "system_level_velocity_mean": 11.17126646266829, "cost2_max": -51.7990722213427, "outflow_rate_max": 1048.2398462176652, "outflow_rate_mean": 922.875772945225, "cost1_max": 366.20556890209025, "outflow_rate_min": 405.2630856095254, "system_level_velocity_max": 12.91329563756029, "system_level_velocity_min": 8.860170638495697, "cost2_min": -120.41385565368574, "cost1_min": 111.0969666846304, "cost2_mean": -95.44161856619444}, "episode_reward_max": 851.4632574716954}
{"node_ip": "10.138.0.2", "episode_reward_mean": 738.5983367109367, "time_this_iter_s": 68.25271081924438, "done": false, "episode_len_mean": 745.87, "timestamp": 1557401111, "training_iteration": 193, "experiment_id": "58dd2f5595014063b753971755894587", "time_since_restore": 13541.357168674469, "timesteps_total": 25356649, "pid": 25334, "episodes_this_iter": 62, "date": "2019-05-09_11-25-11", "info": {"sample_time_ms": 40303.088, "grad_time_ms": 31237.506, "num_steps_sampled": 25356649, "update_time_ms": 9.642, "default": {"vf_explained_var": 0.8795633912086487, "cur_kl_coeff": 0.5062499642372131, "vf_loss": 14.4371976852417, "policy_loss": -0.018300605937838554, "cur_lr": 0.0005000000237487257, "kl": 0.017110461369156837, "total_loss": 14.427559852600098, "entropy": 2.0318384170532227}, "load_time_ms": 67.065, "num_steps_trained": 25356649}, "timesteps_since_restore": 25356649, "iterations_since_restore": 193, "config": {"local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "compress_observations": false, "clip_rewards": null, "sample_async": false, "custom_resources_per_worker": {}, "use_gae": true, "vf_share_layers": false, "vf_loss_coeff": 1.0, "optimizer": {}, "simple_optimizer": false, "num_envs_per_worker": 1, "vf_clip_param": 1000000.0, "synchronize_filters": true, "num_cpus_per_worker": 1, "multiagent": {"policy_graphs": {}, "policies_to_train": null, "policy_mapping_fn": null}, "kl_target": 0.01, "clip_actions": false, "input": "sampler", "input_evaluation": null, "entropy_coeff": 0.0, "lr_schedule": null, "sgd_minibatch_size": 128, "callbacks": {"on_sample_end": null, "on_train_result": null, "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7f49896d6e10>", "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7f49896d6b70>", "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7f49896d6780>"}, "num_cpus_for_driver": 1, "log_level": "INFO", "tf_session_args": {"log_device_placement": false, "gpu_options": {"allow_growth": true}, "intra_op_parallelism_threads": 2, "inter_op_parallelism_threads": 2, "allow_soft_placement": true, "device_count": {"CPU": 1}}, "model": {"dim": 84, "free_log_std": false, "fcnet_hiddens": [128, 64, 32], "custom_model": null, "fcnet_activation": "tanh", "lstm_use_prev_action_reward": false, "grayscale": false, "channel_major": false, "squash_to_range": false, "framestack": true, "use_lstm": false, "conv_activation": "relu", "conv_filters": null, "custom_preprocessor": null, "lstm_cell_size": 256, "zero_mean": true, "custom_options": {}, "max_seq_len": 20}, "lambda": 0.97, "num_gpus_per_worker": 0, "kl_coeff": 0.2, "horizon": 1500, "preprocessor_pref": "deepmind", "env_config": {"run": "PPO", "flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.1,\n            \"eta3\": 0.1,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 7.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 0\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 700,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}"}, "clip_param": 0.3, "observation_filter": "MeanStdFilter", "env": "MultiWaveAttenuationMergePOEnvBufferedObs-v0density_[eta1, eta2, eta3]:[1.0, 0.1, 0.0]_t_min:7.0", "gamma": 0.99, "lr": 0.0005, "monitor": false, "output_compress_columns": ["obs", "new_obs"], "batch_mode": "truncate_episodes", "num_gpus": 0, "num_workers": 30, "output": null, "collect_metrics_timeout": 180, "num_sgd_iter": 10, "sample_batch_size": 750, "output_max_file_size": 67108864, "straggler_mitigation": false, "train_batch_size": 90000}, "num_metric_batches_dropped": 0, "hostname": "flow-main", "episodes_total": 11993, "episode_reward_min": 225.39580350318934, "time_total_s": 13541.357168674469, "policy_reward_mean": {}, "timesteps_this_iter": 128730, "custom_metrics": {"cost1_mean": 320.3711797034084, "system_level_velocity_mean": 11.178951772048787, "cost2_max": -51.7990722213427, "outflow_rate_max": 1056.7562246634661, "outflow_rate_mean": 928.0706919471409, "cost1_max": 370.1378143308241, "outflow_rate_min": 431.6030490390752, "system_level_velocity_max": 12.91329563756029, "system_level_velocity_min": 9.58074286644409, "cost2_min": -120.41385565368574, "cost1_min": 116.11840515079672, "cost2_mean": -94.69275736146874}, "episode_reward_max": 856.3535649817928}
{"node_ip": "10.138.0.2", "episode_reward_mean": 740.9676164231923, "time_this_iter_s": 68.31124353408813, "done": false, "episode_len_mean": 745.76, "timestamp": 1557401179, "training_iteration": 194, "experiment_id": "58dd2f5595014063b753971755894587", "time_since_restore": 13609.668412208557, "timesteps_total": 25484776, "pid": 25334, "episodes_this_iter": 63, "date": "2019-05-09_11-26-19", "info": {"sample_time_ms": 39769.469, "grad_time_ms": 31415.452, "num_steps_sampled": 25484776, "update_time_ms": 9.91, "default": {"vf_explained_var": 0.890426516532898, "cur_kl_coeff": 0.5062499642372131, "vf_loss": 13.50036907196045, "policy_loss": -0.01865721493959427, "cur_lr": 0.0005000000237487257, "kl": 0.01850447617471218, "total_loss": 13.491080284118652, "entropy": 2.0436689853668213}, "load_time_ms": 64.944, "num_steps_trained": 25484776}, "timesteps_since_restore": 25484776, "iterations_since_restore": 194, "config": {"local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "compress_observations": false, "clip_rewards": null, "sample_async": false, "custom_resources_per_worker": {}, "use_gae": true, "vf_share_layers": false, "vf_loss_coeff": 1.0, "optimizer": {}, "simple_optimizer": false, "num_envs_per_worker": 1, "vf_clip_param": 1000000.0, "synchronize_filters": true, "num_cpus_per_worker": 1, "multiagent": {"policy_graphs": {}, "policies_to_train": null, "policy_mapping_fn": null}, "kl_target": 0.01, "clip_actions": false, "input": "sampler", "input_evaluation": null, "entropy_coeff": 0.0, "lr_schedule": null, "sgd_minibatch_size": 128, "callbacks": {"on_sample_end": null, "on_train_result": null, "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7f49896dcd30>", "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7f49896dc048>", "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7f49896dce80>"}, "num_cpus_for_driver": 1, "log_level": "INFO", "tf_session_args": {"log_device_placement": false, "gpu_options": {"allow_growth": true}, "intra_op_parallelism_threads": 2, "inter_op_parallelism_threads": 2, "allow_soft_placement": true, "device_count": {"CPU": 1}}, "model": {"dim": 84, "free_log_std": false, "fcnet_hiddens": [128, 64, 32], "custom_model": null, "fcnet_activation": "tanh", "lstm_use_prev_action_reward": false, "grayscale": false, "channel_major": false, "squash_to_range": false, "framestack": true, "use_lstm": false, "conv_activation": "relu", "conv_filters": null, "custom_preprocessor": null, "lstm_cell_size": 256, "zero_mean": true, "custom_options": {}, "max_seq_len": 20}, "lambda": 0.97, "num_gpus_per_worker": 0, "kl_coeff": 0.2, "horizon": 1500, "preprocessor_pref": "deepmind", "env_config": {"run": "PPO", "flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.1,\n            \"eta3\": 0.1,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 7.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 0\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 700,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}"}, "clip_param": 0.3, "observation_filter": "MeanStdFilter", "env": "MultiWaveAttenuationMergePOEnvBufferedObs-v0density_[eta1, eta2, eta3]:[1.0, 0.1, 0.0]_t_min:7.0", "gamma": 0.99, "lr": 0.0005, "monitor": false, "output_compress_columns": ["obs", "new_obs"], "batch_mode": "truncate_episodes", "num_gpus": 0, "num_workers": 30, "output": null, "collect_metrics_timeout": 180, "num_sgd_iter": 10, "sample_batch_size": 750, "output_max_file_size": 67108864, "straggler_mitigation": false, "train_batch_size": 90000}, "num_metric_batches_dropped": 0, "hostname": "flow-main", "episodes_total": 12056, "episode_reward_min": 209.09424989777787, "time_total_s": 13609.668412208557, "policy_reward_mean": {}, "timesteps_this_iter": 128127, "custom_metrics": {"cost1_mean": 324.0546217364653, "system_level_velocity_mean": 11.310112908769183, "cost2_max": -53.35525060094296, "outflow_rate_max": 1050.3692577700358, "outflow_rate_mean": 936.8760857601102, "cost1_max": 370.1378143308241, "outflow_rate_min": 423.5525427641926, "system_level_velocity_max": 13.120235106819605, "system_level_velocity_min": 9.73143170139417, "cost2_min": -117.53319325930062, "cost1_min": 111.78954370295608, "cost2_mean": -95.26468100095494}, "episode_reward_max": 856.3535649817928}
{"node_ip": "10.138.0.2", "episode_reward_mean": 738.9667535212961, "time_this_iter_s": 69.63373851776123, "done": false, "episode_len_mean": 745.76, "timestamp": 1557401249, "training_iteration": 195, "experiment_id": "58dd2f5595014063b753971755894587", "time_since_restore": 13679.302150726318, "timesteps_total": 25614145, "pid": 25334, "episodes_this_iter": 62, "date": "2019-05-09_11-27-29", "info": {"sample_time_ms": 39323.17, "grad_time_ms": 31597.92, "num_steps_sampled": 25614145, "update_time_ms": 9.907, "default": {"vf_explained_var": 0.8889803886413574, "cur_kl_coeff": 0.5062499642372131, "vf_loss": 13.49158000946045, "policy_loss": -0.018250517547130585, "cur_lr": 0.0005000000237487257, "kl": 0.017829351127147675, "total_loss": 13.482355117797852, "entropy": 2.0430850982666016}, "load_time_ms": 62.973, "num_steps_trained": 25614145}, "timesteps_since_restore": 25614145, "iterations_since_restore": 195, "config": {"local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "compress_observations": false, "clip_rewards": null, "sample_async": false, "custom_resources_per_worker": {}, "use_gae": true, "vf_share_layers": false, "vf_loss_coeff": 1.0, "optimizer": {}, "simple_optimizer": false, "num_envs_per_worker": 1, "vf_clip_param": 1000000.0, "synchronize_filters": true, "num_cpus_per_worker": 1, "multiagent": {"policy_graphs": {}, "policies_to_train": null, "policy_mapping_fn": null}, "kl_target": 0.01, "clip_actions": false, "input": "sampler", "input_evaluation": null, "entropy_coeff": 0.0, "lr_schedule": null, "sgd_minibatch_size": 128, "callbacks": {"on_sample_end": null, "on_train_result": null, "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7f498a902940>", "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7f498a9028d0>", "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7f498a902c18>"}, "num_cpus_for_driver": 1, "log_level": "INFO", "tf_session_args": {"log_device_placement": false, "gpu_options": {"allow_growth": true}, "intra_op_parallelism_threads": 2, "inter_op_parallelism_threads": 2, "allow_soft_placement": true, "device_count": {"CPU": 1}}, "model": {"dim": 84, "free_log_std": false, "fcnet_hiddens": [128, 64, 32], "custom_model": null, "fcnet_activation": "tanh", "lstm_use_prev_action_reward": false, "grayscale": false, "channel_major": false, "squash_to_range": false, "framestack": true, "use_lstm": false, "conv_activation": "relu", "conv_filters": null, "custom_preprocessor": null, "lstm_cell_size": 256, "zero_mean": true, "custom_options": {}, "max_seq_len": 20}, "lambda": 0.97, "num_gpus_per_worker": 0, "kl_coeff": 0.2, "horizon": 1500, "preprocessor_pref": "deepmind", "env_config": {"run": "PPO", "flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.1,\n            \"eta3\": 0.1,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 7.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 0\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 700,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}"}, "clip_param": 0.3, "observation_filter": "MeanStdFilter", "env": "MultiWaveAttenuationMergePOEnvBufferedObs-v0density_[eta1, eta2, eta3]:[1.0, 0.1, 0.0]_t_min:7.0", "gamma": 0.99, "lr": 0.0005, "monitor": false, "output_compress_columns": ["obs", "new_obs"], "batch_mode": "truncate_episodes", "num_gpus": 0, "num_workers": 30, "output": null, "collect_metrics_timeout": 180, "num_sgd_iter": 10, "sample_batch_size": 750, "output_max_file_size": 67108864, "straggler_mitigation": false, "train_batch_size": 90000}, "num_metric_batches_dropped": 0, "hostname": "flow-main", "episodes_total": 12118, "episode_reward_min": 209.09424989777787, "time_total_s": 13679.302150726318, "policy_reward_mean": {}, "timesteps_this_iter": 129369, "custom_metrics": {"cost1_mean": 320.7693417175773, "system_level_velocity_mean": 11.197107924611787, "cost2_max": -53.35525060094296, "outflow_rate_max": 1044.8007890272074, "outflow_rate_mean": 928.0053373344772, "cost1_max": 364.62358716632355, "outflow_rate_min": 423.5525427641926, "system_level_velocity_max": 13.120235106819605, "system_level_velocity_min": 9.583025188034377, "cost2_min": -125.99613694615192, "cost1_min": 111.78954370295608, "cost2_mean": -95.14680592355217}, "episode_reward_max": 860.5888215400229}
{"node_ip": "10.138.0.2", "episode_reward_mean": 731.5466030300422, "time_this_iter_s": 68.06914854049683, "done": false, "episode_len_mean": 751.0, "timestamp": 1557401317, "training_iteration": 196, "experiment_id": "58dd2f5595014063b753971755894587", "time_since_restore": 13747.371299266815, "timesteps_total": 25743121, "pid": 25334, "episodes_this_iter": 62, "date": "2019-05-09_11-28-37", "info": {"sample_time_ms": 39069.872, "grad_time_ms": 31574.413, "num_steps_sampled": 25743121, "update_time_ms": 9.747, "default": {"vf_explained_var": 0.8902950286865234, "cur_kl_coeff": 0.5062499642372131, "vf_loss": 13.628486633300781, "policy_loss": -0.01824921742081642, "cur_lr": 0.0005000000237487257, "kl": 0.017216378822922707, "total_loss": 13.618952751159668, "entropy": 2.065335988998413}, "load_time_ms": 61.856, "num_steps_trained": 25743121}, "timesteps_since_restore": 25743121, "iterations_since_restore": 196, "config": {"local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "compress_observations": false, "clip_rewards": null, "sample_async": false, "custom_resources_per_worker": {}, "use_gae": true, "vf_share_layers": false, "vf_loss_coeff": 1.0, "optimizer": {}, "simple_optimizer": false, "num_envs_per_worker": 1, "vf_clip_param": 1000000.0, "synchronize_filters": true, "num_cpus_per_worker": 1, "multiagent": {"policy_graphs": {}, "policies_to_train": null, "policy_mapping_fn": null}, "kl_target": 0.01, "clip_actions": false, "input": "sampler", "input_evaluation": null, "entropy_coeff": 0.0, "lr_schedule": null, "sgd_minibatch_size": 128, "callbacks": {"on_sample_end": null, "on_train_result": null, "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7f49896c5c18>", "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7f49896c5400>", "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7f49896c5748>"}, "num_cpus_for_driver": 1, "log_level": "INFO", "tf_session_args": {"log_device_placement": false, "gpu_options": {"allow_growth": true}, "intra_op_parallelism_threads": 2, "inter_op_parallelism_threads": 2, "allow_soft_placement": true, "device_count": {"CPU": 1}}, "model": {"dim": 84, "free_log_std": false, "fcnet_hiddens": [128, 64, 32], "custom_model": null, "fcnet_activation": "tanh", "lstm_use_prev_action_reward": false, "grayscale": false, "channel_major": false, "squash_to_range": false, "framestack": true, "use_lstm": false, "conv_activation": "relu", "conv_filters": null, "custom_preprocessor": null, "lstm_cell_size": 256, "zero_mean": true, "custom_options": {}, "max_seq_len": 20}, "lambda": 0.97, "num_gpus_per_worker": 0, "kl_coeff": 0.2, "horizon": 1500, "preprocessor_pref": "deepmind", "env_config": {"run": "PPO", "flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.1,\n            \"eta3\": 0.1,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 7.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 0\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 700,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}"}, "clip_param": 0.3, "observation_filter": "MeanStdFilter", "env": "MultiWaveAttenuationMergePOEnvBufferedObs-v0density_[eta1, eta2, eta3]:[1.0, 0.1, 0.0]_t_min:7.0", "gamma": 0.99, "lr": 0.0005, "monitor": false, "output_compress_columns": ["obs", "new_obs"], "batch_mode": "truncate_episodes", "num_gpus": 0, "num_workers": 30, "output": null, "collect_metrics_timeout": 180, "num_sgd_iter": 10, "sample_batch_size": 750, "output_max_file_size": 67108864, "straggler_mitigation": false, "train_batch_size": 90000}, "num_metric_batches_dropped": 0, "hostname": "flow-main", "episodes_total": 12180, "episode_reward_min": 614.2444756727589, "time_total_s": 13747.371299266815, "policy_reward_mean": {}, "timesteps_this_iter": 128976, "custom_metrics": {"cost1_mean": 316.7487080425181, "system_level_velocity_mean": 10.972861196564713, "cost2_max": -76.3595715036081, "outflow_rate_max": 1041.7526881437232, "outflow_rate_mean": 918.6093212884938, "cost1_max": 367.04159278829053, "outflow_rate_min": 791.0601966241635, "system_level_velocity_max": 12.692525456065704, "system_level_velocity_min": 9.583025188034377, "cost2_min": -125.99613694615192, "cost1_min": 275.4143098748431, "cost2_mean": -91.96033925949003}, "episode_reward_max": 855.2960694371972}
{"node_ip": "10.138.0.2", "episode_reward_mean": 719.5220020944005, "time_this_iter_s": 68.59725999832153, "done": false, "episode_len_mean": 745.79, "timestamp": 1557401386, "training_iteration": 197, "experiment_id": "58dd2f5595014063b753971755894587", "time_since_restore": 13815.968559265137, "timesteps_total": 25873183, "pid": 25334, "episodes_this_iter": 64, "date": "2019-05-09_11-29-46", "info": {"sample_time_ms": 39081.512, "grad_time_ms": 31641.124, "num_steps_sampled": 25873183, "update_time_ms": 9.684, "default": {"vf_explained_var": 0.883891761302948, "cur_kl_coeff": 0.5062499642372131, "vf_loss": 14.815668106079102, "policy_loss": -0.01772068440914154, "cur_lr": 0.0005000000237487257, "kl": 0.017745569348335266, "total_loss": 14.806930541992188, "entropy": 2.0745768547058105}, "load_time_ms": 62.308, "num_steps_trained": 25873183}, "timesteps_since_restore": 25873183, "iterations_since_restore": 197, "config": {"local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "compress_observations": false, "clip_rewards": null, "sample_async": false, "custom_resources_per_worker": {}, "use_gae": true, "vf_share_layers": false, "vf_loss_coeff": 1.0, "optimizer": {}, "simple_optimizer": false, "num_envs_per_worker": 1, "vf_clip_param": 1000000.0, "synchronize_filters": true, "num_cpus_per_worker": 1, "multiagent": {"policy_graphs": {}, "policies_to_train": null, "policy_mapping_fn": null}, "kl_target": 0.01, "clip_actions": false, "input": "sampler", "input_evaluation": null, "entropy_coeff": 0.0, "lr_schedule": null, "sgd_minibatch_size": 128, "callbacks": {"on_sample_end": null, "on_train_result": null, "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7f49896caef0>", "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7f49896caf28>", "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7f49896ca6d8>"}, "num_cpus_for_driver": 1, "log_level": "INFO", "tf_session_args": {"log_device_placement": false, "gpu_options": {"allow_growth": true}, "intra_op_parallelism_threads": 2, "inter_op_parallelism_threads": 2, "allow_soft_placement": true, "device_count": {"CPU": 1}}, "model": {"dim": 84, "free_log_std": false, "fcnet_hiddens": [128, 64, 32], "custom_model": null, "fcnet_activation": "tanh", "lstm_use_prev_action_reward": false, "grayscale": false, "channel_major": false, "squash_to_range": false, "framestack": true, "use_lstm": false, "conv_activation": "relu", "conv_filters": null, "custom_preprocessor": null, "lstm_cell_size": 256, "zero_mean": true, "custom_options": {}, "max_seq_len": 20}, "lambda": 0.97, "num_gpus_per_worker": 0, "kl_coeff": 0.2, "horizon": 1500, "preprocessor_pref": "deepmind", "env_config": {"run": "PPO", "flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.1,\n            \"eta3\": 0.1,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 7.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 0\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 700,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}"}, "clip_param": 0.3, "observation_filter": "MeanStdFilter", "env": "MultiWaveAttenuationMergePOEnvBufferedObs-v0density_[eta1, eta2, eta3]:[1.0, 0.1, 0.0]_t_min:7.0", "gamma": 0.99, "lr": 0.0005, "monitor": false, "output_compress_columns": ["obs", "new_obs"], "batch_mode": "truncate_episodes", "num_gpus": 0, "num_workers": 30, "output": null, "collect_metrics_timeout": 180, "num_sgd_iter": 10, "sample_batch_size": 750, "output_max_file_size": 67108864, "straggler_mitigation": false, "train_batch_size": 90000}, "num_metric_batches_dropped": 0, "hostname": "flow-main", "episodes_total": 12244, "episode_reward_min": 211.65885599684506, "time_total_s": 13815.968559265137, "policy_reward_mean": {}, "timesteps_this_iter": 130062, "custom_metrics": {"cost1_mean": 311.981667896439, "system_level_velocity_mean": 10.906135919468266, "cost2_max": -50.80654513920488, "outflow_rate_max": 1031.9992234239, "outflow_rate_mean": 906.0113445683236, "cost1_max": 357.44274942044035, "outflow_rate_min": 412.7860566466747, "system_level_velocity_max": 12.673177527341126, "system_level_velocity_min": 8.898191150802074, "cost2_min": -118.45059977638547, "cost1_min": 110.22229800250193, "cost2_mean": -90.42653022105594}, "episode_reward_max": 820.7048538569117}
{"node_ip": "10.138.0.2", "episode_reward_mean": 721.8639465899826, "time_this_iter_s": 69.33052253723145, "done": false, "episode_len_mean": 745.79, "timestamp": 1557401455, "training_iteration": 198, "experiment_id": "58dd2f5595014063b753971755894587", "time_since_restore": 13885.299081802368, "timesteps_total": 26002128, "pid": 25334, "episodes_this_iter": 62, "date": "2019-05-09_11-30-55", "info": {"sample_time_ms": 39086.357, "grad_time_ms": 31938.578, "num_steps_sampled": 26002128, "update_time_ms": 10.02, "default": {"vf_explained_var": 0.8843518495559692, "cur_kl_coeff": 0.5062499642372131, "vf_loss": 14.96134090423584, "policy_loss": -0.018858496099710464, "cur_lr": 0.0005000000237487257, "kl": 0.01732657290995121, "total_loss": 14.951252937316895, "entropy": 2.071063995361328}, "load_time_ms": 61.468, "num_steps_trained": 26002128}, "timesteps_since_restore": 26002128, "iterations_since_restore": 198, "config": {"local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "compress_observations": false, "clip_rewards": null, "sample_async": false, "custom_resources_per_worker": {}, "use_gae": true, "vf_share_layers": false, "vf_loss_coeff": 1.0, "optimizer": {}, "simple_optimizer": false, "num_envs_per_worker": 1, "vf_clip_param": 1000000.0, "synchronize_filters": true, "num_cpus_per_worker": 1, "multiagent": {"policy_graphs": {}, "policies_to_train": null, "policy_mapping_fn": null}, "kl_target": 0.01, "clip_actions": false, "input": "sampler", "input_evaluation": null, "entropy_coeff": 0.0, "lr_schedule": null, "sgd_minibatch_size": 128, "callbacks": {"on_sample_end": null, "on_train_result": null, "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7f498a8ea0f0>", "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7f498a9029b0>", "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7f498a902518>"}, "num_cpus_for_driver": 1, "log_level": "INFO", "tf_session_args": {"log_device_placement": false, "gpu_options": {"allow_growth": true}, "intra_op_parallelism_threads": 2, "inter_op_parallelism_threads": 2, "allow_soft_placement": true, "device_count": {"CPU": 1}}, "model": {"dim": 84, "free_log_std": false, "fcnet_hiddens": [128, 64, 32], "custom_model": null, "fcnet_activation": "tanh", "lstm_use_prev_action_reward": false, "grayscale": false, "channel_major": false, "squash_to_range": false, "framestack": true, "use_lstm": false, "conv_activation": "relu", "conv_filters": null, "custom_preprocessor": null, "lstm_cell_size": 256, "zero_mean": true, "custom_options": {}, "max_seq_len": 20}, "lambda": 0.97, "num_gpus_per_worker": 0, "kl_coeff": 0.2, "horizon": 1500, "preprocessor_pref": "deepmind", "env_config": {"run": "PPO", "flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.1,\n            \"eta3\": 0.1,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 7.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 0\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 700,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}"}, "clip_param": 0.3, "observation_filter": "MeanStdFilter", "env": "MultiWaveAttenuationMergePOEnvBufferedObs-v0density_[eta1, eta2, eta3]:[1.0, 0.1, 0.0]_t_min:7.0", "gamma": 0.99, "lr": 0.0005, "monitor": false, "output_compress_columns": ["obs", "new_obs"], "batch_mode": "truncate_episodes", "num_gpus": 0, "num_workers": 30, "output": null, "collect_metrics_timeout": 180, "num_sgd_iter": 10, "sample_batch_size": 750, "output_max_file_size": 67108864, "straggler_mitigation": false, "train_batch_size": 90000}, "num_metric_batches_dropped": 0, "hostname": "flow-main", "episodes_total": 12306, "episode_reward_min": 211.65885599684506, "time_total_s": 13885.299081802368, "policy_reward_mean": {}, "timesteps_this_iter": 128945, "custom_metrics": {"cost1_mean": 314.11024728844905, "system_level_velocity_mean": 10.978986190688973, "cost2_max": -50.80654513920488, "outflow_rate_max": 1047.6429126335643, "outflow_rate_mean": 910.9206436216866, "cost1_max": 367.83027383985484, "outflow_rate_min": 412.7860566466747, "system_level_velocity_max": 12.700094080963526, "system_level_velocity_min": 8.898191150802074, "cost2_min": -118.45059977638547, "cost1_min": 110.22229800250193, "cost2_mean": -90.54687331340709}, "episode_reward_max": 866.1584643536352}
{"node_ip": "10.138.0.2", "episode_reward_mean": 730.9219919321986, "time_this_iter_s": 70.22166109085083, "done": false, "episode_len_mean": 751.0, "timestamp": 1557401525, "training_iteration": 199, "experiment_id": "58dd2f5595014063b753971755894587", "time_since_restore": 13955.520742893219, "timesteps_total": 26131674, "pid": 25334, "episodes_this_iter": 63, "date": "2019-05-09_11-32-05", "info": {"sample_time_ms": 39069.719, "grad_time_ms": 32057.875, "num_steps_sampled": 26131674, "update_time_ms": 10.283, "default": {"vf_explained_var": 0.8899471163749695, "cur_kl_coeff": 0.5062499642372131, "vf_loss": 14.343377113342285, "policy_loss": -0.017687281593680382, "cur_lr": 0.0005000000237487257, "kl": 0.01832921989262104, "total_loss": 14.334968566894531, "entropy": 2.0559022426605225}, "load_time_ms": 61.401, "num_steps_trained": 26131674}, "timesteps_since_restore": 26131674, "iterations_since_restore": 199, "config": {"local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "compress_observations": false, "clip_rewards": null, "sample_async": false, "custom_resources_per_worker": {}, "use_gae": true, "vf_share_layers": false, "vf_loss_coeff": 1.0, "optimizer": {}, "simple_optimizer": false, "num_envs_per_worker": 1, "vf_clip_param": 1000000.0, "synchronize_filters": true, "num_cpus_per_worker": 1, "multiagent": {"policy_graphs": {}, "policies_to_train": null, "policy_mapping_fn": null}, "kl_target": 0.01, "clip_actions": false, "input": "sampler", "input_evaluation": null, "entropy_coeff": 0.0, "lr_schedule": null, "sgd_minibatch_size": 128, "callbacks": {"on_sample_end": null, "on_train_result": null, "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7f498a902a20>", "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7f498a8ea780>", "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7f49896c9208>"}, "num_cpus_for_driver": 1, "log_level": "INFO", "tf_session_args": {"log_device_placement": false, "gpu_options": {"allow_growth": true}, "intra_op_parallelism_threads": 2, "inter_op_parallelism_threads": 2, "allow_soft_placement": true, "device_count": {"CPU": 1}}, "model": {"dim": 84, "free_log_std": false, "fcnet_hiddens": [128, 64, 32], "custom_model": null, "fcnet_activation": "tanh", "lstm_use_prev_action_reward": false, "grayscale": false, "channel_major": false, "squash_to_range": false, "framestack": true, "use_lstm": false, "conv_activation": "relu", "conv_filters": null, "custom_preprocessor": null, "lstm_cell_size": 256, "zero_mean": true, "custom_options": {}, "max_seq_len": 20}, "lambda": 0.97, "num_gpus_per_worker": 0, "kl_coeff": 0.2, "horizon": 1500, "preprocessor_pref": "deepmind", "env_config": {"run": "PPO", "flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.1,\n            \"eta3\": 0.1,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 7.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 0\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 700,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}"}, "clip_param": 0.3, "observation_filter": "MeanStdFilter", "env": "MultiWaveAttenuationMergePOEnvBufferedObs-v0density_[eta1, eta2, eta3]:[1.0, 0.1, 0.0]_t_min:7.0", "gamma": 0.99, "lr": 0.0005, "monitor": false, "output_compress_columns": ["obs", "new_obs"], "batch_mode": "truncate_episodes", "num_gpus": 0, "num_workers": 30, "output": null, "collect_metrics_timeout": 180, "num_sgd_iter": 10, "sample_batch_size": 750, "output_max_file_size": 67108864, "straggler_mitigation": false, "train_batch_size": 90000}, "num_metric_batches_dropped": 0, "hostname": "flow-main", "episodes_total": 12369, "episode_reward_min": 602.0525591097626, "time_total_s": 13955.520742893219, "policy_reward_mean": {}, "timesteps_this_iter": 129546, "custom_metrics": {"cost1_mean": 319.62118965346946, "system_level_velocity_mean": 11.07287213438444, "cost2_max": -57.30793510736026, "outflow_rate_max": 1038.5133630982482, "outflow_rate_mean": 924.6924909710426, "cost1_max": 370.94906080792157, "outflow_rate_min": 798.4359756762844, "system_level_velocity_max": 12.921881838388835, "system_level_velocity_min": 9.090693145871466, "cost2_min": -115.66379356324319, "cost1_min": 264.1490753658051, "cost2_mean": -91.59501092245178}, "episode_reward_max": 866.1584643536352}
{"node_ip": "10.138.0.2", "episode_reward_mean": 729.5956235917015, "time_this_iter_s": 69.80881690979004, "done": true, "episode_len_mean": 751.0, "timestamp": 1557401595, "training_iteration": 200, "experiment_id": "58dd2f5595014063b753971755894587", "time_since_restore": 14025.329559803009, "timesteps_total": 26261986, "pid": 25334, "episodes_this_iter": 63, "date": "2019-05-09_11-33-15", "info": {"sample_time_ms": 38833.776, "grad_time_ms": 32478.31, "num_steps_sampled": 26261986, "update_time_ms": 10.227, "default": {"vf_explained_var": 0.8873587250709534, "cur_kl_coeff": 0.5062499046325684, "vf_loss": 14.453328132629395, "policy_loss": -0.01934165693819523, "cur_lr": 0.0005000000237487257, "kl": 0.01778234913945198, "total_loss": 14.442988395690918, "entropy": 2.0691356658935547}, "load_time_ms": 61.448, "num_steps_trained": 26261986}, "timesteps_since_restore": 26261986, "iterations_since_restore": 200, "config": {"local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "compress_observations": false, "clip_rewards": null, "sample_async": false, "custom_resources_per_worker": {}, "use_gae": true, "vf_share_layers": false, "vf_loss_coeff": 1.0, "optimizer": {}, "simple_optimizer": false, "num_envs_per_worker": 1, "vf_clip_param": 1000000.0, "synchronize_filters": true, "num_cpus_per_worker": 1, "multiagent": {"policy_graphs": {}, "policies_to_train": null, "policy_mapping_fn": null}, "kl_target": 0.01, "clip_actions": false, "input": "sampler", "input_evaluation": null, "entropy_coeff": 0.0, "lr_schedule": null, "sgd_minibatch_size": 128, "callbacks": {"on_sample_end": null, "on_train_result": null, "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7f49896ca0f0>", "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7f49896cacc0>", "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7f49896ca400>"}, "num_cpus_for_driver": 1, "log_level": "INFO", "tf_session_args": {"log_device_placement": false, "gpu_options": {"allow_growth": true}, "intra_op_parallelism_threads": 2, "inter_op_parallelism_threads": 2, "allow_soft_placement": true, "device_count": {"CPU": 1}}, "model": {"dim": 84, "free_log_std": false, "fcnet_hiddens": [128, 64, 32], "custom_model": null, "fcnet_activation": "tanh", "lstm_use_prev_action_reward": false, "grayscale": false, "channel_major": false, "squash_to_range": false, "framestack": true, "use_lstm": false, "conv_activation": "relu", "conv_filters": null, "custom_preprocessor": null, "lstm_cell_size": 256, "zero_mean": true, "custom_options": {}, "max_seq_len": 20}, "lambda": 0.97, "num_gpus_per_worker": 0, "kl_coeff": 0.2, "horizon": 1500, "preprocessor_pref": "deepmind", "env_config": {"run": "PPO", "flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.1,\n            \"eta3\": 0.1,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 7.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 0\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 700,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}"}, "clip_param": 0.3, "observation_filter": "MeanStdFilter", "env": "MultiWaveAttenuationMergePOEnvBufferedObs-v0density_[eta1, eta2, eta3]:[1.0, 0.1, 0.0]_t_min:7.0", "gamma": 0.99, "lr": 0.0005, "monitor": false, "output_compress_columns": ["obs", "new_obs"], "batch_mode": "truncate_episodes", "num_gpus": 0, "num_workers": 30, "output": null, "collect_metrics_timeout": 180, "num_sgd_iter": 10, "sample_batch_size": 750, "output_max_file_size": 67108864, "straggler_mitigation": false, "train_batch_size": 90000}, "num_metric_batches_dropped": 0, "hostname": "flow-main", "episodes_total": 12432, "episode_reward_min": 618.9212597011245, "time_total_s": 14025.329559803009, "policy_reward_mean": {}, "timesteps_this_iter": 130312, "custom_metrics": {"cost1_mean": 320.6189395451827, "system_level_velocity_mean": 11.11774059395307, "cost2_max": -74.07933537651236, "outflow_rate_max": 1063.5441051600194, "outflow_rate_mean": 925.860499635025, "cost1_max": 380.9661389849457, "outflow_rate_min": 807.5263939299823, "system_level_velocity_max": 13.229699275941538, "system_level_velocity_min": 9.257814203659581, "cost2_min": -109.8942036788936, "cost1_min": 267.32458373588855, "cost2_mean": -92.24493722657859}, "episode_reward_max": 865.1026875722288}
