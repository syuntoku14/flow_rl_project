{"time_since_restore": 41.49007511138916, "timesteps_total": 119929, "custom_metrics": {"outflow_rate_max": 719.579235867581, "outflow_rate_mean": 616.2725803765533, "cost2_mean": -22.619856226684284, "cost2_min": -29.054247558614442, "cost1_max": 225.90972948110758, "system_level_velocity_max": 8.952905396312103, "outflow_rate_min": 583.9272087060332, "cost1_min": 186.23624154505782, "cost2_max": -14.362990374080448, "system_level_velocity_mean": 8.16576925097527, "cost1_mean": 207.48579778406784, "system_level_velocity_min": 7.077028735520879}, "time_this_iter_s": 41.49007511138916, "num_metric_batches_dropped": 0, "iterations_since_restore": 1, "node_ip": "10.138.0.2", "info": {"sample_time_ms": 14064.953, "num_steps_trained": 119929, "load_time_ms": 61.712, "grad_time_ms": 26498.506, "update_time_ms": 607.992, "num_steps_sampled": 119929, "default": {"entropy": 1.4185155630111694, "vf_explained_var": 0.8574351668357849, "kl": 0.0022559217177331448, "policy_loss": -0.001389113487675786, "cur_lr": 0.0005000000237487257, "vf_loss": 0.8989430069923401, "cur_kl_coeff": 0.20000004768371582, "total_loss": 0.8980051279067993}}, "pid": 7924, "hostname": "flow-main", "episode_reward_max": 209.42275081814535, "episode_len_mean": 700.0, "episode_reward_mean": 167.44520250239566, "config": {"kl_coeff": 0.2, "lambda": 0.97, "vf_share_layers": false, "horizon": 1500, "tf_session_args": {"allow_soft_placement": true, "intra_op_parallelism_threads": 2, "gpu_options": {"allow_growth": true}, "device_count": {"CPU": 1}, "log_device_placement": false, "inter_op_parallelism_threads": 2}, "entropy_coeff": 0.0, "optimizer": {}, "num_gpus_per_worker": 0, "output_compress_columns": ["obs", "new_obs"], "straggler_mitigation": false, "num_sgd_iter": 10, "env_config": {"flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"eta1\": 1.0,\n            \"eta2\": 0.3,\n            \"eta3\": 0.5,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 1.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnvOutFlowRew\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 600,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}", "run": "PPO"}, "num_cpus_per_worker": 1, "num_workers": 60, "num_envs_per_worker": 1, "output": null, "train_batch_size": 90000, "sgd_minibatch_size": 128, "clip_rewards": null, "env": "MultiWaveAttenuationMergePOEnvOutFlowRew-v0_[eta1, eta2, eta3]:[1.0, 5.0, 0.0]_t_min:5.0", "callbacks": {"on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7ff12dad8940>", "on_sample_end": null, "on_train_result": null, "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7ff12f2fa358>", "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7ff12f2fa908>"}, "vf_clip_param": 1000000.0, "input": "sampler", "clip_param": 0.3, "vf_loss_coeff": 1.0, "collect_metrics_timeout": 180, "lr": 0.0005, "num_cpus_for_driver": 1, "input_evaluation": null, "use_gae": true, "monitor": false, "batch_mode": "truncate_episodes", "output_max_file_size": 67108864, "lr_schedule": null, "multiagent": {"policy_graphs": {}, "policy_mapping_fn": null, "policies_to_train": null}, "sample_async": false, "sample_batch_size": 200, "clip_actions": false, "simple_optimizer": false, "custom_resources_per_worker": {}, "kl_target": 0.01, "compress_observations": false, "num_gpus": 0, "synchronize_filters": true, "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "log_level": "INFO", "observation_filter": "NoFilter", "preprocessor_pref": "deepmind", "model": {"lstm_use_prev_action_reward": false, "conv_filters": null, "dim": 84, "custom_options": {}, "fcnet_hiddens": [100, 50, 25], "lstm_cell_size": 256, "framestack": true, "conv_activation": "relu", "squash_to_range": false, "custom_preprocessor": null, "channel_major": false, "grayscale": false, "free_log_std": false, "use_lstm": false, "max_seq_len": 20, "zero_mean": true, "custom_model": null, "fcnet_activation": "tanh"}, "gamma": 0.99}, "time_total_s": 41.49007511138916, "policy_reward_mean": {}, "training_iteration": 1, "episodes_total": 17, "timesteps_since_restore": 119929, "timesteps_this_iter": 119929, "episode_reward_min": 98.4712159529705, "experiment_id": "fb490f0e3688480cb8d243e87816e520", "timestamp": 1556374482, "episodes_this_iter": 17, "done": false, "date": "2019-04-27_14-14-42"}
{"time_since_restore": 80.66148376464844, "timesteps_total": 235324, "custom_metrics": {"outflow_rate_max": 781.0037887158586, "outflow_rate_mean": 611.0020459449802, "cost2_mean": -26.621263474102474, "cost2_min": -50.97573503973062, "cost1_max": 243.34306074009712, "system_level_velocity_max": 9.303011006047141, "outflow_rate_min": 402.83716615763876, "cost1_min": 150.41884396478468, "cost2_max": -14.362990374080448, "system_level_velocity_mean": 7.837975812707715, "cost1_mean": 201.9439936112432, "system_level_velocity_min": 5.836912639911005}, "time_this_iter_s": 39.17140865325928, "num_metric_batches_dropped": 0, "iterations_since_restore": 2, "node_ip": "10.138.0.2", "info": {"sample_time_ms": 14557.788, "num_steps_trained": 235324, "load_time_ms": 34.62, "grad_time_ms": 25186.727, "update_time_ms": 309.289, "num_steps_sampled": 235324, "default": {"entropy": 1.4169150590896606, "vf_explained_var": 0.9015401601791382, "kl": 0.013151644729077816, "policy_loss": -0.006676139775663614, "cur_lr": 0.0005000000237487257, "vf_loss": 1.1590867042541504, "cur_kl_coeff": 0.10000002384185791, "total_loss": 1.1537256240844727}}, "pid": 7924, "hostname": "flow-main", "episode_reward_max": 344.5675814625316, "episode_len_mean": 700.0, "episode_reward_mean": 213.2656053962812, "config": {"kl_coeff": 0.2, "lambda": 0.97, "vf_share_layers": false, "horizon": 1500, "tf_session_args": {"allow_soft_placement": true, "intra_op_parallelism_threads": 2, "gpu_options": {"allow_growth": true}, "device_count": {"CPU": 1}, "log_device_placement": false, "inter_op_parallelism_threads": 2}, "entropy_coeff": 0.0, "optimizer": {}, "num_gpus_per_worker": 0, "output_compress_columns": ["obs", "new_obs"], "straggler_mitigation": false, "num_sgd_iter": 10, "env_config": {"flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"eta1\": 1.0,\n            \"eta2\": 0.3,\n            \"eta3\": 0.5,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 1.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnvOutFlowRew\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 600,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}", "run": "PPO"}, "num_cpus_per_worker": 1, "num_workers": 60, "num_envs_per_worker": 1, "output": null, "train_batch_size": 90000, "sgd_minibatch_size": 128, "clip_rewards": null, "env": "MultiWaveAttenuationMergePOEnvOutFlowRew-v0_[eta1, eta2, eta3]:[1.0, 5.0, 0.0]_t_min:5.0", "callbacks": {"on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7ff12da82f28>", "on_sample_end": null, "on_train_result": null, "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7ff12da82278>", "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7ff12da82198>"}, "vf_clip_param": 1000000.0, "input": "sampler", "clip_param": 0.3, "vf_loss_coeff": 1.0, "collect_metrics_timeout": 180, "lr": 0.0005, "num_cpus_for_driver": 1, "input_evaluation": null, "use_gae": true, "monitor": false, "batch_mode": "truncate_episodes", "output_max_file_size": 67108864, "lr_schedule": null, "multiagent": {"policy_graphs": {}, "policy_mapping_fn": null, "policies_to_train": null}, "sample_async": false, "sample_batch_size": 200, "clip_actions": false, "simple_optimizer": false, "custom_resources_per_worker": {}, "kl_target": 0.01, "compress_observations": false, "num_gpus": 0, "synchronize_filters": true, "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "log_level": "INFO", "observation_filter": "NoFilter", "preprocessor_pref": "deepmind", "model": {"lstm_use_prev_action_reward": false, "conv_filters": null, "dim": 84, "custom_options": {}, "fcnet_hiddens": [100, 50, 25], "lstm_cell_size": 256, "framestack": true, "conv_activation": "relu", "squash_to_range": false, "custom_preprocessor": null, "channel_major": false, "grayscale": false, "free_log_std": false, "use_lstm": false, "max_seq_len": 20, "zero_mean": true, "custom_model": null, "fcnet_activation": "tanh"}, "gamma": 0.99}, "time_total_s": 80.66148376464844, "policy_reward_mean": {}, "training_iteration": 2, "episodes_total": 82, "timesteps_since_restore": 235324, "timesteps_this_iter": 115395, "episode_reward_min": 98.4712159529705, "experiment_id": "fb490f0e3688480cb8d243e87816e520", "timestamp": 1556374521, "episodes_this_iter": 65, "done": false, "date": "2019-04-27_14-15-21"}
{"time_since_restore": 115.45652222633362, "timesteps_total": 343582, "custom_metrics": {"outflow_rate_max": 875.4181415489428, "outflow_rate_mean": 646.2265898149722, "cost2_mean": -25.840254957763317, "cost2_min": -47.87597619476985, "cost1_max": 319.38365555300066, "system_level_velocity_max": 12.155424314071997, "outflow_rate_min": 402.83716615763876, "cost1_min": 156.23753904135447, "cost2_max": -17.14846202137086, "system_level_velocity_mean": 8.38864548514499, "cost1_mean": 217.32742098430933, "system_level_velocity_min": 6.036560108012702}, "time_this_iter_s": 34.79503846168518, "num_metric_batches_dropped": 0, "iterations_since_restore": 3, "node_ip": "10.138.0.2", "info": {"sample_time_ms": 14484.799, "num_steps_trained": 343582, "load_time_ms": 24.871, "grad_time_ms": 23542.959, "update_time_ms": 210.613, "num_steps_sampled": 343582, "default": {"entropy": 1.3967652320861816, "vf_explained_var": 0.852916419506073, "kl": 0.012958317063748837, "policy_loss": -0.007529322057962418, "cur_lr": 0.0005000000237487257, "vf_loss": 3.8642826080322266, "cur_kl_coeff": 0.10000001639127731, "total_loss": 3.858049154281616}}, "pid": 7924, "hostname": "flow-main", "episode_reward_max": 561.3681005958069, "episode_len_mean": 700.0, "episode_reward_mean": 292.2435547216209, "config": {"kl_coeff": 0.2, "lambda": 0.97, "vf_share_layers": false, "horizon": 1500, "tf_session_args": {"allow_soft_placement": true, "intra_op_parallelism_threads": 2, "gpu_options": {"allow_growth": true}, "device_count": {"CPU": 1}, "log_device_placement": false, "inter_op_parallelism_threads": 2}, "entropy_coeff": 0.0, "optimizer": {}, "num_gpus_per_worker": 0, "output_compress_columns": ["obs", "new_obs"], "straggler_mitigation": false, "num_sgd_iter": 10, "env_config": {"flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"eta1\": 1.0,\n            \"eta2\": 0.3,\n            \"eta3\": 0.5,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 1.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnvOutFlowRew\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 600,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}", "run": "PPO"}, "num_cpus_per_worker": 1, "num_workers": 60, "num_envs_per_worker": 1, "output": null, "train_batch_size": 90000, "sgd_minibatch_size": 128, "clip_rewards": null, "env": "MultiWaveAttenuationMergePOEnvOutFlowRew-v0_[eta1, eta2, eta3]:[1.0, 5.0, 0.0]_t_min:5.0", "callbacks": {"on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7ff12da764a8>", "on_sample_end": null, "on_train_result": null, "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7ff12da76710>", "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7ff12da76f60>"}, "vf_clip_param": 1000000.0, "input": "sampler", "clip_param": 0.3, "vf_loss_coeff": 1.0, "collect_metrics_timeout": 180, "lr": 0.0005, "num_cpus_for_driver": 1, "input_evaluation": null, "use_gae": true, "monitor": false, "batch_mode": "truncate_episodes", "output_max_file_size": 67108864, "lr_schedule": null, "multiagent": {"policy_graphs": {}, "policy_mapping_fn": null, "policies_to_train": null}, "sample_async": false, "sample_batch_size": 200, "clip_actions": false, "simple_optimizer": false, "custom_resources_per_worker": {}, "kl_target": 0.01, "compress_observations": false, "num_gpus": 0, "synchronize_filters": true, "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "log_level": "INFO", "observation_filter": "NoFilter", "preprocessor_pref": "deepmind", "model": {"lstm_use_prev_action_reward": false, "conv_filters": null, "dim": 84, "custom_options": {}, "fcnet_hiddens": [100, 50, 25], "lstm_cell_size": 256, "framestack": true, "conv_activation": "relu", "squash_to_range": false, "custom_preprocessor": null, "channel_major": false, "grayscale": false, "free_log_std": false, "use_lstm": false, "max_seq_len": 20, "zero_mean": true, "custom_model": null, "fcnet_activation": "tanh"}, "gamma": 0.99}, "time_total_s": 115.45652222633362, "policy_reward_mean": {}, "training_iteration": 3, "episodes_total": 141, "timesteps_since_restore": 343582, "timesteps_this_iter": 108258, "episode_reward_min": 146.57059904078866, "experiment_id": "fb490f0e3688480cb8d243e87816e520", "timestamp": 1556374556, "episodes_this_iter": 59, "done": false, "date": "2019-04-27_14-15-56"}
{"time_since_restore": 151.82657122612, "timesteps_total": 456800, "custom_metrics": {"outflow_rate_max": 938.8067247148389, "outflow_rate_mean": 769.1724422082725, "cost2_mean": -25.574244196929374, "cost2_min": -36.99654492685434, "cost1_max": 340.777497523394, "system_level_velocity_max": 13.081774878136557, "outflow_rate_min": 437.524977779656, "cost1_min": 162.01718491789194, "cost2_max": -18.150930773354958, "system_level_velocity_mean": 10.17965343672234, "cost1_mean": 266.02052722229786, "system_level_velocity_min": 6.228533569200551}, "time_this_iter_s": 36.37004899978638, "num_metric_batches_dropped": 0, "iterations_since_restore": 4, "node_ip": "10.138.0.2", "info": {"sample_time_ms": 14580.229, "num_steps_trained": 456800, "load_time_ms": 20.303, "grad_time_ms": 22976.38, "update_time_ms": 160.573, "num_steps_sampled": 456800, "default": {"entropy": 1.3687955141067505, "vf_explained_var": 0.7477751970291138, "kl": 0.007445281837135553, "policy_loss": -0.0031340750865638256, "cur_lr": 0.0005000000237487257, "vf_loss": 7.196679592132568, "cur_kl_coeff": 0.10000001639127731, "total_loss": 7.1942901611328125}}, "pid": 7924, "hostname": "flow-main", "episode_reward_max": 636.2790021839962, "episode_len_mean": 700.0, "episode_reward_mean": 466.586942587749, "config": {"kl_coeff": 0.2, "lambda": 0.97, "vf_share_layers": false, "horizon": 1500, "tf_session_args": {"allow_soft_placement": true, "intra_op_parallelism_threads": 2, "gpu_options": {"allow_growth": true}, "device_count": {"CPU": 1}, "log_device_placement": false, "inter_op_parallelism_threads": 2}, "entropy_coeff": 0.0, "optimizer": {}, "num_gpus_per_worker": 0, "output_compress_columns": ["obs", "new_obs"], "straggler_mitigation": false, "num_sgd_iter": 10, "env_config": {"flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"eta1\": 1.0,\n            \"eta2\": 0.3,\n            \"eta3\": 0.5,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 1.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnvOutFlowRew\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 600,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}", "run": "PPO"}, "num_cpus_per_worker": 1, "num_workers": 60, "num_envs_per_worker": 1, "output": null, "train_batch_size": 90000, "sgd_minibatch_size": 128, "clip_rewards": null, "env": "MultiWaveAttenuationMergePOEnvOutFlowRew-v0_[eta1, eta2, eta3]:[1.0, 5.0, 0.0]_t_min:5.0", "callbacks": {"on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7ff12da82be0>", "on_sample_end": null, "on_train_result": null, "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7ff12da82cc0>", "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7ff12da82940>"}, "vf_clip_param": 1000000.0, "input": "sampler", "clip_param": 0.3, "vf_loss_coeff": 1.0, "collect_metrics_timeout": 180, "lr": 0.0005, "num_cpus_for_driver": 1, "input_evaluation": null, "use_gae": true, "monitor": false, "batch_mode": "truncate_episodes", "output_max_file_size": 67108864, "lr_schedule": null, "multiagent": {"policy_graphs": {}, "policy_mapping_fn": null, "policies_to_train": null}, "sample_async": false, "sample_batch_size": 200, "clip_actions": false, "simple_optimizer": false, "custom_resources_per_worker": {}, "kl_target": 0.01, "compress_observations": false, "num_gpus": 0, "synchronize_filters": true, "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "log_level": "INFO", "observation_filter": "NoFilter", "preprocessor_pref": "deepmind", "model": {"lstm_use_prev_action_reward": false, "conv_filters": null, "dim": 84, "custom_options": {}, "fcnet_hiddens": [100, 50, 25], "lstm_cell_size": 256, "framestack": true, "conv_activation": "relu", "squash_to_range": false, "custom_preprocessor": null, "channel_major": false, "grayscale": false, "free_log_std": false, "use_lstm": false, "max_seq_len": 20, "zero_mean": true, "custom_model": null, "fcnet_activation": "tanh"}, "gamma": 0.99}, "time_total_s": 151.82657122612, "policy_reward_mean": {}, "training_iteration": 4, "episodes_total": 202, "timesteps_since_restore": 456800, "timesteps_this_iter": 113218, "episode_reward_min": 210.57535774937284, "experiment_id": "fb490f0e3688480cb8d243e87816e520", "timestamp": 1556374592, "episodes_this_iter": 61, "done": false, "date": "2019-04-27_14-16-32"}
{"time_since_restore": 191.0314426422119, "timesteps_total": 570094, "custom_metrics": {"outflow_rate_max": 983.7171509392957, "outflow_rate_mean": 862.2038404005206, "cost2_mean": -25.629453868572945, "cost2_min": -32.40877512520628, "cost1_max": 353.4172114526075, "system_level_velocity_max": 13.523943433973622, "outflow_rate_min": 652.3650925620524, "cost1_min": 207.57098897049627, "cost2_max": -21.2085078353236, "system_level_velocity_mean": 11.250360355342718, "cost1_mean": 296.79164154126073, "system_level_velocity_min": 7.881139122672072}, "time_this_iter_s": 39.20487141609192, "num_metric_batches_dropped": 0, "iterations_since_restore": 5, "node_ip": "10.138.0.2", "info": {"sample_time_ms": 14877.945, "num_steps_trained": 570094, "load_time_ms": 18.271, "grad_time_ms": 22963.694, "update_time_ms": 130.662, "num_steps_sampled": 570094, "default": {"entropy": 1.3687896728515625, "vf_explained_var": 0.7633968591690063, "kl": 0.005277963355183601, "policy_loss": -0.001565227983519435, "cur_lr": 0.0005000000237487257, "vf_loss": 8.27367877960205, "cur_kl_coeff": 0.10000001639127731, "total_loss": 8.2726411819458}}, "pid": 7924, "hostname": "flow-main", "episode_reward_max": 701.0434162237586, "episode_len_mean": 700.0, "episode_reward_mean": 597.7119038569894, "config": {"kl_coeff": 0.2, "lambda": 0.97, "vf_share_layers": false, "horizon": 1500, "tf_session_args": {"allow_soft_placement": true, "intra_op_parallelism_threads": 2, "gpu_options": {"allow_growth": true}, "device_count": {"CPU": 1}, "log_device_placement": false, "inter_op_parallelism_threads": 2}, "entropy_coeff": 0.0, "optimizer": {}, "num_gpus_per_worker": 0, "output_compress_columns": ["obs", "new_obs"], "straggler_mitigation": false, "num_sgd_iter": 10, "env_config": {"flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"eta1\": 1.0,\n            \"eta2\": 0.3,\n            \"eta3\": 0.5,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 1.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnvOutFlowRew\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 600,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}", "run": "PPO"}, "num_cpus_per_worker": 1, "num_workers": 60, "num_envs_per_worker": 1, "output": null, "train_batch_size": 90000, "sgd_minibatch_size": 128, "clip_rewards": null, "env": "MultiWaveAttenuationMergePOEnvOutFlowRew-v0_[eta1, eta2, eta3]:[1.0, 5.0, 0.0]_t_min:5.0", "callbacks": {"on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7ff12dad1b00>", "on_sample_end": null, "on_train_result": null, "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7ff12dacdfd0>", "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7ff12dad1b70>"}, "vf_clip_param": 1000000.0, "input": "sampler", "clip_param": 0.3, "vf_loss_coeff": 1.0, "collect_metrics_timeout": 180, "lr": 0.0005, "num_cpus_for_driver": 1, "input_evaluation": null, "use_gae": true, "monitor": false, "batch_mode": "truncate_episodes", "output_max_file_size": 67108864, "lr_schedule": null, "multiagent": {"policy_graphs": {}, "policy_mapping_fn": null, "policies_to_train": null}, "sample_async": false, "sample_batch_size": 200, "clip_actions": false, "simple_optimizer": false, "custom_resources_per_worker": {}, "kl_target": 0.01, "compress_observations": false, "num_gpus": 0, "synchronize_filters": true, "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "log_level": "INFO", "observation_filter": "NoFilter", "preprocessor_pref": "deepmind", "model": {"lstm_use_prev_action_reward": false, "conv_filters": null, "dim": 84, "custom_options": {}, "fcnet_hiddens": [100, 50, 25], "lstm_cell_size": 256, "framestack": true, "conv_activation": "relu", "squash_to_range": false, "custom_preprocessor": null, "channel_major": false, "grayscale": false, "free_log_std": false, "use_lstm": false, "max_seq_len": 20, "zero_mean": true, "custom_model": null, "fcnet_activation": "tanh"}, "gamma": 0.99}, "time_total_s": 191.0314426422119, "policy_reward_mean": {}, "training_iteration": 5, "episodes_total": 259, "timesteps_since_restore": 570094, "timesteps_this_iter": 113294, "episode_reward_min": 338.81689988440706, "experiment_id": "fb490f0e3688480cb8d243e87816e520", "timestamp": 1556374632, "episodes_this_iter": 57, "done": false, "date": "2019-04-27_14-17-12"}
{"time_since_restore": 227.65167498588562, "timesteps_total": 684227, "custom_metrics": {"outflow_rate_max": 992.7086445012669, "outflow_rate_mean": 899.1528218870911, "cost2_mean": -23.464024714630572, "cost2_min": -27.514077096965107, "cost1_max": 360.14654894911916, "system_level_velocity_max": 17.513251053471567, "outflow_rate_min": 477.0211803871173, "cost1_min": 21.87175053152068, "cost2_max": -10.223488673099155, "system_level_velocity_mean": 11.67888913918983, "cost1_mean": 305.39940232726826, "system_level_velocity_min": 9.270675043956587}, "time_this_iter_s": 36.620232343673706, "num_metric_batches_dropped": 0, "iterations_since_restore": 6, "node_ip": "10.138.0.2", "info": {"sample_time_ms": 14942.685, "num_steps_trained": 684227, "load_time_ms": 16.444, "grad_time_ms": 22656.286, "update_time_ms": 111.434, "num_steps_sampled": 684227, "default": {"entropy": 1.356681227684021, "vf_explained_var": 0.7482305765151978, "kl": 0.00566968135535717, "policy_loss": -0.001255270792171359, "cur_lr": 0.0005000000237487257, "vf_loss": 9.051297187805176, "cur_kl_coeff": 0.10000001639127731, "total_loss": 9.050609588623047}}, "pid": 7924, "hostname": "flow-main", "episode_reward_max": 716.7527134244967, "episode_len_mean": 693.35, "episode_reward_mean": 648.4265808312929, "config": {"kl_coeff": 0.2, "lambda": 0.97, "vf_share_layers": false, "horizon": 1500, "tf_session_args": {"allow_soft_placement": true, "intra_op_parallelism_threads": 2, "gpu_options": {"allow_growth": true}, "device_count": {"CPU": 1}, "log_device_placement": false, "inter_op_parallelism_threads": 2}, "entropy_coeff": 0.0, "optimizer": {}, "num_gpus_per_worker": 0, "output_compress_columns": ["obs", "new_obs"], "straggler_mitigation": false, "num_sgd_iter": 10, "env_config": {"flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"eta1\": 1.0,\n            \"eta2\": 0.3,\n            \"eta3\": 0.5,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 1.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnvOutFlowRew\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 600,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}", "run": "PPO"}, "num_cpus_per_worker": 1, "num_workers": 60, "num_envs_per_worker": 1, "output": null, "train_batch_size": 90000, "sgd_minibatch_size": 128, "clip_rewards": null, "env": "MultiWaveAttenuationMergePOEnvOutFlowRew-v0_[eta1, eta2, eta3]:[1.0, 5.0, 0.0]_t_min:5.0", "callbacks": {"on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7ff12da76a20>", "on_sample_end": null, "on_train_result": null, "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7ff12da82cc0>", "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7ff12da82470>"}, "vf_clip_param": 1000000.0, "input": "sampler", "clip_param": 0.3, "vf_loss_coeff": 1.0, "collect_metrics_timeout": 180, "lr": 0.0005, "num_cpus_for_driver": 1, "input_evaluation": null, "use_gae": true, "monitor": false, "batch_mode": "truncate_episodes", "output_max_file_size": 67108864, "lr_schedule": null, "multiagent": {"policy_graphs": {}, "policy_mapping_fn": null, "policies_to_train": null}, "sample_async": false, "sample_batch_size": 200, "clip_actions": false, "simple_optimizer": false, "custom_resources_per_worker": {}, "kl_target": 0.01, "compress_observations": false, "num_gpus": 0, "synchronize_filters": true, "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "log_level": "INFO", "observation_filter": "NoFilter", "preprocessor_pref": "deepmind", "model": {"lstm_use_prev_action_reward": false, "conv_filters": null, "dim": 84, "custom_options": {}, "fcnet_hiddens": [100, 50, 25], "lstm_cell_size": 256, "framestack": true, "conv_activation": "relu", "squash_to_range": false, "custom_preprocessor": null, "channel_major": false, "grayscale": false, "free_log_std": false, "use_lstm": false, "max_seq_len": 20, "zero_mean": true, "custom_model": null, "fcnet_activation": "tanh"}, "gamma": 0.99}, "time_total_s": 227.65167498588562, "policy_reward_mean": {}, "training_iteration": 6, "episodes_total": 321, "timesteps_since_restore": 684227, "timesteps_this_iter": 114133, "episode_reward_min": 20.174208489191983, "experiment_id": "fb490f0e3688480cb8d243e87816e520", "timestamp": 1556374668, "episodes_this_iter": 62, "done": false, "date": "2019-04-27_14-17-48"}
{"time_since_restore": 263.8663766384125, "timesteps_total": 798247, "custom_metrics": {"outflow_rate_max": 1048.4092926439448, "outflow_rate_mean": 921.1481912434277, "cost2_mean": -21.68583505814385, "cost2_min": -27.514077096965107, "cost1_max": 396.21448406384866, "system_level_velocity_max": 17.513251053471567, "outflow_rate_min": 477.0211803871173, "cost1_min": 21.87175053152068, "cost2_max": -10.223488673099155, "system_level_velocity_mean": 11.873935378490303, "cost1_mean": 311.5157852199639, "system_level_velocity_min": 9.094470835866913}, "time_this_iter_s": 36.214701652526855, "num_metric_batches_dropped": 0, "iterations_since_restore": 7, "node_ip": "10.138.0.2", "info": {"sample_time_ms": 14927.927, "num_steps_trained": 798247, "load_time_ms": 14.917, "grad_time_ms": 22445.782, "update_time_ms": 96.925, "num_steps_sampled": 798247, "default": {"entropy": 1.3467947244644165, "vf_explained_var": 0.7701644897460938, "kl": 0.0050446586683392525, "policy_loss": -0.0008841531816869974, "cur_lr": 0.0005000000237487257, "vf_loss": 9.621419906616211, "cur_kl_coeff": 0.10000001639127731, "total_loss": 9.621041297912598}}, "pid": 7924, "hostname": "flow-main", "episode_reward_max": 767.1124806614395, "episode_len_mean": 693.35, "episode_reward_mean": 678.1649822835659, "config": {"kl_coeff": 0.2, "lambda": 0.97, "vf_share_layers": false, "horizon": 1500, "tf_session_args": {"allow_soft_placement": true, "intra_op_parallelism_threads": 2, "gpu_options": {"allow_growth": true}, "device_count": {"CPU": 1}, "log_device_placement": false, "inter_op_parallelism_threads": 2}, "entropy_coeff": 0.0, "optimizer": {}, "num_gpus_per_worker": 0, "output_compress_columns": ["obs", "new_obs"], "straggler_mitigation": false, "num_sgd_iter": 10, "env_config": {"flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"eta1\": 1.0,\n            \"eta2\": 0.3,\n            \"eta3\": 0.5,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 1.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnvOutFlowRew\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 600,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}", "run": "PPO"}, "num_cpus_per_worker": 1, "num_workers": 60, "num_envs_per_worker": 1, "output": null, "train_batch_size": 90000, "sgd_minibatch_size": 128, "clip_rewards": null, "env": "MultiWaveAttenuationMergePOEnvOutFlowRew-v0_[eta1, eta2, eta3]:[1.0, 5.0, 0.0]_t_min:5.0", "callbacks": {"on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7ff12da76e48>", "on_sample_end": null, "on_train_result": null, "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7ff12da76048>", "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7ff12da76240>"}, "vf_clip_param": 1000000.0, "input": "sampler", "clip_param": 0.3, "vf_loss_coeff": 1.0, "collect_metrics_timeout": 180, "lr": 0.0005, "num_cpus_for_driver": 1, "input_evaluation": null, "use_gae": true, "monitor": false, "batch_mode": "truncate_episodes", "output_max_file_size": 67108864, "lr_schedule": null, "multiagent": {"policy_graphs": {}, "policy_mapping_fn": null, "policies_to_train": null}, "sample_async": false, "sample_batch_size": 200, "clip_actions": false, "simple_optimizer": false, "custom_resources_per_worker": {}, "kl_target": 0.01, "compress_observations": false, "num_gpus": 0, "synchronize_filters": true, "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "log_level": "INFO", "observation_filter": "NoFilter", "preprocessor_pref": "deepmind", "model": {"lstm_use_prev_action_reward": false, "conv_filters": null, "dim": 84, "custom_options": {}, "fcnet_hiddens": [100, 50, 25], "lstm_cell_size": 256, "framestack": true, "conv_activation": "relu", "squash_to_range": false, "custom_preprocessor": null, "channel_major": false, "grayscale": false, "free_log_std": false, "use_lstm": false, "max_seq_len": 20, "zero_mean": true, "custom_model": null, "fcnet_activation": "tanh"}, "gamma": 0.99}, "time_total_s": 263.8663766384125, "policy_reward_mean": {}, "training_iteration": 7, "episodes_total": 375, "timesteps_since_restore": 798247, "timesteps_this_iter": 114020, "episode_reward_min": 20.174208489191983, "experiment_id": "fb490f0e3688480cb8d243e87816e520", "timestamp": 1556374704, "episodes_this_iter": 54, "done": false, "date": "2019-04-27_14-18-24"}
{"time_since_restore": 301.3595907688141, "timesteps_total": 914348, "custom_metrics": {"outflow_rate_max": 1048.4092926439448, "outflow_rate_mean": 934.5615519881052, "cost2_mean": -20.17046245949895, "cost2_min": -23.616826718167502, "cost1_max": 396.21448406384866, "system_level_velocity_max": 15.18343688200606, "outflow_rate_min": 821.2753935749204, "cost1_min": 244.23433195207878, "cost2_max": -16.93948593144966, "system_level_velocity_mean": 11.86704755636878, "cost1_mean": 316.0989191326552, "system_level_velocity_min": 9.094470835866913}, "time_this_iter_s": 37.49321413040161, "num_metric_batches_dropped": 0, "iterations_since_restore": 8, "node_ip": "10.138.0.2", "info": {"sample_time_ms": 14935.267, "num_steps_trained": 914348, "load_time_ms": 14.103, "grad_time_ms": 22427.165, "update_time_ms": 85.99, "num_steps_sampled": 914348, "default": {"entropy": 1.3404862880706787, "vf_explained_var": 0.7718637585639954, "kl": 0.005865373648703098, "policy_loss": -0.00121458584908396, "cur_lr": 0.0005000000237487257, "vf_loss": 10.850626945495605, "cur_kl_coeff": 0.10000001639127731, "total_loss": 10.84999942779541}}, "pid": 7924, "hostname": "flow-main", "episode_reward_max": 775.6648750880988, "episode_len_mean": 700.0, "episode_reward_mean": 702.0858714193994, "config": {"kl_coeff": 0.2, "lambda": 0.97, "vf_share_layers": false, "horizon": 1500, "tf_session_args": {"allow_soft_placement": true, "intra_op_parallelism_threads": 2, "gpu_options": {"allow_growth": true}, "device_count": {"CPU": 1}, "log_device_placement": false, "inter_op_parallelism_threads": 2}, "entropy_coeff": 0.0, "optimizer": {}, "num_gpus_per_worker": 0, "output_compress_columns": ["obs", "new_obs"], "straggler_mitigation": false, "num_sgd_iter": 10, "env_config": {"flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"eta1\": 1.0,\n            \"eta2\": 0.3,\n            \"eta3\": 0.5,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 1.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnvOutFlowRew\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 600,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}", "run": "PPO"}, "num_cpus_per_worker": 1, "num_workers": 60, "num_envs_per_worker": 1, "output": null, "train_batch_size": 90000, "sgd_minibatch_size": 128, "clip_rewards": null, "env": "MultiWaveAttenuationMergePOEnvOutFlowRew-v0_[eta1, eta2, eta3]:[1.0, 5.0, 0.0]_t_min:5.0", "callbacks": {"on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7ff12da82518>", "on_sample_end": null, "on_train_result": null, "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7ff12da82c18>", "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7ff12da82b70>"}, "vf_clip_param": 1000000.0, "input": "sampler", "clip_param": 0.3, "vf_loss_coeff": 1.0, "collect_metrics_timeout": 180, "lr": 0.0005, "num_cpus_for_driver": 1, "input_evaluation": null, "use_gae": true, "monitor": false, "batch_mode": "truncate_episodes", "output_max_file_size": 67108864, "lr_schedule": null, "multiagent": {"policy_graphs": {}, "policy_mapping_fn": null, "policies_to_train": null}, "sample_async": false, "sample_batch_size": 200, "clip_actions": false, "simple_optimizer": false, "custom_resources_per_worker": {}, "kl_target": 0.01, "compress_observations": false, "num_gpus": 0, "synchronize_filters": true, "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "log_level": "INFO", "observation_filter": "NoFilter", "preprocessor_pref": "deepmind", "model": {"lstm_use_prev_action_reward": false, "conv_filters": null, "dim": 84, "custom_options": {}, "fcnet_hiddens": [100, 50, 25], "lstm_cell_size": 256, "framestack": true, "conv_activation": "relu", "squash_to_range": false, "custom_preprocessor": null, "channel_major": false, "grayscale": false, "free_log_std": false, "use_lstm": false, "max_seq_len": 20, "zero_mean": true, "custom_model": null, "fcnet_activation": "tanh"}, "gamma": 0.99}, "time_total_s": 301.3595907688141, "policy_reward_mean": {}, "training_iteration": 8, "episodes_total": 430, "timesteps_since_restore": 914348, "timesteps_this_iter": 116101, "episode_reward_min": 597.8485024852479, "experiment_id": "fb490f0e3688480cb8d243e87816e520", "timestamp": 1556374742, "episodes_this_iter": 55, "done": false, "date": "2019-04-27_14-19-02"}
{"time_since_restore": 341.90342903137207, "timesteps_total": 1030936, "custom_metrics": {"outflow_rate_max": 1039.8135143345353, "outflow_rate_mean": 936.8975210113078, "cost2_mean": -19.20995136327554, "cost2_min": -22.295451491381137, "cost1_max": 382.0973844569315, "system_level_velocity_max": 14.428819389651508, "outflow_rate_min": 824.2464758280037, "cost1_min": 253.89707540956283, "cost2_max": -16.163635600903522, "system_level_velocity_mean": 11.884844193553032, "cost1_mean": 316.9500725847705, "system_level_velocity_min": 9.427423594062828}, "time_this_iter_s": 40.54383826255798, "num_metric_batches_dropped": 0, "iterations_since_restore": 9, "node_ip": "10.138.0.2", "info": {"sample_time_ms": 14952.257, "num_steps_trained": 1030936, "load_time_ms": 13.132, "grad_time_ms": 22740.76, "update_time_ms": 77.647, "num_steps_sampled": 1030936, "default": {"entropy": 1.3425822257995605, "vf_explained_var": 0.745513916015625, "kl": 0.0063683162443339825, "policy_loss": -0.0014003714313730597, "cur_lr": 0.0005000000237487257, "vf_loss": 11.244767189025879, "cur_kl_coeff": 0.10000001639127731, "total_loss": 11.24400520324707}}, "pid": 7924, "hostname": "flow-main", "episode_reward_max": 775.7723282659024, "episode_len_mean": 700.0, "episode_reward_mean": 712.3665621082706, "config": {"kl_coeff": 0.2, "lambda": 0.97, "vf_share_layers": false, "horizon": 1500, "tf_session_args": {"allow_soft_placement": true, "intra_op_parallelism_threads": 2, "gpu_options": {"allow_growth": true}, "device_count": {"CPU": 1}, "log_device_placement": false, "inter_op_parallelism_threads": 2}, "entropy_coeff": 0.0, "optimizer": {}, "num_gpus_per_worker": 0, "output_compress_columns": ["obs", "new_obs"], "straggler_mitigation": false, "num_sgd_iter": 10, "env_config": {"flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"eta1\": 1.0,\n            \"eta2\": 0.3,\n            \"eta3\": 0.5,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 1.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnvOutFlowRew\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 600,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}", "run": "PPO"}, "num_cpus_per_worker": 1, "num_workers": 60, "num_envs_per_worker": 1, "output": null, "train_batch_size": 90000, "sgd_minibatch_size": 128, "clip_rewards": null, "env": "MultiWaveAttenuationMergePOEnvOutFlowRew-v0_[eta1, eta2, eta3]:[1.0, 5.0, 0.0]_t_min:5.0", "callbacks": {"on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7ff12da82eb8>", "on_sample_end": null, "on_train_result": null, "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7ff12da82588>", "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7ff12da82438>"}, "vf_clip_param": 1000000.0, "input": "sampler", "clip_param": 0.3, "vf_loss_coeff": 1.0, "collect_metrics_timeout": 180, "lr": 0.0005, "num_cpus_for_driver": 1, "input_evaluation": null, "use_gae": true, "monitor": false, "batch_mode": "truncate_episodes", "output_max_file_size": 67108864, "lr_schedule": null, "multiagent": {"policy_graphs": {}, "policy_mapping_fn": null, "policies_to_train": null}, "sample_async": false, "sample_batch_size": 200, "clip_actions": false, "simple_optimizer": false, "custom_resources_per_worker": {}, "kl_target": 0.01, "compress_observations": false, "num_gpus": 0, "synchronize_filters": true, "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "log_level": "INFO", "observation_filter": "NoFilter", "preprocessor_pref": "deepmind", "model": {"lstm_use_prev_action_reward": false, "conv_filters": null, "dim": 84, "custom_options": {}, "fcnet_hiddens": [100, 50, 25], "lstm_cell_size": 256, "framestack": true, "conv_activation": "relu", "squash_to_range": false, "custom_preprocessor": null, "channel_major": false, "grayscale": false, "free_log_std": false, "use_lstm": false, "max_seq_len": 20, "zero_mean": true, "custom_model": null, "fcnet_activation": "tanh"}, "gamma": 0.99}, "time_total_s": 341.90342903137207, "policy_reward_mean": {}, "training_iteration": 9, "episodes_total": 485, "timesteps_since_restore": 1030936, "timesteps_this_iter": 116588, "episode_reward_min": 605.4662627724159, "experiment_id": "fb490f0e3688480cb8d243e87816e520", "timestamp": 1556374783, "episodes_this_iter": 55, "done": false, "date": "2019-04-27_14-19-43"}
{"time_since_restore": 378.31680512428284, "timesteps_total": 1147056, "custom_metrics": {"outflow_rate_max": 1039.8135143345353, "outflow_rate_mean": 932.8109420119624, "cost2_mean": -18.030242871839445, "cost2_min": -22.295451491381137, "cost1_max": 380.16155696933333, "system_level_velocity_max": 14.412370046044536, "outflow_rate_min": 823.1479818361114, "cost1_min": 241.7930371072103, "cost2_max": -14.15179143174266, "system_level_velocity_mean": 11.819239844860281, "cost1_mean": 315.4489178353649, "system_level_velocity_min": 8.970953408360858}, "time_this_iter_s": 36.41337609291077, "num_metric_batches_dropped": 0, "iterations_since_restore": 10, "node_ip": "10.138.0.2", "info": {"sample_time_ms": 14901.876, "num_steps_trained": 1147056, "load_time_ms": 12.451, "grad_time_ms": 22640.092, "update_time_ms": 71.044, "num_steps_sampled": 1147056, "default": {"entropy": 1.337820053100586, "vf_explained_var": 0.7737108469009399, "kl": 0.006224938202649355, "policy_loss": -0.0017768193501979113, "cur_lr": 0.0005000000237487257, "vf_loss": 10.212567329406738, "cur_kl_coeff": 0.10000001639127731, "total_loss": 10.211413383483887}}, "pid": 7924, "hostname": "flow-main", "episode_reward_max": 800.5236179443494, "episode_len_mean": 700.0, "episode_reward_mean": 714.6519371151782, "config": {"kl_coeff": 0.2, "lambda": 0.97, "vf_share_layers": false, "horizon": 1500, "tf_session_args": {"allow_soft_placement": true, "intra_op_parallelism_threads": 2, "gpu_options": {"allow_growth": true}, "device_count": {"CPU": 1}, "log_device_placement": false, "inter_op_parallelism_threads": 2}, "entropy_coeff": 0.0, "optimizer": {}, "num_gpus_per_worker": 0, "output_compress_columns": ["obs", "new_obs"], "straggler_mitigation": false, "num_sgd_iter": 10, "env_config": {"flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"eta1\": 1.0,\n            \"eta2\": 0.3,\n            \"eta3\": 0.5,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 1.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnvOutFlowRew\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 600,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}", "run": "PPO"}, "num_cpus_per_worker": 1, "num_workers": 60, "num_envs_per_worker": 1, "output": null, "train_batch_size": 90000, "sgd_minibatch_size": 128, "clip_rewards": null, "env": "MultiWaveAttenuationMergePOEnvOutFlowRew-v0_[eta1, eta2, eta3]:[1.0, 5.0, 0.0]_t_min:5.0", "callbacks": {"on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7ff12da82cf8>", "on_sample_end": null, "on_train_result": null, "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7ff12da82be0>", "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7ff12da82128>"}, "vf_clip_param": 1000000.0, "input": "sampler", "clip_param": 0.3, "vf_loss_coeff": 1.0, "collect_metrics_timeout": 180, "lr": 0.0005, "num_cpus_for_driver": 1, "input_evaluation": null, "use_gae": true, "monitor": false, "batch_mode": "truncate_episodes", "output_max_file_size": 67108864, "lr_schedule": null, "multiagent": {"policy_graphs": {}, "policy_mapping_fn": null, "policies_to_train": null}, "sample_async": false, "sample_batch_size": 200, "clip_actions": false, "simple_optimizer": false, "custom_resources_per_worker": {}, "kl_target": 0.01, "compress_observations": false, "num_gpus": 0, "synchronize_filters": true, "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "log_level": "INFO", "observation_filter": "NoFilter", "preprocessor_pref": "deepmind", "model": {"lstm_use_prev_action_reward": false, "conv_filters": null, "dim": 84, "custom_options": {}, "fcnet_hiddens": [100, 50, 25], "lstm_cell_size": 256, "framestack": true, "conv_activation": "relu", "squash_to_range": false, "custom_preprocessor": null, "channel_major": false, "grayscale": false, "free_log_std": false, "use_lstm": false, "max_seq_len": 20, "zero_mean": true, "custom_model": null, "fcnet_activation": "tanh"}, "gamma": 0.99}, "time_total_s": 378.31680512428284, "policy_reward_mean": {}, "training_iteration": 10, "episodes_total": 532, "timesteps_since_restore": 1147056, "timesteps_this_iter": 116120, "episode_reward_min": 605.4662627724159, "experiment_id": "fb490f0e3688480cb8d243e87816e520", "timestamp": 1556374819, "episodes_this_iter": 47, "done": false, "date": "2019-04-27_14-20-19"}
{"time_since_restore": 415.18555068969727, "timesteps_total": 1261158, "custom_metrics": {"outflow_rate_max": 1026.5731763688273, "outflow_rate_mean": 909.8876767358415, "cost2_mean": -16.098262478419343, "cost2_min": -19.650567318386106, "cost1_max": 390.67582724412864, "system_level_velocity_max": 14.854164247019222, "outflow_rate_min": 814.9581636730044, "cost1_min": 241.7930371072103, "cost2_max": -13.031735743072373, "system_level_velocity_mean": 11.432792988855892, "cost1_mean": 305.5537711960386, "system_level_velocity_min": 8.970953408360858}, "time_this_iter_s": 36.86874556541443, "num_metric_batches_dropped": 0, "iterations_since_restore": 11, "node_ip": "10.138.0.2", "info": {"sample_time_ms": 15006.098, "num_steps_trained": 1261158, "load_time_ms": 7.078, "grad_time_ms": 22145.096, "update_time_ms": 11.204, "num_steps_sampled": 1261158, "default": {"entropy": 1.3265327215194702, "vf_explained_var": 0.7240291237831116, "kl": 0.005906900390982628, "policy_loss": -0.001375956810079515, "cur_lr": 0.0005000000237487257, "vf_loss": 12.295073509216309, "cur_kl_coeff": 0.10000001639127731, "total_loss": 12.29428768157959}}, "pid": 7924, "hostname": "flow-main", "episode_reward_max": 800.5236179443494, "episode_len_mean": 700.0, "episode_reward_mean": 712.6700607030219, "config": {"kl_coeff": 0.2, "lambda": 0.97, "vf_share_layers": false, "horizon": 1500, "tf_session_args": {"allow_soft_placement": true, "intra_op_parallelism_threads": 2, "gpu_options": {"allow_growth": true}, "device_count": {"CPU": 1}, "log_device_placement": false, "inter_op_parallelism_threads": 2}, "entropy_coeff": 0.0, "optimizer": {}, "num_gpus_per_worker": 0, "output_compress_columns": ["obs", "new_obs"], "straggler_mitigation": false, "num_sgd_iter": 10, "env_config": {"flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"eta1\": 1.0,\n            \"eta2\": 0.3,\n            \"eta3\": 0.5,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 1.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnvOutFlowRew\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 600,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}", "run": "PPO"}, "num_cpus_per_worker": 1, "num_workers": 60, "num_envs_per_worker": 1, "output": null, "train_batch_size": 90000, "sgd_minibatch_size": 128, "clip_rewards": null, "env": "MultiWaveAttenuationMergePOEnvOutFlowRew-v0_[eta1, eta2, eta3]:[1.0, 5.0, 0.0]_t_min:5.0", "callbacks": {"on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7ff12da82860>", "on_sample_end": null, "on_train_result": null, "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7ff12da82eb8>", "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7ff12da82160>"}, "vf_clip_param": 1000000.0, "input": "sampler", "clip_param": 0.3, "vf_loss_coeff": 1.0, "collect_metrics_timeout": 180, "lr": 0.0005, "num_cpus_for_driver": 1, "input_evaluation": null, "use_gae": true, "monitor": false, "batch_mode": "truncate_episodes", "output_max_file_size": 67108864, "lr_schedule": null, "multiagent": {"policy_graphs": {}, "policy_mapping_fn": null, "policies_to_train": null}, "sample_async": false, "sample_batch_size": 200, "clip_actions": false, "simple_optimizer": false, "custom_resources_per_worker": {}, "kl_target": 0.01, "compress_observations": false, "num_gpus": 0, "synchronize_filters": true, "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "log_level": "INFO", "observation_filter": "NoFilter", "preprocessor_pref": "deepmind", "model": {"lstm_use_prev_action_reward": false, "conv_filters": null, "dim": 84, "custom_options": {}, "fcnet_hiddens": [100, 50, 25], "lstm_cell_size": 256, "framestack": true, "conv_activation": "relu", "squash_to_range": false, "custom_preprocessor": null, "channel_major": false, "grayscale": false, "free_log_std": false, "use_lstm": false, "max_seq_len": 20, "zero_mean": true, "custom_model": null, "fcnet_activation": "tanh"}, "gamma": 0.99}, "time_total_s": 415.18555068969727, "policy_reward_mean": {}, "training_iteration": 11, "episodes_total": 592, "timesteps_since_restore": 1261158, "timesteps_this_iter": 114102, "episode_reward_min": 620.7863800478182, "experiment_id": "fb490f0e3688480cb8d243e87816e520", "timestamp": 1556374856, "episodes_this_iter": 60, "done": false, "date": "2019-04-27_14-20-56"}
{"time_since_restore": 450.27385210990906, "timesteps_total": 1374617, "custom_metrics": {"outflow_rate_max": 1026.5731763688273, "outflow_rate_mean": 896.9075107394988, "cost2_mean": -14.721680920432854, "cost2_min": -18.516966827305993, "cost1_max": 390.67582724412864, "system_level_velocity_max": 14.854164247019222, "outflow_rate_min": 811.4263334523281, "cost1_min": 245.90483062888308, "cost2_max": -12.097733809403472, "system_level_velocity_mean": 11.305220574382775, "cost1_mean": 302.76072290827335, "system_level_velocity_min": 9.16482295477418}, "time_this_iter_s": 35.08830142021179, "num_metric_batches_dropped": 0, "iterations_since_restore": 12, "node_ip": "10.138.0.2", "info": {"sample_time_ms": 14964.638, "num_steps_trained": 1374617, "load_time_ms": 7.138, "grad_time_ms": 21779.391, "update_time_ms": 11.244, "num_steps_sampled": 1374617, "default": {"entropy": 1.323673963546753, "vf_explained_var": 0.7133107781410217, "kl": 0.005082062445580959, "policy_loss": -0.0002573840320110321, "cur_lr": 0.0005000000237487257, "vf_loss": 11.184056282043457, "cur_kl_coeff": 0.10000001639127731, "total_loss": 11.184308052062988}}, "pid": 7924, "hostname": "flow-main", "episode_reward_max": 779.010901182065, "episode_len_mean": 700.0, "episode_reward_mean": 712.8285371729273, "config": {"kl_coeff": 0.2, "lambda": 0.97, "vf_share_layers": false, "horizon": 1500, "tf_session_args": {"allow_soft_placement": true, "intra_op_parallelism_threads": 2, "gpu_options": {"allow_growth": true}, "device_count": {"CPU": 1}, "log_device_placement": false, "inter_op_parallelism_threads": 2}, "entropy_coeff": 0.0, "optimizer": {}, "num_gpus_per_worker": 0, "output_compress_columns": ["obs", "new_obs"], "straggler_mitigation": false, "num_sgd_iter": 10, "env_config": {"flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"eta1\": 1.0,\n            \"eta2\": 0.3,\n            \"eta3\": 0.5,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 1.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnvOutFlowRew\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 600,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}", "run": "PPO"}, "num_cpus_per_worker": 1, "num_workers": 60, "num_envs_per_worker": 1, "output": null, "train_batch_size": 90000, "sgd_minibatch_size": 128, "clip_rewards": null, "env": "MultiWaveAttenuationMergePOEnvOutFlowRew-v0_[eta1, eta2, eta3]:[1.0, 5.0, 0.0]_t_min:5.0", "callbacks": {"on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7ff12da82f98>", "on_sample_end": null, "on_train_result": null, "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7ff12da82198>", "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7ff12da82470>"}, "vf_clip_param": 1000000.0, "input": "sampler", "clip_param": 0.3, "vf_loss_coeff": 1.0, "collect_metrics_timeout": 180, "lr": 0.0005, "num_cpus_for_driver": 1, "input_evaluation": null, "use_gae": true, "monitor": false, "batch_mode": "truncate_episodes", "output_max_file_size": 67108864, "lr_schedule": null, "multiagent": {"policy_graphs": {}, "policy_mapping_fn": null, "policies_to_train": null}, "sample_async": false, "sample_batch_size": 200, "clip_actions": false, "simple_optimizer": false, "custom_resources_per_worker": {}, "kl_target": 0.01, "compress_observations": false, "num_gpus": 0, "synchronize_filters": true, "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "log_level": "INFO", "observation_filter": "NoFilter", "preprocessor_pref": "deepmind", "model": {"lstm_use_prev_action_reward": false, "conv_filters": null, "dim": 84, "custom_options": {}, "fcnet_hiddens": [100, 50, 25], "lstm_cell_size": 256, "framestack": true, "conv_activation": "relu", "squash_to_range": false, "custom_preprocessor": null, "channel_major": false, "grayscale": false, "free_log_std": false, "use_lstm": false, "max_seq_len": 20, "zero_mean": true, "custom_model": null, "fcnet_activation": "tanh"}, "gamma": 0.99}, "time_total_s": 450.27385210990906, "policy_reward_mean": {}, "training_iteration": 12, "episodes_total": 646, "timesteps_since_restore": 1374617, "timesteps_this_iter": 113459, "episode_reward_min": 641.5708894825522, "experiment_id": "fb490f0e3688480cb8d243e87816e520", "timestamp": 1556374891, "episodes_this_iter": 54, "done": false, "date": "2019-04-27_14-21-31"}
{"time_since_restore": 486.46670150756836, "timesteps_total": 1487544, "custom_metrics": {"outflow_rate_max": 983.1911194461206, "outflow_rate_mean": 883.9757150081401, "cost2_mean": -13.709205582893773, "cost2_min": -15.754904166993079, "cost1_max": 359.59443231977866, "system_level_velocity_max": 13.718560488884531, "outflow_rate_min": 803.1685300680276, "cost1_min": 245.75666442887203, "cost2_max": -10.501585827716552, "system_level_velocity_mean": 11.092965740960738, "cost1_mean": 297.6475308961466, "system_level_velocity_min": 9.122545262863877}, "time_this_iter_s": 36.1928493976593, "num_metric_batches_dropped": 0, "iterations_since_restore": 13, "node_ip": "10.138.0.2", "info": {"sample_time_ms": 15010.968, "num_steps_trained": 1487544, "load_time_ms": 7.449, "grad_time_ms": 21870.039, "update_time_ms": 10.991, "num_steps_sampled": 1487544, "default": {"entropy": 1.318221092224121, "vf_explained_var": 0.7052556872367859, "kl": 0.0059184422716498375, "policy_loss": -0.001064478768967092, "cur_lr": 0.0005000000237487257, "vf_loss": 11.919042587280273, "cur_kl_coeff": 0.10000001639127731, "total_loss": 11.918569564819336}}, "pid": 7924, "hostname": "flow-main", "episode_reward_max": 763.7341980631755, "episode_len_mean": 700.0, "episode_reward_mean": 704.6127539416855, "config": {"kl_coeff": 0.2, "lambda": 0.97, "vf_share_layers": false, "horizon": 1500, "tf_session_args": {"allow_soft_placement": true, "intra_op_parallelism_threads": 2, "gpu_options": {"allow_growth": true}, "device_count": {"CPU": 1}, "log_device_placement": false, "inter_op_parallelism_threads": 2}, "entropy_coeff": 0.0, "optimizer": {}, "num_gpus_per_worker": 0, "output_compress_columns": ["obs", "new_obs"], "straggler_mitigation": false, "num_sgd_iter": 10, "env_config": {"flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"eta1\": 1.0,\n            \"eta2\": 0.3,\n            \"eta3\": 0.5,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 1.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnvOutFlowRew\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 600,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}", "run": "PPO"}, "num_cpus_per_worker": 1, "num_workers": 60, "num_envs_per_worker": 1, "output": null, "train_batch_size": 90000, "sgd_minibatch_size": 128, "clip_rewards": null, "env": "MultiWaveAttenuationMergePOEnvOutFlowRew-v0_[eta1, eta2, eta3]:[1.0, 5.0, 0.0]_t_min:5.0", "callbacks": {"on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7ff12da82e10>", "on_sample_end": null, "on_train_result": null, "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7ff12da82240>", "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7ff12da82588>"}, "vf_clip_param": 1000000.0, "input": "sampler", "clip_param": 0.3, "vf_loss_coeff": 1.0, "collect_metrics_timeout": 180, "lr": 0.0005, "num_cpus_for_driver": 1, "input_evaluation": null, "use_gae": true, "monitor": false, "batch_mode": "truncate_episodes", "output_max_file_size": 67108864, "lr_schedule": null, "multiagent": {"policy_graphs": {}, "policy_mapping_fn": null, "policies_to_train": null}, "sample_async": false, "sample_batch_size": 200, "clip_actions": false, "simple_optimizer": false, "custom_resources_per_worker": {}, "kl_target": 0.01, "compress_observations": false, "num_gpus": 0, "synchronize_filters": true, "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "log_level": "INFO", "observation_filter": "NoFilter", "preprocessor_pref": "deepmind", "model": {"lstm_use_prev_action_reward": false, "conv_filters": null, "dim": 84, "custom_options": {}, "fcnet_hiddens": [100, 50, 25], "lstm_cell_size": 256, "framestack": true, "conv_activation": "relu", "squash_to_range": false, "custom_preprocessor": null, "channel_major": false, "grayscale": false, "free_log_std": false, "use_lstm": false, "max_seq_len": 20, "zero_mean": true, "custom_model": null, "fcnet_activation": "tanh"}, "gamma": 0.99}, "time_total_s": 486.46670150756836, "policy_reward_mean": {}, "training_iteration": 13, "episodes_total": 706, "timesteps_since_restore": 1487544, "timesteps_this_iter": 112927, "episode_reward_min": 636.2571494157079, "experiment_id": "fb490f0e3688480cb8d243e87816e520", "timestamp": 1556374927, "episodes_this_iter": 60, "done": false, "date": "2019-04-27_14-22-07"}
{"time_since_restore": 523.6067271232605, "timesteps_total": 1601065, "custom_metrics": {"outflow_rate_max": 1019.6612195979509, "outflow_rate_mean": 890.3820040519211, "cost2_mean": -13.01554411940458, "cost2_min": -14.9078322082066, "cost1_max": 388.5054190394858, "system_level_velocity_max": 14.603630343615759, "outflow_rate_min": 814.8098885478205, "cost1_min": 248.02667366878865, "cost2_max": -10.501585827716552, "system_level_velocity_mean": 11.248586396028852, "cost1_mean": 302.13395538611405, "system_level_velocity_min": 9.214026381421053}, "time_this_iter_s": 37.14002561569214, "num_metric_batches_dropped": 0, "iterations_since_restore": 14, "node_ip": "10.138.0.2", "info": {"sample_time_ms": 15012.757, "num_steps_trained": 1601065, "load_time_ms": 7.493, "grad_time_ms": 21944.82, "update_time_ms": 10.948, "num_steps_sampled": 1601065, "default": {"entropy": 1.3211848735809326, "vf_explained_var": 0.7101543545722961, "kl": 0.006087485235184431, "policy_loss": -0.0009168772376142442, "cur_lr": 0.0005000000237487257, "vf_loss": 11.201286315917969, "cur_kl_coeff": 0.10000001639127731, "total_loss": 11.20097827911377}}, "pid": 7924, "hostname": "flow-main", "episode_reward_max": 791.2963156242389, "episode_len_mean": 700.0, "episode_reward_mean": 712.1514145699128, "config": {"kl_coeff": 0.2, "lambda": 0.97, "vf_share_layers": false, "horizon": 1500, "tf_session_args": {"allow_soft_placement": true, "intra_op_parallelism_threads": 2, "gpu_options": {"allow_growth": true}, "device_count": {"CPU": 1}, "log_device_placement": false, "inter_op_parallelism_threads": 2}, "entropy_coeff": 0.0, "optimizer": {}, "num_gpus_per_worker": 0, "output_compress_columns": ["obs", "new_obs"], "straggler_mitigation": false, "num_sgd_iter": 10, "env_config": {"flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"eta1\": 1.0,\n            \"eta2\": 0.3,\n            \"eta3\": 0.5,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 1.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnvOutFlowRew\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 600,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}", "run": "PPO"}, "num_cpus_per_worker": 1, "num_workers": 60, "num_envs_per_worker": 1, "output": null, "train_batch_size": 90000, "sgd_minibatch_size": 128, "clip_rewards": null, "env": "MultiWaveAttenuationMergePOEnvOutFlowRew-v0_[eta1, eta2, eta3]:[1.0, 5.0, 0.0]_t_min:5.0", "callbacks": {"on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7ff12da823c8>", "on_sample_end": null, "on_train_result": null, "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7ff12da82518>", "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7ff12da82ac8>"}, "vf_clip_param": 1000000.0, "input": "sampler", "clip_param": 0.3, "vf_loss_coeff": 1.0, "collect_metrics_timeout": 180, "lr": 0.0005, "num_cpus_for_driver": 1, "input_evaluation": null, "use_gae": true, "monitor": false, "batch_mode": "truncate_episodes", "output_max_file_size": 67108864, "lr_schedule": null, "multiagent": {"policy_graphs": {}, "policy_mapping_fn": null, "policies_to_train": null}, "sample_async": false, "sample_batch_size": 200, "clip_actions": false, "simple_optimizer": false, "custom_resources_per_worker": {}, "kl_target": 0.01, "compress_observations": false, "num_gpus": 0, "synchronize_filters": true, "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "log_level": "INFO", "observation_filter": "NoFilter", "preprocessor_pref": "deepmind", "model": {"lstm_use_prev_action_reward": false, "conv_filters": null, "dim": 84, "custom_options": {}, "fcnet_hiddens": [100, 50, 25], "lstm_cell_size": 256, "framestack": true, "conv_activation": "relu", "squash_to_range": false, "custom_preprocessor": null, "channel_major": false, "grayscale": false, "free_log_std": false, "use_lstm": false, "max_seq_len": 20, "zero_mean": true, "custom_model": null, "fcnet_activation": "tanh"}, "gamma": 0.99}, "time_total_s": 523.6067271232605, "policy_reward_mean": {}, "training_iteration": 14, "episodes_total": 757, "timesteps_since_restore": 1601065, "timesteps_this_iter": 113521, "episode_reward_min": 641.0043779728632, "experiment_id": "fb490f0e3688480cb8d243e87816e520", "timestamp": 1556374964, "episodes_this_iter": 51, "done": false, "date": "2019-04-27_14-22-44"}
{"time_since_restore": 561.6690616607666, "timesteps_total": 1716977, "custom_metrics": {"outflow_rate_max": 1019.6612195979509, "outflow_rate_mean": 884.4422408389961, "cost2_mean": -12.257774567295263, "cost2_min": -14.650058314297594, "cost1_max": 388.5054190394858, "system_level_velocity_max": 14.603630343615759, "outflow_rate_min": 814.8098885478205, "cost1_min": 251.37638589936586, "cost2_max": -9.12946530692245, "system_level_velocity_mean": 11.07912907284487, "cost1_mean": 297.3355327979682, "system_level_velocity_min": 9.332719568867963}, "time_this_iter_s": 38.0623345375061, "num_metric_batches_dropped": 0, "iterations_since_restore": 15, "node_ip": "10.138.0.2", "info": {"sample_time_ms": 14881.021, "num_steps_trained": 1716977, "load_time_ms": 7.219, "grad_time_ms": 21960.303, "update_time_ms": 10.967, "num_steps_sampled": 1716977, "default": {"entropy": 1.3111850023269653, "vf_explained_var": 0.7069252133369446, "kl": 0.006438266485929489, "policy_loss": -0.00085376703646034, "cur_lr": 0.0005000000237487257, "vf_loss": 10.801188468933105, "cur_kl_coeff": 0.10000001639127731, "total_loss": 10.80097770690918}}, "pid": 7924, "hostname": "flow-main", "episode_reward_max": 791.2963156242389, "episode_len_mean": 700.0, "episode_reward_mean": 714.9989411048991, "config": {"kl_coeff": 0.2, "lambda": 0.97, "vf_share_layers": false, "horizon": 1500, "tf_session_args": {"allow_soft_placement": true, "intra_op_parallelism_threads": 2, "gpu_options": {"allow_growth": true}, "device_count": {"CPU": 1}, "log_device_placement": false, "inter_op_parallelism_threads": 2}, "entropy_coeff": 0.0, "optimizer": {}, "num_gpus_per_worker": 0, "output_compress_columns": ["obs", "new_obs"], "straggler_mitigation": false, "num_sgd_iter": 10, "env_config": {"flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"eta1\": 1.0,\n            \"eta2\": 0.3,\n            \"eta3\": 0.5,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 1.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnvOutFlowRew\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 600,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}", "run": "PPO"}, "num_cpus_per_worker": 1, "num_workers": 60, "num_envs_per_worker": 1, "output": null, "train_batch_size": 90000, "sgd_minibatch_size": 128, "clip_rewards": null, "env": "MultiWaveAttenuationMergePOEnvOutFlowRew-v0_[eta1, eta2, eta3]:[1.0, 5.0, 0.0]_t_min:5.0", "callbacks": {"on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7ff12da82438>", "on_sample_end": null, "on_train_result": null, "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7ff12da82b70>", "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7ff12da82ef0>"}, "vf_clip_param": 1000000.0, "input": "sampler", "clip_param": 0.3, "vf_loss_coeff": 1.0, "collect_metrics_timeout": 180, "lr": 0.0005, "num_cpus_for_driver": 1, "input_evaluation": null, "use_gae": true, "monitor": false, "batch_mode": "truncate_episodes", "output_max_file_size": 67108864, "lr_schedule": null, "multiagent": {"policy_graphs": {}, "policy_mapping_fn": null, "policies_to_train": null}, "sample_async": false, "sample_batch_size": 200, "clip_actions": false, "simple_optimizer": false, "custom_resources_per_worker": {}, "kl_target": 0.01, "compress_observations": false, "num_gpus": 0, "synchronize_filters": true, "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "log_level": "INFO", "observation_filter": "NoFilter", "preprocessor_pref": "deepmind", "model": {"lstm_use_prev_action_reward": false, "conv_filters": null, "dim": 84, "custom_options": {}, "fcnet_hiddens": [100, 50, 25], "lstm_cell_size": 256, "framestack": true, "conv_activation": "relu", "squash_to_range": false, "custom_preprocessor": null, "channel_major": false, "grayscale": false, "free_log_std": false, "use_lstm": false, "max_seq_len": 20, "zero_mean": true, "custom_model": null, "fcnet_activation": "tanh"}, "gamma": 0.99}, "time_total_s": 561.6690616607666, "policy_reward_mean": {}, "training_iteration": 15, "episodes_total": 810, "timesteps_since_restore": 1716977, "timesteps_this_iter": 115912, "episode_reward_min": 648.9074424446924, "experiment_id": "fb490f0e3688480cb8d243e87816e520", "timestamp": 1556375002, "episodes_this_iter": 53, "done": false, "date": "2019-04-27_14-23-22"}
{"time_since_restore": 597.9228301048279, "timesteps_total": 1832663, "custom_metrics": {"outflow_rate_max": 1029.6100940886388, "outflow_rate_mean": 877.4647005711867, "cost2_mean": -11.757842427831916, "cost2_min": -13.914976191738322, "cost1_max": 391.6340225481485, "system_level_velocity_max": 14.717945337258232, "outflow_rate_min": 812.3654507311683, "cost1_min": 244.38987608552839, "cost2_max": -9.12946530692245, "system_level_velocity_mean": 10.83106243652116, "cost1_mean": 290.5404688971775, "system_level_velocity_min": 9.078512511752463}, "time_this_iter_s": 36.25376844406128, "num_metric_batches_dropped": 0, "iterations_since_restore": 16, "node_ip": "10.138.0.2", "info": {"sample_time_ms": 14845.944, "num_steps_trained": 1832663, "load_time_ms": 7.036, "grad_time_ms": 21958.443, "update_time_ms": 10.51, "num_steps_sampled": 1832663, "default": {"entropy": 1.2986959218978882, "vf_explained_var": 0.708880603313446, "kl": 0.00649310601875186, "policy_loss": -0.0008579305140301585, "cur_lr": 0.0005000000237487257, "vf_loss": 12.085724830627441, "cur_kl_coeff": 0.10000002384185791, "total_loss": 12.085515975952148}}, "pid": 7924, "hostname": "flow-main", "episode_reward_max": 823.053425481445, "episode_len_mean": 700.0, "episode_reward_mean": 718.1573703515387, "config": {"kl_coeff": 0.2, "lambda": 0.97, "vf_share_layers": false, "horizon": 1500, "tf_session_args": {"allow_soft_placement": true, "intra_op_parallelism_threads": 2, "gpu_options": {"allow_growth": true}, "device_count": {"CPU": 1}, "log_device_placement": false, "inter_op_parallelism_threads": 2}, "entropy_coeff": 0.0, "optimizer": {}, "num_gpus_per_worker": 0, "output_compress_columns": ["obs", "new_obs"], "straggler_mitigation": false, "num_sgd_iter": 10, "env_config": {"flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"eta1\": 1.0,\n            \"eta2\": 0.3,\n            \"eta3\": 0.5,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 1.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnvOutFlowRew\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 600,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}", "run": "PPO"}, "num_cpus_per_worker": 1, "num_workers": 60, "num_envs_per_worker": 1, "output": null, "train_batch_size": 90000, "sgd_minibatch_size": 128, "clip_rewards": null, "env": "MultiWaveAttenuationMergePOEnvOutFlowRew-v0_[eta1, eta2, eta3]:[1.0, 5.0, 0.0]_t_min:5.0", "callbacks": {"on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7ff12da82c18>", "on_sample_end": null, "on_train_result": null, "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7ff12da82a20>", "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7ff12dacdfd0>"}, "vf_clip_param": 1000000.0, "input": "sampler", "clip_param": 0.3, "vf_loss_coeff": 1.0, "collect_metrics_timeout": 180, "lr": 0.0005, "num_cpus_for_driver": 1, "input_evaluation": null, "use_gae": true, "monitor": false, "batch_mode": "truncate_episodes", "output_max_file_size": 67108864, "lr_schedule": null, "multiagent": {"policy_graphs": {}, "policy_mapping_fn": null, "policies_to_train": null}, "sample_async": false, "sample_batch_size": 200, "clip_actions": false, "simple_optimizer": false, "custom_resources_per_worker": {}, "kl_target": 0.01, "compress_observations": false, "num_gpus": 0, "synchronize_filters": true, "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "log_level": "INFO", "observation_filter": "NoFilter", "preprocessor_pref": "deepmind", "model": {"lstm_use_prev_action_reward": false, "conv_filters": null, "dim": 84, "custom_options": {}, "fcnet_hiddens": [100, 50, 25], "lstm_cell_size": 256, "framestack": true, "conv_activation": "relu", "squash_to_range": false, "custom_preprocessor": null, "channel_major": false, "grayscale": false, "free_log_std": false, "use_lstm": false, "max_seq_len": 20, "zero_mean": true, "custom_model": null, "fcnet_activation": "tanh"}, "gamma": 0.99}, "time_total_s": 597.9228301048279, "policy_reward_mean": {}, "training_iteration": 16, "episodes_total": 862, "timesteps_since_restore": 1832663, "timesteps_this_iter": 115686, "episode_reward_min": 655.6451663115905, "experiment_id": "fb490f0e3688480cb8d243e87816e520", "timestamp": 1556375039, "episodes_this_iter": 52, "done": false, "date": "2019-04-27_14-23-59"}
{"time_since_restore": 634.8516502380371, "timesteps_total": 1946873, "custom_metrics": {"outflow_rate_max": 1046.9669727836595, "outflow_rate_mean": 895.2308077758804, "cost2_mean": -11.555644141524724, "cost2_min": -13.914976191738322, "cost1_max": 407.8855130854882, "system_level_velocity_max": 15.505304063149213, "outflow_rate_min": 812.3654507311683, "cost1_min": 244.38987608552839, "cost2_max": -8.902780264631641, "system_level_velocity_mean": 11.206151134030186, "cost1_mean": 300.69934038110165, "system_level_velocity_min": 9.078512511752463}, "time_this_iter_s": 36.92882013320923, "num_metric_batches_dropped": 0, "iterations_since_restore": 17, "node_ip": "10.138.0.2", "info": {"sample_time_ms": 14817.972, "num_steps_trained": 1946873, "load_time_ms": 7.231, "grad_time_ms": 22053.258, "update_time_ms": 10.589, "num_steps_sampled": 1946873, "default": {"entropy": 1.3046923875808716, "vf_explained_var": 0.7129830121994019, "kl": 0.006367131602019072, "policy_loss": -0.0009568871464580297, "cur_lr": 0.0005000000237487257, "vf_loss": 14.13433837890625, "cur_kl_coeff": 0.10000001639127731, "total_loss": 14.13401985168457}}, "pid": 7924, "hostname": "flow-main", "episode_reward_max": 832.7691599992183, "episode_len_mean": 700.0, "episode_reward_mean": 736.1355701251487, "config": {"kl_coeff": 0.2, "lambda": 0.97, "vf_share_layers": false, "horizon": 1500, "tf_session_args": {"allow_soft_placement": true, "intra_op_parallelism_threads": 2, "gpu_options": {"allow_growth": true}, "device_count": {"CPU": 1}, "log_device_placement": false, "inter_op_parallelism_threads": 2}, "entropy_coeff": 0.0, "optimizer": {}, "num_gpus_per_worker": 0, "output_compress_columns": ["obs", "new_obs"], "straggler_mitigation": false, "num_sgd_iter": 10, "env_config": {"flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"eta1\": 1.0,\n            \"eta2\": 0.3,\n            \"eta3\": 0.5,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 1.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnvOutFlowRew\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 600,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}", "run": "PPO"}, "num_cpus_per_worker": 1, "num_workers": 60, "num_envs_per_worker": 1, "output": null, "train_batch_size": 90000, "sgd_minibatch_size": 128, "clip_rewards": null, "env": "MultiWaveAttenuationMergePOEnvOutFlowRew-v0_[eta1, eta2, eta3]:[1.0, 5.0, 0.0]_t_min:5.0", "callbacks": {"on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7ff12da87eb8>", "on_sample_end": null, "on_train_result": null, "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7ff12da82470>", "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7ff12da87a90>"}, "vf_clip_param": 1000000.0, "input": "sampler", "clip_param": 0.3, "vf_loss_coeff": 1.0, "collect_metrics_timeout": 180, "lr": 0.0005, "num_cpus_for_driver": 1, "input_evaluation": null, "use_gae": true, "monitor": false, "batch_mode": "truncate_episodes", "output_max_file_size": 67108864, "lr_schedule": null, "multiagent": {"policy_graphs": {}, "policy_mapping_fn": null, "policies_to_train": null}, "sample_async": false, "sample_batch_size": 200, "clip_actions": false, "simple_optimizer": false, "custom_resources_per_worker": {}, "kl_target": 0.01, "compress_observations": false, "num_gpus": 0, "synchronize_filters": true, "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "log_level": "INFO", "observation_filter": "NoFilter", "preprocessor_pref": "deepmind", "model": {"lstm_use_prev_action_reward": false, "conv_filters": null, "dim": 84, "custom_options": {}, "fcnet_hiddens": [100, 50, 25], "lstm_cell_size": 256, "framestack": true, "conv_activation": "relu", "squash_to_range": false, "custom_preprocessor": null, "channel_major": false, "grayscale": false, "free_log_std": false, "use_lstm": false, "max_seq_len": 20, "zero_mean": true, "custom_model": null, "fcnet_activation": "tanh"}, "gamma": 0.99}, "time_total_s": 634.8516502380371, "policy_reward_mean": {}, "training_iteration": 17, "episodes_total": 915, "timesteps_since_restore": 1946873, "timesteps_this_iter": 114210, "episode_reward_min": 652.1712257691977, "experiment_id": "fb490f0e3688480cb8d243e87816e520", "timestamp": 1556375076, "episodes_this_iter": 53, "done": false, "date": "2019-04-27_14-24-36"}
{"time_since_restore": 673.0990169048309, "timesteps_total": 2060613, "custom_metrics": {"outflow_rate_max": 1055.6170724502172, "outflow_rate_mean": 908.6911203083888, "cost2_mean": -11.287665707513641, "cost2_min": -13.886926834937384, "cost1_max": 407.8855130854882, "system_level_velocity_max": 15.505304063149213, "outflow_rate_min": 807.5071407278634, "cost1_min": 235.8168245315786, "cost2_max": -8.902780264631641, "system_level_velocity_mean": 11.49988784410794, "cost1_mean": 308.3177219360847, "system_level_velocity_min": 8.701886976533507}, "time_this_iter_s": 38.24736666679382, "num_metric_batches_dropped": 0, "iterations_since_restore": 18, "node_ip": "10.138.0.2", "info": {"sample_time_ms": 14879.962, "num_steps_trained": 2060613, "load_time_ms": 7.243, "grad_time_ms": 22066.187, "update_time_ms": 10.967, "num_steps_sampled": 2060613, "default": {"entropy": 1.2884092330932617, "vf_explained_var": 0.6761412620544434, "kl": 0.0074198744259774685, "policy_loss": -0.0014378840569406748, "cur_lr": 0.0005000000237487257, "vf_loss": 15.06091594696045, "cur_kl_coeff": 0.10000002384185791, "total_loss": 15.060221672058105}}, "pid": 7924, "hostname": "flow-main", "episode_reward_max": 838.5379701718203, "episode_len_mean": 700.0, "episode_reward_mean": 748.3736710350112, "config": {"kl_coeff": 0.2, "lambda": 0.97, "vf_share_layers": false, "horizon": 1500, "tf_session_args": {"allow_soft_placement": true, "intra_op_parallelism_threads": 2, "gpu_options": {"allow_growth": true}, "device_count": {"CPU": 1}, "log_device_placement": false, "inter_op_parallelism_threads": 2}, "entropy_coeff": 0.0, "optimizer": {}, "num_gpus_per_worker": 0, "output_compress_columns": ["obs", "new_obs"], "straggler_mitigation": false, "num_sgd_iter": 10, "env_config": {"flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"eta1\": 1.0,\n            \"eta2\": 0.3,\n            \"eta3\": 0.5,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 1.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnvOutFlowRew\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 600,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}", "run": "PPO"}, "num_cpus_per_worker": 1, "num_workers": 60, "num_envs_per_worker": 1, "output": null, "train_batch_size": 90000, "sgd_minibatch_size": 128, "clip_rewards": null, "env": "MultiWaveAttenuationMergePOEnvOutFlowRew-v0_[eta1, eta2, eta3]:[1.0, 5.0, 0.0]_t_min:5.0", "callbacks": {"on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7ff12da870b8>", "on_sample_end": null, "on_train_result": null, "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7ff12da87860>", "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7ff12da87518>"}, "vf_clip_param": 1000000.0, "input": "sampler", "clip_param": 0.3, "vf_loss_coeff": 1.0, "collect_metrics_timeout": 180, "lr": 0.0005, "num_cpus_for_driver": 1, "input_evaluation": null, "use_gae": true, "monitor": false, "batch_mode": "truncate_episodes", "output_max_file_size": 67108864, "lr_schedule": null, "multiagent": {"policy_graphs": {}, "policy_mapping_fn": null, "policies_to_train": null}, "sample_async": false, "sample_batch_size": 200, "clip_actions": false, "simple_optimizer": false, "custom_resources_per_worker": {}, "kl_target": 0.01, "compress_observations": false, "num_gpus": 0, "synchronize_filters": true, "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "log_level": "INFO", "observation_filter": "NoFilter", "preprocessor_pref": "deepmind", "model": {"lstm_use_prev_action_reward": false, "conv_filters": null, "dim": 84, "custom_options": {}, "fcnet_hiddens": [100, 50, 25], "lstm_cell_size": 256, "framestack": true, "conv_activation": "relu", "squash_to_range": false, "custom_preprocessor": null, "channel_major": false, "grayscale": false, "free_log_std": false, "use_lstm": false, "max_seq_len": 20, "zero_mean": true, "custom_model": null, "fcnet_activation": "tanh"}, "gamma": 0.99}, "time_total_s": 673.0990169048309, "policy_reward_mean": {}, "training_iteration": 18, "episodes_total": 973, "timesteps_since_restore": 2060613, "timesteps_this_iter": 113740, "episode_reward_min": 652.1712257691977, "experiment_id": "fb490f0e3688480cb8d243e87816e520", "timestamp": 1556375114, "episodes_this_iter": 58, "done": false, "date": "2019-04-27_14-25-14"}
{"time_since_restore": 709.4650993347168, "timesteps_total": 2174576, "custom_metrics": {"outflow_rate_max": 1055.6170724502172, "outflow_rate_mean": 919.0641382407921, "cost2_mean": -11.070011111257532, "cost2_min": -13.23297563723484, "cost1_max": 407.263305566327, "system_level_velocity_max": 15.484138593347701, "outflow_rate_min": 807.5071407278634, "cost1_min": 235.8168245315786, "cost2_max": -8.399128044296619, "system_level_velocity_mean": 11.69598873602107, "cost1_mean": 313.36090896424287, "system_level_velocity_min": 8.701886976533507}, "time_this_iter_s": 36.366082429885864, "num_metric_batches_dropped": 0, "iterations_since_restore": 19, "node_ip": "10.138.0.2", "info": {"sample_time_ms": 14855.044, "num_steps_trained": 2174576, "load_time_ms": 7.495, "grad_time_ms": 21670.482, "update_time_ms": 11.05, "num_steps_sampled": 2174576, "default": {"entropy": 1.2906888723373413, "vf_explained_var": 0.7006948590278625, "kl": 0.0061446125619113445, "policy_loss": -0.0004258005938027054, "cur_lr": 0.0005000000237487257, "vf_loss": 14.45166301727295, "cur_kl_coeff": 0.10000001639127731, "total_loss": 14.451852798461914}}, "pid": 7924, "hostname": "flow-main", "episode_reward_max": 838.5379701718203, "episode_len_mean": 700.0, "episode_reward_mean": 757.564552544033, "config": {"kl_coeff": 0.2, "lambda": 0.97, "vf_share_layers": false, "horizon": 1500, "tf_session_args": {"allow_soft_placement": true, "intra_op_parallelism_threads": 2, "gpu_options": {"allow_growth": true}, "device_count": {"CPU": 1}, "log_device_placement": false, "inter_op_parallelism_threads": 2}, "entropy_coeff": 0.0, "optimizer": {}, "num_gpus_per_worker": 0, "output_compress_columns": ["obs", "new_obs"], "straggler_mitigation": false, "num_sgd_iter": 10, "env_config": {"flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"eta1\": 1.0,\n            \"eta2\": 0.3,\n            \"eta3\": 0.5,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 1.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnvOutFlowRew\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 600,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}", "run": "PPO"}, "num_cpus_per_worker": 1, "num_workers": 60, "num_envs_per_worker": 1, "output": null, "train_batch_size": 90000, "sgd_minibatch_size": 128, "clip_rewards": null, "env": "MultiWaveAttenuationMergePOEnvOutFlowRew-v0_[eta1, eta2, eta3]:[1.0, 5.0, 0.0]_t_min:5.0", "callbacks": {"on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7ff12da875f8>", "on_sample_end": null, "on_train_result": null, "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7ff12da874e0>", "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7ff12da87780>"}, "vf_clip_param": 1000000.0, "input": "sampler", "clip_param": 0.3, "vf_loss_coeff": 1.0, "collect_metrics_timeout": 180, "lr": 0.0005, "num_cpus_for_driver": 1, "input_evaluation": null, "use_gae": true, "monitor": false, "batch_mode": "truncate_episodes", "output_max_file_size": 67108864, "lr_schedule": null, "multiagent": {"policy_graphs": {}, "policy_mapping_fn": null, "policies_to_train": null}, "sample_async": false, "sample_batch_size": 200, "clip_actions": false, "simple_optimizer": false, "custom_resources_per_worker": {}, "kl_target": 0.01, "compress_observations": false, "num_gpus": 0, "synchronize_filters": true, "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "log_level": "INFO", "observation_filter": "NoFilter", "preprocessor_pref": "deepmind", "model": {"lstm_use_prev_action_reward": false, "conv_filters": null, "dim": 84, "custom_options": {}, "fcnet_hiddens": [100, 50, 25], "lstm_cell_size": 256, "framestack": true, "conv_activation": "relu", "squash_to_range": false, "custom_preprocessor": null, "channel_major": false, "grayscale": false, "free_log_std": false, "use_lstm": false, "max_seq_len": 20, "zero_mean": true, "custom_model": null, "fcnet_activation": "tanh"}, "gamma": 0.99}, "time_total_s": 709.4650993347168, "policy_reward_mean": {}, "training_iteration": 19, "episodes_total": 1024, "timesteps_since_restore": 2174576, "timesteps_this_iter": 113963, "episode_reward_min": 652.9485420503811, "experiment_id": "fb490f0e3688480cb8d243e87816e520", "timestamp": 1556375150, "episodes_this_iter": 51, "done": false, "date": "2019-04-27_14-25-50"}
{"time_since_restore": 746.3248429298401, "timesteps_total": 2288377, "custom_metrics": {"outflow_rate_max": 1055.0259487015376, "outflow_rate_mean": 919.3938092432281, "cost2_mean": -10.973483811788988, "cost2_min": -12.597175878152038, "cost1_max": 405.9630153170879, "system_level_velocity_max": 15.360434039795463, "outflow_rate_min": 814.9939954996702, "cost1_min": 243.84116563492537, "cost2_max": -9.462303428322048, "system_level_velocity_mean": 11.67315310242074, "cost1_mean": 312.828746417951, "system_level_velocity_min": 9.121962994826907}, "time_this_iter_s": 36.85974359512329, "num_metric_batches_dropped": 0, "iterations_since_restore": 20, "node_ip": "10.138.0.2", "info": {"sample_time_ms": 14911.622, "num_steps_trained": 2288377, "load_time_ms": 7.644, "grad_time_ms": 21658.75, "update_time_ms": 10.933, "num_steps_sampled": 2288377, "default": {"entropy": 1.2825907468795776, "vf_explained_var": 0.6319053769111633, "kl": 0.00627557747066021, "policy_loss": -0.0007238616235554218, "cur_lr": 0.0005000000237487257, "vf_loss": 17.130708694458008, "cur_kl_coeff": 0.10000001639127731, "total_loss": 17.130611419677734}}, "pid": 7924, "hostname": "flow-main", "episode_reward_max": 839.9941106394117, "episode_len_mean": 700.0, "episode_reward_mean": 753.7727567421325, "config": {"kl_coeff": 0.2, "lambda": 0.97, "vf_share_layers": false, "horizon": 1500, "tf_session_args": {"allow_soft_placement": true, "intra_op_parallelism_threads": 2, "gpu_options": {"allow_growth": true}, "device_count": {"CPU": 1}, "log_device_placement": false, "inter_op_parallelism_threads": 2}, "entropy_coeff": 0.0, "optimizer": {}, "num_gpus_per_worker": 0, "output_compress_columns": ["obs", "new_obs"], "straggler_mitigation": false, "num_sgd_iter": 10, "env_config": {"flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"eta1\": 1.0,\n            \"eta2\": 0.3,\n            \"eta3\": 0.5,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 1.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnvOutFlowRew\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 600,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}", "run": "PPO"}, "num_cpus_per_worker": 1, "num_workers": 60, "num_envs_per_worker": 1, "output": null, "train_batch_size": 90000, "sgd_minibatch_size": 128, "clip_rewards": null, "env": "MultiWaveAttenuationMergePOEnvOutFlowRew-v0_[eta1, eta2, eta3]:[1.0, 5.0, 0.0]_t_min:5.0", "callbacks": {"on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7ff12da82be0>", "on_sample_end": null, "on_train_result": null, "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7ff12da82198>", "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7ff12da82630>"}, "vf_clip_param": 1000000.0, "input": "sampler", "clip_param": 0.3, "vf_loss_coeff": 1.0, "collect_metrics_timeout": 180, "lr": 0.0005, "num_cpus_for_driver": 1, "input_evaluation": null, "use_gae": true, "monitor": false, "batch_mode": "truncate_episodes", "output_max_file_size": 67108864, "lr_schedule": null, "multiagent": {"policy_graphs": {}, "policy_mapping_fn": null, "policies_to_train": null}, "sample_async": false, "sample_batch_size": 200, "clip_actions": false, "simple_optimizer": false, "custom_resources_per_worker": {}, "kl_target": 0.01, "compress_observations": false, "num_gpus": 0, "synchronize_filters": true, "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "log_level": "INFO", "observation_filter": "NoFilter", "preprocessor_pref": "deepmind", "model": {"lstm_use_prev_action_reward": false, "conv_filters": null, "dim": 84, "custom_options": {}, "fcnet_hiddens": [100, 50, 25], "lstm_cell_size": 256, "framestack": true, "conv_activation": "relu", "squash_to_range": false, "custom_preprocessor": null, "channel_major": false, "grayscale": false, "free_log_std": false, "use_lstm": false, "max_seq_len": 20, "zero_mean": true, "custom_model": null, "fcnet_activation": "tanh"}, "gamma": 0.99}, "time_total_s": 746.3248429298401, "policy_reward_mean": {}, "training_iteration": 20, "episodes_total": 1085, "timesteps_since_restore": 2288377, "timesteps_this_iter": 113801, "episode_reward_min": 644.6684284980125, "experiment_id": "fb490f0e3688480cb8d243e87816e520", "timestamp": 1556375187, "episodes_this_iter": 61, "done": false, "date": "2019-04-27_14-26-27"}
{"time_since_restore": 782.9400947093964, "timesteps_total": 2400877, "custom_metrics": {"outflow_rate_max": 1032.6549189036489, "outflow_rate_mean": 900.0855041998881, "cost2_mean": -10.48364658939087, "cost2_min": -12.567339723553138, "cost1_max": 396.74858801394316, "system_level_velocity_max": 14.926325647060715, "outflow_rate_min": 822.8111368063751, "cost1_min": 243.84116563492537, "cost2_max": -8.04898887225022, "system_level_velocity_mean": 11.263073928747431, "cost1_mean": 302.15318160599827, "system_level_velocity_min": 9.121962994826907}, "time_this_iter_s": 36.615251779556274, "num_metric_batches_dropped": 0, "iterations_since_restore": 21, "node_ip": "10.138.0.2", "info": {"sample_time_ms": 14852.282, "num_steps_trained": 2400877, "load_time_ms": 7.498, "grad_time_ms": 21693.128, "update_time_ms": 10.994, "num_steps_sampled": 2400877, "default": {"entropy": 1.2870599031448364, "vf_explained_var": 0.6249837279319763, "kl": 0.006401639431715012, "policy_loss": -0.0006788221071474254, "cur_lr": 0.0005000000237487257, "vf_loss": 14.599288940429688, "cur_kl_coeff": 0.10000000894069672, "total_loss": 14.599249839782715}}, "pid": 7924, "hostname": "flow-main", "episode_reward_max": 839.9941106394117, "episode_len_mean": 700.0, "episode_reward_mean": 739.129376273473, "config": {"kl_coeff": 0.2, "lambda": 0.97, "vf_share_layers": false, "horizon": 1500, "tf_session_args": {"allow_soft_placement": true, "intra_op_parallelism_threads": 2, "gpu_options": {"allow_growth": true}, "device_count": {"CPU": 1}, "log_device_placement": false, "inter_op_parallelism_threads": 2}, "entropy_coeff": 0.0, "optimizer": {}, "num_gpus_per_worker": 0, "output_compress_columns": ["obs", "new_obs"], "straggler_mitigation": false, "num_sgd_iter": 10, "env_config": {"flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"eta1\": 1.0,\n            \"eta2\": 0.3,\n            \"eta3\": 0.5,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 1.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnvOutFlowRew\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 600,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}", "run": "PPO"}, "num_cpus_per_worker": 1, "num_workers": 60, "num_envs_per_worker": 1, "output": null, "train_batch_size": 90000, "sgd_minibatch_size": 128, "clip_rewards": null, "env": "MultiWaveAttenuationMergePOEnvOutFlowRew-v0_[eta1, eta2, eta3]:[1.0, 5.0, 0.0]_t_min:5.0", "callbacks": {"on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7ff12da87a58>", "on_sample_end": null, "on_train_result": null, "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7ff12da87710>", "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7ff12da877f0>"}, "vf_clip_param": 1000000.0, "input": "sampler", "clip_param": 0.3, "vf_loss_coeff": 1.0, "collect_metrics_timeout": 180, "lr": 0.0005, "num_cpus_for_driver": 1, "input_evaluation": null, "use_gae": true, "monitor": false, "batch_mode": "truncate_episodes", "output_max_file_size": 67108864, "lr_schedule": null, "multiagent": {"policy_graphs": {}, "policy_mapping_fn": null, "policies_to_train": null}, "sample_async": false, "sample_batch_size": 200, "clip_actions": false, "simple_optimizer": false, "custom_resources_per_worker": {}, "kl_target": 0.01, "compress_observations": false, "num_gpus": 0, "synchronize_filters": true, "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "log_level": "INFO", "observation_filter": "NoFilter", "preprocessor_pref": "deepmind", "model": {"lstm_use_prev_action_reward": false, "conv_filters": null, "dim": 84, "custom_options": {}, "fcnet_hiddens": [100, 50, 25], "lstm_cell_size": 256, "framestack": true, "conv_activation": "relu", "squash_to_range": false, "custom_preprocessor": null, "channel_major": false, "grayscale": false, "free_log_std": false, "use_lstm": false, "max_seq_len": 20, "zero_mean": true, "custom_model": null, "fcnet_activation": "tanh"}, "gamma": 0.99}, "time_total_s": 782.9400947093964, "policy_reward_mean": {}, "training_iteration": 21, "episodes_total": 1137, "timesteps_since_restore": 2400877, "timesteps_this_iter": 112500, "episode_reward_min": 644.6684284980125, "experiment_id": "fb490f0e3688480cb8d243e87816e520", "timestamp": 1556375224, "episodes_this_iter": 52, "done": false, "date": "2019-04-27_14-27-04"}
{"time_since_restore": 819.8456726074219, "timesteps_total": 2513735, "custom_metrics": {"outflow_rate_max": 1030.936834365189, "outflow_rate_mean": 886.1498051841353, "cost2_mean": -9.987068789500933, "cost2_min": -11.321401770947645, "cost1_max": 394.1698569961202, "system_level_velocity_max": 14.875292416911483, "outflow_rate_min": 806.9249977160603, "cost1_min": 238.5500938006785, "cost2_max": -8.27135361937206, "system_level_velocity_mean": 11.081466540111187, "cost1_mean": 297.0558103530975, "system_level_velocity_min": 8.797864738441424}, "time_this_iter_s": 36.90557789802551, "num_metric_batches_dropped": 0, "iterations_since_restore": 22, "node_ip": "10.138.0.2", "info": {"sample_time_ms": 14876.44, "num_steps_trained": 2513735, "load_time_ms": 7.528, "grad_time_ms": 21849.175, "update_time_ms": 11.037, "num_steps_sampled": 2513735, "default": {"entropy": 1.2820968627929688, "vf_explained_var": 0.5770341753959656, "kl": 0.006266622804105282, "policy_loss": -0.0004944290267303586, "cur_lr": 0.0005000000237487257, "vf_loss": 18.086467742919922, "cur_kl_coeff": 0.10000001639127731, "total_loss": 18.086599349975586}}, "pid": 7924, "hostname": "flow-main", "episode_reward_max": 831.4942157961093, "episode_len_mean": 700.0, "episode_reward_mean": 725.388321395179, "config": {"kl_coeff": 0.2, "lambda": 0.97, "vf_share_layers": false, "horizon": 1500, "tf_session_args": {"allow_soft_placement": true, "intra_op_parallelism_threads": 2, "gpu_options": {"allow_growth": true}, "device_count": {"CPU": 1}, "log_device_placement": false, "inter_op_parallelism_threads": 2}, "entropy_coeff": 0.0, "optimizer": {}, "num_gpus_per_worker": 0, "output_compress_columns": ["obs", "new_obs"], "straggler_mitigation": false, "num_sgd_iter": 10, "env_config": {"flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"eta1\": 1.0,\n            \"eta2\": 0.3,\n            \"eta3\": 0.5,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 1.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnvOutFlowRew\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 600,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}", "run": "PPO"}, "num_cpus_per_worker": 1, "num_workers": 60, "num_envs_per_worker": 1, "output": null, "train_batch_size": 90000, "sgd_minibatch_size": 128, "clip_rewards": null, "env": "MultiWaveAttenuationMergePOEnvOutFlowRew-v0_[eta1, eta2, eta3]:[1.0, 5.0, 0.0]_t_min:5.0", "callbacks": {"on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7ff12da82cf8>", "on_sample_end": null, "on_train_result": null, "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7ff12da823c8>", "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7ff12da82128>"}, "vf_clip_param": 1000000.0, "input": "sampler", "clip_param": 0.3, "vf_loss_coeff": 1.0, "collect_metrics_timeout": 180, "lr": 0.0005, "num_cpus_for_driver": 1, "input_evaluation": null, "use_gae": true, "monitor": false, "batch_mode": "truncate_episodes", "output_max_file_size": 67108864, "lr_schedule": null, "multiagent": {"policy_graphs": {}, "policy_mapping_fn": null, "policies_to_train": null}, "sample_async": false, "sample_batch_size": 200, "clip_actions": false, "simple_optimizer": false, "custom_resources_per_worker": {}, "kl_target": 0.01, "compress_observations": false, "num_gpus": 0, "synchronize_filters": true, "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "log_level": "INFO", "observation_filter": "NoFilter", "preprocessor_pref": "deepmind", "model": {"lstm_use_prev_action_reward": false, "conv_filters": null, "dim": 84, "custom_options": {}, "fcnet_hiddens": [100, 50, 25], "lstm_cell_size": 256, "framestack": true, "conv_activation": "relu", "squash_to_range": false, "custom_preprocessor": null, "channel_major": false, "grayscale": false, "free_log_std": false, "use_lstm": false, "max_seq_len": 20, "zero_mean": true, "custom_model": null, "fcnet_activation": "tanh"}, "gamma": 0.99}, "time_total_s": 819.8456726074219, "policy_reward_mean": {}, "training_iteration": 22, "episodes_total": 1196, "timesteps_since_restore": 2513735, "timesteps_this_iter": 112858, "episode_reward_min": 651.3454483091357, "experiment_id": "fb490f0e3688480cb8d243e87816e520", "timestamp": 1556375261, "episodes_this_iter": 59, "done": false, "date": "2019-04-27_14-27-41"}
{"time_since_restore": 854.3646132946014, "timesteps_total": 2624892, "custom_metrics": {"outflow_rate_max": 1030.936834365189, "outflow_rate_mean": 884.5517139202284, "cost2_mean": -9.776242498430694, "cost2_min": -11.321401770947645, "cost1_max": 403.58281356351245, "system_level_velocity_max": 15.321115385752085, "outflow_rate_min": 817.6151702027163, "cost1_min": 256.09982041167217, "cost2_max": -8.00651996857812, "system_level_velocity_mean": 11.230258157980685, "cost1_mean": 300.5590311568928, "system_level_velocity_min": 9.560849046835546}, "time_this_iter_s": 34.518940687179565, "num_metric_batches_dropped": 0, "iterations_since_restore": 23, "node_ip": "10.138.0.2", "info": {"sample_time_ms": 14840.477, "num_steps_trained": 2624892, "load_time_ms": 7.529, "grad_time_ms": 21717.138, "update_time_ms": 11.672, "num_steps_sampled": 2624892, "default": {"entropy": 1.2834522724151611, "vf_explained_var": 0.5684853196144104, "kl": 0.006676169577986002, "policy_loss": -0.0007109117577783763, "cur_lr": 0.0005000000237487257, "vf_loss": 18.465734481811523, "cur_kl_coeff": 0.10000000894069672, "total_loss": 18.46569061279297}}, "pid": 7924, "hostname": "flow-main", "episode_reward_max": 832.7274977306251, "episode_len_mean": 700.0, "episode_reward_mean": 721.3597317948397, "config": {"kl_coeff": 0.2, "lambda": 0.97, "vf_share_layers": false, "horizon": 1500, "tf_session_args": {"allow_soft_placement": true, "intra_op_parallelism_threads": 2, "gpu_options": {"allow_growth": true}, "device_count": {"CPU": 1}, "log_device_placement": false, "inter_op_parallelism_threads": 2}, "entropy_coeff": 0.0, "optimizer": {}, "num_gpus_per_worker": 0, "output_compress_columns": ["obs", "new_obs"], "straggler_mitigation": false, "num_sgd_iter": 10, "env_config": {"flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"eta1\": 1.0,\n            \"eta2\": 0.3,\n            \"eta3\": 0.5,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 1.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnvOutFlowRew\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 600,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}", "run": "PPO"}, "num_cpus_per_worker": 1, "num_workers": 60, "num_envs_per_worker": 1, "output": null, "train_batch_size": 90000, "sgd_minibatch_size": 128, "clip_rewards": null, "env": "MultiWaveAttenuationMergePOEnvOutFlowRew-v0_[eta1, eta2, eta3]:[1.0, 5.0, 0.0]_t_min:5.0", "callbacks": {"on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7ff12da87710>", "on_sample_end": null, "on_train_result": null, "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7ff12da87240>", "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7ff12da874a8>"}, "vf_clip_param": 1000000.0, "input": "sampler", "clip_param": 0.3, "vf_loss_coeff": 1.0, "collect_metrics_timeout": 180, "lr": 0.0005, "num_cpus_for_driver": 1, "input_evaluation": null, "use_gae": true, "monitor": false, "batch_mode": "truncate_episodes", "output_max_file_size": 67108864, "lr_schedule": null, "multiagent": {"policy_graphs": {}, "policy_mapping_fn": null, "policies_to_train": null}, "sample_async": false, "sample_batch_size": 200, "clip_actions": false, "simple_optimizer": false, "custom_resources_per_worker": {}, "kl_target": 0.01, "compress_observations": false, "num_gpus": 0, "synchronize_filters": true, "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "log_level": "INFO", "observation_filter": "NoFilter", "preprocessor_pref": "deepmind", "model": {"lstm_use_prev_action_reward": false, "conv_filters": null, "dim": 84, "custom_options": {}, "fcnet_hiddens": [100, 50, 25], "lstm_cell_size": 256, "framestack": true, "conv_activation": "relu", "squash_to_range": false, "custom_preprocessor": null, "channel_major": false, "grayscale": false, "free_log_std": false, "use_lstm": false, "max_seq_len": 20, "zero_mean": true, "custom_model": null, "fcnet_activation": "tanh"}, "gamma": 0.99}, "time_total_s": 854.3646132946014, "policy_reward_mean": {}, "training_iteration": 23, "episodes_total": 1252, "timesteps_since_restore": 2624892, "timesteps_this_iter": 111157, "episode_reward_min": 646.7704157040498, "experiment_id": "fb490f0e3688480cb8d243e87816e520", "timestamp": 1556375295, "episodes_this_iter": 56, "done": false, "date": "2019-04-27_14-28-15"}
{"time_since_restore": 889.0489883422852, "timesteps_total": 2737040, "custom_metrics": {"outflow_rate_max": 1044.2966305652108, "outflow_rate_mean": 891.4618553152956, "cost2_mean": -9.671638029081414, "cost2_min": -11.386714494409675, "cost1_max": 410.7360865101821, "system_level_velocity_max": 15.553945471015691, "outflow_rate_min": 818.2014007929531, "cost1_min": 256.09982041167217, "cost2_max": -7.826649927459341, "system_level_velocity_mean": 11.450602547530181, "cost1_mean": 306.4917836922168, "system_level_velocity_min": 9.560849046835546}, "time_this_iter_s": 34.684375047683716, "num_metric_batches_dropped": 0, "iterations_since_restore": 24, "node_ip": "10.138.0.2", "info": {"sample_time_ms": 14818.596, "num_steps_trained": 2737040, "load_time_ms": 7.579, "grad_time_ms": 21492.768, "update_time_ms": 11.907, "num_steps_sampled": 2737040, "default": {"entropy": 1.2636322975158691, "vf_explained_var": 0.5587496757507324, "kl": 0.006465462036430836, "policy_loss": -0.0007632769411429763, "cur_lr": 0.0005000000237487257, "vf_loss": 19.51115608215332, "cur_kl_coeff": 0.10000001639127731, "total_loss": 19.51104164123535}}, "pid": 7924, "hostname": "flow-main", "episode_reward_max": 864.3612877379882, "episode_len_mean": 700.0, "episode_reward_mean": 734.6932963245033, "config": {"kl_coeff": 0.2, "lambda": 0.97, "vf_share_layers": false, "horizon": 1500, "tf_session_args": {"allow_soft_placement": true, "intra_op_parallelism_threads": 2, "gpu_options": {"allow_growth": true}, "device_count": {"CPU": 1}, "log_device_placement": false, "inter_op_parallelism_threads": 2}, "entropy_coeff": 0.0, "optimizer": {}, "num_gpus_per_worker": 0, "output_compress_columns": ["obs", "new_obs"], "straggler_mitigation": false, "num_sgd_iter": 10, "env_config": {"flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"eta1\": 1.0,\n            \"eta2\": 0.3,\n            \"eta3\": 0.5,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 1.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnvOutFlowRew\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 600,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}", "run": "PPO"}, "num_cpus_per_worker": 1, "num_workers": 60, "num_envs_per_worker": 1, "output": null, "train_batch_size": 90000, "sgd_minibatch_size": 128, "clip_rewards": null, "env": "MultiWaveAttenuationMergePOEnvOutFlowRew-v0_[eta1, eta2, eta3]:[1.0, 5.0, 0.0]_t_min:5.0", "callbacks": {"on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7ff12da82e48>", "on_sample_end": null, "on_train_result": null, "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7ff12da82908>", "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7ff12da82be0>"}, "vf_clip_param": 1000000.0, "input": "sampler", "clip_param": 0.3, "vf_loss_coeff": 1.0, "collect_metrics_timeout": 180, "lr": 0.0005, "num_cpus_for_driver": 1, "input_evaluation": null, "use_gae": true, "monitor": false, "batch_mode": "truncate_episodes", "output_max_file_size": 67108864, "lr_schedule": null, "multiagent": {"policy_graphs": {}, "policy_mapping_fn": null, "policies_to_train": null}, "sample_async": false, "sample_batch_size": 200, "clip_actions": false, "simple_optimizer": false, "custom_resources_per_worker": {}, "kl_target": 0.01, "compress_observations": false, "num_gpus": 0, "synchronize_filters": true, "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "log_level": "INFO", "observation_filter": "NoFilter", "preprocessor_pref": "deepmind", "model": {"lstm_use_prev_action_reward": false, "conv_filters": null, "dim": 84, "custom_options": {}, "fcnet_hiddens": [100, 50, 25], "lstm_cell_size": 256, "framestack": true, "conv_activation": "relu", "squash_to_range": false, "custom_preprocessor": null, "channel_major": false, "grayscale": false, "free_log_std": false, "use_lstm": false, "max_seq_len": 20, "zero_mean": true, "custom_model": null, "fcnet_activation": "tanh"}, "gamma": 0.99}, "time_total_s": 889.0489883422852, "policy_reward_mean": {}, "training_iteration": 24, "episodes_total": 1307, "timesteps_since_restore": 2737040, "timesteps_this_iter": 112148, "episode_reward_min": 647.7059845087742, "experiment_id": "fb490f0e3688480cb8d243e87816e520", "timestamp": 1556375330, "episodes_this_iter": 55, "done": false, "date": "2019-04-27_14-28-50"}
{"time_since_restore": 924.8721451759338, "timesteps_total": 2848198, "custom_metrics": {"outflow_rate_max": 1044.2966305652108, "outflow_rate_mean": 894.1107470771493, "cost2_mean": -9.716644522923858, "cost2_min": -11.386714494409675, "cost1_max": 404.67088619078356, "system_level_velocity_max": 15.335353120937912, "outflow_rate_min": 816.4366861546445, "cost1_min": 257.9062484101242, "cost2_max": -7.6909155321098845, "system_level_velocity_mean": 11.479819775373624, "cost1_mean": 307.20140117642296, "system_level_velocity_min": 9.62147444545589}, "time_this_iter_s": 35.82315683364868, "num_metric_batches_dropped": 0, "iterations_since_restore": 25, "node_ip": "10.138.0.2", "info": {"sample_time_ms": 14800.263, "num_steps_trained": 2848198, "load_time_ms": 7.574, "grad_time_ms": 21287.938, "update_time_ms": 11.831, "num_steps_sampled": 2848198, "default": {"entropy": 1.2425646781921387, "vf_explained_var": 0.5158044695854187, "kl": 0.007309252396225929, "policy_loss": -0.0011944920988753438, "cur_lr": 0.0005000000237487257, "vf_loss": 21.740467071533203, "cur_kl_coeff": 0.10000000894069672, "total_loss": 21.740001678466797}}, "pid": 7924, "hostname": "flow-main", "episode_reward_max": 864.3612877379882, "episode_len_mean": 700.0, "episode_reward_mean": 734.8104869107635, "config": {"kl_coeff": 0.2, "lambda": 0.97, "vf_share_layers": false, "horizon": 1500, "tf_session_args": {"allow_soft_placement": true, "intra_op_parallelism_threads": 2, "gpu_options": {"allow_growth": true}, "device_count": {"CPU": 1}, "log_device_placement": false, "inter_op_parallelism_threads": 2}, "entropy_coeff": 0.0, "optimizer": {}, "num_gpus_per_worker": 0, "output_compress_columns": ["obs", "new_obs"], "straggler_mitigation": false, "num_sgd_iter": 10, "env_config": {"flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"eta1\": 1.0,\n            \"eta2\": 0.3,\n            \"eta3\": 0.5,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 1.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnvOutFlowRew\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 600,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}", "run": "PPO"}, "num_cpus_per_worker": 1, "num_workers": 60, "num_envs_per_worker": 1, "output": null, "train_batch_size": 90000, "sgd_minibatch_size": 128, "clip_rewards": null, "env": "MultiWaveAttenuationMergePOEnvOutFlowRew-v0_[eta1, eta2, eta3]:[1.0, 5.0, 0.0]_t_min:5.0", "callbacks": {"on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7ff12da87d68>", "on_sample_end": null, "on_train_result": null, "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7ff12da877f0>", "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7ff12da879b0>"}, "vf_clip_param": 1000000.0, "input": "sampler", "clip_param": 0.3, "vf_loss_coeff": 1.0, "collect_metrics_timeout": 180, "lr": 0.0005, "num_cpus_for_driver": 1, "input_evaluation": null, "use_gae": true, "monitor": false, "batch_mode": "truncate_episodes", "output_max_file_size": 67108864, "lr_schedule": null, "multiagent": {"policy_graphs": {}, "policy_mapping_fn": null, "policies_to_train": null}, "sample_async": false, "sample_batch_size": 200, "clip_actions": false, "simple_optimizer": false, "custom_resources_per_worker": {}, "kl_target": 0.01, "compress_observations": false, "num_gpus": 0, "synchronize_filters": true, "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "log_level": "INFO", "observation_filter": "NoFilter", "preprocessor_pref": "deepmind", "model": {"lstm_use_prev_action_reward": false, "conv_filters": null, "dim": 84, "custom_options": {}, "fcnet_hiddens": [100, 50, 25], "lstm_cell_size": 256, "framestack": true, "conv_activation": "relu", "squash_to_range": false, "custom_preprocessor": null, "channel_major": false, "grayscale": false, "free_log_std": false, "use_lstm": false, "max_seq_len": 20, "zero_mean": true, "custom_model": null, "fcnet_activation": "tanh"}, "gamma": 0.99}, "time_total_s": 924.8721451759338, "policy_reward_mean": {}, "training_iteration": 25, "episodes_total": 1366, "timesteps_since_restore": 2848198, "timesteps_this_iter": 111158, "episode_reward_min": 640.443419706575, "experiment_id": "fb490f0e3688480cb8d243e87816e520", "timestamp": 1556375366, "episodes_this_iter": 59, "done": false, "date": "2019-04-27_14-29-26"}
{"time_since_restore": 962.38392162323, "timesteps_total": 2958682, "custom_metrics": {"outflow_rate_max": 1046.6746294722136, "outflow_rate_mean": 894.4157212509867, "cost2_mean": -9.543217805382943, "cost2_min": -11.944231473571719, "cost1_max": 409.74683810604256, "system_level_velocity_max": 15.606388772009554, "outflow_rate_min": 816.4366861546445, "cost1_min": 257.9062484101242, "cost2_max": -7.6909155321098845, "system_level_velocity_mean": 11.55480308290093, "cost1_mean": 308.9099346858839, "system_level_velocity_min": 9.62147444545589}, "time_this_iter_s": 37.51177644729614, "num_metric_batches_dropped": 0, "iterations_since_restore": 26, "node_ip": "10.138.0.2", "info": {"sample_time_ms": 14756.922, "num_steps_trained": 2958682, "load_time_ms": 7.922, "grad_time_ms": 21456.944, "update_time_ms": 11.848, "num_steps_sampled": 2958682, "default": {"entropy": 1.2510758638381958, "vf_explained_var": 0.5294762849807739, "kl": 0.00592091865837574, "policy_loss": -0.0005058471579104662, "cur_lr": 0.0005000000237487257, "vf_loss": 21.554588317871094, "cur_kl_coeff": 0.10000002384185791, "total_loss": 21.55467414855957}}, "pid": 7924, "hostname": "flow-main", "episode_reward_max": 826.4620847090597, "episode_len_mean": 700.0, "episode_reward_mean": 727.7287180208598, "config": {"kl_coeff": 0.2, "lambda": 0.97, "vf_share_layers": false, "horizon": 1500, "tf_session_args": {"allow_soft_placement": true, "intra_op_parallelism_threads": 2, "gpu_options": {"allow_growth": true}, "device_count": {"CPU": 1}, "log_device_placement": false, "inter_op_parallelism_threads": 2}, "entropy_coeff": 0.0, "optimizer": {}, "num_gpus_per_worker": 0, "output_compress_columns": ["obs", "new_obs"], "straggler_mitigation": false, "num_sgd_iter": 10, "env_config": {"flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"eta1\": 1.0,\n            \"eta2\": 0.3,\n            \"eta3\": 0.5,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 1.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnvOutFlowRew\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 600,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}", "run": "PPO"}, "num_cpus_per_worker": 1, "num_workers": 60, "num_envs_per_worker": 1, "output": null, "train_batch_size": 90000, "sgd_minibatch_size": 128, "clip_rewards": null, "env": "MultiWaveAttenuationMergePOEnvOutFlowRew-v0_[eta1, eta2, eta3]:[1.0, 5.0, 0.0]_t_min:5.0", "callbacks": {"on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7ff12da82278>", "on_sample_end": null, "on_train_result": null, "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7ff12da82eb8>", "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7ff12daa9630>"}, "vf_clip_param": 1000000.0, "input": "sampler", "clip_param": 0.3, "vf_loss_coeff": 1.0, "collect_metrics_timeout": 180, "lr": 0.0005, "num_cpus_for_driver": 1, "input_evaluation": null, "use_gae": true, "monitor": false, "batch_mode": "truncate_episodes", "output_max_file_size": 67108864, "lr_schedule": null, "multiagent": {"policy_graphs": {}, "policy_mapping_fn": null, "policies_to_train": null}, "sample_async": false, "sample_batch_size": 200, "clip_actions": false, "simple_optimizer": false, "custom_resources_per_worker": {}, "kl_target": 0.01, "compress_observations": false, "num_gpus": 0, "synchronize_filters": true, "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "log_level": "INFO", "observation_filter": "NoFilter", "preprocessor_pref": "deepmind", "model": {"lstm_use_prev_action_reward": false, "conv_filters": null, "dim": 84, "custom_options": {}, "fcnet_hiddens": [100, 50, 25], "lstm_cell_size": 256, "framestack": true, "conv_activation": "relu", "squash_to_range": false, "custom_preprocessor": null, "channel_major": false, "grayscale": false, "free_log_std": false, "use_lstm": false, "max_seq_len": 20, "zero_mean": true, "custom_model": null, "fcnet_activation": "tanh"}, "gamma": 0.99}, "time_total_s": 962.38392162323, "policy_reward_mean": {}, "training_iteration": 26, "episodes_total": 1424, "timesteps_since_restore": 2958682, "timesteps_this_iter": 110484, "episode_reward_min": 626.7331093014183, "experiment_id": "fb490f0e3688480cb8d243e87816e520", "timestamp": 1556375403, "episodes_this_iter": 58, "done": false, "date": "2019-04-27_14-30-03"}
{"time_since_restore": 998.3840720653534, "timesteps_total": 3069387, "custom_metrics": {"outflow_rate_max": 1046.6746294722136, "outflow_rate_mean": 896.6823320661651, "cost2_mean": -9.50199318364469, "cost2_min": -12.174949734385105, "cost1_max": 409.74683810604256, "system_level_velocity_max": 15.606388772009554, "outflow_rate_min": 817.1180198782971, "cost1_min": 264.43528525232625, "cost2_max": -7.797142039680914, "system_level_velocity_mean": 11.621042227731735, "cost1_mean": 311.1949761584242, "system_level_velocity_min": 9.901367905983506}, "time_this_iter_s": 36.00015044212341, "num_metric_batches_dropped": 0, "iterations_since_restore": 27, "node_ip": "10.138.0.2", "info": {"sample_time_ms": 14755.922, "num_steps_trained": 3069387, "load_time_ms": 7.866, "grad_time_ms": 21365.472, "update_time_ms": 11.851, "num_steps_sampled": 3069387, "default": {"entropy": 1.2452309131622314, "vf_explained_var": 0.4632856547832489, "kl": 0.0077271065674722195, "policy_loss": -0.0014477702789008617, "cur_lr": 0.0005000000237487257, "vf_loss": 22.358375549316406, "cur_kl_coeff": 0.10000000894069672, "total_loss": 22.35770034790039}}, "pid": 7924, "hostname": "flow-main", "episode_reward_max": 835.9966310911611, "episode_len_mean": 700.0, "episode_reward_mean": 732.872286725995, "config": {"kl_coeff": 0.2, "lambda": 0.97, "vf_share_layers": false, "horizon": 1500, "tf_session_args": {"allow_soft_placement": true, "intra_op_parallelism_threads": 2, "gpu_options": {"allow_growth": true}, "device_count": {"CPU": 1}, "log_device_placement": false, "inter_op_parallelism_threads": 2}, "entropy_coeff": 0.0, "optimizer": {}, "num_gpus_per_worker": 0, "output_compress_columns": ["obs", "new_obs"], "straggler_mitigation": false, "num_sgd_iter": 10, "env_config": {"flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"eta1\": 1.0,\n            \"eta2\": 0.3,\n            \"eta3\": 0.5,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 1.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnvOutFlowRew\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 600,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}", "run": "PPO"}, "num_cpus_per_worker": 1, "num_workers": 60, "num_envs_per_worker": 1, "output": null, "train_batch_size": 90000, "sgd_minibatch_size": 128, "clip_rewards": null, "env": "MultiWaveAttenuationMergePOEnvOutFlowRew-v0_[eta1, eta2, eta3]:[1.0, 5.0, 0.0]_t_min:5.0", "callbacks": {"on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7ff12da8c5f8>", "on_sample_end": null, "on_train_result": null, "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7ff12da8ccf8>", "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7ff12da8c470>"}, "vf_clip_param": 1000000.0, "input": "sampler", "clip_param": 0.3, "vf_loss_coeff": 1.0, "collect_metrics_timeout": 180, "lr": 0.0005, "num_cpus_for_driver": 1, "input_evaluation": null, "use_gae": true, "monitor": false, "batch_mode": "truncate_episodes", "output_max_file_size": 67108864, "lr_schedule": null, "multiagent": {"policy_graphs": {}, "policy_mapping_fn": null, "policies_to_train": null}, "sample_async": false, "sample_batch_size": 200, "clip_actions": false, "simple_optimizer": false, "custom_resources_per_worker": {}, "kl_target": 0.01, "compress_observations": false, "num_gpus": 0, "synchronize_filters": true, "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "log_level": "INFO", "observation_filter": "NoFilter", "preprocessor_pref": "deepmind", "model": {"lstm_use_prev_action_reward": false, "conv_filters": null, "dim": 84, "custom_options": {}, "fcnet_hiddens": [100, 50, 25], "lstm_cell_size": 256, "framestack": true, "conv_activation": "relu", "squash_to_range": false, "custom_preprocessor": null, "channel_major": false, "grayscale": false, "free_log_std": false, "use_lstm": false, "max_seq_len": 20, "zero_mean": true, "custom_model": null, "fcnet_activation": "tanh"}, "gamma": 0.99}, "time_total_s": 998.3840720653534, "policy_reward_mean": {}, "training_iteration": 27, "episodes_total": 1483, "timesteps_since_restore": 3069387, "timesteps_this_iter": 110705, "episode_reward_min": 626.7331093014183, "experiment_id": "fb490f0e3688480cb8d243e87816e520", "timestamp": 1556375440, "episodes_this_iter": 59, "done": false, "date": "2019-04-27_14-30-40"}
{"time_since_restore": 1033.9952907562256, "timesteps_total": 3180423, "custom_metrics": {"outflow_rate_max": 1038.6199135165139, "outflow_rate_mean": 900.8978735726049, "cost2_mean": -9.481011563605112, "cost2_min": -13.0236559626, "cost1_max": 398.2258704990963, "system_level_velocity_max": 15.155290545102087, "outflow_rate_min": 787.1502913186546, "cost1_min": 166.61762904532148, "cost2_max": -7.543047256470466, "system_level_velocity_mean": 11.66836320836138, "cost1_mean": 310.93874328722404, "system_level_velocity_min": 9.701429040351723}, "time_this_iter_s": 35.61121869087219, "num_metric_batches_dropped": 0, "iterations_since_restore": 28, "node_ip": "10.138.0.2", "info": {"sample_time_ms": 14616.517, "num_steps_trained": 3180423, "load_time_ms": 7.961, "grad_time_ms": 21238.149, "update_time_ms": 11.596, "num_steps_sampled": 3180423, "default": {"entropy": 1.234731674194336, "vf_explained_var": 0.5275788903236389, "kl": 0.006607230752706528, "policy_loss": -0.0007581121171824634, "cur_lr": 0.0005000000237487257, "vf_loss": 19.982025146484375, "cur_kl_coeff": 0.10000001639127731, "total_loss": 19.98192596435547}}, "pid": 7924, "hostname": "flow-main", "episode_reward_max": 826.1748155703475, "episode_len_mean": 695.97, "episode_reward_mean": 735.6890328662776, "config": {"kl_coeff": 0.2, "lambda": 0.97, "vf_share_layers": false, "horizon": 1500, "tf_session_args": {"allow_soft_placement": true, "intra_op_parallelism_threads": 2, "gpu_options": {"allow_growth": true}, "device_count": {"CPU": 1}, "log_device_placement": false, "inter_op_parallelism_threads": 2}, "entropy_coeff": 0.0, "optimizer": {}, "num_gpus_per_worker": 0, "output_compress_columns": ["obs", "new_obs"], "straggler_mitigation": false, "num_sgd_iter": 10, "env_config": {"flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"eta1\": 1.0,\n            \"eta2\": 0.3,\n            \"eta3\": 0.5,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 1.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnvOutFlowRew\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 600,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}", "run": "PPO"}, "num_cpus_per_worker": 1, "num_workers": 60, "num_envs_per_worker": 1, "output": null, "train_batch_size": 90000, "sgd_minibatch_size": 128, "clip_rewards": null, "env": "MultiWaveAttenuationMergePOEnvOutFlowRew-v0_[eta1, eta2, eta3]:[1.0, 5.0, 0.0]_t_min:5.0", "callbacks": {"on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7ff12da82278>", "on_sample_end": null, "on_train_result": null, "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7ff12da82eb8>", "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7ff12da82ac8>"}, "vf_clip_param": 1000000.0, "input": "sampler", "clip_param": 0.3, "vf_loss_coeff": 1.0, "collect_metrics_timeout": 180, "lr": 0.0005, "num_cpus_for_driver": 1, "input_evaluation": null, "use_gae": true, "monitor": false, "batch_mode": "truncate_episodes", "output_max_file_size": 67108864, "lr_schedule": null, "multiagent": {"policy_graphs": {}, "policy_mapping_fn": null, "policies_to_train": null}, "sample_async": false, "sample_batch_size": 200, "clip_actions": false, "simple_optimizer": false, "custom_resources_per_worker": {}, "kl_target": 0.01, "compress_observations": false, "num_gpus": 0, "synchronize_filters": true, "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "log_level": "INFO", "observation_filter": "NoFilter", "preprocessor_pref": "deepmind", "model": {"lstm_use_prev_action_reward": false, "conv_filters": null, "dim": 84, "custom_options": {}, "fcnet_hiddens": [100, 50, 25], "lstm_cell_size": 256, "framestack": true, "conv_activation": "relu", "squash_to_range": false, "custom_preprocessor": null, "channel_major": false, "grayscale": false, "free_log_std": false, "use_lstm": false, "max_seq_len": 20, "zero_mean": true, "custom_model": null, "fcnet_activation": "tanh"}, "gamma": 0.99}, "time_total_s": 1033.9952907562256, "policy_reward_mean": {}, "training_iteration": 28, "episodes_total": 1534, "timesteps_since_restore": 3180423, "timesteps_this_iter": 111036, "episode_reward_min": 353.8535190302259, "experiment_id": "fb490f0e3688480cb8d243e87816e520", "timestamp": 1556375475, "episodes_this_iter": 51, "done": false, "date": "2019-04-27_14-31-15"}
{"time_since_restore": 1071.1785008907318, "timesteps_total": 3293872, "custom_metrics": {"outflow_rate_max": 1048.4681807502272, "outflow_rate_mean": 900.5940356058621, "cost2_mean": -9.82262826711484, "cost2_min": -13.527185371143709, "cost1_max": 408.039149112049, "system_level_velocity_max": 15.590890356225412, "outflow_rate_min": 787.1502913186546, "cost1_min": 166.61762904532148, "cost2_max": -7.161214500110141, "system_level_velocity_mean": 11.518355888115629, "cost1_mean": 306.37388116033014, "system_level_velocity_min": 9.701429040351723}, "time_this_iter_s": 37.183210134506226, "num_metric_batches_dropped": 0, "iterations_since_restore": 29, "node_ip": "10.138.0.2", "info": {"sample_time_ms": 14606.824, "num_steps_trained": 3293872, "load_time_ms": 7.941, "grad_time_ms": 21332.338, "update_time_ms": 11.497, "num_steps_sampled": 3293872, "default": {"entropy": 1.2160598039627075, "vf_explained_var": 0.524892270565033, "kl": 0.008059950545430183, "policy_loss": -0.0009390948689542711, "cur_lr": 0.0005000000237487257, "vf_loss": 22.147207260131836, "cur_kl_coeff": 0.10000001639127731, "total_loss": 22.147075653076172}}, "pid": 7924, "hostname": "flow-main", "episode_reward_max": 839.7572754188183, "episode_len_mean": 695.97, "episode_reward_mean": 730.0620506975666, "config": {"kl_coeff": 0.2, "lambda": 0.97, "vf_share_layers": false, "horizon": 1500, "tf_session_args": {"allow_soft_placement": true, "intra_op_parallelism_threads": 2, "gpu_options": {"allow_growth": true}, "device_count": {"CPU": 1}, "log_device_placement": false, "inter_op_parallelism_threads": 2}, "entropy_coeff": 0.0, "optimizer": {}, "num_gpus_per_worker": 0, "output_compress_columns": ["obs", "new_obs"], "straggler_mitigation": false, "num_sgd_iter": 10, "env_config": {"flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"eta1\": 1.0,\n            \"eta2\": 0.3,\n            \"eta3\": 0.5,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 1.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnvOutFlowRew\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 600,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}", "run": "PPO"}, "num_cpus_per_worker": 1, "num_workers": 60, "num_envs_per_worker": 1, "output": null, "train_batch_size": 90000, "sgd_minibatch_size": 128, "clip_rewards": null, "env": "MultiWaveAttenuationMergePOEnvOutFlowRew-v0_[eta1, eta2, eta3]:[1.0, 5.0, 0.0]_t_min:5.0", "callbacks": {"on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7ff12da8ccf8>", "on_sample_end": null, "on_train_result": null, "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7ff12da8c4a8>", "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7ff12da8ceb8>"}, "vf_clip_param": 1000000.0, "input": "sampler", "clip_param": 0.3, "vf_loss_coeff": 1.0, "collect_metrics_timeout": 180, "lr": 0.0005, "num_cpus_for_driver": 1, "input_evaluation": null, "use_gae": true, "monitor": false, "batch_mode": "truncate_episodes", "output_max_file_size": 67108864, "lr_schedule": null, "multiagent": {"policy_graphs": {}, "policy_mapping_fn": null, "policies_to_train": null}, "sample_async": false, "sample_batch_size": 200, "clip_actions": false, "simple_optimizer": false, "custom_resources_per_worker": {}, "kl_target": 0.01, "compress_observations": false, "num_gpus": 0, "synchronize_filters": true, "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "log_level": "INFO", "observation_filter": "NoFilter", "preprocessor_pref": "deepmind", "model": {"lstm_use_prev_action_reward": false, "conv_filters": null, "dim": 84, "custom_options": {}, "fcnet_hiddens": [100, 50, 25], "lstm_cell_size": 256, "framestack": true, "conv_activation": "relu", "squash_to_range": false, "custom_preprocessor": null, "channel_major": false, "grayscale": false, "free_log_std": false, "use_lstm": false, "max_seq_len": 20, "zero_mean": true, "custom_model": null, "fcnet_activation": "tanh"}, "gamma": 0.99}, "time_total_s": 1071.1785008907318, "policy_reward_mean": {}, "training_iteration": 29, "episodes_total": 1590, "timesteps_since_restore": 3293872, "timesteps_this_iter": 113449, "episode_reward_min": 353.8535190302259, "experiment_id": "fb490f0e3688480cb8d243e87816e520", "timestamp": 1556375512, "episodes_this_iter": 56, "done": false, "date": "2019-04-27_14-31-52"}
{"time_since_restore": 1108.787518978119, "timesteps_total": 3407990, "custom_metrics": {"outflow_rate_max": 1048.4681807502272, "outflow_rate_mean": 909.6518853218581, "cost2_mean": -10.372302323755898, "cost2_min": -14.536521560503278, "cost1_max": 408.039149112049, "system_level_velocity_max": 15.590890356225412, "outflow_rate_min": 812.6934390616063, "cost1_min": 246.30763890242883, "cost2_max": -7.161214500110141, "system_level_velocity_mean": 11.531866473763039, "cost1_mean": 308.33542232299055, "system_level_velocity_min": 9.170203199476473}, "time_this_iter_s": 37.609018087387085, "num_metric_batches_dropped": 0, "iterations_since_restore": 30, "node_ip": "10.138.0.2", "info": {"sample_time_ms": 14592.826, "num_steps_trained": 3407990, "load_time_ms": 8.045, "grad_time_ms": 21421.169, "update_time_ms": 11.542, "num_steps_sampled": 3407990, "default": {"entropy": 1.2192851305007935, "vf_explained_var": 0.5867071747779846, "kl": 0.007423906121402979, "policy_loss": -0.0013824233319610357, "cur_lr": 0.0005000000237487257, "vf_loss": 21.450666427612305, "cur_kl_coeff": 0.10000001639127731, "total_loss": 21.45002555847168}}, "pid": 7924, "hostname": "flow-main", "episode_reward_max": 850.5828207038369, "episode_len_mean": 700.0, "episode_reward_mean": 736.1739077293456, "config": {"kl_coeff": 0.2, "lambda": 0.97, "vf_share_layers": false, "horizon": 1500, "tf_session_args": {"allow_soft_placement": true, "intra_op_parallelism_threads": 2, "gpu_options": {"allow_growth": true}, "device_count": {"CPU": 1}, "log_device_placement": false, "inter_op_parallelism_threads": 2}, "entropy_coeff": 0.0, "optimizer": {}, "num_gpus_per_worker": 0, "output_compress_columns": ["obs", "new_obs"], "straggler_mitigation": false, "num_sgd_iter": 10, "env_config": {"flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"eta1\": 1.0,\n            \"eta2\": 0.3,\n            \"eta3\": 0.5,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 1.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnvOutFlowRew\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 600,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}", "run": "PPO"}, "num_cpus_per_worker": 1, "num_workers": 60, "num_envs_per_worker": 1, "output": null, "train_batch_size": 90000, "sgd_minibatch_size": 128, "clip_rewards": null, "env": "MultiWaveAttenuationMergePOEnvOutFlowRew-v0_[eta1, eta2, eta3]:[1.0, 5.0, 0.0]_t_min:5.0", "callbacks": {"on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7ff12da82d30>", "on_sample_end": null, "on_train_result": null, "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7ff12da82908>", "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7ff12da82518>"}, "vf_clip_param": 1000000.0, "input": "sampler", "clip_param": 0.3, "vf_loss_coeff": 1.0, "collect_metrics_timeout": 180, "lr": 0.0005, "num_cpus_for_driver": 1, "input_evaluation": null, "use_gae": true, "monitor": false, "batch_mode": "truncate_episodes", "output_max_file_size": 67108864, "lr_schedule": null, "multiagent": {"policy_graphs": {}, "policy_mapping_fn": null, "policies_to_train": null}, "sample_async": false, "sample_batch_size": 200, "clip_actions": false, "simple_optimizer": false, "custom_resources_per_worker": {}, "kl_target": 0.01, "compress_observations": false, "num_gpus": 0, "synchronize_filters": true, "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "log_level": "INFO", "observation_filter": "NoFilter", "preprocessor_pref": "deepmind", "model": {"lstm_use_prev_action_reward": false, "conv_filters": null, "dim": 84, "custom_options": {}, "fcnet_hiddens": [100, 50, 25], "lstm_cell_size": 256, "framestack": true, "conv_activation": "relu", "squash_to_range": false, "custom_preprocessor": null, "channel_major": false, "grayscale": false, "free_log_std": false, "use_lstm": false, "max_seq_len": 20, "zero_mean": true, "custom_model": null, "fcnet_activation": "tanh"}, "gamma": 0.99}, "time_total_s": 1108.787518978119, "policy_reward_mean": {}, "training_iteration": 30, "episodes_total": 1640, "timesteps_since_restore": 3407990, "timesteps_this_iter": 114118, "episode_reward_min": 630.5155578437855, "experiment_id": "fb490f0e3688480cb8d243e87816e520", "timestamp": 1556375550, "episodes_this_iter": 50, "done": false, "date": "2019-04-27_14-32-30"}
{"time_since_restore": 1145.3310706615448, "timesteps_total": 3522544, "custom_metrics": {"outflow_rate_max": 1072.875940883354, "outflow_rate_mean": 921.6678353723659, "cost2_mean": -10.619241926623895, "cost2_min": -14.536521560503278, "cost1_max": 418.1868364852779, "system_level_velocity_max": 16.186531478252455, "outflow_rate_min": 812.6934390616063, "cost1_min": 246.30763890242883, "cost2_max": -7.2143769088070036, "system_level_velocity_mean": 11.626911911238299, "cost1_mean": 310.7810104199151, "system_level_velocity_min": 9.170203199476473}, "time_this_iter_s": 36.5435516834259, "num_metric_batches_dropped": 0, "iterations_since_restore": 31, "node_ip": "10.138.0.2", "info": {"sample_time_ms": 14630.612, "num_steps_trained": 3522544, "load_time_ms": 8.013, "grad_time_ms": 21375.947, "update_time_ms": 11.538, "num_steps_sampled": 3522544, "default": {"entropy": 1.225356101989746, "vf_explained_var": 0.6092430949211121, "kl": 0.006761242635548115, "policy_loss": -0.000913414522074163, "cur_lr": 0.0005000000237487257, "vf_loss": 21.334228515625, "cur_kl_coeff": 0.10000001639127731, "total_loss": 21.333988189697266}}, "pid": 7924, "hostname": "flow-main", "episode_reward_max": 856.989915687643, "episode_len_mean": 700.0, "episode_reward_mean": 739.6374294297588, "config": {"kl_coeff": 0.2, "lambda": 0.97, "vf_share_layers": false, "horizon": 1500, "tf_session_args": {"allow_soft_placement": true, "intra_op_parallelism_threads": 2, "gpu_options": {"allow_growth": true}, "device_count": {"CPU": 1}, "log_device_placement": false, "inter_op_parallelism_threads": 2}, "entropy_coeff": 0.0, "optimizer": {}, "num_gpus_per_worker": 0, "output_compress_columns": ["obs", "new_obs"], "straggler_mitigation": false, "num_sgd_iter": 10, "env_config": {"flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"eta1\": 1.0,\n            \"eta2\": 0.3,\n            \"eta3\": 0.5,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 1.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnvOutFlowRew\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 600,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}", "run": "PPO"}, "num_cpus_per_worker": 1, "num_workers": 60, "num_envs_per_worker": 1, "output": null, "train_batch_size": 90000, "sgd_minibatch_size": 128, "clip_rewards": null, "env": "MultiWaveAttenuationMergePOEnvOutFlowRew-v0_[eta1, eta2, eta3]:[1.0, 5.0, 0.0]_t_min:5.0", "callbacks": {"on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7ff12da8c080>", "on_sample_end": null, "on_train_result": null, "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7ff12da8c4a8>", "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7ff12da8cbe0>"}, "vf_clip_param": 1000000.0, "input": "sampler", "clip_param": 0.3, "vf_loss_coeff": 1.0, "collect_metrics_timeout": 180, "lr": 0.0005, "num_cpus_for_driver": 1, "input_evaluation": null, "use_gae": true, "monitor": false, "batch_mode": "truncate_episodes", "output_max_file_size": 67108864, "lr_schedule": null, "multiagent": {"policy_graphs": {}, "policy_mapping_fn": null, "policies_to_train": null}, "sample_async": false, "sample_batch_size": 200, "clip_actions": false, "simple_optimizer": false, "custom_resources_per_worker": {}, "kl_target": 0.01, "compress_observations": false, "num_gpus": 0, "synchronize_filters": true, "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "log_level": "INFO", "observation_filter": "NoFilter", "preprocessor_pref": "deepmind", "model": {"lstm_use_prev_action_reward": false, "conv_filters": null, "dim": 84, "custom_options": {}, "fcnet_hiddens": [100, 50, 25], "lstm_cell_size": 256, "framestack": true, "conv_activation": "relu", "squash_to_range": false, "custom_preprocessor": null, "channel_major": false, "grayscale": false, "free_log_std": false, "use_lstm": false, "max_seq_len": 20, "zero_mean": true, "custom_model": null, "fcnet_activation": "tanh"}, "gamma": 0.99}, "time_total_s": 1145.3310706615448, "policy_reward_mean": {}, "training_iteration": 31, "episodes_total": 1695, "timesteps_since_restore": 3522544, "timesteps_this_iter": 114554, "episode_reward_min": 630.7672054459952, "experiment_id": "fb490f0e3688480cb8d243e87816e520", "timestamp": 1556375587, "episodes_this_iter": 55, "done": false, "date": "2019-04-27_14-33-07"}
{"time_since_restore": 1183.026803970337, "timesteps_total": 3635328, "custom_metrics": {"outflow_rate_max": 1060.9192706838528, "outflow_rate_mean": 909.4415060482056, "cost2_mean": -10.073865932997943, "cost2_min": -13.305760108496749, "cost1_max": 409.93618088884557, "system_level_velocity_max": 15.691029359780494, "outflow_rate_min": 831.3723068403583, "cost1_min": 250.8662019778763, "cost2_max": -7.178612212934846, "system_level_velocity_mean": 11.32066221644556, "cost1_mean": 302.44803185936644, "system_level_velocity_min": 9.405256509403848}, "time_this_iter_s": 37.695733308792114, "num_metric_batches_dropped": 0, "iterations_since_restore": 32, "node_ip": "10.138.0.2", "info": {"sample_time_ms": 14624.271, "num_steps_trained": 3635328, "load_time_ms": 7.853, "grad_time_ms": 21461.389, "update_time_ms": 11.593, "num_steps_sampled": 3635328, "default": {"entropy": 1.2057626247406006, "vf_explained_var": 0.6391873955726624, "kl": 0.0076166498474776745, "policy_loss": -0.0010912357829511166, "cur_lr": 0.0005000000237487257, "vf_loss": 21.72125244140625, "cur_kl_coeff": 0.10000001639127731, "total_loss": 21.720922470092773}}, "pid": 7924, "hostname": "flow-main", "episode_reward_max": 866.9477851119414, "episode_len_mean": 700.0, "episode_reward_mean": 732.7161258791793, "config": {"kl_coeff": 0.2, "lambda": 0.97, "vf_share_layers": false, "horizon": 1500, "tf_session_args": {"allow_soft_placement": true, "intra_op_parallelism_threads": 2, "gpu_options": {"allow_growth": true}, "device_count": {"CPU": 1}, "log_device_placement": false, "inter_op_parallelism_threads": 2}, "entropy_coeff": 0.0, "optimizer": {}, "num_gpus_per_worker": 0, "output_compress_columns": ["obs", "new_obs"], "straggler_mitigation": false, "num_sgd_iter": 10, "env_config": {"flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"eta1\": 1.0,\n            \"eta2\": 0.3,\n            \"eta3\": 0.5,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 1.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnvOutFlowRew\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 600,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}", "run": "PPO"}, "num_cpus_per_worker": 1, "num_workers": 60, "num_envs_per_worker": 1, "output": null, "train_batch_size": 90000, "sgd_minibatch_size": 128, "clip_rewards": null, "env": "MultiWaveAttenuationMergePOEnvOutFlowRew-v0_[eta1, eta2, eta3]:[1.0, 5.0, 0.0]_t_min:5.0", "callbacks": {"on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7ff12da762e8>", "on_sample_end": null, "on_train_result": null, "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7ff12da76940>", "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7ff12da761d0>"}, "vf_clip_param": 1000000.0, "input": "sampler", "clip_param": 0.3, "vf_loss_coeff": 1.0, "collect_metrics_timeout": 180, "lr": 0.0005, "num_cpus_for_driver": 1, "input_evaluation": null, "use_gae": true, "monitor": false, "batch_mode": "truncate_episodes", "output_max_file_size": 67108864, "lr_schedule": null, "multiagent": {"policy_graphs": {}, "policy_mapping_fn": null, "policies_to_train": null}, "sample_async": false, "sample_batch_size": 200, "clip_actions": false, "simple_optimizer": false, "custom_resources_per_worker": {}, "kl_target": 0.01, "compress_observations": false, "num_gpus": 0, "synchronize_filters": true, "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "log_level": "INFO", "observation_filter": "NoFilter", "preprocessor_pref": "deepmind", "model": {"lstm_use_prev_action_reward": false, "conv_filters": null, "dim": 84, "custom_options": {}, "fcnet_hiddens": [100, 50, 25], "lstm_cell_size": 256, "framestack": true, "conv_activation": "relu", "squash_to_range": false, "custom_preprocessor": null, "channel_major": false, "grayscale": false, "free_log_std": false, "use_lstm": false, "max_seq_len": 20, "zero_mean": true, "custom_model": null, "fcnet_activation": "tanh"}, "gamma": 0.99}, "time_total_s": 1183.026803970337, "policy_reward_mean": {}, "training_iteration": 32, "episodes_total": 1751, "timesteps_since_restore": 3635328, "timesteps_this_iter": 112784, "episode_reward_min": 635.31752774518, "experiment_id": "fb490f0e3688480cb8d243e87816e520", "timestamp": 1556375624, "episodes_this_iter": 56, "done": false, "date": "2019-04-27_14-33-44"}
{"time_since_restore": 1218.7565405368805, "timesteps_total": 3748610, "custom_metrics": {"outflow_rate_max": 1069.3790727648138, "outflow_rate_mean": 905.8533921850405, "cost2_mean": -9.668595090065047, "cost2_min": -13.305760108496749, "cost1_max": 419.22824835609026, "system_level_velocity_max": 16.03618383817979, "outflow_rate_min": 818.341142079108, "cost1_min": 249.00827034015842, "cost2_max": -7.178612212934846, "system_level_velocity_mean": 11.252974394357306, "cost1_mean": 300.2636197185218, "system_level_velocity_min": 9.349727245017908}, "time_this_iter_s": 35.72973656654358, "num_metric_batches_dropped": 0, "iterations_since_restore": 33, "node_ip": "10.138.0.2", "info": {"sample_time_ms": 14639.161, "num_steps_trained": 3748610, "load_time_ms": 7.657, "grad_time_ms": 21568.164, "update_time_ms": 10.975, "num_steps_sampled": 3748610, "default": {"entropy": 1.2027450799942017, "vf_explained_var": 0.6300727725028992, "kl": 0.006513322237879038, "policy_loss": -0.0006792981876060367, "cur_lr": 0.0005000000237487257, "vf_loss": 21.877883911132812, "cur_kl_coeff": 0.10000001639127731, "total_loss": 21.87785530090332}}, "pid": 7924, "hostname": "flow-main", "episode_reward_max": 869.4526881556965, "episode_len_mean": 700.0, "episode_reward_mean": 737.6367210684487, "config": {"kl_coeff": 0.2, "lambda": 0.97, "vf_share_layers": false, "horizon": 1500, "tf_session_args": {"allow_soft_placement": true, "intra_op_parallelism_threads": 2, "gpu_options": {"allow_growth": true}, "device_count": {"CPU": 1}, "log_device_placement": false, "inter_op_parallelism_threads": 2}, "entropy_coeff": 0.0, "optimizer": {}, "num_gpus_per_worker": 0, "output_compress_columns": ["obs", "new_obs"], "straggler_mitigation": false, "num_sgd_iter": 10, "env_config": {"flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"eta1\": 1.0,\n            \"eta2\": 0.3,\n            \"eta3\": 0.5,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 1.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnvOutFlowRew\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 600,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}", "run": "PPO"}, "num_cpus_per_worker": 1, "num_workers": 60, "num_envs_per_worker": 1, "output": null, "train_batch_size": 90000, "sgd_minibatch_size": 128, "clip_rewards": null, "env": "MultiWaveAttenuationMergePOEnvOutFlowRew-v0_[eta1, eta2, eta3]:[1.0, 5.0, 0.0]_t_min:5.0", "callbacks": {"on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7ff12da8c390>", "on_sample_end": null, "on_train_result": null, "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7ff12da8c9b0>", "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7ff12da8c5f8>"}, "vf_clip_param": 1000000.0, "input": "sampler", "clip_param": 0.3, "vf_loss_coeff": 1.0, "collect_metrics_timeout": 180, "lr": 0.0005, "num_cpus_for_driver": 1, "input_evaluation": null, "use_gae": true, "monitor": false, "batch_mode": "truncate_episodes", "output_max_file_size": 67108864, "lr_schedule": null, "multiagent": {"policy_graphs": {}, "policy_mapping_fn": null, "policies_to_train": null}, "sample_async": false, "sample_batch_size": 200, "clip_actions": false, "simple_optimizer": false, "custom_resources_per_worker": {}, "kl_target": 0.01, "compress_observations": false, "num_gpus": 0, "synchronize_filters": true, "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "log_level": "INFO", "observation_filter": "NoFilter", "preprocessor_pref": "deepmind", "model": {"lstm_use_prev_action_reward": false, "conv_filters": null, "dim": 84, "custom_options": {}, "fcnet_hiddens": [100, 50, 25], "lstm_cell_size": 256, "framestack": true, "conv_activation": "relu", "squash_to_range": false, "custom_preprocessor": null, "channel_major": false, "grayscale": false, "free_log_std": false, "use_lstm": false, "max_seq_len": 20, "zero_mean": true, "custom_model": null, "fcnet_activation": "tanh"}, "gamma": 0.99}, "time_total_s": 1218.7565405368805, "policy_reward_mean": {}, "training_iteration": 33, "episodes_total": 1804, "timesteps_since_restore": 3748610, "timesteps_this_iter": 113282, "episode_reward_min": 635.31752774518, "experiment_id": "fb490f0e3688480cb8d243e87816e520", "timestamp": 1556375660, "episodes_this_iter": 53, "done": false, "date": "2019-04-27_14-34-20"}
{"time_since_restore": 1254.4150485992432, "timesteps_total": 3863714, "custom_metrics": {"outflow_rate_max": 1069.3790727648138, "outflow_rate_mean": 907.4774609973911, "cost2_mean": -9.829588537734343, "cost2_min": -12.78294583970117, "cost1_max": 419.22824835609026, "system_level_velocity_max": 16.03618383817979, "outflow_rate_min": 818.341142079108, "cost1_min": 245.25093402080412, "cost2_max": -8.472266277786227, "system_level_velocity_mean": 11.14099183944097, "cost1_mean": 297.55920247008737, "system_level_velocity_min": 9.18755252275371}, "time_this_iter_s": 35.65850806236267, "num_metric_batches_dropped": 0, "iterations_since_restore": 34, "node_ip": "10.138.0.2", "info": {"sample_time_ms": 14632.79, "num_steps_trained": 3863714, "load_time_ms": 7.638, "grad_time_ms": 21671.328, "update_time_ms": 10.933, "num_steps_sampled": 3863714, "default": {"entropy": 1.1979053020477295, "vf_explained_var": 0.6139707565307617, "kl": 0.007248195353895426, "policy_loss": -0.001462263404391706, "cur_lr": 0.0005000000237487257, "vf_loss": 22.584857940673828, "cur_kl_coeff": 0.10000000894069672, "total_loss": 22.58411979675293}}, "pid": 7924, "hostname": "flow-main", "episode_reward_max": 869.4526881556965, "episode_len_mean": 700.0, "episode_reward_mean": 744.3933351565814, "config": {"kl_coeff": 0.2, "lambda": 0.97, "vf_share_layers": false, "horizon": 1500, "tf_session_args": {"allow_soft_placement": true, "intra_op_parallelism_threads": 2, "gpu_options": {"allow_growth": true}, "device_count": {"CPU": 1}, "log_device_placement": false, "inter_op_parallelism_threads": 2}, "entropy_coeff": 0.0, "optimizer": {}, "num_gpus_per_worker": 0, "output_compress_columns": ["obs", "new_obs"], "straggler_mitigation": false, "num_sgd_iter": 10, "env_config": {"flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"eta1\": 1.0,\n            \"eta2\": 0.3,\n            \"eta3\": 0.5,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 1.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnvOutFlowRew\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 600,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}", "run": "PPO"}, "num_cpus_per_worker": 1, "num_workers": 60, "num_envs_per_worker": 1, "output": null, "train_batch_size": 90000, "sgd_minibatch_size": 128, "clip_rewards": null, "env": "MultiWaveAttenuationMergePOEnvOutFlowRew-v0_[eta1, eta2, eta3]:[1.0, 5.0, 0.0]_t_min:5.0", "callbacks": {"on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7ff12da82908>", "on_sample_end": null, "on_train_result": null, "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7ff12da82128>", "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7ff12da82ba8>"}, "vf_clip_param": 1000000.0, "input": "sampler", "clip_param": 0.3, "vf_loss_coeff": 1.0, "collect_metrics_timeout": 180, "lr": 0.0005, "num_cpus_for_driver": 1, "input_evaluation": null, "use_gae": true, "monitor": false, "batch_mode": "truncate_episodes", "output_max_file_size": 67108864, "lr_schedule": null, "multiagent": {"policy_graphs": {}, "policy_mapping_fn": null, "policies_to_train": null}, "sample_async": false, "sample_batch_size": 200, "clip_actions": false, "simple_optimizer": false, "custom_resources_per_worker": {}, "kl_target": 0.01, "compress_observations": false, "num_gpus": 0, "synchronize_filters": true, "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "log_level": "INFO", "observation_filter": "NoFilter", "preprocessor_pref": "deepmind", "model": {"lstm_use_prev_action_reward": false, "conv_filters": null, "dim": 84, "custom_options": {}, "fcnet_hiddens": [100, 50, 25], "lstm_cell_size": 256, "framestack": true, "conv_activation": "relu", "squash_to_range": false, "custom_preprocessor": null, "channel_major": false, "grayscale": false, "free_log_std": false, "use_lstm": false, "max_seq_len": 20, "zero_mean": true, "custom_model": null, "fcnet_activation": "tanh"}, "gamma": 0.99}, "time_total_s": 1254.4150485992432, "policy_reward_mean": {}, "training_iteration": 34, "episodes_total": 1857, "timesteps_since_restore": 3863714, "timesteps_this_iter": 115104, "episode_reward_min": 639.4107914646663, "experiment_id": "fb490f0e3688480cb8d243e87816e520", "timestamp": 1556375696, "episodes_this_iter": 53, "done": false, "date": "2019-04-27_14-34-56"}
{"time_since_restore": 1290.6753838062286, "timesteps_total": 3978503, "custom_metrics": {"outflow_rate_max": 1083.7279276077552, "outflow_rate_mean": 918.8045005686125, "cost2_mean": -10.09745199877273, "cost2_min": -12.167573462276343, "cost1_max": 408.34201638973764, "system_level_velocity_max": 15.523075228867905, "outflow_rate_min": 821.5354325093588, "cost1_min": 245.25093402080412, "cost2_max": -8.472266277786227, "system_level_velocity_mean": 11.281366164141541, "cost1_mean": 300.7228263059222, "system_level_velocity_min": 9.18755252275371}, "time_this_iter_s": 36.260335206985474, "num_metric_batches_dropped": 0, "iterations_since_restore": 35, "node_ip": "10.138.0.2", "info": {"sample_time_ms": 14694.467, "num_steps_trained": 3978503, "load_time_ms": 7.838, "grad_time_ms": 21654.265, "update_time_ms": 10.949, "num_steps_sampled": 3978503, "default": {"entropy": 1.181946873664856, "vf_explained_var": 0.6668149828910828, "kl": 0.008015717379748821, "policy_loss": -0.0016844006022438407, "cur_lr": 0.0005000000237487257, "vf_loss": 20.665727615356445, "cur_kl_coeff": 0.10000001639127731, "total_loss": 20.66484260559082}}, "pid": 7924, "hostname": "flow-main", "episode_reward_max": 858.5911726417784, "episode_len_mean": 700.0, "episode_reward_mean": 743.689199199599, "config": {"kl_coeff": 0.2, "lambda": 0.97, "vf_share_layers": false, "horizon": 1500, "tf_session_args": {"allow_soft_placement": true, "intra_op_parallelism_threads": 2, "gpu_options": {"allow_growth": true}, "device_count": {"CPU": 1}, "log_device_placement": false, "inter_op_parallelism_threads": 2}, "entropy_coeff": 0.0, "optimizer": {}, "num_gpus_per_worker": 0, "output_compress_columns": ["obs", "new_obs"], "straggler_mitigation": false, "num_sgd_iter": 10, "env_config": {"flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"eta1\": 1.0,\n            \"eta2\": 0.3,\n            \"eta3\": 0.5,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 1.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnvOutFlowRew\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 600,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}", "run": "PPO"}, "num_cpus_per_worker": 1, "num_workers": 60, "num_envs_per_worker": 1, "output": null, "train_batch_size": 90000, "sgd_minibatch_size": 128, "clip_rewards": null, "env": "MultiWaveAttenuationMergePOEnvOutFlowRew-v0_[eta1, eta2, eta3]:[1.0, 5.0, 0.0]_t_min:5.0", "callbacks": {"on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7ff12da8cc50>", "on_sample_end": null, "on_train_result": null, "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7ff12da8c5f8>", "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7ff12da8c9b0>"}, "vf_clip_param": 1000000.0, "input": "sampler", "clip_param": 0.3, "vf_loss_coeff": 1.0, "collect_metrics_timeout": 180, "lr": 0.0005, "num_cpus_for_driver": 1, "input_evaluation": null, "use_gae": true, "monitor": false, "batch_mode": "truncate_episodes", "output_max_file_size": 67108864, "lr_schedule": null, "multiagent": {"policy_graphs": {}, "policy_mapping_fn": null, "policies_to_train": null}, "sample_async": false, "sample_batch_size": 200, "clip_actions": false, "simple_optimizer": false, "custom_resources_per_worker": {}, "kl_target": 0.01, "compress_observations": false, "num_gpus": 0, "synchronize_filters": true, "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "log_level": "INFO", "observation_filter": "NoFilter", "preprocessor_pref": "deepmind", "model": {"lstm_use_prev_action_reward": false, "conv_filters": null, "dim": 84, "custom_options": {}, "fcnet_hiddens": [100, 50, 25], "lstm_cell_size": 256, "framestack": true, "conv_activation": "relu", "squash_to_range": false, "custom_preprocessor": null, "channel_major": false, "grayscale": false, "free_log_std": false, "use_lstm": false, "max_seq_len": 20, "zero_mean": true, "custom_model": null, "fcnet_activation": "tanh"}, "gamma": 0.99}, "time_total_s": 1290.6753838062286, "policy_reward_mean": {}, "training_iteration": 35, "episodes_total": 1909, "timesteps_since_restore": 3978503, "timesteps_this_iter": 114789, "episode_reward_min": 662.2112424781495, "experiment_id": "fb490f0e3688480cb8d243e87816e520", "timestamp": 1556375732, "episodes_this_iter": 52, "done": false, "date": "2019-04-27_14-35-32"}
{"time_since_restore": 1327.2349219322205, "timesteps_total": 4094402, "custom_metrics": {"outflow_rate_max": 1121.3757521548582, "outflow_rate_mean": 939.0632061723511, "cost2_mean": -10.228432273028888, "cost2_min": -11.800121854333973, "cost1_max": 426.78079029785835, "system_level_velocity_max": 16.330456647648987, "outflow_rate_min": 845.4862422120636, "cost1_min": 262.7078527725704, "cost2_max": -8.48744973598071, "system_level_velocity_mean": 11.681648376473364, "cost1_mean": 310.7351011757496, "system_level_velocity_min": 9.912362004331818}, "time_this_iter_s": 36.55953812599182, "num_metric_batches_dropped": 0, "iterations_since_restore": 36, "node_ip": "10.138.0.2", "info": {"sample_time_ms": 14751.954, "num_steps_trained": 4094402, "load_time_ms": 8.003, "grad_time_ms": 21503.28, "update_time_ms": 10.833, "num_steps_sampled": 4094402, "default": {"entropy": 1.1771011352539062, "vf_explained_var": 0.6405982375144958, "kl": 0.007538933306932449, "policy_loss": -0.0014131629141047597, "cur_lr": 0.0005000000237487257, "vf_loss": 24.831247329711914, "cur_kl_coeff": 0.10000001639127731, "total_loss": 24.83058738708496}}, "pid": 7924, "hostname": "flow-main", "episode_reward_max": 876.0363133929541, "episode_len_mean": 700.0, "episode_reward_mean": 757.2769764484096, "config": {"kl_coeff": 0.2, "lambda": 0.97, "vf_share_layers": false, "horizon": 1500, "tf_session_args": {"allow_soft_placement": true, "intra_op_parallelism_threads": 2, "gpu_options": {"allow_growth": true}, "device_count": {"CPU": 1}, "log_device_placement": false, "inter_op_parallelism_threads": 2}, "entropy_coeff": 0.0, "optimizer": {}, "num_gpus_per_worker": 0, "output_compress_columns": ["obs", "new_obs"], "straggler_mitigation": false, "num_sgd_iter": 10, "env_config": {"flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"eta1\": 1.0,\n            \"eta2\": 0.3,\n            \"eta3\": 0.5,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 1.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnvOutFlowRew\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 600,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}", "run": "PPO"}, "num_cpus_per_worker": 1, "num_workers": 60, "num_envs_per_worker": 1, "output": null, "train_batch_size": 90000, "sgd_minibatch_size": 128, "clip_rewards": null, "env": "MultiWaveAttenuationMergePOEnvOutFlowRew-v0_[eta1, eta2, eta3]:[1.0, 5.0, 0.0]_t_min:5.0", "callbacks": {"on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7ff12daa9630>", "on_sample_end": null, "on_train_result": null, "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7ff12da824a8>", "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7ff12da82be0>"}, "vf_clip_param": 1000000.0, "input": "sampler", "clip_param": 0.3, "vf_loss_coeff": 1.0, "collect_metrics_timeout": 180, "lr": 0.0005, "num_cpus_for_driver": 1, "input_evaluation": null, "use_gae": true, "monitor": false, "batch_mode": "truncate_episodes", "output_max_file_size": 67108864, "lr_schedule": null, "multiagent": {"policy_graphs": {}, "policy_mapping_fn": null, "policies_to_train": null}, "sample_async": false, "sample_batch_size": 200, "clip_actions": false, "simple_optimizer": false, "custom_resources_per_worker": {}, "kl_target": 0.01, "compress_observations": false, "num_gpus": 0, "synchronize_filters": true, "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "log_level": "INFO", "observation_filter": "NoFilter", "preprocessor_pref": "deepmind", "model": {"lstm_use_prev_action_reward": false, "conv_filters": null, "dim": 84, "custom_options": {}, "fcnet_hiddens": [100, 50, 25], "lstm_cell_size": 256, "framestack": true, "conv_activation": "relu", "squash_to_range": false, "custom_preprocessor": null, "channel_major": false, "grayscale": false, "free_log_std": false, "use_lstm": false, "max_seq_len": 20, "zero_mean": true, "custom_model": null, "fcnet_activation": "tanh"}, "gamma": 0.99}, "time_total_s": 1327.2349219322205, "policy_reward_mean": {}, "training_iteration": 36, "episodes_total": 1967, "timesteps_since_restore": 4094402, "timesteps_this_iter": 115899, "episode_reward_min": 679.4804519231615, "experiment_id": "fb490f0e3688480cb8d243e87816e520", "timestamp": 1556375769, "episodes_this_iter": 58, "done": false, "date": "2019-04-27_14-36-09"}
{"time_since_restore": 1363.109887599945, "timesteps_total": 4210296, "custom_metrics": {"outflow_rate_max": 1121.3757521548582, "outflow_rate_mean": 940.4197981732, "cost2_mean": -10.073735443072986, "cost2_min": -11.800121854333973, "cost1_max": 426.78079029785835, "system_level_velocity_max": 16.330456647648987, "outflow_rate_min": 833.1057422630961, "cost1_min": 246.17860833384916, "cost2_max": -7.326060626687784, "system_level_velocity_mean": 11.610375950748807, "cost1_mean": 308.96494318663235, "system_level_velocity_min": 9.284690650845018}, "time_this_iter_s": 35.87496566772461, "num_metric_batches_dropped": 0, "iterations_since_restore": 37, "node_ip": "10.138.0.2", "info": {"sample_time_ms": 14801.245, "num_steps_trained": 4210296, "load_time_ms": 7.653, "grad_time_ms": 21441.236, "update_time_ms": 10.875, "num_steps_sampled": 4210296, "default": {"entropy": 1.1632570028305054, "vf_explained_var": 0.6781001687049866, "kl": 0.0087426183745265, "policy_loss": -0.0016146610723808408, "cur_lr": 0.0005000000237487257, "vf_loss": 21.40369987487793, "cur_kl_coeff": 0.10000001639127731, "total_loss": 21.402957916259766}}, "pid": 7924, "hostname": "flow-main", "episode_reward_max": 876.2935474492331, "episode_len_mean": 700.0, "episode_reward_mean": 765.5297259298964, "config": {"kl_coeff": 0.2, "lambda": 0.97, "vf_share_layers": false, "horizon": 1500, "tf_session_args": {"allow_soft_placement": true, "intra_op_parallelism_threads": 2, "gpu_options": {"allow_growth": true}, "device_count": {"CPU": 1}, "log_device_placement": false, "inter_op_parallelism_threads": 2}, "entropy_coeff": 0.0, "optimizer": {}, "num_gpus_per_worker": 0, "output_compress_columns": ["obs", "new_obs"], "straggler_mitigation": false, "num_sgd_iter": 10, "env_config": {"flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"eta1\": 1.0,\n            \"eta2\": 0.3,\n            \"eta3\": 0.5,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 1.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnvOutFlowRew\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 600,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}", "run": "PPO"}, "num_cpus_per_worker": 1, "num_workers": 60, "num_envs_per_worker": 1, "output": null, "train_batch_size": 90000, "sgd_minibatch_size": 128, "clip_rewards": null, "env": "MultiWaveAttenuationMergePOEnvOutFlowRew-v0_[eta1, eta2, eta3]:[1.0, 5.0, 0.0]_t_min:5.0", "callbacks": {"on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7ff12da8cb00>", "on_sample_end": null, "on_train_result": null, "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7ff12da8c9b0>", "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7ff12da8c5f8>"}, "vf_clip_param": 1000000.0, "input": "sampler", "clip_param": 0.3, "vf_loss_coeff": 1.0, "collect_metrics_timeout": 180, "lr": 0.0005, "num_cpus_for_driver": 1, "input_evaluation": null, "use_gae": true, "monitor": false, "batch_mode": "truncate_episodes", "output_max_file_size": 67108864, "lr_schedule": null, "multiagent": {"policy_graphs": {}, "policy_mapping_fn": null, "policies_to_train": null}, "sample_async": false, "sample_batch_size": 200, "clip_actions": false, "simple_optimizer": false, "custom_resources_per_worker": {}, "kl_target": 0.01, "compress_observations": false, "num_gpus": 0, "synchronize_filters": true, "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "log_level": "INFO", "observation_filter": "NoFilter", "preprocessor_pref": "deepmind", "model": {"lstm_use_prev_action_reward": false, "conv_filters": null, "dim": 84, "custom_options": {}, "fcnet_hiddens": [100, 50, 25], "lstm_cell_size": 256, "framestack": true, "conv_activation": "relu", "squash_to_range": false, "custom_preprocessor": null, "channel_major": false, "grayscale": false, "free_log_std": false, "use_lstm": false, "max_seq_len": 20, "zero_mean": true, "custom_model": null, "fcnet_activation": "tanh"}, "gamma": 0.99}, "time_total_s": 1363.109887599945, "policy_reward_mean": {}, "training_iteration": 37, "episodes_total": 2014, "timesteps_since_restore": 4210296, "timesteps_this_iter": 115894, "episode_reward_min": 683.7900062672254, "experiment_id": "fb490f0e3688480cb8d243e87816e520", "timestamp": 1556375805, "episodes_this_iter": 47, "done": false, "date": "2019-04-27_14-36-45"}
{"time_since_restore": 1400.1081037521362, "timesteps_total": 4325389, "custom_metrics": {"outflow_rate_max": 1108.014738623402, "outflow_rate_mean": 932.9444535473064, "cost2_mean": -9.971441335972319, "cost2_min": -11.813178471165514, "cost1_max": 419.5595940879241, "system_level_velocity_max": 16.20848101060918, "outflow_rate_min": 833.1057422630961, "cost1_min": 246.17860833384916, "cost2_max": -7.326060626687784, "system_level_velocity_mean": 11.365928307947451, "cost1_mean": 302.3662447581012, "system_level_velocity_min": 9.284690650845018}, "time_this_iter_s": 36.99821615219116, "num_metric_batches_dropped": 0, "iterations_since_restore": 38, "node_ip": "10.138.0.2", "info": {"sample_time_ms": 14889.61, "num_steps_trained": 4325389, "load_time_ms": 7.44, "grad_time_ms": 21493.456, "update_time_ms": 10.856, "num_steps_sampled": 4325389, "default": {"entropy": 1.1461726427078247, "vf_explained_var": 0.6595609784126282, "kl": 0.007666074205189943, "policy_loss": -0.0009290490415878594, "cur_lr": 0.0005000000237487257, "vf_loss": 22.811874389648438, "cur_kl_coeff": 0.10000000894069672, "total_loss": 22.81171226501465}}, "pid": 7924, "hostname": "flow-main", "episode_reward_max": 876.2935474492331, "episode_len_mean": 700.0, "episode_reward_mean": 764.5461296663224, "config": {"kl_coeff": 0.2, "lambda": 0.97, "vf_share_layers": false, "horizon": 1500, "tf_session_args": {"allow_soft_placement": true, "intra_op_parallelism_threads": 2, "gpu_options": {"allow_growth": true}, "device_count": {"CPU": 1}, "log_device_placement": false, "inter_op_parallelism_threads": 2}, "entropy_coeff": 0.0, "optimizer": {}, "num_gpus_per_worker": 0, "output_compress_columns": ["obs", "new_obs"], "straggler_mitigation": false, "num_sgd_iter": 10, "env_config": {"flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"eta1\": 1.0,\n            \"eta2\": 0.3,\n            \"eta3\": 0.5,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 1.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnvOutFlowRew\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 600,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}", "run": "PPO"}, "num_cpus_per_worker": 1, "num_workers": 60, "num_envs_per_worker": 1, "output": null, "train_batch_size": 90000, "sgd_minibatch_size": 128, "clip_rewards": null, "env": "MultiWaveAttenuationMergePOEnvOutFlowRew-v0_[eta1, eta2, eta3]:[1.0, 5.0, 0.0]_t_min:5.0", "callbacks": {"on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7ff12da824a8>", "on_sample_end": null, "on_train_result": null, "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7ff12da82be0>", "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7ff12da82630>"}, "vf_clip_param": 1000000.0, "input": "sampler", "clip_param": 0.3, "vf_loss_coeff": 1.0, "collect_metrics_timeout": 180, "lr": 0.0005, "num_cpus_for_driver": 1, "input_evaluation": null, "use_gae": true, "monitor": false, "batch_mode": "truncate_episodes", "output_max_file_size": 67108864, "lr_schedule": null, "multiagent": {"policy_graphs": {}, "policy_mapping_fn": null, "policies_to_train": null}, "sample_async": false, "sample_batch_size": 200, "clip_actions": false, "simple_optimizer": false, "custom_resources_per_worker": {}, "kl_target": 0.01, "compress_observations": false, "num_gpus": 0, "synchronize_filters": true, "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "log_level": "INFO", "observation_filter": "NoFilter", "preprocessor_pref": "deepmind", "model": {"lstm_use_prev_action_reward": false, "conv_filters": null, "dim": 84, "custom_options": {}, "fcnet_hiddens": [100, 50, 25], "lstm_cell_size": 256, "framestack": true, "conv_activation": "relu", "squash_to_range": false, "custom_preprocessor": null, "channel_major": false, "grayscale": false, "free_log_std": false, "use_lstm": false, "max_seq_len": 20, "zero_mean": true, "custom_model": null, "fcnet_activation": "tanh"}, "gamma": 0.99}, "time_total_s": 1400.1081037521362, "policy_reward_mean": {}, "training_iteration": 38, "episodes_total": 2067, "timesteps_since_restore": 4325389, "timesteps_this_iter": 115093, "episode_reward_min": 683.7900062672254, "experiment_id": "fb490f0e3688480cb8d243e87816e520", "timestamp": 1556375842, "episodes_this_iter": 53, "done": false, "date": "2019-04-27_14-37-22"}
{"time_since_restore": 1438.082365989685, "timesteps_total": 4441762, "custom_metrics": {"outflow_rate_max": 1114.4893622065308, "outflow_rate_mean": 937.6083464312476, "cost2_mean": -9.864264671842097, "cost2_min": -11.826079619768855, "cost1_max": 426.17975016486514, "system_level_velocity_max": 16.287584505366496, "outflow_rate_min": 849.2218143045718, "cost1_min": 256.23366920268217, "cost2_max": -7.782452053515263, "system_level_velocity_mean": 11.370202837536755, "cost1_mean": 302.8167600684676, "system_level_velocity_min": 9.59809777962931}, "time_this_iter_s": 37.97426223754883, "num_metric_batches_dropped": 0, "iterations_since_restore": 39, "node_ip": "10.138.0.2", "info": {"sample_time_ms": 14975.771, "num_steps_trained": 4441762, "load_time_ms": 7.447, "grad_time_ms": 21482.412, "update_time_ms": 10.9, "num_steps_sampled": 4441762, "default": {"entropy": 1.1310960054397583, "vf_explained_var": 0.6489750742912292, "kl": 0.007573574781417847, "policy_loss": -0.0008920202380977571, "cur_lr": 0.0005000000237487257, "vf_loss": 24.765289306640625, "cur_kl_coeff": 0.10000000894069672, "total_loss": 24.765153884887695}}, "pid": 7924, "hostname": "flow-main", "episode_reward_max": 885.8838533438377, "episode_len_mean": 700.0, "episode_reward_mean": 771.5903971374144, "config": {"kl_coeff": 0.2, "lambda": 0.97, "vf_share_layers": false, "horizon": 1500, "tf_session_args": {"allow_soft_placement": true, "intra_op_parallelism_threads": 2, "gpu_options": {"allow_growth": true}, "device_count": {"CPU": 1}, "log_device_placement": false, "inter_op_parallelism_threads": 2}, "entropy_coeff": 0.0, "optimizer": {}, "num_gpus_per_worker": 0, "output_compress_columns": ["obs", "new_obs"], "straggler_mitigation": false, "num_sgd_iter": 10, "env_config": {"flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"eta1\": 1.0,\n            \"eta2\": 0.3,\n            \"eta3\": 0.5,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 1.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnvOutFlowRew\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 600,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}", "run": "PPO"}, "num_cpus_per_worker": 1, "num_workers": 60, "num_envs_per_worker": 1, "output": null, "train_batch_size": 90000, "sgd_minibatch_size": 128, "clip_rewards": null, "env": "MultiWaveAttenuationMergePOEnvOutFlowRew-v0_[eta1, eta2, eta3]:[1.0, 5.0, 0.0]_t_min:5.0", "callbacks": {"on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7ff12da8c9b0>", "on_sample_end": null, "on_train_result": null, "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7ff12da8c8d0>", "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7ff12da8c7b8>"}, "vf_clip_param": 1000000.0, "input": "sampler", "clip_param": 0.3, "vf_loss_coeff": 1.0, "collect_metrics_timeout": 180, "lr": 0.0005, "num_cpus_for_driver": 1, "input_evaluation": null, "use_gae": true, "monitor": false, "batch_mode": "truncate_episodes", "output_max_file_size": 67108864, "lr_schedule": null, "multiagent": {"policy_graphs": {}, "policy_mapping_fn": null, "policies_to_train": null}, "sample_async": false, "sample_batch_size": 200, "clip_actions": false, "simple_optimizer": false, "custom_resources_per_worker": {}, "kl_target": 0.01, "compress_observations": false, "num_gpus": 0, "synchronize_filters": true, "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "log_level": "INFO", "observation_filter": "NoFilter", "preprocessor_pref": "deepmind", "model": {"lstm_use_prev_action_reward": false, "conv_filters": null, "dim": 84, "custom_options": {}, "fcnet_hiddens": [100, 50, 25], "lstm_cell_size": 256, "framestack": true, "conv_activation": "relu", "squash_to_range": false, "custom_preprocessor": null, "channel_major": false, "grayscale": false, "free_log_std": false, "use_lstm": false, "max_seq_len": 20, "zero_mean": true, "custom_model": null, "fcnet_activation": "tanh"}, "gamma": 0.99}, "time_total_s": 1438.082365989685, "policy_reward_mean": {}, "training_iteration": 39, "episodes_total": 2122, "timesteps_since_restore": 4441762, "timesteps_this_iter": 116373, "episode_reward_min": 695.1634982843843, "experiment_id": "fb490f0e3688480cb8d243e87816e520", "timestamp": 1556375880, "episodes_this_iter": 55, "done": false, "date": "2019-04-27_14-38-00"}
{"time_since_restore": 1476.2055008411407, "timesteps_total": 4558348, "custom_metrics": {"outflow_rate_max": 1114.4893622065308, "outflow_rate_mean": 943.2171995203112, "cost2_mean": -9.730679345533282, "cost2_min": -12.265504670190879, "cost1_max": 426.17975016486514, "system_level_velocity_max": 16.287584505366496, "outflow_rate_min": 856.0352886416002, "cost1_min": 256.0353198692716, "cost2_max": -7.834289761187664, "system_level_velocity_mean": 11.413466826237986, "cost1_mean": 304.34327133083247, "system_level_velocity_min": 9.59809777962931}, "time_this_iter_s": 38.12313485145569, "num_metric_batches_dropped": 0, "iterations_since_restore": 40, "node_ip": "10.138.0.2", "info": {"sample_time_ms": 15019.21, "num_steps_trained": 4558348, "load_time_ms": 7.12, "grad_time_ms": 21491.116, "update_time_ms": 11.065, "num_steps_sampled": 4558348, "default": {"entropy": 1.1283069849014282, "vf_explained_var": 0.677588939666748, "kl": 0.007782690227031708, "policy_loss": -0.0011431898456066847, "cur_lr": 0.0005000000237487257, "vf_loss": 23.012401580810547, "cur_kl_coeff": 0.10000001639127731, "total_loss": 23.01203727722168}}, "pid": 7924, "hostname": "flow-main", "episode_reward_max": 885.8838533438377, "episode_len_mean": 700.0, "episode_reward_mean": 777.3500612722555, "config": {"kl_coeff": 0.2, "lambda": 0.97, "vf_share_layers": false, "horizon": 1500, "tf_session_args": {"allow_soft_placement": true, "intra_op_parallelism_threads": 2, "gpu_options": {"allow_growth": true}, "device_count": {"CPU": 1}, "log_device_placement": false, "inter_op_parallelism_threads": 2}, "entropy_coeff": 0.0, "optimizer": {}, "num_gpus_per_worker": 0, "output_compress_columns": ["obs", "new_obs"], "straggler_mitigation": false, "num_sgd_iter": 10, "env_config": {"flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"eta1\": 1.0,\n            \"eta2\": 0.3,\n            \"eta3\": 0.5,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 1.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnvOutFlowRew\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 600,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}", "run": "PPO"}, "num_cpus_per_worker": 1, "num_workers": 60, "num_envs_per_worker": 1, "output": null, "train_batch_size": 90000, "sgd_minibatch_size": 128, "clip_rewards": null, "env": "MultiWaveAttenuationMergePOEnvOutFlowRew-v0_[eta1, eta2, eta3]:[1.0, 5.0, 0.0]_t_min:5.0", "callbacks": {"on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7ff12da76320>", "on_sample_end": null, "on_train_result": null, "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7ff12da76940>", "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7ff12da870b8>"}, "vf_clip_param": 1000000.0, "input": "sampler", "clip_param": 0.3, "vf_loss_coeff": 1.0, "collect_metrics_timeout": 180, "lr": 0.0005, "num_cpus_for_driver": 1, "input_evaluation": null, "use_gae": true, "monitor": false, "batch_mode": "truncate_episodes", "output_max_file_size": 67108864, "lr_schedule": null, "multiagent": {"policy_graphs": {}, "policy_mapping_fn": null, "policies_to_train": null}, "sample_async": false, "sample_batch_size": 200, "clip_actions": false, "simple_optimizer": false, "custom_resources_per_worker": {}, "kl_target": 0.01, "compress_observations": false, "num_gpus": 0, "synchronize_filters": true, "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "log_level": "INFO", "observation_filter": "NoFilter", "preprocessor_pref": "deepmind", "model": {"lstm_use_prev_action_reward": false, "conv_filters": null, "dim": 84, "custom_options": {}, "fcnet_hiddens": [100, 50, 25], "lstm_cell_size": 256, "framestack": true, "conv_activation": "relu", "squash_to_range": false, "custom_preprocessor": null, "channel_major": false, "grayscale": false, "free_log_std": false, "use_lstm": false, "max_seq_len": 20, "zero_mean": true, "custom_model": null, "fcnet_activation": "tanh"}, "gamma": 0.99}, "time_total_s": 1476.2055008411407, "policy_reward_mean": {}, "training_iteration": 40, "episodes_total": 2173, "timesteps_since_restore": 4558348, "timesteps_this_iter": 116586, "episode_reward_min": 695.1634982843843, "experiment_id": "fb490f0e3688480cb8d243e87816e520", "timestamp": 1556375918, "episodes_this_iter": 51, "done": false, "date": "2019-04-27_14-38-38"}
{"time_since_restore": 1515.3912732601166, "timesteps_total": 4675385, "custom_metrics": {"outflow_rate_max": 1121.120503206556, "outflow_rate_mean": 943.9006632583942, "cost2_mean": -9.646295668637343, "cost2_min": -12.265504670190879, "cost1_max": 428.35663174239244, "system_level_velocity_max": 16.369045062186686, "outflow_rate_min": 846.514282180439, "cost1_min": 256.0353198692716, "cost2_max": -7.7336641827917205, "system_level_velocity_mean": 11.46447126457449, "cost1_mean": 305.41420437836723, "system_level_velocity_min": 9.646441198441035}, "time_this_iter_s": 39.18577241897583, "num_metric_batches_dropped": 0, "iterations_since_restore": 41, "node_ip": "10.138.0.2", "info": {"sample_time_ms": 15068.969, "num_steps_trained": 4675385, "load_time_ms": 7.368, "grad_time_ms": 21701.739, "update_time_ms": 11.342, "num_steps_sampled": 4675385, "default": {"entropy": 1.1315916776657104, "vf_explained_var": 0.6810850501060486, "kl": 0.008419273421168327, "policy_loss": -0.0014579514972865582, "cur_lr": 0.0005000000237487257, "vf_loss": 24.163427352905273, "cur_kl_coeff": 0.10000001639127731, "total_loss": 24.162809371948242}}, "pid": 7924, "hostname": "flow-main", "episode_reward_max": 879.1728136258524, "episode_len_mean": 700.0, "episode_reward_mean": 779.6575808150743, "config": {"kl_coeff": 0.2, "lambda": 0.97, "vf_share_layers": false, "horizon": 1500, "tf_session_args": {"allow_soft_placement": true, "intra_op_parallelism_threads": 2, "gpu_options": {"allow_growth": true}, "device_count": {"CPU": 1}, "log_device_placement": false, "inter_op_parallelism_threads": 2}, "entropy_coeff": 0.0, "optimizer": {}, "num_gpus_per_worker": 0, "output_compress_columns": ["obs", "new_obs"], "straggler_mitigation": false, "num_sgd_iter": 10, "env_config": {"flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"eta1\": 1.0,\n            \"eta2\": 0.3,\n            \"eta3\": 0.5,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 1.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnvOutFlowRew\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 600,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}", "run": "PPO"}, "num_cpus_per_worker": 1, "num_workers": 60, "num_envs_per_worker": 1, "output": null, "train_batch_size": 90000, "sgd_minibatch_size": 128, "clip_rewards": null, "env": "MultiWaveAttenuationMergePOEnvOutFlowRew-v0_[eta1, eta2, eta3]:[1.0, 5.0, 0.0]_t_min:5.0", "callbacks": {"on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7ff12da8c1d0>", "on_sample_end": null, "on_train_result": null, "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7ff12da8c8d0>", "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7ff12da8c080>"}, "vf_clip_param": 1000000.0, "input": "sampler", "clip_param": 0.3, "vf_loss_coeff": 1.0, "collect_metrics_timeout": 180, "lr": 0.0005, "num_cpus_for_driver": 1, "input_evaluation": null, "use_gae": true, "monitor": false, "batch_mode": "truncate_episodes", "output_max_file_size": 67108864, "lr_schedule": null, "multiagent": {"policy_graphs": {}, "policy_mapping_fn": null, "policies_to_train": null}, "sample_async": false, "sample_batch_size": 200, "clip_actions": false, "simple_optimizer": false, "custom_resources_per_worker": {}, "kl_target": 0.01, "compress_observations": false, "num_gpus": 0, "synchronize_filters": true, "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "log_level": "INFO", "observation_filter": "NoFilter", "preprocessor_pref": "deepmind", "model": {"lstm_use_prev_action_reward": false, "conv_filters": null, "dim": 84, "custom_options": {}, "fcnet_hiddens": [100, 50, 25], "lstm_cell_size": 256, "framestack": true, "conv_activation": "relu", "squash_to_range": false, "custom_preprocessor": null, "channel_major": false, "grayscale": false, "free_log_std": false, "use_lstm": false, "max_seq_len": 20, "zero_mean": true, "custom_model": null, "fcnet_activation": "tanh"}, "gamma": 0.99}, "time_total_s": 1515.3912732601166, "policy_reward_mean": {}, "training_iteration": 41, "episodes_total": 2226, "timesteps_since_restore": 4675385, "timesteps_this_iter": 117037, "episode_reward_min": 705.6501884307121, "experiment_id": "fb490f0e3688480cb8d243e87816e520", "timestamp": 1556375957, "episodes_this_iter": 53, "done": false, "date": "2019-04-27_14-39-17"}
{"time_since_restore": 1553.5297787189484, "timesteps_total": 4792966, "custom_metrics": {"outflow_rate_max": 1134.335298659672, "outflow_rate_mean": 935.8969627224013, "cost2_mean": -9.525209521858557, "cost2_min": -11.574846987823566, "cost1_max": 439.2700234295762, "system_level_velocity_max": 16.912329521640785, "outflow_rate_min": 830.1350832135306, "cost1_min": 233.7806596259579, "cost2_max": -7.254356076834435, "system_level_velocity_mean": 11.310756496333532, "cost1_mean": 301.1569910777402, "system_level_velocity_min": 8.792687777261312}, "time_this_iter_s": 38.13850545883179, "num_metric_batches_dropped": 0, "iterations_since_restore": 42, "node_ip": "10.138.0.2", "info": {"sample_time_ms": 15014.659, "num_steps_trained": 4792966, "load_time_ms": 7.454, "grad_time_ms": 21799.694, "update_time_ms": 11.638, "num_steps_sampled": 4792966, "default": {"entropy": 1.1393684148788452, "vf_explained_var": 0.7242333292961121, "kl": 0.00762690044939518, "policy_loss": -0.000707875529769808, "cur_lr": 0.0005000000237487257, "vf_loss": 21.42581558227539, "cur_kl_coeff": 0.10000001639127731, "total_loss": 21.425870895385742}}, "pid": 7924, "hostname": "flow-main", "episode_reward_max": 891.8035234401536, "episode_len_mean": 700.0, "episode_reward_mean": 773.6194649142394, "config": {"kl_coeff": 0.2, "lambda": 0.97, "vf_share_layers": false, "horizon": 1500, "tf_session_args": {"allow_soft_placement": true, "intra_op_parallelism_threads": 2, "gpu_options": {"allow_growth": true}, "device_count": {"CPU": 1}, "log_device_placement": false, "inter_op_parallelism_threads": 2}, "entropy_coeff": 0.0, "optimizer": {}, "num_gpus_per_worker": 0, "output_compress_columns": ["obs", "new_obs"], "straggler_mitigation": false, "num_sgd_iter": 10, "env_config": {"flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"eta1\": 1.0,\n            \"eta2\": 0.3,\n            \"eta3\": 0.5,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 1.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnvOutFlowRew\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 600,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}", "run": "PPO"}, "num_cpus_per_worker": 1, "num_workers": 60, "num_envs_per_worker": 1, "output": null, "train_batch_size": 90000, "sgd_minibatch_size": 128, "clip_rewards": null, "env": "MultiWaveAttenuationMergePOEnvOutFlowRew-v0_[eta1, eta2, eta3]:[1.0, 5.0, 0.0]_t_min:5.0", "callbacks": {"on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7ff12da87128>", "on_sample_end": null, "on_train_result": null, "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7ff12da87f28>", "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7ff12da87ef0>"}, "vf_clip_param": 1000000.0, "input": "sampler", "clip_param": 0.3, "vf_loss_coeff": 1.0, "collect_metrics_timeout": 180, "lr": 0.0005, "num_cpus_for_driver": 1, "input_evaluation": null, "use_gae": true, "monitor": false, "batch_mode": "truncate_episodes", "output_max_file_size": 67108864, "lr_schedule": null, "multiagent": {"policy_graphs": {}, "policy_mapping_fn": null, "policies_to_train": null}, "sample_async": false, "sample_batch_size": 200, "clip_actions": false, "simple_optimizer": false, "custom_resources_per_worker": {}, "kl_target": 0.01, "compress_observations": false, "num_gpus": 0, "synchronize_filters": true, "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "log_level": "INFO", "observation_filter": "NoFilter", "preprocessor_pref": "deepmind", "model": {"lstm_use_prev_action_reward": false, "conv_filters": null, "dim": 84, "custom_options": {}, "fcnet_hiddens": [100, 50, 25], "lstm_cell_size": 256, "framestack": true, "conv_activation": "relu", "squash_to_range": false, "custom_preprocessor": null, "channel_major": false, "grayscale": false, "free_log_std": false, "use_lstm": false, "max_seq_len": 20, "zero_mean": true, "custom_model": null, "fcnet_activation": "tanh"}, "gamma": 0.99}, "time_total_s": 1553.5297787189484, "policy_reward_mean": {}, "training_iteration": 42, "episodes_total": 2276, "timesteps_since_restore": 4792966, "timesteps_this_iter": 117581, "episode_reward_min": 673.6997134179832, "experiment_id": "fb490f0e3688480cb8d243e87816e520", "timestamp": 1556375995, "episodes_this_iter": 50, "done": false, "date": "2019-04-27_14-39-55"}
{"time_since_restore": 1592.3572731018066, "timesteps_total": 4910939, "custom_metrics": {"outflow_rate_max": 1134.335298659672, "outflow_rate_mean": 918.7359915208943, "cost2_mean": -9.480396171626781, "cost2_min": -11.45489578516915, "cost1_max": 439.2700234295762, "system_level_velocity_max": 16.912329521640785, "outflow_rate_min": 830.1350832135306, "cost1_min": 233.7806596259579, "cost2_max": -7.254356076834435, "system_level_velocity_mean": 10.908432051303466, "cost1_mean": 290.4019759863866, "system_level_velocity_min": 8.792687777261312}, "time_this_iter_s": 38.827494382858276, "num_metric_batches_dropped": 0, "iterations_since_restore": 43, "node_ip": "10.138.0.2", "info": {"sample_time_ms": 15011.061, "num_steps_trained": 4910939, "load_time_ms": 7.367, "grad_time_ms": 22111.046, "update_time_ms": 11.87, "num_steps_sampled": 4910939, "default": {"entropy": 1.1360996961593628, "vf_explained_var": 0.73671555519104, "kl": 0.008692040108144283, "policy_loss": -0.001136759645305574, "cur_lr": 0.0005000000237487257, "vf_loss": 20.979646682739258, "cur_kl_coeff": 0.10000001639127731, "total_loss": 20.979379653930664}}, "pid": 7924, "hostname": "flow-main", "episode_reward_max": 891.8035234401536, "episode_len_mean": 700.0, "episode_reward_mean": 758.1216454891303, "config": {"kl_coeff": 0.2, "lambda": 0.97, "vf_share_layers": false, "horizon": 1500, "tf_session_args": {"allow_soft_placement": true, "intra_op_parallelism_threads": 2, "gpu_options": {"allow_growth": true}, "device_count": {"CPU": 1}, "log_device_placement": false, "inter_op_parallelism_threads": 2}, "entropy_coeff": 0.0, "optimizer": {}, "num_gpus_per_worker": 0, "output_compress_columns": ["obs", "new_obs"], "straggler_mitigation": false, "num_sgd_iter": 10, "env_config": {"flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"eta1\": 1.0,\n            \"eta2\": 0.3,\n            \"eta3\": 0.5,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 1.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnvOutFlowRew\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 600,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}", "run": "PPO"}, "num_cpus_per_worker": 1, "num_workers": 60, "num_envs_per_worker": 1, "output": null, "train_batch_size": 90000, "sgd_minibatch_size": 128, "clip_rewards": null, "env": "MultiWaveAttenuationMergePOEnvOutFlowRew-v0_[eta1, eta2, eta3]:[1.0, 5.0, 0.0]_t_min:5.0", "callbacks": {"on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7ff12da8c390>", "on_sample_end": null, "on_train_result": null, "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7ff12da8c5f8>", "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7ff12da8c1d0>"}, "vf_clip_param": 1000000.0, "input": "sampler", "clip_param": 0.3, "vf_loss_coeff": 1.0, "collect_metrics_timeout": 180, "lr": 0.0005, "num_cpus_for_driver": 1, "input_evaluation": null, "use_gae": true, "monitor": false, "batch_mode": "truncate_episodes", "output_max_file_size": 67108864, "lr_schedule": null, "multiagent": {"policy_graphs": {}, "policy_mapping_fn": null, "policies_to_train": null}, "sample_async": false, "sample_batch_size": 200, "clip_actions": false, "simple_optimizer": false, "custom_resources_per_worker": {}, "kl_target": 0.01, "compress_observations": false, "num_gpus": 0, "synchronize_filters": true, "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "log_level": "INFO", "observation_filter": "NoFilter", "preprocessor_pref": "deepmind", "model": {"lstm_use_prev_action_reward": false, "conv_filters": null, "dim": 84, "custom_options": {}, "fcnet_hiddens": [100, 50, 25], "lstm_cell_size": 256, "framestack": true, "conv_activation": "relu", "squash_to_range": false, "custom_preprocessor": null, "channel_major": false, "grayscale": false, "free_log_std": false, "use_lstm": false, "max_seq_len": 20, "zero_mean": true, "custom_model": null, "fcnet_activation": "tanh"}, "gamma": 0.99}, "time_total_s": 1592.3572731018066, "policy_reward_mean": {}, "training_iteration": 43, "episodes_total": 2329, "timesteps_since_restore": 4910939, "timesteps_this_iter": 117973, "episode_reward_min": 673.6997134179832, "experiment_id": "fb490f0e3688480cb8d243e87816e520", "timestamp": 1556376034, "episodes_this_iter": 53, "done": false, "date": "2019-04-27_14-40-34"}
{"time_since_restore": 1630.2122974395752, "timesteps_total": 5028256, "custom_metrics": {"outflow_rate_max": 1129.5126213460294, "outflow_rate_mean": 924.3037840471129, "cost2_mean": -9.418416054870644, "cost2_min": -10.921286774002764, "cost1_max": 439.4352952141789, "system_level_velocity_max": 16.76444302544645, "outflow_rate_min": 847.7746090842905, "cost1_min": 245.08800936792, "cost2_max": -7.681629310736489, "system_level_velocity_mean": 11.046784805922671, "cost1_mean": 293.9708347989493, "system_level_velocity_min": 9.181600239313966}, "time_this_iter_s": 37.855024337768555, "num_metric_batches_dropped": 0, "iterations_since_restore": 44, "node_ip": "10.138.0.2", "info": {"sample_time_ms": 15003.564, "num_steps_trained": 5028256, "load_time_ms": 7.351, "grad_time_ms": 22337.74, "update_time_ms": 11.73, "num_steps_sampled": 5028256, "default": {"entropy": 1.1258994340896606, "vf_explained_var": 0.7762004733085632, "kl": 0.008167058229446411, "policy_loss": -0.0009558864403516054, "cur_lr": 0.0005000000237487257, "vf_loss": 20.643123626708984, "cur_kl_coeff": 0.10000001639127731, "total_loss": 20.642986297607422}}, "pid": 7924, "hostname": "flow-main", "episode_reward_max": 900.8376479691855, "episode_len_mean": 700.0, "episode_reward_mean": 763.0746591417477, "config": {"kl_coeff": 0.2, "lambda": 0.97, "vf_share_layers": false, "horizon": 1500, "tf_session_args": {"allow_soft_placement": true, "intra_op_parallelism_threads": 2, "gpu_options": {"allow_growth": true}, "device_count": {"CPU": 1}, "log_device_placement": false, "inter_op_parallelism_threads": 2}, "entropy_coeff": 0.0, "optimizer": {}, "num_gpus_per_worker": 0, "output_compress_columns": ["obs", "new_obs"], "straggler_mitigation": false, "num_sgd_iter": 10, "env_config": {"flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"eta1\": 1.0,\n            \"eta2\": 0.3,\n            \"eta3\": 0.5,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 1.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnvOutFlowRew\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 600,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}", "run": "PPO"}, "num_cpus_per_worker": 1, "num_workers": 60, "num_envs_per_worker": 1, "output": null, "train_batch_size": 90000, "sgd_minibatch_size": 128, "clip_rewards": null, "env": "MultiWaveAttenuationMergePOEnvOutFlowRew-v0_[eta1, eta2, eta3]:[1.0, 5.0, 0.0]_t_min:5.0", "callbacks": {"on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7ff12da823c8>", "on_sample_end": null, "on_train_result": null, "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7ff12da82630>", "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7ff12da82908>"}, "vf_clip_param": 1000000.0, "input": "sampler", "clip_param": 0.3, "vf_loss_coeff": 1.0, "collect_metrics_timeout": 180, "lr": 0.0005, "num_cpus_for_driver": 1, "input_evaluation": null, "use_gae": true, "monitor": false, "batch_mode": "truncate_episodes", "output_max_file_size": 67108864, "lr_schedule": null, "multiagent": {"policy_graphs": {}, "policy_mapping_fn": null, "policies_to_train": null}, "sample_async": false, "sample_batch_size": 200, "clip_actions": false, "simple_optimizer": false, "custom_resources_per_worker": {}, "kl_target": 0.01, "compress_observations": false, "num_gpus": 0, "synchronize_filters": true, "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "log_level": "INFO", "observation_filter": "NoFilter", "preprocessor_pref": "deepmind", "model": {"lstm_use_prev_action_reward": false, "conv_filters": null, "dim": 84, "custom_options": {}, "fcnet_hiddens": [100, 50, 25], "lstm_cell_size": 256, "framestack": true, "conv_activation": "relu", "squash_to_range": false, "custom_preprocessor": null, "channel_major": false, "grayscale": false, "free_log_std": false, "use_lstm": false, "max_seq_len": 20, "zero_mean": true, "custom_model": null, "fcnet_activation": "tanh"}, "gamma": 0.99}, "time_total_s": 1630.2122974395752, "policy_reward_mean": {}, "training_iteration": 44, "episodes_total": 2376, "timesteps_since_restore": 5028256, "timesteps_this_iter": 117317, "episode_reward_min": 674.3436305490367, "experiment_id": "fb490f0e3688480cb8d243e87816e520", "timestamp": 1556376072, "episodes_this_iter": 47, "done": false, "date": "2019-04-27_14-41-12"}
{"time_since_restore": 1667.5097818374634, "timesteps_total": 5146791, "custom_metrics": {"outflow_rate_max": 1130.629671462378, "outflow_rate_mean": 934.123555957362, "cost2_mean": -9.402637824649176, "cost2_min": -11.10884371339892, "cost1_max": 439.7761173992422, "system_level_velocity_max": 16.796053517191297, "outflow_rate_min": 850.8633940835828, "cost1_min": 252.01843117602937, "cost2_max": -7.4893524867837895, "system_level_velocity_mean": 11.32283619878499, "cost1_mean": 300.7294010125792, "system_level_velocity_min": 9.500349355864238}, "time_this_iter_s": 37.297484397888184, "num_metric_batches_dropped": 0, "iterations_since_restore": 45, "node_ip": "10.138.0.2", "info": {"sample_time_ms": 14980.253, "num_steps_trained": 5146791, "load_time_ms": 7.419, "grad_time_ms": 22461.312, "update_time_ms": 11.954, "num_steps_sampled": 5146791, "default": {"entropy": 1.1151223182678223, "vf_explained_var": 0.7446703910827637, "kl": 0.008581075817346573, "policy_loss": -0.0012970063835382462, "cur_lr": 0.0005000000237487257, "vf_loss": 22.82640266418457, "cur_kl_coeff": 0.10000002384185791, "total_loss": 22.825963973999023}}, "pid": 7924, "hostname": "flow-main", "episode_reward_max": 912.9000810244305, "episode_len_mean": 700.0, "episode_reward_mean": 770.5511418821142, "config": {"kl_coeff": 0.2, "lambda": 0.97, "vf_share_layers": false, "horizon": 1500, "tf_session_args": {"allow_soft_placement": true, "intra_op_parallelism_threads": 2, "gpu_options": {"allow_growth": true}, "device_count": {"CPU": 1}, "log_device_placement": false, "inter_op_parallelism_threads": 2}, "entropy_coeff": 0.0, "optimizer": {}, "num_gpus_per_worker": 0, "output_compress_columns": ["obs", "new_obs"], "straggler_mitigation": false, "num_sgd_iter": 10, "env_config": {"flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"eta1\": 1.0,\n            \"eta2\": 0.3,\n            \"eta3\": 0.5,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 1.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnvOutFlowRew\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 600,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}", "run": "PPO"}, "num_cpus_per_worker": 1, "num_workers": 60, "num_envs_per_worker": 1, "output": null, "train_batch_size": 90000, "sgd_minibatch_size": 128, "clip_rewards": null, "env": "MultiWaveAttenuationMergePOEnvOutFlowRew-v0_[eta1, eta2, eta3]:[1.0, 5.0, 0.0]_t_min:5.0", "callbacks": {"on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7ff12da8cdd8>", "on_sample_end": null, "on_train_result": null, "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7ff12da8c390>", "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7ff12da8ce48>"}, "vf_clip_param": 1000000.0, "input": "sampler", "clip_param": 0.3, "vf_loss_coeff": 1.0, "collect_metrics_timeout": 180, "lr": 0.0005, "num_cpus_for_driver": 1, "input_evaluation": null, "use_gae": true, "monitor": false, "batch_mode": "truncate_episodes", "output_max_file_size": 67108864, "lr_schedule": null, "multiagent": {"policy_graphs": {}, "policy_mapping_fn": null, "policies_to_train": null}, "sample_async": false, "sample_batch_size": 200, "clip_actions": false, "simple_optimizer": false, "custom_resources_per_worker": {}, "kl_target": 0.01, "compress_observations": false, "num_gpus": 0, "synchronize_filters": true, "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "log_level": "INFO", "observation_filter": "NoFilter", "preprocessor_pref": "deepmind", "model": {"lstm_use_prev_action_reward": false, "conv_filters": null, "dim": 84, "custom_options": {}, "fcnet_hiddens": [100, 50, 25], "lstm_cell_size": 256, "framestack": true, "conv_activation": "relu", "squash_to_range": false, "custom_preprocessor": null, "channel_major": false, "grayscale": false, "free_log_std": false, "use_lstm": false, "max_seq_len": 20, "zero_mean": true, "custom_model": null, "fcnet_activation": "tanh"}, "gamma": 0.99}, "time_total_s": 1667.5097818374634, "policy_reward_mean": {}, "training_iteration": 45, "episodes_total": 2432, "timesteps_since_restore": 5146791, "timesteps_this_iter": 118535, "episode_reward_min": 700.2046847769498, "experiment_id": "fb490f0e3688480cb8d243e87816e520", "timestamp": 1556376109, "episodes_this_iter": 56, "done": false, "date": "2019-04-27_14-41-49"}
{"time_since_restore": 1701.0800201892853, "timesteps_total": 5265602, "custom_metrics": {"outflow_rate_max": 1134.2340831036795, "outflow_rate_mean": 927.5930696732589, "cost2_mean": -9.414446374926738, "cost2_min": -10.934035465704085, "cost1_max": 439.7761173992422, "system_level_velocity_max": 16.796053517191297, "outflow_rate_min": 850.8633940835828, "cost1_min": 252.01843117602937, "cost2_max": -6.924507129368996, "system_level_velocity_mean": 11.109004587239207, "cost1_mean": 295.046133394916, "system_level_velocity_min": 9.500349355864238}, "time_this_iter_s": 33.5702383518219, "num_metric_batches_dropped": 0, "iterations_since_restore": 46, "node_ip": "10.138.0.2", "info": {"sample_time_ms": 14844.36, "num_steps_trained": 5265602, "load_time_ms": 6.77, "grad_time_ms": 22296.463, "update_time_ms": 12.397, "num_steps_sampled": 5265602, "default": {"entropy": 1.0997947454452515, "vf_explained_var": 0.7600926160812378, "kl": 0.008372859098017216, "policy_loss": -0.0005235679564066231, "cur_lr": 0.0005000000237487257, "vf_loss": 21.334800720214844, "cur_kl_coeff": 0.10000001639127731, "total_loss": 21.335111618041992}}, "pid": 7924, "hostname": "flow-main", "episode_reward_max": 912.9000810244305, "episode_len_mean": 700.0, "episode_reward_mean": 769.3409818176801, "config": {"kl_coeff": 0.2, "lambda": 0.97, "vf_share_layers": false, "horizon": 1500, "tf_session_args": {"allow_soft_placement": true, "intra_op_parallelism_threads": 2, "gpu_options": {"allow_growth": true}, "device_count": {"CPU": 1}, "log_device_placement": false, "inter_op_parallelism_threads": 2}, "entropy_coeff": 0.0, "optimizer": {}, "num_gpus_per_worker": 0, "output_compress_columns": ["obs", "new_obs"], "straggler_mitigation": false, "num_sgd_iter": 10, "env_config": {"flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"eta1\": 1.0,\n            \"eta2\": 0.3,\n            \"eta3\": 0.5,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 1.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnvOutFlowRew\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 600,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}", "run": "PPO"}, "num_cpus_per_worker": 1, "num_workers": 60, "num_envs_per_worker": 1, "output": null, "train_batch_size": 90000, "sgd_minibatch_size": 128, "clip_rewards": null, "env": "MultiWaveAttenuationMergePOEnvOutFlowRew-v0_[eta1, eta2, eta3]:[1.0, 5.0, 0.0]_t_min:5.0", "callbacks": {"on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7ff12da8cef0>", "on_sample_end": null, "on_train_result": null, "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7ff12da8c2e8>", "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7ff12da8cc18>"}, "vf_clip_param": 1000000.0, "input": "sampler", "clip_param": 0.3, "vf_loss_coeff": 1.0, "collect_metrics_timeout": 180, "lr": 0.0005, "num_cpus_for_driver": 1, "input_evaluation": null, "use_gae": true, "monitor": false, "batch_mode": "truncate_episodes", "output_max_file_size": 67108864, "lr_schedule": null, "multiagent": {"policy_graphs": {}, "policy_mapping_fn": null, "policies_to_train": null}, "sample_async": false, "sample_batch_size": 200, "clip_actions": false, "simple_optimizer": false, "custom_resources_per_worker": {}, "kl_target": 0.01, "compress_observations": false, "num_gpus": 0, "synchronize_filters": true, "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "log_level": "INFO", "observation_filter": "NoFilter", "preprocessor_pref": "deepmind", "model": {"lstm_use_prev_action_reward": false, "conv_filters": null, "dim": 84, "custom_options": {}, "fcnet_hiddens": [100, 50, 25], "lstm_cell_size": 256, "framestack": true, "conv_activation": "relu", "squash_to_range": false, "custom_preprocessor": null, "channel_major": false, "grayscale": false, "free_log_std": false, "use_lstm": false, "max_seq_len": 20, "zero_mean": true, "custom_model": null, "fcnet_activation": "tanh"}, "gamma": 0.99}, "time_total_s": 1701.0800201892853, "policy_reward_mean": {}, "training_iteration": 46, "episodes_total": 2482, "timesteps_since_restore": 5265602, "timesteps_this_iter": 118811, "episode_reward_min": 705.7287597306873, "experiment_id": "fb490f0e3688480cb8d243e87816e520", "timestamp": 1556376143, "episodes_this_iter": 50, "done": false, "date": "2019-04-27_14-42-23"}
{"time_since_restore": 1737.0875589847565, "timesteps_total": 5383700, "custom_metrics": {"outflow_rate_max": 1134.2340831036795, "outflow_rate_mean": 928.971184386771, "cost2_mean": -9.468105997253593, "cost2_min": -11.05267904153879, "cost1_max": 434.43325205412407, "system_level_velocity_max": 16.398912890912904, "outflow_rate_min": 856.4856945591766, "cost1_min": 251.7189280804085, "cost2_max": -6.924507129368996, "system_level_velocity_mean": 11.044681796321502, "cost1_mean": 293.75253895697347, "system_level_velocity_min": 9.475580771103207}, "time_this_iter_s": 36.00753879547119, "num_metric_batches_dropped": 0, "iterations_since_restore": 47, "node_ip": "10.138.0.2", "info": {"sample_time_ms": 14764.589, "num_steps_trained": 5383700, "load_time_ms": 6.932, "grad_time_ms": 22391.696, "update_time_ms": 12.232, "num_steps_sampled": 5383700, "default": {"entropy": 1.0892853736877441, "vf_explained_var": 0.762732744216919, "kl": 0.008290181867778301, "policy_loss": -0.00026874119066633284, "cur_lr": 0.0005000000237487257, "vf_loss": 22.277021408081055, "cur_kl_coeff": 0.10000001639127731, "total_loss": 22.277584075927734}}, "pid": 7924, "hostname": "flow-main", "episode_reward_max": 903.7487354452852, "episode_len_mean": 700.0, "episode_reward_mean": 774.2453693580832, "config": {"kl_coeff": 0.2, "lambda": 0.97, "vf_share_layers": false, "horizon": 1500, "tf_session_args": {"allow_soft_placement": true, "intra_op_parallelism_threads": 2, "gpu_options": {"allow_growth": true}, "device_count": {"CPU": 1}, "log_device_placement": false, "inter_op_parallelism_threads": 2}, "entropy_coeff": 0.0, "optimizer": {}, "num_gpus_per_worker": 0, "output_compress_columns": ["obs", "new_obs"], "straggler_mitigation": false, "num_sgd_iter": 10, "env_config": {"flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"eta1\": 1.0,\n            \"eta2\": 0.3,\n            \"eta3\": 0.5,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 1.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnvOutFlowRew\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 600,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}", "run": "PPO"}, "num_cpus_per_worker": 1, "num_workers": 60, "num_envs_per_worker": 1, "output": null, "train_batch_size": 90000, "sgd_minibatch_size": 128, "clip_rewards": null, "env": "MultiWaveAttenuationMergePOEnvOutFlowRew-v0_[eta1, eta2, eta3]:[1.0, 5.0, 0.0]_t_min:5.0", "callbacks": {"on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7ff12da8c898>", "on_sample_end": null, "on_train_result": null, "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7ff12da8c7b8>", "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7ff12da8cbe0>"}, "vf_clip_param": 1000000.0, "input": "sampler", "clip_param": 0.3, "vf_loss_coeff": 1.0, "collect_metrics_timeout": 180, "lr": 0.0005, "num_cpus_for_driver": 1, "input_evaluation": null, "use_gae": true, "monitor": false, "batch_mode": "truncate_episodes", "output_max_file_size": 67108864, "lr_schedule": null, "multiagent": {"policy_graphs": {}, "policy_mapping_fn": null, "policies_to_train": null}, "sample_async": false, "sample_batch_size": 200, "clip_actions": false, "simple_optimizer": false, "custom_resources_per_worker": {}, "kl_target": 0.01, "compress_observations": false, "num_gpus": 0, "synchronize_filters": true, "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "log_level": "INFO", "observation_filter": "NoFilter", "preprocessor_pref": "deepmind", "model": {"lstm_use_prev_action_reward": false, "conv_filters": null, "dim": 84, "custom_options": {}, "fcnet_hiddens": [100, 50, 25], "lstm_cell_size": 256, "framestack": true, "conv_activation": "relu", "squash_to_range": false, "custom_preprocessor": null, "channel_major": false, "grayscale": false, "free_log_std": false, "use_lstm": false, "max_seq_len": 20, "zero_mean": true, "custom_model": null, "fcnet_activation": "tanh"}, "gamma": 0.99}, "time_total_s": 1737.0875589847565, "policy_reward_mean": {}, "training_iteration": 47, "episodes_total": 2529, "timesteps_since_restore": 5383700, "timesteps_this_iter": 118098, "episode_reward_min": 712.4982463750915, "experiment_id": "fb490f0e3688480cb8d243e87816e520", "timestamp": 1556376179, "episodes_this_iter": 47, "done": false, "date": "2019-04-27_14-42-59"}
{"time_since_restore": 1775.2488160133362, "timesteps_total": 5502883, "custom_metrics": {"outflow_rate_max": 1126.4472383206914, "outflow_rate_mean": 942.5021525232661, "cost2_mean": -9.662048648423925, "cost2_min": -11.503061153342383, "cost1_max": 426.7851466423925, "system_level_velocity_max": 16.102985114465632, "outflow_rate_min": 836.7357726057304, "cost1_min": 233.84742450930224, "cost2_max": -7.864918832400857, "system_level_velocity_mean": 11.2685453351149, "cost1_mean": 300.00223045535137, "system_level_velocity_min": 8.76934416374832}, "time_this_iter_s": 38.16125702857971, "num_metric_batches_dropped": 0, "iterations_since_restore": 48, "node_ip": "10.138.0.2", "info": {"sample_time_ms": 14692.398, "num_steps_trained": 5502883, "load_time_ms": 6.955, "grad_time_ms": 22577.059, "update_time_ms": 12.296, "num_steps_sampled": 5502883, "default": {"entropy": 1.0803154706954956, "vf_explained_var": 0.7455444931983948, "kl": 0.008858220651745796, "policy_loss": -0.0004653285432141274, "cur_lr": 0.0005000000237487257, "vf_loss": 23.260337829589844, "cur_kl_coeff": 0.10000002384185791, "total_loss": 23.260757446289062}}, "pid": 7924, "hostname": "flow-main", "episode_reward_max": 900.0129409282131, "episode_len_mean": 700.0, "episode_reward_mean": 783.8696446146968, "config": {"kl_coeff": 0.2, "lambda": 0.97, "vf_share_layers": false, "horizon": 1500, "tf_session_args": {"allow_soft_placement": true, "intra_op_parallelism_threads": 2, "gpu_options": {"allow_growth": true}, "device_count": {"CPU": 1}, "log_device_placement": false, "inter_op_parallelism_threads": 2}, "entropy_coeff": 0.0, "optimizer": {}, "num_gpus_per_worker": 0, "output_compress_columns": ["obs", "new_obs"], "straggler_mitigation": false, "num_sgd_iter": 10, "env_config": {"flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"eta1\": 1.0,\n            \"eta2\": 0.3,\n            \"eta3\": 0.5,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 1.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnvOutFlowRew\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 600,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}", "run": "PPO"}, "num_cpus_per_worker": 1, "num_workers": 60, "num_envs_per_worker": 1, "output": null, "train_batch_size": 90000, "sgd_minibatch_size": 128, "clip_rewards": null, "env": "MultiWaveAttenuationMergePOEnvOutFlowRew-v0_[eta1, eta2, eta3]:[1.0, 5.0, 0.0]_t_min:5.0", "callbacks": {"on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7ff12da8cd68>", "on_sample_end": null, "on_train_result": null, "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7ff12da8cef0>", "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7ff12da8ccc0>"}, "vf_clip_param": 1000000.0, "input": "sampler", "clip_param": 0.3, "vf_loss_coeff": 1.0, "collect_metrics_timeout": 180, "lr": 0.0005, "num_cpus_for_driver": 1, "input_evaluation": null, "use_gae": true, "monitor": false, "batch_mode": "truncate_episodes", "output_max_file_size": 67108864, "lr_schedule": null, "multiagent": {"policy_graphs": {}, "policy_mapping_fn": null, "policies_to_train": null}, "sample_async": false, "sample_batch_size": 200, "clip_actions": false, "simple_optimizer": false, "custom_resources_per_worker": {}, "kl_target": 0.01, "compress_observations": false, "num_gpus": 0, "synchronize_filters": true, "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "log_level": "INFO", "observation_filter": "NoFilter", "preprocessor_pref": "deepmind", "model": {"lstm_use_prev_action_reward": false, "conv_filters": null, "dim": 84, "custom_options": {}, "fcnet_hiddens": [100, 50, 25], "lstm_cell_size": 256, "framestack": true, "conv_activation": "relu", "squash_to_range": false, "custom_preprocessor": null, "channel_major": false, "grayscale": false, "free_log_std": false, "use_lstm": false, "max_seq_len": 20, "zero_mean": true, "custom_model": null, "fcnet_activation": "tanh"}, "gamma": 0.99}, "time_total_s": 1775.2488160133362, "policy_reward_mean": {}, "training_iteration": 48, "episodes_total": 2583, "timesteps_since_restore": 5502883, "timesteps_this_iter": 119183, "episode_reward_min": 700.3733568332491, "experiment_id": "fb490f0e3688480cb8d243e87816e520", "timestamp": 1556376217, "episodes_this_iter": 54, "done": false, "date": "2019-04-27_14-43-37"}
{"time_since_restore": 1811.5963718891144, "timesteps_total": 5622443, "custom_metrics": {"outflow_rate_max": 1138.3187465493424, "outflow_rate_mean": 940.8361681047235, "cost2_mean": -9.946755103650858, "cost2_min": -12.49511552318355, "cost1_max": 431.51218438276464, "system_level_velocity_max": 16.303963291379244, "outflow_rate_min": 836.7357726057304, "cost1_min": 233.84742450930224, "cost2_max": -7.530793172671489, "system_level_velocity_mean": 11.168225540085123, "cost1_mean": 297.39147578360337, "system_level_velocity_min": 8.76934416374832}, "time_this_iter_s": 36.3475558757782, "num_metric_batches_dropped": 0, "iterations_since_restore": 49, "node_ip": "10.138.0.2", "info": {"sample_time_ms": 14521.403, "num_steps_trained": 5622443, "load_time_ms": 7.0, "grad_time_ms": 22585.448, "update_time_ms": 12.314, "num_steps_sampled": 5622443, "default": {"entropy": 1.0740925073623657, "vf_explained_var": 0.746006965637207, "kl": 0.00899896863847971, "policy_loss": -0.0002991140936501324, "cur_lr": 0.0005000000237487257, "vf_loss": 22.849828720092773, "cur_kl_coeff": 0.10000002384185791, "total_loss": 22.85042953491211}}, "pid": 7924, "hostname": "flow-main", "episode_reward_max": 902.6434586082695, "episode_len_mean": 700.0, "episode_reward_mean": 784.9919861340942, "config": {"kl_coeff": 0.2, "lambda": 0.97, "vf_share_layers": false, "horizon": 1500, "tf_session_args": {"allow_soft_placement": true, "intra_op_parallelism_threads": 2, "gpu_options": {"allow_growth": true}, "device_count": {"CPU": 1}, "log_device_placement": false, "inter_op_parallelism_threads": 2}, "entropy_coeff": 0.0, "optimizer": {}, "num_gpus_per_worker": 0, "output_compress_columns": ["obs", "new_obs"], "straggler_mitigation": false, "num_sgd_iter": 10, "env_config": {"flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"eta1\": 1.0,\n            \"eta2\": 0.3,\n            \"eta3\": 0.5,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 1.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnvOutFlowRew\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 600,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}", "run": "PPO"}, "num_cpus_per_worker": 1, "num_workers": 60, "num_envs_per_worker": 1, "output": null, "train_batch_size": 90000, "sgd_minibatch_size": 128, "clip_rewards": null, "env": "MultiWaveAttenuationMergePOEnvOutFlowRew-v0_[eta1, eta2, eta3]:[1.0, 5.0, 0.0]_t_min:5.0", "callbacks": {"on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7ff12da8c7b8>", "on_sample_end": null, "on_train_result": null, "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7ff12da8cbe0>", "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7ff12da8ce80>"}, "vf_clip_param": 1000000.0, "input": "sampler", "clip_param": 0.3, "vf_loss_coeff": 1.0, "collect_metrics_timeout": 180, "lr": 0.0005, "num_cpus_for_driver": 1, "input_evaluation": null, "use_gae": true, "monitor": false, "batch_mode": "truncate_episodes", "output_max_file_size": 67108864, "lr_schedule": null, "multiagent": {"policy_graphs": {}, "policy_mapping_fn": null, "policies_to_train": null}, "sample_async": false, "sample_batch_size": 200, "clip_actions": false, "simple_optimizer": false, "custom_resources_per_worker": {}, "kl_target": 0.01, "compress_observations": false, "num_gpus": 0, "synchronize_filters": true, "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "log_level": "INFO", "observation_filter": "NoFilter", "preprocessor_pref": "deepmind", "model": {"lstm_use_prev_action_reward": false, "conv_filters": null, "dim": 84, "custom_options": {}, "fcnet_hiddens": [100, 50, 25], "lstm_cell_size": 256, "framestack": true, "conv_activation": "relu", "squash_to_range": false, "custom_preprocessor": null, "channel_major": false, "grayscale": false, "free_log_std": false, "use_lstm": false, "max_seq_len": 20, "zero_mean": true, "custom_model": null, "fcnet_activation": "tanh"}, "gamma": 0.99}, "time_total_s": 1811.5963718891144, "policy_reward_mean": {}, "training_iteration": 49, "episodes_total": 2631, "timesteps_since_restore": 5622443, "timesteps_this_iter": 119560, "episode_reward_min": 700.3733568332491, "experiment_id": "fb490f0e3688480cb8d243e87816e520", "timestamp": 1556376253, "episodes_this_iter": 48, "done": false, "date": "2019-04-27_14-44-13"}
{"time_since_restore": 1847.171124458313, "timesteps_total": 5742681, "custom_metrics": {"outflow_rate_max": 1138.3187465493424, "outflow_rate_mean": 937.8197089620221, "cost2_mean": -10.24017697740964, "cost2_min": -13.520038407866169, "cost1_max": 431.51218438276464, "system_level_velocity_max": 16.303963291379244, "outflow_rate_min": 863.4771860547438, "cost1_min": 249.09409943143206, "cost2_max": -7.530793172671489, "system_level_velocity_mean": 11.004434139796162, "cost1_mean": 292.73004012241284, "system_level_velocity_min": 9.324325076475155}, "time_this_iter_s": 35.57475256919861, "num_metric_batches_dropped": 0, "iterations_since_restore": 50, "node_ip": "10.138.0.2", "info": {"sample_time_ms": 14431.84, "num_steps_trained": 5742681, "load_time_ms": 7.002, "grad_time_ms": 22420.452, "update_time_ms": 12.122, "num_steps_sampled": 5742681, "default": {"entropy": 1.0695127248764038, "vf_explained_var": 0.7390450239181519, "kl": 0.008571190759539604, "policy_loss": -0.0008892129408195615, "cur_lr": 0.0005000000237487257, "vf_loss": 24.989368438720703, "cur_kl_coeff": 0.10000001639127731, "total_loss": 24.989334106445312}}, "pid": 7924, "hostname": "flow-main", "episode_reward_max": 902.6434586082695, "episode_len_mean": 700.0, "episode_reward_mean": 779.0903984488052, "config": {"kl_coeff": 0.2, "lambda": 0.97, "vf_share_layers": false, "horizon": 1500, "tf_session_args": {"allow_soft_placement": true, "intra_op_parallelism_threads": 2, "gpu_options": {"allow_growth": true}, "device_count": {"CPU": 1}, "log_device_placement": false, "inter_op_parallelism_threads": 2}, "entropy_coeff": 0.0, "optimizer": {}, "num_gpus_per_worker": 0, "output_compress_columns": ["obs", "new_obs"], "straggler_mitigation": false, "num_sgd_iter": 10, "env_config": {"flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"eta1\": 1.0,\n            \"eta2\": 0.3,\n            \"eta3\": 0.5,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 1.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnvOutFlowRew\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 600,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}", "run": "PPO"}, "num_cpus_per_worker": 1, "num_workers": 60, "num_envs_per_worker": 1, "output": null, "train_batch_size": 90000, "sgd_minibatch_size": 128, "clip_rewards": null, "env": "MultiWaveAttenuationMergePOEnvOutFlowRew-v0_[eta1, eta2, eta3]:[1.0, 5.0, 0.0]_t_min:5.0", "callbacks": {"on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7ff12da8cd68>", "on_sample_end": null, "on_train_result": null, "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7ff12da8c9e8>", "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7ff12da8cda0>"}, "vf_clip_param": 1000000.0, "input": "sampler", "clip_param": 0.3, "vf_loss_coeff": 1.0, "collect_metrics_timeout": 180, "lr": 0.0005, "num_cpus_for_driver": 1, "input_evaluation": null, "use_gae": true, "monitor": false, "batch_mode": "truncate_episodes", "output_max_file_size": 67108864, "lr_schedule": null, "multiagent": {"policy_graphs": {}, "policy_mapping_fn": null, "policies_to_train": null}, "sample_async": false, "sample_batch_size": 200, "clip_actions": false, "simple_optimizer": false, "custom_resources_per_worker": {}, "kl_target": 0.01, "compress_observations": false, "num_gpus": 0, "synchronize_filters": true, "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "log_level": "INFO", "observation_filter": "NoFilter", "preprocessor_pref": "deepmind", "model": {"lstm_use_prev_action_reward": false, "conv_filters": null, "dim": 84, "custom_options": {}, "fcnet_hiddens": [100, 50, 25], "lstm_cell_size": 256, "framestack": true, "conv_activation": "relu", "squash_to_range": false, "custom_preprocessor": null, "channel_major": false, "grayscale": false, "free_log_std": false, "use_lstm": false, "max_seq_len": 20, "zero_mean": true, "custom_model": null, "fcnet_activation": "tanh"}, "gamma": 0.99}, "time_total_s": 1847.171124458313, "policy_reward_mean": {}, "training_iteration": 50, "episodes_total": 2686, "timesteps_since_restore": 5742681, "timesteps_this_iter": 120238, "episode_reward_min": 709.55498364527, "experiment_id": "fb490f0e3688480cb8d243e87816e520", "timestamp": 1556376289, "episodes_this_iter": 55, "done": true, "date": "2019-04-27_14-44-49"}
