{"time_since_restore": 67.09143853187561, "timesteps_total": 117824, "custom_metrics": {"outflow_rate_max": 687.4370030205331, "outflow_rate_mean": 609.3317750416657, "cost2_mean": -25.130430213387843, "cost2_min": -36.76144731004196, "cost1_max": 236.60624115535276, "system_level_velocity_max": 9.223189648118847, "outflow_rate_min": 570.3430897999143, "cost1_min": 165.0823555084803, "cost1_mean": 198.45956494259437, "system_level_velocity_mean": 7.706528734594995, "cost2_max": -19.008296552164968, "system_level_velocity_min": 6.477462315644286}, "time_this_iter_s": 67.09143853187561, "num_metric_batches_dropped": 0, "iterations_since_restore": 1, "node_ip": "10.138.0.2", "pid": 57990, "hostname": "flow-main", "info": {"sample_time_ms": 39119.713, "grad_time_ms": 24865.289, "load_time_ms": 59.175, "update_time_ms": 2804.561, "num_steps_sampled": 117824, "num_steps_trained": 117824, "default": {"entropy": 1.4198969602584839, "vf_explained_var": 0.8845726251602173, "kl": 0.0008796027395874262, "cur_lr": 0.0005000000237487257, "policy_loss": -0.00027006748132407665, "vf_loss": 1.4453046321868896, "cur_kl_coeff": 0.20000003278255463, "total_loss": 1.445210576057434}}, "episode_reward_max": 421.24551079184226, "episode_len_mean": 700.0, "episode_reward_mean": 324.76897523581664, "config": {"kl_coeff": 0.2, "output": null, "vf_share_layers": false, "num_sgd_iter": 10, "horizon": 1500, "tf_session_args": {"allow_soft_placement": true, "intra_op_parallelism_threads": 2, "gpu_options": {"allow_growth": true}, "device_count": {"CPU": 1}, "log_device_placement": false, "inter_op_parallelism_threads": 2}, "entropy_coeff": 0.0, "optimizer": {}, "num_gpus_per_worker": 0, "output_compress_columns": ["obs", "new_obs"], "straggler_mitigation": false, "batch_mode": "truncate_episodes", "env_config": {"flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"eta1\": 1.0,\n            \"eta2\": 0.3,\n            \"eta3\": 0.5,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 1.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnvOutFlowRew\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 600,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}", "run": "PPO"}, "monitor": false, "observation_filter": "NoFilter", "num_envs_per_worker": 1, "lambda": 0.97, "sgd_minibatch_size": 128, "clip_rewards": null, "env": "MultiWaveAttenuationMergePOEnvOutFlowRew-v0_[eta1, eta2, eta3]:[1.0, 0.1, 0.1]_t_min:5.0", "callbacks": {"on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7ff12da9d7b8>", "on_sample_end": null, "on_train_result": null, "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7ff12da9dda0>", "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7ff12da9ddd8>"}, "num_cpus_per_worker": 1, "vf_clip_param": 1000000.0, "input": "sampler", "clip_param": 0.3, "vf_loss_coeff": 1.0, "collect_metrics_timeout": 180, "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "lr": 0.0005, "num_cpus_for_driver": 1, "input_evaluation": null, "use_gae": true, "sample_async": false, "lr_schedule": null, "multiagent": {"policies_to_train": null, "policy_mapping_fn": null, "policy_graphs": {}}, "output_max_file_size": 67108864, "sample_batch_size": 200, "clip_actions": false, "simple_optimizer": false, "custom_resources_per_worker": {}, "num_workers": 60, "compress_observations": false, "num_gpus": 0, "synchronize_filters": true, "train_batch_size": 90000, "log_level": "INFO", "preprocessor_pref": "deepmind", "model": {"conv_activation": "relu", "conv_filters": null, "dim": 84, "squash_to_range": false, "custom_options": {}, "fcnet_hiddens": [100, 50, 25], "lstm_cell_size": 256, "framestack": true, "lstm_use_prev_action_reward": false, "custom_preprocessor": null, "channel_major": false, "grayscale": false, "free_log_std": false, "use_lstm": false, "max_seq_len": 20, "zero_mean": true, "custom_model": null, "fcnet_activation": "tanh"}, "gamma": 0.99, "kl_target": 0.01}, "policy_reward_mean": {}, "time_total_s": 67.09143853187561, "training_iteration": 1, "episodes_total": 30, "timesteps_since_restore": 117824, "timesteps_this_iter": 117824, "episode_reward_min": 238.00074410210655, "experiment_id": "0ca68f474651454fadb7afed60429c6a", "timestamp": 1556355946, "episodes_this_iter": 30, "done": false, "date": "2019-04-27_09-05-46"}
{"time_since_restore": 104.8281135559082, "timesteps_total": 233281, "custom_metrics": {"outflow_rate_max": 786.339471290669, "outflow_rate_mean": 614.5816108816871, "cost2_mean": -27.788380439319464, "cost2_min": -41.65409429502774, "cost1_max": 247.51378487244074, "system_level_velocity_max": 17.215678379106905, "outflow_rate_min": 394.48474125318114, "cost1_min": 17.34182640685318, "cost1_mean": 199.99164924520002, "system_level_velocity_mean": 7.907541412656023, "cost2_max": -10.840307626113185, "system_level_velocity_min": 5.121803153967235}, "time_this_iter_s": 37.73667502403259, "num_metric_batches_dropped": 0, "iterations_since_restore": 2, "node_ip": "10.138.0.2", "pid": 57990, "hostname": "flow-main", "info": {"sample_time_ms": 26704.29, "grad_time_ms": 24055.363, "load_time_ms": 35.423, "update_time_ms": 1407.635, "num_steps_sampled": 233281, "num_steps_trained": 233281, "default": {"entropy": 1.4112145900726318, "vf_explained_var": 0.886908769607544, "kl": 0.010217556729912758, "cur_lr": 0.0005000000237487257, "policy_loss": -0.004429882857948542, "vf_loss": 1.66862952709198, "cur_kl_coeff": 0.10000001639127731, "total_loss": 1.6652214527130127}}, "episode_reward_max": 519.4809181469451, "episode_len_mean": 692.6043956043956, "episode_reward_mean": 364.5722212351171, "config": {"kl_coeff": 0.2, "output": null, "vf_share_layers": false, "num_sgd_iter": 10, "horizon": 1500, "tf_session_args": {"allow_soft_placement": true, "intra_op_parallelism_threads": 2, "gpu_options": {"allow_growth": true}, "device_count": {"CPU": 1}, "log_device_placement": false, "inter_op_parallelism_threads": 2}, "entropy_coeff": 0.0, "optimizer": {}, "num_gpus_per_worker": 0, "output_compress_columns": ["obs", "new_obs"], "straggler_mitigation": false, "batch_mode": "truncate_episodes", "env_config": {"flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"eta1\": 1.0,\n            \"eta2\": 0.3,\n            \"eta3\": 0.5,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 1.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnvOutFlowRew\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 600,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}", "run": "PPO"}, "monitor": false, "observation_filter": "NoFilter", "num_envs_per_worker": 1, "lambda": 0.97, "sgd_minibatch_size": 128, "clip_rewards": null, "env": "MultiWaveAttenuationMergePOEnvOutFlowRew-v0_[eta1, eta2, eta3]:[1.0, 0.1, 0.1]_t_min:5.0", "callbacks": {"on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7ff12daa9d68>", "on_sample_end": null, "on_train_result": null, "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7ff12daa9c50>", "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7ff12daa97b8>"}, "num_cpus_per_worker": 1, "vf_clip_param": 1000000.0, "input": "sampler", "clip_param": 0.3, "vf_loss_coeff": 1.0, "collect_metrics_timeout": 180, "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "lr": 0.0005, "num_cpus_for_driver": 1, "input_evaluation": null, "use_gae": true, "sample_async": false, "lr_schedule": null, "multiagent": {"policies_to_train": null, "policy_mapping_fn": null, "policy_graphs": {}}, "output_max_file_size": 67108864, "sample_batch_size": 200, "clip_actions": false, "simple_optimizer": false, "custom_resources_per_worker": {}, "num_workers": 60, "compress_observations": false, "num_gpus": 0, "synchronize_filters": true, "train_batch_size": 90000, "log_level": "INFO", "preprocessor_pref": "deepmind", "model": {"conv_activation": "relu", "conv_filters": null, "dim": 84, "squash_to_range": false, "custom_options": {}, "fcnet_hiddens": [100, 50, 25], "lstm_cell_size": 256, "framestack": true, "lstm_use_prev_action_reward": false, "custom_preprocessor": null, "channel_major": false, "grayscale": false, "free_log_std": false, "use_lstm": false, "max_seq_len": 20, "zero_mean": true, "custom_model": null, "fcnet_activation": "tanh"}, "gamma": 0.99, "kl_target": 0.01}, "policy_reward_mean": {}, "time_total_s": 104.8281135559082, "training_iteration": 2, "episodes_total": 91, "timesteps_since_restore": 233281, "timesteps_this_iter": 115457, "episode_reward_min": 37.847837916355864, "experiment_id": "0ca68f474651454fadb7afed60429c6a", "timestamp": 1556355984, "episodes_this_iter": 61, "done": false, "date": "2019-04-27_09-06-24"}
{"time_since_restore": 141.6582305431366, "timesteps_total": 347842, "custom_metrics": {"outflow_rate_max": 900.0618614121943, "outflow_rate_mean": 667.9467525675517, "cost2_mean": -29.40168337734846, "cost2_min": -42.96835127558986, "cost1_max": 305.04897478220676, "system_level_velocity_max": 11.539944161824586, "outflow_rate_min": 394.48474125318114, "cost1_min": 137.2156537560444, "cost1_mean": 224.4704125375696, "system_level_velocity_mean": 8.634294261728403, "cost2_max": -18.280924601182853, "system_level_velocity_min": 5.121803153967235}, "time_this_iter_s": 36.830116987228394, "num_metric_batches_dropped": 0, "iterations_since_restore": 3, "node_ip": "10.138.0.2", "pid": 57990, "hostname": "flow-main", "info": {"sample_time_ms": 22531.207, "grad_time_ms": 23509.098, "load_time_ms": 28.409, "update_time_ms": 941.842, "num_steps_sampled": 347842, "num_steps_trained": 347842, "default": {"entropy": 1.3865644931793213, "vf_explained_var": 0.8452730774879456, "kl": 0.010057713836431503, "cur_lr": 0.0005000000237487257, "policy_loss": -0.005132259801030159, "vf_loss": 4.4655046463012695, "cur_kl_coeff": 0.10000001639127731, "total_loss": 4.4613776206970215}}, "episode_reward_max": 725.8792030571624, "episode_len_mean": 700.0, "episode_reward_mean": 455.9807506201562, "config": {"kl_coeff": 0.2, "output": null, "vf_share_layers": false, "num_sgd_iter": 10, "horizon": 1500, "tf_session_args": {"allow_soft_placement": true, "intra_op_parallelism_threads": 2, "gpu_options": {"allow_growth": true}, "device_count": {"CPU": 1}, "log_device_placement": false, "inter_op_parallelism_threads": 2}, "entropy_coeff": 0.0, "optimizer": {}, "num_gpus_per_worker": 0, "output_compress_columns": ["obs", "new_obs"], "straggler_mitigation": false, "batch_mode": "truncate_episodes", "env_config": {"flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"eta1\": 1.0,\n            \"eta2\": 0.3,\n            \"eta3\": 0.5,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 1.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnvOutFlowRew\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 600,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}", "run": "PPO"}, "monitor": false, "observation_filter": "NoFilter", "num_envs_per_worker": 1, "lambda": 0.97, "sgd_minibatch_size": 128, "clip_rewards": null, "env": "MultiWaveAttenuationMergePOEnvOutFlowRew-v0_[eta1, eta2, eta3]:[1.0, 0.1, 0.1]_t_min:5.0", "callbacks": {"on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7ff12daa4e80>", "on_sample_end": null, "on_train_result": null, "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7ff12daa4780>", "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7ff12daa4fd0>"}, "num_cpus_per_worker": 1, "vf_clip_param": 1000000.0, "input": "sampler", "clip_param": 0.3, "vf_loss_coeff": 1.0, "collect_metrics_timeout": 180, "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "lr": 0.0005, "num_cpus_for_driver": 1, "input_evaluation": null, "use_gae": true, "sample_async": false, "lr_schedule": null, "multiagent": {"policies_to_train": null, "policy_mapping_fn": null, "policy_graphs": {}}, "output_max_file_size": 67108864, "sample_batch_size": 200, "clip_actions": false, "simple_optimizer": false, "custom_resources_per_worker": {}, "num_workers": 60, "compress_observations": false, "num_gpus": 0, "synchronize_filters": true, "train_batch_size": 90000, "log_level": "INFO", "preprocessor_pref": "deepmind", "model": {"conv_activation": "relu", "conv_filters": null, "dim": 84, "squash_to_range": false, "custom_options": {}, "fcnet_hiddens": [100, 50, 25], "lstm_cell_size": 256, "framestack": true, "lstm_use_prev_action_reward": false, "custom_preprocessor": null, "channel_major": false, "grayscale": false, "free_log_std": false, "use_lstm": false, "max_seq_len": 20, "zero_mean": true, "custom_model": null, "fcnet_activation": "tanh"}, "gamma": 0.99, "kl_target": 0.01}, "policy_reward_mean": {}, "time_total_s": 141.6582305431366, "training_iteration": 3, "episodes_total": 141, "timesteps_since_restore": 347842, "timesteps_this_iter": 114561, "episode_reward_min": 283.75087115337743, "experiment_id": "0ca68f474651454fadb7afed60429c6a", "timestamp": 1556356021, "episodes_this_iter": 50, "done": false, "date": "2019-04-27_09-07-01"}
{"time_since_restore": 181.56105065345764, "timesteps_total": 472641, "custom_metrics": {"outflow_rate_max": 968.1916491290184, "outflow_rate_mean": 765.1546362259469, "cost2_mean": -37.79495205245139, "cost2_min": -73.6245558192248, "cost1_max": 305.04897478220676, "system_level_velocity_max": 11.539944161824586, "outflow_rate_min": 567.630733098225, "cost1_min": 185.83965685312342, "cost1_mean": 250.90360547419988, "system_level_velocity_mean": 9.54035219415653, "cost2_max": -20.830892776909693, "system_level_velocity_min": 7.241538653641867}, "time_this_iter_s": 39.902820110321045, "num_metric_batches_dropped": 0, "iterations_since_restore": 4, "node_ip": "10.138.0.2", "pid": 57990, "hostname": "flow-main", "info": {"sample_time_ms": 20734.165, "grad_time_ms": 23710.454, "load_time_ms": 24.233, "update_time_ms": 709.011, "num_steps_sampled": 472641, "num_steps_trained": 472641, "default": {"entropy": 1.3737205266952515, "vf_explained_var": 0.7970675230026245, "kl": 0.004491083789616823, "cur_lr": 0.0005000000237487257, "policy_loss": -0.001652417005971074, "vf_loss": 8.867667198181152, "cur_kl_coeff": 0.10000000894069672, "total_loss": 8.866463661193848}}, "episode_reward_max": 890.9078586799466, "episode_len_mean": 700.0, "episode_reward_mean": 626.6531473536533, "config": {"kl_coeff": 0.2, "output": null, "vf_share_layers": false, "num_sgd_iter": 10, "horizon": 1500, "tf_session_args": {"allow_soft_placement": true, "intra_op_parallelism_threads": 2, "gpu_options": {"allow_growth": true}, "device_count": {"CPU": 1}, "log_device_placement": false, "inter_op_parallelism_threads": 2}, "entropy_coeff": 0.0, "optimizer": {}, "num_gpus_per_worker": 0, "output_compress_columns": ["obs", "new_obs"], "straggler_mitigation": false, "batch_mode": "truncate_episodes", "env_config": {"flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"eta1\": 1.0,\n            \"eta2\": 0.3,\n            \"eta3\": 0.5,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 1.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnvOutFlowRew\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 600,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}", "run": "PPO"}, "monitor": false, "observation_filter": "NoFilter", "num_envs_per_worker": 1, "lambda": 0.97, "sgd_minibatch_size": 128, "clip_rewards": null, "env": "MultiWaveAttenuationMergePOEnvOutFlowRew-v0_[eta1, eta2, eta3]:[1.0, 0.1, 0.1]_t_min:5.0", "callbacks": {"on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7ff12da9dd68>", "on_sample_end": null, "on_train_result": null, "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7ff12daa98d0>", "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7ff12da9dcf8>"}, "num_cpus_per_worker": 1, "vf_clip_param": 1000000.0, "input": "sampler", "clip_param": 0.3, "vf_loss_coeff": 1.0, "collect_metrics_timeout": 180, "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "lr": 0.0005, "num_cpus_for_driver": 1, "input_evaluation": null, "use_gae": true, "sample_async": false, "lr_schedule": null, "multiagent": {"policies_to_train": null, "policy_mapping_fn": null, "policy_graphs": {}}, "output_max_file_size": 67108864, "sample_batch_size": 200, "clip_actions": false, "simple_optimizer": false, "custom_resources_per_worker": {}, "num_workers": 60, "compress_observations": false, "num_gpus": 0, "synchronize_filters": true, "train_batch_size": 90000, "log_level": "INFO", "preprocessor_pref": "deepmind", "model": {"conv_activation": "relu", "conv_filters": null, "dim": 84, "squash_to_range": false, "custom_options": {}, "fcnet_hiddens": [100, 50, 25], "lstm_cell_size": 256, "framestack": true, "lstm_use_prev_action_reward": false, "custom_preprocessor": null, "channel_major": false, "grayscale": false, "free_log_std": false, "use_lstm": false, "max_seq_len": 20, "zero_mean": true, "custom_model": null, "fcnet_activation": "tanh"}, "gamma": 0.99, "kl_target": 0.01}, "policy_reward_mean": {}, "time_total_s": 181.56105065345764, "training_iteration": 4, "episodes_total": 193, "timesteps_since_restore": 472641, "timesteps_this_iter": 124799, "episode_reward_min": 355.02449497469644, "experiment_id": "0ca68f474651454fadb7afed60429c6a", "timestamp": 1556356061, "episodes_this_iter": 52, "done": false, "date": "2019-04-27_09-07-41"}
{"time_since_restore": 220.1777834892273, "timesteps_total": 596834, "custom_metrics": {"outflow_rate_max": 1041.9211773728882, "outflow_rate_mean": 854.7770788923482, "cost2_mean": -48.6910613884435, "cost2_min": -75.48080859717534, "cost1_max": 338.7565402132433, "system_level_velocity_max": 12.812007396763693, "outflow_rate_min": 658.1827863683302, "cost1_min": 202.27343570486207, "cost1_mean": 269.58316024326575, "system_level_velocity_mean": 10.157047780582536, "cost2_max": -29.0331552367129, "system_level_velocity_min": 7.6684805983284186}, "time_this_iter_s": 38.61673283576965, "num_metric_batches_dropped": 0, "iterations_since_restore": 5, "node_ip": "10.138.0.2", "pid": 57990, "hostname": "flow-main", "info": {"sample_time_ms": 19540.454, "grad_time_ms": 23690.193, "load_time_ms": 21.77, "update_time_ms": 569.369, "num_steps_sampled": 596834, "num_steps_trained": 596834, "default": {"entropy": 1.3589961528778076, "vf_explained_var": 0.8182147741317749, "kl": 0.005721009336411953, "cur_lr": 0.0005000000237487257, "policy_loss": -0.0012896943371742964, "vf_loss": 9.90698528289795, "cur_kl_coeff": 0.05000000819563866, "total_loss": 9.90598201751709}}, "episode_reward_max": 979.4354390044983, "episode_len_mean": 700.0, "episode_reward_mean": 761.7774817131565, "config": {"kl_coeff": 0.2, "output": null, "vf_share_layers": false, "num_sgd_iter": 10, "horizon": 1500, "tf_session_args": {"allow_soft_placement": true, "intra_op_parallelism_threads": 2, "gpu_options": {"allow_growth": true}, "device_count": {"CPU": 1}, "log_device_placement": false, "inter_op_parallelism_threads": 2}, "entropy_coeff": 0.0, "optimizer": {}, "num_gpus_per_worker": 0, "output_compress_columns": ["obs", "new_obs"], "straggler_mitigation": false, "batch_mode": "truncate_episodes", "env_config": {"flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"eta1\": 1.0,\n            \"eta2\": 0.3,\n            \"eta3\": 0.5,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 1.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnvOutFlowRew\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 600,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}", "run": "PPO"}, "monitor": false, "observation_filter": "NoFilter", "num_envs_per_worker": 1, "lambda": 0.97, "sgd_minibatch_size": 128, "clip_rewards": null, "env": "MultiWaveAttenuationMergePOEnvOutFlowRew-v0_[eta1, eta2, eta3]:[1.0, 0.1, 0.1]_t_min:5.0", "callbacks": {"on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7ff12daa4400>", "on_sample_end": null, "on_train_result": null, "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7ff12daa4b70>", "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7ff12daa4828>"}, "num_cpus_per_worker": 1, "vf_clip_param": 1000000.0, "input": "sampler", "clip_param": 0.3, "vf_loss_coeff": 1.0, "collect_metrics_timeout": 180, "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "lr": 0.0005, "num_cpus_for_driver": 1, "input_evaluation": null, "use_gae": true, "sample_async": false, "lr_schedule": null, "multiagent": {"policies_to_train": null, "policy_mapping_fn": null, "policy_graphs": {}}, "output_max_file_size": 67108864, "sample_batch_size": 200, "clip_actions": false, "simple_optimizer": false, "custom_resources_per_worker": {}, "num_workers": 60, "compress_observations": false, "num_gpus": 0, "synchronize_filters": true, "train_batch_size": 90000, "log_level": "INFO", "preprocessor_pref": "deepmind", "model": {"conv_activation": "relu", "conv_filters": null, "dim": 84, "squash_to_range": false, "custom_options": {}, "fcnet_hiddens": [100, 50, 25], "lstm_cell_size": 256, "framestack": true, "lstm_use_prev_action_reward": false, "custom_preprocessor": null, "channel_major": false, "grayscale": false, "free_log_std": false, "use_lstm": false, "max_seq_len": 20, "zero_mean": true, "custom_model": null, "fcnet_activation": "tanh"}, "gamma": 0.99, "kl_target": 0.01}, "policy_reward_mean": {}, "time_total_s": 220.1777834892273, "training_iteration": 5, "episodes_total": 235, "timesteps_since_restore": 596834, "timesteps_this_iter": 124193, "episode_reward_min": 536.5753360916696, "experiment_id": "0ca68f474651454fadb7afed60429c6a", "timestamp": 1556356100, "episodes_this_iter": 42, "done": false, "date": "2019-04-27_09-08-20"}
{"time_since_restore": 259.67336916923523, "timesteps_total": 722275, "custom_metrics": {"outflow_rate_max": 1136.4354801593554, "outflow_rate_mean": 935.2411302737486, "cost2_mean": -56.926917698727046, "cost2_min": -86.92376467387113, "cost1_max": 357.46824418416554, "system_level_velocity_max": 18.22605387097341, "outflow_rate_min": 466.74083028559994, "cost1_min": 22.779545042341915, "cost1_mean": 288.07082063069794, "system_level_velocity_mean": 11.006043845262406, "cost2_max": -15.714775433851203, "system_level_velocity_min": 8.499677557735565}, "time_this_iter_s": 39.495585680007935, "num_metric_batches_dropped": 0, "iterations_since_restore": 6, "node_ip": "10.138.0.2", "pid": 57990, "hostname": "flow-main", "info": {"sample_time_ms": 18881.981, "grad_time_ms": 23686.105, "load_time_ms": 19.801, "update_time_ms": 476.565, "num_steps_sampled": 722275, "num_steps_trained": 722275, "default": {"entropy": 1.3490239381790161, "vf_explained_var": 0.7760568857192993, "kl": 0.0047072237357497215, "cur_lr": 0.0005000000237487257, "policy_loss": -0.0010093521559610963, "vf_loss": 13.084437370300293, "cur_kl_coeff": 0.05000000819563866, "total_loss": 13.083663940429688}}, "episode_reward_max": 1042.5929123543629, "episode_len_mean": 693.35, "episode_reward_mean": 839.2621694162206, "config": {"kl_coeff": 0.2, "output": null, "vf_share_layers": false, "num_sgd_iter": 10, "horizon": 1500, "tf_session_args": {"allow_soft_placement": true, "intra_op_parallelism_threads": 2, "gpu_options": {"allow_growth": true}, "device_count": {"CPU": 1}, "log_device_placement": false, "inter_op_parallelism_threads": 2}, "entropy_coeff": 0.0, "optimizer": {}, "num_gpus_per_worker": 0, "output_compress_columns": ["obs", "new_obs"], "straggler_mitigation": false, "batch_mode": "truncate_episodes", "env_config": {"flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"eta1\": 1.0,\n            \"eta2\": 0.3,\n            \"eta3\": 0.5,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 1.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnvOutFlowRew\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 600,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}", "run": "PPO"}, "monitor": false, "observation_filter": "NoFilter", "num_envs_per_worker": 1, "lambda": 0.97, "sgd_minibatch_size": 128, "clip_rewards": null, "env": "MultiWaveAttenuationMergePOEnvOutFlowRew-v0_[eta1, eta2, eta3]:[1.0, 0.1, 0.1]_t_min:5.0", "callbacks": {"on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7ff12daa9f98>", "on_sample_end": null, "on_train_result": null, "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7ff12daa9e10>", "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7ff12daa9c50>"}, "num_cpus_per_worker": 1, "vf_clip_param": 1000000.0, "input": "sampler", "clip_param": 0.3, "vf_loss_coeff": 1.0, "collect_metrics_timeout": 180, "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "lr": 0.0005, "num_cpus_for_driver": 1, "input_evaluation": null, "use_gae": true, "sample_async": false, "lr_schedule": null, "multiagent": {"policies_to_train": null, "policy_mapping_fn": null, "policy_graphs": {}}, "output_max_file_size": 67108864, "sample_batch_size": 200, "clip_actions": false, "simple_optimizer": false, "custom_resources_per_worker": {}, "num_workers": 60, "compress_observations": false, "num_gpus": 0, "synchronize_filters": true, "train_batch_size": 90000, "log_level": "INFO", "preprocessor_pref": "deepmind", "model": {"conv_activation": "relu", "conv_filters": null, "dim": 84, "squash_to_range": false, "custom_options": {}, "fcnet_hiddens": [100, 50, 25], "lstm_cell_size": 256, "framestack": true, "lstm_use_prev_action_reward": false, "custom_preprocessor": null, "channel_major": false, "grayscale": false, "free_log_std": false, "use_lstm": false, "max_seq_len": 20, "zero_mean": true, "custom_model": null, "fcnet_activation": "tanh"}, "gamma": 0.99, "kl_target": 0.01}, "policy_reward_mean": {}, "time_total_s": 259.67336916923523, "training_iteration": 6, "episodes_total": 284, "timesteps_since_restore": 722275, "timesteps_this_iter": 125441, "episode_reward_min": 51.899805299412, "experiment_id": "0ca68f474651454fadb7afed60429c6a", "timestamp": 1556356139, "episodes_this_iter": 49, "done": false, "date": "2019-04-27_09-08-59"}
{"time_since_restore": 297.5311279296875, "timesteps_total": 846499, "custom_metrics": {"outflow_rate_max": 1136.4354801593554, "outflow_rate_mean": 976.3768028903476, "cost2_mean": -63.758057408305625, "cost2_min": -87.55664168538209, "cost1_max": 357.46824418416554, "system_level_velocity_max": 18.22605387097341, "outflow_rate_min": 466.74083028559994, "cost1_min": 17.86340456395189, "cost1_mean": 294.871209645096, "system_level_velocity_mean": 11.424721580684514, "cost2_max": -12.337711281442356, "system_level_velocity_min": 8.94569731171498}, "time_this_iter_s": 37.85775876045227, "num_metric_batches_dropped": 0, "iterations_since_restore": 7, "node_ip": "10.138.0.2", "pid": 57990, "hostname": "flow-main", "info": {"sample_time_ms": 18344.142, "grad_time_ms": 23515.443, "load_time_ms": 18.748, "update_time_ms": 410.022, "num_steps_sampled": 846499, "num_steps_trained": 846499, "default": {"entropy": 1.340856909751892, "vf_explained_var": 0.7301044464111328, "kl": 0.00594311160966754, "cur_lr": 0.0005000000237487257, "policy_loss": -0.0008168417843990028, "vf_loss": 13.936416625976562, "cur_kl_coeff": 0.02500000409781933, "total_loss": 13.935748100280762}}, "episode_reward_max": 1049.0852052714465, "episode_len_mean": 686.62, "episode_reward_mean": 874.4758451993138, "config": {"kl_coeff": 0.2, "output": null, "vf_share_layers": false, "num_sgd_iter": 10, "horizon": 1500, "tf_session_args": {"allow_soft_placement": true, "intra_op_parallelism_threads": 2, "gpu_options": {"allow_growth": true}, "device_count": {"CPU": 1}, "log_device_placement": false, "inter_op_parallelism_threads": 2}, "entropy_coeff": 0.0, "optimizer": {}, "num_gpus_per_worker": 0, "output_compress_columns": ["obs", "new_obs"], "straggler_mitigation": false, "batch_mode": "truncate_episodes", "env_config": {"flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"eta1\": 1.0,\n            \"eta2\": 0.3,\n            \"eta3\": 0.5,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 1.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnvOutFlowRew\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 600,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}", "run": "PPO"}, "monitor": false, "observation_filter": "NoFilter", "num_envs_per_worker": 1, "lambda": 0.97, "sgd_minibatch_size": 128, "clip_rewards": null, "env": "MultiWaveAttenuationMergePOEnvOutFlowRew-v0_[eta1, eta2, eta3]:[1.0, 0.1, 0.1]_t_min:5.0", "callbacks": {"on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7ff12daa46a0>", "on_sample_end": null, "on_train_result": null, "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7ff12daa4e80>", "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7ff12daa4f98>"}, "num_cpus_per_worker": 1, "vf_clip_param": 1000000.0, "input": "sampler", "clip_param": 0.3, "vf_loss_coeff": 1.0, "collect_metrics_timeout": 180, "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "lr": 0.0005, "num_cpus_for_driver": 1, "input_evaluation": null, "use_gae": true, "sample_async": false, "lr_schedule": null, "multiagent": {"policies_to_train": null, "policy_mapping_fn": null, "policy_graphs": {}}, "output_max_file_size": 67108864, "sample_batch_size": 200, "clip_actions": false, "simple_optimizer": false, "custom_resources_per_worker": {}, "num_workers": 60, "compress_observations": false, "num_gpus": 0, "synchronize_filters": true, "train_batch_size": 90000, "log_level": "INFO", "preprocessor_pref": "deepmind", "model": {"conv_activation": "relu", "conv_filters": null, "dim": 84, "squash_to_range": false, "custom_options": {}, "fcnet_hiddens": [100, 50, 25], "lstm_cell_size": 256, "framestack": true, "lstm_use_prev_action_reward": false, "custom_preprocessor": null, "channel_major": false, "grayscale": false, "free_log_std": false, "use_lstm": false, "max_seq_len": 20, "zero_mean": true, "custom_model": null, "fcnet_activation": "tanh"}, "gamma": 0.99, "kl_target": 0.01}, "policy_reward_mean": {}, "time_total_s": 297.5311279296875, "training_iteration": 7, "episodes_total": 341, "timesteps_since_restore": 846499, "timesteps_this_iter": 124224, "episode_reward_min": 40.03159148998496, "experiment_id": "0ca68f474651454fadb7afed60429c6a", "timestamp": 1556356177, "episodes_this_iter": 57, "done": false, "date": "2019-04-27_09-09-37"}
{"time_since_restore": 333.7701578140259, "timesteps_total": 968651, "custom_metrics": {"outflow_rate_max": 1085.009399338894, "outflow_rate_mean": 980.3762224180998, "cost2_mean": -65.29257083489738, "cost2_min": -87.55664168538209, "cost1_max": 351.6227058026867, "system_level_velocity_max": 17.615208213358084, "outflow_rate_min": 454.1881787896761, "cost1_min": 17.633666829741443, "cost1_mean": 294.4554724656708, "system_level_velocity_mean": 11.391466050255099, "cost2_max": -12.337711281442356, "system_level_velocity_min": 9.19198543753113}, "time_this_iter_s": 36.23902988433838, "num_metric_batches_dropped": 0, "iterations_since_restore": 8, "node_ip": "10.138.0.2", "pid": 57990, "hostname": "flow-main", "info": {"sample_time_ms": 17850.133, "grad_time_ms": 23277.123, "load_time_ms": 17.648, "update_time_ms": 360.188, "num_steps_sampled": 968651, "num_steps_trained": 968651, "default": {"entropy": 1.3274097442626953, "vf_explained_var": 0.7333589196205139, "kl": 0.00580216757953167, "cur_lr": 0.0005000000237487257, "policy_loss": -0.0007896285387687385, "vf_loss": 12.006046295166016, "cur_kl_coeff": 0.02500000409781933, "total_loss": 12.005400657653809}}, "episode_reward_max": 1049.0852052714465, "episode_len_mean": 686.54, "episode_reward_mean": 881.9080927505465, "config": {"kl_coeff": 0.2, "output": null, "vf_share_layers": false, "num_sgd_iter": 10, "horizon": 1500, "tf_session_args": {"allow_soft_placement": true, "intra_op_parallelism_threads": 2, "gpu_options": {"allow_growth": true}, "device_count": {"CPU": 1}, "log_device_placement": false, "inter_op_parallelism_threads": 2}, "entropy_coeff": 0.0, "optimizer": {}, "num_gpus_per_worker": 0, "output_compress_columns": ["obs", "new_obs"], "straggler_mitigation": false, "batch_mode": "truncate_episodes", "env_config": {"flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"eta1\": 1.0,\n            \"eta2\": 0.3,\n            \"eta3\": 0.5,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 1.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnvOutFlowRew\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 600,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}", "run": "PPO"}, "monitor": false, "observation_filter": "NoFilter", "num_envs_per_worker": 1, "lambda": 0.97, "sgd_minibatch_size": 128, "clip_rewards": null, "env": "MultiWaveAttenuationMergePOEnvOutFlowRew-v0_[eta1, eta2, eta3]:[1.0, 0.1, 0.1]_t_min:5.0", "callbacks": {"on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7ff12f315908>", "on_sample_end": null, "on_train_result": null, "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7ff12daa9eb8>", "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7ff12f3157b8>"}, "num_cpus_per_worker": 1, "vf_clip_param": 1000000.0, "input": "sampler", "clip_param": 0.3, "vf_loss_coeff": 1.0, "collect_metrics_timeout": 180, "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "lr": 0.0005, "num_cpus_for_driver": 1, "input_evaluation": null, "use_gae": true, "sample_async": false, "lr_schedule": null, "multiagent": {"policies_to_train": null, "policy_mapping_fn": null, "policy_graphs": {}}, "output_max_file_size": 67108864, "sample_batch_size": 200, "clip_actions": false, "simple_optimizer": false, "custom_resources_per_worker": {}, "num_workers": 60, "compress_observations": false, "num_gpus": 0, "synchronize_filters": true, "train_batch_size": 90000, "log_level": "INFO", "preprocessor_pref": "deepmind", "model": {"conv_activation": "relu", "conv_filters": null, "dim": 84, "squash_to_range": false, "custom_options": {}, "fcnet_hiddens": [100, 50, 25], "lstm_cell_size": 256, "framestack": true, "lstm_use_prev_action_reward": false, "custom_preprocessor": null, "channel_major": false, "grayscale": false, "free_log_std": false, "use_lstm": false, "max_seq_len": 20, "zero_mean": true, "custom_model": null, "fcnet_activation": "tanh"}, "gamma": 0.99, "kl_target": 0.01}, "policy_reward_mean": {}, "time_total_s": 333.7701578140259, "training_iteration": 8, "episodes_total": 384, "timesteps_since_restore": 968651, "timesteps_this_iter": 122152, "episode_reward_min": 40.03159148998496, "experiment_id": "0ca68f474651454fadb7afed60429c6a", "timestamp": 1556356213, "episodes_this_iter": 43, "done": false, "date": "2019-04-27_09-10-13"}
{"time_since_restore": 372.1292588710785, "timesteps_total": 1091909, "custom_metrics": {"outflow_rate_max": 1087.6814370950328, "outflow_rate_mean": 986.6688739955816, "cost2_mean": -64.48556283287448, "cost2_min": -84.87613327175805, "cost1_max": 345.02139570784146, "system_level_velocity_max": 16.982899240929235, "outflow_rate_min": 454.1881787896761, "cost1_min": 17.633666829741443, "cost1_mean": 298.2168735090579, "system_level_velocity_mean": 11.346729579602279, "cost2_max": -12.798973495014007, "system_level_velocity_min": 9.864914964048484}, "time_this_iter_s": 38.35910105705261, "num_metric_batches_dropped": 0, "iterations_since_restore": 9, "node_ip": "10.138.0.2", "pid": 57990, "hostname": "flow-main", "info": {"sample_time_ms": 17482.675, "grad_time_ms": 23310.344, "load_time_ms": 16.823, "update_time_ms": 321.246, "num_steps_sampled": 1091909, "num_steps_trained": 1091909, "default": {"entropy": 1.3192805051803589, "vf_explained_var": 0.7107551693916321, "kl": 0.0075021968223154545, "cur_lr": 0.0005000000237487257, "policy_loss": -0.0015602095518261194, "vf_loss": 13.739734649658203, "cur_kl_coeff": 0.02500000409781933, "total_loss": 13.738362312316895}}, "episode_reward_max": 1015.3633011141059, "episode_len_mean": 693.27, "episode_reward_mean": 897.158905233548, "config": {"kl_coeff": 0.2, "output": null, "vf_share_layers": false, "num_sgd_iter": 10, "horizon": 1500, "tf_session_args": {"allow_soft_placement": true, "intra_op_parallelism_threads": 2, "gpu_options": {"allow_growth": true}, "device_count": {"CPU": 1}, "log_device_placement": false, "inter_op_parallelism_threads": 2}, "entropy_coeff": 0.0, "optimizer": {}, "num_gpus_per_worker": 0, "output_compress_columns": ["obs", "new_obs"], "straggler_mitigation": false, "batch_mode": "truncate_episodes", "env_config": {"flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"eta1\": 1.0,\n            \"eta2\": 0.3,\n            \"eta3\": 0.5,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 1.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnvOutFlowRew\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 600,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}", "run": "PPO"}, "monitor": false, "observation_filter": "NoFilter", "num_envs_per_worker": 1, "lambda": 0.97, "sgd_minibatch_size": 128, "clip_rewards": null, "env": "MultiWaveAttenuationMergePOEnvOutFlowRew-v0_[eta1, eta2, eta3]:[1.0, 0.1, 0.1]_t_min:5.0", "callbacks": {"on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7ff12daa44e0>", "on_sample_end": null, "on_train_result": null, "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7ff12daa4550>", "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7ff12daa46d8>"}, "num_cpus_per_worker": 1, "vf_clip_param": 1000000.0, "input": "sampler", "clip_param": 0.3, "vf_loss_coeff": 1.0, "collect_metrics_timeout": 180, "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "lr": 0.0005, "num_cpus_for_driver": 1, "input_evaluation": null, "use_gae": true, "sample_async": false, "lr_schedule": null, "multiagent": {"policies_to_train": null, "policy_mapping_fn": null, "policy_graphs": {}}, "output_max_file_size": 67108864, "sample_batch_size": 200, "clip_actions": false, "simple_optimizer": false, "custom_resources_per_worker": {}, "num_workers": 60, "compress_observations": false, "num_gpus": 0, "synchronize_filters": true, "train_batch_size": 90000, "log_level": "INFO", "preprocessor_pref": "deepmind", "model": {"conv_activation": "relu", "conv_filters": null, "dim": 84, "squash_to_range": false, "custom_options": {}, "fcnet_hiddens": [100, 50, 25], "lstm_cell_size": 256, "framestack": true, "lstm_use_prev_action_reward": false, "custom_preprocessor": null, "channel_major": false, "grayscale": false, "free_log_std": false, "use_lstm": false, "max_seq_len": 20, "zero_mean": true, "custom_model": null, "fcnet_activation": "tanh"}, "gamma": 0.99, "kl_target": 0.01}, "policy_reward_mean": {}, "time_total_s": 372.1292588710785, "training_iteration": 9, "episodes_total": 435, "timesteps_since_restore": 1091909, "timesteps_this_iter": 123258, "episode_reward_min": 41.92208658114731, "experiment_id": "0ca68f474651454fadb7afed60429c6a", "timestamp": 1556356252, "episodes_this_iter": 51, "done": false, "date": "2019-04-27_09-10-52"}
{"time_since_restore": 408.9091377258301, "timesteps_total": 1214574, "custom_metrics": {"outflow_rate_max": 1100.8742344939358, "outflow_rate_mean": 984.7661943883045, "cost2_mean": -64.99068016158407, "cost2_min": -86.33137867516345, "cost1_max": 354.35791362075963, "system_level_velocity_max": 16.676616630821535, "outflow_rate_min": 462.7169295230079, "cost1_min": 17.422566776816847, "cost1_mean": 297.84967335977046, "system_level_velocity_mean": 11.328569284541224, "cost2_max": -12.752858571657022, "system_level_velocity_min": 9.715905272121974}, "time_this_iter_s": 36.77987885475159, "num_metric_batches_dropped": 0, "iterations_since_restore": 10, "node_ip": "10.138.0.2", "pid": 57990, "hostname": "flow-main", "info": {"sample_time_ms": 17148.19, "grad_time_ms": 23219.537, "load_time_ms": 16.324, "update_time_ms": 290.181, "num_steps_sampled": 1214574, "num_steps_trained": 1214574, "default": {"entropy": 1.3082538843154907, "vf_explained_var": 0.7177642583847046, "kl": 0.0060187638737261295, "cur_lr": 0.0005000000237487257, "policy_loss": -0.0006423993618227541, "vf_loss": 14.695316314697266, "cur_kl_coeff": 0.02500000409781933, "total_loss": 14.69482421875}}, "episode_reward_max": 1076.6249890672286, "episode_len_mean": 693.27, "episode_reward_mean": 897.9266057970867, "config": {"kl_coeff": 0.2, "output": null, "vf_share_layers": false, "num_sgd_iter": 10, "horizon": 1500, "tf_session_args": {"allow_soft_placement": true, "intra_op_parallelism_threads": 2, "gpu_options": {"allow_growth": true}, "device_count": {"CPU": 1}, "log_device_placement": false, "inter_op_parallelism_threads": 2}, "entropy_coeff": 0.0, "optimizer": {}, "num_gpus_per_worker": 0, "output_compress_columns": ["obs", "new_obs"], "straggler_mitigation": false, "batch_mode": "truncate_episodes", "env_config": {"flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"eta1\": 1.0,\n            \"eta2\": 0.3,\n            \"eta3\": 0.5,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 1.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnvOutFlowRew\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 600,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}", "run": "PPO"}, "monitor": false, "observation_filter": "NoFilter", "num_envs_per_worker": 1, "lambda": 0.97, "sgd_minibatch_size": 128, "clip_rewards": null, "env": "MultiWaveAttenuationMergePOEnvOutFlowRew-v0_[eta1, eta2, eta3]:[1.0, 0.1, 0.1]_t_min:5.0", "callbacks": {"on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7ff12daa9908>", "on_sample_end": null, "on_train_result": null, "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7ff12daa9358>", "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7ff12daa96d8>"}, "num_cpus_per_worker": 1, "vf_clip_param": 1000000.0, "input": "sampler", "clip_param": 0.3, "vf_loss_coeff": 1.0, "collect_metrics_timeout": 180, "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "lr": 0.0005, "num_cpus_for_driver": 1, "input_evaluation": null, "use_gae": true, "sample_async": false, "lr_schedule": null, "multiagent": {"policies_to_train": null, "policy_mapping_fn": null, "policy_graphs": {}}, "output_max_file_size": 67108864, "sample_batch_size": 200, "clip_actions": false, "simple_optimizer": false, "custom_resources_per_worker": {}, "num_workers": 60, "compress_observations": false, "num_gpus": 0, "synchronize_filters": true, "train_batch_size": 90000, "log_level": "INFO", "preprocessor_pref": "deepmind", "model": {"conv_activation": "relu", "conv_filters": null, "dim": 84, "squash_to_range": false, "custom_options": {}, "fcnet_hiddens": [100, 50, 25], "lstm_cell_size": 256, "framestack": true, "lstm_use_prev_action_reward": false, "custom_preprocessor": null, "channel_major": false, "grayscale": false, "free_log_std": false, "use_lstm": false, "max_seq_len": 20, "zero_mean": true, "custom_model": null, "fcnet_activation": "tanh"}, "gamma": 0.99, "kl_target": 0.01}, "policy_reward_mean": {}, "time_total_s": 408.9091377258301, "training_iteration": 10, "episodes_total": 484, "timesteps_since_restore": 1214574, "timesteps_this_iter": 122665, "episode_reward_min": 41.438689670801395, "experiment_id": "0ca68f474651454fadb7afed60429c6a", "timestamp": 1556356288, "episodes_this_iter": 49, "done": false, "date": "2019-04-27_09-11-28"}
{"time_since_restore": 445.86524081230164, "timesteps_total": 1336901, "custom_metrics": {"outflow_rate_max": 1100.8742344939358, "outflow_rate_mean": 987.8912092939603, "cost2_mean": -68.07245407302435, "cost2_min": -94.78466834659017, "cost1_max": 354.35791362075963, "system_level_velocity_max": 18.11748802655441, "outflow_rate_min": 462.7169295230079, "cost1_min": 17.422566776816847, "cost1_mean": 296.40764403414585, "system_level_velocity_mean": 11.470725640463245, "cost2_max": -12.752858571657022, "system_level_velocity_min": 9.715905272121974}, "time_this_iter_s": 36.95610308647156, "num_metric_batches_dropped": 0, "iterations_since_restore": 11, "node_ip": "10.138.0.2", "pid": 57990, "hostname": "flow-main", "info": {"sample_time_ms": 14670.272, "grad_time_ms": 22970.287, "load_time_ms": 11.543, "update_time_ms": 10.798, "num_steps_sampled": 1336901, "num_steps_trained": 1336901, "default": {"entropy": 1.3087055683135986, "vf_explained_var": 0.6939183473587036, "kl": 0.004646933171898127, "cur_lr": 0.0005000000237487257, "policy_loss": -0.0003210683062206954, "vf_loss": 15.394257545471191, "cur_kl_coeff": 0.02500000409781933, "total_loss": 15.394052505493164}}, "episode_reward_max": 1076.6249890672286, "episode_len_mean": 686.62, "episode_reward_mean": 882.2962012688425, "config": {"kl_coeff": 0.2, "output": null, "vf_share_layers": false, "num_sgd_iter": 10, "horizon": 1500, "tf_session_args": {"allow_soft_placement": true, "intra_op_parallelism_threads": 2, "gpu_options": {"allow_growth": true}, "device_count": {"CPU": 1}, "log_device_placement": false, "inter_op_parallelism_threads": 2}, "entropy_coeff": 0.0, "optimizer": {}, "num_gpus_per_worker": 0, "output_compress_columns": ["obs", "new_obs"], "straggler_mitigation": false, "batch_mode": "truncate_episodes", "env_config": {"flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"eta1\": 1.0,\n            \"eta2\": 0.3,\n            \"eta3\": 0.5,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 1.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnvOutFlowRew\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 600,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}", "run": "PPO"}, "monitor": false, "observation_filter": "NoFilter", "num_envs_per_worker": 1, "lambda": 0.97, "sgd_minibatch_size": 128, "clip_rewards": null, "env": "MultiWaveAttenuationMergePOEnvOutFlowRew-v0_[eta1, eta2, eta3]:[1.0, 0.1, 0.1]_t_min:5.0", "callbacks": {"on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7ff12daa4278>", "on_sample_end": null, "on_train_result": null, "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7ff12daa4780>", "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7ff12daa4a90>"}, "num_cpus_per_worker": 1, "vf_clip_param": 1000000.0, "input": "sampler", "clip_param": 0.3, "vf_loss_coeff": 1.0, "collect_metrics_timeout": 180, "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "lr": 0.0005, "num_cpus_for_driver": 1, "input_evaluation": null, "use_gae": true, "sample_async": false, "lr_schedule": null, "multiagent": {"policies_to_train": null, "policy_mapping_fn": null, "policy_graphs": {}}, "output_max_file_size": 67108864, "sample_batch_size": 200, "clip_actions": false, "simple_optimizer": false, "custom_resources_per_worker": {}, "num_workers": 60, "compress_observations": false, "num_gpus": 0, "synchronize_filters": true, "train_batch_size": 90000, "log_level": "INFO", "preprocessor_pref": "deepmind", "model": {"conv_activation": "relu", "conv_filters": null, "dim": 84, "squash_to_range": false, "custom_options": {}, "fcnet_hiddens": [100, 50, 25], "lstm_cell_size": 256, "framestack": true, "lstm_use_prev_action_reward": false, "custom_preprocessor": null, "channel_major": false, "grayscale": false, "free_log_std": false, "use_lstm": false, "max_seq_len": 20, "zero_mean": true, "custom_model": null, "fcnet_activation": "tanh"}, "gamma": 0.99, "kl_target": 0.01}, "policy_reward_mean": {}, "time_total_s": 445.86524081230164, "training_iteration": 11, "episodes_total": 539, "timesteps_since_restore": 1336901, "timesteps_this_iter": 122327, "episode_reward_min": 41.438689670801395, "experiment_id": "0ca68f474651454fadb7afed60429c6a", "timestamp": 1556356325, "episodes_this_iter": 55, "done": false, "date": "2019-04-27_09-12-05"}
{"time_since_restore": 482.6642646789551, "timesteps_total": 1458615, "custom_metrics": {"outflow_rate_max": 1105.4698739037217, "outflow_rate_mean": 997.045904468534, "cost2_mean": -74.27484585596918, "cost2_min": -97.01496113462306, "cost1_max": 346.78764230090144, "system_level_velocity_max": 18.140230537432892, "outflow_rate_min": 479.13687232378516, "cost1_min": 22.61303853427414, "cost1_mean": 296.9496412633712, "system_level_velocity_mean": 11.522111251929552, "cost2_max": -14.305218768695353, "system_level_velocity_min": 9.823553690845628}, "time_this_iter_s": 36.79902386665344, "num_metric_batches_dropped": 0, "iterations_since_restore": 12, "node_ip": "10.138.0.2", "pid": 57990, "hostname": "flow-main", "info": {"sample_time_ms": 14668.975, "grad_time_ms": 22876.698, "load_time_ms": 11.294, "update_time_ms": 10.755, "num_steps_sampled": 1458615, "num_steps_trained": 1458615, "default": {"entropy": 1.2967488765716553, "vf_explained_var": 0.6373385190963745, "kl": 0.0060495673678815365, "cur_lr": 0.0005000000237487257, "policy_loss": -0.0005146307521499693, "vf_loss": 16.1457462310791, "cur_kl_coeff": 0.012500002048909664, "total_loss": 16.145305633544922}}, "episode_reward_max": 983.4412811766458, "episode_len_mean": 686.72, "episode_reward_mean": 879.4325153131431, "config": {"kl_coeff": 0.2, "output": null, "vf_share_layers": false, "num_sgd_iter": 10, "horizon": 1500, "tf_session_args": {"allow_soft_placement": true, "intra_op_parallelism_threads": 2, "gpu_options": {"allow_growth": true}, "device_count": {"CPU": 1}, "log_device_placement": false, "inter_op_parallelism_threads": 2}, "entropy_coeff": 0.0, "optimizer": {}, "num_gpus_per_worker": 0, "output_compress_columns": ["obs", "new_obs"], "straggler_mitigation": false, "batch_mode": "truncate_episodes", "env_config": {"flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"eta1\": 1.0,\n            \"eta2\": 0.3,\n            \"eta3\": 0.5,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 1.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnvOutFlowRew\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 600,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}", "run": "PPO"}, "monitor": false, "observation_filter": "NoFilter", "num_envs_per_worker": 1, "lambda": 0.97, "sgd_minibatch_size": 128, "clip_rewards": null, "env": "MultiWaveAttenuationMergePOEnvOutFlowRew-v0_[eta1, eta2, eta3]:[1.0, 0.1, 0.1]_t_min:5.0", "callbacks": {"on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7ff12daa45f8>", "on_sample_end": null, "on_train_result": null, "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7ff12daa4c18>", "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7ff12daa4048>"}, "num_cpus_per_worker": 1, "vf_clip_param": 1000000.0, "input": "sampler", "clip_param": 0.3, "vf_loss_coeff": 1.0, "collect_metrics_timeout": 180, "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "lr": 0.0005, "num_cpus_for_driver": 1, "input_evaluation": null, "use_gae": true, "sample_async": false, "lr_schedule": null, "multiagent": {"policies_to_train": null, "policy_mapping_fn": null, "policy_graphs": {}}, "output_max_file_size": 67108864, "sample_batch_size": 200, "clip_actions": false, "simple_optimizer": false, "custom_resources_per_worker": {}, "num_workers": 60, "compress_observations": false, "num_gpus": 0, "synchronize_filters": true, "train_batch_size": 90000, "log_level": "INFO", "preprocessor_pref": "deepmind", "model": {"conv_activation": "relu", "conv_filters": null, "dim": 84, "squash_to_range": false, "custom_options": {}, "fcnet_hiddens": [100, 50, 25], "lstm_cell_size": 256, "framestack": true, "lstm_use_prev_action_reward": false, "custom_preprocessor": null, "channel_major": false, "grayscale": false, "free_log_std": false, "use_lstm": false, "max_seq_len": 20, "zero_mean": true, "custom_model": null, "fcnet_activation": "tanh"}, "gamma": 0.99, "kl_target": 0.01}, "policy_reward_mean": {}, "time_total_s": 482.6642646789551, "training_iteration": 12, "episodes_total": 589, "timesteps_since_restore": 1458615, "timesteps_this_iter": 121714, "episode_reward_min": 52.51474082342571, "experiment_id": "0ca68f474651454fadb7afed60429c6a", "timestamp": 1556356362, "episodes_this_iter": 50, "done": false, "date": "2019-04-27_09-12-42"}
{"time_since_restore": 521.1039531230927, "timesteps_total": 1581435, "custom_metrics": {"outflow_rate_max": 1105.4698739037217, "outflow_rate_mean": 1004.6925554315462, "cost2_mean": -80.63598097900324, "cost2_min": -100.27235148501589, "cost1_max": 346.78764230090144, "system_level_velocity_max": 18.140230537432892, "outflow_rate_min": 479.13687232378516, "cost1_min": 23.948000219330524, "cost1_mean": 299.63616564770746, "system_level_velocity_mean": 11.458046877032102, "cost2_max": -15.6647648010709, "system_level_velocity_min": 9.06031869726481}, "time_this_iter_s": 38.43968844413757, "num_metric_batches_dropped": 0, "iterations_since_restore": 13, "node_ip": "10.138.0.2", "pid": 57990, "hostname": "flow-main", "info": {"sample_time_ms": 14696.632, "grad_time_ms": 23011.347, "load_time_ms": 10.977, "update_time_ms": 10.738, "num_steps_sampled": 1581435, "num_steps_trained": 1581435, "default": {"entropy": 1.2781990766525269, "vf_explained_var": 0.6813608407974243, "kl": 0.00668614124879241, "cur_lr": 0.0005000000237487257, "policy_loss": -0.00040819059358909726, "vf_loss": 15.331477165222168, "cur_kl_coeff": 0.012500002980232239, "total_loss": 15.331151008605957}}, "episode_reward_max": 983.4412811766458, "episode_len_mean": 693.37, "episode_reward_mean": 888.2853772030476, "config": {"kl_coeff": 0.2, "output": null, "vf_share_layers": false, "num_sgd_iter": 10, "horizon": 1500, "tf_session_args": {"allow_soft_placement": true, "intra_op_parallelism_threads": 2, "gpu_options": {"allow_growth": true}, "device_count": {"CPU": 1}, "log_device_placement": false, "inter_op_parallelism_threads": 2}, "entropy_coeff": 0.0, "optimizer": {}, "num_gpus_per_worker": 0, "output_compress_columns": ["obs", "new_obs"], "straggler_mitigation": false, "batch_mode": "truncate_episodes", "env_config": {"flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"eta1\": 1.0,\n            \"eta2\": 0.3,\n            \"eta3\": 0.5,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 1.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnvOutFlowRew\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 600,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}", "run": "PPO"}, "monitor": false, "observation_filter": "NoFilter", "num_envs_per_worker": 1, "lambda": 0.97, "sgd_minibatch_size": 128, "clip_rewards": null, "env": "MultiWaveAttenuationMergePOEnvOutFlowRew-v0_[eta1, eta2, eta3]:[1.0, 0.1, 0.1]_t_min:5.0", "callbacks": {"on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7ff12daa4c50>", "on_sample_end": null, "on_train_result": null, "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7ff12daa40b8>", "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7ff12daa4518>"}, "num_cpus_per_worker": 1, "vf_clip_param": 1000000.0, "input": "sampler", "clip_param": 0.3, "vf_loss_coeff": 1.0, "collect_metrics_timeout": 180, "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "lr": 0.0005, "num_cpus_for_driver": 1, "input_evaluation": null, "use_gae": true, "sample_async": false, "lr_schedule": null, "multiagent": {"policies_to_train": null, "policy_mapping_fn": null, "policy_graphs": {}}, "output_max_file_size": 67108864, "sample_batch_size": 200, "clip_actions": false, "simple_optimizer": false, "custom_resources_per_worker": {}, "num_workers": 60, "compress_observations": false, "num_gpus": 0, "synchronize_filters": true, "train_batch_size": 90000, "log_level": "INFO", "preprocessor_pref": "deepmind", "model": {"conv_activation": "relu", "conv_filters": null, "dim": 84, "squash_to_range": false, "custom_options": {}, "fcnet_hiddens": [100, 50, 25], "lstm_cell_size": 256, "framestack": true, "lstm_use_prev_action_reward": false, "custom_preprocessor": null, "channel_major": false, "grayscale": false, "free_log_std": false, "use_lstm": false, "max_seq_len": 20, "zero_mean": true, "custom_model": null, "fcnet_activation": "tanh"}, "gamma": 0.99, "kl_target": 0.01}, "policy_reward_mean": {}, "time_total_s": 521.1039531230927, "training_iteration": 13, "episodes_total": 630, "timesteps_since_restore": 1581435, "timesteps_this_iter": 122820, "episode_reward_min": 54.345849516345154, "experiment_id": "0ca68f474651454fadb7afed60429c6a", "timestamp": 1556356401, "episodes_this_iter": 41, "done": false, "date": "2019-04-27_09-13-21"}
{"time_since_restore": 558.0934705734253, "timesteps_total": 1704443, "custom_metrics": {"outflow_rate_max": 1107.6933999663502, "outflow_rate_mean": 1024.8989157656727, "cost2_mean": -86.3390014416731, "cost2_min": -112.79984600200535, "cost1_max": 342.20313716242686, "system_level_velocity_max": 12.88908323009102, "outflow_rate_min": 863.3311714050799, "cost1_min": 238.93988353445394, "cost1_mean": 308.34065141056203, "system_level_velocity_mean": 11.6292495500518, "cost2_max": -66.08685703294762, "system_level_velocity_min": 9.06031869726481}, "time_this_iter_s": 36.98951745033264, "num_metric_batches_dropped": 0, "iterations_since_restore": 14, "node_ip": "10.138.0.2", "pid": 57990, "hostname": "flow-main", "info": {"sample_time_ms": 14592.219, "grad_time_ms": 22824.361, "load_time_ms": 11.069, "update_time_ms": 10.872, "num_steps_sampled": 1704443, "num_steps_trained": 1704443, "default": {"entropy": 1.2680217027664185, "vf_explained_var": 0.629367470741272, "kl": 0.0076108286157250404, "cur_lr": 0.0005000000237487257, "policy_loss": -0.0009669066057540476, "vf_loss": 17.919986724853516, "cur_kl_coeff": 0.012500002048909664, "total_loss": 17.91911506652832}}, "episode_reward_max": 975.9988766900841, "episode_len_mean": 700.0, "episode_reward_mean": 904.2590414154441, "config": {"kl_coeff": 0.2, "output": null, "vf_share_layers": false, "num_sgd_iter": 10, "horizon": 1500, "tf_session_args": {"allow_soft_placement": true, "intra_op_parallelism_threads": 2, "gpu_options": {"allow_growth": true}, "device_count": {"CPU": 1}, "log_device_placement": false, "inter_op_parallelism_threads": 2}, "entropy_coeff": 0.0, "optimizer": {}, "num_gpus_per_worker": 0, "output_compress_columns": ["obs", "new_obs"], "straggler_mitigation": false, "batch_mode": "truncate_episodes", "env_config": {"flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"eta1\": 1.0,\n            \"eta2\": 0.3,\n            \"eta3\": 0.5,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 1.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnvOutFlowRew\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 600,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}", "run": "PPO"}, "monitor": false, "observation_filter": "NoFilter", "num_envs_per_worker": 1, "lambda": 0.97, "sgd_minibatch_size": 128, "clip_rewards": null, "env": "MultiWaveAttenuationMergePOEnvOutFlowRew-v0_[eta1, eta2, eta3]:[1.0, 0.1, 0.1]_t_min:5.0", "callbacks": {"on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7ff12daa4c18>", "on_sample_end": null, "on_train_result": null, "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7ff12daa4048>", "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7ff12daa45f8>"}, "num_cpus_per_worker": 1, "vf_clip_param": 1000000.0, "input": "sampler", "clip_param": 0.3, "vf_loss_coeff": 1.0, "collect_metrics_timeout": 180, "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "lr": 0.0005, "num_cpus_for_driver": 1, "input_evaluation": null, "use_gae": true, "sample_async": false, "lr_schedule": null, "multiagent": {"policies_to_train": null, "policy_mapping_fn": null, "policy_graphs": {}}, "output_max_file_size": 67108864, "sample_batch_size": 200, "clip_actions": false, "simple_optimizer": false, "custom_resources_per_worker": {}, "num_workers": 60, "compress_observations": false, "num_gpus": 0, "synchronize_filters": true, "train_batch_size": 90000, "log_level": "INFO", "preprocessor_pref": "deepmind", "model": {"conv_activation": "relu", "conv_filters": null, "dim": 84, "squash_to_range": false, "custom_options": {}, "fcnet_hiddens": [100, 50, 25], "lstm_cell_size": 256, "framestack": true, "lstm_use_prev_action_reward": false, "custom_preprocessor": null, "channel_major": false, "grayscale": false, "free_log_std": false, "use_lstm": false, "max_seq_len": 20, "zero_mean": true, "custom_model": null, "fcnet_activation": "tanh"}, "gamma": 0.99, "kl_target": 0.01}, "policy_reward_mean": {}, "time_total_s": 558.0934705734253, "training_iteration": 14, "episodes_total": 682, "timesteps_since_restore": 1704443, "timesteps_this_iter": 123008, "episode_reward_min": 805.2269702956986, "experiment_id": "0ca68f474651454fadb7afed60429c6a", "timestamp": 1556356438, "episodes_this_iter": 52, "done": false, "date": "2019-04-27_09-13-58"}
{"time_since_restore": 596.8805997371674, "timesteps_total": 1826923, "custom_metrics": {"outflow_rate_max": 1107.6933999663502, "outflow_rate_mean": 1037.6187533945629, "cost2_mean": -85.3402634096369, "cost2_min": -112.79984600200535, "cost1_max": 342.20313716242686, "system_level_velocity_max": 12.88908323009102, "outflow_rate_min": 922.7099046289783, "cost1_min": 266.8508087595984, "cost1_mean": 312.9430420287819, "system_level_velocity_mean": 11.82162149528059, "cost2_max": -66.08685703294762, "system_level_velocity_min": 10.299673724391782}, "time_this_iter_s": 38.787129163742065, "num_metric_batches_dropped": 0, "iterations_since_restore": 15, "node_ip": "10.138.0.2", "pid": 57990, "hostname": "flow-main", "info": {"sample_time_ms": 14533.917, "grad_time_ms": 22898.952, "load_time_ms": 11.093, "update_time_ms": 10.922, "num_steps_sampled": 1826923, "num_steps_trained": 1826923, "default": {"entropy": 1.2629094123840332, "vf_explained_var": 0.6350260972976685, "kl": 0.006771675311028957, "cur_lr": 0.0005000000237487257, "policy_loss": -0.001003631972707808, "vf_loss": 17.538122177124023, "cur_kl_coeff": 0.012500002980232239, "total_loss": 17.537202835083008}}, "episode_reward_max": 972.2529526204669, "episode_len_mean": 700.0, "episode_reward_mean": 911.3591741405719, "config": {"kl_coeff": 0.2, "output": null, "vf_share_layers": false, "num_sgd_iter": 10, "horizon": 1500, "tf_session_args": {"allow_soft_placement": true, "intra_op_parallelism_threads": 2, "gpu_options": {"allow_growth": true}, "device_count": {"CPU": 1}, "log_device_placement": false, "inter_op_parallelism_threads": 2}, "entropy_coeff": 0.0, "optimizer": {}, "num_gpus_per_worker": 0, "output_compress_columns": ["obs", "new_obs"], "straggler_mitigation": false, "batch_mode": "truncate_episodes", "env_config": {"flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"eta1\": 1.0,\n            \"eta2\": 0.3,\n            \"eta3\": 0.5,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 1.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnvOutFlowRew\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 600,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}", "run": "PPO"}, "monitor": false, "observation_filter": "NoFilter", "num_envs_per_worker": 1, "lambda": 0.97, "sgd_minibatch_size": 128, "clip_rewards": null, "env": "MultiWaveAttenuationMergePOEnvOutFlowRew-v0_[eta1, eta2, eta3]:[1.0, 0.1, 0.1]_t_min:5.0", "callbacks": {"on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7ff12daa46a0>", "on_sample_end": null, "on_train_result": null, "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7ff12daa4550>", "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7ff12daa49b0>"}, "num_cpus_per_worker": 1, "vf_clip_param": 1000000.0, "input": "sampler", "clip_param": 0.3, "vf_loss_coeff": 1.0, "collect_metrics_timeout": 180, "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "lr": 0.0005, "num_cpus_for_driver": 1, "input_evaluation": null, "use_gae": true, "sample_async": false, "lr_schedule": null, "multiagent": {"policies_to_train": null, "policy_mapping_fn": null, "policy_graphs": {}}, "output_max_file_size": 67108864, "sample_batch_size": 200, "clip_actions": false, "simple_optimizer": false, "custom_resources_per_worker": {}, "num_workers": 60, "compress_observations": false, "num_gpus": 0, "synchronize_filters": true, "train_batch_size": 90000, "log_level": "INFO", "preprocessor_pref": "deepmind", "model": {"conv_activation": "relu", "conv_filters": null, "dim": 84, "squash_to_range": false, "custom_options": {}, "fcnet_hiddens": [100, 50, 25], "lstm_cell_size": 256, "framestack": true, "lstm_use_prev_action_reward": false, "custom_preprocessor": null, "channel_major": false, "grayscale": false, "free_log_std": false, "use_lstm": false, "max_seq_len": 20, "zero_mean": true, "custom_model": null, "fcnet_activation": "tanh"}, "gamma": 0.99, "kl_target": 0.01}, "policy_reward_mean": {}, "time_total_s": 596.8805997371674, "training_iteration": 15, "episodes_total": 735, "timesteps_since_restore": 1826923, "timesteps_this_iter": 122480, "episode_reward_min": 829.653497324724, "experiment_id": "0ca68f474651454fadb7afed60429c6a", "timestamp": 1556356476, "episodes_this_iter": 53, "done": false, "date": "2019-04-27_09-14-36"}
{"time_since_restore": 632.8369555473328, "timesteps_total": 1946755, "custom_metrics": {"outflow_rate_max": 1088.603958628214, "outflow_rate_mean": 1025.2271113460567, "cost2_mean": -80.93428764517076, "cost2_min": -99.89983321817888, "cost1_max": 337.8963176888701, "system_level_velocity_max": 12.731814731050203, "outflow_rate_min": 930.5088005956915, "cost1_min": 258.6048646901665, "cost1_mean": 308.2592925556413, "system_level_velocity_mean": 11.643544749788594, "cost2_max": -62.540172981989116, "system_level_velocity_min": 9.803552823860308}, "time_this_iter_s": 35.956355810165405, "num_metric_batches_dropped": 0, "iterations_since_restore": 16, "node_ip": "10.138.0.2", "pid": 57990, "hostname": "flow-main", "info": {"sample_time_ms": 14397.379, "grad_time_ms": 22684.339, "load_time_ms": 11.148, "update_time_ms": 11.004, "num_steps_sampled": 1946755, "num_steps_trained": 1946755, "default": {"entropy": 1.251166820526123, "vf_explained_var": 0.6233348250389099, "kl": 0.0062216417863965034, "cur_lr": 0.0005000000237487257, "policy_loss": -0.0005686857621185482, "vf_loss": 18.324941635131836, "cur_kl_coeff": 0.012500002980232239, "total_loss": 18.32444953918457}}, "episode_reward_max": 960.4647185013943, "episode_len_mean": 700.0, "episode_reward_mean": 905.432669456804, "config": {"kl_coeff": 0.2, "output": null, "vf_share_layers": false, "num_sgd_iter": 10, "horizon": 1500, "tf_session_args": {"allow_soft_placement": true, "intra_op_parallelism_threads": 2, "gpu_options": {"allow_growth": true}, "device_count": {"CPU": 1}, "log_device_placement": false, "inter_op_parallelism_threads": 2}, "entropy_coeff": 0.0, "optimizer": {}, "num_gpus_per_worker": 0, "output_compress_columns": ["obs", "new_obs"], "straggler_mitigation": false, "batch_mode": "truncate_episodes", "env_config": {"flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"eta1\": 1.0,\n            \"eta2\": 0.3,\n            \"eta3\": 0.5,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 1.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnvOutFlowRew\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 600,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}", "run": "PPO"}, "monitor": false, "observation_filter": "NoFilter", "num_envs_per_worker": 1, "lambda": 0.97, "sgd_minibatch_size": 128, "clip_rewards": null, "env": "MultiWaveAttenuationMergePOEnvOutFlowRew-v0_[eta1, eta2, eta3]:[1.0, 0.1, 0.1]_t_min:5.0", "callbacks": {"on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7ff12daa92e8>", "on_sample_end": null, "on_train_result": null, "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7ff12daa98d0>", "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7ff12daa9eb8>"}, "num_cpus_per_worker": 1, "vf_clip_param": 1000000.0, "input": "sampler", "clip_param": 0.3, "vf_loss_coeff": 1.0, "collect_metrics_timeout": 180, "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "lr": 0.0005, "num_cpus_for_driver": 1, "input_evaluation": null, "use_gae": true, "sample_async": false, "lr_schedule": null, "multiagent": {"policies_to_train": null, "policy_mapping_fn": null, "policy_graphs": {}}, "output_max_file_size": 67108864, "sample_batch_size": 200, "clip_actions": false, "simple_optimizer": false, "custom_resources_per_worker": {}, "num_workers": 60, "compress_observations": false, "num_gpus": 0, "synchronize_filters": true, "train_batch_size": 90000, "log_level": "INFO", "preprocessor_pref": "deepmind", "model": {"conv_activation": "relu", "conv_filters": null, "dim": 84, "squash_to_range": false, "custom_options": {}, "fcnet_hiddens": [100, 50, 25], "lstm_cell_size": 256, "framestack": true, "lstm_use_prev_action_reward": false, "custom_preprocessor": null, "channel_major": false, "grayscale": false, "free_log_std": false, "use_lstm": false, "max_seq_len": 20, "zero_mean": true, "custom_model": null, "fcnet_activation": "tanh"}, "gamma": 0.99, "kl_target": 0.01}, "policy_reward_mean": {}, "time_total_s": 632.8369555473328, "training_iteration": 16, "episodes_total": 789, "timesteps_since_restore": 1946755, "timesteps_this_iter": 119832, "episode_reward_min": 836.3792618036015, "experiment_id": "0ca68f474651454fadb7afed60429c6a", "timestamp": 1556356512, "episodes_this_iter": 54, "done": false, "date": "2019-04-27_09-15-12"}
{"time_since_restore": 670.8620536327362, "timesteps_total": 2066423, "custom_metrics": {"outflow_rate_max": 1097.2477802183187, "outflow_rate_mean": 1019.6944392183457, "cost2_mean": -79.89387553138413, "cost2_min": -100.45963295115814, "cost1_max": 335.0126965186354, "system_level_velocity_max": 12.540300353158143, "outflow_rate_min": 900.8893313074648, "cost1_min": 254.76714869776671, "cost1_mean": 306.4109309175971, "system_level_velocity_mean": 11.575131598172398, "cost2_max": -62.20035277963457, "system_level_velocity_min": 9.730650228470035}, "time_this_iter_s": 38.02509808540344, "num_metric_batches_dropped": 0, "iterations_since_restore": 17, "node_ip": "10.138.0.2", "pid": 57990, "hostname": "flow-main", "info": {"sample_time_ms": 14322.548, "grad_time_ms": 22776.728, "load_time_ms": 10.974, "update_time_ms": 10.952, "num_steps_sampled": 2066423, "num_steps_trained": 2066423, "default": {"entropy": 1.2479151487350464, "vf_explained_var": 0.6306173205375671, "kl": 0.0068063512444496155, "cur_lr": 0.0005000000237487257, "policy_loss": -0.0005974619998596609, "vf_loss": 18.088973999023438, "cur_kl_coeff": 0.012500002980232239, "total_loss": 18.088462829589844}}, "episode_reward_max": 996.1746876050314, "episode_len_mean": 700.0, "episode_reward_mean": 903.3989393622136, "config": {"kl_coeff": 0.2, "output": null, "vf_share_layers": false, "num_sgd_iter": 10, "horizon": 1500, "tf_session_args": {"allow_soft_placement": true, "intra_op_parallelism_threads": 2, "gpu_options": {"allow_growth": true}, "device_count": {"CPU": 1}, "log_device_placement": false, "inter_op_parallelism_threads": 2}, "entropy_coeff": 0.0, "optimizer": {}, "num_gpus_per_worker": 0, "output_compress_columns": ["obs", "new_obs"], "straggler_mitigation": false, "batch_mode": "truncate_episodes", "env_config": {"flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"eta1\": 1.0,\n            \"eta2\": 0.3,\n            \"eta3\": 0.5,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 1.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnvOutFlowRew\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 600,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}", "run": "PPO"}, "monitor": false, "observation_filter": "NoFilter", "num_envs_per_worker": 1, "lambda": 0.97, "sgd_minibatch_size": 128, "clip_rewards": null, "env": "MultiWaveAttenuationMergePOEnvOutFlowRew-v0_[eta1, eta2, eta3]:[1.0, 0.1, 0.1]_t_min:5.0", "callbacks": {"on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7ff12daa45f8>", "on_sample_end": null, "on_train_result": null, "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7ff12daa4b70>", "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7ff12daa9630>"}, "num_cpus_per_worker": 1, "vf_clip_param": 1000000.0, "input": "sampler", "clip_param": 0.3, "vf_loss_coeff": 1.0, "collect_metrics_timeout": 180, "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "lr": 0.0005, "num_cpus_for_driver": 1, "input_evaluation": null, "use_gae": true, "sample_async": false, "lr_schedule": null, "multiagent": {"policies_to_train": null, "policy_mapping_fn": null, "policy_graphs": {}}, "output_max_file_size": 67108864, "sample_batch_size": 200, "clip_actions": false, "simple_optimizer": false, "custom_resources_per_worker": {}, "num_workers": 60, "compress_observations": false, "num_gpus": 0, "synchronize_filters": true, "train_batch_size": 90000, "log_level": "INFO", "preprocessor_pref": "deepmind", "model": {"conv_activation": "relu", "conv_filters": null, "dim": 84, "squash_to_range": false, "custom_options": {}, "fcnet_hiddens": [100, 50, 25], "lstm_cell_size": 256, "framestack": true, "lstm_use_prev_action_reward": false, "custom_preprocessor": null, "channel_major": false, "grayscale": false, "free_log_std": false, "use_lstm": false, "max_seq_len": 20, "zero_mean": true, "custom_model": null, "fcnet_activation": "tanh"}, "gamma": 0.99, "kl_target": 0.01}, "policy_reward_mean": {}, "time_total_s": 670.8620536327362, "training_iteration": 17, "episodes_total": 838, "timesteps_since_restore": 2066423, "timesteps_this_iter": 119668, "episode_reward_min": 827.2239670231561, "experiment_id": "0ca68f474651454fadb7afed60429c6a", "timestamp": 1556356551, "episodes_this_iter": 49, "done": false, "date": "2019-04-27_09-15-51"}
{"time_since_restore": 706.9867165088654, "timesteps_total": 2187605, "custom_metrics": {"outflow_rate_max": 1100.3332868015814, "outflow_rate_mean": 1027.6489607691622, "cost2_mean": -83.46260681300626, "cost2_min": -107.23886543385305, "cost1_max": 342.2066420873597, "system_level_velocity_max": 12.836366735289802, "outflow_rate_min": 900.8893313074648, "cost1_min": 254.76714869776671, "cost1_mean": 309.76304653066563, "system_level_velocity_mean": 11.702644663222618, "cost2_max": -62.20035277963457, "system_level_velocity_min": 9.730650228470035}, "time_this_iter_s": 36.12466287612915, "num_metric_batches_dropped": 0, "iterations_since_restore": 18, "node_ip": "10.138.0.2", "pid": 57990, "hostname": "flow-main", "info": {"sample_time_ms": 14324.129, "grad_time_ms": 22766.492, "load_time_ms": 11.04, "update_time_ms": 11.149, "num_steps_sampled": 2187605, "num_steps_trained": 2187605, "default": {"entropy": 1.2460520267486572, "vf_explained_var": 0.6376581788063049, "kl": 0.0065194182097911835, "cur_lr": 0.0005000000237487257, "policy_loss": -0.0003285984566900879, "vf_loss": 18.753833770751953, "cur_kl_coeff": 0.012500002980232239, "total_loss": 18.75358772277832}}, "episode_reward_max": 996.1746876050314, "episode_len_mean": 700.0, "episode_reward_mean": 909.8914164419402, "config": {"kl_coeff": 0.2, "output": null, "vf_share_layers": false, "num_sgd_iter": 10, "horizon": 1500, "tf_session_args": {"allow_soft_placement": true, "intra_op_parallelism_threads": 2, "gpu_options": {"allow_growth": true}, "device_count": {"CPU": 1}, "log_device_placement": false, "inter_op_parallelism_threads": 2}, "entropy_coeff": 0.0, "optimizer": {}, "num_gpus_per_worker": 0, "output_compress_columns": ["obs", "new_obs"], "straggler_mitigation": false, "batch_mode": "truncate_episodes", "env_config": {"flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"eta1\": 1.0,\n            \"eta2\": 0.3,\n            \"eta3\": 0.5,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 1.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnvOutFlowRew\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 600,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}", "run": "PPO"}, "monitor": false, "observation_filter": "NoFilter", "num_envs_per_worker": 1, "lambda": 0.97, "sgd_minibatch_size": 128, "clip_rewards": null, "env": "MultiWaveAttenuationMergePOEnvOutFlowRew-v0_[eta1, eta2, eta3]:[1.0, 0.1, 0.1]_t_min:5.0", "callbacks": {"on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7ff12daa4c18>", "on_sample_end": null, "on_train_result": null, "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7ff12daa4b38>", "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7ff12daa4160>"}, "num_cpus_per_worker": 1, "vf_clip_param": 1000000.0, "input": "sampler", "clip_param": 0.3, "vf_loss_coeff": 1.0, "collect_metrics_timeout": 180, "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "lr": 0.0005, "num_cpus_for_driver": 1, "input_evaluation": null, "use_gae": true, "sample_async": false, "lr_schedule": null, "multiagent": {"policies_to_train": null, "policy_mapping_fn": null, "policy_graphs": {}}, "output_max_file_size": 67108864, "sample_batch_size": 200, "clip_actions": false, "simple_optimizer": false, "custom_resources_per_worker": {}, "num_workers": 60, "compress_observations": false, "num_gpus": 0, "synchronize_filters": true, "train_batch_size": 90000, "log_level": "INFO", "preprocessor_pref": "deepmind", "model": {"conv_activation": "relu", "conv_filters": null, "dim": 84, "squash_to_range": false, "custom_options": {}, "fcnet_hiddens": [100, 50, 25], "lstm_cell_size": 256, "framestack": true, "lstm_use_prev_action_reward": false, "custom_preprocessor": null, "channel_major": false, "grayscale": false, "free_log_std": false, "use_lstm": false, "max_seq_len": 20, "zero_mean": true, "custom_model": null, "fcnet_activation": "tanh"}, "gamma": 0.99, "kl_target": 0.01}, "policy_reward_mean": {}, "time_total_s": 706.9867165088654, "training_iteration": 18, "episodes_total": 885, "timesteps_since_restore": 2187605, "timesteps_this_iter": 121182, "episode_reward_min": 827.2239670231561, "experiment_id": "0ca68f474651454fadb7afed60429c6a", "timestamp": 1556356587, "episodes_this_iter": 47, "done": false, "date": "2019-04-27_09-16-27"}
{"time_since_restore": 745.0232837200165, "timesteps_total": 2310444, "custom_metrics": {"outflow_rate_max": 1110.0882934233816, "outflow_rate_mean": 1029.3447721847147, "cost2_mean": -86.56893988183347, "cost2_min": -115.86584347771071, "cost1_max": 347.05424457776684, "system_level_velocity_max": 12.992203849422076, "outflow_rate_min": 900.8893313074648, "cost1_min": 256.99778742198714, "cost1_mean": 310.5374971915781, "system_level_velocity_mean": 11.752263922575041, "cost2_max": -62.20035277963457, "system_level_velocity_min": 9.751873661684545}, "time_this_iter_s": 38.03656721115112, "num_metric_batches_dropped": 0, "iterations_since_restore": 19, "node_ip": "10.138.0.2", "pid": 57990, "hostname": "flow-main", "info": {"sample_time_ms": 14328.776, "grad_time_ms": 22728.978, "load_time_ms": 11.044, "update_time_ms": 11.176, "num_steps_sampled": 2310444, "num_steps_trained": 2310444, "default": {"entropy": 1.237955093383789, "vf_explained_var": 0.6056939363479614, "kl": 0.006119204219430685, "cur_lr": 0.0005000000237487257, "policy_loss": -0.00041175956721417606, "vf_loss": 19.139720916748047, "cur_kl_coeff": 0.012500002980232239, "total_loss": 19.139385223388672}}, "episode_reward_max": 970.9203532523036, "episode_len_mean": 700.0, "episode_reward_mean": 912.4539541846875, "config": {"kl_coeff": 0.2, "output": null, "vf_share_layers": false, "num_sgd_iter": 10, "horizon": 1500, "tf_session_args": {"allow_soft_placement": true, "intra_op_parallelism_threads": 2, "gpu_options": {"allow_growth": true}, "device_count": {"CPU": 1}, "log_device_placement": false, "inter_op_parallelism_threads": 2}, "entropy_coeff": 0.0, "optimizer": {}, "num_gpus_per_worker": 0, "output_compress_columns": ["obs", "new_obs"], "straggler_mitigation": false, "batch_mode": "truncate_episodes", "env_config": {"flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"eta1\": 1.0,\n            \"eta2\": 0.3,\n            \"eta3\": 0.5,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 1.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnvOutFlowRew\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 600,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}", "run": "PPO"}, "monitor": false, "observation_filter": "NoFilter", "num_envs_per_worker": 1, "lambda": 0.97, "sgd_minibatch_size": 128, "clip_rewards": null, "env": "MultiWaveAttenuationMergePOEnvOutFlowRew-v0_[eta1, eta2, eta3]:[1.0, 0.1, 0.1]_t_min:5.0", "callbacks": {"on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7ff12daa49b0>", "on_sample_end": null, "on_train_result": null, "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7ff12daa4b00>", "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7ff12daa46a0>"}, "num_cpus_per_worker": 1, "vf_clip_param": 1000000.0, "input": "sampler", "clip_param": 0.3, "vf_loss_coeff": 1.0, "collect_metrics_timeout": 180, "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "lr": 0.0005, "num_cpus_for_driver": 1, "input_evaluation": null, "use_gae": true, "sample_async": false, "lr_schedule": null, "multiagent": {"policies_to_train": null, "policy_mapping_fn": null, "policy_graphs": {}}, "output_max_file_size": 67108864, "sample_batch_size": 200, "clip_actions": false, "simple_optimizer": false, "custom_resources_per_worker": {}, "num_workers": 60, "compress_observations": false, "num_gpus": 0, "synchronize_filters": true, "train_batch_size": 90000, "log_level": "INFO", "preprocessor_pref": "deepmind", "model": {"conv_activation": "relu", "conv_filters": null, "dim": 84, "squash_to_range": false, "custom_options": {}, "fcnet_hiddens": [100, 50, 25], "lstm_cell_size": 256, "framestack": true, "lstm_use_prev_action_reward": false, "custom_preprocessor": null, "channel_major": false, "grayscale": false, "free_log_std": false, "use_lstm": false, "max_seq_len": 20, "zero_mean": true, "custom_model": null, "fcnet_activation": "tanh"}, "gamma": 0.99, "kl_target": 0.01}, "policy_reward_mean": {}, "time_total_s": 745.0232837200165, "training_iteration": 19, "episodes_total": 932, "timesteps_since_restore": 2310444, "timesteps_this_iter": 122839, "episode_reward_min": 822.5962581375718, "experiment_id": "0ca68f474651454fadb7afed60429c6a", "timestamp": 1556356625, "episodes_this_iter": 47, "done": false, "date": "2019-04-27_09-17-05"}
{"time_since_restore": 782.9472179412842, "timesteps_total": 2434087, "custom_metrics": {"outflow_rate_max": 1110.0882934233816, "outflow_rate_mean": 1028.3745250713969, "cost2_mean": -87.62541027838043, "cost2_min": -115.86584347771071, "cost1_max": 347.05424457776684, "system_level_velocity_max": 12.992203849422076, "outflow_rate_min": 938.45632672215, "cost1_min": 256.99778742198714, "cost1_mean": 309.99808417145056, "system_level_velocity_mean": 11.73304444745815, "cost2_max": -66.71903160309992, "system_level_velocity_min": 9.751873661684545}, "time_this_iter_s": 37.9239342212677, "num_metric_batches_dropped": 0, "iterations_since_restore": 20, "node_ip": "10.138.0.2", "pid": 57990, "hostname": "flow-main", "info": {"sample_time_ms": 14330.379, "grad_time_ms": 22841.146, "load_time_ms": 10.82, "update_time_ms": 11.34, "num_steps_sampled": 2434087, "num_steps_trained": 2434087, "default": {"entropy": 1.2173079252243042, "vf_explained_var": 0.6618016958236694, "kl": 0.0062713101506233215, "cur_lr": 0.0005000000237487257, "policy_loss": -0.0005250538815744221, "vf_loss": 18.753713607788086, "cur_kl_coeff": 0.012500002048909664, "total_loss": 18.753267288208008}}, "episode_reward_max": 970.8509131160491, "episode_len_mean": 700.0, "episode_reward_mean": 911.1935323668077, "config": {"kl_coeff": 0.2, "output": null, "vf_share_layers": false, "num_sgd_iter": 10, "horizon": 1500, "tf_session_args": {"allow_soft_placement": true, "intra_op_parallelism_threads": 2, "gpu_options": {"allow_growth": true}, "device_count": {"CPU": 1}, "log_device_placement": false, "inter_op_parallelism_threads": 2}, "entropy_coeff": 0.0, "optimizer": {}, "num_gpus_per_worker": 0, "output_compress_columns": ["obs", "new_obs"], "straggler_mitigation": false, "batch_mode": "truncate_episodes", "env_config": {"flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"eta1\": 1.0,\n            \"eta2\": 0.3,\n            \"eta3\": 0.5,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 1.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnvOutFlowRew\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 600,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}", "run": "PPO"}, "monitor": false, "observation_filter": "NoFilter", "num_envs_per_worker": 1, "lambda": 0.97, "sgd_minibatch_size": 128, "clip_rewards": null, "env": "MultiWaveAttenuationMergePOEnvOutFlowRew-v0_[eta1, eta2, eta3]:[1.0, 0.1, 0.1]_t_min:5.0", "callbacks": {"on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7ff12da9d048>", "on_sample_end": null, "on_train_result": null, "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7ff12daa9c50>", "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7ff12da9d1d0>"}, "num_cpus_per_worker": 1, "vf_clip_param": 1000000.0, "input": "sampler", "clip_param": 0.3, "vf_loss_coeff": 1.0, "collect_metrics_timeout": 180, "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "lr": 0.0005, "num_cpus_for_driver": 1, "input_evaluation": null, "use_gae": true, "sample_async": false, "lr_schedule": null, "multiagent": {"policies_to_train": null, "policy_mapping_fn": null, "policy_graphs": {}}, "output_max_file_size": 67108864, "sample_batch_size": 200, "clip_actions": false, "simple_optimizer": false, "custom_resources_per_worker": {}, "num_workers": 60, "compress_observations": false, "num_gpus": 0, "synchronize_filters": true, "train_batch_size": 90000, "log_level": "INFO", "preprocessor_pref": "deepmind", "model": {"conv_activation": "relu", "conv_filters": null, "dim": 84, "squash_to_range": false, "custom_options": {}, "fcnet_hiddens": [100, 50, 25], "lstm_cell_size": 256, "framestack": true, "lstm_use_prev_action_reward": false, "custom_preprocessor": null, "channel_major": false, "grayscale": false, "free_log_std": false, "use_lstm": false, "max_seq_len": 20, "zero_mean": true, "custom_model": null, "fcnet_activation": "tanh"}, "gamma": 0.99, "kl_target": 0.01}, "policy_reward_mean": {}, "time_total_s": 782.9472179412842, "training_iteration": 20, "episodes_total": 978, "timesteps_since_restore": 2434087, "timesteps_this_iter": 123643, "episode_reward_min": 822.5962581375718, "experiment_id": "0ca68f474651454fadb7afed60429c6a", "timestamp": 1556356663, "episodes_this_iter": 46, "done": false, "date": "2019-04-27_09-17-43"}
{"time_since_restore": 821.9861888885498, "timesteps_total": 2555675, "custom_metrics": {"outflow_rate_max": 1096.9494023408931, "outflow_rate_mean": 1017.4758334841222, "cost2_mean": -91.21041352592891, "cost2_min": -120.73747527155302, "cost1_max": 335.74101027122424, "system_level_velocity_max": 17.962917293489923, "outflow_rate_min": 483.934671032216, "cost1_min": 17.773430216991496, "cost1_mean": 302.35008398256633, "system_level_velocity_mean": 11.784989143282365, "cost2_max": -11.619936554655956, "system_level_velocity_min": 10.06696265152731}, "time_this_iter_s": 39.038970947265625, "num_metric_batches_dropped": 0, "iterations_since_restore": 21, "node_ip": "10.138.0.2", "pid": 57990, "hostname": "flow-main", "info": {"sample_time_ms": 14380.234, "grad_time_ms": 22999.689, "load_time_ms": 10.875, "update_time_ms": 11.315, "num_steps_sampled": 2555675, "num_steps_trained": 2555675, "default": {"entropy": 1.2041492462158203, "vf_explained_var": 0.6323729753494263, "kl": 0.006204357370734215, "cur_lr": 0.0005000000237487257, "policy_loss": 3.494760312605649e-05, "vf_loss": 22.866689682006836, "cur_kl_coeff": 0.012500002980232239, "total_loss": 22.866802215576172}}, "episode_reward_max": 967.3311366432031, "episode_len_mean": 686.63, "episode_reward_mean": 890.9546673513647, "config": {"kl_coeff": 0.2, "output": null, "vf_share_layers": false, "num_sgd_iter": 10, "horizon": 1500, "tf_session_args": {"allow_soft_placement": true, "intra_op_parallelism_threads": 2, "gpu_options": {"allow_growth": true}, "device_count": {"CPU": 1}, "log_device_placement": false, "inter_op_parallelism_threads": 2}, "entropy_coeff": 0.0, "optimizer": {}, "num_gpus_per_worker": 0, "output_compress_columns": ["obs", "new_obs"], "straggler_mitigation": false, "batch_mode": "truncate_episodes", "env_config": {"flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"eta1\": 1.0,\n            \"eta2\": 0.3,\n            \"eta3\": 0.5,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 1.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnvOutFlowRew\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 600,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}", "run": "PPO"}, "monitor": false, "observation_filter": "NoFilter", "num_envs_per_worker": 1, "lambda": 0.97, "sgd_minibatch_size": 128, "clip_rewards": null, "env": "MultiWaveAttenuationMergePOEnvOutFlowRew-v0_[eta1, eta2, eta3]:[1.0, 0.1, 0.1]_t_min:5.0", "callbacks": {"on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7ff12daa4e80>", "on_sample_end": null, "on_train_result": null, "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7ff12daa4358>", "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7ff12daa4518>"}, "num_cpus_per_worker": 1, "vf_clip_param": 1000000.0, "input": "sampler", "clip_param": 0.3, "vf_loss_coeff": 1.0, "collect_metrics_timeout": 180, "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "lr": 0.0005, "num_cpus_for_driver": 1, "input_evaluation": null, "use_gae": true, "sample_async": false, "lr_schedule": null, "multiagent": {"policies_to_train": null, "policy_mapping_fn": null, "policy_graphs": {}}, "output_max_file_size": 67108864, "sample_batch_size": 200, "clip_actions": false, "simple_optimizer": false, "custom_resources_per_worker": {}, "num_workers": 60, "compress_observations": false, "num_gpus": 0, "synchronize_filters": true, "train_batch_size": 90000, "log_level": "INFO", "preprocessor_pref": "deepmind", "model": {"conv_activation": "relu", "conv_filters": null, "dim": 84, "squash_to_range": false, "custom_options": {}, "fcnet_hiddens": [100, 50, 25], "lstm_cell_size": 256, "framestack": true, "lstm_use_prev_action_reward": false, "custom_preprocessor": null, "channel_major": false, "grayscale": false, "free_log_std": false, "use_lstm": false, "max_seq_len": 20, "zero_mean": true, "custom_model": null, "fcnet_activation": "tanh"}, "gamma": 0.99, "kl_target": 0.01}, "policy_reward_mean": {}, "time_total_s": 821.9861888885498, "training_iteration": 21, "episodes_total": 1036, "timesteps_since_restore": 2555675, "timesteps_this_iter": 121588, "episode_reward_min": 41.41496525544874, "experiment_id": "0ca68f474651454fadb7afed60429c6a", "timestamp": 1556356702, "episodes_this_iter": 58, "done": false, "date": "2019-04-27_09-18-22"}
{"time_since_restore": 860.5233235359192, "timesteps_total": 2675581, "custom_metrics": {"outflow_rate_max": 1100.0521978891156, "outflow_rate_mean": 1026.0152483058707, "cost2_mean": -91.74448179760475, "cost2_min": -120.73747527155302, "cost1_max": 341.91034751922405, "system_level_velocity_max": 17.962917293489923, "outflow_rate_min": 483.934671032216, "cost1_min": 17.773430216991496, "cost1_mean": 305.87829014394333, "system_level_velocity_mean": 11.913199392639795, "cost2_max": -11.619936554655956, "system_level_velocity_min": 10.06696265152731}, "time_this_iter_s": 38.537134647369385, "num_metric_batches_dropped": 0, "iterations_since_restore": 22, "node_ip": "10.138.0.2", "pid": 57990, "hostname": "flow-main", "info": {"sample_time_ms": 14326.996, "grad_time_ms": 23224.014, "load_time_ms": 10.954, "update_time_ms": 11.255, "num_steps_sampled": 2675581, "num_steps_trained": 2675581, "default": {"entropy": 1.2055689096450806, "vf_explained_var": 0.6244333982467651, "kl": 0.009192496538162231, "cur_lr": 0.0005000000237487257, "policy_loss": -0.0012458560522645712, "vf_loss": 20.40761375427246, "cur_kl_coeff": 0.012500002980232239, "total_loss": 20.406484603881836}}, "episode_reward_max": 977.646901658883, "episode_len_mean": 686.63, "episode_reward_mean": 893.3857554032339, "config": {"kl_coeff": 0.2, "output": null, "vf_share_layers": false, "num_sgd_iter": 10, "horizon": 1500, "tf_session_args": {"allow_soft_placement": true, "intra_op_parallelism_threads": 2, "gpu_options": {"allow_growth": true}, "device_count": {"CPU": 1}, "log_device_placement": false, "inter_op_parallelism_threads": 2}, "entropy_coeff": 0.0, "optimizer": {}, "num_gpus_per_worker": 0, "output_compress_columns": ["obs", "new_obs"], "straggler_mitigation": false, "batch_mode": "truncate_episodes", "env_config": {"flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"eta1\": 1.0,\n            \"eta2\": 0.3,\n            \"eta3\": 0.5,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 1.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnvOutFlowRew\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 600,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}", "run": "PPO"}, "monitor": false, "observation_filter": "NoFilter", "num_envs_per_worker": 1, "lambda": 0.97, "sgd_minibatch_size": 128, "clip_rewards": null, "env": "MultiWaveAttenuationMergePOEnvOutFlowRew-v0_[eta1, eta2, eta3]:[1.0, 0.1, 0.1]_t_min:5.0", "callbacks": {"on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7ff12daa9d68>", "on_sample_end": null, "on_train_result": null, "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7ff12daa9588>", "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7ff12daa9eb8>"}, "num_cpus_per_worker": 1, "vf_clip_param": 1000000.0, "input": "sampler", "clip_param": 0.3, "vf_loss_coeff": 1.0, "collect_metrics_timeout": 180, "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "lr": 0.0005, "num_cpus_for_driver": 1, "input_evaluation": null, "use_gae": true, "sample_async": false, "lr_schedule": null, "multiagent": {"policies_to_train": null, "policy_mapping_fn": null, "policy_graphs": {}}, "output_max_file_size": 67108864, "sample_batch_size": 200, "clip_actions": false, "simple_optimizer": false, "custom_resources_per_worker": {}, "num_workers": 60, "compress_observations": false, "num_gpus": 0, "synchronize_filters": true, "train_batch_size": 90000, "log_level": "INFO", "preprocessor_pref": "deepmind", "model": {"conv_activation": "relu", "conv_filters": null, "dim": 84, "squash_to_range": false, "custom_options": {}, "fcnet_hiddens": [100, 50, 25], "lstm_cell_size": 256, "framestack": true, "lstm_use_prev_action_reward": false, "custom_preprocessor": null, "channel_major": false, "grayscale": false, "free_log_std": false, "use_lstm": false, "max_seq_len": 20, "zero_mean": true, "custom_model": null, "fcnet_activation": "tanh"}, "gamma": 0.99, "kl_target": 0.01}, "policy_reward_mean": {}, "time_total_s": 860.5233235359192, "training_iteration": 22, "episodes_total": 1090, "timesteps_since_restore": 2675581, "timesteps_this_iter": 119906, "episode_reward_min": 41.41496525544874, "experiment_id": "0ca68f474651454fadb7afed60429c6a", "timestamp": 1556356740, "episodes_this_iter": 54, "done": false, "date": "2019-04-27_09-19-00"}
{"time_since_restore": 899.3086907863617, "timesteps_total": 2795732, "custom_metrics": {"outflow_rate_max": 1100.0521978891156, "outflow_rate_mean": 1032.710287820273, "cost2_mean": -90.39696349496424, "cost2_min": -125.24604004406132, "cost1_max": 341.91034751922405, "system_level_velocity_max": 12.79731426381533, "outflow_rate_min": 956.8606683964969, "cost1_min": 269.4024655632736, "cost1_mean": 311.2958692179649, "system_level_velocity_mean": 11.782217652759972, "cost2_max": -71.24584087903403, "system_level_velocity_min": 10.28600096172609}, "time_this_iter_s": 38.785367250442505, "num_metric_batches_dropped": 0, "iterations_since_restore": 23, "node_ip": "10.138.0.2", "pid": 57990, "hostname": "flow-main", "info": {"sample_time_ms": 14277.174, "grad_time_ms": 23308.653, "load_time_ms": 10.647, "update_time_ms": 11.531, "num_steps_sampled": 2795732, "num_steps_trained": 2795732, "default": {"entropy": 1.1912018060684204, "vf_explained_var": 0.6281450390815735, "kl": 0.008209634572267532, "cur_lr": 0.0005000000237487257, "policy_loss": -0.0006422363803721964, "vf_loss": 20.74805450439453, "cur_kl_coeff": 0.012500002048909664, "total_loss": 20.747514724731445}}, "episode_reward_max": 979.0399739681001, "episode_len_mean": 700.0, "episode_reward_mean": 911.6769189192794, "config": {"kl_coeff": 0.2, "output": null, "vf_share_layers": false, "num_sgd_iter": 10, "horizon": 1500, "tf_session_args": {"allow_soft_placement": true, "intra_op_parallelism_threads": 2, "gpu_options": {"allow_growth": true}, "device_count": {"CPU": 1}, "log_device_placement": false, "inter_op_parallelism_threads": 2}, "entropy_coeff": 0.0, "optimizer": {}, "num_gpus_per_worker": 0, "output_compress_columns": ["obs", "new_obs"], "straggler_mitigation": false, "batch_mode": "truncate_episodes", "env_config": {"flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"eta1\": 1.0,\n            \"eta2\": 0.3,\n            \"eta3\": 0.5,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 1.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnvOutFlowRew\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 600,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}", "run": "PPO"}, "monitor": false, "observation_filter": "NoFilter", "num_envs_per_worker": 1, "lambda": 0.97, "sgd_minibatch_size": 128, "clip_rewards": null, "env": "MultiWaveAttenuationMergePOEnvOutFlowRew-v0_[eta1, eta2, eta3]:[1.0, 0.1, 0.1]_t_min:5.0", "callbacks": {"on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7ff12daa4668>", "on_sample_end": null, "on_train_result": null, "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7ff12daa43c8>", "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7ff12daa44e0>"}, "num_cpus_per_worker": 1, "vf_clip_param": 1000000.0, "input": "sampler", "clip_param": 0.3, "vf_loss_coeff": 1.0, "collect_metrics_timeout": 180, "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "lr": 0.0005, "num_cpus_for_driver": 1, "input_evaluation": null, "use_gae": true, "sample_async": false, "lr_schedule": null, "multiagent": {"policies_to_train": null, "policy_mapping_fn": null, "policy_graphs": {}}, "output_max_file_size": 67108864, "sample_batch_size": 200, "clip_actions": false, "simple_optimizer": false, "custom_resources_per_worker": {}, "num_workers": 60, "compress_observations": false, "num_gpus": 0, "synchronize_filters": true, "train_batch_size": 90000, "log_level": "INFO", "preprocessor_pref": "deepmind", "model": {"conv_activation": "relu", "conv_filters": null, "dim": 84, "squash_to_range": false, "custom_options": {}, "fcnet_hiddens": [100, 50, 25], "lstm_cell_size": 256, "framestack": true, "lstm_use_prev_action_reward": false, "custom_preprocessor": null, "channel_major": false, "grayscale": false, "free_log_std": false, "use_lstm": false, "max_seq_len": 20, "zero_mean": true, "custom_model": null, "fcnet_activation": "tanh"}, "gamma": 0.99, "kl_target": 0.01}, "policy_reward_mean": {}, "time_total_s": 899.3086907863617, "training_iteration": 23, "episodes_total": 1138, "timesteps_since_restore": 2795732, "timesteps_this_iter": 120151, "episode_reward_min": 853.1414686666345, "experiment_id": "0ca68f474651454fadb7afed60429c6a", "timestamp": 1556356779, "episodes_this_iter": 48, "done": false, "date": "2019-04-27_09-19-39"}
{"time_since_restore": 936.8431570529938, "timesteps_total": 2916886, "custom_metrics": {"outflow_rate_max": 1094.457076313084, "outflow_rate_mean": 1026.2281348455078, "cost2_mean": -90.74648479023863, "cost2_min": -125.24604004406132, "cost1_max": 339.6701787392725, "system_level_velocity_max": 12.716300342512511, "outflow_rate_min": 926.4558065641576, "cost1_min": 261.86883737233273, "cost1_mean": 308.6470946277313, "system_level_velocity_mean": 11.704030496065837, "cost2_max": -64.68428864367142, "system_level_velocity_min": 10.050231531439922}, "time_this_iter_s": 37.53446626663208, "num_metric_batches_dropped": 0, "iterations_since_restore": 24, "node_ip": "10.138.0.2", "pid": 57990, "hostname": "flow-main", "info": {"sample_time_ms": 14256.827, "grad_time_ms": 23384.491, "load_time_ms": 10.596, "update_time_ms": 11.322, "num_steps_sampled": 2916886, "num_steps_trained": 2916886, "default": {"entropy": 1.1770732402801514, "vf_explained_var": 0.6560912728309631, "kl": 0.007458433974534273, "cur_lr": 0.0005000000237487257, "policy_loss": -0.000771254941355437, "vf_loss": 19.97523307800293, "cur_kl_coeff": 0.012500002980232239, "total_loss": 19.97455596923828}}, "episode_reward_max": 988.5525423525796, "episode_len_mean": 700.0, "episode_reward_mean": 909.5219371904255, "config": {"kl_coeff": 0.2, "output": null, "vf_share_layers": false, "num_sgd_iter": 10, "horizon": 1500, "tf_session_args": {"allow_soft_placement": true, "intra_op_parallelism_threads": 2, "gpu_options": {"allow_growth": true}, "device_count": {"CPU": 1}, "log_device_placement": false, "inter_op_parallelism_threads": 2}, "entropy_coeff": 0.0, "optimizer": {}, "num_gpus_per_worker": 0, "output_compress_columns": ["obs", "new_obs"], "straggler_mitigation": false, "batch_mode": "truncate_episodes", "env_config": {"flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"eta1\": 1.0,\n            \"eta2\": 0.3,\n            \"eta3\": 0.5,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 1.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnvOutFlowRew\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 600,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}", "run": "PPO"}, "monitor": false, "observation_filter": "NoFilter", "num_envs_per_worker": 1, "lambda": 0.97, "sgd_minibatch_size": 128, "clip_rewards": null, "env": "MultiWaveAttenuationMergePOEnvOutFlowRew-v0_[eta1, eta2, eta3]:[1.0, 0.1, 0.1]_t_min:5.0", "callbacks": {"on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7ff12daa96d8>", "on_sample_end": null, "on_train_result": null, "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7ff12daa9b70>", "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7ff12daa9e10>"}, "num_cpus_per_worker": 1, "vf_clip_param": 1000000.0, "input": "sampler", "clip_param": 0.3, "vf_loss_coeff": 1.0, "collect_metrics_timeout": 180, "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "lr": 0.0005, "num_cpus_for_driver": 1, "input_evaluation": null, "use_gae": true, "sample_async": false, "lr_schedule": null, "multiagent": {"policies_to_train": null, "policy_mapping_fn": null, "policy_graphs": {}}, "output_max_file_size": 67108864, "sample_batch_size": 200, "clip_actions": false, "simple_optimizer": false, "custom_resources_per_worker": {}, "num_workers": 60, "compress_observations": false, "num_gpus": 0, "synchronize_filters": true, "train_batch_size": 90000, "log_level": "INFO", "preprocessor_pref": "deepmind", "model": {"conv_activation": "relu", "conv_filters": null, "dim": 84, "squash_to_range": false, "custom_options": {}, "fcnet_hiddens": [100, 50, 25], "lstm_cell_size": 256, "framestack": true, "lstm_use_prev_action_reward": false, "custom_preprocessor": null, "channel_major": false, "grayscale": false, "free_log_std": false, "use_lstm": false, "max_seq_len": 20, "zero_mean": true, "custom_model": null, "fcnet_activation": "tanh"}, "gamma": 0.99, "kl_target": 0.01}, "policy_reward_mean": {}, "time_total_s": 936.8431570529938, "training_iteration": 24, "episodes_total": 1180, "timesteps_since_restore": 2916886, "timesteps_this_iter": 121154, "episode_reward_min": 819.681194176662, "experiment_id": "0ca68f474651454fadb7afed60429c6a", "timestamp": 1556356817, "episodes_this_iter": 42, "done": false, "date": "2019-04-27_09-20-17"}
{"time_since_restore": 974.4106101989746, "timesteps_total": 3037788, "custom_metrics": {"outflow_rate_max": 1104.2151814647254, "outflow_rate_mean": 1023.8536965816642, "cost2_mean": -90.90990462669185, "cost2_min": -113.9595972721979, "cost1_max": 352.52084222211727, "system_level_velocity_max": 18.286944514516343, "outflow_rate_min": 494.46297746398153, "cost1_min": 22.833367392747107, "cost1_mean": 307.0977799810394, "system_level_velocity_mean": 11.818839612571912, "cost2_max": -13.179822338407007, "system_level_velocity_min": 10.050231531439922}, "time_this_iter_s": 37.567453145980835, "num_metric_batches_dropped": 0, "iterations_since_restore": 25, "node_ip": "10.138.0.2", "pid": 57990, "hostname": "flow-main", "info": {"sample_time_ms": 14256.273, "grad_time_ms": 23265.472, "load_time_ms": 10.712, "update_time_ms": 11.151, "num_steps_sampled": 3037788, "num_steps_trained": 3037788, "default": {"entropy": 1.161863088607788, "vf_explained_var": 0.6513333916664124, "kl": 0.008255860768258572, "cur_lr": 0.0005000000237487257, "policy_loss": -0.0009248663554899395, "vf_loss": 23.476381301879883, "cur_kl_coeff": 0.012500002048909664, "total_loss": 23.47555923461914}}, "episode_reward_max": 1009.7483459731403, "episode_len_mean": 693.35, "episode_reward_mean": 901.1654223795936, "config": {"kl_coeff": 0.2, "output": null, "vf_share_layers": false, "num_sgd_iter": 10, "horizon": 1500, "tf_session_args": {"allow_soft_placement": true, "intra_op_parallelism_threads": 2, "gpu_options": {"allow_growth": true}, "device_count": {"CPU": 1}, "log_device_placement": false, "inter_op_parallelism_threads": 2}, "entropy_coeff": 0.0, "optimizer": {}, "num_gpus_per_worker": 0, "output_compress_columns": ["obs", "new_obs"], "straggler_mitigation": false, "batch_mode": "truncate_episodes", "env_config": {"flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"eta1\": 1.0,\n            \"eta2\": 0.3,\n            \"eta3\": 0.5,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 1.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnvOutFlowRew\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 600,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}", "run": "PPO"}, "monitor": false, "observation_filter": "NoFilter", "num_envs_per_worker": 1, "lambda": 0.97, "sgd_minibatch_size": 128, "clip_rewards": null, "env": "MultiWaveAttenuationMergePOEnvOutFlowRew-v0_[eta1, eta2, eta3]:[1.0, 0.1, 0.1]_t_min:5.0", "callbacks": {"on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7ff12daa45f8>", "on_sample_end": null, "on_train_result": null, "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7ff12daa4748>", "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7ff12daa4b70>"}, "num_cpus_per_worker": 1, "vf_clip_param": 1000000.0, "input": "sampler", "clip_param": 0.3, "vf_loss_coeff": 1.0, "collect_metrics_timeout": 180, "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "lr": 0.0005, "num_cpus_for_driver": 1, "input_evaluation": null, "use_gae": true, "sample_async": false, "lr_schedule": null, "multiagent": {"policies_to_train": null, "policy_mapping_fn": null, "policy_graphs": {}}, "output_max_file_size": 67108864, "sample_batch_size": 200, "clip_actions": false, "simple_optimizer": false, "custom_resources_per_worker": {}, "num_workers": 60, "compress_observations": false, "num_gpus": 0, "synchronize_filters": true, "train_batch_size": 90000, "log_level": "INFO", "preprocessor_pref": "deepmind", "model": {"conv_activation": "relu", "conv_filters": null, "dim": 84, "squash_to_range": false, "custom_options": {}, "fcnet_hiddens": [100, 50, 25], "lstm_cell_size": 256, "framestack": true, "lstm_use_prev_action_reward": false, "custom_preprocessor": null, "channel_major": false, "grayscale": false, "free_log_std": false, "use_lstm": false, "max_seq_len": 20, "zero_mean": true, "custom_model": null, "fcnet_activation": "tanh"}, "gamma": 0.99, "kl_target": 0.01}, "policy_reward_mean": {}, "time_total_s": 974.4106101989746, "training_iteration": 25, "episodes_total": 1231, "timesteps_since_restore": 3037788, "timesteps_this_iter": 120902, "episode_reward_min": 51.05690696712735, "experiment_id": "0ca68f474651454fadb7afed60429c6a", "timestamp": 1556356854, "episodes_this_iter": 51, "done": false, "date": "2019-04-27_09-20-54"}
{"time_since_restore": 1012.0422270298004, "timesteps_total": 3158016, "custom_metrics": {"outflow_rate_max": 1104.2151814647254, "outflow_rate_mean": 1025.506114574388, "cost2_mean": -85.08678097217991, "cost2_min": -111.32762895150341, "cost1_max": 352.52084222211727, "system_level_velocity_max": 18.286944514516343, "outflow_rate_min": 464.3417965711157, "cost1_min": 22.761026200127553, "cost1_mean": 309.2073237318954, "system_level_velocity_mean": 12.059753994257562, "cost2_max": -13.12361138628193, "system_level_velocity_min": 10.115582794987963}, "time_this_iter_s": 37.631616830825806, "num_metric_batches_dropped": 0, "iterations_since_restore": 26, "node_ip": "10.138.0.2", "pid": 57990, "hostname": "flow-main", "info": {"sample_time_ms": 14274.963, "grad_time_ms": 23413.379, "load_time_ms": 10.798, "update_time_ms": 10.837, "num_steps_sampled": 3158016, "num_steps_trained": 3158016, "default": {"entropy": 1.1536692380905151, "vf_explained_var": 0.6487206220626831, "kl": 0.008237296715378761, "cur_lr": 0.0005000000237487257, "policy_loss": -0.0006587717798538506, "vf_loss": 23.89732551574707, "cur_kl_coeff": 0.012500002048909664, "total_loss": 23.89676856994629}}, "episode_reward_max": 1009.7483459731403, "episode_len_mean": 686.7, "episode_reward_mean": 892.590146837335, "config": {"kl_coeff": 0.2, "output": null, "vf_share_layers": false, "num_sgd_iter": 10, "horizon": 1500, "tf_session_args": {"allow_soft_placement": true, "intra_op_parallelism_threads": 2, "gpu_options": {"allow_growth": true}, "device_count": {"CPU": 1}, "log_device_placement": false, "inter_op_parallelism_threads": 2}, "entropy_coeff": 0.0, "optimizer": {}, "num_gpus_per_worker": 0, "output_compress_columns": ["obs", "new_obs"], "straggler_mitigation": false, "batch_mode": "truncate_episodes", "env_config": {"flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"eta1\": 1.0,\n            \"eta2\": 0.3,\n            \"eta3\": 0.5,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 1.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnvOutFlowRew\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 600,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}", "run": "PPO"}, "monitor": false, "observation_filter": "NoFilter", "num_envs_per_worker": 1, "lambda": 0.97, "sgd_minibatch_size": 128, "clip_rewards": null, "env": "MultiWaveAttenuationMergePOEnvOutFlowRew-v0_[eta1, eta2, eta3]:[1.0, 0.1, 0.1]_t_min:5.0", "callbacks": {"on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7ff12da9dbe0>", "on_sample_end": null, "on_train_result": null, "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7ff12da9dd68>", "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7ff12da9d4a8>"}, "num_cpus_per_worker": 1, "vf_clip_param": 1000000.0, "input": "sampler", "clip_param": 0.3, "vf_loss_coeff": 1.0, "collect_metrics_timeout": 180, "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "lr": 0.0005, "num_cpus_for_driver": 1, "input_evaluation": null, "use_gae": true, "sample_async": false, "lr_schedule": null, "multiagent": {"policies_to_train": null, "policy_mapping_fn": null, "policy_graphs": {}}, "output_max_file_size": 67108864, "sample_batch_size": 200, "clip_actions": false, "simple_optimizer": false, "custom_resources_per_worker": {}, "num_workers": 60, "compress_observations": false, "num_gpus": 0, "synchronize_filters": true, "train_batch_size": 90000, "log_level": "INFO", "preprocessor_pref": "deepmind", "model": {"conv_activation": "relu", "conv_filters": null, "dim": 84, "squash_to_range": false, "custom_options": {}, "fcnet_hiddens": [100, 50, 25], "lstm_cell_size": 256, "framestack": true, "lstm_use_prev_action_reward": false, "custom_preprocessor": null, "channel_major": false, "grayscale": false, "free_log_std": false, "use_lstm": false, "max_seq_len": 20, "zero_mean": true, "custom_model": null, "fcnet_activation": "tanh"}, "gamma": 0.99, "kl_target": 0.01}, "policy_reward_mean": {}, "time_total_s": 1012.0422270298004, "training_iteration": 26, "episodes_total": 1287, "timesteps_since_restore": 3158016, "timesteps_this_iter": 120228, "episode_reward_min": 51.05690696712735, "experiment_id": "0ca68f474651454fadb7afed60429c6a", "timestamp": 1556356892, "episodes_this_iter": 56, "done": false, "date": "2019-04-27_09-21-32"}
{"time_since_restore": 1049.5654497146606, "timesteps_total": 3276627, "custom_metrics": {"outflow_rate_max": 1109.1156237327757, "outflow_rate_mean": 1029.4039443248462, "cost2_mean": -82.77962145259713, "cost2_min": -112.80699136647769, "cost1_max": 345.1087270359327, "system_level_velocity_max": 18.14278294697883, "outflow_rate_min": 464.3417965711157, "cost1_min": 22.761026200127553, "cost1_mean": 312.2133653287156, "system_level_velocity_mean": 11.995672308571597, "cost2_max": -13.12361138628193, "system_level_velocity_min": 10.115582794987963}, "time_this_iter_s": 37.52322268486023, "num_metric_batches_dropped": 0, "iterations_since_restore": 27, "node_ip": "10.138.0.2", "pid": 57990, "hostname": "flow-main", "info": {"sample_time_ms": 14258.862, "grad_time_ms": 23382.35, "load_time_ms": 10.581, "update_time_ms": 10.934, "num_steps_sampled": 3276627, "num_steps_trained": 3276627, "default": {"entropy": 1.1405624151229858, "vf_explained_var": 0.6724646687507629, "kl": 0.008884122595191002, "cur_lr": 0.0005000000237487257, "policy_loss": -0.0005474089412018657, "vf_loss": 23.78412437438965, "cur_kl_coeff": 0.012500002980232239, "total_loss": 23.783687591552734}}, "episode_reward_max": 975.3461154113817, "episode_len_mean": 693.35, "episode_reward_mean": 897.7337381237803, "config": {"kl_coeff": 0.2, "output": null, "vf_share_layers": false, "num_sgd_iter": 10, "horizon": 1500, "tf_session_args": {"allow_soft_placement": true, "intra_op_parallelism_threads": 2, "gpu_options": {"allow_growth": true}, "device_count": {"CPU": 1}, "log_device_placement": false, "inter_op_parallelism_threads": 2}, "entropy_coeff": 0.0, "optimizer": {}, "num_gpus_per_worker": 0, "output_compress_columns": ["obs", "new_obs"], "straggler_mitigation": false, "batch_mode": "truncate_episodes", "env_config": {"flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"eta1\": 1.0,\n            \"eta2\": 0.3,\n            \"eta3\": 0.5,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 1.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnvOutFlowRew\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 600,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}", "run": "PPO"}, "monitor": false, "observation_filter": "NoFilter", "num_envs_per_worker": 1, "lambda": 0.97, "sgd_minibatch_size": 128, "clip_rewards": null, "env": "MultiWaveAttenuationMergePOEnvOutFlowRew-v0_[eta1, eta2, eta3]:[1.0, 0.1, 0.1]_t_min:5.0", "callbacks": {"on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7ff12dab7898>", "on_sample_end": null, "on_train_result": null, "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7ff12dab7860>", "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7ff12dab78d0>"}, "num_cpus_per_worker": 1, "vf_clip_param": 1000000.0, "input": "sampler", "clip_param": 0.3, "vf_loss_coeff": 1.0, "collect_metrics_timeout": 180, "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "lr": 0.0005, "num_cpus_for_driver": 1, "input_evaluation": null, "use_gae": true, "sample_async": false, "lr_schedule": null, "multiagent": {"policies_to_train": null, "policy_mapping_fn": null, "policy_graphs": {}}, "output_max_file_size": 67108864, "sample_batch_size": 200, "clip_actions": false, "simple_optimizer": false, "custom_resources_per_worker": {}, "num_workers": 60, "compress_observations": false, "num_gpus": 0, "synchronize_filters": true, "train_batch_size": 90000, "log_level": "INFO", "preprocessor_pref": "deepmind", "model": {"conv_activation": "relu", "conv_filters": null, "dim": 84, "squash_to_range": false, "custom_options": {}, "fcnet_hiddens": [100, 50, 25], "lstm_cell_size": 256, "framestack": true, "lstm_use_prev_action_reward": false, "custom_preprocessor": null, "channel_major": false, "grayscale": false, "free_log_std": false, "use_lstm": false, "max_seq_len": 20, "zero_mean": true, "custom_model": null, "fcnet_activation": "tanh"}, "gamma": 0.99, "kl_target": 0.01}, "policy_reward_mean": {}, "time_total_s": 1049.5654497146606, "training_iteration": 27, "episodes_total": 1339, "timesteps_since_restore": 3276627, "timesteps_this_iter": 118611, "episode_reward_min": 53.90950711964613, "experiment_id": "0ca68f474651454fadb7afed60429c6a", "timestamp": 1556356930, "episodes_this_iter": 52, "done": false, "date": "2019-04-27_09-22-10"}
{"time_since_restore": 1084.18221616745, "timesteps_total": 3395665, "custom_metrics": {"outflow_rate_max": 1113.729703787516, "outflow_rate_mean": 1034.7540837406034, "cost2_mean": -84.38402952404832, "cost2_min": -112.80699136647769, "cost1_max": 348.06657460318627, "system_level_velocity_max": 18.018619532590318, "outflow_rate_min": 473.551478855767, "cost1_min": 23.93908374384108, "cost1_mean": 314.3541480155695, "system_level_velocity_mean": 12.070064092389371, "cost2_max": -16.149726670324608, "system_level_velocity_min": 10.199371577210917}, "time_this_iter_s": 34.61676645278931, "num_metric_batches_dropped": 0, "iterations_since_restore": 28, "node_ip": "10.138.0.2", "pid": 57990, "hostname": "flow-main", "info": {"sample_time_ms": 14242.274, "grad_time_ms": 23247.728, "load_time_ms": 10.394, "update_time_ms": 10.649, "num_steps_sampled": 3395665, "num_steps_trained": 3395665, "default": {"entropy": 1.139543890953064, "vf_explained_var": 0.6695507168769836, "kl": 0.008467023260891438, "cur_lr": 0.0005000000237487257, "policy_loss": -0.0008918675011955202, "vf_loss": 24.687267303466797, "cur_kl_coeff": 0.012500002048909664, "total_loss": 24.686479568481445}}, "episode_reward_max": 978.4664688825399, "episode_len_mean": 693.37, "episode_reward_mean": 901.3162553941315, "config": {"kl_coeff": 0.2, "output": null, "vf_share_layers": false, "num_sgd_iter": 10, "horizon": 1500, "tf_session_args": {"allow_soft_placement": true, "intra_op_parallelism_threads": 2, "gpu_options": {"allow_growth": true}, "device_count": {"CPU": 1}, "log_device_placement": false, "inter_op_parallelism_threads": 2}, "entropy_coeff": 0.0, "optimizer": {}, "num_gpus_per_worker": 0, "output_compress_columns": ["obs", "new_obs"], "straggler_mitigation": false, "batch_mode": "truncate_episodes", "env_config": {"flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"eta1\": 1.0,\n            \"eta2\": 0.3,\n            \"eta3\": 0.5,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 1.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnvOutFlowRew\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 600,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}", "run": "PPO"}, "monitor": false, "observation_filter": "NoFilter", "num_envs_per_worker": 1, "lambda": 0.97, "sgd_minibatch_size": 128, "clip_rewards": null, "env": "MultiWaveAttenuationMergePOEnvOutFlowRew-v0_[eta1, eta2, eta3]:[1.0, 0.1, 0.1]_t_min:5.0", "callbacks": {"on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7ff12daa9358>", "on_sample_end": null, "on_train_result": null, "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7ff12daa9c18>", "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7ff12daa90b8>"}, "num_cpus_per_worker": 1, "vf_clip_param": 1000000.0, "input": "sampler", "clip_param": 0.3, "vf_loss_coeff": 1.0, "collect_metrics_timeout": 180, "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "lr": 0.0005, "num_cpus_for_driver": 1, "input_evaluation": null, "use_gae": true, "sample_async": false, "lr_schedule": null, "multiagent": {"policies_to_train": null, "policy_mapping_fn": null, "policy_graphs": {}}, "output_max_file_size": 67108864, "sample_batch_size": 200, "clip_actions": false, "simple_optimizer": false, "custom_resources_per_worker": {}, "num_workers": 60, "compress_observations": false, "num_gpus": 0, "synchronize_filters": true, "train_batch_size": 90000, "log_level": "INFO", "preprocessor_pref": "deepmind", "model": {"conv_activation": "relu", "conv_filters": null, "dim": 84, "squash_to_range": false, "custom_options": {}, "fcnet_hiddens": [100, 50, 25], "lstm_cell_size": 256, "framestack": true, "lstm_use_prev_action_reward": false, "custom_preprocessor": null, "channel_major": false, "grayscale": false, "free_log_std": false, "use_lstm": false, "max_seq_len": 20, "zero_mean": true, "custom_model": null, "fcnet_activation": "tanh"}, "gamma": 0.99, "kl_target": 0.01}, "policy_reward_mean": {}, "time_total_s": 1084.18221616745, "training_iteration": 28, "episodes_total": 1393, "timesteps_since_restore": 3395665, "timesteps_this_iter": 119038, "episode_reward_min": 55.47562125628644, "experiment_id": "0ca68f474651454fadb7afed60429c6a", "timestamp": 1556356964, "episodes_this_iter": 54, "done": false, "date": "2019-04-27_09-22-44"}
{"time_since_restore": 1122.5684525966644, "timesteps_total": 3514791, "custom_metrics": {"outflow_rate_max": 1113.729703787516, "outflow_rate_mean": 1035.0530985211744, "cost2_mean": -85.05628939727903, "cost2_min": -119.009852058159, "cost1_max": 347.3878825029385, "system_level_velocity_max": 18.018619532590318, "outflow_rate_min": 473.551478855767, "cost1_min": 23.93908374384108, "cost1_mean": 314.6629587696302, "system_level_velocity_mean": 12.096073814488825, "cost2_max": -16.149726670324608, "system_level_velocity_min": 9.714737198780055}, "time_this_iter_s": 38.38623642921448, "num_metric_batches_dropped": 0, "iterations_since_restore": 29, "node_ip": "10.138.0.2", "pid": 57990, "hostname": "flow-main", "info": {"sample_time_ms": 14209.898, "grad_time_ms": 23314.854, "load_time_ms": 10.561, "update_time_ms": 10.831, "num_steps_sampled": 3514791, "num_steps_trained": 3514791, "default": {"entropy": 1.136040449142456, "vf_explained_var": 0.6676343083381653, "kl": 0.008429108187556267, "cur_lr": 0.0005000000237487257, "policy_loss": -0.0009856292745098472, "vf_loss": 23.784984588623047, "cur_kl_coeff": 0.012500002048909664, "total_loss": 23.784101486206055}}, "episode_reward_max": 978.4664688825399, "episode_len_mean": 693.37, "episode_reward_mean": 902.2555659887366, "config": {"kl_coeff": 0.2, "output": null, "vf_share_layers": false, "num_sgd_iter": 10, "horizon": 1500, "tf_session_args": {"allow_soft_placement": true, "intra_op_parallelism_threads": 2, "gpu_options": {"allow_growth": true}, "device_count": {"CPU": 1}, "log_device_placement": false, "inter_op_parallelism_threads": 2}, "entropy_coeff": 0.0, "optimizer": {}, "num_gpus_per_worker": 0, "output_compress_columns": ["obs", "new_obs"], "straggler_mitigation": false, "batch_mode": "truncate_episodes", "env_config": {"flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"eta1\": 1.0,\n            \"eta2\": 0.3,\n            \"eta3\": 0.5,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 1.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnvOutFlowRew\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 600,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}", "run": "PPO"}, "monitor": false, "observation_filter": "NoFilter", "num_envs_per_worker": 1, "lambda": 0.97, "sgd_minibatch_size": 128, "clip_rewards": null, "env": "MultiWaveAttenuationMergePOEnvOutFlowRew-v0_[eta1, eta2, eta3]:[1.0, 0.1, 0.1]_t_min:5.0", "callbacks": {"on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7ff12dab70f0>", "on_sample_end": null, "on_train_result": null, "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7ff12dab7358>", "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7ff12dab7588>"}, "num_cpus_per_worker": 1, "vf_clip_param": 1000000.0, "input": "sampler", "clip_param": 0.3, "vf_loss_coeff": 1.0, "collect_metrics_timeout": 180, "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "lr": 0.0005, "num_cpus_for_driver": 1, "input_evaluation": null, "use_gae": true, "sample_async": false, "lr_schedule": null, "multiagent": {"policies_to_train": null, "policy_mapping_fn": null, "policy_graphs": {}}, "output_max_file_size": 67108864, "sample_batch_size": 200, "clip_actions": false, "simple_optimizer": false, "custom_resources_per_worker": {}, "num_workers": 60, "compress_observations": false, "num_gpus": 0, "synchronize_filters": true, "train_batch_size": 90000, "log_level": "INFO", "preprocessor_pref": "deepmind", "model": {"conv_activation": "relu", "conv_filters": null, "dim": 84, "squash_to_range": false, "custom_options": {}, "fcnet_hiddens": [100, 50, 25], "lstm_cell_size": 256, "framestack": true, "lstm_use_prev_action_reward": false, "custom_preprocessor": null, "channel_major": false, "grayscale": false, "free_log_std": false, "use_lstm": false, "max_seq_len": 20, "zero_mean": true, "custom_model": null, "fcnet_activation": "tanh"}, "gamma": 0.99, "kl_target": 0.01}, "policy_reward_mean": {}, "time_total_s": 1122.5684525966644, "training_iteration": 29, "episodes_total": 1442, "timesteps_since_restore": 3514791, "timesteps_this_iter": 119126, "episode_reward_min": 55.47562125628644, "experiment_id": "0ca68f474651454fadb7afed60429c6a", "timestamp": 1556357003, "episodes_this_iter": 49, "done": false, "date": "2019-04-27_09-23-23"}
{"time_since_restore": 1160.0654602050781, "timesteps_total": 3635640, "custom_metrics": {"outflow_rate_max": 1112.307415143406, "outflow_rate_mean": 1039.337365068641, "cost2_mean": -86.03944265383917, "cost2_min": -119.009852058159, "cost1_max": 348.0898254701427, "system_level_velocity_max": 13.172168149466893, "outflow_rate_min": 901.8000358704882, "cost1_min": 253.74925791368406, "cost1_mean": 316.63208023028255, "system_level_velocity_mean": 11.989186460549805, "cost2_max": -60.46148858230365, "system_level_velocity_min": 9.714737198780055}, "time_this_iter_s": 37.497007608413696, "num_metric_batches_dropped": 0, "iterations_since_restore": 30, "node_ip": "10.138.0.2", "pid": 57990, "hostname": "flow-main", "info": {"sample_time_ms": 14206.366, "grad_time_ms": 23275.992, "load_time_ms": 10.676, "update_time_ms": 10.716, "num_steps_sampled": 3635640, "num_steps_trained": 3635640, "default": {"entropy": 1.1196824312210083, "vf_explained_var": 0.6874135136604309, "kl": 0.009611058980226517, "cur_lr": 0.0005000000237487257, "policy_loss": -0.0013880436308681965, "vf_loss": 21.61203956604004, "cur_kl_coeff": 0.012500002048909664, "total_loss": 21.61077117919922}}, "episode_reward_max": 977.517004899347, "episode_len_mean": 700.0, "episode_reward_mean": 907.2285314691197, "config": {"kl_coeff": 0.2, "output": null, "vf_share_layers": false, "num_sgd_iter": 10, "horizon": 1500, "tf_session_args": {"allow_soft_placement": true, "intra_op_parallelism_threads": 2, "gpu_options": {"allow_growth": true}, "device_count": {"CPU": 1}, "log_device_placement": false, "inter_op_parallelism_threads": 2}, "entropy_coeff": 0.0, "optimizer": {}, "num_gpus_per_worker": 0, "output_compress_columns": ["obs", "new_obs"], "straggler_mitigation": false, "batch_mode": "truncate_episodes", "env_config": {"flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"eta1\": 1.0,\n            \"eta2\": 0.3,\n            \"eta3\": 0.5,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 1.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnvOutFlowRew\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 600,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}", "run": "PPO"}, "monitor": false, "observation_filter": "NoFilter", "num_envs_per_worker": 1, "lambda": 0.97, "sgd_minibatch_size": 128, "clip_rewards": null, "env": "MultiWaveAttenuationMergePOEnvOutFlowRew-v0_[eta1, eta2, eta3]:[1.0, 0.1, 0.1]_t_min:5.0", "callbacks": {"on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7ff12daa9d68>", "on_sample_end": null, "on_train_result": null, "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7ff12daa90b8>", "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7ff12daa9c18>"}, "num_cpus_per_worker": 1, "vf_clip_param": 1000000.0, "input": "sampler", "clip_param": 0.3, "vf_loss_coeff": 1.0, "collect_metrics_timeout": 180, "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "lr": 0.0005, "num_cpus_for_driver": 1, "input_evaluation": null, "use_gae": true, "sample_async": false, "lr_schedule": null, "multiagent": {"policies_to_train": null, "policy_mapping_fn": null, "policy_graphs": {}}, "output_max_file_size": 67108864, "sample_batch_size": 200, "clip_actions": false, "simple_optimizer": false, "custom_resources_per_worker": {}, "num_workers": 60, "compress_observations": false, "num_gpus": 0, "synchronize_filters": true, "train_batch_size": 90000, "log_level": "INFO", "preprocessor_pref": "deepmind", "model": {"conv_activation": "relu", "conv_filters": null, "dim": 84, "squash_to_range": false, "custom_options": {}, "fcnet_hiddens": [100, 50, 25], "lstm_cell_size": 256, "framestack": true, "lstm_use_prev_action_reward": false, "custom_preprocessor": null, "channel_major": false, "grayscale": false, "free_log_std": false, "use_lstm": false, "max_seq_len": 20, "zero_mean": true, "custom_model": null, "fcnet_activation": "tanh"}, "gamma": 0.99, "kl_target": 0.01}, "policy_reward_mean": {}, "time_total_s": 1160.0654602050781, "training_iteration": 30, "episodes_total": 1488, "timesteps_since_restore": 3635640, "timesteps_this_iter": 120849, "episode_reward_min": 803.1759140836488, "experiment_id": "0ca68f474651454fadb7afed60429c6a", "timestamp": 1556357040, "episodes_this_iter": 46, "done": false, "date": "2019-04-27_09-24-00"}
{"time_since_restore": 1199.0173597335815, "timesteps_total": 3756261, "custom_metrics": {"outflow_rate_max": 1108.7266371838468, "outflow_rate_mean": 1037.679172491803, "cost2_mean": -85.32747921259494, "cost2_min": -112.29788009944431, "cost1_max": 348.0898254701427, "system_level_velocity_max": 13.026803191987822, "outflow_rate_min": 913.9767790776738, "cost1_min": 261.633462230537, "cost1_mean": 315.6814950115963, "system_level_velocity_mean": 11.938156025523442, "cost2_max": -64.30913123853705, "system_level_velocity_min": 10.017536028383745}, "time_this_iter_s": 38.95189952850342, "num_metric_batches_dropped": 0, "iterations_since_restore": 31, "node_ip": "10.138.0.2", "pid": 57990, "hostname": "flow-main", "info": {"sample_time_ms": 14121.263, "grad_time_ms": 23352.158, "load_time_ms": 10.453, "update_time_ms": 10.774, "num_steps_sampled": 3756261, "num_steps_trained": 3756261, "default": {"entropy": 1.1155894994735718, "vf_explained_var": 0.7038303017616272, "kl": 0.008080551400780678, "cur_lr": 0.0005000000237487257, "policy_loss": -0.0009303087135776877, "vf_loss": 21.90372085571289, "cur_kl_coeff": 0.012500002980232239, "total_loss": 21.902891159057617}}, "episode_reward_max": 966.6808334640788, "episode_len_mean": 700.0, "episode_reward_mean": 903.6908254266511, "config": {"kl_coeff": 0.2, "output": null, "vf_share_layers": false, "num_sgd_iter": 10, "horizon": 1500, "tf_session_args": {"allow_soft_placement": true, "intra_op_parallelism_threads": 2, "gpu_options": {"allow_growth": true}, "device_count": {"CPU": 1}, "log_device_placement": false, "inter_op_parallelism_threads": 2}, "entropy_coeff": 0.0, "optimizer": {}, "num_gpus_per_worker": 0, "output_compress_columns": ["obs", "new_obs"], "straggler_mitigation": false, "batch_mode": "truncate_episodes", "env_config": {"flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"eta1\": 1.0,\n            \"eta2\": 0.3,\n            \"eta3\": 0.5,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 1.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnvOutFlowRew\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 600,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}", "run": "PPO"}, "monitor": false, "observation_filter": "NoFilter", "num_envs_per_worker": 1, "lambda": 0.97, "sgd_minibatch_size": 128, "clip_rewards": null, "env": "MultiWaveAttenuationMergePOEnvOutFlowRew-v0_[eta1, eta2, eta3]:[1.0, 0.1, 0.1]_t_min:5.0", "callbacks": {"on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7ff12dab7e48>", "on_sample_end": null, "on_train_result": null, "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7ff12dab7d30>", "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7ff12dab7438>"}, "num_cpus_per_worker": 1, "vf_clip_param": 1000000.0, "input": "sampler", "clip_param": 0.3, "vf_loss_coeff": 1.0, "collect_metrics_timeout": 180, "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "lr": 0.0005, "num_cpus_for_driver": 1, "input_evaluation": null, "use_gae": true, "sample_async": false, "lr_schedule": null, "multiagent": {"policies_to_train": null, "policy_mapping_fn": null, "policy_graphs": {}}, "output_max_file_size": 67108864, "sample_batch_size": 200, "clip_actions": false, "simple_optimizer": false, "custom_resources_per_worker": {}, "num_workers": 60, "compress_observations": false, "num_gpus": 0, "synchronize_filters": true, "train_batch_size": 90000, "log_level": "INFO", "preprocessor_pref": "deepmind", "model": {"conv_activation": "relu", "conv_filters": null, "dim": 84, "squash_to_range": false, "custom_options": {}, "fcnet_hiddens": [100, 50, 25], "lstm_cell_size": 256, "framestack": true, "lstm_use_prev_action_reward": false, "custom_preprocessor": null, "channel_major": false, "grayscale": false, "free_log_std": false, "use_lstm": false, "max_seq_len": 20, "zero_mean": true, "custom_model": null, "fcnet_activation": "tanh"}, "gamma": 0.99, "kl_target": 0.01}, "policy_reward_mean": {}, "time_total_s": 1199.0173597335815, "training_iteration": 31, "episodes_total": 1533, "timesteps_since_restore": 3756261, "timesteps_this_iter": 120621, "episode_reward_min": 819.2017063516887, "experiment_id": "0ca68f474651454fadb7afed60429c6a", "timestamp": 1556357079, "episodes_this_iter": 45, "done": false, "date": "2019-04-27_09-24-39"}
{"time_since_restore": 1236.8131968975067, "timesteps_total": 3875641, "custom_metrics": {"outflow_rate_max": 1163.4329589741926, "outflow_rate_mean": 1031.715660978469, "cost2_mean": -82.65092493585963, "cost2_min": -111.73977927170674, "cost1_max": 373.8261857518123, "system_level_velocity_max": 13.996413860427817, "outflow_rate_min": 918.5868234669344, "cost1_min": 254.5256621386076, "cost1_mean": 314.20741699096334, "system_level_velocity_mean": 11.894706108379403, "cost2_max": -59.02319821850438, "system_level_velocity_min": 9.686722803729028}, "time_this_iter_s": 37.79583716392517, "num_metric_batches_dropped": 0, "iterations_since_restore": 32, "node_ip": "10.138.0.2", "pid": 57990, "hostname": "flow-main", "info": {"sample_time_ms": 14164.947, "grad_time_ms": 23233.638, "load_time_ms": 10.677, "update_time_ms": 11.097, "num_steps_sampled": 3875641, "num_steps_trained": 3875641, "default": {"entropy": 1.113959789276123, "vf_explained_var": 0.6851276755332947, "kl": 0.009264995343983173, "cur_lr": 0.0005000000237487257, "policy_loss": -0.0009406986646354198, "vf_loss": 27.615196228027344, "cur_kl_coeff": 0.012500002980232239, "total_loss": 27.614370346069336}}, "episode_reward_max": 992.1376853127443, "episode_len_mean": 700.0, "episode_reward_mean": 900.6989162591091, "config": {"kl_coeff": 0.2, "output": null, "vf_share_layers": false, "num_sgd_iter": 10, "horizon": 1500, "tf_session_args": {"allow_soft_placement": true, "intra_op_parallelism_threads": 2, "gpu_options": {"allow_growth": true}, "device_count": {"CPU": 1}, "log_device_placement": false, "inter_op_parallelism_threads": 2}, "entropy_coeff": 0.0, "optimizer": {}, "num_gpus_per_worker": 0, "output_compress_columns": ["obs", "new_obs"], "straggler_mitigation": false, "batch_mode": "truncate_episodes", "env_config": {"flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"eta1\": 1.0,\n            \"eta2\": 0.3,\n            \"eta3\": 0.5,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 1.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnvOutFlowRew\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 600,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}", "run": "PPO"}, "monitor": false, "observation_filter": "NoFilter", "num_envs_per_worker": 1, "lambda": 0.97, "sgd_minibatch_size": 128, "clip_rewards": null, "env": "MultiWaveAttenuationMergePOEnvOutFlowRew-v0_[eta1, eta2, eta3]:[1.0, 0.1, 0.1]_t_min:5.0", "callbacks": {"on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7ff12f2fa9e8>", "on_sample_end": null, "on_train_result": null, "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7ff12f2fad30>", "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7ff12da9cb00>"}, "num_cpus_per_worker": 1, "vf_clip_param": 1000000.0, "input": "sampler", "clip_param": 0.3, "vf_loss_coeff": 1.0, "collect_metrics_timeout": 180, "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "lr": 0.0005, "num_cpus_for_driver": 1, "input_evaluation": null, "use_gae": true, "sample_async": false, "lr_schedule": null, "multiagent": {"policies_to_train": null, "policy_mapping_fn": null, "policy_graphs": {}}, "output_max_file_size": 67108864, "sample_batch_size": 200, "clip_actions": false, "simple_optimizer": false, "custom_resources_per_worker": {}, "num_workers": 60, "compress_observations": false, "num_gpus": 0, "synchronize_filters": true, "train_batch_size": 90000, "log_level": "INFO", "preprocessor_pref": "deepmind", "model": {"conv_activation": "relu", "conv_filters": null, "dim": 84, "squash_to_range": false, "custom_options": {}, "fcnet_hiddens": [100, 50, 25], "lstm_cell_size": 256, "framestack": true, "lstm_use_prev_action_reward": false, "custom_preprocessor": null, "channel_major": false, "grayscale": false, "free_log_std": false, "use_lstm": false, "max_seq_len": 20, "zero_mean": true, "custom_model": null, "fcnet_activation": "tanh"}, "gamma": 0.99, "kl_target": 0.01}, "policy_reward_mean": {}, "time_total_s": 1236.8131968975067, "training_iteration": 32, "episodes_total": 1589, "timesteps_since_restore": 3875641, "timesteps_this_iter": 119380, "episode_reward_min": 797.2310924330824, "experiment_id": "0ca68f474651454fadb7afed60429c6a", "timestamp": 1556357117, "episodes_this_iter": 56, "done": false, "date": "2019-04-27_09-25-17"}
{"time_since_restore": 1271.8508524894714, "timesteps_total": 3993486, "custom_metrics": {"outflow_rate_max": 1163.4329589741926, "outflow_rate_mean": 1038.1436854178762, "cost2_mean": -82.81424378243256, "cost2_min": -108.11942454922524, "cost1_max": 373.8261857518123, "system_level_velocity_max": 13.996413860427817, "outflow_rate_min": 918.5868234669344, "cost1_min": 254.5256621386076, "cost1_mean": 317.2850903634564, "system_level_velocity_mean": 12.03227805839709, "cost2_max": -58.46708579612613, "system_level_velocity_min": 9.686722803729028}, "time_this_iter_s": 35.03765559196472, "num_metric_batches_dropped": 0, "iterations_since_restore": 33, "node_ip": "10.138.0.2", "pid": 57990, "hostname": "flow-main", "info": {"sample_time_ms": 14163.344, "grad_time_ms": 22857.196, "load_time_ms": 10.985, "update_time_ms": 10.877, "num_steps_sampled": 3993486, "num_steps_trained": 3993486, "default": {"entropy": 1.1053321361541748, "vf_explained_var": 0.6739541888237, "kl": 0.01083698682487011, "cur_lr": 0.0005000000237487257, "policy_loss": -0.0009364617872051895, "vf_loss": 28.04537582397461, "cur_kl_coeff": 0.012500002048909664, "total_loss": 28.044578552246094}}, "episode_reward_max": 992.1376853127443, "episode_len_mean": 700.0, "episode_reward_mean": 903.0860230668301, "config": {"kl_coeff": 0.2, "output": null, "vf_share_layers": false, "num_sgd_iter": 10, "horizon": 1500, "tf_session_args": {"allow_soft_placement": true, "intra_op_parallelism_threads": 2, "gpu_options": {"allow_growth": true}, "device_count": {"CPU": 1}, "log_device_placement": false, "inter_op_parallelism_threads": 2}, "entropy_coeff": 0.0, "optimizer": {}, "num_gpus_per_worker": 0, "output_compress_columns": ["obs", "new_obs"], "straggler_mitigation": false, "batch_mode": "truncate_episodes", "env_config": {"flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"eta1\": 1.0,\n            \"eta2\": 0.3,\n            \"eta3\": 0.5,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 1.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnvOutFlowRew\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 600,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}", "run": "PPO"}, "monitor": false, "observation_filter": "NoFilter", "num_envs_per_worker": 1, "lambda": 0.97, "sgd_minibatch_size": 128, "clip_rewards": null, "env": "MultiWaveAttenuationMergePOEnvOutFlowRew-v0_[eta1, eta2, eta3]:[1.0, 0.1, 0.1]_t_min:5.0", "callbacks": {"on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7ff12dab77f0>", "on_sample_end": null, "on_train_result": null, "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7ff12dab7668>", "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7ff12dab7710>"}, "num_cpus_per_worker": 1, "vf_clip_param": 1000000.0, "input": "sampler", "clip_param": 0.3, "vf_loss_coeff": 1.0, "collect_metrics_timeout": 180, "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "lr": 0.0005, "num_cpus_for_driver": 1, "input_evaluation": null, "use_gae": true, "sample_async": false, "lr_schedule": null, "multiagent": {"policies_to_train": null, "policy_mapping_fn": null, "policy_graphs": {}}, "output_max_file_size": 67108864, "sample_batch_size": 200, "clip_actions": false, "simple_optimizer": false, "custom_resources_per_worker": {}, "num_workers": 60, "compress_observations": false, "num_gpus": 0, "synchronize_filters": true, "train_batch_size": 90000, "log_level": "INFO", "preprocessor_pref": "deepmind", "model": {"conv_activation": "relu", "conv_filters": null, "dim": 84, "squash_to_range": false, "custom_options": {}, "fcnet_hiddens": [100, 50, 25], "lstm_cell_size": 256, "framestack": true, "lstm_use_prev_action_reward": false, "custom_preprocessor": null, "channel_major": false, "grayscale": false, "free_log_std": false, "use_lstm": false, "max_seq_len": 20, "zero_mean": true, "custom_model": null, "fcnet_activation": "tanh"}, "gamma": 0.99, "kl_target": 0.01}, "policy_reward_mean": {}, "time_total_s": 1271.8508524894714, "training_iteration": 33, "episodes_total": 1646, "timesteps_since_restore": 3993486, "timesteps_this_iter": 117845, "episode_reward_min": 797.2310924330824, "experiment_id": "0ca68f474651454fadb7afed60429c6a", "timestamp": 1556357152, "episodes_this_iter": 57, "done": false, "date": "2019-04-27_09-25-52"}
{"time_since_restore": 1306.8275599479675, "timesteps_total": 4110174, "custom_metrics": {"outflow_rate_max": 1156.4910200812342, "outflow_rate_mean": 1046.8356764575822, "cost2_mean": -83.36132079600235, "cost2_min": -118.89521795867009, "cost1_max": 367.6068965669208, "system_level_velocity_max": 13.839806991332974, "outflow_rate_min": 919.3781380722762, "cost1_min": 258.292958470025, "cost1_mean": 320.8600208877227, "system_level_velocity_mean": 12.174679598247874, "cost2_max": -58.46708579612613, "system_level_velocity_min": 9.904341381853433}, "time_this_iter_s": 34.976707458496094, "num_metric_batches_dropped": 0, "iterations_since_restore": 34, "node_ip": "10.138.0.2", "pid": 57990, "hostname": "flow-main", "info": {"sample_time_ms": 14106.644, "grad_time_ms": 22658.115, "load_time_ms": 11.065, "update_time_ms": 11.0, "num_steps_sampled": 4110174, "num_steps_trained": 4110174, "default": {"entropy": 1.0909397602081299, "vf_explained_var": 0.7030806541442871, "kl": 0.009726709686219692, "cur_lr": 0.0005000000237487257, "policy_loss": -0.001253237365745008, "vf_loss": 26.215496063232422, "cur_kl_coeff": 0.012500002980232239, "total_loss": 26.214365005493164}}, "episode_reward_max": 986.9155024804576, "episode_len_mean": 700.0, "episode_reward_mean": 905.8808799194375, "config": {"kl_coeff": 0.2, "output": null, "vf_share_layers": false, "num_sgd_iter": 10, "horizon": 1500, "tf_session_args": {"allow_soft_placement": true, "intra_op_parallelism_threads": 2, "gpu_options": {"allow_growth": true}, "device_count": {"CPU": 1}, "log_device_placement": false, "inter_op_parallelism_threads": 2}, "entropy_coeff": 0.0, "optimizer": {}, "num_gpus_per_worker": 0, "output_compress_columns": ["obs", "new_obs"], "straggler_mitigation": false, "batch_mode": "truncate_episodes", "env_config": {"flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"eta1\": 1.0,\n            \"eta2\": 0.3,\n            \"eta3\": 0.5,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 1.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnvOutFlowRew\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 600,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}", "run": "PPO"}, "monitor": false, "observation_filter": "NoFilter", "num_envs_per_worker": 1, "lambda": 0.97, "sgd_minibatch_size": 128, "clip_rewards": null, "env": "MultiWaveAttenuationMergePOEnvOutFlowRew-v0_[eta1, eta2, eta3]:[1.0, 0.1, 0.1]_t_min:5.0", "callbacks": {"on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7ff12da9c7f0>", "on_sample_end": null, "on_train_result": null, "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7ff12da9c898>", "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7ff12da9cb00>"}, "num_cpus_per_worker": 1, "vf_clip_param": 1000000.0, "input": "sampler", "clip_param": 0.3, "vf_loss_coeff": 1.0, "collect_metrics_timeout": 180, "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "lr": 0.0005, "num_cpus_for_driver": 1, "input_evaluation": null, "use_gae": true, "sample_async": false, "lr_schedule": null, "multiagent": {"policies_to_train": null, "policy_mapping_fn": null, "policy_graphs": {}}, "output_max_file_size": 67108864, "sample_batch_size": 200, "clip_actions": false, "simple_optimizer": false, "custom_resources_per_worker": {}, "num_workers": 60, "compress_observations": false, "num_gpus": 0, "synchronize_filters": true, "train_batch_size": 90000, "log_level": "INFO", "preprocessor_pref": "deepmind", "model": {"conv_activation": "relu", "conv_filters": null, "dim": 84, "squash_to_range": false, "custom_options": {}, "fcnet_hiddens": [100, 50, 25], "lstm_cell_size": 256, "framestack": true, "lstm_use_prev_action_reward": false, "custom_preprocessor": null, "channel_major": false, "grayscale": false, "free_log_std": false, "use_lstm": false, "max_seq_len": 20, "zero_mean": true, "custom_model": null, "fcnet_activation": "tanh"}, "gamma": 0.99, "kl_target": 0.01}, "policy_reward_mean": {}, "time_total_s": 1306.8275599479675, "training_iteration": 34, "episodes_total": 1696, "timesteps_since_restore": 4110174, "timesteps_this_iter": 116688, "episode_reward_min": 805.1694893499969, "experiment_id": "0ca68f474651454fadb7afed60429c6a", "timestamp": 1556357187, "episodes_this_iter": 50, "done": false, "date": "2019-04-27_09-26-27"}
{"time_since_restore": 1343.0232026576996, "timesteps_total": 4228717, "custom_metrics": {"outflow_rate_max": 1171.0857834609444, "outflow_rate_mean": 1051.6328387719927, "cost2_mean": -83.26320973816365, "cost2_min": -118.89521795867009, "cost1_max": 379.37100803768305, "system_level_velocity_max": 14.28149712295997, "outflow_rate_min": 919.3781380722762, "cost1_min": 258.292958470025, "cost1_mean": 322.42134613878517, "system_level_velocity_mean": 12.240573979804527, "cost2_max": -57.27322289630611, "system_level_velocity_min": 9.904341381853433}, "time_this_iter_s": 36.195642709732056, "num_metric_batches_dropped": 0, "iterations_since_restore": 35, "node_ip": "10.138.0.2", "pid": 57990, "hostname": "flow-main", "info": {"sample_time_ms": 14074.222, "grad_time_ms": 22551.378, "load_time_ms": 10.985, "update_time_ms": 11.063, "num_steps_sampled": 4228717, "num_steps_trained": 4228717, "default": {"entropy": 1.0882312059402466, "vf_explained_var": 0.6745059490203857, "kl": 0.010181508958339691, "cur_lr": 0.0005000000237487257, "policy_loss": -0.001375507446937263, "vf_loss": 28.417713165283203, "cur_kl_coeff": 0.012500002980232239, "total_loss": 28.416467666625977}}, "episode_reward_max": 989.4689559848481, "episode_len_mean": 700.0, "episode_reward_mean": 909.2253084942195, "config": {"kl_coeff": 0.2, "output": null, "vf_share_layers": false, "num_sgd_iter": 10, "horizon": 1500, "tf_session_args": {"allow_soft_placement": true, "intra_op_parallelism_threads": 2, "gpu_options": {"allow_growth": true}, "device_count": {"CPU": 1}, "log_device_placement": false, "inter_op_parallelism_threads": 2}, "entropy_coeff": 0.0, "optimizer": {}, "num_gpus_per_worker": 0, "output_compress_columns": ["obs", "new_obs"], "straggler_mitigation": false, "batch_mode": "truncate_episodes", "env_config": {"flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"eta1\": 1.0,\n            \"eta2\": 0.3,\n            \"eta3\": 0.5,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 1.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnvOutFlowRew\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 600,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}", "run": "PPO"}, "monitor": false, "observation_filter": "NoFilter", "num_envs_per_worker": 1, "lambda": 0.97, "sgd_minibatch_size": 128, "clip_rewards": null, "env": "MultiWaveAttenuationMergePOEnvOutFlowRew-v0_[eta1, eta2, eta3]:[1.0, 0.1, 0.1]_t_min:5.0", "callbacks": {"on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7ff12dab7588>", "on_sample_end": null, "on_train_result": null, "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7ff12dab7e48>", "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7ff12dab7630>"}, "num_cpus_per_worker": 1, "vf_clip_param": 1000000.0, "input": "sampler", "clip_param": 0.3, "vf_loss_coeff": 1.0, "collect_metrics_timeout": 180, "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "lr": 0.0005, "num_cpus_for_driver": 1, "input_evaluation": null, "use_gae": true, "sample_async": false, "lr_schedule": null, "multiagent": {"policies_to_train": null, "policy_mapping_fn": null, "policy_graphs": {}}, "output_max_file_size": 67108864, "sample_batch_size": 200, "clip_actions": false, "simple_optimizer": false, "custom_resources_per_worker": {}, "num_workers": 60, "compress_observations": false, "num_gpus": 0, "synchronize_filters": true, "train_batch_size": 90000, "log_level": "INFO", "preprocessor_pref": "deepmind", "model": {"conv_activation": "relu", "conv_filters": null, "dim": 84, "squash_to_range": false, "custom_options": {}, "fcnet_hiddens": [100, 50, 25], "lstm_cell_size": 256, "framestack": true, "lstm_use_prev_action_reward": false, "custom_preprocessor": null, "channel_major": false, "grayscale": false, "free_log_std": false, "use_lstm": false, "max_seq_len": 20, "zero_mean": true, "custom_model": null, "fcnet_activation": "tanh"}, "gamma": 0.99, "kl_target": 0.01}, "policy_reward_mean": {}, "time_total_s": 1343.0232026576996, "training_iteration": 35, "episodes_total": 1745, "timesteps_since_restore": 4228717, "timesteps_this_iter": 118543, "episode_reward_min": 805.1694893499969, "experiment_id": "0ca68f474651454fadb7afed60429c6a", "timestamp": 1556357223, "episodes_this_iter": 49, "done": false, "date": "2019-04-27_09-27-03"}
{"time_since_restore": 1380.3220238685608, "timesteps_total": 4349683, "custom_metrics": {"outflow_rate_max": 1171.0857834609444, "outflow_rate_mean": 1044.9704773233577, "cost2_mean": -86.42787486302127, "cost2_min": -122.15074005684764, "cost1_max": 379.37100803768305, "system_level_velocity_max": 14.28149712295997, "outflow_rate_min": 899.8110684710472, "cost1_min": 253.13059245937825, "cost1_mean": 318.84963254937975, "system_level_velocity_mean": 12.12387815325693, "cost2_max": -57.27322289630611, "system_level_velocity_min": 9.855081435961145}, "time_this_iter_s": 37.298821210861206, "num_metric_batches_dropped": 0, "iterations_since_restore": 36, "node_ip": "10.138.0.2", "pid": 57990, "hostname": "flow-main", "info": {"sample_time_ms": 14064.703, "grad_time_ms": 22524.855, "load_time_ms": 10.783, "update_time_ms": 11.121, "num_steps_sampled": 4349683, "num_steps_trained": 4349683, "default": {"entropy": 1.0761798620224, "vf_explained_var": 0.6737743616104126, "kl": 0.011031816713511944, "cur_lr": 0.0005000000237487257, "policy_loss": -0.0008482106495648623, "vf_loss": 27.900049209594727, "cur_kl_coeff": 0.012500002048909664, "total_loss": 27.899337768554688}}, "episode_reward_max": 989.4689559848481, "episode_len_mean": 700.0, "episode_reward_mean": 905.2500161668414, "config": {"kl_coeff": 0.2, "output": null, "vf_share_layers": false, "num_sgd_iter": 10, "horizon": 1500, "tf_session_args": {"allow_soft_placement": true, "intra_op_parallelism_threads": 2, "gpu_options": {"allow_growth": true}, "device_count": {"CPU": 1}, "log_device_placement": false, "inter_op_parallelism_threads": 2}, "entropy_coeff": 0.0, "optimizer": {}, "num_gpus_per_worker": 0, "output_compress_columns": ["obs", "new_obs"], "straggler_mitigation": false, "batch_mode": "truncate_episodes", "env_config": {"flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"eta1\": 1.0,\n            \"eta2\": 0.3,\n            \"eta3\": 0.5,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 1.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnvOutFlowRew\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 600,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}", "run": "PPO"}, "monitor": false, "observation_filter": "NoFilter", "num_envs_per_worker": 1, "lambda": 0.97, "sgd_minibatch_size": 128, "clip_rewards": null, "env": "MultiWaveAttenuationMergePOEnvOutFlowRew-v0_[eta1, eta2, eta3]:[1.0, 0.1, 0.1]_t_min:5.0", "callbacks": {"on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7ff12da9c3c8>", "on_sample_end": null, "on_train_result": null, "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7ff12da9cb00>", "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7ff12da9c898>"}, "num_cpus_per_worker": 1, "vf_clip_param": 1000000.0, "input": "sampler", "clip_param": 0.3, "vf_loss_coeff": 1.0, "collect_metrics_timeout": 180, "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "lr": 0.0005, "num_cpus_for_driver": 1, "input_evaluation": null, "use_gae": true, "sample_async": false, "lr_schedule": null, "multiagent": {"policies_to_train": null, "policy_mapping_fn": null, "policy_graphs": {}}, "output_max_file_size": 67108864, "sample_batch_size": 200, "clip_actions": false, "simple_optimizer": false, "custom_resources_per_worker": {}, "num_workers": 60, "compress_observations": false, "num_gpus": 0, "synchronize_filters": true, "train_batch_size": 90000, "log_level": "INFO", "preprocessor_pref": "deepmind", "model": {"conv_activation": "relu", "conv_filters": null, "dim": 84, "squash_to_range": false, "custom_options": {}, "fcnet_hiddens": [100, 50, 25], "lstm_cell_size": 256, "framestack": true, "lstm_use_prev_action_reward": false, "custom_preprocessor": null, "channel_major": false, "grayscale": false, "free_log_std": false, "use_lstm": false, "max_seq_len": 20, "zero_mean": true, "custom_model": null, "fcnet_activation": "tanh"}, "gamma": 0.99, "kl_target": 0.01}, "policy_reward_mean": {}, "time_total_s": 1380.3220238685608, "training_iteration": 36, "episodes_total": 1792, "timesteps_since_restore": 4349683, "timesteps_this_iter": 120966, "episode_reward_min": 820.1989926677521, "experiment_id": "0ca68f474651454fadb7afed60429c6a", "timestamp": 1556357261, "episodes_this_iter": 47, "done": false, "date": "2019-04-27_09-27-41"}
{"time_since_restore": 1416.0582008361816, "timesteps_total": 4468999, "custom_metrics": {"outflow_rate_max": 1150.8647774134047, "outflow_rate_mean": 1038.823594655843, "cost2_mean": -90.37025200618564, "cost2_min": -122.15074005684764, "cost1_max": 369.98109015776924, "system_level_velocity_max": 13.955050500499196, "outflow_rate_min": 899.8110684710472, "cost1_min": 253.13059245937825, "cost1_mean": 316.29606713532604, "system_level_velocity_mean": 12.033486701076699, "cost2_max": -65.882655352518, "system_level_velocity_min": 9.855081435961145}, "time_this_iter_s": 35.73617696762085, "num_metric_batches_dropped": 0, "iterations_since_restore": 37, "node_ip": "10.138.0.2", "pid": 57990, "hostname": "flow-main", "info": {"sample_time_ms": 14014.166, "grad_time_ms": 22393.656, "load_time_ms": 10.849, "update_time_ms": 11.289, "num_steps_sampled": 4468999, "num_steps_trained": 4468999, "default": {"entropy": 1.073123812675476, "vf_explained_var": 0.6850501894950867, "kl": 0.009468439035117626, "cur_lr": 0.0005000000237487257, "policy_loss": -0.0006241893279366195, "vf_loss": 28.778169631958008, "cur_kl_coeff": 0.012500002980232239, "total_loss": 28.777664184570312}}, "episode_reward_max": 969.7906633747583, "episode_len_mean": 700.0, "episode_reward_mean": 902.3587823071898, "config": {"kl_coeff": 0.2, "output": null, "vf_share_layers": false, "num_sgd_iter": 10, "horizon": 1500, "tf_session_args": {"allow_soft_placement": true, "intra_op_parallelism_threads": 2, "gpu_options": {"allow_growth": true}, "device_count": {"CPU": 1}, "log_device_placement": false, "inter_op_parallelism_threads": 2}, "entropy_coeff": 0.0, "optimizer": {}, "num_gpus_per_worker": 0, "output_compress_columns": ["obs", "new_obs"], "straggler_mitigation": false, "batch_mode": "truncate_episodes", "env_config": {"flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"eta1\": 1.0,\n            \"eta2\": 0.3,\n            \"eta3\": 0.5,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 1.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnvOutFlowRew\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 600,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}", "run": "PPO"}, "monitor": false, "observation_filter": "NoFilter", "num_envs_per_worker": 1, "lambda": 0.97, "sgd_minibatch_size": 128, "clip_rewards": null, "env": "MultiWaveAttenuationMergePOEnvOutFlowRew-v0_[eta1, eta2, eta3]:[1.0, 0.1, 0.1]_t_min:5.0", "callbacks": {"on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7ff12dab7198>", "on_sample_end": null, "on_train_result": null, "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7ff12dab7908>", "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7ff12dab7cc0>"}, "num_cpus_per_worker": 1, "vf_clip_param": 1000000.0, "input": "sampler", "clip_param": 0.3, "vf_loss_coeff": 1.0, "collect_metrics_timeout": 180, "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "lr": 0.0005, "num_cpus_for_driver": 1, "input_evaluation": null, "use_gae": true, "sample_async": false, "lr_schedule": null, "multiagent": {"policies_to_train": null, "policy_mapping_fn": null, "policy_graphs": {}}, "output_max_file_size": 67108864, "sample_batch_size": 200, "clip_actions": false, "simple_optimizer": false, "custom_resources_per_worker": {}, "num_workers": 60, "compress_observations": false, "num_gpus": 0, "synchronize_filters": true, "train_batch_size": 90000, "log_level": "INFO", "preprocessor_pref": "deepmind", "model": {"conv_activation": "relu", "conv_filters": null, "dim": 84, "squash_to_range": false, "custom_options": {}, "fcnet_hiddens": [100, 50, 25], "lstm_cell_size": 256, "framestack": true, "lstm_use_prev_action_reward": false, "custom_preprocessor": null, "channel_major": false, "grayscale": false, "free_log_std": false, "use_lstm": false, "max_seq_len": 20, "zero_mean": true, "custom_model": null, "fcnet_activation": "tanh"}, "gamma": 0.99, "kl_target": 0.01}, "policy_reward_mean": {}, "time_total_s": 1416.0582008361816, "training_iteration": 37, "episodes_total": 1840, "timesteps_since_restore": 4468999, "timesteps_this_iter": 119316, "episode_reward_min": 820.1989926677521, "experiment_id": "0ca68f474651454fadb7afed60429c6a", "timestamp": 1556357296, "episodes_this_iter": 48, "done": false, "date": "2019-04-27_09-28-16"}
{"time_since_restore": 1453.4837446212769, "timesteps_total": 4585975, "custom_metrics": {"outflow_rate_max": 1136.1383237352084, "outflow_rate_mean": 1034.981131236224, "cost2_mean": -84.16831952770443, "cost2_min": -116.91318648554207, "cost1_max": 360.06442768500983, "system_level_velocity_max": 13.689164603067683, "outflow_rate_min": 909.9556903005828, "cost1_min": 267.7866128843449, "cost1_mean": 317.9606645075295, "system_level_velocity_mean": 12.121987781816426, "cost2_max": -48.34983192247178, "system_level_velocity_min": 10.251616518342244}, "time_this_iter_s": 37.425543785095215, "num_metric_batches_dropped": 0, "iterations_since_restore": 38, "node_ip": "10.138.0.2", "pid": 57990, "hostname": "flow-main", "info": {"sample_time_ms": 14086.607, "grad_time_ms": 22599.536, "load_time_ms": 10.981, "update_time_ms": 11.261, "num_steps_sampled": 4585975, "num_steps_trained": 4585975, "default": {"entropy": 1.0465102195739746, "vf_explained_var": 0.7040405869483948, "kl": 0.011017946526408195, "cur_lr": 0.0005000000237487257, "policy_loss": -0.0014526091981679201, "vf_loss": 30.137100219726562, "cur_kl_coeff": 0.01250000111758709, "total_loss": 30.135784149169922}}, "episode_reward_max": 988.4959838929511, "episode_len_mean": 700.0, "episode_reward_mean": 899.4116843780101, "config": {"kl_coeff": 0.2, "output": null, "vf_share_layers": false, "num_sgd_iter": 10, "horizon": 1500, "tf_session_args": {"allow_soft_placement": true, "intra_op_parallelism_threads": 2, "gpu_options": {"allow_growth": true}, "device_count": {"CPU": 1}, "log_device_placement": false, "inter_op_parallelism_threads": 2}, "entropy_coeff": 0.0, "optimizer": {}, "num_gpus_per_worker": 0, "output_compress_columns": ["obs", "new_obs"], "straggler_mitigation": false, "batch_mode": "truncate_episodes", "env_config": {"flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"eta1\": 1.0,\n            \"eta2\": 0.3,\n            \"eta3\": 0.5,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 1.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnvOutFlowRew\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 600,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}", "run": "PPO"}, "monitor": false, "observation_filter": "NoFilter", "num_envs_per_worker": 1, "lambda": 0.97, "sgd_minibatch_size": 128, "clip_rewards": null, "env": "MultiWaveAttenuationMergePOEnvOutFlowRew-v0_[eta1, eta2, eta3]:[1.0, 0.1, 0.1]_t_min:5.0", "callbacks": {"on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7ff12da9c358>", "on_sample_end": null, "on_train_result": null, "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7ff12da9cb00>", "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7ff12da9c710>"}, "num_cpus_per_worker": 1, "vf_clip_param": 1000000.0, "input": "sampler", "clip_param": 0.3, "vf_loss_coeff": 1.0, "collect_metrics_timeout": 180, "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "lr": 0.0005, "num_cpus_for_driver": 1, "input_evaluation": null, "use_gae": true, "sample_async": false, "lr_schedule": null, "multiagent": {"policies_to_train": null, "policy_mapping_fn": null, "policy_graphs": {}}, "output_max_file_size": 67108864, "sample_batch_size": 200, "clip_actions": false, "simple_optimizer": false, "custom_resources_per_worker": {}, "num_workers": 60, "compress_observations": false, "num_gpus": 0, "synchronize_filters": true, "train_batch_size": 90000, "log_level": "INFO", "preprocessor_pref": "deepmind", "model": {"conv_activation": "relu", "conv_filters": null, "dim": 84, "squash_to_range": false, "custom_options": {}, "fcnet_hiddens": [100, 50, 25], "lstm_cell_size": 256, "framestack": true, "lstm_use_prev_action_reward": false, "custom_preprocessor": null, "channel_major": false, "grayscale": false, "free_log_std": false, "use_lstm": false, "max_seq_len": 20, "zero_mean": true, "custom_model": null, "fcnet_activation": "tanh"}, "gamma": 0.99, "kl_target": 0.01}, "policy_reward_mean": {}, "time_total_s": 1453.4837446212769, "training_iteration": 38, "episodes_total": 1893, "timesteps_since_restore": 4585975, "timesteps_this_iter": 116976, "episode_reward_min": 808.5989932420962, "experiment_id": "0ca68f474651454fadb7afed60429c6a", "timestamp": 1556357334, "episodes_this_iter": 53, "done": false, "date": "2019-04-27_09-28-54"}
{"time_since_restore": 1489.6234123706818, "timesteps_total": 4700575, "custom_metrics": {"outflow_rate_max": 1185.9947441296185, "outflow_rate_mean": 1046.12291215589, "cost2_mean": -72.53364622689521, "cost2_min": -110.8910017558164, "cost1_max": 426.1951180771915, "system_level_velocity_max": 15.898388324454562, "outflow_rate_min": 909.9556903005828, "cost1_min": 267.7866128843449, "cost1_mean": 328.3599520308274, "system_level_velocity_mean": 12.505223455619259, "cost2_max": -43.60660555573824, "system_level_velocity_min": 10.251616518342244}, "time_this_iter_s": 36.13966774940491, "num_metric_batches_dropped": 0, "iterations_since_restore": 39, "node_ip": "10.138.0.2", "pid": 57990, "hostname": "flow-main", "info": {"sample_time_ms": 14029.348, "grad_time_ms": 22432.779, "load_time_ms": 10.93, "update_time_ms": 11.201, "num_steps_sampled": 4700575, "num_steps_trained": 4700575, "default": {"entropy": 1.0528031587600708, "vf_explained_var": 0.6889777183532715, "kl": 0.010867644101381302, "cur_lr": 0.0005000000237487257, "policy_loss": -0.0007255338714458048, "vf_loss": 32.41714096069336, "cur_kl_coeff": 0.012500002048909664, "total_loss": 32.41655349731445}}, "episode_reward_max": 1103.7190311527559, "episode_len_mean": 700.0, "episode_reward_mean": 908.798769838544, "config": {"kl_coeff": 0.2, "output": null, "vf_share_layers": false, "num_sgd_iter": 10, "horizon": 1500, "tf_session_args": {"allow_soft_placement": true, "intra_op_parallelism_threads": 2, "gpu_options": {"allow_growth": true}, "device_count": {"CPU": 1}, "log_device_placement": false, "inter_op_parallelism_threads": 2}, "entropy_coeff": 0.0, "optimizer": {}, "num_gpus_per_worker": 0, "output_compress_columns": ["obs", "new_obs"], "straggler_mitigation": false, "batch_mode": "truncate_episodes", "env_config": {"flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"eta1\": 1.0,\n            \"eta2\": 0.3,\n            \"eta3\": 0.5,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 1.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnvOutFlowRew\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 600,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}", "run": "PPO"}, "monitor": false, "observation_filter": "NoFilter", "num_envs_per_worker": 1, "lambda": 0.97, "sgd_minibatch_size": 128, "clip_rewards": null, "env": "MultiWaveAttenuationMergePOEnvOutFlowRew-v0_[eta1, eta2, eta3]:[1.0, 0.1, 0.1]_t_min:5.0", "callbacks": {"on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7ff12dab75f8>", "on_sample_end": null, "on_train_result": null, "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7ff12dab7400>", "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7ff12dab7828>"}, "num_cpus_per_worker": 1, "vf_clip_param": 1000000.0, "input": "sampler", "clip_param": 0.3, "vf_loss_coeff": 1.0, "collect_metrics_timeout": 180, "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "lr": 0.0005, "num_cpus_for_driver": 1, "input_evaluation": null, "use_gae": true, "sample_async": false, "lr_schedule": null, "multiagent": {"policies_to_train": null, "policy_mapping_fn": null, "policy_graphs": {}}, "output_max_file_size": 67108864, "sample_batch_size": 200, "clip_actions": false, "simple_optimizer": false, "custom_resources_per_worker": {}, "num_workers": 60, "compress_observations": false, "num_gpus": 0, "synchronize_filters": true, "train_batch_size": 90000, "log_level": "INFO", "preprocessor_pref": "deepmind", "model": {"conv_activation": "relu", "conv_filters": null, "dim": 84, "squash_to_range": false, "custom_options": {}, "fcnet_hiddens": [100, 50, 25], "lstm_cell_size": 256, "framestack": true, "lstm_use_prev_action_reward": false, "custom_preprocessor": null, "channel_major": false, "grayscale": false, "free_log_std": false, "use_lstm": false, "max_seq_len": 20, "zero_mean": true, "custom_model": null, "fcnet_activation": "tanh"}, "gamma": 0.99, "kl_target": 0.01}, "policy_reward_mean": {}, "time_total_s": 1489.6234123706818, "training_iteration": 39, "episodes_total": 1951, "timesteps_since_restore": 4700575, "timesteps_this_iter": 114600, "episode_reward_min": 808.5989932420962, "experiment_id": "0ca68f474651454fadb7afed60429c6a", "timestamp": 1556357370, "episodes_this_iter": 58, "done": false, "date": "2019-04-27_09-29-30"}
{"time_since_restore": 1526.4654371738434, "timesteps_total": 4816443, "custom_metrics": {"outflow_rate_max": 1185.9947441296185, "outflow_rate_mean": 1050.3155768837962, "cost2_mean": -70.25093794057535, "cost2_min": -95.64188028759065, "cost1_max": 426.1951180771915, "system_level_velocity_max": 15.898388324454562, "outflow_rate_min": 924.415648316471, "cost1_min": 280.2423993629874, "cost1_mean": 332.4934988535507, "system_level_velocity_mean": 12.652385638177616, "cost2_max": -43.60660555573824, "system_level_velocity_min": 10.752253793744}, "time_this_iter_s": 36.84202480316162, "num_metric_batches_dropped": 0, "iterations_since_restore": 40, "node_ip": "10.138.0.2", "pid": 57990, "hostname": "flow-main", "info": {"sample_time_ms": 14024.702, "grad_time_ms": 22374.458, "load_time_ms": 10.912, "update_time_ms": 11.191, "num_steps_sampled": 4816443, "num_steps_trained": 4816443, "default": {"entropy": 1.0525130033493042, "vf_explained_var": 0.6824623942375183, "kl": 0.011331488378345966, "cur_lr": 0.0005000000237487257, "policy_loss": -0.001344646792858839, "vf_loss": 32.31242370605469, "cur_kl_coeff": 0.012500002048909664, "total_loss": 32.31121826171875}}, "episode_reward_max": 1103.7190311527559, "episode_len_mean": 700.0, "episode_reward_mean": 912.7460909739999, "config": {"kl_coeff": 0.2, "output": null, "vf_share_layers": false, "num_sgd_iter": 10, "horizon": 1500, "tf_session_args": {"allow_soft_placement": true, "intra_op_parallelism_threads": 2, "gpu_options": {"allow_growth": true}, "device_count": {"CPU": 1}, "log_device_placement": false, "inter_op_parallelism_threads": 2}, "entropy_coeff": 0.0, "optimizer": {}, "num_gpus_per_worker": 0, "output_compress_columns": ["obs", "new_obs"], "straggler_mitigation": false, "batch_mode": "truncate_episodes", "env_config": {"flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"eta1\": 1.0,\n            \"eta2\": 0.3,\n            \"eta3\": 0.5,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 1.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnvOutFlowRew\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 600,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}", "run": "PPO"}, "monitor": false, "observation_filter": "NoFilter", "num_envs_per_worker": 1, "lambda": 0.97, "sgd_minibatch_size": 128, "clip_rewards": null, "env": "MultiWaveAttenuationMergePOEnvOutFlowRew-v0_[eta1, eta2, eta3]:[1.0, 0.1, 0.1]_t_min:5.0", "callbacks": {"on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7ff12da9c908>", "on_sample_end": null, "on_train_result": null, "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7ff12da9c358>", "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7ff12da9c7f0>"}, "num_cpus_per_worker": 1, "vf_clip_param": 1000000.0, "input": "sampler", "clip_param": 0.3, "vf_loss_coeff": 1.0, "collect_metrics_timeout": 180, "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "lr": 0.0005, "num_cpus_for_driver": 1, "input_evaluation": null, "use_gae": true, "sample_async": false, "lr_schedule": null, "multiagent": {"policies_to_train": null, "policy_mapping_fn": null, "policy_graphs": {}}, "output_max_file_size": 67108864, "sample_batch_size": 200, "clip_actions": false, "simple_optimizer": false, "custom_resources_per_worker": {}, "num_workers": 60, "compress_observations": false, "num_gpus": 0, "synchronize_filters": true, "train_batch_size": 90000, "log_level": "INFO", "preprocessor_pref": "deepmind", "model": {"conv_activation": "relu", "conv_filters": null, "dim": 84, "squash_to_range": false, "custom_options": {}, "fcnet_hiddens": [100, 50, 25], "lstm_cell_size": 256, "framestack": true, "lstm_use_prev_action_reward": false, "custom_preprocessor": null, "channel_major": false, "grayscale": false, "free_log_std": false, "use_lstm": false, "max_seq_len": 20, "zero_mean": true, "custom_model": null, "fcnet_activation": "tanh"}, "gamma": 0.99, "kl_target": 0.01}, "policy_reward_mean": {}, "time_total_s": 1526.4654371738434, "training_iteration": 40, "episodes_total": 2006, "timesteps_since_restore": 4816443, "timesteps_this_iter": 115868, "episode_reward_min": 797.9419566171355, "experiment_id": "0ca68f474651454fadb7afed60429c6a", "timestamp": 1556357407, "episodes_this_iter": 55, "done": false, "date": "2019-04-27_09-30-07"}
{"time_since_restore": 1559.5847685337067, "timesteps_total": 4931262, "custom_metrics": {"outflow_rate_max": 1171.8135492810998, "outflow_rate_mean": 1045.166772559432, "cost2_mean": -72.58713974203631, "cost2_min": -95.64188028759065, "cost1_max": 419.7398384317137, "system_level_velocity_max": 15.695374361880246, "outflow_rate_min": 924.415648316471, "cost1_min": 274.5237439920619, "cost1_mean": 329.049082638774, "system_level_velocity_mean": 12.54310195392835, "cost2_max": -50.03120519659314, "system_level_velocity_min": 10.474470406031894}, "time_this_iter_s": 33.11933135986328, "num_metric_batches_dropped": 0, "iterations_since_restore": 41, "node_ip": "10.138.0.2", "pid": 57990, "hostname": "flow-main", "info": {"sample_time_ms": 13998.325, "grad_time_ms": 21818.632, "load_time_ms": 10.796, "update_time_ms": 11.155, "num_steps_sampled": 4931262, "num_steps_trained": 4931262, "default": {"entropy": 1.025762677192688, "vf_explained_var": 0.7270273566246033, "kl": 0.010459533892571926, "cur_lr": 0.0005000000237487257, "policy_loss": -0.0008212298853322864, "vf_loss": 29.130050659179688, "cur_kl_coeff": 0.012500002048909664, "total_loss": 29.129364013671875}}, "episode_reward_max": 1109.8404829526555, "episode_len_mean": 700.0, "episode_reward_mean": 904.9534579882649, "config": {"kl_coeff": 0.2, "output": null, "vf_share_layers": false, "num_sgd_iter": 10, "horizon": 1500, "tf_session_args": {"allow_soft_placement": true, "intra_op_parallelism_threads": 2, "gpu_options": {"allow_growth": true}, "device_count": {"CPU": 1}, "log_device_placement": false, "inter_op_parallelism_threads": 2}, "entropy_coeff": 0.0, "optimizer": {}, "num_gpus_per_worker": 0, "output_compress_columns": ["obs", "new_obs"], "straggler_mitigation": false, "batch_mode": "truncate_episodes", "env_config": {"flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"eta1\": 1.0,\n            \"eta2\": 0.3,\n            \"eta3\": 0.5,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 1.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnvOutFlowRew\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 600,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}", "run": "PPO"}, "monitor": false, "observation_filter": "NoFilter", "num_envs_per_worker": 1, "lambda": 0.97, "sgd_minibatch_size": 128, "clip_rewards": null, "env": "MultiWaveAttenuationMergePOEnvOutFlowRew-v0_[eta1, eta2, eta3]:[1.0, 0.1, 0.1]_t_min:5.0", "callbacks": {"on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7ff12dab7630>", "on_sample_end": null, "on_train_result": null, "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7ff12dab73c8>", "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7ff12dab7978>"}, "num_cpus_per_worker": 1, "vf_clip_param": 1000000.0, "input": "sampler", "clip_param": 0.3, "vf_loss_coeff": 1.0, "collect_metrics_timeout": 180, "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "lr": 0.0005, "num_cpus_for_driver": 1, "input_evaluation": null, "use_gae": true, "sample_async": false, "lr_schedule": null, "multiagent": {"policies_to_train": null, "policy_mapping_fn": null, "policy_graphs": {}}, "output_max_file_size": 67108864, "sample_batch_size": 200, "clip_actions": false, "simple_optimizer": false, "custom_resources_per_worker": {}, "num_workers": 60, "compress_observations": false, "num_gpus": 0, "synchronize_filters": true, "train_batch_size": 90000, "log_level": "INFO", "preprocessor_pref": "deepmind", "model": {"conv_activation": "relu", "conv_filters": null, "dim": 84, "squash_to_range": false, "custom_options": {}, "fcnet_hiddens": [100, 50, 25], "lstm_cell_size": 256, "framestack": true, "lstm_use_prev_action_reward": false, "custom_preprocessor": null, "channel_major": false, "grayscale": false, "free_log_std": false, "use_lstm": false, "max_seq_len": 20, "zero_mean": true, "custom_model": null, "fcnet_activation": "tanh"}, "gamma": 0.99, "kl_target": 0.01}, "policy_reward_mean": {}, "time_total_s": 1559.5847685337067, "training_iteration": 41, "episodes_total": 2053, "timesteps_since_restore": 4931262, "timesteps_this_iter": 114819, "episode_reward_min": 797.9419566171355, "experiment_id": "0ca68f474651454fadb7afed60429c6a", "timestamp": 1556357440, "episodes_this_iter": 47, "done": false, "date": "2019-04-27_09-30-40"}
{"time_since_restore": 1597.4495968818665, "timesteps_total": 5049173, "custom_metrics": {"outflow_rate_max": 1172.6240006489568, "outflow_rate_mean": 1052.7203678432984, "cost2_mean": -73.1731329377781, "cost2_min": -96.80320198939063, "cost1_max": 419.7398384317137, "system_level_velocity_max": 15.695374361880246, "outflow_rate_min": 905.8885249845619, "cost1_min": 274.5237439920619, "cost1_mean": 331.67929884866186, "system_level_velocity_mean": 12.646188447442253, "cost2_max": -46.60888113983033, "system_level_velocity_min": 10.474470406031894}, "time_this_iter_s": 37.86482834815979, "num_metric_batches_dropped": 0, "iterations_since_restore": 42, "node_ip": "10.138.0.2", "pid": 57990, "hostname": "flow-main", "info": {"sample_time_ms": 14074.39, "grad_time_ms": 21752.79, "load_time_ms": 10.604, "update_time_ms": 11.035, "num_steps_sampled": 5049173, "num_steps_trained": 5049173, "default": {"entropy": 1.0345368385314941, "vf_explained_var": 0.7331979274749756, "kl": 0.009846066124737263, "cur_lr": 0.0005000000237487257, "policy_loss": -0.0007433126447722316, "vf_loss": 28.604997634887695, "cur_kl_coeff": 0.012500002048909664, "total_loss": 28.604373931884766}}, "episode_reward_max": 1109.8404829526555, "episode_len_mean": 700.0, "episode_reward_mean": 905.6675062885063, "config": {"kl_coeff": 0.2, "output": null, "vf_share_layers": false, "num_sgd_iter": 10, "horizon": 1500, "tf_session_args": {"allow_soft_placement": true, "intra_op_parallelism_threads": 2, "gpu_options": {"allow_growth": true}, "device_count": {"CPU": 1}, "log_device_placement": false, "inter_op_parallelism_threads": 2}, "entropy_coeff": 0.0, "optimizer": {}, "num_gpus_per_worker": 0, "output_compress_columns": ["obs", "new_obs"], "straggler_mitigation": false, "batch_mode": "truncate_episodes", "env_config": {"flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"eta1\": 1.0,\n            \"eta2\": 0.3,\n            \"eta3\": 0.5,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 1.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnvOutFlowRew\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 600,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}", "run": "PPO"}, "monitor": false, "observation_filter": "NoFilter", "num_envs_per_worker": 1, "lambda": 0.97, "sgd_minibatch_size": 128, "clip_rewards": null, "env": "MultiWaveAttenuationMergePOEnvOutFlowRew-v0_[eta1, eta2, eta3]:[1.0, 0.1, 0.1]_t_min:5.0", "callbacks": {"on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7ff12da9cb00>", "on_sample_end": null, "on_train_result": null, "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7ff12da9c908>", "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7ff12da9cd68>"}, "num_cpus_per_worker": 1, "vf_clip_param": 1000000.0, "input": "sampler", "clip_param": 0.3, "vf_loss_coeff": 1.0, "collect_metrics_timeout": 180, "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "lr": 0.0005, "num_cpus_for_driver": 1, "input_evaluation": null, "use_gae": true, "sample_async": false, "lr_schedule": null, "multiagent": {"policies_to_train": null, "policy_mapping_fn": null, "policy_graphs": {}}, "output_max_file_size": 67108864, "sample_batch_size": 200, "clip_actions": false, "simple_optimizer": false, "custom_resources_per_worker": {}, "num_workers": 60, "compress_observations": false, "num_gpus": 0, "synchronize_filters": true, "train_batch_size": 90000, "log_level": "INFO", "preprocessor_pref": "deepmind", "model": {"conv_activation": "relu", "conv_filters": null, "dim": 84, "squash_to_range": false, "custom_options": {}, "fcnet_hiddens": [100, 50, 25], "lstm_cell_size": 256, "framestack": true, "lstm_use_prev_action_reward": false, "custom_preprocessor": null, "channel_major": false, "grayscale": false, "free_log_std": false, "use_lstm": false, "max_seq_len": 20, "zero_mean": true, "custom_model": null, "fcnet_activation": "tanh"}, "gamma": 0.99, "kl_target": 0.01}, "policy_reward_mean": {}, "time_total_s": 1597.4495968818665, "training_iteration": 42, "episodes_total": 2103, "timesteps_since_restore": 5049173, "timesteps_this_iter": 117911, "episode_reward_min": 810.6107146201725, "experiment_id": "0ca68f474651454fadb7afed60429c6a", "timestamp": 1556357478, "episodes_this_iter": 50, "done": false, "date": "2019-04-27_09-31-18"}
{"time_since_restore": 1635.3329863548279, "timesteps_total": 5168359, "custom_metrics": {"outflow_rate_max": 1172.6240006489568, "outflow_rate_mean": 1053.7661083254336, "cost2_mean": -76.61780162828042, "cost2_min": -108.95351653852205, "cost1_max": 392.8122915805746, "system_level_velocity_max": 14.68329328738653, "outflow_rate_min": 905.8885249845619, "cost1_min": 260.3727997224518, "cost1_mean": 329.8634488511211, "system_level_velocity_mean": 12.582096721746666, "cost2_max": -46.60888113983033, "system_level_velocity_min": 10.045164191698351}, "time_this_iter_s": 37.883389472961426, "num_metric_batches_dropped": 0, "iterations_since_restore": 43, "node_ip": "10.138.0.2", "pid": 57990, "hostname": "flow-main", "info": {"sample_time_ms": 14082.318, "grad_time_ms": 22028.808, "load_time_ms": 10.655, "update_time_ms": 11.252, "num_steps_sampled": 5168359, "num_steps_trained": 5168359, "default": {"entropy": 1.0357248783111572, "vf_explained_var": 0.7104148268699646, "kl": 0.010668898932635784, "cur_lr": 0.0005000000237487257, "policy_loss": -0.0009384198929183185, "vf_loss": 31.335121154785156, "cur_kl_coeff": 0.012500002980232239, "total_loss": 31.33431625366211}}, "episode_reward_max": 1044.1882713564007, "episode_len_mean": 700.0, "episode_reward_mean": 905.0113137483647, "config": {"kl_coeff": 0.2, "output": null, "vf_share_layers": false, "num_sgd_iter": 10, "horizon": 1500, "tf_session_args": {"allow_soft_placement": true, "intra_op_parallelism_threads": 2, "gpu_options": {"allow_growth": true}, "device_count": {"CPU": 1}, "log_device_placement": false, "inter_op_parallelism_threads": 2}, "entropy_coeff": 0.0, "optimizer": {}, "num_gpus_per_worker": 0, "output_compress_columns": ["obs", "new_obs"], "straggler_mitigation": false, "batch_mode": "truncate_episodes", "env_config": {"flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"eta1\": 1.0,\n            \"eta2\": 0.3,\n            \"eta3\": 0.5,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 1.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnvOutFlowRew\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 600,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}", "run": "PPO"}, "monitor": false, "observation_filter": "NoFilter", "num_envs_per_worker": 1, "lambda": 0.97, "sgd_minibatch_size": 128, "clip_rewards": null, "env": "MultiWaveAttenuationMergePOEnvOutFlowRew-v0_[eta1, eta2, eta3]:[1.0, 0.1, 0.1]_t_min:5.0", "callbacks": {"on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7ff12dab7908>", "on_sample_end": null, "on_train_result": null, "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7ff12dab7ba8>", "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7ff12dab7be0>"}, "num_cpus_per_worker": 1, "vf_clip_param": 1000000.0, "input": "sampler", "clip_param": 0.3, "vf_loss_coeff": 1.0, "collect_metrics_timeout": 180, "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "lr": 0.0005, "num_cpus_for_driver": 1, "input_evaluation": null, "use_gae": true, "sample_async": false, "lr_schedule": null, "multiagent": {"policies_to_train": null, "policy_mapping_fn": null, "policy_graphs": {}}, "output_max_file_size": 67108864, "sample_batch_size": 200, "clip_actions": false, "simple_optimizer": false, "custom_resources_per_worker": {}, "num_workers": 60, "compress_observations": false, "num_gpus": 0, "synchronize_filters": true, "train_batch_size": 90000, "log_level": "INFO", "preprocessor_pref": "deepmind", "model": {"conv_activation": "relu", "conv_filters": null, "dim": 84, "squash_to_range": false, "custom_options": {}, "fcnet_hiddens": [100, 50, 25], "lstm_cell_size": 256, "framestack": true, "lstm_use_prev_action_reward": false, "custom_preprocessor": null, "channel_major": false, "grayscale": false, "free_log_std": false, "use_lstm": false, "max_seq_len": 20, "zero_mean": true, "custom_model": null, "fcnet_activation": "tanh"}, "gamma": 0.99, "kl_target": 0.01}, "policy_reward_mean": {}, "time_total_s": 1635.3329863548279, "training_iteration": 43, "episodes_total": 2153, "timesteps_since_restore": 5168359, "timesteps_this_iter": 119186, "episode_reward_min": 810.6107146201725, "experiment_id": "0ca68f474651454fadb7afed60429c6a", "timestamp": 1556357516, "episodes_this_iter": 50, "done": false, "date": "2019-04-27_09-31-56"}
{"time_since_restore": 1673.2603130340576, "timesteps_total": 5287492, "custom_metrics": {"outflow_rate_max": 1208.9524930356847, "outflow_rate_mean": 1046.5756144621437, "cost2_mean": -85.44625831259114, "cost2_min": -115.93389757537184, "cost1_max": 403.7725655034958, "system_level_velocity_max": 15.196050034119342, "outflow_rate_min": 928.970625122345, "cost1_min": 260.3727997224518, "cost1_mean": 322.0273270614992, "system_level_velocity_mean": 12.316956217575205, "cost2_max": -55.6118835101309, "system_level_velocity_min": 10.045164191698351}, "time_this_iter_s": 37.927326679229736, "num_metric_batches_dropped": 0, "iterations_since_restore": 44, "node_ip": "10.138.0.2", "pid": 57990, "hostname": "flow-main", "info": {"sample_time_ms": 14222.27, "grad_time_ms": 22183.214, "load_time_ms": 10.28, "update_time_ms": 11.228, "num_steps_sampled": 5287492, "num_steps_trained": 5287492, "default": {"entropy": 1.033190369606018, "vf_explained_var": 0.705093502998352, "kl": 0.010145838372409344, "cur_lr": 0.0005000000237487257, "policy_loss": -0.001559646101668477, "vf_loss": 33.152870178222656, "cur_kl_coeff": 0.012500002048909664, "total_loss": 33.15143585205078}}, "episode_reward_max": 1016.2712510995534, "episode_len_mean": 700.0, "episode_reward_mean": 898.6433757278984, "config": {"kl_coeff": 0.2, "output": null, "vf_share_layers": false, "num_sgd_iter": 10, "horizon": 1500, "tf_session_args": {"allow_soft_placement": true, "intra_op_parallelism_threads": 2, "gpu_options": {"allow_growth": true}, "device_count": {"CPU": 1}, "log_device_placement": false, "inter_op_parallelism_threads": 2}, "entropy_coeff": 0.0, "optimizer": {}, "num_gpus_per_worker": 0, "output_compress_columns": ["obs", "new_obs"], "straggler_mitigation": false, "batch_mode": "truncate_episodes", "env_config": {"flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"eta1\": 1.0,\n            \"eta2\": 0.3,\n            \"eta3\": 0.5,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 1.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnvOutFlowRew\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 600,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}", "run": "PPO"}, "monitor": false, "observation_filter": "NoFilter", "num_envs_per_worker": 1, "lambda": 0.97, "sgd_minibatch_size": 128, "clip_rewards": null, "env": "MultiWaveAttenuationMergePOEnvOutFlowRew-v0_[eta1, eta2, eta3]:[1.0, 0.1, 0.1]_t_min:5.0", "callbacks": {"on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7ff12da9c358>", "on_sample_end": null, "on_train_result": null, "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7ff12da9c710>", "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7ff12da9c160>"}, "num_cpus_per_worker": 1, "vf_clip_param": 1000000.0, "input": "sampler", "clip_param": 0.3, "vf_loss_coeff": 1.0, "collect_metrics_timeout": 180, "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "lr": 0.0005, "num_cpus_for_driver": 1, "input_evaluation": null, "use_gae": true, "sample_async": false, "lr_schedule": null, "multiagent": {"policies_to_train": null, "policy_mapping_fn": null, "policy_graphs": {}}, "output_max_file_size": 67108864, "sample_batch_size": 200, "clip_actions": false, "simple_optimizer": false, "custom_resources_per_worker": {}, "num_workers": 60, "compress_observations": false, "num_gpus": 0, "synchronize_filters": true, "train_batch_size": 90000, "log_level": "INFO", "preprocessor_pref": "deepmind", "model": {"conv_activation": "relu", "conv_filters": null, "dim": 84, "squash_to_range": false, "custom_options": {}, "fcnet_hiddens": [100, 50, 25], "lstm_cell_size": 256, "framestack": true, "lstm_use_prev_action_reward": false, "custom_preprocessor": null, "channel_major": false, "grayscale": false, "free_log_std": false, "use_lstm": false, "max_seq_len": 20, "zero_mean": true, "custom_model": null, "fcnet_activation": "tanh"}, "gamma": 0.99, "kl_target": 0.01}, "policy_reward_mean": {}, "time_total_s": 1673.2603130340576, "training_iteration": 44, "episodes_total": 2201, "timesteps_since_restore": 5287492, "timesteps_this_iter": 119133, "episode_reward_min": 818.9896604949164, "experiment_id": "0ca68f474651454fadb7afed60429c6a", "timestamp": 1556357554, "episodes_this_iter": 48, "done": false, "date": "2019-04-27_09-32-34"}
{"time_since_restore": 1708.4027125835419, "timesteps_total": 5405318, "custom_metrics": {"outflow_rate_max": 1227.4165929168043, "outflow_rate_mean": 1050.8967924166648, "cost2_mean": -93.84775091976228, "cost2_min": -116.28866833722374, "cost1_max": 403.7725655034958, "system_level_velocity_max": 15.196050034119342, "outflow_rate_min": 930.1396576715562, "cost1_min": 268.1049708877084, "cost1_mean": 320.7810793419207, "system_level_velocity_mean": 12.287013761420075, "cost2_max": -61.99554355136553, "system_level_velocity_min": 10.448861940739043}, "time_this_iter_s": 35.14239954948425, "num_metric_batches_dropped": 0, "iterations_since_restore": 45, "node_ip": "10.138.0.2", "pid": 57990, "hostname": "flow-main", "info": {"sample_time_ms": 14227.349, "grad_time_ms": 22075.245, "load_time_ms": 10.272, "update_time_ms": 11.386, "num_steps_sampled": 5405318, "num_steps_trained": 5405318, "default": {"entropy": 1.0327123403549194, "vf_explained_var": 0.6817492246627808, "kl": 0.01119894441217184, "cur_lr": 0.0005000000237487257, "policy_loss": -0.0011889651650562882, "vf_loss": 35.5802116394043, "cur_kl_coeff": 0.012500002048909664, "total_loss": 35.57916259765625}}, "episode_reward_max": 1020.9435094506557, "episode_len_mean": 700.0, "episode_reward_mean": 901.3009605110774, "config": {"kl_coeff": 0.2, "output": null, "vf_share_layers": false, "num_sgd_iter": 10, "horizon": 1500, "tf_session_args": {"allow_soft_placement": true, "intra_op_parallelism_threads": 2, "gpu_options": {"allow_growth": true}, "device_count": {"CPU": 1}, "log_device_placement": false, "inter_op_parallelism_threads": 2}, "entropy_coeff": 0.0, "optimizer": {}, "num_gpus_per_worker": 0, "output_compress_columns": ["obs", "new_obs"], "straggler_mitigation": false, "batch_mode": "truncate_episodes", "env_config": {"flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"eta1\": 1.0,\n            \"eta2\": 0.3,\n            \"eta3\": 0.5,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 1.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnvOutFlowRew\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 600,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}", "run": "PPO"}, "monitor": false, "observation_filter": "NoFilter", "num_envs_per_worker": 1, "lambda": 0.97, "sgd_minibatch_size": 128, "clip_rewards": null, "env": "MultiWaveAttenuationMergePOEnvOutFlowRew-v0_[eta1, eta2, eta3]:[1.0, 0.1, 0.1]_t_min:5.0", "callbacks": {"on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7ff12dab7128>", "on_sample_end": null, "on_train_result": null, "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7ff12dab7710>", "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7ff12dab7518>"}, "num_cpus_per_worker": 1, "vf_clip_param": 1000000.0, "input": "sampler", "clip_param": 0.3, "vf_loss_coeff": 1.0, "collect_metrics_timeout": 180, "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "lr": 0.0005, "num_cpus_for_driver": 1, "input_evaluation": null, "use_gae": true, "sample_async": false, "lr_schedule": null, "multiagent": {"policies_to_train": null, "policy_mapping_fn": null, "policy_graphs": {}}, "output_max_file_size": 67108864, "sample_batch_size": 200, "clip_actions": false, "simple_optimizer": false, "custom_resources_per_worker": {}, "num_workers": 60, "compress_observations": false, "num_gpus": 0, "synchronize_filters": true, "train_batch_size": 90000, "log_level": "INFO", "preprocessor_pref": "deepmind", "model": {"conv_activation": "relu", "conv_filters": null, "dim": 84, "squash_to_range": false, "custom_options": {}, "fcnet_hiddens": [100, 50, 25], "lstm_cell_size": 256, "framestack": true, "lstm_use_prev_action_reward": false, "custom_preprocessor": null, "channel_major": false, "grayscale": false, "free_log_std": false, "use_lstm": false, "max_seq_len": 20, "zero_mean": true, "custom_model": null, "fcnet_activation": "tanh"}, "gamma": 0.99, "kl_target": 0.01}, "policy_reward_mean": {}, "time_total_s": 1708.4027125835419, "training_iteration": 45, "episodes_total": 2254, "timesteps_since_restore": 5405318, "timesteps_this_iter": 117826, "episode_reward_min": 823.6804784775699, "experiment_id": "0ca68f474651454fadb7afed60429c6a", "timestamp": 1556357589, "episodes_this_iter": 53, "done": false, "date": "2019-04-27_09-33-09"}
{"time_since_restore": 1745.5898954868317, "timesteps_total": 5524385, "custom_metrics": {"outflow_rate_max": 1183.9026069194285, "outflow_rate_mean": 1035.9472582903209, "cost2_mean": -97.83723809068599, "cost2_min": -122.97015431916267, "cost1_max": 378.793039881666, "system_level_velocity_max": 17.495201008668026, "outflow_rate_min": 483.6968729047029, "cost1_min": 26.71322702541443, "cost1_mean": 312.08191722152975, "system_level_velocity_mean": 12.124641515198016, "cost2_max": -11.845799178545125, "system_level_velocity_min": 10.406269594662465}, "time_this_iter_s": 37.187182903289795, "num_metric_batches_dropped": 0, "iterations_since_restore": 46, "node_ip": "10.138.0.2", "pid": 57990, "hostname": "flow-main", "info": {"sample_time_ms": 14347.677, "grad_time_ms": 21944.302, "load_time_ms": 10.02, "update_time_ms": 11.361, "num_steps_sampled": 5524385, "num_steps_trained": 5524385, "default": {"entropy": 1.0360616445541382, "vf_explained_var": 0.6764047145843506, "kl": 0.011712840758264065, "cur_lr": 0.0005000000237487257, "policy_loss": -0.0011407008860260248, "vf_loss": 36.44793701171875, "cur_kl_coeff": 0.012500002048909664, "total_loss": 36.44694137573242}}, "episode_reward_max": 997.1014753063135, "episode_len_mean": 693.42, "episode_reward_mean": 884.8627105161544, "config": {"kl_coeff": 0.2, "output": null, "vf_share_layers": false, "num_sgd_iter": 10, "horizon": 1500, "tf_session_args": {"allow_soft_placement": true, "intra_op_parallelism_threads": 2, "gpu_options": {"allow_growth": true}, "device_count": {"CPU": 1}, "log_device_placement": false, "inter_op_parallelism_threads": 2}, "entropy_coeff": 0.0, "optimizer": {}, "num_gpus_per_worker": 0, "output_compress_columns": ["obs", "new_obs"], "straggler_mitigation": false, "batch_mode": "truncate_episodes", "env_config": {"flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"eta1\": 1.0,\n            \"eta2\": 0.3,\n            \"eta3\": 0.5,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 1.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnvOutFlowRew\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 600,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}", "run": "PPO"}, "monitor": false, "observation_filter": "NoFilter", "num_envs_per_worker": 1, "lambda": 0.97, "sgd_minibatch_size": 128, "clip_rewards": null, "env": "MultiWaveAttenuationMergePOEnvOutFlowRew-v0_[eta1, eta2, eta3]:[1.0, 0.1, 0.1]_t_min:5.0", "callbacks": {"on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7ff12da9c4a8>", "on_sample_end": null, "on_train_result": null, "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7ff12da9c3c8>", "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7ff12da9c908>"}, "num_cpus_per_worker": 1, "vf_clip_param": 1000000.0, "input": "sampler", "clip_param": 0.3, "vf_loss_coeff": 1.0, "collect_metrics_timeout": 180, "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "lr": 0.0005, "num_cpus_for_driver": 1, "input_evaluation": null, "use_gae": true, "sample_async": false, "lr_schedule": null, "multiagent": {"policies_to_train": null, "policy_mapping_fn": null, "policy_graphs": {}}, "output_max_file_size": 67108864, "sample_batch_size": 200, "clip_actions": false, "simple_optimizer": false, "custom_resources_per_worker": {}, "num_workers": 60, "compress_observations": false, "num_gpus": 0, "synchronize_filters": true, "train_batch_size": 90000, "log_level": "INFO", "preprocessor_pref": "deepmind", "model": {"conv_activation": "relu", "conv_filters": null, "dim": 84, "squash_to_range": false, "custom_options": {}, "fcnet_hiddens": [100, 50, 25], "lstm_cell_size": 256, "framestack": true, "lstm_use_prev_action_reward": false, "custom_preprocessor": null, "channel_major": false, "grayscale": false, "free_log_std": false, "use_lstm": false, "max_seq_len": 20, "zero_mean": true, "custom_model": null, "fcnet_activation": "tanh"}, "gamma": 0.99, "kl_target": 0.01}, "policy_reward_mean": {}, "time_total_s": 1745.5898954868317, "training_iteration": 46, "episodes_total": 2309, "timesteps_since_restore": 5524385, "timesteps_this_iter": 119067, "episode_reward_min": 64.51102940620176, "experiment_id": "0ca68f474651454fadb7afed60429c6a", "timestamp": 1556357626, "episodes_this_iter": 55, "done": false, "date": "2019-04-27_09-33-46"}
{"time_since_restore": 1782.7672457695007, "timesteps_total": 5644083, "custom_metrics": {"outflow_rate_max": 1171.4581536747212, "outflow_rate_mean": 1036.3235161654222, "cost2_mean": -100.36061936041155, "cost2_min": -124.46748192100685, "cost1_max": 377.3321391140276, "system_level_velocity_max": 17.495201008668026, "outflow_rate_min": 483.6968729047029, "cost1_min": 26.71322702541443, "cost1_mean": 310.7736403215659, "system_level_velocity_mean": 12.063583725155286, "cost2_max": -11.845799178545125, "system_level_velocity_min": 10.406269594662465}, "time_this_iter_s": 37.17735028266907, "num_metric_batches_dropped": 0, "iterations_since_restore": 47, "node_ip": "10.138.0.2", "pid": 57990, "hostname": "flow-main", "info": {"sample_time_ms": 14417.929, "grad_time_ms": 22021.057, "load_time_ms": 9.926, "update_time_ms": 11.17, "num_steps_sampled": 5644083, "num_steps_trained": 5644083, "default": {"entropy": 1.0458656549453735, "vf_explained_var": 0.6936591267585754, "kl": 0.010566250421106815, "cur_lr": 0.0005000000237487257, "policy_loss": -0.0008473984780721366, "vf_loss": 33.824462890625, "cur_kl_coeff": 0.012500002048909664, "total_loss": 33.82374954223633}}, "episode_reward_max": 975.6867001413652, "episode_len_mean": 693.42, "episode_reward_mean": 880.1884023965551, "config": {"kl_coeff": 0.2, "output": null, "vf_share_layers": false, "num_sgd_iter": 10, "horizon": 1500, "tf_session_args": {"allow_soft_placement": true, "intra_op_parallelism_threads": 2, "gpu_options": {"allow_growth": true}, "device_count": {"CPU": 1}, "log_device_placement": false, "inter_op_parallelism_threads": 2}, "entropy_coeff": 0.0, "optimizer": {}, "num_gpus_per_worker": 0, "output_compress_columns": ["obs", "new_obs"], "straggler_mitigation": false, "batch_mode": "truncate_episodes", "env_config": {"flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"eta1\": 1.0,\n            \"eta2\": 0.3,\n            \"eta3\": 0.5,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 1.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnvOutFlowRew\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 600,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}", "run": "PPO"}, "monitor": false, "observation_filter": "NoFilter", "num_envs_per_worker": 1, "lambda": 0.97, "sgd_minibatch_size": 128, "clip_rewards": null, "env": "MultiWaveAttenuationMergePOEnvOutFlowRew-v0_[eta1, eta2, eta3]:[1.0, 0.1, 0.1]_t_min:5.0", "callbacks": {"on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7ff12dab7f28>", "on_sample_end": null, "on_train_result": null, "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7ff12dab7588>", "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7ff12dab7550>"}, "num_cpus_per_worker": 1, "vf_clip_param": 1000000.0, "input": "sampler", "clip_param": 0.3, "vf_loss_coeff": 1.0, "collect_metrics_timeout": 180, "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "lr": 0.0005, "num_cpus_for_driver": 1, "input_evaluation": null, "use_gae": true, "sample_async": false, "lr_schedule": null, "multiagent": {"policies_to_train": null, "policy_mapping_fn": null, "policy_graphs": {}}, "output_max_file_size": 67108864, "sample_batch_size": 200, "clip_actions": false, "simple_optimizer": false, "custom_resources_per_worker": {}, "num_workers": 60, "compress_observations": false, "num_gpus": 0, "synchronize_filters": true, "train_batch_size": 90000, "log_level": "INFO", "preprocessor_pref": "deepmind", "model": {"conv_activation": "relu", "conv_filters": null, "dim": 84, "squash_to_range": false, "custom_options": {}, "fcnet_hiddens": [100, 50, 25], "lstm_cell_size": 256, "framestack": true, "lstm_use_prev_action_reward": false, "custom_preprocessor": null, "channel_major": false, "grayscale": false, "free_log_std": false, "use_lstm": false, "max_seq_len": 20, "zero_mean": true, "custom_model": null, "fcnet_activation": "tanh"}, "gamma": 0.99, "kl_target": 0.01}, "policy_reward_mean": {}, "time_total_s": 1782.7672457695007, "training_iteration": 47, "episodes_total": 2362, "timesteps_since_restore": 5644083, "timesteps_this_iter": 119698, "episode_reward_min": 64.51102940620176, "experiment_id": "0ca68f474651454fadb7afed60429c6a", "timestamp": 1556357663, "episodes_this_iter": 53, "done": false, "date": "2019-04-27_09-34-23"}
{"time_since_restore": 1820.9500541687012, "timesteps_total": 5763015, "custom_metrics": {"outflow_rate_max": 1154.5754567887964, "outflow_rate_mean": 1037.895913078161, "cost2_mean": -100.9582885735978, "cost2_min": -124.46748192100685, "cost1_max": 365.32908011263316, "system_level_velocity_max": 18.267384657073478, "outflow_rate_min": 460.7989278777953, "cost1_min": 22.904451730844176, "cost1_mean": 310.39084361744773, "system_level_velocity_mean": 12.045570898169169, "cost2_max": -18.048788409440867, "system_level_velocity_min": 10.32850372033261}, "time_this_iter_s": 38.18280839920044, "num_metric_batches_dropped": 0, "iterations_since_restore": 48, "node_ip": "10.138.0.2", "pid": 57990, "hostname": "flow-main", "info": {"sample_time_ms": 14357.641, "grad_time_ms": 22158.183, "load_time_ms": 9.979, "update_time_ms": 11.217, "num_steps_sampled": 5763015, "num_steps_trained": 5763015, "default": {"entropy": 1.035658836364746, "vf_explained_var": 0.7196235060691833, "kl": 0.008966157212853432, "cur_lr": 0.0005000000237487257, "policy_loss": -0.0007465530070476234, "vf_loss": 31.477828979492188, "cur_kl_coeff": 0.012500002048909664, "total_loss": 31.47719383239746}}, "episode_reward_max": 975.6867001413652, "episode_len_mean": 693.35, "episode_reward_mean": 880.2323499349067, "config": {"kl_coeff": 0.2, "output": null, "vf_share_layers": false, "num_sgd_iter": 10, "horizon": 1500, "tf_session_args": {"allow_soft_placement": true, "intra_op_parallelism_threads": 2, "gpu_options": {"allow_growth": true}, "device_count": {"CPU": 1}, "log_device_placement": false, "inter_op_parallelism_threads": 2}, "entropy_coeff": 0.0, "optimizer": {}, "num_gpus_per_worker": 0, "output_compress_columns": ["obs", "new_obs"], "straggler_mitigation": false, "batch_mode": "truncate_episodes", "env_config": {"flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"eta1\": 1.0,\n            \"eta2\": 0.3,\n            \"eta3\": 0.5,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 1.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnvOutFlowRew\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 600,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}", "run": "PPO"}, "monitor": false, "observation_filter": "NoFilter", "num_envs_per_worker": 1, "lambda": 0.97, "sgd_minibatch_size": 128, "clip_rewards": null, "env": "MultiWaveAttenuationMergePOEnvOutFlowRew-v0_[eta1, eta2, eta3]:[1.0, 0.1, 0.1]_t_min:5.0", "callbacks": {"on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7ff12da9c8d0>", "on_sample_end": null, "on_train_result": null, "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7ff12da9c860>", "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7ff12da9cb00>"}, "num_cpus_per_worker": 1, "vf_clip_param": 1000000.0, "input": "sampler", "clip_param": 0.3, "vf_loss_coeff": 1.0, "collect_metrics_timeout": 180, "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "lr": 0.0005, "num_cpus_for_driver": 1, "input_evaluation": null, "use_gae": true, "sample_async": false, "lr_schedule": null, "multiagent": {"policies_to_train": null, "policy_mapping_fn": null, "policy_graphs": {}}, "output_max_file_size": 67108864, "sample_batch_size": 200, "clip_actions": false, "simple_optimizer": false, "custom_resources_per_worker": {}, "num_workers": 60, "compress_observations": false, "num_gpus": 0, "synchronize_filters": true, "train_batch_size": 90000, "log_level": "INFO", "preprocessor_pref": "deepmind", "model": {"conv_activation": "relu", "conv_filters": null, "dim": 84, "squash_to_range": false, "custom_options": {}, "fcnet_hiddens": [100, 50, 25], "lstm_cell_size": 256, "framestack": true, "lstm_use_prev_action_reward": false, "custom_preprocessor": null, "channel_major": false, "grayscale": false, "free_log_std": false, "use_lstm": false, "max_seq_len": 20, "zero_mean": true, "custom_model": null, "fcnet_activation": "tanh"}, "gamma": 0.99, "kl_target": 0.01}, "policy_reward_mean": {}, "time_total_s": 1820.9500541687012, "training_iteration": 48, "episodes_total": 2407, "timesteps_since_restore": 5763015, "timesteps_this_iter": 118932, "episode_reward_min": 52.166566012564054, "experiment_id": "0ca68f474651454fadb7afed60429c6a", "timestamp": 1556357701, "episodes_this_iter": 45, "done": false, "date": "2019-04-27_09-35-01"}
{"time_since_restore": 1857.7379927635193, "timesteps_total": 5881791, "custom_metrics": {"outflow_rate_max": 1196.2790172563662, "outflow_rate_mean": 1038.1612060558455, "cost2_mean": -100.02362550374781, "cost2_min": -121.5351921276589, "cost1_max": 379.58068435837316, "system_level_velocity_max": 18.267384657073478, "outflow_rate_min": 460.7989278777953, "cost1_min": 18.008571210150134, "cost1_mean": 308.7824318705041, "system_level_velocity_mean": 12.164968406946342, "cost2_max": -13.533492652699932, "system_level_velocity_min": 10.32850372033261}, "time_this_iter_s": 36.787938594818115, "num_metric_batches_dropped": 0, "iterations_since_restore": 49, "node_ip": "10.138.0.2", "pid": 57990, "hostname": "flow-main", "info": {"sample_time_ms": 14398.916, "grad_time_ms": 22181.282, "load_time_ms": 9.996, "update_time_ms": 11.311, "num_steps_sampled": 5881791, "num_steps_trained": 5881791, "default": {"entropy": 1.030850887298584, "vf_explained_var": 0.7080151438713074, "kl": 0.010952374897897243, "cur_lr": 0.0005000000237487257, "policy_loss": -0.0013455064035952091, "vf_loss": 34.403011322021484, "cur_kl_coeff": 0.012500002048909664, "total_loss": 34.40180206298828}}, "episode_reward_max": 981.6850944768734, "episode_len_mean": 686.62, "episode_reward_mean": 871.429866987373, "config": {"kl_coeff": 0.2, "output": null, "vf_share_layers": false, "num_sgd_iter": 10, "horizon": 1500, "tf_session_args": {"allow_soft_placement": true, "intra_op_parallelism_threads": 2, "gpu_options": {"allow_growth": true}, "device_count": {"CPU": 1}, "log_device_placement": false, "inter_op_parallelism_threads": 2}, "entropy_coeff": 0.0, "optimizer": {}, "num_gpus_per_worker": 0, "output_compress_columns": ["obs", "new_obs"], "straggler_mitigation": false, "batch_mode": "truncate_episodes", "env_config": {"flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"eta1\": 1.0,\n            \"eta2\": 0.3,\n            \"eta3\": 0.5,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 1.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnvOutFlowRew\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 600,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}", "run": "PPO"}, "monitor": false, "observation_filter": "NoFilter", "num_envs_per_worker": 1, "lambda": 0.97, "sgd_minibatch_size": 128, "clip_rewards": null, "env": "MultiWaveAttenuationMergePOEnvOutFlowRew-v0_[eta1, eta2, eta3]:[1.0, 0.1, 0.1]_t_min:5.0", "callbacks": {"on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7ff12dab7048>", "on_sample_end": null, "on_train_result": null, "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7ff12dab7438>", "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7ff12dab7550>"}, "num_cpus_per_worker": 1, "vf_clip_param": 1000000.0, "input": "sampler", "clip_param": 0.3, "vf_loss_coeff": 1.0, "collect_metrics_timeout": 180, "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "lr": 0.0005, "num_cpus_for_driver": 1, "input_evaluation": null, "use_gae": true, "sample_async": false, "lr_schedule": null, "multiagent": {"policies_to_train": null, "policy_mapping_fn": null, "policy_graphs": {}}, "output_max_file_size": 67108864, "sample_batch_size": 200, "clip_actions": false, "simple_optimizer": false, "custom_resources_per_worker": {}, "num_workers": 60, "compress_observations": false, "num_gpus": 0, "synchronize_filters": true, "train_batch_size": 90000, "log_level": "INFO", "preprocessor_pref": "deepmind", "model": {"conv_activation": "relu", "conv_filters": null, "dim": 84, "squash_to_range": false, "custom_options": {}, "fcnet_hiddens": [100, 50, 25], "lstm_cell_size": 256, "framestack": true, "lstm_use_prev_action_reward": false, "custom_preprocessor": null, "channel_major": false, "grayscale": false, "free_log_std": false, "use_lstm": false, "max_seq_len": 20, "zero_mean": true, "custom_model": null, "fcnet_activation": "tanh"}, "gamma": 0.99, "kl_target": 0.01}, "policy_reward_mean": {}, "time_total_s": 1857.7379927635193, "training_iteration": 49, "episodes_total": 2456, "timesteps_since_restore": 5881791, "timesteps_this_iter": 118776, "episode_reward_min": 39.408538401043344, "experiment_id": "0ca68f474651454fadb7afed60429c6a", "timestamp": 1556357738, "episodes_this_iter": 49, "done": false, "date": "2019-04-27_09-35-38"}
{"time_since_restore": 1896.5211553573608, "timesteps_total": 6001159, "custom_metrics": {"outflow_rate_max": 1225.1057608039803, "outflow_rate_mean": 1055.0709603513499, "cost2_mean": -98.57703854294084, "cost2_min": -119.81915987094723, "cost1_max": 391.0902796982663, "system_level_velocity_max": 17.818866328963242, "outflow_rate_min": 489.92492200470633, "cost1_min": 18.008571210150134, "cost1_mean": 317.2959295182334, "system_level_velocity_mean": 12.329964410496489, "cost2_max": -13.533492652699932, "system_level_velocity_min": 10.011873015828158}, "time_this_iter_s": 38.78316259384155, "num_metric_batches_dropped": 0, "iterations_since_restore": 50, "node_ip": "10.138.0.2", "pid": 57990, "hostname": "flow-main", "info": {"sample_time_ms": 14553.911, "grad_time_ms": 22217.137, "load_time_ms": 10.071, "update_time_ms": 11.347, "num_steps_sampled": 6001159, "num_steps_trained": 6001159, "default": {"entropy": 1.028752326965332, "vf_explained_var": 0.6658861041069031, "kl": 0.01320531964302063, "cur_lr": 0.0005000000237487257, "policy_loss": -0.0014181408332660794, "vf_loss": 41.69451904296875, "cur_kl_coeff": 0.012500002980232239, "total_loss": 41.693267822265625}}, "episode_reward_max": 1013.2300319695394, "episode_len_mean": 693.27, "episode_reward_mean": 885.3255147427931, "config": {"kl_coeff": 0.2, "output": null, "vf_share_layers": false, "num_sgd_iter": 10, "horizon": 1500, "tf_session_args": {"allow_soft_placement": true, "intra_op_parallelism_threads": 2, "gpu_options": {"allow_growth": true}, "device_count": {"CPU": 1}, "log_device_placement": false, "inter_op_parallelism_threads": 2}, "entropy_coeff": 0.0, "optimizer": {}, "num_gpus_per_worker": 0, "output_compress_columns": ["obs", "new_obs"], "straggler_mitigation": false, "batch_mode": "truncate_episodes", "env_config": {"flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"eta1\": 1.0,\n            \"eta2\": 0.3,\n            \"eta3\": 0.5,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 1.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnvOutFlowRew\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 600,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}", "run": "PPO"}, "monitor": false, "observation_filter": "NoFilter", "num_envs_per_worker": 1, "lambda": 0.97, "sgd_minibatch_size": 128, "clip_rewards": null, "env": "MultiWaveAttenuationMergePOEnvOutFlowRew-v0_[eta1, eta2, eta3]:[1.0, 0.1, 0.1]_t_min:5.0", "callbacks": {"on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7ff12da9c518>", "on_sample_end": null, "on_train_result": null, "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7ff12da9cba8>", "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7ff12da9c358>"}, "num_cpus_per_worker": 1, "vf_clip_param": 1000000.0, "input": "sampler", "clip_param": 0.3, "vf_loss_coeff": 1.0, "collect_metrics_timeout": 180, "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "lr": 0.0005, "num_cpus_for_driver": 1, "input_evaluation": null, "use_gae": true, "sample_async": false, "lr_schedule": null, "multiagent": {"policies_to_train": null, "policy_mapping_fn": null, "policy_graphs": {}}, "output_max_file_size": 67108864, "sample_batch_size": 200, "clip_actions": false, "simple_optimizer": false, "custom_resources_per_worker": {}, "num_workers": 60, "compress_observations": false, "num_gpus": 0, "synchronize_filters": true, "train_batch_size": 90000, "log_level": "INFO", "preprocessor_pref": "deepmind", "model": {"conv_activation": "relu", "conv_filters": null, "dim": 84, "squash_to_range": false, "custom_options": {}, "fcnet_hiddens": [100, 50, 25], "lstm_cell_size": 256, "framestack": true, "lstm_use_prev_action_reward": false, "custom_preprocessor": null, "channel_major": false, "grayscale": false, "free_log_std": false, "use_lstm": false, "max_seq_len": 20, "zero_mean": true, "custom_model": null, "fcnet_activation": "tanh"}, "gamma": 0.99, "kl_target": 0.01}, "policy_reward_mean": {}, "time_total_s": 1896.5211553573608, "training_iteration": 50, "episodes_total": 2514, "timesteps_since_restore": 6001159, "timesteps_this_iter": 119368, "episode_reward_min": 39.408538401043344, "experiment_id": "0ca68f474651454fadb7afed60429c6a", "timestamp": 1556357777, "episodes_this_iter": 58, "done": true, "date": "2019-04-27_09-36-17"}
